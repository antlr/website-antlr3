From lfastrup at yahoo.com  Mon Jul  1 09:23:34 2002
From: lfastrup at yahoo.com (lfastrup)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Problems getting ANTLR lexer to distinguish ML comments from JavaDoc comments
Message-ID: <afpvm6+ss2a@eGroups.com>

Hi,

I writing a small Java parser using ANTLR 2.7.1. I have based it on
the java.g for the Java 1.3 grammer. But I also need to parse all
JavaDoc comments. But I hit a wall when trying to get the JavaLexer to
skip normal multiline (/* ... */) comments but not JavaDoc comments 
(/** .... */). Here is an excerpt from my java.g file where I have 
tried to implement this separation:

ML_COMMENT
  :
    "/*" ~'*'
    ( // see comments on NEWLINE
      options {
        generateAmbigWarnings=false;
      }
    :
      { LA(2)!='/' }? '*'
    | NEWLINE
    | ~('*'|'\n'|'\r')
    )*
    "*/"
    { $setType(Token.SKIP); }
  ;*/

JAVADOC_OPEN
  : "/**" { Main.selector.push("doclexer"); }
  ;

It compiles ok, but when I run it I get the following error message:

Exception in thread "main" java.lang.ClassFormatError: JavaLexer (Code
of a method longer than 65535 bytes)

Do you know this bug or just a smarter way to solve my problem in the
lexer?

Cheers
Lars Fastrup



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From development at hunsicker.de  Mon Jul  1 12:13:22 2002
From: development at hunsicker.de (Marco Hunsicker)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Problems getting ANTLR lexer to distinguish ML comments from JavaDoc comments
Message-ID: <200207011915.VAA03800@post.webmailer.de>

>It compiles ok, but when I run it I get the following error message:
>
>Exception in thread "main" java.lang.ClassFormatError: JavaLexer (Code
>of a method longer than 65535 bytes)
>
>Do you know this bug or just a smarter way to solve my problem in the
>lexer?

This problem is fixed with ANTLR 2.7.2a1 or later. It's more a problem
of the JRE because of some huge static blocks generated by ANTLR.

BTW, I'm currently developing yet another Java Source Code Formatter
and already implemented a Javadoc parser. It's heavily based upon the
HTML 3.2 grammar that ships with ANTLR and works quite good albite not
the way you outline in your mail (I don't use multi-plexing). Anyway,
if you want to download the sources and take a look, visit
http://jalopy.sf.net/download.html

Cheers,
Marco




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From johnclarke at hotmail.com  Tue Jul  2 13:04:08 2002
From: johnclarke at hotmail.com (johnclarke72)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] A question about Tokens
Message-ID: <aft0vo+5k6o@eGroups.com>

In my Lexer I create a token using my own custom Token Class.  This 
class has some custom methods in it (eg getAttributes - returns a 
Hashtable).  However I don't know how to access these methods from my 
parser.

How can I access methods from a custom Token Class in my parser ?

I would be grateful for all advice offered.

John


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From merrells at sleepycat.com  Tue Jul  2 15:29:08 2002
From: merrells at sleepycat.com (John Merrells)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] XPath - identifiers are keywords
Message-ID: <3D222934.30104@sleepycat.com>


This is probably simple, but I've failed to find an explicit answer
in the documentation or the FAQ. I have a language (XPath) and
it has some keywords that can also be identifiers. How do I set
up my lexer rules for this? The identifier is called NCNAME and
is defined thus:

k=2;

NCNAME
 : (LETTER|'_') (NCNAMECHAR)*
 ;

protected
NCNAMECHAR: LETTER|'0'..'9'|'.'|'-'|'_';

protected
LETTER: ('a'..'z'|'A'..'Z');

The keyword is 'comment', and when it's a keyword it is always
followed by '(' ')'. So I tried just adding...

COMMENT: "comment()";

But that's ambiguous, so I tried adding a lexer rule to disambiguate
between them, but I either got that wrong, or it didn't work. Should
I increase k to be length("comment()")? That seems like overkill.
I'm sure there's something obvious that I'm missing here...

John


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From bob at werken.com  Tue Jul  2 15:35:20 2002
From: bob at werken.com (bob mcwhirter)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] XPath - identifiers are keywords
In-Reply-To: <3D222934.30104@sleepycat.com>
Message-ID: <Pine.LNX.3.96.1020702183400.25858A-100000@exeter.exeter.org>


You might be interested at my first shot of XPath using antlr

	http://code.werken.com/

Look for werken.xpath

Specifically, the lexer and parser are here:

	http://code.werken.com/werken.xpath/src/com/werken/xpath/parser/

I managed to make it work, but there's certainly ugliness in
it.  I ended up punting for version 2, by using a completely
hand-rolled lexer/parser combination:

	http://jaxen.org/

-bob

On Tue, 2 Jul 2002, John Merrells wrote:

> 
> This is probably simple, but I've failed to find an explicit answer
> in the documentation or the FAQ. I have a language (XPath) and
> it has some keywords that can also be identifiers. How do I set
> up my lexer rules for this? The identifier is called NCNAME and
> is defined thus:
> 
> k=2;
> 
> NCNAME
>  : (LETTER|'_') (NCNAMECHAR)*
>  ;
> 
> protected
> NCNAMECHAR: LETTER|'0'..'9'|'.'|'-'|'_';
> 
> protected
> LETTER: ('a'..'z'|'A'..'Z');
> 
> The keyword is 'comment', and when it's a keyword it is always
> followed by '(' ')'. So I tried just adding...
> 
> COMMENT: "comment()";
> 
> But that's ambiguous, so I tried adding a lexer rule to disambiguate
> between them, but I either got that wrong, or it didn't work. Should
> I increase k to be length("comment()")? That seems like overkill.
> I'm sure there's something obvious that I'm missing here...
> 
> John
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 

--
Bob McWhirter        bob@werken.com
The Werken Company   http://werken.com/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Tue Jul  2 20:23:27 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] A question about Tokens
In-Reply-To: <aft0vo+5k6o@eGroups.com>
Message-ID: <3D3CA4B6-8E34-11D6-9258-0030653DE0D6@jguru.com>


On Tuesday, July 2, 2002, at 01:04  PM, johnclarke72 wrote:

> In my Lexer I create a token using my own custom Token Class.  This
> class has some custom methods in it (eg getAttributes - returns a
> Hashtable).  However I don't know how to access these methods from my
> parser.
>
> How can I access methods from a custom Token Class in my parser ?

label a token reference and then probably have to cast it to your token 
object then just access like normal method call.

rule : label:A {((MyToken)label).myMethod();} ;

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Wed Jul  3 06:40:58 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] XPath - identifiers are keywords
Message-ID: <170826586F3BD511910D0200C110AAA8032B4A6B@memail03.bco-home.com>

This is actually a difficult problem.  See
http://www.jguru.com/faq/view.jsp?EID=140.  If there aren't too many of the
keywords that can be identifiers then you can handle it in the parser by
getting rid of your COMMENT rule and testing for it in your parser.  Instead
of testing for NCNAME, you would have a rule ncname, e.g.

ncname: NCNAME | "comment";

Then where you have ambiguities you disambiguate with a syntactic predicate:

whatever:
	("comment" LPAREN RPAREN)=> commentRule
	| NCNAME
	;

You could also set up a middle stage parser to handle your approach of
making "comment()" into COMMENT LPAREN RPAREN but leaving "comment" as
NCNAME.  See http://www.codetransform.com/filterexample.html.  But then you
have to be sure that you will never see comment() in a place where you could
see NCNAME.  In other words, will "comment()" ALWAYS be COMMENT LPAREN
RPAREN?

Also, bob at werken.com has done an XPATH parser, not sure if it is in ANTLR
or not but he knows his ANTLR well so if not then there's a reason.
http://jaxen.org/faq.html

Monty


> -----Original Message-----
> From: John Merrells [mailto:merrells@sleepycat.com]
> Sent: Tuesday, July 02, 2002 3:29 PM
> To: antlr-interest
> Subject: [antlr-interest] XPath - identifiers are keywords
> 
> 
> 
> This is probably simple, but I've failed to find an explicit answer
> in the documentation or the FAQ. I have a language (XPath) and
> it has some keywords that can also be identifiers. How do I set
> up my lexer rules for this? The identifier is called NCNAME and
> is defined thus:
> 
> k=2;
> 
> NCNAME
>  : (LETTER|'_') (NCNAMECHAR)*
>  ;
> 
> protected
> NCNAMECHAR: LETTER|'0'..'9'|'.'|'-'|'_';
> 
> protected
> LETTER: ('a'..'z'|'A'..'Z');
> 
> The keyword is 'comment', and when it's a keyword it is always
> followed by '(' ')'. So I tried just adding...
> 
> COMMENT: "comment()";
> 
> But that's ambiguous, so I tried adding a lexer rule to disambiguate
> between them, but I either got that wrong, or it didn't work. Should
> I increase k to be length("comment()")? That seems like overkill.
> I'm sure there's something obvious that I'm missing here...
> 
> John
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From bob at werken.com  Wed Jul  3 07:06:56 2002
From: bob at werken.com (bob mcwhirter)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] XPath - identifiers are keywords
In-Reply-To: <170826586F3BD511910D0200C110AAA8032B4A6B@memail03.bco-home.com>
Message-ID: <Pine.LNX.3.96.1020703100211.32192D-100000@exeter.exeter.org>

On Wed, 3 Jul 2002 mzukowski@yci.com wrote:

> This is actually a difficult problem.  See
> http://www.jguru.com/faq/view.jsp?EID=140.  If there aren't too many of the
> keywords that can be identifiers then you can handle it in the parser by
> getting rid of your COMMENT rule and testing for it in your parser.  Instead
> of testing for NCNAME, you would have a rule ncname, e.g.

XPath is particularly nefarious, but not just with regards to keywords.

	foo()

That's either a node-type-test, if 'foo' is equal to 'comment' or
'node', but it might be a function (possibly user-defined) otherwise.
You also have to be able to deal with:

	foo:bar()

I think I ended up with a parser rule that have 5 predicates to decide
exactly what was going on, to determine if 'foo' was a node-type name,
a namespace-prefix, or possibly a user-function.

I hate to say it, but I found it easier to write an XPath lexer/parser
by hand than to convince an antlr grammar to do the right thing.

	<plug type="shameless">

	If you're just trying to parse xpaths, might I recommend 
	taking a look at SAXPath (http://saxpath.org/), which provides
	the xpath parse-events in a style like SAX does for XML,
	if you're using Java.  Though, I think SAXPath has been
	ported to Python, and maybe C++?

	</plug>

-bob


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From merrells at sleepycat.com  Wed Jul  3 14:13:12 2002
From: merrells at sleepycat.com (merrells)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: XPath - identifiers are keywords
In-Reply-To: <Pine.LNX.3.96.1020702183400.25858A-100000@exeter.exeter.org>
Message-ID: <afvpd8+u655@eGroups.com>

--- In antlr-interest@y..., bob mcwhirter <bob@w...> wrote:
> 
> You might be interested at my first shot of XPath using antlr
> 
> 	http://code.werken.com/
> 
	http://code.werken.com/werken.xpath/src/com/werken/xpath/pars
er/

Thanks Bob. That's very useful. I see that you have
the parser check if the ID is really one of the 
keywords... It's a shame that the lexer can't just
look ahead to see if there's an LB there.

John


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From merrells at sleepycat.com  Wed Jul  3 14:18:11 2002
From: merrells at sleepycat.com (merrells)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: XPath - identifiers are keywords
In-Reply-To: <170826586F3BD511910D0200C110AAA8032B4A6B@memail03.bco-home.com>
Message-ID: <afvpmj+t9r2@eGroups.com>

--- In antlr-interest@y..., mzukowski@y... wrote:
> This is actually a difficult problem.  See
> http://www.jguru.com/faq/view.jsp?EID=140.  

Yeah, I saw that, but it looked horridly complex :-(

> If there aren't too many of the
> keywords that can be identifiers then you can handle it in the 
parser by
> getting rid of your COMMENT rule and testing for it in your 
parser.  Instead
> of testing for NCNAME, you would have a rule ncname, e.g.
> 
> ncname: NCNAME | "comment";
> 
> Then where you have ambiguities you disambiguate with a syntactic 
predicate:
> 
> whatever:
> 	("comment" LPAREN RPAREN)=> commentRule
> 	| NCNAME
> 	;

This is pretty much what Bob did in his Antlr grammar
for XPath. 

I think I'll have a crack at that, but i'm worried that
it's going to mess up the parser rules I have in place
at the moment.
 
John


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From merrells at sleepycat.com  Wed Jul  3 14:21:29 2002
From: merrells at sleepycat.com (merrells)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: XPath - identifiers are keywords
In-Reply-To: <Pine.LNX.3.96.1020703100211.32192D-100000@exeter.exeter.org>
Message-ID: <afvpsp+qt7s@eGroups.com>


>If you're just trying to parse xpaths, might I recommend 
>taking a look at SAXPath (http://saxpath.org/), which provides
>the xpath parse-events in a style like SAX does for XML,
>if you're using Java.  Though, I think SAXPath has been
>ported to Python, and maybe C++?

That's cool, but I am using C++. 
Do you have details of a C++ port
of SAXPath...?

John


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From bob at werken.com  Wed Jul  3 15:20:44 2002
From: bob at werken.com (bob mcwhirter)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: XPath - identifiers are keywords
In-Reply-To: <afvpsp+qt7s@eGroups.com>
Message-ID: <Pine.LNX.3.96.1020703181815.32192J-100000@exeter.exeter.org>


> That's cool, but I am using C++. 
> Do you have details of a C++ port
> of SAXPath...?

Ya know, I'm not turning up anything at this point...

It should be fairly trivial to do an C++ port of the Java SAXPath.
You may also be rewarded by asking on the saxpath-users list.

For a very reasonable fee, I could probably be convinced to dust
of gcc and give it a whirl. ;)

	-bob


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From brian-l-smith at uiowa.edu  Sun Jul  7 21:37:28 2002
From: brian-l-smith at uiowa.edu (Brian Smith)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Best way to match tokens one at a time?
Message-ID: <3D291708.2010003@uiowa.edu>

I have developed a tool for reading in textual descriptions of software 
models into a repository. My tool can also serialize the contents of the 
repository back into the textual notation.

I have already built the parser for the language using ANTLR. Now, I 
would like to reuse the lexer during the serialization phase.

For example, I have two types of identifier tokens:

UNQUOTED_NAME
         :   ('A'..'Z' | 'a'..'z')
             ('A'..'Z' | 'a'..'z' | '0'..'9' | '_' | '.')*
         ;

QUOTED_NAME: '"'! (~('"'))* '"'!
         ;

When generating code, I can always use the quoted form. But, the 
generated code is much easier to read if I use the unqoted form whenever 
possible. So, I would like to ask the lexer if an identifier can be left 
unquoted, by saying something like "dear lexer, does this string 
(instance of java.lang.String) match the lexer rule UNQOTED_NAME?".

I want to do this on a token-by-token basis and it needs to be pretty 
fast. What is the best way to go about doing this?

Thanks,
Brian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From s.piree at enneya.com  Sun Jul  7 23:56:40 2002
From: s.piree at enneya.com (Silvain Piree)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] lexer versus parser
References: <3D291708.2010003@uiowa.edu>
Message-ID: <002a01c2264c$c2fbff60$b5892d3e@daemon>

Hi,

the nice thing about ANTLR is that you can build parsers
using the lexer. I've recently built some preprocessors using
ANTLR lexers, and I really liked the result.

Using a lexer-based parser is a lot more powerful than using
a separate lexer which passes tokens to a parser. Many issues
that are difficult to solve in lexer+parser solutions are easily 
solved using lexer-based parsers.

For example:
- keywords as identifier is no problem
- inline data (supported by certain job control languages) can
   be easily skipped (or collected)
- different grammar rules are easy to support (e.g. embedded 
   SQL that may have different rules for matching identifiers)
- it's easy to build partial-parsers, i.e. parsers that skip parts 
   that are not of interest (or not yet supported). 
- etc. etc. etc.

However, despite these many advantages everybody is
building parsers with separate lexers (like I've done myself). 
There must be a very good reason for that! What are the
problems one would encounter when building lexer-based
parsers? Is this concept the same as "scanner-less parsers"?

Silvain




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From pete.forman at westerngeco.com  Mon Jul  8 03:02:50 2002
From: pete.forman at westerngeco.com (pete_forman)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: Constructors
In-Reply-To: <20020610104940.B12709@cs.utwente.nl>
Message-ID: <agbo0a+1n6o@eGroups.com>

--- In antlr-interest@y..., Ric Klaren <klaren@c...> wrote:
> On Sun, Jun 09, 2002 at 09:50:51PM -0000, johnclarke72 wrote:
> > I know how to define extra methods within my grammar but how can I 
> > write my own Constructors within a grammar. Essentially I want to add 
> > two constructors (one that has no parameters and another that has 
> > parameters).
> 
> Just add them:
> 
> header { // headerstuff }
> 
> { // for c++ this goes into the generated .cpp file
> // extra constructor implementation
> MyParser::MyParser( .. .. .. )
> {
> }
> 
> }
> class MyParser extends Parser;
> {
> // for java the implementation goes here as well (i think)
> MyParser( .. .. .. .. );
> 
> }

This fails for me (2.7.1 generating Java).  There already is a
contructor with no arguments in the generated code, so my
constructor gets a duplicate definition error when I compile.

There does not seem to be a way to augment the constructors
generated by ANTLR.  I suppose that I could subclass from the 
generated code.  Another workaround might be to add an init
method but that seems an unnecessary burden on the clients.
-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Mon Jul  8 03:26:16 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: Constructors
In-Reply-To: <agbo0a+1n6o@eGroups.com>; from pete.forman@westerngeco.com on Mon, Jul 08, 2002 at 10:02:50AM -0000
References: <20020610104940.B12709@cs.utwente.nl> <agbo0a+1n6o@eGroups.com>
Message-ID: <20020708122616.Q610@cs.utwente.nl>

Hi,

On Mon, Jul 08, 2002 at 10:02:50AM -0000, pete_forman wrote:
> --- In antlr-interest@y..., Ric Klaren <klaren@c...> wrote:
> > On Sun, Jun 09, 2002 at 09:50:51PM -0000, johnclarke72 wrote:
> > > I know how to define extra methods within my grammar but how can I 
> > > write my own Constructors within a grammar. Essentially I want to add 
> > > two constructors (one that has no parameters and another that has 
> > > parameters).
> > 
> > Just add them:
> > 
> > header { // headerstuff }
> > 
> > { // for c++ this goes into the generated .cpp file
> > // extra constructor implementation
> > MyParser::MyParser( .. .. .. )
> > {
> > }
> > 
> > }
> > class MyParser extends Parser;
> > {
> > // for java the implementation goes here as well (i think)
> > MyParser( .. .. .. .. );
> > 
> > }
> 
> This fails for me (2.7.1 generating Java).  There already is a
> contructor with no arguments in the generated code, so my
> constructor gets a duplicate definition error when I compile.

Adding ones with different parameters than the default ones should work? Or
are you trying to add a new parameter less constructor? For that we would
need an option to suppress the default constructors.. but you are more
likely to run into trouble when upgrading antlr versions.

> There does not seem to be a way to augment the constructors
> generated by ANTLR.  I suppose that I could subclass from the 
> generated code.  Another workaround might be to add an init
> method but that seems an unnecessary burden on the clients.

Subclassing is probably the best option then with 2.7.1. Another options is
to do additional initializations in the first rule of the grammar, maybe
not an option in some situations...

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     Innovation makes enemies of all those who prospered under the old
   regime, and only lukewarm support is forthcoming from those who would
               prosper under the new. --- Niccolò Machiavelli


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From pete.forman at westerngeco.com  Mon Jul  8 05:46:30 2002
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: Constructors
In-Reply-To: <20020708122616.Q610@cs.utwente.nl>
References: <"from pete.forman"@westerngeco.com>
 <20020610104940.B12709@cs.utwente.nl>
 <agbo0a+1n6o@eGroups.com>
Message-ID: <5.1.0.14.2.20020708132507.063b5978@wgmail2.gatwick.eur.slb.com>

At 2002-07-08 12:26 +0200, Ric Klaren wrote:
>Or are you trying to add a new parameter less constructor? For that
>we would need an option to suppress the default constructors.. but
>you are more likely to run into trouble when upgrading antlr
>versions.

Yes.  It might be done by adding an ANTLR specification that
constructors will generate code like this.

public MyParser() {
   antlrMyParser();
}
public void antlrMyParser() {
   ...
}

Then in the .g file the user could write a constructor that included a
call to the ANTLR-generated antlrMyParser().  ANTLR would then have to
recognize constructors (perhaps by an option) and suppress its
generation of them.

But overall I don't think that this complexity is justified.  I've
reorganized my code to avoid this problem.  Another solution would
have been to edit the generated code.

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From lifung18 at hotmail.com  Mon Jul  8 18:30:08 2002
From: lifung18 at hotmail.com (fung li)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Need help on my grammar
Message-ID: <F61cvsq9IcVux1Zcn8T0000016a@hotmail.com>

Hi all,

The following grammar trys to recognize "129 Park Avenue" or "36-129 Park 
Avenue".
When I compiled the following grammar with k=1 in TreeParser section, I got 
an error message:

addr.g:59: warning: nondeterminism upon
addr.g:59:      k==1:NUMBER
addr.g:59:      between alts 1 and 2 of block


However, with k=2, I got:

addr.g:59: warning: nondeterminism upon
addr.g:59:      k==1:NUMBER
addr.g:59:      k==2:NULL_TREE_LOOKAHEAD
addr.g:59:      between alts 1 and 2 of block

In this case, what should I do ?

Thanks in advance.
Ben

--------------------------------------------------
class MyParser extends Parser;
options {
defaultErrorHandler=false;
buildAST=true ;
k = 2;
}

startRule: address_detail
        { System.out.println ( "->>>>> OK" ); };

address_detail : NUMBER^ STREETNAME streettype
                     | NUMBER^ DASH NUMBER STREETNAME streettype
                    ;

streettype: "AVENUE" | "STREET" ;

class MyLexer extends Lexer;
options {
charVocabulary = '\3'..'\377' ;
testLiterals=false ;
}

WS : ( ' ' | '\t' | '\n' | '\r' )
    { $setType(Token.SKIP) ; } ;

COMMA: ','
    { $setType(Token.SKIP) ; } ;

DASH: '-'
   ;

STREETNAME
options {
   testLiterals = true ;
}
: ( 'a'..'z' | 'A'..'Z' )+
;

NUMBER: ( '0'..'9' )+
;

class AddrTreeWalker extends TreeParser;
options {
k = 2 ;
}

myexpr returns [ String r ]
{
  String postr="" ;
  String addrstr="" ;
  r = "" ;
}
  : addrstr=address_detail
  {
      r = "ADDR=" + addrstr ;
  }
  ;

address_detail returns [ String r ]
{
  String stnt ;
  StringBuffer stnameB = new StringBuffer();
  String stno1 = "" ;
  String stno2 = "" ;
  int stncount = 0 ;
  r = "" ;
}
  : #( stno:NUMBER      { stno1 = stno.getText() ; }
        stna:STREETNAME
        stnt=streettype
    )
    {
         r = " stno=" + stno1
                   + ",stna=" + stna.getText()
                   + ",stnt=" + stnt
           ;
    }
   |   #( st2:NUMBER      { stno1 = st2.getText() ; }
        DASH
        st3:NUMBER      { stno2 = st3.getText(); }
        stna2:STREETNAME
       stnt=streettype
    )
    {
         r = " appno=" + stno1
                   + ",stno=" + stno2
                   + ",stna=" + stna2.getText()
                   + ",stnt=" + stnt
           ;
    }



  ;

streettype returns [ String r ]
{
r = "" ;
}
     : "AVENUE"
     | "STREET"
     ;






_________________________________________________________________
MSN Photos is the easiest way to share and print your photos: 
http://photos.msn.com/support/worldwide.aspx


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From corno at dds.nl  Tue Jul  9 06:46:41 2002
From: corno at dds.nl (lognez2000)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Building a tree of objects
Message-ID: <agepg1+h6jb@eGroups.com>

Hi all,

I have to construct a tree of objects in C++ (using the
"Composite" pattern) from an input file with a defined syntax.
Somebody pointed me in the direction of ANTLR.
I worked through a tutorial and skimmed the book but did not find 
what I needed.
Can somebody please explain me if (and if so how) this can be done?
If somebody would even be so kind to post a small example, I would be 
a happy man (at least for the coming days).

Here's a simplified example of what I need:

BAR will be a 'leaf' class with a member varible (string) 
representing a name.
FOO will be a 'composite' base class with an int representing its 
unique identifier and a string that gives a desription.
FOOA and FOOB are both derived from FOO.
FOOA has exactly 1 component, namely a BAR class.
FOOB can have multiple components, both of type FOO or of type BAR.

the rules in BNF could look like this:
DEFINITIONS := FOO*
FOO :=  '{' digit ',' string ',' ( FOOAadditional | 
FOOBadditional ) '}'
FOOAadditional := 'A' ',' BAR
FOOBadditional := 'B' ',' ( BAR | FOO)*
BAR := '{' string '}'

Thanx,

Corno


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From bogdan_mt at yahoo.com  Wed Jul 10 05:08:17 2002
From: bogdan_mt at yahoo.com (Bogdan Mitu)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] "Superclassing" ANTLR parsers
In-Reply-To: <agbo0a+1n6o@eGroups.com>
Message-ID: <20020710120817.20148.qmail@web14802.mail.yahoo.com>

Hi,

Digging in antlr.g I found that is possible to specify a custom superclass
for generated parsers (lexers, tree parsers as well). The syntax is:

class XxxParser extends Parser(MyCustomParserSuperclass);

where MyCustomParserSuperclass should be a class extending antlr.Parser (but
normally one should use antlr.LLkParser).
You get an error message, but it works.

This feature is not documented and seems to be not widely known. There is
currently a thread about adding constructors with no arguments. A custom
superclass where the no-arg constructor call super() first could be a better
solution.

Best regards,
Bogdan


--- pete_forman <pete.forman@westerngeco.com> wrote:
> --- In antlr-interest@y..., Ric Klaren <klaren@c...> wrote:
> > On Sun, Jun 09, 2002 at 09:50:51PM -0000, johnclarke72 wrote:
> > > I know how to define extra methods within my grammar but how can I 
> > > write my own Constructors within a grammar. Essentially I want to add 
> > > two constructors (one that has no parameters and another that has 
> > > parameters).
> > 
> > Just add them:
> > 
> > header { // headerstuff }
> > 
> > { // for c++ this goes into the generated .cpp file
> > // extra constructor implementation
> > MyParser::MyParser( .. .. .. )
> > {
> > }
> > 
> > }
> > class MyParser extends Parser;
> > {
> > // for java the implementation goes here as well (i think)
> > MyParser( .. .. .. .. );
> > 
> > }
> 
> This fails for me (2.7.1 generating Java).  There already is a
> contructor with no arguments in the generated code, so my
> constructor gets a duplicate definition error when I compile.
> 
> There does not seem to be a way to augment the constructors
> generated by ANTLR.  I suppose that I could subclass from the 
> generated code.  Another workaround might be to add an init
> method but that seems an unnecessary burden on the clients.
> -- 
> Pete Forman                -./\.-  Disclaimer: This post is originated
> WesternGeco                  -./\.-   by myself and does not represent
> pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
> http://petef.port5.com           -./\.-   Hughes or their divisions.
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 
> 

__________________________________________________
Do You Yahoo!?
Sign up for SBC Yahoo! Dial - First Month Free
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From hkhidhir at csi.uottawa.ca  Wed Jul 10 14:36:57 2002
From: hkhidhir at csi.uottawa.ca (Khalid Khidhir)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] How to remove from this mailing list?
In-Reply-To: <F61cvsq9IcVux1Zcn8T0000016a@hotmail.com>
Message-ID: <Pine.GSU.4.44.0207101736150.13029-100000@grdb.site.uottawa.ca>

Please help me remove myself from this list.
Khalid

+------------------------------------+
|  Khidhir Khalid                    |
|  Department of Computer Science    |
|  University of Ottawa              |
|  E-mail: hkhidhir@csi.uottawa.ca   |
+------------------------------------+



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From corno at dds.nl  Wed Jul 10 15:04:41 2002
From: corno at dds.nl (lognez2000)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: How to remove from this mailing list?
In-Reply-To: <Pine.GSU.4.44.0207101736150.13029-100000@grdb.site.uottawa.ca>
Message-ID: <agib1p+cmst@eGroups.com>

--- In antlr-interest@y..., Khalid Khidhir <hkhidhir@c...> wrote:
> Please help me remove myself from this list.
> Khalid
> 
look at the bottom of the home page of this group:
http://groups.yahoo.com/group/antlr-interest/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From kordeul at hotmail.com  Sun Jul 14 00:54:53 2002
From: kordeul at hotmail.com (krd12002)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] C++ access violation
Message-ID: <agraod+dkqk@eGroups.com>

Hi

I'm using ANTLR for quite some time in C++. Now (in a new project) I
cannot make it run - everything compiles and links, but during
runtime, I get access violation exception thrown inside LexerInputState:

inline InputBuffer& LexerInputState::getInput()
{
    return *input;
}

The problem is "input" is not a valid pointer. This happens after the
first call to LA()!

I double checked both my language definition, compiler settings and
lexer/parser invokation, but it all looks ok.

I'm getting lost here ... any tips? Tom



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From lawchang at comp.nus.edu.sg  Sun Jul 14 01:32:06 2002
From: lawchang at comp.nus.edu.sg (lawchangyen1978)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Grammer Help
Message-ID: <agrcu6+tc55@eGroups.com>

Hi.

I need to create a grammer for the structure.

comment : one;two;three;;
comment : one;;
comment : ;;

It starts with a comment and ends with ";;". It can be a list in 
between with ';' as a delimiter or just a list with one element or a 
list with no elements.

I think syntatic predicates may help but i am really new in this and 
i have no idea how to write a simple syntatic predicate to help me 
solve this question. I would appreciate all help and advice. Thank 
you very much.





 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From lawchang at comp.nus.edu.sg  Sun Jul 14 02:53:03 2002
From: lawchang at comp.nus.edu.sg (lawchangyen1978)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] String Literals
Message-ID: <agrhlv+n7fu@eGroups.com>

Hi.

I am really puzzled.

I have a parser rule ...

class WhiteP extends Parser;
options {
	exportVocab=White;
	k = 1;
}

startRule : "hello"
          ;

When the input is "hello", i do not understand why ANTLR complains 
unexpected character "h". Can someone help? By declaring "hello", i 
saw the Lexer adding it to the string literals table. What did i miss 
out? 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mas01sd at mcs.gold.ac.uk  Mon Jul 15 08:24:34 2002
From: mas01sd at mcs.gold.ac.uk (Sebastian Danicic)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] TNode
Message-ID: <Pine.LNX.4.21.0207151623430.7971-100000@igor.gold.ac.uk>

where can I find the definition of TNode?
thanks
sebastian



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Mon Jul 15 08:29:45 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:14:55 2004
Subject: FW: [antlr-interest] TNode
Message-ID: <170826586F3BD511910D0200C110AAA8032B4AA0@memail03.bco-home.com>

It's part of the "cgram" distribution, not part of antlr itself.

http://www.antlr.org/grammars/cgram/grammars/TNode.java

Monty

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From jlam at iunknown.com  Mon Jul 15 12:15:35 2002
From: jlam at iunknown.com (John Lam)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Tokens and context
Message-ID: <7DC0658D67A52C4B9697851D46A5A7A9035EB1@oak.webappdesign.com>

I've been scratching my head over this one. Here's the general problem:
I want to be able to use "*" as a wildcarding character. The problem is
that it can be treated as either a token or as part of an identifier.
Consider:

public void System.Foo();

I would also like to find this method using the following expressions:

[1] * void System.Foo();
[2] public void *();
[3] public void System.*();
[4] public void S*.*();

The problem is that * is treated as a token in [1] and as part of the
identifier in cases 2-4. 

Is there a general solution to this problem? Currently I'm using a
really crufty hack that involves creating a new token ("any") to
represent * in the accessibility modifiers.

Thanks!

-John
http://www.iunknown.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Mon Jul 15 14:16:32 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Tokens and context
Message-ID: <170826586F3BD511910D0200C110AAA8032B4AA5@memail03.bco-home.com>

As with everything else in antlr, think about how you would do this by hand,
especially after reading Ter's chapter on "Building Translators by Hand"
http://www.antlr.org/book/index.html.  

Antlr doesn't have a good way of wildcarding things like that.  It can deal
with ambiguous keywords but it takes some work, mostly with syntactic
predicates.  See http://www.jguru.com/faq/view.jsp?EID=140.  

It will mostly come down to dealing with the ambiguities.  '*' can't morph
into the appropriate token by context, antlr just can't deal with it like
that.  But you can put in syntactic predicates to elimiate the ambiguities.
You'll have to hoist them by hand though.

If you have enough context you could write a filter that changes '*' into
the right thing via a TokenStreamFilter.  See
www.codetransform.com/filterexample.html.

How complete is your language and what kind of performance do you need?  For
small examples that will be typed into a search panel as given you could
iterate through parsing with '*' as identifier, modifier, expression, etc.

Monty
www.codetransform.com

> -----Original Message-----
> From: John Lam [mailto:jlam@iunknown.com]
> Sent: Monday, July 15, 2002 12:16 PM
> To: Antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Tokens and context
> 
> 
> I've been scratching my head over this one. Here's the 
> general problem:
> I want to be able to use "*" as a wildcarding character. The 
> problem is
> that it can be treated as either a token or as part of an identifier.
> Consider:
> 
> public void System.Foo();
> 
> I would also like to find this method using the following expressions:
> 
> [1] * void System.Foo();
> [2] public void *();
> [3] public void System.*();
> [4] public void S*.*();
> 
> The problem is that * is treated as a token in [1] and as part of the
> identifier in cases 2-4. 
> 
> Is there a general solution to this problem? Currently I'm using a
> really crufty hack that involves creating a new token ("any") to
> represent * in the accessibility modifiers.
> 
> Thanks!
> 
> -John
> http://www.iunknown.com
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From lgc at mail1.jpl.nasa.gov  Mon Jul 15 17:17:37 2002
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: Tokens and context
In-Reply-To: <170826586F3BD511910D0200C110AAA8032B4AA5@memail03.bco-home.com>
Message-ID: <agvon1+hr1d@eGroups.com>

One minor addendum to Monty's comments:  also look at the 
"qualifiedID" rule in antlr.g.

The one problem with the "qualifiedID" type of solution is that it 
ignores whitespace (a.b.c.d and a . b.c.d are not the same).  For your 
problem, you may prefer to have a "STAR_IDENTIFIER" in addition to 
STAR and IDENTIFIER:  "*" followed by whitespace is a "STAR", while 
"*"(<identifier>)? or <identifier>("*"(<identifier2>)?)+ is a 
STAR_IDENTIFIER.  ANTLR lexers can make the distinction, and probably 
only two lexer rules are affected.

--Loring


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From guillot.bernard at hit.com.hk  Tue Jul 16 02:41:56 2002
From: guillot.bernard at hit.com.hk (bguillot_hit)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Parser rule to negate next token
Message-ID: <ah0pp4+ti1q@eGroups.com>

Is it possible to generate a rule (Parser) that negate the following
Token ?

The Problem is all the rules I tried cannot resolve the ambiguity
between the rules. If I could use a rule like 

mynegatingrule:
bp:BYPASS_START e:STRING_LITERAL l:STRING_LITERAL ~(c:STRING_LITERAL)

to allow a rule without the next token to be of a certain type. 
This would remove the ambiguity, right ?

Any one of you ANTLR Gurus have any clues on this one ?

Thanks in advance.

Bernard.


Detail:
I want to detect and take different action when Parsing theses Lines.

//@ "ONE" "TWO" "THREE"
//@ "ONE" "TWO"
//@ "ONE"
//@

//@ is declared set in the lexer as BYPASS_START
the Strings are STRING_LITERAL (taken from java.g)

the first option (start with bp) if on it's own works perfectly to
detect line //@ "ONE" "TWO" "THREE" but crash for the others.

bypassDefinition!
: bp:BYPASS_START e:STRING_LITERAL l:STRING_LITERAL c:STRING_LITERAL
  {
    #bypassDefinition = #([BYPASS, "BYPASS"], 
                            #([BYPASS_ERROR,"ERROR"], #e), 
                            #([BYPASS_LOCATION,"LOCATION"], #l), 
                            #([BYPASS_COMMENT, "COMMENT"], #c));
  }

| bp2:BYPASS_START e2:STRING_LITERAL l2:STRING_LITERAL
  {
    #bypassDefinition = #([BYPASS, "BYPASS"], 
                            #([BYPASS_ERROR,"ERROR"], #e2), 
                            #([BYPASS_LOCATION,"LOCATION"], #l2));
  }

| bp3:BYPASS_START e3:STRING_LITERAL
  {
    #bypassDefinition = #([BYPASS, "BYPASS"], 
                            #([BYPASS_ERROR,"ERROR"], err3));
  }

| bp4:BYPASS_START
  {
    #bypassDefinition = #([BYPASS, "BYPASS"], 
                             #([BYPASS_ERROR,"ERROR"], "No Detail"));
    System.out.println("  Parser Bypass: NO ERRORCODE");
  }
;



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Tue Jul 16 06:22:17 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] C++ access violation
In-Reply-To: <agraod+dkqk@eGroups.com>; from kordeul@hotmail.com on Sun, Jul 14, 2002 at 07:54:53AM -0000
References: <agraod+dkqk@eGroups.com>
Message-ID: <20020716152217.B2764@cs.utwente.nl>

Hi,

On Sun, Jul 14, 2002 at 07:54:53AM -0000, krd12002 wrote:
> I'm using ANTLR for quite some time in C++. Now (in a new project) I
> cannot make it run - everything compiles and links, but during
> runtime, I get access violation exception thrown inside LexerInputState:

Which ANTLR version?
How did you setup lexer and parser?
Maybe you upgraded and did an incomplete rebuild?

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Wo das Chaos auf die Ordnung trifft, gewinnt meist das Chaos, weil es
  besser organisiert ist. --- Friedrich Nietzsche


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From jlam at iunknown.com  Tue Jul 16 11:55:20 2002
From: jlam at iunknown.com (John Lam)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Tokens and context
Message-ID: <7DC0658D67A52C4B9697851D46A5A7A9035EB3@oak.webappdesign.com>

Thanks so much for sending this link along. That chapter rocks (I loved the maze metaphor). For the time being, I'm going to stick with using "any" as a token (I'm quite flexible in the design of my language). 
 
If I have cycles later to revisit this problem I'll see if I can figure out how to deal with "*" in a cleaner fashion. Using a TokenStreamFilter just might be the ticket as well; I can replace earlier "*"''s with the correct tokens.
 
Cheers,
-John
http://www.iunknown.com
 

	-----Original Message----- 
	From: mzukowski@yci.com [mailto:mzukowski@yci.com] 
	Sent: Mon 7/15/2002 5:16 PM 
	To: antlr-interest@yahoogroups.com 
	Cc: 
	Subject: RE: [antlr-interest] Tokens and context
	
	

	As with everything else in antlr, think about how you would do this by hand,
	especially after reading Ter's chapter on "Building Translators by Hand"
	http://www.antlr.org/book/index.html. 
	
	Antlr doesn't have a good way of wildcarding things like that.  It can deal
	with ambiguous keywords but it takes some work, mostly with syntactic
	predicates.  See http://www.jguru.com/faq/view.jsp?EID=140. 
	
	It will mostly come down to dealing with the ambiguities.  '*' can't morph
	into the appropriate token by context, antlr just can't deal with it like
	that.  But you can put in syntactic predicates to elimiate the ambiguities.
	You'll have to hoist them by hand though.
	
	If you have enough context you could write a filter that changes '*' into
	the right thing via a TokenStreamFilter.  See
	www.codetransform.com/filterexample.html.
	
	How complete is your language and what kind of performance do you need?  For
	small examples that will be typed into a search panel as given you could
	iterate through parsing with '*' as identifier, modifier, expression, etc.
	
	Monty
	www.codetransform.com
	
	> -----Original Message-----
	> From: John Lam [mailto:jlam@iunknown.com]
	> Sent: Monday, July 15, 2002 12:16 PM
	> To: Antlr-interest@yahoogroups.com
	> Subject: [antlr-interest] Tokens and context
	>
	>
	> I've been scratching my head over this one. Here's the
	> general problem:
	> I want to be able to use "*" as a wildcarding character. The
	> problem is
	> that it can be treated as either a token or as part of an identifier.
	> Consider:
	>
	> public void System.Foo();
	>
	> I would also like to find this method using the following expressions:
	>
	> [1] * void System.Foo();
	> [2] public void *();
	> [3] public void System.*();
	> [4] public void S*.*();
	>
	> The problem is that * is treated as a token in [1] and as part of the
	> identifier in cases 2-4.
	>
	> Is there a general solution to this problem? Currently I'm using a
	> really crufty hack that involves creating a new token ("any") to
	> represent * in the accessibility modifiers.
	>
	> Thanks!
	>
	> -John
	> http://www.iunknown.com
	>
	> 
	>
	> Your use of Yahoo! Groups is subject to
	> http://docs.yahoo.com/info/terms/
	>
	>
	
	
	
	Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
	
	
	


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 6706 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20020716/eac6f9e9/attachment.bin
From kpako at yahoo.com  Tue Jul 16 20:22:03 2002
From: kpako at yahoo.com (Kpako)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: Updated version of C# codegen 2.7.2a2 now on ANTLR site
In-Reply-To: <aem0qc+jtn7@eGroups.com>
Message-ID: <ah2nsr+obct@eGroups.com>

The following rule in my lexer 

EQUAL: 
        "="
        {
        #if DEBUG
           Console.WriteLine("EQUAL:{0} seen", $getText);
        #endif
        }
	;

generates 

if DEBUG
  Console.WriteLine("EQUAL:{0} seen", text.ToString(_begin, 
text.Length-_begin));
endif

while the rule 

EQUAL: 
        "="
        {
        #if DEBUG
           Console.WriteLine("EQUAL:{0} seen", "=");
        #endif
        }
	;

correctly generates 

	#if DEBUG
	Console.WriteLine("EQUAL:{0} seen", "=");
	#endif


Is this a bug or am I doing somthing wrong? 

--- In antlr-interest@y..., "micheal_jor" <open.zone@v...> wrote:
> ChangeLog
> ---------
> 
>  - general bug-fixes particularly to the OctalToUnicode() routine -
 
> uncovered during my recent Unicode adventures ;-)
> 
>  - added support for C# namespaces (hoping to support GenHashLines 
> option in a later release)
> 
>  - incorporated CaseSensitiveLiterals changes posted to the list 
by 
> DINURP as well as the StreamReader/TextReader changes
>   [ Many thanks and keep 'em coming. ]
> 
>  - ported Scott Ellis's _saveindex create-on-demand optimizations 
to 
> stop thse annoying warnings.
>   [ Many thanks. ]
> 
>  - revamped the C# runtime notes in the HTML file in the 'doc' 
> directory
> 
> 
> Now that you know, go and try the C# codegen and post any issues, 
> feature requests, bugs and patches to the list please. 
> 
> Enjoy!
> 
> Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From johnl at jbase.com  Wed Jul 17 11:44:28 2002
From: johnl at jbase.com (John Lambert)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Antlr C++ lexer and EBCDIC
Message-ID: <82A34254F29F994487947993403E42D8099CCF@bosmail.jbasesoftware.com>


I am trying to resolve an issue on IBM Z series with an antlr lexer/parser in C++. 
It is mostly working with the exception of the bitsets for the lexer.
Antlr.tool lays down bitsets that represent the ASCII values of the characters because Java uses UTF8 no matter what the platform.
When the resulting C++ code is compiled the character literals are all compiled as EBCDIC but the bitsets are initialized from the serialized Java ones that represent ASCII values. 

Any suggestions as to where the correct place to solve this would be? 
I am thinking of a runtime option on the antlr.tool to force bitset serialization for lexer grammars to map values thru an AtoE conversion table.

John Lambert

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Wed Jul 17 12:05:50 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Antlr C++ lexer and EBCDIC
Message-ID: <170826586F3BD511910D0200C110AAA8032B4ABD@memail03.bco-home.com>

That sounds like a good idea to me and shouldn't be too difficult.

Monty
www.codetransform.com

> -----Original Message-----
> From: John Lambert [mailto:johnl@jbase.com]
> Sent: Wednesday, July 17, 2002 11:44 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Antlr C++ lexer and EBCDIC
> 
> 
> 
> I am trying to resolve an issue on IBM Z series with an antlr 
> lexer/parser in C++. 
> It is mostly working with the exception of the bitsets for the lexer.
> Antlr.tool lays down bitsets that represent the ASCII values 
> of the characters because Java uses UTF8 no matter what the platform.
> When the resulting C++ code is compiled the character 
> literals are all compiled as EBCDIC but the bitsets are 
> initialized from the serialized Java ones that represent 
> ASCII values. 
> 
> Any suggestions as to where the correct place to solve this would be? 
> I am thinking of a runtime option on the antlr.tool to force 
> bitset serialization for lexer grammars to map values thru an 
> AtoE conversion table.
> 
> John Lambert
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sinan.karasu at boeing.com  Wed Jul 17 12:32:42 2002
From: sinan.karasu at boeing.com (Sinan)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] String Literals
References: <agrhlv+n7fu@eGroups.com>
Message-ID: <3D35C65A.93368A02@boeing.com>

lawchangyen1978 wrote:
> 
> Hi.
> 
> I am really puzzled.
> 
> I have a parser rule ...
> 
> class WhiteP extends Parser;
> options {
>         exportVocab=White;
>         k = 1;
> }
> 
> startRule : "hello"
>           ;
> 


try

startRule : "hello" EOF
           ;

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From kpako at yahoo.com  Wed Jul 17 19:25:52 2002
From: kpako at yahoo.com (Kpako)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: Updated version of C# codegen 2.7.2a2 now on ANTLR site
In-Reply-To: <aem0qc+jtn7@eGroups.com>
Message-ID: <ah58vg+c782@eGroups.com>

The following Lexer rule

IDENT_OR_RULE_BEGIN
    : (IDENT "::=") => RULE_BEGIN {$setType(RULE_BEGIN); }
    | IDENT { $setType(IDENT); }
    ;

generates 

	if ( synPredMatched30 )
		{
			mRULE_BEGIN(false);
			if (0==inputState.guessing)
			{
				_ttype = RULE_BEGIN;
			}
		}


among others instead of 


	if ( synPredMatched30 )
		{
			mRULE_BEGIN(false);
			if (0==inputState.guessing)
			{
				_ttype = FooTokenTypes.RULE_BEGIN;
			}
		}


is this a bug or am I doing something wrong? 


--- In antlr-interest@y..., "micheal_jor" <open.zone@v...> wrote:
> ChangeLog
> ---------
> 
>  - general bug-fixes particularly to the OctalToUnicode() routine -
 
> uncovered during my recent Unicode adventures ;-)
> 
>  - added support for C# namespaces (hoping to support GenHashLines 
> option in a later release)
> 
>  - incorporated CaseSensitiveLiterals changes posted to the list 
by 
> DINURP as well as the StreamReader/TextReader changes
>   [ Many thanks and keep 'em coming. ]
> 
>  - ported Scott Ellis's _saveindex create-on-demand optimizations 
to 
> stop thse annoying warnings.
>   [ Many thanks. ]
> 
>  - revamped the C# runtime notes in the HTML file in the 'doc' 
> directory
> 
> 
> Now that you know, go and try the C# codegen and post any issues, 
> feature requests, bugs and patches to the list please. 
> 
> Enjoy!
> 
> Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Wed Jul 17 21:42:06 2002
From: open.zone at virgin.net (Micheal J)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: Updated version of C# codegen 2.7.2a2 now on ANTLR site
In-Reply-To: <ah58vg+c782@eGroups.com>
Message-ID: <HNENKLOLMGIMAIBJPCNPAEABHIAA.open.zone@virgin.net>



> -----Original Message-----
> From: Kpako [mailto:kpako@yahoo.com]
> Sent: 18 July 2002 03:26
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: Updated version of C# codegen 2.7.2a2 now
> on ANTLR site
>
>
> The following Lexer rule
>
> IDENT_OR_RULE_BEGIN
>     : (IDENT "::=") => RULE_BEGIN {$setType(RULE_BEGIN); }
>     | IDENT { $setType(IDENT); }
>     ;
>
> generates
>
> 	if ( synPredMatched30 )
> 		{
> 			mRULE_BEGIN(false);
> 			if (0==inputState.guessing)
> 			{
> 				_ttype = RULE_BEGIN;
> 			}
> 		}
>
>
> among others instead of
>
>
> 	if ( synPredMatched30 )
> 		{
> 			mRULE_BEGIN(false);
> 			if (0==inputState.guessing)
> 			{
> 				_ttype = FooTokenTypes.RULE_BEGIN;
> 			}
> 		}
>
>
> is this a bug or am I doing something wrong?

Thank you for the feedback on the C# code generator. This is actually a
documented (?) feature.  ;-)

You need to prefix the token name with the TokenTypes class name in the
"$setType" statement (as well as other references to tokens in the .g file).
This is due to differences in the way interface inheritance works in Java
and C#. In C# you have to specify the name of the class as a prefix.

Your example should read:

 IDENT_OR_RULE_BEGIN
     : (IDENT "::=") => RULE_BEGIN {$setType(FooTokenTypes.RULE_BEGIN); }
     | IDENT { $setType(FooTokenTypes.IDENT); }
     ;

Thanks,

Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Wed Jul 17 21:42:13 2002
From: open.zone at virgin.net (Micheal J)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: Updated version of C# codegen 2.7.2a2 now on ANTLR site
In-Reply-To: <ah2nsr+obct@eGroups.com>
Message-ID: <HNENKLOLMGIMAIBJPCNPCEABHIAA.open.zone@virgin.net>



> -----Original Message-----
> From: Kpako [mailto:kpako@yahoo.com]
> Sent: 17 July 2002 04:22
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: Updated version of C# codegen 2.7.2a2 now
> on ANTLR site
>
>
> The following rule in my lexer
>
> EQUAL:
>         "="
>         {
>         #if DEBUG
>            Console.WriteLine("EQUAL:{0} seen", $getText);
>         #endif
>         }
> 	;
>
> generates
>
> if DEBUG
>   Console.WriteLine("EQUAL:{0} seen", text.ToString(_begin,
> text.Length-_begin));
> endif
>
> while the rule
>
> EQUAL:
>         "="
>         {
>         #if DEBUG
>            Console.WriteLine("EQUAL:{0} seen", "=");
>         #endif
>         }
> 	;
>
> correctly generates
>
> 	#if DEBUG
> 	Console.WriteLine("EQUAL:{0} seen", "=");
> 	#endif
>
>
> Is this a bug or am I doing somthing wrong?

Thanks for the feedback report. I will look into this. I haven't tested the
code generator's handling of C# preprocessing directives embedded in code
blocks. I seem to remember off the top of my head that ANTLR itself uses the
'#' character and that may be the source of the behavior you are seeing but,
I'll have to verify that later.

Thanks,

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From kpako at yahoo.com  Wed Jul 17 21:46:13 2002
From: kpako at yahoo.com (Dare Obasanjo)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: Updated version of C# codegen 2.7.2a2 now on ANTLR site
In-Reply-To: <HNENKLOLMGIMAIBJPCNPAEABHIAA.open.zone@virgin.net>
Message-ID: <20020718044613.2299.qmail@web10107.mail.yahoo.com>


--- Micheal J <open.zone@virgin.net> wrote:
> You need to prefix the token name with the
> TokenTypes class name in the
> "$setType" statement (as well as other references to
> tokens in the .g file).
> This is due to differences in the way interface
> inheritance works in Java
> and C#. In C# you have to specify the name of the
> class as a prefix.
> 
> Your example should read:
> 
>  IDENT_OR_RULE_BEGIN
>      : (IDENT "::=") => RULE_BEGIN
> {$setType(FooTokenTypes.RULE_BEGIN); }
>      | IDENT { $setType(FooTokenTypes.IDENT); }
>      ;
> 

Thanks for the clarification, I kinda figured this out
but wanted to make sure it wasn't a bug before going
on.  

=====
THINGS TO DO IF I BECOME AN EVIL OVERLORD #79
If my doomsday device happens to come with a reverse switch, as soon as it has been employed it will be melted down and made into limited-edition commemorative coins.

__________________________________________________
Do You Yahoo!?
Yahoo! Autos - Get free new car price quotes
http://autos.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From kpako at yahoo.com  Wed Jul 17 21:48:47 2002
From: kpako at yahoo.com (Dare Obasanjo)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: Updated version of C# codegen 2.7.2a2 now on ANTLR site
In-Reply-To: <HNENKLOLMGIMAIBJPCNPCEABHIAA.open.zone@virgin.net>
Message-ID: <20020718044847.2517.qmail@web10107.mail.yahoo.com>


--- Micheal J <open.zone@virgin.net> wrote:
> 
> Thanks for the feedback report. I will look into
> this. I haven't tested the
> code generator's handling of C# preprocessing
> directives embedded in code
> blocks. I seem to remember off the top of my head
> that ANTLR itself uses the
> '#' character and that may be the source of the
> behavior you are seeing but,
> I'll have to verify that later.

Thanks for looking into it. I also had a problem with
lexer rules like 

protected
STRING returns [String s]
    :   (.)+ { s=$getText; }
    ;

because it complained about s being an unitialized
variable. The following works however

protected
STRING returns [String s]{
s = null; 
} :   (.)+ { s=$getText; }
    ;

=====
THINGS TO DO IF I BECOME AN EVIL OVERLORD #79
If my doomsday device happens to come with a reverse switch, as soon as it has been employed it will be melted down and made into limited-edition commemorative coins.

__________________________________________________
Do You Yahoo!?
Yahoo! Autos - Get free new car price quotes
http://autos.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Wed Jul 17 22:05:26 2002
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: Updated version of C# codegen 2.7.2a2 now on ANTLR site
In-Reply-To: <20020718044847.2517.qmail@web10107.mail.yahoo.com>
Message-ID: <ah5iam+nhlt@eGroups.com>

--- In antlr-interest@y..., Dare Obasanjo <kpako@y...> wrote:
> 
> --- Micheal J <open.zone@v...> wrote:
> > 
> > Thanks for the feedback report. I will look into
> > this. I haven't tested the
> > code generator's handling of C# preprocessing
> > directives embedded in code
> > blocks. I seem to remember off the top of my head
> > that ANTLR itself uses the
> > '#' character and that may be the source of the
> > behavior you are seeing but,
> > I'll have to verify that later.
> 
> Thanks for looking into it. I also had a problem with
> lexer rules like 
> 
> protected
> STRING returns [String s]
>     :   (.)+ { s=$getText; }
>     ;
> 
> because it complained about s being an unitialized
> variable. The following works however
> 
> protected
> STRING returns [String s]{
> s = null; 
> } :   (.)+ { s=$getText; }
>     ;

I have noticed this too. It is an artifact of C#'s rules for variable 
definition and usage really (admittedly triggered by ANTLR code 
generation style).

Can't see any easy way to pre-initialize arbitary variable 
declarations within the code generator so I guess I just need to add 
some specific info about it to the csharp runtime document.

Thanks,

Micheal

PS    I found your "C# from a Java dev's precpective" document 
helpful. Helped with the C# codegen's development as it 
happens....  ;-)



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Thu Jul 18 01:53:37 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: Updated version of C# codegen 2.7.2a2 now on ANTLR site
In-Reply-To: <HNENKLOLMGIMAIBJPCNPCEABHIAA.open.zone@virgin.net>; from open.zone@virgin.net on Thu, Jul 18, 2002 at 05:42:13AM +0100
References: <ah2nsr+obct@eGroups.com> <HNENKLOLMGIMAIBJPCNPCEABHIAA.open.zone@virgin.net>
Message-ID: <20020718105337.H2764@cs.utwente.nl>

On Thu, Jul 18, 2002 at 05:42:13AM +0100, Micheal J wrote:
> blocks. I seem to remember off the top of my head that ANTLR itself uses the
> '#' character and that may be the source of the behavior you are seeing but,
> I'll have to verify that later.

Look at the action.g of the C++ codegenerator it contains lots of fixes for
handling of '#' in preprocessor stuff.

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Wo das Chaos auf die Ordnung trifft, gewinnt meist das Chaos, weil es
  besser organisiert ist. --- Friedrich Nietzsche


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Thu Jul 18 13:18:01 2002
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Re: Updated version of C# codegen 2.7.2a2 now on ANTLR site
In-Reply-To: <20020718105337.H2764@cs.utwente.nl>
Message-ID: <ah77pp+18ud@eGroups.com>

--- In antlr-interest@y..., Ric Klaren <klaren@c...> wrote:

> Look at the action.g of the C++ codegenerator it contains lots of 
fixes for
> handling of '#' in preprocessor stuff.
> 
> Ric

Thanks for the pointer Ric.

Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From avsinh at yahoo.com  Thu Jul 18 15:05:02 2002
From: avsinh at yahoo.com (avsinh)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Error in compiling on VC++ 6.0
Message-ID: <ah7e2e+qk0f@eGroups.com>

I am trying to get ANTLR compiled on VC++ 6.0. And I am using the 
project defined in contrib/MSCV6-dll.

Any idea why I would be getting the following errors? Should I just
go ahead and drop them from my project?

thanks in advance,
Anupam Singh.

uild : warning : failed to (or don't know how to) 
build 'D:\singha\downloads\antlr\antlr-2.7.1\lib\cpp\contrib\MSCV6-
dll\ScannerException.cpp'
Compiling...
AST.cpp
fatal error C1083: Cannot open source 
file: 'D:\singha\downloads\antlr\antlr-2.7.1\lib\cpp\contrib\MSCV6-
dll\AST.cpp': No such file or directory
CommonASTNode.cpp
fatal error C1083: Cannot open source 
file: 'D:\singha\downloads\antlr\antlr-2.7.1\lib\cpp\contrib\MSCV6-
dll\CommonASTNode.cpp': No such file or directory
CommonASTNodeWithHiddenTokens.cpp
fatal error C1083: Cannot open source 
file: 'D:\singha\downloads\antlr\antlr-2.7.1\lib\cpp\contrib\MSCV6-
dll\CommonASTNodeWithHiddenTokens.cpp': No such file or directory
ParserException.cpp
fatal error C1083: Cannot open source 
file: 'D:\singha\downloads\antlr\antlr-2.7.1\lib\cpp\contrib\MSCV6-
dll\ParserException.cpp': No such file or directory
ScannerException.cpp
fatal error C1083: Cannot open source 
file: 'D:\singha\downloads\antlr\antlr-2.7.1\lib\cpp\contrib\MSCV6-
dll\ScannerException.cpp': No such file or directory
Generating Code...
Error executing cl.exe.

ANTLRsd.lib - 5 error(s), 1 warning(s)



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Fri Jul 19 01:41:18 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:55 2004
Subject: [antlr-interest] Error in compiling on VC++ 6.0
In-Reply-To: <ah7e2e+qk0f@eGroups.com>; from avsinh@yahoo.com on Thu, Jul 18, 2002 at 10:05:02PM -0000
References: <ah7e2e+qk0f@eGroups.com>
Message-ID: <20020719104118.J2764@cs.utwente.nl>

Hi,

On Thu, Jul 18, 2002 at 10:05:02PM -0000, avsinh wrote:
> I am trying to get ANTLR compiled on VC++ 6.0. And I am using the 
> project defined in contrib/MSCV6-dll.
> 
> Any idea why I would be getting the following errors? Should I just
> go ahead and drop them from my project?

The project files may be a bit out of date depending on the distribution
you are using. Just add all the cpp and hpp files to your project and you
should be ok. 

2.7.1 should work with the DLL build. There's quite a few posts in the
archive on the topic btw.

HTH,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  "You know how to use that thing?" [pointing to the sword]
  "Sure.. The pointy end goes into the other guy."
  --- The Mask of Zorro


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From lawchang at comp.nus.edu.sg  Fri Jul 19 17:16:54 2002
From: lawchang at comp.nus.edu.sg (lawchangyen1978)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Expression explaination for code generated,
Message-ID: <ahaa5m+q4aa@eGroups.com>

May i know what does the below expression means in the lexer code 
that is generated? Thanks for all advice.

(_tokenSet_1.member(LA(1))
(_tokenSet_2.member(LA(1)) etc.

Regards
Jeffrey


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mrosgood at yahoo.com  Sun Jul 21 21:33:31 2002
From: mrosgood at yahoo.com (mrosgood)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Interactive Editing with Antlr?
Message-ID: <ahg1ur+acip@eGroups.com>

Hi Guys-


Have you guys seen Jedit (www.jedit.org)?  It's a text editor that has
syntax highlighting and "folding".  Has anyone done something similar
using an ANTLR grammar?  

The reason I ask is because I already have an ANTLR grammar.  I'd like
to avoid creating another grammar-like-thingies for interactive
editing, if I can.  And I thought I'd ask before I began splunking
through Jedit's source code.

Thanks!


Cheers, Jason Osgood


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From brian-l-smith at uiowa.edu  Sun Jul 21 21:41:52 2002
From: brian-l-smith at uiowa.edu (Brian Smith)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Interactive Editing with Antlr?
References: <ahg1ur+acip@eGroups.com>
Message-ID: <3D3B8D10.9050002@uiowa.edu>

The NetBeans people have a "lexer" module that they are building. 
Appartently it will be able to both ANTLR and JavaCC _lexers_, but it 
doesn't use them for parsing, AFAIK. I think they also use XML language 
descriptors like JEdit. There isn't much documentation You might ask 
them about their approach on their mailing lists (NBDEV). They also have 
a gateway newsgroup netbeans.nbdev on news.netbeans.org.

I actually hope to build a NetBeans module for a custom language I have 
created. I have already done the lexer and parser in ANTLR. If and when 
I do, I will let this list know.

- Brian

mrosgood wrote:
> Hi Guys-
> 
> 
> Have you guys seen Jedit (www.jedit.org)?  It's a text editor that has
> syntax highlighting and "folding".  Has anyone done something similar
> using an ANTLR grammar?  
> 
> The reason I ask is because I already have an ANTLR grammar.  I'd like
> to avoid creating another grammar-like-thingies for interactive
> editing, if I can.  And I thought I'd ask before I began splunking
> through Jedit's source code.
> 
> Thanks!
> 
> 
> Cheers, Jason Osgood
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From bogdan_mt at yahoo.com  Mon Jul 22 00:26:46 2002
From: bogdan_mt at yahoo.com (Bogdan Mitu)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Interactive Editing with Antlr?
In-Reply-To: <ahg1ur+acip@eGroups.com>
Message-ID: <20020722072646.97614.qmail@web14808.mail.yahoo.com>

Hi Jason,

If you want to use an existing ANTLR grammar for syntax highlighting, take
care that you don't have { $setType( Token.SKIP); } actions inside. You also
need to create an InputStream wrapper around text Documents.

Another tricky point is that text being edited is not always "correct". For
instance, when you start to type a string literal, you have something like
"abc , which is probably not a valid token. The ANTLR lexer won't return any
token, so you won't see anything until you type the closing quote. There is
a workaround for this, but it's not trivial. 

I have written a package for syntax highlighting using ANTLR lexers. You can
not apply it directly, since JEdit uses a custom text component, but you can
look at the ANTLR stuff there. I can send you the package, if you think it
might be useful to you.

Regards,
Bogdan

--- mrosgood <mrosgood@yahoo.com> wrote:
> Hi Guys-
> 
> 
> Have you guys seen Jedit (www.jedit.org)?  It's a text editor that has
> syntax highlighting and "folding".  Has anyone done something similar
> using an ANTLR grammar?  
> 
> The reason I ask is because I already have an ANTLR grammar.  I'd like
> to avoid creating another grammar-like-thingies for interactive
> editing, if I can.  And I thought I'd ask before I began splunking
> through Jedit's source code.
> 
> Thanks!
> 
> 
> Cheers, Jason Osgood
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 
> 



__________________________________________________
Do You Yahoo!?
Yahoo! Health - Feel better, live better
http://health.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tjuergeleit at yahoo.de  Mon Jul 22 04:48:52 2002
From: tjuergeleit at yahoo.de (Torsten Juergeleit)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Interactive Editing with Antlr?
In-Reply-To: <20020722072646.97614.qmail@web14808.mail.yahoo.com>
Message-ID: <20020722114852.62100.qmail@web9304.mail.yahoo.com>

Hi Bogdan,

> Another tricky point is that text being edited is
> not always "correct". For
> instance, when you start to type a string literal,
> you have something like
> "abc , which is probably not a valid token. The
> ANTLR lexer won't return any
> token, so you won't see anything until you type the
> closing quote. There is
> a workaround for this, but it's not trivial. 

I have the same problem with the outline view in my
ANTLR grammar editor
(http://sourceforge.net/projects/antlreclipse/ ).
While a user is modifying the grammar code the
according outline is truncated.
Did you found a way to skip this "incomplete code"
while lexing/parsing?

> I have written a package for syntax highlighting
> using ANTLR lexers.

Which languages are supported?

> I can send you the package, if you think it
> might be useful to you.

I'm interested too ;-)


Cheers,
Torsten


__________________________________________________
Do You Yahoo!?
Yahoo! Health - Feel better, live better
http://health.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From bogdan_mt at yahoo.com  Mon Jul 22 05:56:04 2002
From: bogdan_mt at yahoo.com (Bogdan Mitu)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Interactive Editing with Antlr?
In-Reply-To: <20020722114852.62100.qmail@web9304.mail.yahoo.com>
Message-ID: <20020722125604.39361.qmail@web14807.mail.yahoo.com>


--- Torsten Juergeleit <tjuergeleit@yahoo.de> wrote:
> Hi Bogdan,
> 
> > Another tricky point is that text being edited is
> > not always "correct". For
> > instance, when you start to type a string literal,
> > you have something like
> > "abc , which is probably not a valid token. The
> > ANTLR lexer won't return any
> > token, so you won't see anything until you type the
> > closing quote. There is
> > a workaround for this, but it's not trivial. 
> 
> I have the same problem with the outline view in my
> ANTLR grammar editor
> (http://sourceforge.net/projects/antlreclipse/ ).
> While a user is modifying the grammar code the
> according outline is truncated.
> Did you found a way to skip this "incomplete code"
> while lexing/parsing?

For the lexer, I modified the JavaCodeGenerator so that generated lexers
return an INVALID token istead of throwing an exception. For the Parser, I
don't see an easy solution. One idea:

- always keep available the previous version of the outline. When the
current outline gets truncated due to a change in progress, divide the text
in three zones: 
1. The part that can be parsed (although truncated). This should extend from
the begining to (near) the position of the change.
2. The part being modified.
3. The part after the modification, for which there exist a subtree in the
_previous_ version of the outline. 
You can then merge the subtree for 1. with the subtree for 3. to obtain a
reasonable guess for the next valid outline.

> > I have written a package for syntax highlighting
> > using ANTLR lexers.
> 
> Which languages are supported?

Java, ANTLR, Verilog (and a subset of XML).
 
> > I can send you the package, if you think it
> > might be useful to you.
> 
> I'm interested too ;-)
 
I will put it soon on the Yahoo ANTLR group under Files section.

Regards,
Bogdan

> 
> Cheers,
> Torsten
> 
> 
> __________________________________________________
> Do You Yahoo!?
> Yahoo! Health - Feel better, live better
> http://health.yahoo.com
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 
> 


__________________________________________________
Do You Yahoo!?
Yahoo! Health - Feel better, live better
http://health.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Mon Jul 22 07:53:16 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Expression explaination for code generated,
Message-ID: <170826586F3BD511910D0200C110AAA8032B4AD0@memail03.bco-home.com>

Token sets hold a bitset representation of a set of characters or tokens.
Unfortunately you antlr doesn't comment what goes into the token set.  You
can either inspect the code or use the option "codeGenBitsetTestThreshold =
999999" to not use bitsets at all.  Then bitsets will only be used for
negated rules such as ~("\n");

Monty

> -----Original Message-----
> From: lawchangyen1978 [mailto:lawchang@comp.nus.edu.sg]
> Sent: Friday, July 19, 2002 5:17 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Expression explaination for code generated,
> 
> 
> May i know what does the below expression means in the lexer code 
> that is generated? Thanks for all advice.
> 
> (_tokenSet_1.member(LA(1))
> (_tokenSet_2.member(LA(1)) etc.
> 
> Regards
> Jeffrey
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mrosgood at yahoo.com  Mon Jul 22 15:49:12 2002
From: mrosgood at yahoo.com (mrosgood)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Re: Interactive Editing with Antlr?
In-Reply-To: <ahg1ur+acip@eGroups.com>
Message-ID: <ahi258+7od6@eGroups.com>

Hi Brian Smith, Bogdan Mitu, Torsten Juergeleit--


Thanks for the replies!

I checked out the lexer.netbeans.org subproject, spearheaded by
Miloslav Metelka.  Pretty cool scope of work (highlighting,
indentation, folding).  

Metelka's lexer proposal cites "General Incremental Lexical Analysis".
 I followed the cookie crumbs and found some potentially relevant
stuff.  (See links below.)  After a bunch of skim reading, it looks
like a lexer/relexer solution is preferable to a regex solution.  I
really like how Metelka's project wraps JavaCC (and ANTLR too, real
soon now).


I'll be trying the ANTLR plugin for Eclipse tonight!  (Though I
confess I still feel like an idiot for not being able to successfully
add antlr.jar to the library search path thingie.  So I just include
the ANTLR source files in my project.  I thought all this was supposed
to get easier over time...?)


I'm looking forward to Bogdan's work.  Avoiding reinventing the wheel
would be nice.


Side Note: One of the proposed projects on the Harmonia site is a
grammar debugger.  Sadly, they're using LR grammars.  But it reminded
me of Scott's ParseView.  What's the status of that project?  Now that
NetBeans and Eclipse are chugging along, it seems like a natural plugin.



Cheers, Jason Osgood

---


Program Editing in a Software Development Environment
http://citeseer.nj.nec.com/reiss95program.html

General Incremental Lexical Analysis
http://citeseer.nj.nec.com/wagner97general.html

HARMONIA: A Flexible Framework for Constructing Interactive
Language-Based Programming Tools
http://citeseer.nj.nec.com/boshernitsan01harmonia.html


Harmonia Research Project
http://www.cs.berkeley.edu/Research/Projects/harmonia/index.html


Lexer Module (Miloslav Metelka)
http://lexer.netbeans.org/


###


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Mon Jul 22 21:20:52 2002
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Looking for ANTLR C++ examples
Message-ID: <ahilj4+lduk@eGroups.com>

Hi,

If you have or know of any [open-source & substantial] projects 
developed with ANTLR and C++ please post a link and/or comments.

I am particularly interested in complete ANTLR/C++ compiler projects 
(the recognized language isn't important) but others would be useful 
too.

Cheers,

Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From a_rueckert at gmx.net  Tue Jul 23 08:19:22 2002
From: a_rueckert at gmx.net (Andreas Rueckert)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Predicates in a lexer?
Message-ID: <02072317361001.00767@hun.bre.de>

Hi!

Maybe I'm missing something obvious or I should read the manual again, but I
have a question. I'm trying to scan a 'here' document in PHP. For those who
haven't seen this:
=======================================
echo <<<EOT
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
<meta http-equiv="expires" content="0">
...more text...
EOT;
=======================================
is such a here document. Problem is, that the author can use the delimiter he
likes, so replacing EOT with MY_DELIMITER still poses a valid here document. So
you cannot code the delimiter as a static lexer rule (since you don't know by
then).
First idea:
=======================================
// A here document
HERE_DOCUMENT
{ 
  String here_delimiter = null; 
  StringBuffer here_document = new StringBuffer();;
  StringBuffer latestLine = new StringBuffer();
  boolean isComplete = false;
}
	:	"<<<" d:IDENT { here_delimiter = d.getText() + ";"; }
                ( options { generateAmbigWarnings=false; } : '\n' | '\r' | '\r' '\n' ) { newline(); }
                ( 
                  {isComplete == false}?  // Is the document completely parsed?
		  (  
                    ( options { generateAmbigWarnings=false; } : '\r' | '\n' | "\r\n" )  // If it's the end of a line
                      { 
                        newline();
                        String line = latestLine.toString();

                        // Check if the last line is the delimiter of the here document
                        if( line.trim().equals( here_delimiter)) {
                            isComplete = true;
                            $setType( HERE_DOCUMENT);
                            $setText( here_document.toString());
                        } else {  // Nope.
                            if( here_document.length() > 0) {  // If it's not the first line add a newline as the line separator
                                here_document.append( "\n");
                            }
                            here_document.append( latestLine.toString());  // Add the last line to the document
                            latestLine = new StringBuffer();               // Create a new buffer for the latest line
                        }
                      }
                      | 
                    character:~( '\r' | '\n' ) { latestLine.append( character); }  // Append any other character to the latest line.
                  )
                )*
	;
=======================================
Problem: the {isComplete == false}? predicate is not found in the generated
lexer, so this solution doesn't work here (maybe my Antlr version is just too
old?) ... :-(

Hack to workaround the problem: the ( )* in the rule is translated into a
(endless) do { } while(true); loop, that could be exited with a break
statement. So instead of setting the isComplete flag to true, simply exit the
loop via the break;
=======================================
// A here document
HERE_DOCUMENT
{ 
  String here_delimiter = null; 
  StringBuffer here_document = new StringBuffer();;
  StringBuffer latestLine = new StringBuffer();
}
	:	"<<<" d:IDENT { here_delimiter = d.getText() + ";"; }
                ( options { generateAmbigWarnings=false; } : '\n' | '\r' | '\r' '\n' ) { newline(); }
                ( 
		  (  
                    ( options { generateAmbigWarnings=false; } : '\r' | '\n' | "\r\n" )  // If it's the end of a line
                      { 
                        newline();
                        String line = latestLine.toString();

                        // Check if the last line is the delimiter of the here document
                        if( line.trim().equals( here_delimiter)) {
                            $setType( HERE_DOCUMENT);
                            $setText( here_document.toString());
                            break;  // <- end the loop for this token
                        } else {  // Nope.
                            if( here_document.length() > 0) {  // If it's not the first line add a newline as the line separator
                                here_document.append( "\n");
                            }
                            here_document.append( latestLine.toString());  // Add the last line to the document
                            latestLine = new StringBuffer();               // Create a new buffer for the latest line
                        }
                      }
                      | 
                    character:~( '\r' | '\n' ) { latestLine.append( character); }  // Append any other character to the latest line.
                  )
                )*
	;
=======================================
Since this is ugly hack (imagine the Antlr Lexer generator is modified), I'd
like to ask if there's a better solution.

TIA,
Andreas

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From hkhidhir at csi.uottawa.ca  Tue Jul 23 09:01:53 2002
From: hkhidhir at csi.uottawa.ca (Khalid Khidhir)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] How to remove me from this "group"
Message-ID: <Pine.GSU.4.44.0207231159260.23453-100000@grdb.site.uottawa.ca>

Hi all
I joined this group about 3 years ago, and now that it moved to yahoo
I dont seem to be able to remobe myself from the distribution list.
I dont have a "yahoo" id or a password (it was not required when I joined
the group)
Can anybody explain to me how can I remove myself from this list.
Thanks alot.
Khalid


+------------------------------------+
|  Khidhir Khalid                    |
|  Department of Computer Science    |
|  University of Ottawa              |
|  E-mail: hkhidhir@csi.uottawa.ca   |
+------------------------------------+


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From bogdan_mt at yahoo.com  Tue Jul 23 10:58:16 2002
From: bogdan_mt at yahoo.com (Bogdan Mitu)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] SATC (was: Interactive Editing with Antlr?)
In-Reply-To: <ahi258+7od6@eGroups.com>
Message-ID: <20020723175816.16916.qmail@web14801.mail.yahoo.com>

Hi all,

I put on this group's File section a zip archive with a package for
interactive editing with ANTLR (I called the package Syntax Aware Text
Components):
http://groups.yahoo.com/group/antlr-interest/files/satc-20020620.zip

I used it mostly for syntax highligting using ANTLR lexers, but it also
provides an AST of the current document which is auto-updated on each
change. The AST can be used in many ways, including outlines, source
navigation, refactoring ... (but you have to do it yourself, for the moment
SATC only provides the AST).

Unlike Netbeans Lexer module, SATC is not tied to any particular IDE. It
takes a standard JTextArea and "magically" add syntax higlight to that
textArea (using internals of Swing TextComponents, like EditorKit, which are
not visible for the "normal" user of JTextArea).

I once used a version of SATC to provide syntax highlight to Eclipse, but
that part is not included in this distribution. I wil try to find the files
and add them, for those using SWT not Swing.

For details, read the readme.txt file from the docs directory of the
archive. You will also find an example of a very simple application using
syntax highlighting.

Please let me know if you have any problems running the examples, or any
questions regarding SATC.

Best regards,
Bogdan

--- mrosgood <mrosgood@yahoo.com> wrote:
> Hi Brian Smith, Bogdan Mitu, Torsten Juergeleit--
> 
> 
> Thanks for the replies!
> 
> I checked out the lexer.netbeans.org subproject, spearheaded by
> Miloslav Metelka.  Pretty cool scope of work (highlighting,
> indentation, folding).  
> 
> Metelka's lexer proposal cites "General Incremental Lexical Analysis".
>  I followed the cookie crumbs and found some potentially relevant
> stuff.  (See links below.)  After a bunch of skim reading, it looks
> like a lexer/relexer solution is preferable to a regex solution.  I
> really like how Metelka's project wraps JavaCC (and ANTLR too, real
> soon now).
> 
> 
> I'll be trying the ANTLR plugin for Eclipse tonight!  (Though I
> confess I still feel like an idiot for not being able to successfully
> add antlr.jar to the library search path thingie.  So I just include
> the ANTLR source files in my project.  I thought all this was supposed
> to get easier over time...?)
> 
> 
> I'm looking forward to Bogdan's work.  Avoiding reinventing the wheel
> would be nice.
> 
> 
> Side Note: One of the proposed projects on the Harmonia site is a
> grammar debugger.  Sadly, they're using LR grammars.  But it reminded
> me of Scott's ParseView.  What's the status of that project?  Now that
> NetBeans and Eclipse are chugging along, it seems like a natural plugin.
> 
> 
> 
> Cheers, Jason Osgood
> 
> ---
> 
> 
> Program Editing in a Software Development Environment
> http://citeseer.nj.nec.com/reiss95program.html
> 
> General Incremental Lexical Analysis
> http://citeseer.nj.nec.com/wagner97general.html
> 
> HARMONIA: A Flexible Framework for Constructing Interactive
> Language-Based Programming Tools
> http://citeseer.nj.nec.com/boshernitsan01harmonia.html
> 
> 
> Harmonia Research Project
> http://www.cs.berkeley.edu/Research/Projects/harmonia/index.html
> 
> 
> Lexer Module (Miloslav Metelka)
> http://lexer.netbeans.org/
> 
> 
> ###
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 
> 


__________________________________________________
Do You Yahoo!?
Yahoo! Health - Feel better, live better
http://health.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Tue Jul 23 11:02:24 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Predicates in a lexer?
Message-ID: <170826586F3BD511910D0200C110AAA8032B4ADD@memail03.bco-home.com>

Can you say that the delimiter is limited to valid IDs?  If so then you can
dynamically add that as a literal to your literals table (in a lexer rule.)
If not then the end delimiter could be very ambiguous.

Monty

> -----Original Message-----
> From: Andreas Rueckert [mailto:a_rueckert@gmx.net]
> Sent: Tuesday, July 23, 2002 8:19 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Predicates in a lexer?
> 
> 
> Hi!
> 
> Maybe I'm missing something obvious or I should read the 
> manual again, but I
> have a question. I'm trying to scan a 'here' document in PHP. 
> For those who
> haven't seen this:
> =======================================
> echo <<<EOT
> <meta http-equiv="content-type" content="text/html; 
> charset=iso-8859-1">
> <meta http-equiv="expires" content="0">
> ...more text...
> EOT;
> =======================================
> is such a here document. Problem is, that the author can use 
> the delimiter he
> likes, so replacing EOT with MY_DELIMITER still poses a valid 
> here document. So
> you cannot code the delimiter as a static lexer rule (since 
> you don't know by
> then).
> First idea:
> =======================================
> // A here document
> HERE_DOCUMENT
> { 
>   String here_delimiter = null; 
>   StringBuffer here_document = new StringBuffer();;
>   StringBuffer latestLine = new StringBuffer();
>   boolean isComplete = false;
> }
> 	:	"<<<" d:IDENT { here_delimiter = d.getText() + ";"; }
>                 ( options { generateAmbigWarnings=false; } : 
> '\n' | '\r' | '\r' '\n' ) { newline(); }
>                 ( 
>                   {isComplete == false}?  // Is the document 
> completely parsed?
> 		  (  
>                     ( options { generateAmbigWarnings=false; 
> } : '\r' | '\n' | "\r\n" )  // If it's the end of a line
>                       { 
>                         newline();
>                         String line = latestLine.toString();
> 
>                         // Check if the last line is the 
> delimiter of the here document
>                         if( line.trim().equals( here_delimiter)) {
>                             isComplete = true;
>                             $setType( HERE_DOCUMENT);
>                             $setText( here_document.toString());
>                         } else {  // Nope.
>                             if( here_document.length() > 0) { 
>  // If it's not the first line add a newline as the line separator
>                                 here_document.append( "\n");
>                             }
>                             here_document.append( 
> latestLine.toString());  // Add the last line to the document
>                             latestLine = new StringBuffer();  
>              // Create a new buffer for the latest line
>                         }
>                       }
>                       | 
>                     character:~( '\r' | '\n' ) { 
> latestLine.append( character); }  // Append any other 
> character to the latest line.
>                   )
>                 )*
> 	;
> =======================================
> Problem: the {isComplete == false}? predicate is not found in 
> the generated
> lexer, so this solution doesn't work here (maybe my Antlr 
> version is just too
> old?) ... :-(
> 
> Hack to workaround the problem: the ( )* in the rule is 
> translated into a
> (endless) do { } while(true); loop, that could be exited with a break
> statement. So instead of setting the isComplete flag to true, 
> simply exit the
> loop via the break;
> =======================================
> // A here document
> HERE_DOCUMENT
> { 
>   String here_delimiter = null; 
>   StringBuffer here_document = new StringBuffer();;
>   StringBuffer latestLine = new StringBuffer();
> }
> 	:	"<<<" d:IDENT { here_delimiter = d.getText() + ";"; }
>                 ( options { generateAmbigWarnings=false; } : 
> '\n' | '\r' | '\r' '\n' ) { newline(); }
>                 ( 
> 		  (  
>                     ( options { generateAmbigWarnings=false; 
> } : '\r' | '\n' | "\r\n" )  // If it's the end of a line
>                       { 
>                         newline();
>                         String line = latestLine.toString();
> 
>                         // Check if the last line is the 
> delimiter of the here document
>                         if( line.trim().equals( here_delimiter)) {
>                             $setType( HERE_DOCUMENT);
>                             $setText( here_document.toString());
>                             break;  // <- end the loop for this token
>                         } else {  // Nope.
>                             if( here_document.length() > 0) { 
>  // If it's not the first line add a newline as the line separator
>                                 here_document.append( "\n");
>                             }
>                             here_document.append( 
> latestLine.toString());  // Add the last line to the document
>                             latestLine = new StringBuffer();  
>              // Create a new buffer for the latest line
>                         }
>                       }
>                       | 
>                     character:~( '\r' | '\n' ) { 
> latestLine.append( character); }  // Append any other 
> character to the latest line.
>                   )
>                 )*
> 	;
> =======================================
> Since this is ugly hack (imagine the Antlr Lexer generator is 
> modified), I'd
> like to ask if there's a better solution.
> 
> TIA,
> Andreas
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Thu Jul 25 11:34:26 2002
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] What is the real value of ANTLR TreeParsing?
Message-ID: <ahpgbi+s9a0@eGroups.com>

Hi All,

Can anyone please define what the real value of TreeParsers are?

I am more familiar with the construction of a custom AST object 
hierarchy that supports the use of ConcreteVisitors (cf The Visitor 
Pattern) to implement phases such as type-checking, code-generateion 
etc.

Given that TreeParsers essentially mandate the use of ANTLR's own AST 
structure, I feel the need to be very clear about their utility. So 
far all I can see is:

a. Since ANTLR AST is used, AST creation is easier and absorbed into 
grammar creation costs 
b. Supplied utilities (ParseView and ASTFrame) allows visualization 
of AST.
c. For [relatively straightforward] source-to-source translation 
tasks, TreeParsers are probably the best choice given the reduction 
in code required and the "executable documentation" aspect of the *.g 
specifications.

Since choosing to use TreeParsers also effectively precludes using 
custom ASTs and the Visitor pattern....are there any limitations to 
adopting ANTLR ASTs and TreeParsers?. The project of interest is a 
code transformer/analyzer for about three custom languages. It is 
written in Java currently (without ANTLR) but a switch to C++ is 
likely if I can find decent C++ ANTLR examples to build off.

Cheers,

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Jul 25 16:22:43 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] What is the real value of ANTLR TreeParsing?
In-Reply-To: <ahpgbi+s9a0@eGroups.com>
Message-ID: <6BAC85EA-A025-11D6-945B-0030653DE0D6@jguru.com>

Hi Michael,

You may find this faq entry answers your question nicely :)

http://www.jguru.com/faq/view.jsp?EID=818959

It's called "What is a tree parser and why would I want to use one?"

I would like to make ANTLR ASTs DOM compatible but I can't since DOM 
used the same method names as I have but return DOM not AST so Java 
bitches.  I cannot fix this w/o breaking backward compatibility big time 
with existing ANTLR translators :(  Tell those DOM guys I was here 
first ;)

Regards,
Terence

On Thursday, July 25, 2002, at 11:34  AM, micheal_jor wrote:

> Hi All,
>
> Can anyone please define what the real value of TreeParsers are?
>
> I am more familiar with the construction of a custom AST object
> hierarchy that supports the use of ConcreteVisitors (cf The Visitor
> Pattern) to implement phases such as type-checking, code-generateion
> etc.
>
> Given that TreeParsers essentially mandate the use of ANTLR's own AST
> structure, I feel the need to be very clear about their utility. So
> far all I can see is:
>
> a. Since ANTLR AST is used, AST creation is easier and absorbed into
> grammar creation costs
> b. Supplied utilities (ParseView and ASTFrame) allows visualization
> of AST.
> c. For [relatively straightforward] source-to-source translation
> tasks, TreeParsers are probably the best choice given the reduction
> in code required and the "executable documentation" aspect of the *.g
> specifications.
>
> Since choosing to use TreeParsers also effectively precludes using
> custom ASTs and the Visitor pattern....are there any limitations to
> adopting ANTLR ASTs and TreeParsers?. The project of interest is a
> code transformer/analyzer for about three custom languages. It is
> written in Java currently (without ANTLR) but a switch to C++ is
> likely if I can find decent C++ ANTLR examples to build off.
>
> Cheers,
>
> Micheal
>
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From jcomuzzi at silverstream.com  Fri Jul 26 12:47:26 2002
From: jcomuzzi at silverstream.com (Joe Comuzzi)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Problem with large bit sets
Message-ID: <NEBBKGHJEMGGPIMMFKACAEMLCHAA.jcomuzzi@silverstream.com>

I know I've seen a discussion of this issue, but I can't find it now.

I've got a lexer which has a large vocab range (basically u0000...ufffe) and
it generates nine bitsets. Since each bitset is basically 65536 bits long,
this is pushes the class size limits in java. It was compiling in SJ, but
now I need to upgrade to 1.4 for assert (and other reasons) and the
resulting class doesn't load.

I tried codeGenBitsetTestThreshold=999; and it didn't seem to help. There
must be some other way to control the bit set generation... Before I look at
the ANTLR source - any suggestions?

Thanks, Joe C.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Jul 26 13:28:07 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Problem with large bit sets
In-Reply-To: <NEBBKGHJEMGGPIMMFKACAEMLCHAA.jcomuzzi@silverstream.com>
Message-ID: <32016CD2-A0D6-11D6-89C0-0030653DE0D6@jguru.com>

Hi Joe,

have you tried the 2.7.2a2 release?  I made this much more 
efficient...are you talking about array literal size?  If so, new 
release should fix it.

Ter

On Friday, July 26, 2002, at 12:47  PM, Joe Comuzzi wrote:

> I know I've seen a discussion of this issue, but I can't find it now.
>
> I've got a lexer which has a large vocab range (basically 
> u0000...ufffe) and
> it generates nine bitsets. Since each bitset is basically 65536 bits 
> long,
> this is pushes the class size limits in java. It was compiling in SJ, 
> but
> now I need to upgrade to 1.4 for assert (and other reasons) and the
> resulting class doesn't load.
>
> I tried codeGenBitsetTestThreshold=999; and it didn't seem to help. 
> There
> must be some other way to control the bit set generation... Before I 
> look at
> the ANTLR source - any suggestions?
>
> Thanks, Joe C.
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Sat Jul 27 01:32:38 2002
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Problems with token class-type override feature (with C# codegen)
Message-ID: <ahtlr6+3aqg@eGroups.com>

Hi,

While exploring the idea of custom AST classes, I noticed that the 
feature is supposed to that allow me to specify alternative AST 
classes on a per-token basis isn't working.

I specified the following in my grammar but in the generated code the 
default AST class type is still used for all nodes. There is no 
reference to the specified class type at all.

    tokens
    {
      LOCK_STMT<AST=LockStatement>;
    }

I though it might be related to the fact that I use manual 
treebuilding commands such as:

    lockStatement
      :  LOCK! 
         (  ( LPAREN! stmtList )=> LPAREN! expression RPAREN! block
            { ## = #( [LOCK_STMT, "LOCK_STMT"], ##); } 
         |  block
            { ## = #( [LOCK_DIRECTIVE, "LOCK_DIRECTIVE"], ##); } 
         )
      ;

This is with C#. Does this feature work at all?. If it does, can 
anyone give me a quick pointer to what I should look out for in 
fixing the C# codegen pls (it needs an update soon anyways methinks).

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tjuergeleit at yahoo.de  Sat Jul 27 08:23:24 2002
From: tjuergeleit at yahoo.de (Torsten Juergeleit)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Grammar for lexing/parsing Python
Message-ID: <20020727152324.62432.qmail@web9306.mail.yahoo.com>

Hi,

does anyone know about an ANTLR grammar for a Python
lexer/parser?

I'm working on a Python-aware text editor
(syntax-highlight, outline view) plugin for the
Eclipse IDE.
My current approach for the outline view is to use
Jython (JavaCC-based Python parser) for parsing and
visit Jython's internal AST to collect the outline
information.

An ANTLR-based lexer/parser with embedded Java code to
collect the information necessary for an outline view
while lexing/parsing seems to be more efficient than
visiting a full-blown AST.

Torsten

__________________________________________________
Do You Yahoo!?
Yahoo! Health - Feel better, live better
http://health.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mento at egreta.gr  Sat Jul 27 21:01:37 2002
From: mento at egreta.gr (Markopoulos Avgerinos)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Is ANTLR suitable for this?
References: <NEBBKGHJEMGGPIMMFKACAEMLCHAA.jcomuzzi@silverstream.com>
Message-ID: <000501c235f1$1a87e7e0$1ec7aad5@computername>

Hi

I have a 15 MB text file in a format similar to the one displayed below.
I need a parser & formattor/translator for it (no need for syntax checking).

I 'm reading the ANTLR FAQs and PDFs plus any Lex/Yacc info I find in the
internet.
Since I never used such a tool, I haven't figured out yet, if ANTLR could
help me for this job.
Or is the format too simple, so ANTLR is too much for it?

Thanks in advance
mento@iname.com


The format is as following
------------------------------------
PRG={
 HDR=    {
                DESC="t_Calendars",RSDNT=N,SQL=N,PRK=1,POS=P
                },
 RSRCE=  {
  DB=     {
                        FILE=11,
                        MOD=W,
                        OPN=W,
                        READ=N,
                        SIZ=Y},
  FLD=    {
                        DESC="p.Requested code",
                        PIC="2P0Z",
                        STRG=1,
                        ATTR=N,
                        SIZ=2,
                        WHLE=2,
                        TYP=140,
   RSRCE=  {
                                MDFY=Y,
                                TRNS=I,
                                DEF=N,
                                MOD=B,
                                CTRL=E,
                                CTRL_STP="         0.00000",
                                NUL_ALW=N,
                                DEF_VAL="0",
                                DEF_NULL=N,
                                STYLE=65536,
                                IDX_COLOR=1,
                                IDX_FONT=1
                                }
   },
  FLD=    {
                        DESC="p.Description",
                        PIC="50",
                        STRG=1,
                        ATTR=A,
                        SIZ=50,
                        TYP=87,
   RSRCE=  {
                                MDFY=Y,
                                TRNS=I,
                                DEF=N,
                                MOD=B,
                                CTRL=E,
                                CTRL_STP="    100000.00000",
                                NUL_ALW=N,
                                DEF_NULL=N,
                                STYLE=2,
                                IDX_COLOR=1,
                                IDX_FONT=1
                                }
   },
  FLD=    {
                        DESC="bClear",
                        PIC="100",
                        STRG=1,
                        ATTR=A,
                        SIZ=100,
                        TYP=134,
                        RSRCE=  {
                                MDFY=Y,
                                TRNS=I,
                                DEF=N,
                                MOD=B,
                                CTRL=E,
                                CTRL_STP="         0.00000",
                                NUL_ALW=N,
                                DEF_NULL=N,
                                STYLE=65536,
                                IDX_COLOR=1,
                                IDX_FONT=1
                                }
                        },
  },
        DTLS=   {
                KEY=    {
                        FLD=1,
                        MOD=N
                        },
                DB=     {
                        DB=11
                        },
                FLW=O,
                DEL=N,
                END=N,
                EMOD=B,
                MOD={MOD=E},
                },
        },
}
-------------------------------------------------------




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Jul 28 10:21:36 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Grammar for lexing/parsing Python
In-Reply-To: <20020727152324.62432.qmail@web9306.mail.yahoo.com>
Message-ID: <7845DA36-A24E-11D6-89C0-0030653DE0D6@jguru.com>

I believe Monty was working on one.  Monty?

Ter

On Saturday, July 27, 2002, at 08:23  AM, Torsten Juergeleit wrote:

> Hi,
>
> does anyone know about an ANTLR grammar for a Python
> lexer/parser?
>
> I'm working on a Python-aware text editor
> (syntax-highlight, outline view) plugin for the
> Eclipse IDE.
> My current approach for the outline view is to use
> Jython (JavaCC-based Python parser) for parsing and
> visit Jython's internal AST to collect the outline
> information.
>
> An ANTLR-based lexer/parser with embedded Java code to
> collect the information necessary for an outline view
> while lexing/parsing seems to be more efficient than
> visiting a full-blown AST.
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Mon Jul 29 07:31:08 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Grammar for lexing/parsing Python
Message-ID: <170826586F3BD511910D0200C110AAA8032B4AED@memail03.bco-home.com>

I figured out how to lex it properly (doing the INDENT/DEDENT stuff) then
drifted into Java work and never finished the parser.

Monty

> -----Original Message-----
> From: Terence Parr [mailto:parrt@jguru.com]
> Sent: Sunday, July 28, 2002 10:22 AM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] Grammar for lexing/parsing Python
> 
> 
> I believe Monty was working on one.  Monty?
> 
> Ter
> 
> On Saturday, July 27, 2002, at 08:23  AM, Torsten Juergeleit wrote:
> 
> > Hi,
> >
> > does anyone know about an ANTLR grammar for a Python
> > lexer/parser?
> >
> > I'm working on a Python-aware text editor
> > (syntax-highlight, outline view) plugin for the
> > Eclipse IDE.
> > My current approach for the outline view is to use
> > Jython (JavaCC-based Python parser) for parsing and
> > visit Jython's internal AST to collect the outline
> > information.
> >
> > An ANTLR-based lexer/parser with embedded Java code to
> > collect the information necessary for an outline view
> > while lexing/parsing seems to be more efficient than
> > visiting a full-blown AST.
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tjuergeleit at yahoo.de  Mon Jul 29 07:51:05 2002
From: tjuergeleit at yahoo.de (Torsten Juergeleit)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Grammar for lexing/parsing Python
In-Reply-To: <170826586F3BD511910D0200C110AAA8032B4AED@memail03.bco-home.com>
Message-ID: <20020729145105.63013.qmail@web9302.mail.yahoo.com>

Monty,

anything left you are willing to share ;-)?
Lexing is totally fine for me.

Torsten

--- mzukowski@yci.com wrote:
> I figured out how to lex it properly (doing the
> INDENT/DEDENT stuff) then
> drifted into Java work and never finished the
> parser.
> 
> Monty
> 
> > -----Original Message-----
> > From: Terence Parr [mailto:parrt@jguru.com]
> > Sent: Sunday, July 28, 2002 10:22 AM
> > To: antlr-interest@yahoogroups.com
> > Subject: Re: [antlr-interest] Grammar for
> lexing/parsing Python
> > 
> > 
> > I believe Monty was working on one.  Monty?
> > 
> > Ter
> > 
> > On Saturday, July 27, 2002, at 08:23  AM, Torsten
> Juergeleit wrote:
> > 
> > > Hi,
> > >
> > > does anyone know about an ANTLR grammar for a
> Python
> > > lexer/parser?
> > >
> > > I'm working on a Python-aware text editor
> > > (syntax-highlight, outline view) plugin for the
> > > Eclipse IDE.
> > > My current approach for the outline view is to
> use
> > > Jython (JavaCC-based Python parser) for parsing
> and
> > > visit Jython's internal AST to collect the
> outline
> > > information.
> > >
> > > An ANTLR-based lexer/parser with embedded Java
> code to
> > > collect the information necessary for an outline
> view
> > > while lexing/parsing seems to be more efficient
> than
> > > visiting a full-blown AST.
> > --
> > Co-founder, http://www.jguru.com
> > Creator, ANTLR Parser Generator:
> http://www.antlr.org
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to 
> > http://docs.yahoo.com/info/terms/ 
> > 
> > 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do You Yahoo!?
Yahoo! Health - Feel better, live better
http://health.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From lgc at mail1.jpl.nasa.gov  Mon Jul 29 11:24:15 2002
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Re: Problems with token class-type override feature (with C# codegen)
In-Reply-To: <ahtlr6+3aqg@eGroups.com>
Message-ID: <ai418f+fra9@eGroups.com>

Micheal--

Manually constructed AST nodes use the default AST type--Ric says that 
he's fixed that for C++ (although I don't remember if that is yet in 
an available version).  The ASTFactory needs to use a table of token 
values and classes to make this work properly.

For automatic construction, ANTLR creates ASTs using the specified 
classes, but doesn't do typecasting properly.  The solution that I 
found was to modify the code generation to specify all AST variables 
declared by ANTLR as being of type "AST"--that effectively avoids the 
typecasting problems since ANTLR only references the child and sibling 
fields.

--Loring


--- In antlr-interest@y..., "micheal_jor" <open.zone@v...> wrote:
> Hi,
> 
> While exploring the idea of custom AST classes, I noticed that the 
> feature is supposed to that allow me to specify alternative AST 
> classes on a per-token basis isn't working.
> 
> I specified the following in my grammar but in the generated code 
the 
> default AST class type is still used for all nodes. There is no 
> reference to the specified class type at all.
> 
>     tokens
>     {
>       LOCK_STMT<AST=LockStatement>;
>     }
> 
> I though it might be related to the fact that I use manual 
> treebuilding commands such as:
> 
>     lockStatement
>       :  LOCK! 
>          (  ( LPAREN! stmtList )=> LPAREN! expression RPAREN! block
>             { ## = #( [LOCK_STMT, "LOCK_STMT"], ##); } 
>          |  block
>             { ## = #( [LOCK_DIRECTIVE, "LOCK_DIRECTIVE"], ##); } 
>          )
>       ;
> 
> This is with C#. Does this feature work at all?. If it does, can 
> anyone give me a quick pointer to what I should look out for in 
> fixing the C# codegen pls (it needs an update soon anyways 
methinks).
> 
> Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Mon Jul 29 12:30:11 2002
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Re: Problems with token class-type override feature (with C# codegen)
In-Reply-To: <ai418f+fra9@eGroups.com>
Message-ID: <ai4543+jrdf@eGroups.com>

Thanks for the reply Loring:

> Manually constructed AST nodes use the default AST type--Ric says 
that 
> he's fixed that for C++ (although I don't remember if that is yet 
in 
> an available version).  The ASTFactory needs to use a table of 
token 
> values and classes to make this work properly.

OK. I hope Ric can clarify that particular point.

I'll have a quick peek to see if I can coax ANTLR, ASTFactory and the 
C# codegen into doing this myself seeing as I am right in the middle 
of a project.  ;-(

> For automatic construction, ANTLR creates ASTs using the specified 
> classes, but doesn't do typecasting properly.  The solution that I 
> found was to modify the code generation to specify all AST 
variables 
> declared by ANTLR as being of type "AST"--that effectively avoids 
the 
> typecasting problems since ANTLR only references the child and 
sibling 
> fields.

So the client code is properly responsible for it's own typecasting. 
OK. I'll keep this is mind too.

Once again, thanks for the reply.

Micheal


> --Loring
> 
> 
> --- In antlr-interest@y..., "micheal_jor" <open.zone@v...> wrote:
> > Hi,
> > 
> > While exploring the idea of custom AST classes, I noticed that 
the 
> > feature is supposed to that allow me to specify alternative AST 
> > classes on a per-token basis isn't working.
> > 
> > I specified the following in my grammar but in the generated code 
> the 
> > default AST class type is still used for all nodes. There is no 
> > reference to the specified class type at all.
> > 
> >     tokens
> >     {
> >       LOCK_STMT<AST=LockStatement>;
> >     }
> > 
> > I though it might be related to the fact that I use manual 
> > treebuilding commands such as:
> > 
> >     lockStatement
> >       :  LOCK! 
> >          (  ( LPAREN! stmtList )=> LPAREN! expression RPAREN! 
block
> >             { ## = #( [LOCK_STMT, "LOCK_STMT"], ##); } 
> >          |  block
> >             { ## = #( [LOCK_DIRECTIVE, "LOCK_DIRECTIVE"], ##); } 
> >          )
> >       ;
> > 
> > This is with C#. Does this feature work at all?. If it does, can 
> > anyone give me a quick pointer to what I should look out for in 
> > fixing the C# codegen pls (it needs an update soon anyways 
> methinks).
> > 
> > Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Mon Jul 29 13:12:52 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Grammar for lexing/parsing Python
Message-ID: <170826586F3BD511910D0200C110AAA8032B4AF2@memail03.bco-home.com>

See this message for the approach I used:
http://groups.yahoo.com/group/antlr-interest/message/3657

There's also this one
http://groups.yahoo.com/group/antlr-interest/message/1476 which mentions
trying a DEDENT token with the dedent count embedded in it.  That won't
really work for parsing, but it would be trivial to write a token stream
which monitors for DEDENT tokens and spews exactly the number needed before
returning the following token.

It was about 5 years ago now that I worked on that little project, and I'm
on a new machine now...  I'll see if I can dig up a CDR backup that has that
stuff on it, but it will probably be quicker for you to just get started and
use that approach.  I didn't have a complete lexer, all I specifically
remember solving was the INDENT/DEDENT problem.

Monty

> -----Original Message-----
> From: Torsten Juergeleit [mailto:tjuergeleit@yahoo.de]
> Sent: Monday, July 29, 2002 7:51 AM
> To: antlr-interest@yahoogroups.com
> Subject: RE: [antlr-interest] Grammar for lexing/parsing Python
> 
> 
> Monty,
> 
> anything left you are willing to share ;-)?
> Lexing is totally fine for me.
> 
> Torsten
> 
> --- mzukowski@yci.com wrote:
> > I figured out how to lex it properly (doing the
> > INDENT/DEDENT stuff) then
> > drifted into Java work and never finished the
> > parser.
> > 
> > Monty
> > 
> > > -----Original Message-----
> > > From: Terence Parr [mailto:parrt@jguru.com]
> > > Sent: Sunday, July 28, 2002 10:22 AM
> > > To: antlr-interest@yahoogroups.com
> > > Subject: Re: [antlr-interest] Grammar for
> > lexing/parsing Python
> > > 
> > > 
> > > I believe Monty was working on one.  Monty?
> > > 
> > > Ter
> > > 
> > > On Saturday, July 27, 2002, at 08:23  AM, Torsten
> > Juergeleit wrote:
> > > 
> > > > Hi,
> > > >
> > > > does anyone know about an ANTLR grammar for a
> > Python
> > > > lexer/parser?
> > > >
> > > > I'm working on a Python-aware text editor
> > > > (syntax-highlight, outline view) plugin for the
> > > > Eclipse IDE.
> > > > My current approach for the outline view is to
> > use
> > > > Jython (JavaCC-based Python parser) for parsing
> > and
> > > > visit Jython's internal AST to collect the
> > outline
> > > > information.
> > > >
> > > > An ANTLR-based lexer/parser with embedded Java
> > code to
> > > > collect the information necessary for an outline
> > view
> > > > while lexing/parsing seems to be more efficient
> > than
> > > > visiting a full-blown AST.
> > > --
> > > Co-founder, http://www.jguru.com
> > > Creator, ANTLR Parser Generator:
> > http://www.antlr.org
> > > 
> > > 
> > >  
> > > 
> > > Your use of Yahoo! Groups is subject to 
> > > http://docs.yahoo.com/info/terms/ 
> > > 
> > > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to
> > http://docs.yahoo.com/info/terms/ 
> > 
> > 
> 
> 
> __________________________________________________
> Do You Yahoo!?
> Yahoo! Health - Feel better, live better
> http://health.yahoo.com
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Tue Jul 30 02:17:32 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Problems with token class-type override feature (with C# codegen)
In-Reply-To: <ahtlr6+3aqg@eGroups.com>; from open.zone@virgin.net on Sat, Jul 27, 2002 at 08:32:38AM -0000
References: <ahtlr6+3aqg@eGroups.com>
Message-ID: <20020730111730.A6567@cs.utwente.nl>

Hi,

On Sat, Jul 27, 2002 at 08:32:38AM -0000, micheal_jor wrote:
> While exploring the idea of custom AST classes, I noticed that the 
> feature is supposed to that allow me to specify alternative AST 
> classes on a per-token basis isn't working.

If you started with the java codegen as basepoint for c# then this does not
surprise me :)

> I specified the following in my grammar but in the generated code the 
> default AST class type is still used for all nodes. There is no 
> reference to the specified class type at all.
> 
>     tokens
>     {
>       LOCK_STMT<AST=LockStatement>;
>     }
> 
> I though it might be related to the fact that I use manual 
> treebuilding commands such as:
> ..
>             { ## = #( [LOCK_STMT, "LOCK_STMT"], ##); } 
> ..

The automatic ones work (mostly) the manual syntax you use is broken. The
interface between action.g and the rest of antlr is quite flawed and even
my solution is a hack at most. (at least the interface between
codegenerator and action.g, the factory is the right thing I think)

> This is with C#. Does this feature work at all?. If it does, can 
> anyone give me a quick pointer to what I should look out for in 
> fixing the C# codegen pls (it needs an update soon anyways methinks).

Look at 2.7.2a's C++ codegenerator and action.g interface. I'm now at home
having a week off so I don't have sources handy enough to elaborate on
this. :( Next week when I get back I can give some more info if needed
(remind me though :) ).

If you do a search on action.g then you'll probably turn up a few of my
rants as well on what's broken in the interface.

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     Innovation makes enemies of all those who prospered under the old
   regime, and only lukewarm support is forthcoming from those who would
               prosper under the new. --- Niccolò Machiavelli


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From merrells at sleepycat.com  Tue Jul 30 19:07:32 2002
From: merrells at sleepycat.com (John Merrells)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] reuse lexer and parser objects
Message-ID: <3D474664.8000304@sleepycat.com>


I'm using Antlr 2.7.1 to generate a C++ lexer and parser. I'm finding that
the construction and destruction of these objects is pretty heavy, so I'd
like to just keep them hanging around and reuse them for each parse
that I need to do. The question is how do I do that? I looked on
CharScanner and LlkParser for reset methods, but don't see anything
obvious. Your suggestions are most welcome.

John


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From remi.koutcherawy at wanadoo.fr  Wed Jul 31 06:17:51 2002
From: remi.koutcherawy at wanadoo.fr (Remi)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Walking an AST with a TreeParser
Message-ID: <001801c23894$ac571a60$6f14a8c0@wanadoo.fr>

I am looking for a way to traverse completely an AST with a TreeParser.
How can you visit all the leafs with a simple rule ?

sibling   :  #( . sibling)  | . sibling ;

doesn't work, it ends with a "<AST>: unexpected end of subtree"

My intent is to look only for special nodes without
either handcode in java or import a whole grammar.

R?mi



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Wed Jul 31 07:46:07 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:14:56 2004
Subject: [antlr-interest] Walking an AST with a TreeParser
Message-ID: <170826586F3BD511910D0200C110AAA8032B4B06@memail03.bco-home.com>

A grammar is the wrong way to do what you want.  You would need a syntactic
predicate in the rule below, and also have to handle the case where the node
has both a child and a sibling.

Instead try using the findAll() or findAllPartial() methods defined in
AST.java and implemented in BaseAST.java.

Monty

> -----Original Message-----
> From: Remi [mailto:remi.koutcherawy@wanadoo.fr]
> Sent: Wednesday, July 31, 2002 6:18 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Walking an AST with a TreeParser
> 
> 
> I am looking for a way to traverse completely an AST with a 
> TreeParser.
> How can you visit all the leafs with a simple rule ?
> 
> sibling   :  #( . sibling)  | . sibling ;
> 
> doesn't work, it ends with a "<AST>: unexpected end of subtree"
> 
> My intent is to look only for special nodes without
> either handcode in java or import a whole grammar.
> 
> R?mi
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

