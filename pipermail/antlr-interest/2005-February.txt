From jeremy.rayner at gmail.com  Tue Feb  1 00:52:16 2005
From: jeremy.rayner at gmail.com (Jeremy Rayner)
Date: Tue Feb  1 00:52:17 2005
Subject: [antlr-interest] Lean runtime jar
Message-ID: <90a60e7605020100521357661c@mail.gmail.com>

Hi,
  Is there a leaner runtime jar than the 400k antlr-2.7.5.jar on the
download page?
A well known subset of classes?  I know that LLkParser.class etc are needed for
runtime execution of an antlr generated parser, but I'd imagine some of the
code generation classes don't need to be distributed with the runtime.

Should I begin a quick 'java -verbose' style analysis, or has someone
on this list
already assembled a lean runtime jar.

Thanks for a great tool, it's making groovy great :-)

jez.

-- 
http://javanicus.com/blog2
From ric.klaren at gmail.com  Tue Feb  1 01:10:34 2005
From: ric.klaren at gmail.com (Ric Klaren)
Date: Tue Feb  1 01:10:37 2005
Subject: [antlr-interest] Lexer/Parser invocation
In-Reply-To: <B1180416E5C44E49AE556D23DBB45B29061190@webmail.starthis.com>
References: <B1180416E5C44E49AE556D23DBB45B29061190@webmail.starthis.com>
Message-ID: <bc607a4e050201011011c9f27a@mail.gmail.com>

On Mon, 31 Jan 2005 15:29:54 -0600, Bharath Sundararaman
<Bharath.Sundararaman@starthis.com> wrote:
> Lexer l = new lexer("source code goes here");
> Parser p = new Parser(l); // l is the Lexer object
> Parser.topRule(); // top most rule
> 
> I use ANTLR in a Java based environment and I saw the following post on
> the grp:
> 
> http://www.antlr.org/pipermail/antlr-interest/2004-June/008230.html
> 
> I could not find the method signatures listed in this post. For example,
> the parser constructor seems to have a pointer (in C++) to a lexer and
> symbol_information? (Slightly lost here)

The symbol_information is a copy-paste error from the original code
the rest should be ok. The other method signatures should be present,
or maybe a small difference with the original antlr would be possible
since I use custom constructors inside that project. But basically a
look at the header files should make things clear?

Cheers,

Ric
From tribble at e-dean.com  Tue Feb  1 01:50:11 2005
From: tribble at e-dean.com (Dean Tribble)
Date: Tue Feb  1 01:50:16 2005
Subject: [antlr-interest] i have a problem with multiplexing.Can anyone
	help me?
In-Reply-To: <41FEE73D.000032.10851@m164.163.com>
References: <41FEE73D.000032.10851@m164.163.com>
Message-ID: <41FF50D3.30209@e-dean.com>

I think that the problem in the code below is that you must pass
getInputState() rather than selector to the newly created parser.
Otherwise, they are not sharing the look ahead buffer.

Three additional classes of problems I ran into were:

- if the token sets are not compatible (i.e., common tokens need to be
the same in all grammars) then you get strange results because a
perfectly legitimate token in one lexer shows up as a strange token in
another. You either need to explicitly declare some of the tokens in a
common vocabulary, and make sure that all the grammars import the
appropriate vocabularies.

- look-ahead timing: the lexer lookahead and therefore the lexer actions
happen before the corresponding parser actions. Thus, you could have
tokens from one lexer being visible to the other parser. Unless you
*relly* need a different identifier set, combine the grammars and just
use separate lexers. I have a slightly different approach to rewind and
such taht also help address the problem, which I will send to the list
in the next few days (I just got this stuff working a few days ago).

- it was not clear to me whether the production that invokes the other
parser will end up with the other parser's result on the local stack. To
eliminate this concern, I had something like:

pattHole : ATCURLY!
{ EParser p = new EParser(getInputState());
p.pattern();
## = p.getAST(); // get the production from the EParser to this parser.
}
"}"!
;

It may be that that falls out of the shared input state, however. I
didn't figure out because I realized that changing to a single grammar
on multiple lexers simplified things.

何超 wrote:

> i've realized two separate grammars, one for java code analyse, the
> other for javadoc embedded in the java file. Then i try to link them
> together using the
> technology multiplexing. The critical parts are as follows:
> ---------- in java.g ------------------
> ...
>
> JAVADOC_OPEN: "/**"
> {
> selector.select("javadocLexer");
>
> // create a parser to handle the javadoc comment
> JavadocParser jdocparser = new JavadocParser(selector);
> jdocparser.comment();
> };
>
> ...
> ---------- in javadoc.g ------------------
> ...
>
> javadoc_comment
> : (options{greedy=true;}:STAR)*
> ( (AT)=>AT javadoc_tag | description )
> javadoc_tags
> JAVADOC_CLOSE //here without EOF, and i believe no need
> ;
> ...
> ...
>
> JAVADOC_CLOSE: "*/" {selector.select("javaLexer");};
> ...
>
> ----------------------- Test.java---------------------------------
>
> import java.io.*;
> import antlr.CommonAST;
> import antlr.collections.AST;
> import antlr.debug.misc.ASTFrame;
> import java.util.*;
> import antlr.TokenStreamSelector;
>
>
> class Test{
>
> public static void main(String[] args)
> {
> try {
> TokenStreamSelector selector = new TokenStreamSelector();
>
> JavaLexer mainLexer = new JavaLexer(
> new FileInputStream(args[0]));
> mainLexer.selector = selector;
>
> JavadocLexer docLexer =
> new JavadocLexer (mainLexer.getInputState());
> docLexer.selector = selector;
>
> selector.addInputStream(mainLexer, "javaLexer");
> selector.addInputStream(docLexer, "javadocLexer");
> selector.select("javaLexer");
>
> JavaParser parser = new JavaParser(selector);
> parser.compilationUnit();
>
> }catch(Exception e) {
> System.err.println("exception: "+e);
> }
> }
> }
> ---------- java file for
> testing-------------------------------------------
> package com;
>
> import java.io.*;
>
> //single-line comment
>
> /*multi-line comment*/
>
> public class A
> {
> public A()
> {
> }
>
> /**
> * javadoc comment
> *
> * @author hc
> * @version 1.0
> * @param i the first number
> * @param j the second number
> * @return the sum of two numbers
> * @cml my own defined javadoc tag for some special purpose
> */
> public int add(int i,int j)
> {
> return i+j;
> }
> }
> -----------------------------------------------------------------------------
> Then i got the error message:
> exception: line 24:5: expecting EOF, found 'public'
>
>
> i've been bewildered by this problem for quite a few days and look
> forward to help.
>
>
>
>
>
>
>
> ・网易126邮箱 --专业电子邮局 1.5G空间,30兆附件 http://www.126.com >>>
> <http://www.126.com> 


From tribble at e-dean.com  Tue Feb  1 02:06:15 2005
From: tribble at e-dean.com (Dean Tribble)
Date: Tue Feb  1 02:06:18 2005
Subject: [antlr-interest] brief analysis of java.g's tree building in
	2.x vs	proposed 3.0
In-Reply-To: <64770ffa5173a2f9eabe55b7452c41f8@cs.usfca.edu>
References: <64770ffa5173a2f9eabe55b7452c41f8@cs.usfca.edu>
Message-ID: <41FF5497.3070108@e-dean.com>

Terence Parr wrote:

> The real test of any proposal is to see what it looks like in
> practice. I have looked again at the java grammar. Here is some useful
> info.

For another antlr grammar, please check out:

http://www.erights.org/e-impls/e-on-e/egrammar/

which includes the grammar for the E language (and its two lexers). The
grammar is still under development (e.g., not all productions make the
right trees), but I spent a lot of time trying to figure out how to make
trees (e.g., for left and right associativity). I like the idea of
improving the tree construction support. I've tried very hard in the
grammars to stay within the antlr-only syntax, and avoid using Java
action code. Any cleanup so that the grammar is more obvious (and so
that the grammar is not shaped by the needs of tree construction) would
be excellent.

Incidentally, in your examples below, I don't understand why you don't
use the ## shortcut to refer to the current node when comparing new and
old syntaxes. For example,

> modifiers
> : ( modifier )*
> {#modifiers = #([MODIFIERS, "MODIFIERS"], #modifiers);}
> ;

should be
modifiers
: ( modifier )*
{##= #([MODIFIERS, "MODIFIERS"], ##);}
;

which, while easy to improve upon, is still a lot less verbose than the
previous version.

> implementsClause
> : ( i:"implements"! identifier ( COMMA! identifier )* )?
> {#implementsClause = #(#[IMPLEMENTS_CLAUSE,"IMPLEMENTS_CLAUSE"],
> #implementsClause);}
> ;

implementsClause
: ( "implements"! identifier ( COMMA! identifier )* )?
{##= #([IMPLEMENTS_CLAUSE,"IMPLEMENTS_CLAUSE"],##);}
;
another example.

A particular thing I wanted to be able to do is to say "for the node in
which you recognize "if", make the node of type IfExpr, but I had to
explicitly either set the type or create a new parent node.

>
>
>

From monty at codetransform.com  Tue Feb  1 05:58:24 2005
From: monty at codetransform.com (Monty Zukowski)
Date: Tue Feb  1 08:58:31 2005
Subject: [antlr-interest] brief analysis of java.g's tree building in
	2.x vs	proposed 3.0
Message-ID: <41FF8B00.9030305@codetransform.com>


Dean Tribble wrote:
 > Terence Parr wrote:
 >
 >
 >>The real test of any proposal is to see what it looks like in
 >>practice. I have looked again at the java grammar. Here is some useful
 >>info.
 >
 >
 > For another antlr grammar, please check out:
 >
 > http://www.erights.org/e-impls/e-on-e/egrammar/
 >
 > which includes the grammar for the E language (and its two lexers). The
 > grammar is still under development (e.g., not all productions make the
 > right trees), but I spent a lot of time trying to figure out how to make
 > trees (e.g., for left and right associativity). I like the idea of
 > improving the tree construction support. I've tried very hard in the
 > grammars to stay within the antlr-only syntax, and avoid using Java
 > action code. Any cleanup so that the grammar is more obvious (and so
 > that the grammar is not shaped by the needs of tree construction) would
 > be excellent.

With 2.7.x it is hard to avoid modifying the grammar for the sake of the 
trees.  Do you have any other than an aesthetic reason for doing so? 
Note that you've already modified your grammar from a higher level EBNF 
to deal with the practical problems of LL parsing, like disambiguation.

For most all of my projects the crucial element has been the tree 
structure, which needs to be designed with the transformation tasks in 
mind.  All of my interesting work is based on the tree structure, not 
the grammar.  With 2.8, (and I assume 3.0), the tree structures flow 
more gracefully from the grammar.  2.7 isn't quite as friendly.

Do you already have tree structures dictated by your compiler?  Or is 
this an exercise in learning how it would be done the ANTLR way?

Monty


From Kurt.E.McCall at nasa.gov  Tue Feb  1 14:08:26 2005
From: Kurt.E.McCall at nasa.gov (McCall, Kurt)
Date: Tue Feb  1 14:09:11 2005
Subject: [antlr-interest] Problem linking C++ parser on Tru64 Unix 5.1
Message-ID: <EAFC0B8AFC4E3B42934CECA5232E45DD08621A@msecho2.msfc.nasa.gov>

Hi,

I'm getting a lot linker errors after compiling my parser.  I'm not sure if
I have made a mistake in the use of the linker, or if the archive libantlr.a
didn't "make" correctly.  Do any of these errors look familiar?

Thanks,
Kurt

ld:
Unresolved:
The virtual table '__vtbl_5antlr20RecognitionException__5antlr' for class
'antlr::RecognitionException' is undefined, make sure that the first
noninlined virtual member function is defined.  
The virtual table '__vtbl_5antlr23MismatchedCharException__5antlr' for class
'antlr::MismatchedCharException' is undefined, make sure that the first
noninlined virtual member function is defined.  
The virtual table '__vtbl_5antlr11CharScanner__5antlr' for class
'antlr::CharScanner' is undefined, make sure that the first noninlined
virtual member function is defined.  
antlr::CharScanner::consume(void)
antlr::CharScanner::panic(void)
antlr::CharScanner::panic(const std::basic_string<char,
std::char_traits<char>, std::allocator<char> >&)
antlr::CharScanner::reportError(const antlr::RecognitionException&)
antlr::CharScanner::reportError(const std::basic_string<char,
std::char_traits<char>, std::allocator<char> >&)
antlr::CharScanner::reportWarning(const std::basic_string<char,
std::char_traits<char>, std::allocator<char> >&)
antlr::CharScanner::traceIndent(void)
antlr::CharScanner::traceIn(const char*)
antlr::CharScanner::traceOut(const char*)
The virtual table '__vtbl_5antlr27NoViableAltForCharException__5antlr' for
class 'antlr::NoViableAltForCharException' is undefined, make sure that the
first noninlined virtual member function is defined.  
antlr::nullToken
antlr::CharScanner::CharScanner(antlr::InputBuffer*, bool)
antlr::CharBuffer::CharBuffer(std::basic_istream<char,
std::char_traits<char> >&)
antlr::CharScanner::CharScanner(antlr::InputBuffer&, bool)
antlr::CharScanner::CharScanner(const
antlr::RefCount<antlr::LexerInputState>&, bool)
antlr::BitSet::member(unsigned int) const 
antlr::NoViableAltForCharException::NoViableAltForCharException(int, const
std::basic_string<char, std::char_traits<char>, std::allocator<char> >&,
int, int)
antlr::BitSet::~BitSet(void)
antlr::MismatchedCharException::MismatchedCharException(int, int, bool,
antlr::CharScanner*)
antlr::MismatchedCharException::MismatchedCharException(int, antlr::BitSet,
bool, antlr::CharScanner*)
antlr::MismatchedCharException::MismatchedCharException(int, int, int, bool,
antlr::CharScanner*)
antlr::BitSet::BitSet(const unsigned long*, unsigned int)
The virtual table '__vtbl_5antlr9LLkParser__5antlr' for class
'antlr::LLkParser' is undefined, make sure that the first noninlined virtual
member function is defined.  
antlr::Parser::consumeUntil(int)
antlr::Parser::consumeUntil(const antlr::BitSet&)
antlr::Parser::match(int)
antlr::Parser::matchNot(int)
antlr::Parser::match(const antlr::BitSet&)
antlr::Parser::reportError(const antlr::RecognitionException&)
antlr::Parser::reportError(const std::basic_string<char,
std::char_traits<char>, std::allocator<char> >&)
antlr::Parser::reportWarning(const std::basic_string<char,
std::char_traits<char>, std::allocator<char> >&)
antlr::Parser::panic(void)
antlr::Parser::traceIndent(void)
antlr::LLkParser::traceIn(const char*)
antlr::LLkParser::traceOut(const char*)
The virtual table '__vtbl_5antlr20NoViableAltException__5antlr' for class
'antlr::NoViableAltException' is undefined, make sure that the first
noninlined virtual member function is defined.  
antlr::LLkParser::LLkParser(antlr::TokenBuffer&, int)
antlr::LLkParser::LLkParser(antlr::TokenStream&, int)
antlr::LLkParser::LLkParser(const antlr::RefCount<antlr::ParserInputState>&,
int)
antlr::NoViableAltException::NoViableAltException(antlr::RefCount<antlr::Tok
en>, const std::basic_string<char, std::char_traits<char>,
std::allocator<char> >&)
antlr::ASTRef::getRef(const antlr::AST*)
antlr::ASTRef::~ASTRef(void)
antlr::TokenBuffer::mark(void)
antlr::TokenBuffer::rewind(unsigned int)
antlr::TokenBuffer::LA(unsigned int)
antlr::TokenBuffer::LT(unsigned int)
antlr::Parser::~Parser(void)


-------------------------------------
Kurt McCall
Modeling and Simulation Branch / EV43
NASA MSFC
(256) 961-4501

Pink Froyd Rules!
(it's a joke, people!)


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20050201/1e2f95f5/attachment.html
From Bharath.Sundararaman at starthis.com  Tue Feb  1 14:37:33 2005
From: Bharath.Sundararaman at starthis.com (Bharath Sundararaman)
Date: Tue Feb  1 14:37:35 2005
Subject: [antlr-interest] Throwing exceptions from rules.
Message-ID: <B1180416E5C44E49AE556D23DBB45B290611A0@webmail.starthis.com>

Hi all,

I have a tree parser which checks the AST generated by my parser for
type safety. I would like to define some exceptions of my own to display
type errors. For example, "TypeMismatchException" or
"InvocationException" or "IncompatibleOperandsException" and so on..

I am trying to throw these exceptions and handle them in the class that
contains the main() method which invokes the compiler so that I can
return errors to an app that passes source code to the compiler. 

The problem is I am forced to add the "throws" clause to each and every
rule in my tree walker for each exception. My tree walker has around
1000 rules and almost 50% of the rules are capable of throwing more than
one of the exceptions I mentioned above. I tried to add exceptions as
they are thrown in a list and return it to the calling program; However,
If I do this, I am unable to stop the compiler execution when an
exception is thrown. If I extend java.lang.RuntimeException to write my
Exception classes, I don't have to add the "throws" clause but it seems
to be a bad idea to mess with RuntimeExceptions in catch blocks.

Any ideas?

RIC: THANKS FOR YOUR ADVICE, I AM ABLE TO INITIALIZE MY LEXER/PARSER
JUST ONCE AND PASS DIFFERENT PIECES OF CODE BY JUST RESETTING STATES!

Thanks,

B.






-----Original Message-----
From: Ric Klaren [mailto:ric.klaren@gmail.com] 
Sent: Tuesday, February 01, 2005 3:11 AM
To: Bharath Sundararaman
Cc: ANTLR Interest
Subject: Re: [antlr-interest] Lexer/Parser invocation

On Mon, 31 Jan 2005 15:29:54 -0600, Bharath Sundararaman
<Bharath.Sundararaman@starthis.com> wrote:
> Lexer l = new lexer("source code goes here");
> Parser p = new Parser(l); // l is the Lexer object
> Parser.topRule(); // top most rule
> 
> I use ANTLR in a Java based environment and I saw the following post
on
> the grp:
> 
>
http://www.antlr.org/pipermail/antlr-interest/2004-June/008230.html
> 
> I could not find the method signatures listed in this post. For
example,
> the parser constructor seems to have a pointer (in C++) to a lexer and
> symbol_information? (Slightly lost here)

The symbol_information is a copy-paste error from the original code
the rest should be ok. The other method signatures should be present,
or maybe a small difference with the original antlr would be possible
since I use custom constructors inside that project. But basically a
look at the header files should make things clear?

Cheers,

Ric
From johnm-antlr at non.net  Tue Feb  1 15:24:26 2005
From: johnm-antlr at non.net (John D. Mitchell)
Date: Tue Feb  1 15:24:08 2005
Subject: [antlr-interest] ANTLR 3.0 tree construction proposal
In-Reply-To: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>
Message-ID: <16896.4010.859020.782455@despot.non.net>

Re:  ^^

It's about time!  :-)

I don't like the change of semantics for ^ but I must agree with the
argument that ^^ makes more sense for the rule root and ^ for the local
root.


Re:  ->

Definitely better than =>.


Re:  Tree rewrites

(A) Getting rid of the e.g., #(...) is good by me.

(B) I'm concerned by the need to repeat the arguments in the RHS such as in:

decl : "var" (ID ':' type ';')+ -> ^("var" ^(':' ID type)+) ;

What happens when there's two "var"s?  Which "var" is going to be used as
the basis on the RHS?

Heck, what about typos?

[Yes, I understand that they can be explicitly labeled -- I'm asking about
these "simple" cases.]

(C) I haven't used Loring's stuff so I'm going to re-read his comments in
this thread and think about them.


Re: Imaginary Nodes

I find the LPAREN[] utterly distasteful and expect that it will cause hard
to see errors.


Re: Actions in rewrite rules

You need to expand/clarify that section in your document.


Re: Rewrite specs in subrules

No, I don't buy either of your arguments.

I think it's more clear and controllable to (finally) support labelling the
subrules.  The subrule rewrites are then constrained to be bound to the
label which is used in the overall rewrite rule for the rule.


Re: Attribute integration

As I've noted previously, I don't like the co-mingling of the dynamic
attributes and the local attributes.  I think it's important that those
separate but related constructions appear distinct from each other.


Re: Rewrite dependent on semantics

(A) I like the use of semantic predicates for this.

(B) Is it just me or is the ? at the end of the semantic predicates
ridiculously hard to see?  I'd love to see that move to be a prefix, i.e.,:
  ?{...}
The left edge is (with any non-insane formatting convention) always easier
for humans to scan and parse.


Re: Other Issues that I didn't see addressed in your blog...

(A) Payload games

Hmm... Don't we need to support the ability to treat the payload as e.g., a
list of payloads?  I.e., I'd like the first payload in the AST node to be
the e.g., Token but then I want to add annotations that are tied to that
node (rather than building e.g., a map).


(B) Tree to tree transformations basics

Basic question: is anything that you're thinking of doing going to make it
(a) easier, clearer, etc. or (b) more confusing, harder, etc. in the
multiple tree-to-tree phases?


(C) Tree surgery

Moving beyond the simplistic cases in (A), all of the interesting work
being done in tree tranforms is real surgery of the tree.  I.e.,
transformations which take place across a number of rules working in
conjunction.

A couple of areas that come immediately to mind are the need for labelled
subrules and being able to pass (and use) trees (aka tree fragments) around
in dynamic attributes (both down/inherited and up/synthesized) and as
parameters/return values.


(D) Error handling

You haven't gone into how the error handling would work with this.


Thanks,
	John
From Loring.G.Craymer at jpl.nasa.gov  Tue Feb  1 16:00:07 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Tue Feb  1 16:00:11 2005
Subject: [antlr-interest] ANTLR 3.0 tree construction proposal
In-Reply-To: <16896.4010.859020.782455@despot.non.net>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>
	<16896.4010.859020.782455@despot.non.net>
Message-ID: <6.1.1.1.2.20050201153410.01d9acf0@mail.jpl.nasa.gov>

At 03:24 PM 2/1/2005, John D. Mitchell wrote:
>(A) I like the use of semantic predicates for this.
>
>(B) Is it just me or is the ? at the end of the semantic predicates
>ridiculously hard to see?  I'd love to see that move to be a prefix, i.e.,:
>   ?{...}
>The left edge is (with any non-insane formatting convention) always easier
>for humans to scan and parse.

Actually, sem preds and construction preds are pretty clear in 
context--they are oddly placed for actions.  The right end also fits with 
the closure notation.



>Re: Other Issues that I didn't see addressed in your blog...
>
>(A) Payload games
>
>Hmm... Don't we need to support the ability to treat the payload as e.g., a
>list of payloads?  I.e., I'd like the first payload in the AST node to be
>the e.g., Token but then I want to add annotations that are tied to that
>node (rather than building e.g., a map).

No, because payloads are the unit of attribute manipulation.  You can 
define whatever fields (attributes) you like for payload classes for your 
specific application--just as for heteroASTs in 2.x--but you want a single 
data package at each node.

(C) Tree surgery

>Moving beyond the simplistic cases in (A), all of the interesting work
>being done in tree tranforms is real surgery of the tree.  I.e.,
>transformations which take place across a number of rules working in
>conjunction.

I have support for that hidden in 2.8--I haven't tested it (at the grammar 
level; I used JUnit when developing the support classes), but am not happy 
with my current syntax.  We talked about using attributes for that at the 
cabal, and that has possibilities.  One of the big problems is that this 
adds to the complexity of analysis for tree grammar generation--does the 
calling chain go through ()?, ()*, ()+, and is a tree fragment always 
passed into an insertion point?  That can be messy.


>A couple of areas that come immediately to mind are the need for labelled
>subrules and being able to pass (and use) trees (aka tree fragments) around
>in dynamic attributes (both down/inherited and up/synthesized) and as
>parameters/return values.

I've come around to this way of thinking, myself.  I could have easily 
implemented labeled subrules in 2.8, but didn't see it as a good solution 
at the time.



>(D) Error handling
>
>You haven't gone into how the error handling would work with this.

Eewwww.  You would open _that_ can of worms!

--Loring



>Thanks,
>         John


From johnm-antlr at non.net  Tue Feb  1 19:16:53 2005
From: johnm-antlr at non.net (John D. Mitchell)
Date: Tue Feb  1 19:16:35 2005
Subject: [antlr-interest] ANTLR 3.0 tree construction proposal
In-Reply-To: <6.1.1.1.2.20050201153410.01d9acf0@mail.jpl.nasa.gov>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>
	<16896.4010.859020.782455@despot.non.net>
	<6.1.1.1.2.20050201153410.01d9acf0@mail.jpl.nasa.gov>
Message-ID: <16896.17957.33984.895028@despot.non.net>

>>>>> "Loring" == Loring Craymer <Loring.G.Craymer@jpl.nasa.gov> writes:
>>>>>> At 03:24 PM 2/1/2005, John D. Mitchell wrote:
[...]

> (C) Tree surgery

>> Moving beyond the simplistic cases in (A), all of the interesting work
>> being done in tree tranforms is real surgery of the tree.  I.e.,
>> transformations which take place across a number of rules working in
>> conjunction.

> I have support for that hidden in 2.8--I haven't tested it (at the
> grammar level; I used JUnit when developing the support classes), but am
> not happy with my current syntax.  We talked about using attributes for
> that at the cabal, and that has possibilities.  One of the big problems
> is that this adds to the complexity of analysis for tree grammar
> generation--does the calling chain go through ()?, ()*, ()+, and is a
> tree fragment always passed into an insertion point?  That can be messy.

Sorry for being dense (it's been a long week :-) but... If the fragments
are in dynamic attributes, what's the analysis problem?


>> (D) Error handling

>> You haven't gone into how the error handling would work with this.

> Eewwww.  You would open _that_ can of worms!

:-)

AFAIAC, if we can't do high-quality error handling (detection,
logging/notification, and recovery) then whatever we're doing is wrong.

Thanks,
	John
From johnm-antlr at non.net  Tue Feb  1 19:50:45 2005
From: johnm-antlr at non.net (John D. Mitchell)
Date: Tue Feb  1 19:50:25 2005
Subject: [antlr-interest] added attributes/dynamic scoping blog entry
In-Reply-To: <16adb8961ef7dd48b186c26f682d74c7@cs.usfca.edu>
References: <16adb8961ef7dd48b186c26f682d74c7@cs.usfca.edu>
Message-ID: <16896.19989.484517.8329@despot.non.net>

>>>>> "Terence" == Terence Parr <parrt@cs.usfca.edu> writes:
[...]

> Added info on the current implementation of the attribute and dynamic
> scoping stuff.

> http://www.antlr.org/blog/antlr3/rewrite.tml

> Please let me know if you see anything totally hosed. ;)

We need a parallel to init actions for exiting rules.  I.e., remember that
we can't presume GC or destructors. :-) 

Also, given that de-init sucks :-)...  Does exit work for people?
Personally, I don't like init/exit pair 'cause they don't match.
enter/leave seems the most consistent pair at the moment.

Take care,
	John

From Loring.G.Craymer at jpl.nasa.gov  Tue Feb  1 20:38:48 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Tue Feb  1 20:38:50 2005
Subject: [antlr-interest] ANTLR 3.0 tree construction proposal
In-Reply-To: <16896.17957.33984.895028@despot.non.net>
Message-ID: <200502020438.j124cmx5024728@eis-msg-012.jpl.nasa.gov>



> -----Original Message-----
> From: John D. Mitchell [mailto:johnm-antlr@non.net]
> Sent: Tuesday, February 01, 2005 7:17 PM
> To: Loring Craymer
> Cc: ANTLR Interest
> Subject: Re: [antlr-interest] ANTLR 3.0 tree construction proposal
> 
> >>>>> "Loring" == Loring Craymer <Loring.G.Craymer@jpl.nasa.gov> writes:
> >>>>>> At 03:24 PM 2/1/2005, John D. Mitchell wrote:
> [...]
> 
> > (C) Tree surgery
> 
> >> Moving beyond the simplistic cases in (A), all of the interesting work
> >> being done in tree tranforms is real surgery of the tree.  I.e.,
> >> transformations which take place across a number of rules working in
> >> conjunction.
> 
> > I have support for that hidden in 2.8--I haven't tested it (at the
> > grammar level; I used JUnit when developing the support classes), but am
> > not happy with my current syntax.  We talked about using attributes for
> > that at the cabal, and that has possibilities.  One of the big problems
> > is that this adds to the complexity of analysis for tree grammar
> > generation--does the calling chain go through ()?, ()*, ()+, and is a
> > tree fragment always passed into an insertion point?  That can be messy.
> 
> Sorry for being dense (it's been a long week :-) but... If the fragments
> are in dynamic attributes, what's the analysis problem?

Each insertion point ends up defining a rule; the trick is to then find all
of the possible insertions, their relationships (if you insert bar after
foo, for example, or if bar and foo are alternative inserts), and account
for the optional [ ()? ] and looping [ ()* or ()+ ] constructs that enclose
the insert sources so that they can be reflected in the insertion point
rule.  I think that I understand the algorithm well enough to implement it
in two or three months of solid effort.

> 
> >> (D) Error handling
> 
> >> You haven't gone into how the error handling would work with this.
> 
> > Eewwww.  You would open _that_ can of worms!
> 
> :-)
> 
> AFAIAC, if we can't do high-quality error handling (detection,
> logging/notification, and recovery) then whatever we're doing is wrong.

A key point:  with automatically generated tree grammars, ANTLR errors can
only occur in the lexer or parser.  Even if Paul Lucas' idea of propagating
error trees is adopted, we can still handle that.  So the problem is one of
what error-handling support, if any, is provided to users for their use.

--Loring

> 
> Thanks,
> 	John

From johnm-antlr at non.net  Tue Feb  1 21:06:16 2005
From: johnm-antlr at non.net (John D. Mitchell)
Date: Tue Feb  1 21:05:56 2005
Subject: [antlr-interest] ANTLR 3.0 tree construction proposal
In-Reply-To: <200502020438.j124cmx5024728@eis-msg-012.jpl.nasa.gov>
References: <16896.17957.33984.895028@despot.non.net>
	<200502020438.j124cmx5024728@eis-msg-012.jpl.nasa.gov>
Message-ID: <16896.24520.26411.130057@despot.non.net>

>>>>> "Loring" == Loring Craymer <Loring.G.Craymer@jpl.nasa.gov> writes:
>>>>>>> "Loring" == Loring Craymer <Loring.G.Craymer@jpl.nasa.gov> writes:
>>>>>>>> At 03:24 PM 2/1/2005, John D. Mitchell wrote:
[...Tree surgery...]

>> Sorry for being dense (it's been a long week :-) but... If the
>> fragments are in dynamic attributes, what's the analysis problem?

> Each insertion point ends up defining a rule; the trick is to then find
> all of the possible insertions, their relationships (if you insert bar
> after foo, for example, or if bar and foo are alternative inserts), and
> account for the optional [ ()? ] and looping [ ()* or ()+ ] constructs
> that enclose the insert sources so that they can be reflected in the
> insertion point rule.  I think that I understand the algorithm well
> enough to implement it in two or three months of solid effort.

Ah, I see, I'm stupid and missed that you're talking specifically about
generating a tree grammar.  I don't personally care much about that.  I'm
much more concerned about being able to cleanly implement significant tree
surgery.


[...Error handling...]

>> AFAIAC, if we can't do high-quality error handling (detection,
>> logging/notification, and recovery) then whatever we're doing is wrong.

> A key point: with automatically generated tree grammars, ANTLR errors can
> only occur in the lexer or parser.  Even if Paul Lucas' idea of
> propagating error trees is adopted, we can still handle that.  So the
> problem is one of what error-handling support, if any, is provided to
> users for their use.

Huh?  You're talking about generating all of my tree grammars for me?  Did
I miss something?

Thanks,
	John
From Loring.G.Craymer at jpl.nasa.gov  Tue Feb  1 21:41:42 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Tue Feb  1 21:41:45 2005
Subject: [antlr-interest] ANTLR 3.0 tree construction proposal
In-Reply-To: <16896.24520.26411.130057@despot.non.net>
Message-ID: <200502020541.j125fgx5003365@eis-msg-012.jpl.nasa.gov>



> -----Original Message-----
> From: John D. Mitchell [mailto:johnm-antlr@non.net]
> Sent: Tuesday, February 01, 2005 9:06 PM
> To: Loring Craymer
> Cc: 'ANTLR Interest'
> Subject: RE: [antlr-interest] ANTLR 3.0 tree construction proposal
...
> > A key point: with automatically generated tree grammars, ANTLR errors
> can
> > only occur in the lexer or parser.  Even if Paul Lucas' idea of
> > propagating error trees is adopted, we can still handle that.  So the
> > problem is one of what error-handling support, if any, is provided to
> > users for their use.
> 
> Huh?  You're talking about generating all of my tree grammars for me?  Did

Modulo refactoring, yes.  And the set of refactorings for grammars looks to
be reasonably small--about 10 or so.  That's the key reason I developed a
target-language-independent construction syntax in the first place:  when
you specify the transformation, you provide enough information to define a
corresponding tree grammar which can then be refactored into a useful form.
The only piece missing right now is the insertion analysis.

> I miss something? 

Apparently!

--Loring

> Thanks,
> 	John

From johnm-antlr at non.net  Wed Feb  2 09:29:58 2005
From: johnm-antlr at non.net (John D. Mitchell)
Date: Wed Feb  2 09:29:38 2005
Subject: [antlr-interest] ANTLR 3.0 tree construction proposal
In-Reply-To: <200502020541.j125fgx5003365@eis-msg-012.jpl.nasa.gov>
References: <16896.24520.26411.130057@despot.non.net>
	<200502020541.j125fgx5003365@eis-msg-012.jpl.nasa.gov>
Message-ID: <16897.3606.360267.925141@despot.non.net>

>>>>> "Loring" == Loring Craymer <Loring.G.Craymer@jpl.nasa.gov> writes:
[...]

>> Huh?  You're talking about generating all of my tree grammars for me?
>> Did

> Modulo refactoring, yes.  And the set of refactorings for grammars looks
> to be reasonably small--about 10 or so.  That's the key reason I
> developed a target-language-independent construction syntax in the first
> place: when you specify the transformation, you provide enough
> information to define a corresponding tree grammar which can then be
> refactored into a useful form.  The only piece missing right now is the
> insertion analysis.

Hmm... But that presumes a constructivist approach.  I.e., one would have
to create the phases in order so that this automated tree grammar would be
constructed.  Sometimes, it's much better to e.g., work backwards from the
tree that you want and then determine the (sequence of) transformations to
make that.

In that sense, I guess that I'm saying that I'm less concerned with
automated tree grammar construction and very concerned with being able to
check that the output conforms of a phase conforms to the input of other
phases (i.e., the so-called tree diff tool).

Thanks,
	John

From Loring.G.Craymer at jpl.nasa.gov  Wed Feb  2 11:05:14 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Wed Feb  2 11:05:17 2005
Subject: [antlr-interest] ANTLR 3.0 tree construction proposal
In-Reply-To: <16897.3606.360267.925141@despot.non.net>
References: <16896.24520.26411.130057@despot.non.net>
	<200502020541.j125fgx5003365@eis-msg-012.jpl.nasa.gov>
	<16897.3606.360267.925141@despot.non.net>
Message-ID: <6.1.1.1.2.20050202105631.01e017b8@mail.jpl.nasa.gov>

At 09:29 AM 2/2/2005, John D. Mitchell wrote:
> >>>>> "Loring" == Loring Craymer <Loring.G.Craymer@jpl.nasa.gov> writes:
>[...]
>
> >> Huh?  You're talking about generating all of my tree grammars for me?
> >> Did
>
> > Modulo refactoring, yes.  And the set of refactorings for grammars looks
> > to be reasonably small--about 10 or so.  That's the key reason I
> > developed a target-language-independent construction syntax in the first
> > place: when you specify the transformation, you provide enough
> > information to define a corresponding tree grammar which can then be
> > refactored into a useful form.  The only piece missing right now is the
> > insertion analysis.
>
>Hmm... But that presumes a constructivist approach.  I.e., one would have
>to create the phases in order so that this automated tree grammar would be
>constructed.  Sometimes, it's much better to e.g., work backwards from the
>tree that you want and then determine the (sequence of) transformations to
>make that.

So you sketch backward and then implement forward.  The key is that 
automatic tree generation makes the implement forward phase very fast (I 
did tree transformation development for a pretty complete expression 
grammar in about 2 hours).


>In that sense, I guess that I'm saying that I'm less concerned with
>automated tree grammar construction and very concerned with being able to
>check that the output conforms of a phase conforms to the input of other
>phases (i.e., the so-called tree diff tool).

Check out <http://developer.berlios.de/projects/tdm/>.  It uses SAX parsing 
(shudder), but should be adaptable to an ANTLR front end.


>Thanks,
>         John


From johnm-antlr at non.net  Wed Feb  2 11:18:40 2005
From: johnm-antlr at non.net (John D. Mitchell)
Date: Wed Feb  2 11:18:21 2005
Subject: [antlr-interest] ANTLR 3.0 tree construction proposal
In-Reply-To: <6.1.1.1.2.20050202105631.01e017b8@mail.jpl.nasa.gov>
References: <16896.24520.26411.130057@despot.non.net>
	<200502020541.j125fgx5003365@eis-msg-012.jpl.nasa.gov>
	<16897.3606.360267.925141@despot.non.net>
	<6.1.1.1.2.20050202105631.01e017b8@mail.jpl.nasa.gov>
Message-ID: <16897.10128.628626.474087@despot.non.net>

>>>>> "Loring" == Loring Craymer <Loring.G.Craymer@jpl.nasa.gov> writes:
>>>>>> At 09:29 AM 2/2/2005, John D. Mitchell wrote:
[...]

>> Hmm... But that presumes a constructivist approach.  I.e., one would
>> have to create the phases in order so that this automated tree grammar
>> would be constructed.  Sometimes, it's much better to e.g., work
>> backwards from the tree that you want and then determine the (sequence
>> of) transformations to make that.

> So you sketch backward and then implement forward.  The key is that
> automatic tree generation makes the implement forward phase very fast (I
> did tree transformation development for a pretty complete expression
> grammar in about 2 hours).

Cool.

However, what about the cases where you've already built the system and now
are going around tweaking it?

Thanks,
	John
From Loring.G.Craymer at jpl.nasa.gov  Wed Feb  2 11:36:25 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Wed Feb  2 11:36:29 2005
Subject: [antlr-interest] ANTLR 3.0 tree construction proposal
In-Reply-To: <16897.10128.628626.474087@despot.non.net>
References: <16896.24520.26411.130057@despot.non.net>
	<200502020541.j125fgx5003365@eis-msg-012.jpl.nasa.gov>
	<16897.3606.360267.925141@despot.non.net>
	<6.1.1.1.2.20050202105631.01e017b8@mail.jpl.nasa.gov>
	<16897.10128.628626.474087@despot.non.net>
Message-ID: <6.1.1.1.2.20050202112557.01f75078@mail.jpl.nasa.gov>

At 11:18 AM 2/2/2005, John D. Mitchell wrote:
> >>>>> "Loring" == Loring Craymer <Loring.G.Craymer@jpl.nasa.gov> writes:
> >>>>>> At 09:29 AM 2/2/2005, John D. Mitchell wrote:
>[...]
>
> >> Hmm... But that presumes a constructivist approach.  I.e., one would
> >> have to create the phases in order so that this automated tree grammar
> >> would be constructed.  Sometimes, it's much better to e.g., work
> >> backwards from the tree that you want and then determine the (sequence
> >> of) transformations to make that.
>
> > So you sketch backward and then implement forward.  The key is that
> > automatic tree generation makes the implement forward phase very fast (I
> > did tree transformation development for a pretty complete expression
> > grammar in about 2 hours).
>
>Cool.
>
>However, what about the cases where you've already built the system and now
>are going around tweaking it?

Until we get something better, that's what grammar unit (rule-level) tests 
are for.  I've got first cut support for that in 2.8 using Ter's 
ParseTreeDebug stuff extended to handle tree walkers--that's how I test 
tree transformation and automatic tree grammar generation--but that is 
still a bit primitive.  A good mechanism for composing test cases 
hierarchically would help.  [For each Token in a rule, specify the textual 
equivalent; then do recursive substitution for rules that invoke other 
rules.]  That would not be very difficult to implement.  It just takes time ...

--Loring


>Thanks,
>         John


From tusharjog at gmail.com  Wed Feb  2 22:03:52 2005
From: tusharjog at gmail.com (Tushar Jog)
Date: Wed Feb  2 22:03:53 2005
Subject: [antlr-interest] Issue with antlr 2.7.5rc2
In-Reply-To: <bc607a4e0501280453446ec44a@mail.gmail.com>
References: <41da8b4c05012800296358ba9d@mail.gmail.com>
	<bc607a4e0501280453446ec44a@mail.gmail.com>
Message-ID: <41da8b4c0502022203232e1c56@mail.gmail.com>

Hello Ric,

attached you can find the tinyc cpp antlr example, modified by
me to illustrate the bug I saw.

I have used antlr rev. 2.7.5 this time and have seen the same issue.

As a test case, I have created a derived grammar tinycc.

do , make -f makfile.tinycc

the compilation will fail due to the missing literal for "for".

now edit TinyCCTokenTypes.hpp and add the following line in the
appropriate place
       TK_for = 28,
now edit TinyCCLexer.cpp and add the following line in the appropriate place
       literals["for"] = 28;

this should make it compile without errors.

Do you think that this is a bug, or am I doing something wrong in
my grammar ?

also, I have seen another issue when you add a new TOKEN in the
derived grammar that has a string literal, but antlr 2.7.5 handles
this correctly
as opposed to 2.7.5rc2 or 2.7.4. I cannot explain why though !!

regards
Tushar


On Fri, 28 Jan 2005 13:53:04 +0100, Ric Klaren <ric.klaren@gmail.com> wrote:
> On Fri, 28 Jan 2005 02:29:27 -0600, Tushar Jog <tusharjog@gmail.com> wrote:
> > on creating a DerivedGrammar (Parser and Lexer) from a BaseGrammer
> > (Parser and Lexer) ,
> > the new literals introduced in DerivedGrammar do not find there way into
> > DerivedGrammarLexer.cpp    DerivedGrammar::initLiterals()  function,
> > while the following files
> > DerivedGrammarTokenTypes.txt
> > DerivedGrammarTokenTypes.hpp
> > show that the new literals have been added here.
> >
> > I am using the cpp code generation of antlr.
> >
> > On hand editing DerivedGrammarLexer.cpp to add the new literals to
> > initLiterals() function, the DerivedGrammar parser correctly recognizes
> > the new literals as literals as opposed to identifiers.
> >
> > Is this a know or new bug ? Or is this behaviour expected ?
> 
> It's the first time I hear of this behaviour.
> 
> > The expandedGrammar.g file looks OK though, so I suspect that this is
> > a cpp code generator issue.
> 
> C++ mode does basically the same as Java mode (or at least it should)
> 
> Could you send me the input files/pruned down input files that show
> the behaviour and I'll have a look at it.
> 
> > Also, how does one submit BUG FIX requests for antlr ?
> 
> The list is a good spot, Terence is also a good person to start with,
> C++ stuff you can directly take up with me, I assume the other backend
> maintainers also have no trouble with being mailed directly.
> 
> Cheers,
> 
> Ric
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tinyc.tar.gz
Type: application/x-gzip
Size: 12792 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20050203/6e90612a/tinyc.tar.gz
From ric.klaren at gmail.com  Thu Feb  3 05:24:01 2005
From: ric.klaren at gmail.com (Ric Klaren)
Date: Thu Feb  3 05:24:04 2005
Subject: [antlr-interest] Issue with antlr 2.7.5rc2
In-Reply-To: <41da8b4c0502022203232e1c56@mail.gmail.com>
References: <41da8b4c05012800296358ba9d@mail.gmail.com>
	<bc607a4e0501280453446ec44a@mail.gmail.com>
	<41da8b4c0502022203232e1c56@mail.gmail.com>
Message-ID: <bc607a4e05020305247350ac5e@mail.gmail.com>

On Thu, 3 Feb 2005 00:03:52 -0600, Tushar Jog <tusharjog@gmail.com> wrote:
> attached you can find the tinyc cpp antlr example, modified by
> me to illustrate the bug I saw.

It looks like you expect a bit too much of the inheritance system of
antlr. The changes you want to make require a change to the lexer (for
the new "for" token) and a change to the parser for the for rule. As
far as I can see you never derive from the original lexer so the for
token gets 'lost', (the parser adds a value to the enum silently :(
but the literals table is never updated).

So to get things to work you can use a cclexer.g like this:

---snip----
options {  language="Cpp"; mangleLiteralPrefix = "TK_"; }

class TinyCCLexer extends TinyCLexer;
options {
        k=2;
        charVocabulary = '\3'..'\377';
        importVocab = TinyC;
        exportVocab = TinyCC;   // the lexer is now the 'boss' of the vocab
}

tokens {
        "for";
}
// include one rule else antlr will barf... :/
STAR:   '*'    ;
---snip----

This will get you a lexer that will recognize the "for" token as you
can see from the generated initLiterals:

void TinyCCLexer::initLiterals()
{
        literals["else"] = 7;
        literals["if"] = 6;
        literals["int"] = 4;
        literals["for"] = 27;
        literals["char"] = 5;
        literals["while"] = 8;
}

The parser should work then like this:

options { mangleLiteralPrefix = "TK_"; language="Cpp"; }

class TinyCCParser extends TinyCParser;
options {
    importVocab = TinyCC;  // import from the modified lexer
}

statement
	:	(declaration) => declaration
	|	expr SEMI
	|	TK_if LPAREN expr RPAREN statement
		( TK_else statement )?
	|	"while" LPAREN expr RPAREN statement
    | "for" LPAREN RPAREN statement
	|	block
	;

> Do you think that this is a bug, or am I doing something wrong in
> my grammar ?

So in the end you made a slight mistake. Although it's more or less
due to some antlr problems as well. Antlr accepts silently any new
tokens referenced in the parser, this is really annoying behaviour at
times (this would probably have resulted in a warning that would have
hinted at the problem). Another issue is that antlr is not very
consistent in behaviour when you combine lexer and parser in one file
it kinda obfuscates how the token definitions flow, things are more
consistent if you have lexer/parser/treeparser in separate files but
you have to have import/exportVocabs right and build in the right
order. And the inheritance system blows, for 3.0 some tool support is
planned/was talked about.

I built the stuff using:

java -cp antlr.jar antlr.Tool lexer.g
java -cp antlr.jar antlr.Tool -glib lexer.g cclexer.g
java -cp antlr.jar antlr.Tool -glib tinyc.g tinycc.g

Then glue the modified lexer/parser together.

Cheers,

Ric
From joanpujol at gmail.com  Thu Feb  3 08:01:25 2005
From: joanpujol at gmail.com (Joan Pujol)
Date: Thu Feb  3 08:02:07 2005
Subject: [antlr-interest] More than five properties in StringTemplate
Message-ID: <d2d18a10502030801c4a569a@mail.gmail.com>

Hello,

I have a question about StringTemplate. I'n my compiler-tanslator I
heavily use aggregrate attributes.
The problem is that now for one atributte i need to pass more than
five properites.
It's possible to do this?
I have tried with:
        HashMap attributes=new HashMap();
        atributtes.put("parameter.{paramone}",tipus);
	and ...
	also I tried attributes.put("parameter.paramone")

But It doesn't works. It's possible to do what I want to do? If not, I
think that will be nice that in a future version of StringTemplate....

A lot of thanks in advance,

-- 
Joan Jes?s Pujol Espinar
From ewbank at gmail.com  Thu Feb  3 09:15:21 2005
From: ewbank at gmail.com (Bryan Ewbank)
Date: Thu Feb  3 09:15:25 2005
Subject: [antlr-interest] guessing w/ predicates
In-Reply-To: <6.1.1.1.2.20050128121229.01f8c6a0@mail.jpl.nasa.gov>
References: <dd3a065f05012708316cedea83@mail.gmail.com>
	<000001c504af$c8d33540$0500a8c0@nigel>
	<dd3a065f05012807353a779736@mail.gmail.com>
	<6.1.1.1.2.20050128121229.01f8c6a0@mail.jpl.nasa.gov>
Message-ID: <dd3a065f050203091558af0f73@mail.gmail.com>

To summarize, Loring and Ric told my I misunderstood.  I saw the
discussion of predicate hoisting, but missed the fact that it applied
in this way as well.

The bug I thought I saw was in my brain :-)

So, how do I write a rule that traverses a whole tree and operates on
every node of a specific type?  I've written, for example:

// START
// THIS IS WRONG - DON'T DO IT.
root
   : (known)=>known
   | #(. (root)* )
   ;

known
   : (A) => #(A ... ) { process "A" node; }
   | (B) => #(B ... ) { process "B" node; }
   ;
// THIS IS WRONG - DON'T DO IT.
// END

If the predicates on known are not sufficient for the predicate on
root to match, how do I detect and reject a malformed "A" node that
does not match the #(A ...) shape?

Do I refactor the predicates thus:

root
   : (known_nodetype)=>known
   | #(. (root)* )
   ;

known_nodetype
   : (A|B)
   ;

known
   : #(A ... ) { process "A" node; }
   | #(B ... ) { process "B" node; }
   ;

It seems I have the same information in two places now - the nodetypes
of interest.

Off to rewrite my tree parsers :-(
From ewbank at gmail.com  Thu Feb  3 09:21:37 2005
From: ewbank at gmail.com (Bryan Ewbank)
Date: Thu Feb  3 09:21:40 2005
Subject: [antlr-interest] ANTLR 3.0 tree construction proposal
In-Reply-To: <6.1.1.1.2.20050202112557.01f75078@mail.jpl.nasa.gov>
References: <16896.24520.26411.130057@despot.non.net>
	<200502020541.j125fgx5003365@eis-msg-012.jpl.nasa.gov>
	<16897.3606.360267.925141@despot.non.net>
	<6.1.1.1.2.20050202105631.01e017b8@mail.jpl.nasa.gov>
	<16897.10128.628626.474087@despot.non.net>
	<6.1.1.1.2.20050202112557.01f75078@mail.jpl.nasa.gov>
Message-ID: <dd3a065f0502030921416234c9@mail.gmail.com>

For unit testing, I've found that I can write dummy "productions" in
tree grammars that return the input tree to test:

   // this "production" generates the tree to be traversed
   unittest_input: { ## = #( #[S,"S"], #( #[R,"R"], #[E,"E"]) ); } ;

So a unit test framework is
  1. call unittest_input to generate the input tree
  2. call the production to be tested
  3. compare the tree produced with the expected tree

It's enough for unit testing.
From christopher.d.schultz at comcast.net  Thu Feb  3 09:26:08 2005
From: christopher.d.schultz at comcast.net (Christopher Schultz)
Date: Thu Feb  3 09:24:15 2005
Subject: [antlr-interest] Lean runtime jar
In-Reply-To: <90a60e7605020100521357661c@mail.gmail.com>
References: <90a60e7605020100521357661c@mail.gmail.com>
Message-ID: <42025EB0.10109@comcast.net>

Jeremy,

>   Is there a leaner runtime jar than the 400k antlr-2.7.5.jar on the
> download page?
> A well known subset of classes?  I know that LLkParser.class etc are needed for
> runtime execution of an antlr generated parser, but I'd imagine some of the
> code generation classes don't need to be distributed with the runtime.
> 
> Should I begin a quick 'java -verbose' style analysis, or has someone
> on this list
> already assembled a lean runtime jar.

I would be interested in the same thing. I'd like to use an 
ANTLR-generated parser in production and have a somewhat smaller li 
directory.

Let me know what your list of required classes comes out to be.

-chris
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 254 bytes
Desc: OpenPGP digital signature
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20050203/77872b95/signature.bin
From jeremy.rayner at gmail.com  Thu Feb  3 13:43:40 2005
From: jeremy.rayner at gmail.com (Jeremy Rayner)
Date: Thu Feb  3 13:43:44 2005
Subject: [antlr-interest] Lean runtime jar
In-Reply-To: <42025EB0.10109@comcast.net>
References: <90a60e7605020100521357661c@mail.gmail.com>
	<42025EB0.10109@comcast.net>
Message-ID: <90a60e76050203134359d8110f@mail.gmail.com>

On Thu, 03 Feb 2005 12:26:08 -0500, Christopher Schultz
<christopher.d.schultz@comcast.net> wrote:
> >   Is there a leaner runtime jar than the 400k antlr-2.7.5.jar on the
> > download page?
>
> I would be interested in the same thing. I'd like to use an
> ANTLR-generated parser in production and have a somewhat smaller li
> directory.
> 
> Let me know what your list of required classes comes out to be.

OK, well I've done a quick parse and looked at the generated AST with
java -verbose switched on, so this is my first cut at required classes...

  http://tinyurl.com/3hras

Let me know if you find any missing classs for a normal 'runtime' execution
of antlr.

Hope this helps

jez.

-- 
http://javanicus.com/blog2
From jeremy.rayner at gmail.com  Thu Feb  3 13:51:27 2005
From: jeremy.rayner at gmail.com (Jeremy Rayner)
Date: Thu Feb  3 13:52:32 2005
Subject: [antlr-interest] Lean runtime jar
In-Reply-To: <90a60e76050203134359d8110f@mail.gmail.com>
References: <90a60e7605020100521357661c@mail.gmail.com>
	<42025EB0.10109@comcast.net>
	<90a60e76050203134359d8110f@mail.gmail.com>
Message-ID: <90a60e76050203135128999651@mail.gmail.com>

> OK, well I've done a quick parse and looked at the generated AST with
> java -verbose switched on, so this is my first cut at required classes...
> 
>   http://tinyurl.com/3hras

Whoops, slight typo, sorry.

This is a pointer to the latest version
  http://tinyurl.com/6fxr5

cheers,
jez.
-- 
http://javanicus.com/blog2
From Loring.G.Craymer at jpl.nasa.gov  Thu Feb  3 13:56:29 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Thu Feb  3 13:56:32 2005
Subject: [antlr-interest] Lean runtime jar
In-Reply-To: <90a60e76050203134359d8110f@mail.gmail.com>
References: <90a60e7605020100521357661c@mail.gmail.com>
	<42025EB0.10109@comcast.net>
	<90a60e76050203134359d8110f@mail.gmail.com>
Message-ID: <6.1.1.1.2.20050203135010.01e5f8f8@mail.jpl.nasa.gov>

A better way of extracting this information is to look at the lib/cpp/antlr 
and lib/csharp/src to identify classes.  You have made a pretty good start, 
but your list is missing items like TreeWalker.java and 
CommonASTWithHiddenTokens.java (yeah, I know:  this one is pretty obscure 
and not commonly used).  The C# library pretty faithfully mirrors the Java 
runtime, although there are some differences because of the differences in 
Java versus C# standard classes; C++ has diverged a bit more.

--Loring




At 01:43 PM 2/3/2005, Jeremy Rayner wrote:
>On Thu, 03 Feb 2005 12:26:08 -0500, Christopher Schultz
><christopher.d.schultz@comcast.net> wrote:
> > >   Is there a leaner runtime jar than the 400k antlr-2.7.5.jar on the
> > > download page?
> >
> > I would be interested in the same thing. I'd like to use an
> > ANTLR-generated parser in production and have a somewhat smaller li
> > directory.
> >
> > Let me know what your list of required classes comes out to be.
>
>OK, well I've done a quick parse and looked at the generated AST with
>java -verbose switched on, so this is my first cut at required classes...
>
>   http://tinyurl.com/3hras
>
>Let me know if you find any missing classs for a normal 'runtime' execution
>of antlr.
>
>Hope this helps
>
>jez.
>
>--
>http://javanicus.com/blog2


From Manaloto-Raymond at norc.org  Thu Feb  3 14:08:58 2005
From: Manaloto-Raymond at norc.org (Manaloto-Raymond)
Date: Thu Feb  3 14:07:53 2005
Subject: [antlr-interest] forgiving parser for expressions without a terminal
Message-ID: <D24E4512D88ECF4AAB7609839807FCF1012A1FF4@dtex1.norc.org>

I am trying to work with the Java grammar that is in the examples from
the download.

 

I was wondering if anybody had any suggestions on having ANTLR be more
forgiving for the expression part in the statement rule. Below is the
block I am talking about:

 

statement

            // A list of statements in curly braces -- start a new
scope!

            :           compoundStatement

 

            // declarations are ambiguous with "ID DOT" relative to
expression

            // statements.  Must backtrack to be sure.  Could use a
semantic

            // predicate to test symbol table to see what the type was
coming

            // up, but that's pretty hard without a symbol table ;)

            |           (declaration)=> declaration SEMI!

 

            // An expression statement.  This could be a method call,

            // assignment statement, or any other expression evaluated
for

            // side-effects.

            |           expression SEMI!

 

I want the expression alternative to not need the 'SEMI' terminal as I
am trying to build a very user friendly pseudo language where user's can
be allowed to "forget" to type in the terminating 'SEMI' (Like in
Javascript). Right now, if I don't require the terminating 'SEMI' I get
nondeterminism errors.

 

Any hints or ideas?

 

Any help would be greatly appreciated.

 

Raymond Manaloto

NORC

55 East Monroe Street Suite 1840
Chicago, IL 60603

Software Engineer

Work: (312) 759.5061

Fax: (312) 759.4200

Mobile: (773) 814.9666

manaloto-raymond@norc.org

AIM: sortakool

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20050203/9348eaf4/attachment.html
From Loring.G.Craymer at jpl.nasa.gov  Thu Feb  3 15:02:52 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Thu Feb  3 15:02:56 2005
Subject: [antlr-interest] forgiving parser for expressions without
	a terminal
Message-ID: <6.1.1.1.2.20050203150224.01fb5678@mail.jpl.nasa.gov>

An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20050203/527f2b50/attachment.html
From christopher.d.schultz at comcast.net  Thu Feb  3 15:15:07 2005
From: christopher.d.schultz at comcast.net (Christopher Schultz)
Date: Thu Feb  3 15:15:13 2005
Subject: [antlr-interest] Lean runtime jar
In-Reply-To: <90a60e76050203135128999651@mail.gmail.com>
References: <90a60e7605020100521357661c@mail.gmail.com>	<42025EB0.10109@comcast.net>	<90a60e76050203134359d8110f@mail.gmail.com>
	<90a60e76050203135128999651@mail.gmail.com>
Message-ID: <4202B07B.3000001@comcast.net>

Jeremy,

> OK, well I've done a quick parse and looked at the generated AST with
> java -verbose switched on, so this is my first cut at required classes...
> 
> 
> This is a pointer to the latest version
>   http://tinyurl.com/6fxr5

I had to make the following changes. I assume you didn't test this?

(Ugh, the diff pasted terribly. Here's a recap):

* Added mkdir antlr-runtime/collections/impl
* Added antlr/CharFormatter.class
* Changed antlr/collections/impl lines to copy to correct subdir

Note that I'm using antlr 2.7.3, but that shouldn't make much of a 
difference.

-chris

Here's the diff:

<==== cut here ====>

[antlr-runtime]$ diff -c make-antlr-runtime.sh~ make-antlr-runtime.sh
*** make-antlr-runtime.sh~      2005-02-03 17:55:14.000000000 -0500
--- make-antlr-runtime.sh       2005-02-03 18:09:02.000000000 -0500
***************
*** 13,18 ****
--- 13,19 ----
   mkdir antlr-runtime
   mkdir antlr-runtime/antlr
   mkdir antlr-runtime/antlr/collections
+ mkdir antlr-runtime/antlr/collections/impl
   mkdir antlr-runtime/antlr/debug
   mkdir antlr-runtime/antlr/debug/misc

***************
*** 24,29 ****
--- 25,31 ----
   cp antlr/BaseAST.class antlr-runtime/antlr
   cp antlr/ByteBuffer.class antlr-runtime/antlr
   cp antlr/CharBuffer.class antlr-runtime/antlr
+ cp antlr/CharFormatter.class antlr-runtime/antlr
   cp antlr/CharQueue.class antlr-runtime/antlr
   cp antlr/CharScanner.class antlr-runtime/antlr
   cp antlr/CharStreamException.class antlr-runtime/antlr
***************
*** 51,58 ****
   cp antlr/Token.class antlr-runtime/antlr
   cp antlr/collections/ASTEnumeration.class 
antlr-runtime/antlr/collections
   cp antlr/collections/AST.class antlr-runtime/antlr/collections
! cp antlr/collections/impl/ASTArray.class antlr-runtime/antlr/collections
! cp antlr/collections/impl/BitSet.class antlr-runtime/antlr/collections
   cp antlr/debug/misc/ASTFrame\$1.class antlr-runtime/antlr/debug/misc
   cp antlr/debug/misc/ASTFrame\$MyTreeSelectionListener.class 
antlr-runtime/antl
r/debug/misc
   cp antlr/debug/misc/ASTFrame.class antlr-runtime/antlr/debug/misc
--- 53,62 ----
   cp antlr/Token.class antlr-runtime/antlr
   cp antlr/collections/ASTEnumeration.class antlr-runtime/antlr/collections
   cp antlr/collections/AST.class antlr-runtime/antlr/collections
! cp antlr/collections/impl/ASTArray.class 
antlr-runtime/antlr/collections/impl
! cp antlr/collections/impl/BitSet.class 
antlr-runtime/antlr/collections/impl
! cp antlr/collections/impl/IntRange.class 
antlr-runtime/antlr/collections/impl
! cp antlr/collections/impl/Vector.class 
antlr-runtime/antlr/collections/impl
   cp antlr/debug/misc/ASTFrame\$1.class antlr-runtime/antlr/debug/misc
   cp antlr/debug/misc/ASTFrame\$MyTreeSelectionListener.class 
antlr-runtime/antl
r/debug/misc
   cp antlr/debug/misc/ASTFrame.class antlr-runtime/antlr/debug/misc
***************
*** 60,64 ****
   cp antlr/debug/misc/JTreeASTPanel.class antlr-runtime/antlr/debug/misc

   cd antlr-runtime
! jar cvf ../antlr-runtime.jar antlr
   cd ..
--- 64,68 ----
   cp antlr/debug/misc/JTreeASTPanel.class antlr-runtime/antlr/debug/misc

   cd antlr-runtime
! jar cvf ../antlr-2.7.3-runtime.jar antlr
   cd ..
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 254 bytes
Desc: OpenPGP digital signature
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20050203/dc6d1b38/signature.bin
From Jim.O'Connor at microfocus.com  Thu Feb  3 09:46:31 2005
From: Jim.O'Connor at microfocus.com (Jim O'Connor)
Date: Thu Feb  3 16:52:17 2005
Subject: [antlr-interest] Lean runtime jar
Message-ID: <3AC103F1B7EEEC48A855ACB1D2819E910395EE49@rock-corpmail.microfocus.com>

Hi Chris and Jeremy,
  I have an application with about 10 parsers/lexers.  The list of the
directly referenced classes is below.  Let me know if that helps.
Jim

Antlr Package
   ANTLRException 
   ANTLRHashString  
   ANTLRStringBuffer  
   ASTFactory  
   ASTPair  
   BaseAST  
   ByteBuffer  
   CharBuffer  
   CharScanner  
   CharStreamException  
   CharStreamIOException  
   CommonAST  
   CommonToken  
   DumpASTVisitor  
   InputBuffer  
   LLkParser  
   LexerSharedInputState  
   MismatchedCharException 
   MismatchedTokenException  
   NoViableAltException  
   NoViableAltForCharException  
   Parser  
   ParserSharedInputState  
   RecognitionException  
   SemanticException  
   Token  
   TokenBuffer  
   TokenStream  
   TokenStreamException  
   TokenStreamIOException  
   TokenStreamRecognitionException  
   TokenStreamSelector  
   TreeParser  

Antlr.collections Package
   AST
Antlr.collections

   ASTArray
   BitSet


> -----Original Message-----
> From: Christopher Schultz [mailto:christopher.d.schultz@comcast.net]
> Sent: Thursday, February 03, 2005 12:26 PM
> To: Jeremy Rayner
> Cc: antlr-interest@antlr.org
> Subject: Re: [antlr-interest] Lean runtime jar
> 
> Jeremy,
> 
> >   Is there a leaner runtime jar than the 400k antlr-2.7.5.jar on the
> > download page?
> > A well known subset of classes?  I know that LLkParser.class etc are
> needed for
> > runtime execution of an antlr generated parser, but I'd imagine some of
> the
> > code generation classes don't need to be distributed with the runtime.
> >
> > Should I begin a quick 'java -verbose' style analysis, or has someone
> > on this list
> > already assembled a lean runtime jar.
> 
> I would be interested in the same thing. I'd like to use an
> ANTLR-generated parser in production and have a somewhat smaller li
> directory.
> 
> Let me know what your list of required classes comes out to be.
> 
> -chris
From parrt at cs.usfca.edu  Thu Feb  3 17:03:27 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Thu Feb  3 16:56:57 2005
Subject: [antlr-interest] brief analysis of java.g's tree building in 2.x
	vsproposed 3.0
In-Reply-To: <200502010346.j113k2x5004787@eis-msg-012.jpl.nasa.gov>
References: <200502010346.j113k2x5004787@eis-msg-012.jpl.nasa.gov>
Message-ID: <725188ed6f19d05f388b895f34a71317@cs.usfca.edu>


On Jan 31, 2005, at 7:46 PM, Loring Craymer wrote:

> I'm going to try to stop after this response.  There are a couple of 
> inline
> 2.8 syntax variants below, but Ter has almost converged on 2.8 
> functionality
> with his introduction of subrule rewrites.  Consider interchanging 
> nodes:
>
> foo :
>     A B { A } C D ;

This one doesn't make sense to me :O

> or
> foo_a :
>     A B { B A } C D ;

This either.  Do you mean ^{ B A }?

> would be handled in Ter's syntax via
>
> foo_ter :
>     ( A B -> B A ) C D ;

actually

foo_ter :
   A B C D -> B A C D
   ;

I'm still thinking about the subrule with -> concept.

 >Unless I am mistaken, you have introduced the "complexity" that you
 >originally decried.  Am I correct in this?

Nope ;)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From parrt at cs.usfca.edu  Thu Feb  3 17:15:27 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Thu Feb  3 17:08:59 2005
Subject: [antlr-interest] brief analysis of java.g's tree building in 2.x
	vs	proposed 3.0
In-Reply-To: <41FF5497.3070108@e-dean.com>
References: <64770ffa5173a2f9eabe55b7452c41f8@cs.usfca.edu>
	<41FF5497.3070108@e-dean.com>
Message-ID: <ad275109cc84ac2a36cff3aeb9919d4e@cs.usfca.edu>


On Feb 1, 2005, at 2:06 AM, Dean Tribble wrote:
> Incidentally, in your examples below, I don't understand why you don't
> use the ## shortcut to refer to the current node when comparing new and
> old syntaxes. For example,
>
>> modifiers
>> : ( modifier )*
>> {#modifiers = #([MODIFIERS, "MODIFIERS"], #modifiers);}
>> ;
>
> should be
> modifiers
> : ( modifier )*
> {##= #([MODIFIERS, "MODIFIERS"], ##);}
> ;

Yeah, that's cool.  Just a style thing I guess.

> A particular thing I wanted to be able to do is to say "for the node in
> which you recognize "if", make the node of type IfExpr, but I had to
> explicitly either set the type or create a new parent node.

Yes, this is annoying.  There are about 30 of these in the Java grammar 
I think.

I am thinking like this MAYBE:

ifStat : IF^[IFEXPR] '('! expr ')'! stat ... ;

where IF becomes a root and the type becomes IFEXPR.  I don't like this 
as it's not very clear.  I would prefer in this case:

ifStat : IF '(' expr ')' stat -> ^(IFEXPR expr stat) ;

using the 3.0 proposed syntax.  Verbose as hell compared to ^ but very 
clear ;)  Can anybody think of a good syntax for the "change my token 
type" functionality?

Heh, what if we used -> like this:

ifStat : (IF->IFEXPR) '('! expr ')'! stat ... ;

Then it begs the question: can I allow a tree rewrite not just a token 
type change on a single node?  Nah...then I would really be getting 
complicated. ;)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From parrt at cs.usfca.edu  Thu Feb  3 17:40:35 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Thu Feb  3 17:34:05 2005
Subject: [antlr-interest] ANTLR 3.0 tree construction proposal
In-Reply-To: <16896.4010.859020.782455@despot.non.net>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>
	<16896.4010.859020.782455@despot.non.net>
Message-ID: <8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>


On Feb 1, 2005, at 3:24 PM, John D. Mitchell wrote:

> Re:  ^^
>
> It's about time!  :-)

Hooray!

> I don't like the change of semantics for ^ but I must agree with the
> argument that ^^ makes more sense for the rule root and ^ for the local
> root.

Yeah, an imperfect but acceptable solution.

> Re:  ->
>
> Definitely better than =>.

Yep.

> Re:  Tree rewrites
>
> (A) Getting rid of the e.g., #(...) is good by me.
>
> (B) I'm concerned by the need to repeat the arguments in the RHS such 
> as in:
>
> decl : "var" (ID ':' type ';')+ -> ^("var" ^(':' ID type)+) ;
>
> What happens when there's two "var"s?  Which "var" is going to be used 
> as
> the basis on the RHS?

it depends on how many times it's matched on the left.  If matched once 
then only one "var" node will appear in the rewrite.

> Heck, what about typos?
>
> [Yes, I understand that they can be explicitly labeled -- I'm asking 
> about
> these "simple" cases.]

Typos will always be a problem if you ref something improperly.  if 
it's a nonexistent entity, i can give an error.

> Re: Imaginary Nodes
>
> I find the LPAREN[] utterly distasteful and expect that it will cause 
> hard
> to see errors.

Yeah, it's not so great, but it is like a ctor call with no args right? 
  We'll need ID["foo"] for example to create an ID node with a text 
value of "foo".

> Re: Actions in rewrite rules
>
> You need to expand/clarify that section in your document.

Thanks...

> Re: Rewrite specs in subrules
>
> No, I don't buy either of your arguments.
>
> I think it's more clear and controllable to (finally) support 
> labelling the
> subrules.  The subrule rewrites are then constrained to be bound to the
> label which is used in the overall rewrite rule for the rule.

I could buy that.  Labeled subrules should be easy enough to implement 
and *should* solve lots of problems.  Then we'd not need -> in 
subrules, right?  Well, wait, hmm...not sure we can use syntax to drive 
different tree construction easily.  I suppose if you could label a 
subrule and then ref label.ID for the ID tokens matched within labeled 
subrule.  Hmm... interesting.

> Re: Attribute integration
>
> As I've noted previously, I don't like the co-mingling of the dynamic
> attributes and the local attributes.  I think it's important that those
> separate but related constructions appear distinct from each other.

Can you be more specific?  We may have differing ideas of what those 
terms mean ;)

> Re: Rewrite dependent on semantics
>
> (A) I like the use of semantic predicates for this.
>
> (B) Is it just me or is the ? at the end of the semantic predicates
> ridiculously hard to see?  I'd love to see that move to be a prefix, 
> i.e.,:
>   ?{...}
> The left edge is (with any non-insane formatting convention) always 
> easier
> for humans to scan and parse.

True, but that argues for *(...) and +(...) too :)

> Re: Other Issues that I didn't see addressed in your blog...
>
> (A) Payload games
>
> Hmm... Don't we need to support the ability to treat the payload as 
> e.g., a
> list of payloads?  I.e., I'd like the first payload in the AST node to 
> be
> the e.g., Token but then I want to add annotations that are tied to 
> that
> node (rather than building e.g., a map).
>
>
> (B) Tree to tree transformations basics
>
> Basic question: is anything that you're thinking of doing going to 
> make it
> (a) easier, clearer, etc. or (b) more confusing, harder, etc. in the
> multiple tree-to-tree phases?

I'm still thinking about that, but tree->tree transformations should 
look the same as parser->tree construction.

> (C) Tree surgery
>
> Moving beyond the simplistic cases in (A), all of the interesting work
> being done in tree tranforms is real surgery of the tree.  I.e.,
> transformations which take place across a number of rules working in
> conjunction.
>
> A couple of areas that come immediately to mind are the need for 
> labelled
> subrules and being able to pass (and use) trees (aka tree fragments) 
> around
> in dynamic attributes (both down/inherited and up/synthesized) and as
> parameters/return values.

Yes, I want to be able to reference tree fragments via attribute 
mechanism.

> (D) Error handling
>
> You haven't gone into how the error handling would work with this.

Yeah, I need a few examples to think this through.

Thanks!

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From Loring.G.Craymer at jpl.nasa.gov  Thu Feb  3 17:36:46 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Thu Feb  3 17:36:51 2005
Subject: [antlr-interest] brief analysis of java.g's tree building
	in 2.x vsproposed 3.0
In-Reply-To: <725188ed6f19d05f388b895f34a71317@cs.usfca.edu>
References: <200502010346.j113k2x5004787@eis-msg-012.jpl.nasa.gov>
	<725188ed6f19d05f388b895f34a71317@cs.usfca.edu>
Message-ID: <6.1.1.1.2.20050203172556.020b44c0@mail.jpl.nasa.gov>

An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20050203/e1db3159/attachment.html
From parrt at cs.usfca.edu  Thu Feb  3 17:43:52 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Thu Feb  3 17:37:26 2005
Subject: [antlr-interest] added attributes/dynamic scoping blog entry
In-Reply-To: <16896.19989.484517.8329@despot.non.net>
References: <16adb8961ef7dd48b186c26f682d74c7@cs.usfca.edu>
	<16896.19989.484517.8329@despot.non.net>
Message-ID: <ddb9aa7b742f417577ee821d2367471f@cs.usfca.edu>


On Feb 1, 2005, at 7:50 PM, John D. Mitchell wrote:
> We need a parallel to init actions for exiting rules.  I.e., remember 
> that
> we can't presume GC or destructors. :-)
>
> Also, given that de-init sucks :-)...  Does exit work for people?
> Personally, I don't like init/exit pair 'cause they don't match.
> enter/leave seems the most consistent pair at the moment.

I'm not opposed to an exit action...is this easy to code in C?  I guess 
so.

So it's mainly for C and free() operations, right?

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From Loring.G.Craymer at jpl.nasa.gov  Thu Feb  3 17:49:50 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Thu Feb  3 17:49:52 2005
Subject: [antlr-interest] brief analysis of java.g's tree building
	in 2.x vs	proposed 3.0
In-Reply-To: <ad275109cc84ac2a36cff3aeb9919d4e@cs.usfca.edu>
References: <64770ffa5173a2f9eabe55b7452c41f8@cs.usfca.edu>
	<41FF5497.3070108@e-dean.com>
	<ad275109cc84ac2a36cff3aeb9919d4e@cs.usfca.edu>
Message-ID: <6.1.1.1.2.20050203174114.02084808@mail.jpl.nasa.gov>

At 05:15 PM 2/3/2005, Terence Parr wrote:
I am thinking like this MAYBE:

>ifStat : IF^[IFEXPR] '('! expr ')'! stat ... ;
>
>where IF becomes a root and the type becomes IFEXPR.  I don't like this as 
>it's not very clear.  I would prefer in this case:
>
>ifStat : IF '(' expr ')' stat -> ^(IFEXPR expr stat) ;
>
>using the 3.0 proposed syntax.  Verbose as hell compared to ^ but very 
>clear ;)  Can anybody think of a good syntax for the "change my token 
>type" functionality?
>
>Heh, what if we used -> like this:
>
>ifStat : (IF->IFEXPR) '('! expr ')'! stat ... ;
>
>Then it begs the question: can I allow a tree rewrite not just a token 
>type change on a single node?  Nah...then I would really be getting 
>complicated. ;)

This gets pretty ghastly.  You need an attribute syntax, with nodes having 
default attributes "text" and "type".  Then something like
IF  @IF.type = IFEXPR
might make sense.


>Ter
>--
>CS Professor & Grad Director, University of San Francisco
>Creator, ANTLR Parser Generator, http://www.antlr.org
>Cofounder, http://www.jguru.com
>
>


From Loring.G.Craymer at jpl.nasa.gov  Thu Feb  3 18:00:14 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Thu Feb  3 18:00:18 2005
Subject: [antlr-interest] added attributes/dynamic scoping blog
  entry
In-Reply-To: <ddb9aa7b742f417577ee821d2367471f@cs.usfca.edu>
References: <16adb8961ef7dd48b186c26f682d74c7@cs.usfca.edu>
	<16896.19989.484517.8329@despot.non.net>
	<ddb9aa7b742f417577ee821d2367471f@cs.usfca.edu>
Message-ID: <6.1.1.1.2.20050203175016.020e4100@mail.jpl.nasa.gov>

At 05:43 PM 2/3/2005, Terence Parr wrote:

>On Feb 1, 2005, at 7:50 PM, John D. Mitchell wrote:
>>We need a parallel to init actions for exiting rules.  I.e., remember that
>>we can't presume GC or destructors. :-)
>>
>>Also, given that de-init sucks :-)...  Does exit work for people?
>>Personally, I don't like init/exit pair 'cause they don't match.
>>enter/leave seems the most consistent pair at the moment.
>
>I'm not opposed to an exit action...is this easy to code in C?  I guess so.
>
>So it's mainly for C and free() operations, right?

init() doesn't really fit with the other 3.0 improvements--especially when 
you have output grammars/templates to encapsulate most actions.  What would 
be useful is support for actions which set semantic state information 
coupled with a complementary set of rollback() actions.  These would 
operate in guessing mode and the state information would be used by 
semantic predicates.

--Loring


>Ter
>--
>CS Professor & Grad Director, University of San Francisco
>Creator, ANTLR Parser Generator, http://www.antlr.org
>Cofounder, http://www.jguru.com
>
>


From johnm-antlr at non.net  Thu Feb  3 19:07:52 2005
From: johnm-antlr at non.net (John D. Mitchell)
Date: Thu Feb  3 19:07:32 2005
Subject: [antlr-interest] brief analysis of java.g's tree building
	in 2.x vs	proposed 3.0
In-Reply-To: <6.1.1.1.2.20050203174114.02084808@mail.jpl.nasa.gov>
References: <64770ffa5173a2f9eabe55b7452c41f8@cs.usfca.edu>
	<41FF5497.3070108@e-dean.com>
	<ad275109cc84ac2a36cff3aeb9919d4e@cs.usfca.edu>
	<6.1.1.1.2.20050203174114.02084808@mail.jpl.nasa.gov>
Message-ID: <16898.59144.824823.934178@despot.non.net>

>>>>> "Loring" == Loring Craymer <Loring.G.Craymer@jpl.nasa.gov> writes:
[...]

>> Heh, what if we used -> like this:

>> ifStat : (IF->IFEXPR) '('! expr ')'! stat ... ;

YUCK!  I'd much prefer the verbose but very clear version.


>> Then it begs the question: can I allow a tree rewrite not just a token
>> type change on a single node?  Nah...then I would really be getting
>> complicated. ;)

> This gets pretty ghastly.  You need an attribute syntax, with nodes
> having default attributes "text" and "type".  Then something like IF
> @IF.type = IFEXPR might make sense.

That looks pretty complicated, too, as (it seems like) you're driving
expressions with side-effects into the mix.

Take care,
	John
From johnm-antlr at non.net  Thu Feb  3 19:18:06 2005
From: johnm-antlr at non.net (John D. Mitchell)
Date: Thu Feb  3 19:17:47 2005
Subject: [antlr-interest] added attributes/dynamic scoping blog entry
In-Reply-To: <6.1.1.1.2.20050203175016.020e4100@mail.jpl.nasa.gov>
References: <16adb8961ef7dd48b186c26f682d74c7@cs.usfca.edu>
	<16896.19989.484517.8329@despot.non.net>
	<ddb9aa7b742f417577ee821d2367471f@cs.usfca.edu>
	<6.1.1.1.2.20050203175016.020e4100@mail.jpl.nasa.gov>
Message-ID: <16898.59758.607685.667402@despot.non.net>

>>>>> "Loring" == Loring Craymer <Loring.G.Craymer@jpl.nasa.gov> writes:
>>>>>> At 05:43 PM 2/3/2005, Terence Parr writes:
[...]

>> I'm not opposed to an exit action...is this easy to code in C?  I guess
>> so.

Can always use gotos. :-)

>> So it's mainly for C and free() operations, right?

Or any resource management that requires precision.


> init() doesn't really fit with the other 3.0 improvements--especially
> when you have output grammars/templates to encapsulate most actions.
> What would be useful is support for actions which set semantic state
> information coupled with a complementary set of rollback() actions.
> These would operate in guessing mode and the state information would be
> used by semantic predicates.

Interesting.  Do you have a (pseudo-code) example to make this clear?

Also, note that it's not just rollback, release is also needed.

Take care,
	John
From johnm-antlr at non.net  Thu Feb  3 19:47:51 2005
From: johnm-antlr at non.net (John D. Mitchell)
Date: Thu Feb  3 19:47:32 2005
Subject: [antlr-interest] ANTLR 3.0 tree construction proposal
In-Reply-To: <8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>
	<16896.4010.859020.782455@despot.non.net>
	<8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>
Message-ID: <16898.61543.322201.438347@despot.non.net>

>>>>> "Terence" == Terence Parr <parrt@cs.usfca.edu> writes:
[...]

>> (B) I'm concerned by the need to repeat the arguments in the RHS such as
>> in:

>> decl : "var" (ID ':' type ';')+ -> ^("var" ^(':' ID type)+) ;

>> What happens when there's two "var"s?  Which "var" is going to be used
>> as the basis on the RHS?

> it depends on how many times it's matched on the left.  If matched once
> then only one "var" node will appear in the rewrite.

I really really don't like that vagarity.


>> Re: Imaginary Nodes

>> I find the LPAREN[] utterly distasteful and expect that it will cause
>> hard to see errors.

> Yeah, it's not so great, but it is like a ctor call with no args right?
> We'll need ID["foo"] for example to create an ID node with a text value
> of "foo".

No, that's really, really ugly and very, very easy to miss.


[...]
>> Re: Attribute integration

>> As I've noted previously, I don't like the co-mingling of the dynamic
>> attributes and the local attributes.  I think it's important that those
>> separate but related constructions appear distinct from each other.

> Can you be more specific?  We may have differing ideas of what those
> terms mean ;)

Geez, stop listening to people with wacky definitions. :-)

There are dynamically scoped attributes, lexically scoped formal parameters
to rules and the formal return values, and then local, lexically scoped
variables.

What I've been arguing about here is that the dynamically scoped
"attributes" should be distinct from the lexically scoped "variables".
Treating them indistinctly is, IMNSHO, part of the problem with the old
general purpose programming languages which supported dynamically scoped
variables.


Take care,
	John
From Loring.G.Craymer at jpl.nasa.gov  Thu Feb  3 20:00:07 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Thu Feb  3 20:00:08 2005
Subject: [antlr-interest] added attributes/dynamic scoping blog entry
In-Reply-To: <16898.59758.607685.667402@despot.non.net>
Message-ID: <200502040400.j14406x5024143@eis-msg-012.jpl.nasa.gov>



> -----Original Message-----
> From: John D. Mitchell [mailto:johnm-antlr@non.net]
> Sent: Thursday, February 03, 2005 7:18 PM
> To: Loring Craymer
> Cc: ANTLR Interest
> Subject: Re: [antlr-interest] added attributes/dynamic scoping blog entry
> 
> >>>>> "Loring" == Loring Craymer <Loring.G.Craymer@jpl.nasa.gov> writes:
> >>>>>> At 05:43 PM 2/3/2005, Terence Parr writes:
> [...]
> 
> >> I'm not opposed to an exit action...is this easy to code in C?  I guess
> >> so.
> 
> Can always use gotos. :-)
> 
> >> So it's mainly for C and free() operations, right?
> 
> Or any resource management that requires precision.
> 
> 
> > init() doesn't really fit with the other 3.0 improvements--especially
> > when you have output grammars/templates to encapsulate most actions.
> > What would be useful is support for actions which set semantic state
> > information coupled with a complementary set of rollback() actions.
> > These would operate in guessing mode and the state information would be
> > used by semantic predicates.
> 
> Interesting.  Do you have a (pseudo-code) example to make this clear?

Two obvious examples:

1.)  Enter/remove symbol table entries which are used for semantic decisions
within the guessing scope.

2.)  Loops with fixed number of repeats--sem preds would be used to detect
the exit condition.
> 
> Also, note that it's not just rollback, release is also needed.

Rollback is "restore previous state" in fault tolerance parlance.  Previous
state includes memory and other resource usage as a part of state.

Cheers!

--Loring

> 
> Take care,
> 	John

From james at eecs.ku.edu  Thu Feb  3 19:10:03 2005
From: james at eecs.ku.edu (Jerry James)
Date: Fri Feb  4 14:57:01 2005
Subject: [antlr-interest] JParse
Message-ID: <psvf99m35g.fsf@diannao.ittc.ku.edu>

I used to belong to the antlr-interest mailing list awhile back, but
unsubscribed because I couldn't keep up with the traffic, and wasn't
actively developing with ANTLR anyway.  Somehow I got magically
resubscribed in January.  That's okay.  It's been interesting to see all
the traffic, but I'm unsubscribing again now for the same reasons.
Before I go, though, I thought I'd point out to those working on Java
projects that JParse has been updated to use 2.7.4, and now parses Java
1.4 sources.  This means I am now only one ANTLR version and one Java
version behind. :-)  I'll update to ANTLR 2.7.5 in the next couple of
weeks, but don't hold your breath waiting for the Java 1.5 update.

JParse web page: http://www.ittc.ku.edu/JParse/

Regards,
-- 
Jerry James
Email: james@eecs.ku.edu -or- jamesj@acm.org
WWW:   http://people.eecs.ku.edu/~james/
From Loring.G.Craymer at jpl.nasa.gov  Fri Feb  4 17:24:59 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Fri Feb  4 17:25:04 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <16898.61543.322201.438347@despot.non.net>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>
	<16896.4010.859020.782455@despot.non.net>
	<8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>
	<16898.61543.322201.438347@despot.non.net>
Message-ID: <6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>

We have sorted out the licensing details.  The Open Channel people were 
very helpful, and after some discussion we agreed that there will be a list 
of files covered by the Caltech/OpenChannel license and Ter will put the 
bulk of ANTLR under BSD license, including the library and code 
generators.  The Caltech/OpenChannel license restricts modification for 
commercial use, but not commercial use per se (the intent is to give Open 
Channel a first crack at commercialization opportunities).  I am happy with 
this arrangement; I hope others are as well.

Ter is working on modifying the 2.8 headers to mention the BSD license; I 
have promised to send the list of files and a distribution zip file (as a 
beta version; I have not yet given Marq and Wolfgang the opportunity to 
upgrade the Python support) to Open Channel by Monday, and the distribution 
should be available soon after that.

Thank you all for your patience.

--Loring


From parrt at cs.usfca.edu  Fri Feb  4 17:52:26 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Fri Feb  4 17:45:56 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>
	<16896.4010.859020.782455@despot.non.net>
	<8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>
	<16898.61543.322201.438347@despot.non.net>
	<6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>
Message-ID: <8979581f8f1fcd4faa3ee9ee8e3576dc@cs.usfca.edu>


On Feb 4, 2005, at 5:24 PM, Loring Craymer wrote:

> We have sorted out the licensing details.  The Open Channel people 
> were very helpful, and after some discussion we agreed that there will 
> be a list of files covered by the Caltech/OpenChannel license and Ter 
> will put the bulk of ANTLR under BSD license, including the library 
> and code generators.  The Caltech/OpenChannel license restricts 
> modification for commercial use, but not commercial use per se (the 
> intent is to give Open Channel a first crack at commercialization 
> opportunities).  I am happy with this arrangement; I hope others are 
> as well.
>
> Ter is working on modifying the 2.8 headers to mention the BSD 
> license; I have promised to send the list of files and a distribution 
> zip file (as a beta version; I have not yet given Marq and Wolfgang 
> the opportunity to upgrade the Python support) to Open Channel by 
> Monday, and the distribution should be available soon after that.

Just wanted to say thanks to Loring for all his hard work on this.  
He's been working on it for a long time.  I believe Michael Jordan and 
crew have pulled the C# target up to the same 2.8e level.  Note that 
Caltech insists that 2.8e be released through the OpenChannel site.

Ter
PS	If you are wondering about 2.7.5 vs 2.8e, recall that 2.8e has an 
'e' for experimental.  All extensions to syntax / semantics were done 
by Loring and so they may or may not make it into 3.0 since I am a 
dictator. ;)
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From markm at caplet.com  Sat Feb  5 10:08:49 2005
From: markm at caplet.com (Mark Miller)
Date: Sat Feb  5 10:09:22 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>	<16896.4010.859020.782455@despot.non.net>	<8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>	<16898.61543.322201.438347@despot.non.net>
	<6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>
Message-ID: <42050BB1.7010309@caplet.com>

Loring Craymer wrote:
> Ter is working on modifying the 2.8 headers to mention the BSD license;

I must have missed something. What's wrong with public domain?

-- 
Text by me above is hereby placed in the public domain

     Cheers,
     --MarkM


From parrt at cs.usfca.edu  Sat Feb  5 10:13:36 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Sat Feb  5 10:13:38 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <42050BB1.7010309@caplet.com>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>	<16896.4010.859020.782455@despot.non.net>	<8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>	<16898.61543.322201.438347@despot.non.net>
	<6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>
	<42050BB1.7010309@caplet.com>
Message-ID: <A72ABD88-77A1-11D9-BA97-000393BB647E@cs.usfca.edu>


On Feb 5, 2005, at 10:08 AM, Mark Miller wrote:

> Loring Craymer wrote:
>> Ter is working on modifying the 2.8 headers to mention the BSD 
>> license;
>
> I must have missed something. What's wrong with public domain?

The only way Caltech/Nasa will let that out the door is with somebody 
getting "the blame" if something goes wrong.  I.e., somebody has to 
claim ownership of the base ANTLR.

I agreed for BSD on 2.8e (but NOT 2.7.5 and any further bug fix 
releases) as that was the only way.  Further, 3.0 will be BSD license.

Ugh.  I was worried that this would muddy the license on everything! :(

> -- 
> Text by me above is hereby placed in the public domain

<snicker>

Thanks,
Ter



From markm at cs.jhu.edu  Sat Feb  5 10:25:29 2005
From: markm at cs.jhu.edu (Mark Miller)
Date: Sat Feb  5 10:26:02 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <A72ABD88-77A1-11D9-BA97-000393BB647E@cs.usfca.edu>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>	<16896.4010.859020.782455@despot.non.net>	<8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>	<16898.61543.322201.438347@despot.non.net>	<6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>	<42050BB1.7010309@caplet.com>
	<A72ABD88-77A1-11D9-BA97-000393BB647E@cs.usfca.edu>
Message-ID: <42050F99.801@cs.jhu.edu>

Terence Parr wrote:
> I agreed for BSD on 2.8e (but NOT 2.7.5 and any further bug fix 
> releases) as that was the only way.  Further, 3.0 will be BSD license.

Presumably the BSD without the infamous advertising clause?

Have you considered MIT X? It's essentially equivalent, but doesn't lead to 
people asking the question I ask above. (We use MIT X for all new files added 
to E.)

-- 
Text by me above is hereby placed in the public domain

     Cheers,
     --MarkM

From parrt at cs.usfca.edu  Sat Feb  5 10:36:57 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Sat Feb  5 10:37:00 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <42050F99.801@cs.jhu.edu>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>	<16896.4010.859020.782455@despot.non.net>	<8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>	<16898.61543.322201.438347@despot.non.net>	<6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>	<42050BB1.7010309@caplet.com>
	<A72ABD88-77A1-11D9-BA97-000393BB647E@cs.usfca.edu>
	<42050F99.801@cs.jhu.edu>
Message-ID: <EA334AAB-77A4-11D9-BA97-000393BB647E@cs.usfca.edu>


On Feb 5, 2005, at 10:25 AM, Mark Miller wrote:

> Terence Parr wrote:
>> I agreed for BSD on 2.8e (but NOT 2.7.5 and any further bug fix 
>> releases) as that was the only way.  Further, 3.0 will be BSD 
>> license.
>
> Presumably the BSD without the infamous advertising clause?

Which part is that?  The Berkeley ad?

Ter
>
> Have you considered MIT X? It's essentially equivalent, but doesn't 
> lead to people asking the question I ask above. (We use MIT X for all 
> new files added to E.)
>
> -- 
> Text by me above is hereby placed in the public domain
>
>     Cheers,
>     --MarkM
>



From markm at cs.jhu.edu  Sat Feb  5 10:39:19 2005
From: markm at cs.jhu.edu (Mark Miller)
Date: Sat Feb  5 10:39:51 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <EA334AAB-77A4-11D9-BA97-000393BB647E@cs.usfca.edu>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>	<16896.4010.859020.782455@despot.non.net>	<8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>	<16898.61543.322201.438347@despot.non.net>	<6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>	<42050BB1.7010309@caplet.com>	<A72ABD88-77A1-11D9-BA97-000393BB647E@cs.usfca.edu>	<42050F99.801@cs.jhu.edu>
	<EA334AAB-77A4-11D9-BA97-000393BB647E@cs.usfca.edu>
Message-ID: <420512D7.6020507@cs.jhu.edu>

Terence Parr wrote:
> On Feb 5, 2005, at 10:25 AM, Mark Miller wrote:
>> Presumably the BSD without the infamous advertising clause?
> Which part is that?  The Berkeley ad?

See http://opensource.org/licenses/bsd-license.php

-- 
Text by me above is hereby placed in the public domain

     Cheers,
     --MarkM

From joanpujol at gmail.com  Sat Feb  5 11:14:54 2005
From: joanpujol at gmail.com (Joan Pujol)
Date: Sat Feb  5 11:14:57 2005
Subject: [antlr-interest] Lean runtime jar
In-Reply-To: <3AC103F1B7EEEC48A855ACB1D2819E910395EE49@rock-corpmail.microfocus.com>
References: <3AC103F1B7EEEC48A855ACB1D2819E910395EE49@rock-corpmail.microfocus.com>
Message-ID: <d2d18a1050205111433fa2912@mail.gmail.com>

If you use IDEs like JBuilder you can configure to generate an
outputjar optimitzed removing the classes that are not used.
Also you can use tools like Proguard that's an ofuscator/optimizer
that does this job.
But you have to be careful because ANTLR use reflection in some
places, and that tools don't manage well reflection.

Cheers,


On Thu, 3 Feb 2005 12:46:31 -0500, Jim O'Connor
<Jim.O'Connor@microfocus.com> wrote:
> Hi Chris and Jeremy,
>   I have an application with about 10 parsers/lexers.  The list of the
> directly referenced classes is below.  Let me know if that helps.
> Jim
> 
> Antlr Package
>    ANTLRException
>    ANTLRHashString
>    ANTLRStringBuffer
>    ASTFactory
>    ASTPair
>    BaseAST
>    ByteBuffer
>    CharBuffer
>    CharScanner
>    CharStreamException
>    CharStreamIOException
>    CommonAST
>    CommonToken
>    DumpASTVisitor
>    InputBuffer
>    LLkParser
>    LexerSharedInputState
>    MismatchedCharException
>    MismatchedTokenException
>    NoViableAltException
>    NoViableAltForCharException
>    Parser
>    ParserSharedInputState
>    RecognitionException
>    SemanticException
>    Token
>    TokenBuffer
>    TokenStream
>    TokenStreamException
>    TokenStreamIOException
>    TokenStreamRecognitionException
>    TokenStreamSelector
>    TreeParser
> 
> Antlr.collections Package
>    AST
> Antlr.collections
> 
>    ASTArray
>    BitSet
> 
> 
> > -----Original Message-----
> > From: Christopher Schultz [mailto:christopher.d.schultz@comcast.net]
> > Sent: Thursday, February 03, 2005 12:26 PM
> > To: Jeremy Rayner
> > Cc: antlr-interest@antlr.org
> > Subject: Re: [antlr-interest] Lean runtime jar
> >
> > Jeremy,
> >
> > >   Is there a leaner runtime jar than the 400k antlr-2.7.5.jar on the
> > > download page?
> > > A well known subset of classes?  I know that LLkParser.class etc are
> > needed for
> > > runtime execution of an antlr generated parser, but I'd imagine some of
> > the
> > > code generation classes don't need to be distributed with the runtime.
> > >
> > > Should I begin a quick 'java -verbose' style analysis, or has someone
> > > on this list
> > > already assembled a lean runtime jar.
> >
> > I would be interested in the same thing. I'd like to use an
> > ANTLR-generated parser in production and have a somewhat smaller li
> > directory.
> >
> > Let me know what your list of required classes comes out to be.
> >
> > -chris
> 


-- 
Joan Jes?s Pujol Espinar
From parrt at cs.usfca.edu  Sat Feb  5 11:38:11 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Sat Feb  5 11:31:41 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <420512D7.6020507@cs.jhu.edu>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>	<16896.4010.859020.782455@despot.non.net>	<8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>	<16898.61543.322201.438347@despot.non.net>	<6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>	<42050BB1.7010309@caplet.com>	<A72ABD88-77A1-11D9-BA97-000393BB647E@cs.usfca.edu>	<42050F99.801@cs.jhu.edu>
	<EA334AAB-77A4-11D9-BA97-000393BB647E@cs.usfca.edu>
	<420512D7.6020507@cs.jhu.edu>
Message-ID: <cd06f0dc4c0c22d88f012599024277a2@cs.usfca.edu>


On Feb 5, 2005, at 10:39 AM, Mark Miller wrote:

> Terence Parr wrote:
>> On Feb 5, 2005, at 10:25 AM, Mark Miller wrote:
>>> Presumably the BSD without the infamous advertising clause?
>> Which part is that?  The Berkeley ad?
>
> See http://opensource.org/licenses/bsd-license.php

Do you mean this?

	? 	Neither the name of the <ORGANIZATION> nor the names of its 
contributors may be used to endorse or promote products derived from 
this software without specific prior written permission.

If so, that only means you couldn't use USF or my name to advertise 
your product.  You could still use the ANTLR name to say "ANTLR 
powered" or whatever.

I do like the MIT license too...

Ter

CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From parrt at cs.usfca.edu  Sat Feb  5 11:42:48 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Sat Feb  5 11:36:17 2005
Subject: [antlr-interest] generating random sentences
Message-ID: <1b27ae02c62c9472946b23020b4cf21f@cs.usfca.edu>

Howdy,

For testing ANTLR, i made a quick method that operates on my internal 
NFA data structure to generate random sentences.  This will work with 
any input grammar of course and would be useful to send in random, but 
grammatically correct, input to a translator to ensure the program 
doesn't crash etc...

Just thought people would find it interesting...related to the unit 
testing discussion previously.

For example, given

a : (A | B) X ;

you'll get either AX and BX output.  Each branch is chosen with equal 
probability. :)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From Loring.G.Craymer at jpl.nasa.gov  Sat Feb  5 12:26:56 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Sat Feb  5 12:27:00 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <A72ABD88-77A1-11D9-BA97-000393BB647E@cs.usfca.edu>
Message-ID: <200502052026.j15KQsx5011619@eis-msg-012.jpl.nasa.gov>



> -----Original Message-----
> From: antlr-interest-bounces@antlr.org [mailto:antlr-interest-
> bounces@antlr.org] On Behalf Of Terence Parr
> Sent: Saturday, February 05, 2005 10:14 AM
> To: ANTLR Interest
> Subject: Re: [antlr-interest] 2.8 update
> 
> 
> On Feb 5, 2005, at 10:08 AM, Mark Miller wrote:
> 
> > Loring Craymer wrote:
> >> Ter is working on modifying the 2.8 headers to mention the BSD
> >> license;
> >
> > I must have missed something. What's wrong with public domain?
> 
> The only way Caltech/Nasa will let that out the door is with somebody
> getting "the blame" if something goes wrong.  I.e., somebody has to
> claim ownership of the base ANTLR.

Not quite--we could try to leave the base in public domain.  PD means that
no one claims the intellectual property.  The problem with leaving the base
PD is that anyone can slap a license on public domain software, and it is
much cleaner if there is some protection from that.  I don't want ANTLR
usage to be restricted via accidental licensing that forbids commercial use.

--Loring

> 
> I agreed for BSD on 2.8e (but NOT 2.7.5 and any further bug fix
> releases) as that was the only way.  Further, 3.0 will be BSD license.
> 
> Ugh.  I was worried that this would muddy the license on everything! :(
> 
> > --
> > Text by me above is hereby placed in the public domain
> 
> <snicker>
> 
> Thanks,
> Ter
> 


From markm at cs.jhu.edu  Sat Feb  5 13:02:53 2005
From: markm at cs.jhu.edu (Mark Miller)
Date: Sat Feb  5 13:03:24 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <cd06f0dc4c0c22d88f012599024277a2@cs.usfca.edu>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>	<16896.4010.859020.782455@despot.non.net>	<8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>	<16898.61543.322201.438347@despot.non.net>	<6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>	<42050BB1.7010309@caplet.com>	<A72ABD88-77A1-11D9-BA97-000393BB647E@cs.usfca.edu>	<42050F99.801@cs.jhu.edu>	<EA334AAB-77A4-11D9-BA97-000393BB647E@cs.usfca.edu>	<420512D7.6020507@cs.jhu.edu>
	<cd06f0dc4c0c22d88f012599024277a2@cs.usfca.edu>
Message-ID: <4205347D.90200@cs.jhu.edu>

Terence Parr wrote:
> Do you mean this?
> 
>     ?     Neither the name of the <ORGANIZATION> nor the names of its 
> contributors may be used to endorse or promote products derived from 
> this software without specific prior written permission.

No, I have no objection to that, but I also find it unnecessary. But what I 
was referring to is the same historical issue the following text (at 
<http://opensource.org/licenses/bsd-license.php>) refers to:

> Note: The advertising clause in the license appearing on BSD Unix files was
> officially rescinded by the Director of the Office of Technology Licensing of
> the University of California on July 22 1999. He states that clause 3 is
> "hereby deleted in its entirety."

That advertising clause does not appear in the license text posted at 
<http://opensource.org/licenses/bsd-license.php>, which is why opensource.org 
sometimes calls this the "New BSD License".

When we open sourced the old Xanadu sources at Udanax.com, we were going to 
use the BSD License (i.e., the New BSD License without the advertising 
clause). However, after the fifth time we were asked "The one with or without 
the advertising clause?", we switched to the MIT X License in order to avoid 
the confusion.

> I do like the MIT license too...

Would you be willing to switch to it?

-- 
Text by me above is hereby placed in the public domain

     Cheers,
     --MarkM

From parrt at cs.usfca.edu  Sat Feb  5 13:14:17 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Sat Feb  5 13:07:46 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <4205347D.90200@cs.jhu.edu>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>	<16896.4010.859020.782455@despot.non.net>	<8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>	<16898.61543.322201.438347@despot.non.net>	<6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>	<42050BB1.7010309@caplet.com>	<A72ABD88-77A1-11D9-BA97-000393BB647E@cs.usfca.edu>	<42050F99.801@cs.jhu.edu>	<EA334AAB-77A4-11D9-BA97-000393BB647E@cs.usfca.edu>	<420512D7.6020507@cs.jhu.edu>
	<cd06f0dc4c0c22d88f012599024277a2@cs.usfca.edu>
	<4205347D.90200@cs.jhu.edu>
Message-ID: <9224b7b4e4a13d06122f6e17bb7445c0@cs.usfca.edu>


On Feb 5, 2005, at 1:02 PM, Mark Miller wrote:
> When we open sourced the old Xanadu sources at Udanax.com, we were 
> going to use the BSD License (i.e., the New BSD License without the 
> advertising clause). However, after the fifth time we were asked "The 
> one with or without the advertising clause?", we switched to the MIT X 
> License in order to avoid the confusion.

Even if the license is sitting in front of them and clearly does not 
have the advertising clause?

>> I do like the MIT license too...
>
> Would you be willing to switch to it?

well, if they are identical I'd probably go with the BSD license as 
Berkeley is across the bay and I have a west coast bias ;)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From shengwang08 at yahoo.com  Sat Feb  5 15:33:58 2005
From: shengwang08 at yahoo.com (Sheng Wang)
Date: Sat Feb  5 15:34:01 2005
Subject: [antlr-interest] problems on linking
Message-ID: <20050205233358.80924.qmail@web30406.mail.mud.yahoo.com>

Hi, 

I run into some problems when I try to link the
compiled files that generated by ANTLR.  I am using
"Cpp" option. GCC version is 3.4.2.

g++ -g -o myparser *.o /usr/lib/libantlr.a
/usr/lib/libantlr.a(BitSet.o)(.text+0xfa): In function
`antlr::BitSet::BitSet(unsigned int)':
: undefined reference to
`std::__default_alloc_template<true, 0>::_S_force_new'
/usr/lib/libantlr.a(BitSet.o)(.text+0x127): In
function `antlr::BitSet::BitSet(unsigned int)':
: undefined reference to
`std::__default_alloc_template<true,
0>::_S_freelist_index(unsigned int)'
/usr/lib/libantlr.a(BitSet.o)(.text+0x134): In
function `antlr::BitSet::BitSet(unsigned int)':
....

Any insights?

Thanks a lot!

Sheng


		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - Easier than ever with enhanced search. Learn more.
http://info.mail.yahoo.com/mail_250
From Loring.G.Craymer at jpl.nasa.gov  Sat Feb  5 15:51:56 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Sat Feb  5 15:51:56 2005
Subject: [antlr-interest] problems on linking
In-Reply-To: <20050205233358.80924.qmail@web30406.mail.mud.yahoo.com>
Message-ID: <200502052351.j15Npsx5004676@eis-msg-012.jpl.nasa.gov>

This sort of thing is _very_ platform dependent.  What OS and version are
you running on?  Solaris, for example, requires that you do some Byzantine
things to get template runtime code into libraries.

--Loring

> -----Original Message-----
> From: antlr-interest-bounces@antlr.org [mailto:antlr-interest-
> bounces@antlr.org] On Behalf Of Sheng Wang
> Sent: Saturday, February 05, 2005 3:34 PM
> To: antlr-interest@antlr.org
> Subject: [antlr-interest] problems on linking
> 
> Hi,
> 
> I run into some problems when I try to link the
> compiled files that generated by ANTLR.  I am using
> "Cpp" option. GCC version is 3.4.2.
> 
> g++ -g -o myparser *.o /usr/lib/libantlr.a
> /usr/lib/libantlr.a(BitSet.o)(.text+0xfa): In function
> `antlr::BitSet::BitSet(unsigned int)':
> : undefined reference to
> `std::__default_alloc_template<true, 0>::_S_force_new'
> /usr/lib/libantlr.a(BitSet.o)(.text+0x127): In
> function `antlr::BitSet::BitSet(unsigned int)':
> : undefined reference to
> `std::__default_alloc_template<true,
> 0>::_S_freelist_index(unsigned int)'
> /usr/lib/libantlr.a(BitSet.o)(.text+0x134): In
> function `antlr::BitSet::BitSet(unsigned int)':
> ....
> 
> Any insights?
> 
> Thanks a lot!
> 
> Sheng
> 
> 
> 
> __________________________________
> Do you Yahoo!?
> Yahoo! Mail - Easier than ever with enhanced search. Learn more.
> http://info.mail.yahoo.com/mail_250

From ric.klaren at gmail.com  Sat Feb  5 16:16:35 2005
From: ric.klaren at gmail.com (Ric Klaren)
Date: Sat Feb  5 16:16:37 2005
Subject: [antlr-interest] problems on linking
In-Reply-To: <20050205233358.80924.qmail@web30406.mail.mud.yahoo.com>
References: <20050205233358.80924.qmail@web30406.mail.mud.yahoo.com>
Message-ID: <bc607a4e05020516166bad80f4@mail.gmail.com>

On Sat, 5 Feb 2005 15:33:58 -0800 (PST), Sheng Wang
<shengwang08@yahoo.com> wrote:
> I run into some problems when I try to link the
> compiled files that generated by ANTLR.  I am using
> "Cpp" option. GCC version is 3.4.2.
> 
> g++ -g -o myparser *.o /usr/lib/libantlr.a
> /usr/lib/libantlr.a(BitSet.o)(.text+0xfa): In function
> `antlr::BitSet::BitSet(unsigned int)':
> : undefined reference to
> `std::__default_alloc_template<true, 0>::_S_force_new'
> /usr/lib/libantlr.a(BitSet.o)(.text+0x127): In
> function `antlr::BitSet::BitSet(unsigned int)':
> : undefined reference to
> `std::__default_alloc_template<true,
> 0>::_S_freelist_index(unsigned int)'
> /usr/lib/libantlr.a(BitSet.o)(.text+0x134): In
> function `antlr::BitSet::BitSet(unsigned int)':
> ....
> 
> Any insights?

- Verify your gcc installation is ok. If you got 3.4.2 installed in a
non default location it might happen that it picks up a wrong C++
library (from the default location of your distribution, there's a
number of --print-<sumthin> options you can use to help checking this,
together with the ldd command).
- Verify that you've compiled libantlr.a with the same compiler as
you're compiling your project. (or at least with a version that's ABI
compatible)

Hope this helps,

Ric
From shengwang08 at yahoo.com  Sat Feb  5 16:46:59 2005
From: shengwang08 at yahoo.com (Sheng Wang)
Date: Sat Feb  5 16:47:02 2005
Subject: [antlr-interest] problems on linking
In-Reply-To: <bc607a4e05020516166bad80f4@mail.gmail.com>
Message-ID: <20050206004659.34702.qmail@web30407.mail.mud.yahoo.com>

> - Verify your gcc installation is ok. If you got
> 3.4.2 installed in a
> non default location it might happen that it picks
> up a wrong C++
> library (from the default location of your
> distribution, there's a
> number of --print-<sumthin> options you can use to
> help checking this,
> together with the ldd command).
> - Verify that you've compiled libantlr.a with the
> same compiler as
> you're compiling your project. (or at least with a
> version that's ABI
> compatible)
> 

Thanks, the problem has been solved. It is because I
installed rpm package directly on Fedora 3. After
reinstalling ANTLR by compiling from the source, the
problem has been solved. 

Sheng


		
__________________________________ 
Do you Yahoo!? 
The all-new My Yahoo! - Get yours free! 
http://my.yahoo.com 
 

From tribble at deantribble.com  Sat Feb  5 21:05:54 2005
From: tribble at deantribble.com (Dean Tribble)
Date: Sat Feb  5 21:05:46 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <9224b7b4e4a13d06122f6e17bb7445c0@cs.usfca.edu>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>	<16896.4010.859020.782455@despot.non.net>	<8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>	<16898.61543.322201.438347@despot.non.net>	<6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>	<42050BB1.7010309@caplet.com>	<A72ABD88-77A1-11D9-BA97-000393BB647E@cs.usfca.edu>	<42050F99.801@cs.jhu.edu>	<EA334AAB-77A4-11D9-BA97-000393BB647E@cs.usfca.edu>	<420512D7.6020507@cs.jhu.edu>	<cd06f0dc4c0c22d88f012599024277a2@cs.usfca.edu>	<4205347D.90200@cs.jhu.edu>
	<9224b7b4e4a13d06122f6e17bb7445c0@cs.usfca.edu>
Message-ID: <4205A5B2.8060702@deantribble.com>

Yup, even if :-).  Though this is not something that I think comes up 
very often, it does come up.  Ironically, last week I was reviewing 
code, and suggested using a parser generator instead their manually 
generated parser.  When asked where to find one, I talked about Antlr, 
and that it was open source.  His next question:  "Isn't there some 
issue with advertising?"

(No, I'm not making this story up!)

Terence Parr wrote:

>
> On Feb 5, 2005, at 1:02 PM, Mark Miller wrote:
>
>> When we open sourced the old Xanadu sources at Udanax.com, we were 
>> going to use the BSD License (i.e., the New BSD License without the 
>> advertising clause). However, after the fifth time we were asked "The 
>> one with or without the advertising clause?", we switched to the MIT 
>> X License in order to avoid the confusion.
>
>
> Even if the license is sitting in front of them and clearly does not 
> have the advertising clause?
>
>>> I do like the MIT license too...
>>
>>
>> Would you be willing to switch to it?
>
>
> well, if they are identical I'd probably go with the BSD license as 
> Berkeley is across the bay and I have a west coast bias ;)
>
> Ter
> -- 
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
>
>
>
>

From open.zone at virgin.net  Sun Feb  6 09:26:01 2005
From: open.zone at virgin.net (Micheal J)
Date: Sun Feb  6 09:14:45 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <4205A5B2.8060702@deantribble.com>
Message-ID: <000001c50c70$ee1dad80$7e02a8c0@hercules>

> Yup, even if :-).

If the [New] BSD license (or whatever license) essentially grants the sames
rights and imposes the same restriction as some other license like the MIT
X, why change?

If people have misconceptions about the BSD license, they simply need to
read it. They would have to in any case if they were truly bothered about
how it's terms affect their use of the intellectual property they are
licensing by using an open source project.

> Though this is not something that I think comes up
> very often, it does come up.  Ironically, last week I was reviewing 
> code, and suggested using a parser generator instead their manually 
> generated parser.  When asked where to find one, I talked 
> about Antlr, 
> and that it was open source.  His next question:  "Isn't there some 
> issue with advertising?"

There usually is a requirement to acknowledge the intellectual contributions
of work that one uses (even for closed source systems). I can see no problem
with that. In the example you give, there would be no conflict in any case.
Use of the code generated by ANTLR isn't restricted in any way.

> (No, I'm not making this story up!)

Don't doubt it. I've had similar questions and I answered them as above.

Micheal

From open.zone at virgin.net  Sun Feb  6 09:26:01 2005
From: open.zone at virgin.net (Micheal J)
Date: Sun Feb  6 09:14:46 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <4205347D.90200@cs.jhu.edu>
Message-ID: <000101c50c70$ee8bb190$7e02a8c0@hercules>

The first version of this winged it's way just to Mark for some reason.
Anyway, it gave me a chance to tidy up my response.

----------------------------------------------------------------------------
---------------

Mark,

> >     .     Neither the name of the <ORGANIZATION> nor the 
> names of its
> > contributors may be used to endorse or promote products derived from 
> > this software without specific prior written permission.
> 
> No, I have no objection to that, but I also find it
> unnecessary.

You may be right but I believe it to be necessary to protect the author
against the use or abuse of his name/brand/reputation to sell or endorse
derived works of which he has no knowledge or input.

With respect to the BSD license (aka "New BSD" license) and preconceptions
about it based on the old BSD license, I strongly believe it is reasonable
to expect that anyone who is worried about the license that covers their use
of an open source project would start by *reading* the license.

Micheal

From richard at exaflop.org  Sun Feb  6 09:50:07 2005
From: richard at exaflop.org (Richard Matthias)
Date: Sun Feb  6 09:49:59 2005
Subject: [antlr-interest] CSS grammar
Message-ID: <ECOWS04MW3eMjLHLb5T0000ada8@smtp-out4.blueyonder.co.uk>

Hi, 

Does anyone have a CSS grammar for ANTLR? I looked on the site but didn't see
one listed. I can't see it taking very long to write one but I thought I'd
ask first.

Thanks

Richard

From markm at cs.jhu.edu  Sun Feb  6 11:37:27 2005
From: markm at cs.jhu.edu (Mark S. Miller)
Date: Sun Feb  6 11:38:06 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <000101c50c70$ee8bb190$7e02a8c0@hercules>
References: <000101c50c70$ee8bb190$7e02a8c0@hercules>
Message-ID: <420671F7.9060606@cs.jhu.edu>

Micheal J wrote:
> The first version of this winged it's way just to Mark for some reason.
> Anyway, it gave me a chance to tidy up my response.

Yes - so my original response to Michael therefore also didn't get posted.

Suffice it to say that I withdraw all objection to BSD (aka "New BSD"). The 
confusion issue I was worried about may have been real in 1998; but it's no 
longer an issue. BSD is fine.

-- 
Text by me above is hereby placed in the public domain

     Cheers,
     --MarkM

From parrt at cs.usfca.edu  Sun Feb  6 11:56:50 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Sun Feb  6 11:50:19 2005
Subject: [antlr-interest] CSS grammar
In-Reply-To: <ECOWS04MW3eMjLHLb5T0000ada8@smtp-out4.blueyonder.co.uk>
References: <ECOWS04MW3eMjLHLb5T0000ada8@smtp-out4.blueyonder.co.uk>
Message-ID: <66fe4ed20cee838afd7be7966dd64bb0@cs.usfca.edu>

On Feb 6, 2005, at 9:50 AM, Richard Matthias wrote:
> Hi,
>
> Does anyone have a CSS grammar for ANTLR? I looked on the site but 
> didn't see
> one listed. I can't see it taking very long to write one but I thought 
> I'd
> ask first.

If you don't find one and do build it, please submit to the grammar 
section of antlr.org :)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From tomdzk at gmail.com  Sun Feb  6 11:57:20 2005
From: tomdzk at gmail.com (Thomas Dudziak)
Date: Sun Feb  6 11:57:22 2005
Subject: [antlr-interest] CSS grammar
In-Reply-To: <66fe4ed20cee838afd7be7966dd64bb0@cs.usfca.edu>
References: <ECOWS04MW3eMjLHLb5T0000ada8@smtp-out4.blueyonder.co.uk>
	<66fe4ed20cee838afd7be7966dd64bb0@cs.usfca.edu>
Message-ID: <224f3234050206115737159157@mail.gmail.com>

The spec includes a fairly complete grammar for both the lexer and
parser, albeit not in ANTLR format.

http://w3c.org/TR/CSS21/grammar.html

Tom
From parrt at cs.usfca.edu  Sun Feb  6 12:17:01 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Sun Feb  6 12:10:30 2005
Subject: [antlr-interest] CSS grammar
In-Reply-To: <224f3234050206115737159157@mail.gmail.com>
References: <ECOWS04MW3eMjLHLb5T0000ada8@smtp-out4.blueyonder.co.uk>
	<66fe4ed20cee838afd7be7966dd64bb0@cs.usfca.edu>
	<224f3234050206115737159157@mail.gmail.com>
Message-ID: <e737c36d6900451bc254de113e774e14@cs.usfca.edu>

On Feb 6, 2005, at 11:57 AM, Thomas Dudziak wrote:
> The spec includes a fairly complete grammar for both the lexer and
> parser, albeit not in ANTLR format.
>
> http://w3c.org/TR/CSS21/grammar.html

That looks like an LL format grammar not LR so it should just convert 
word-for-word minus syntax. :)  The token spec may be more work.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From niry at 263.net  Sun Feb  6 23:13:05 2005
From: niry at 263.net (niry)
Date: Sun Feb  6 23:13:20 2005
Subject: [antlr-interest] what's up with the error detect? confused!
Message-ID: <20050207071309.7C2352F8E0@smtp.263.net>

As heard of Antlr's great error recovery and support, I moved from Flex/Bison to here.
But, very confused to me, when I have this rule:

line : LPAREN WORD RPAREN

and when I supply this string "Helloworld", no error was detected! and I tracked into the line()
I saw if look head token is LPAREN match will continue; if not, no error just goto some loopxx.
So how can I detect such errors?
Any way, sorry for my poor english
Thanks for reply


From niry at 263.net  Sun Feb  6 23:18:14 2005
From: niry at 263.net (niry)
Date: Sun Feb  6 23:18:38 2005
Subject: [antlr-interest] How to know if parse successfully
Message-ID: <20050207071817.4DE532FBD5@smtp.263.net>

Is there a flag, that indicates the parse is succcessful, which I can access from my main method(Cpp)?
Maybe simple to you but not to me:(


From nbsherid at secsme.org.au  Mon Feb  7 01:43:00 2005
From: nbsherid at secsme.org.au (Nigel Sheridan-Smith)
Date: Mon Feb  7 01:42:53 2005
Subject: [antlr-interest] How to know if parse successfully
In-Reply-To: <20050207071817.4DE532FBD5@smtp.263.net>
Message-ID: <000d01c50cf9$696e3f30$0500a8c0@nigel>

> -----Original Message-----
> From: antlr-interest-bounces@antlr.org [mailto:antlr-interest-
> bounces@antlr.org] On Behalf Of niry
> Sent: Monday, 7 February 2005 6:18 PM
> To: antlr-interest
> Subject: [antlr-interest] How to know if parse successfully
> 
> Is there a flag, that indicates the parse is succcessful, which I can
> access from my main method(Cpp)?
> Maybe simple to you but not to me:(
> 
> 

Antlr attempts to recover from errors and continue to parse the input. I
believe it then throws an exception when the input is fully parsed to
indicate that the parsing was not successful. 

You need to catch the antlr::SemanticException exception... alternatively,
sub-class antlr::ANTLRParser and override reportError() or reportWarning().

Maybe you are trying to do line-by-line parsing? Add the EOF token to the
end of your main production/rule. That will force matching of only one
expression at a time.

Nigel

--
Nigel Sheridan-Smith
PhD research student

Faculty of Engineering
University of Technology, Sydney
Phone: 02 9514 7946
Fax: 02 9514 2435
 


From Manaloto-Raymond at norc.org  Mon Feb  7 07:41:33 2005
From: Manaloto-Raymond at norc.org (Manaloto-Raymond)
Date: Mon Feb  7 07:40:23 2005
Subject: [antlr-interest] Identify parts of if-else statements
Message-ID: <D24E4512D88ECF4AAB7609839807FCF1012A2090@dtex1.norc.org>

Anybody have ideas of the best way to alter the Java parser/treewalker
in the examples to identify the different parts of an if-else statement
(if part, then part, else if part, else part)? I need an easy way to
identify these sections in the treewalk.

 

Raymond Manaloto

NORC

55 East Monroe Street Suite 1840
Chicago, IL 60603

Software Engineer

Work: (312) 759.5061

Fax: (312) 759.4200

Mobile: (773) 814.9666

manaloto-raymond@norc.org

AIM: sortakool

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20050207/082bc8bf/attachment.html
From mathieu.clabaut at gmail.com  Mon Feb  7 07:44:25 2005
From: mathieu.clabaut at gmail.com (Mathieu Clabaut)
Date: Mon Feb  7 07:44:28 2005
Subject: [antlr-interest] accentuated chars in lexer makes gcj failed
Message-ID: <db9360ca050207074425ddb5f3@mail.gmail.com>

Hello,

the following Lexer grammar :
CHAR  : ('a'..'z'|'A'..'Z'|'_'| '-'
         | '?' | '?' | '?' | '?'
         | '?' | '?' | '?' | '?'
         | '?' | '?' | '?' | '?'          | '?' | '?'
         | '?' | '?' );

Get translated in the following pieces of code
               case '-':
               {
                        match('-');
                        break;
               }
               case '\u00e9':
               {
                        match('?');
                        break;
               }

 It works well when compiling in java bytecode (javac), But when using
gcj, gcj complains about the '?' accentuated char :
   GraphesLexer.java:671: erreur: unrecognized character in input
stream.

 If I replace '?' by '\u00e9', it works like a charm.
 Are their  any reason why '?' is used instead of 'u00e9' ?
 (It is perhaps a bug of gcj, but the difference between the case
parameter and the match() paramter looks strange to the newbie I am)...

 -mat 
-- 
________________http://www.gnu.org/philosophy/no-word-attachments.fr.html
Mathieu CLABAUT                            mailto:mathieu.clabaut@free.fr
           F2F5 442F F2AC E1D5 9D31  3EFC 842A BC4A 123B 9A65
From akshay.sharma at wipro.com  Sat Feb  5 07:51:22 2005
From: akshay.sharma at wipro.com (akshay.sharma@wipro.com)
Date: Mon Feb  7 10:28:35 2005
Subject: [antlr-interest] C++ to Java Conversion
Message-ID: <2C2B2278126B334092C0C4CAC0468FD60166B7E3@blr-ec-msg03.wipro.com>


We have been tasked with a project to convert and existing C++ application to Java.
The C++ code is MFC based and also used dll's.

We came across ANTLR and I was just wondering if this would help us...
I would appreciate if I somebody can give me any pointers on any previous work done..

Rgds
Akshay




Confidentiality Notice

The information contained in this electronic message and any attachments to this message are intended
for the exclusive use of the addressee(s) and may contain confidential or privileged information. If
you are not the intended recipient, please notify the sender at Wipro or Mailadmin@wipro.com immediately
and destroy all copies of this message and any attachments.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20050205/a8b89756/attachment.html
From alfredwhang at yahoo.com  Sat Feb  5 06:30:52 2005
From: alfredwhang at yahoo.com (Alfred Whang)
Date: Mon Feb  7 10:29:18 2005
Subject: [antlr-interest] sql parser
Message-ID: <20050205143052.46798.qmail@web30205.mail.mud.yahoo.com>

hi all,

  i am interested in creating an SQL tutorial tool
which allows users to query in-memory data structures
using sql statements.

  i am new to the world or yacc lex and antlr and i
know nothing about tokens other than those i wasted in
las vegas, let alone ll & lr grammar.  initially i
thought regex was the way to go but i still ended with
the same question:

  given a statement, how do i execute it?

the statement is dynamic, how do i dynamically create
a sequence of calls to instructions that will satisfy
the statement?

  antlr seems like the way to go but i am not sure how
i can use it to solve my problem.  and since i am new
to this domain, can anyone give some useful pointers
as to how i can get started?

  thanks.


		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - Easier than ever with enhanced search. Learn more.
http://info.mail.yahoo.com/mail_250
From markm at cs.jhu.edu  Sat Feb  5 10:04:47 2005
From: markm at cs.jhu.edu (Mark Miller)
Date: Mon Feb  7 10:29:55 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>	<16896.4010.859020.782455@despot.non.net>	<8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>	<16898.61543.322201.438347@despot.non.net>
	<6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>
Message-ID: <42050ABF.80801@cs.jhu.edu>

Loring Craymer wrote:
> Ter is working on modifying the 2.8 headers to mention the BSD license;

I must have missed something. What's wrong with public domain?

-- 
Text by me above is hereby placed in the public domain

     Cheers,
     --MarkM

From parrt at cs.usfca.edu  Mon Feb  7 10:59:32 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Feb  7 10:53:00 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <42050ABF.80801@cs.jhu.edu>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>	<16896.4010.859020.782455@despot.non.net>	<8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>	<16898.61543.322201.438347@despot.non.net>
	<6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>
	<42050ABF.80801@cs.jhu.edu>
Message-ID: <7bbf7d9dc7d4ca161d7ffe15f2f8339f@cs.usfca.edu>


On Feb 5, 2005, at 10:04 AM, Mark Miller wrote:

> Loring Craymer wrote:
>> Ter is working on modifying the 2.8 headers to mention the BSD 
>> license;
>
> I must have missed something. What's wrong with public domain?

Essentially, I'm exposed to lawsuits etc... w/o the explicit "watch 
out, this software could exterminate humanity" warning. ;)  We had a 
long discussion about this a few months back, but can't remember 
everything.  A lot of companies nowadays say that they can't use public 
domain stuff for some reason.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From ewbank at gmail.com  Mon Feb  7 10:57:33 2005
From: ewbank at gmail.com (Bryan Ewbank)
Date: Mon Feb  7 10:57:36 2005
Subject: [antlr-interest] Identify parts of if-else statements
In-Reply-To: <D24E4512D88ECF4AAB7609839807FCF1012A2090@dtex1.norc.org>
References: <D24E4512D88ECF4AAB7609839807FCF1012A2090@dtex1.norc.org>
Message-ID: <dd3a065f05020710575a79c880@mail.gmail.com>

To identify sections, one way that works is to add extra nodes so that
your traversal only needs to recognize those nodes and so that the
tree is regular.  E.g., always provide an else node, even if it's
empty.

There are other ways, as I'm sure you will soon be hearing :-)


On Mon, 7 Feb 2005 09:41:33 -0600, Manaloto-Raymond
<Manaloto-Raymond@norc.org> wrote:
>  
>  
> 
> Anybody have ideas of the best way to alter the Java parser/treewalker in
> the examples to identify the different parts of an if-else statement (if
> part, then part, else if part, else part)? I need an easy way to identify
> these sections in the treewalk. 
> 
>   
> 
> 
> Raymond Manaloto 
> 
> NORC 
> 
> 55 East Monroe Street Suite 1840
>  Chicago, IL 60603 
> 
> Software Engineer 
> 
> Work: (312) 759.5061 
> 
> Fax: (312) 759.4200 
> 
> Mobile: (773) 814.9666 
> 
> manaloto-raymond@norc.org 
> 
> AIM: sortakool 
> 
>
From johnm-antlr at non.net  Mon Feb  7 11:31:19 2005
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Feb  7 11:31:00 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <7bbf7d9dc7d4ca161d7ffe15f2f8339f@cs.usfca.edu>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>
	<16896.4010.859020.782455@despot.non.net>
	<8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>
	<16898.61543.322201.438347@despot.non.net>
	<6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>
	<42050ABF.80801@cs.jhu.edu>
	<7bbf7d9dc7d4ca161d7ffe15f2f8339f@cs.usfca.edu>
Message-ID: <16903.49671.652000.561039@despot.non.net>

>>>>> "Terence" == Terence Parr <parrt@cs.usfca.edu> writes:
[...]

>> I must have missed something. What's wrong with public domain?

> Essentially, I'm exposed to lawsuits etc... w/o the explicit "watch out,
> this software could exterminate humanity" warning. ;) We had a long
> discussion about this a few months back, but can't remember everything.
> A lot of companies nowadays say that they can't use public domain stuff
> for some reason.

It gets into the exposure to the liability of various types of IP (the big
one these days is patents).

Alas, that's why even BSD isn't enough for anyone who's seriously paranoid.

Take care,
	John
From niry at 263.net  Mon Feb  7 23:39:07 2005
From: niry at 263.net (niry)
Date: Mon Feb  7 23:39:23 2005
Subject: [antlr-interest] How to know if parse successfully
Message-ID: <20050208073909.113492F7EA@smtp.263.net>

Pj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4+IEZyb206IGFudGxyLWludGVyZXN0LWJv
dW5jZXNAYW50bHIub3JnIFttYWlsdG86YW50bHItaW50ZXJlc3QtDQo+PiBib3VuY2VzQGFudGxy
Lm9yZ10gT24gQmVoYWxmIE9mIG5pcnkNCj4+IFNlbnQ6IE1vbmRheSwgNyBGZWJydWFyeSAyMDA1
IDY6MTggUE0NCj4+IFRvOiBhbnRsci1pbnRlcmVzdA0KPj4gU3ViamVjdDogW2FudGxyLWludGVy
ZXN0XSBIb3cgdG8ga25vdyBpZiBwYXJzZSBzdWNjZXNzZnVsbHkNCj4+IA0KPj4gSXMgdGhlcmUg
YSBmbGFnLCB0aGF0IGluZGljYXRlcyB0aGUgcGFyc2UgaXMgc3VjY2Nlc3NmdWwsIHdoaWNoIEkg
Y2FuDQo+PiBhY2Nlc3MgZnJvbSBteSBtYWluIG1ldGhvZChDcHApPw0KPj4gTWF5YmUgc2ltcGxl
IHRvIHlvdSBidXQgbm90IHRvIG1lOigNCj4+IA0KPj4gDQo+DQo+QW50bHIgYXR0ZW1wdHMgdG8g
cmVjb3ZlciBmcm9tIGVycm9ycyBhbmQgY29udGludWUgdG8gcGFyc2UgdGhlIGlucHV0LiBJDQo+
YmVsaWV2ZSBpdCB0aGVuIHRocm93cyBhbiBleGNlcHRpb24gd2hlbiB0aGUgaW5wdXQgaXMgZnVs
bHkgcGFyc2VkIHRvDQo+aW5kaWNhdGUgdGhhdCB0aGUgcGFyc2luZyB3YXMgbm90IHN1Y2Nlc3Nm
dWwuIA0KPg0KPllvdSBuZWVkIHRvIGNhdGNoIHRoZSBhbnRscjo6U2VtYW50aWNFeGNlcHRpb24g
ZXhjZXB0aW9uLi4uIGFsdGVybmF0aXZlbHksDQo+c3ViLWNsYXNzIGFudGxyOjpBTlRMUlBhcnNl
ciBhbmQgb3ZlcnJpZGUgcmVwb3J0RXJyb3IoKSBvciByZXBvcnRXYXJuaW5nKCkuDQpJIGhhcyB0
cmllZCB5b3VyIGFsdGVybmF0aXZlIHNvbHV0aW9uLCBhbmQgaW4gcmVwb3J0RXJyb3IvV2Fybmlu
ZygpIG1ldGhvZCwNCkkgc2V0IHBhcnNlT0sgZmxhZyB0byBmYWxzZSBhbmQgY29udGludWUgd2l0
aCByZWNvdmVyeS4NCldoZW4gcGFyc2UgZW5kLCBJIHF1ZXJ5IHRoZSBmbGFnIHRvIGtub3cgd2hl
dGhlciBpcyBzdWNjZXNzZnVsLg0KTm93IGl0IHdvcmtzIGZpbmUhdGhhbmtzIGEgbG90ISENCg0K
Pg0KPk1heWJlIHlvdSBhcmUgdHJ5aW5nIHRvIGRvIGxpbmUtYnktbGluZSBwYXJzaW5nPyBBZGQg
dGhlIEVPRiB0b2tlbiB0byB0aGUNCj5lbmQgb2YgeW91ciBtYWluIHByb2R1Y3Rpb24vcnVsZS4g
VGhhdCB3aWxsIGZvcmNlIG1hdGNoaW5nIG9mIG9ubHkgb25lDQo+ZXhwcmVzc2lvbiBhdCBhIHRp
bWUuDQpZZXMhIFlvdSBoYXZlIGFuc3dlcmVkIG15IGFub3RoZXIgcXVlc3Rpb246IjIuIHdoYXQn
cyB1cCB3aXRoIHRoZSBlcnJvciBkZXRlY3Q/IGNvbmZ1c2VkISAobmlyeSkiDQpBZnRlciBJIHBv
c3RlZCB0aGF0IHF1ZXN0aW9uLCBJIGFkZGVkIGEgRU9GIHRvIHRoZSBlbmQgb2YgbXkgbWFpbiBy
dWxlLg0KbW1tLCBhbnl3YXksIHdoZW4gaW5wdXQgaXMgbm90IHN1aXRlZCBmb3IgdGhlIHJ1bGUs
IHNvbWUgZXJyb3IgbWVzc2FnZSBsaWtlICJleHBlY3QgRU9GIiBhcHBlYXJzLCANCmxvb2tzIG1v
cmUgdGhhbiBwcm9mZXNzaW9uYWw6KA0KPg0KPk5pZ2VsDQo+DQo+LS0NCj5OaWdlbCBTaGVyaWRh
bi1TbWl0aA0KPlBoRCByZXNlYXJjaCBzdHVkZW50DQo+DQo+RmFjdWx0eSBvZiBFbmdpbmVlcmlu
Zw0KPlVuaXZlcnNpdHkgb2YgVGVjaG5vbG9neSwgU3lkbmV5DQo+UGhvbmU6IDAyIDk1MTQgNzk0
Ng0KPkZheDogMDIgOTUxNCAyNDM1DQo+IA0KPg0KPg0KPg0KPg0KDQo9ID0gPSA9ID0gPSA9ID0g
PSA9ID0gPSA9ID0gPSA9ID0gPSA9ID0NCgkJCQ0KDQqhoaGhoaGhoaGhoaGhoaGh1sINCsDxo6EN
CiANCgkJCQkgDQqhoaGhoaGhoaGhoaGhoaGhbmlyeQ0KoaGhoaGhoaGhoaGhoaGhoW5pcnlAMjYz
Lm5ldA0KoaGhoaGhoaGhoaGhoaGhoaGhoaEyMDA1LTAyLTA4DQoNCg==


From ric.klaren at gmail.com  Tue Feb  8 01:36:17 2005
From: ric.klaren at gmail.com (Ric Klaren)
Date: Tue Feb  8 01:36:20 2005
Subject: [antlr-interest] How to know if parse successfully
In-Reply-To: <20050208073909.113492F7EA@smtp.263.net>
References: <20050208073909.113492F7EA@smtp.263.net>
Message-ID: <bc607a4e050208013679f4d10e@mail.gmail.com>

On Tue, 8 Feb 2005 15:39:07 +0800, niry <niry@263.net> wrote:
> >Maybe you are trying to do line-by-line parsing? Add the EOF token to the
> >end of your main production/rule. That will force matching of only one
> >expression at a time.
> Yes! You have answered my another question:"2. what's up with the error detect? confused! (niry)"
> After I posted that question, I added a EOF to the end of my main rule.
> mmm, anyway, when input is not suited for the rule, some error message like "expect EOF" appears,
> looks more than professional:(

This might be of interest if you do line by line parsing.

http://www.jguru.com/faq/view.jsp?EID=893706

Cheers,

Ric
From open.zone at virgin.net  Tue Feb  8 06:04:07 2005
From: open.zone at virgin.net (Micheal J)
Date: Tue Feb  8 05:51:58 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <16903.49671.652000.561039@despot.non.net>
Message-ID: <000b01c50de7$0ea2bd80$7e02a8c0@hercules>

> It gets into the exposure to the liability of various types 
> of IP (the big one these days is patents).
> 
> Alas, that's why even BSD isn't enough for anyone who's 
> seriously paranoid.

Interesting comments. I've got to read up again on the various licenses and
the consequences theie use implies.

Cheers,

Micheal

From niry at 263.net  Tue Feb  8 07:17:50 2005
From: niry at 263.net (niry)
Date: Tue Feb  8 07:18:05 2005
Subject: [antlr-interest] line by line parser
Message-ID: <20050208151754.E866B2FD61@smtp.263.net>

RGVhciBSaWMgS2xhcmVuDQoJUmVhbGx5IHRoYW5rcyBmb3IgeW91ciByZXBseSEgQnV0IG1heWJl
IG15IHBhcnNlciBpcyBub3QgYSBzdHJpY3QgbGluZSBieSBsaW5lIHBhcnNlciwgc28gSSBjYW4g
d3JpdGUgcnVsZXMgdG8gcGFyc2UgaXQgd2VsbCEoU2VlIGJlbG93IG15IHJ1bGVzKQ0KCVdoYXQg
SSB3YW50IHRvIGRvIGlzIHRvIGNvbnZlcnQgdXNlci1pbnB1dCB0ZXh0IHRvIGludGVybmFsIGNv
ZGUsIHNvbWUgdGhpbmcgbGlrZSBNQVNNIGRvZXMuIA0KCWUuZy4gVXNlciB3aWxsIGlucHV0IGxp
bmVzIGxpa2UgIihOb3VuLnNwYWNlKShWZXJiLnBhc3NpdmUpOjpsaygxLCBOb3VuKTtsayg0LCBW
ZXJiKS0+bXJnOyIsIHdoZXJlIGludGVybmFsbHkgTm91biBpcyBjb2RlZCBieSAwMiwgc3BhY2Ug
MjMsIFZlcmIgMDMsIHBhc3NpdmUgMzUuDQoJU28gdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVk
IHRvIDoNCgkiMDIyMzAzMzVsaygxLDAyKW1yZyIgd2hlcmUgbGsgYW5kIG1yZyBhcmUgZnVuY3Rp
b25zLg0KCUFuZCBkdXJpbmcgY29udmVydGluZywgSSB3aWxsIGNoZWNrIGlmIHRoZXJlIGRvZXMg
aGF2ZSBhIHR5cGUgY2FsbGVkICJOb3VuIiwgd2hpY2ggaGFzIGEgc3VidHlwZSBjYWxsZWQgInNw
YWNlIiwgYW5kIGV0Yy4sIGFuZCBhbHNvIHdpbGwgY2hlY2sgaWYgdGhlcmUgZG9lcyBoYXZlIGEg
ZnVuY3Rpb24gY2FsbGVkICJsayIsIHdoaWNoIGhhcyB0d28gcGFyYW1ldGVycywgYW5kIHRoZSBm
aXJzdCBzaG91bGQgYmUgZGlnaXQsIHNlY29uZCBzaG91bGQgYmUgdHlwZShlLmcuICJOb3VuIiwg
IlZlcmIiKS4NCgkibGsiIGlzIGEgY29uZGl0aW9uIGZ1bmN0aW9uLCB3aGljaCBzaG91bGQgYmUg
YWZ0ZXIgIjo6IiwgIm1yZyIgaXMgb3BlcmF0aW9uIGZ1bmN0aW9uLCB3aGljaCBzaG91bGQgYmUg
YWZ0ZXIgIi0+Ig0KCWFsbCBvZiBhYm92ZSBzaG91bGQgYmUgY2hlY2tlZCBkdXJpbmcgY29udmVy
dGluZywgYW5kIHRoZSBtZXRhIGluZm9ybWF0aW9uIGFib3V0IG15IGRlZmluZWQgbGFuZ3VhZ2Ug
aXMgc3RvcmVkIHdpdGggWE1MIGZvcm1hdCwgd2hpY2ggaXMgcmVhZCBieSBwYXJzZXIgYmVmb3Jl
IGNvbnZlcnRpbmcuDQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLy8gUnVsZS5nDQoNCmhlYWRlciB7DQoJI2lu
Y2x1ZGUgInN0ZGFmeC5oIg0KCSNpbmNsdWRlIDxzdHJpbmc+DQoJI2luY2x1ZGUgPHZlY3Rvcj4N
CgkjaW5jbHVkZSA8aXRlcmF0b3I+DQoJI2luY2x1ZGUgInBhcnNlLmgiDQoJI2luY2x1ZGUgIlRl
cm1FeGNlcHRpb24uaCINCgkjaW5jbHVkZSAiRnVuY3Rpb25FeGNlcHRpb24uaCINCglBTlRMUl9V
U0lOR19OQU1FU1BBQ0Uoc3RkKQ0KfSAgDQoNCm9wdGlvbnMgew0KCWxhbmd1YWdlPSJDcHAiOw0K
fQ0KDQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi8vIFRoZSBSdWxlIHBhcnNlcg0KLy8tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tDQpjbGFzcyBSdWxlUGFyc2VyIGV4dGVuZHMgUGFyc2VyOw0Kb3B0aW9ucyB7
DQoJayA9IDI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHdvIHRva2VuIGxvb2thaGVh
ZA0KCWV4cG9ydFZvY2FiPVJ1bGU7ICAgICAgICAgICAgICAgIC8vIENhbGwgaXRzIHZvY2FidWxh
cnkgIlJ1bGUiDQoJY29kZUdlbk1ha2VTd2l0Y2hUaHJlc2hvbGQgPSAyOyAgLy8gU29tZSBvcHRp
bWl6YXRpb25zIChkb24ndCBzZWVtIHRvIGRvDQoJY29kZUdlbkJpdHNldFRlc3RUaHJlc2hvbGQg
PSAzOyAgLy8gbXVjaCBzcGVlZHdpc2UgaW4gQysrIGNvbXBhcmVkIHRvIGRlZmF1bHRzKQ0KCWRl
ZmF1bHRFcnJvckhhbmRsZXIgPSB0cnVlOyAgICAgLy8gRG9uJ3QgZ2VuZXJhdGUgcGFyc2VyIGVy
cm9yIGhhbmRsZXJzDQp9DQoNCnsNCnByaXZhdGU6DQoJYm9vbCBwYXJzZU9LOw0KcHVibGljOg0K
CWlubGluZSBib29sIElzUGFyc2VPSygpIHsNCgkJcmV0dXJuIHBhcnNlT0s7DQoJfQ0KCXZpcnR1
YWwgdm9pZCByZXBvcnRFcnJvcihjb25zdCBBTlRMUl9VU0VfTkFNRVNQQUNFKGFudGxyKVJlY29n
bml0aW9uRXhjZXB0aW9uJiBleCkNCgl7DQoJCV9fc3VwZXI6OnJlcG9ydEVycm9yKGV4KTsNCgkJ
cGFyc2VPSyA9IGZhbHNlOw0KCX0NCg0KfQ0KDQpmaWxlW3ZlY3RvcjxzdHJpbmc+JiBvdXRwdXRM
aXN0XQ0KewlwYXJzZU9LID0gdHJ1ZTsgICAgICAvLyBpbml0aWFsbHksIHNldCBwYXJzZU9LID0g
dHJ1ZQ0KCXN0ZDo6c3RyaW5nIGxpbmVTdHI7DQp9DQoJOgkoDQoJCQlsaW5lW2xpbmVTdHJdDQoJ
CQl7DQoJCQkJb3V0cHV0TGlzdC5wdXNoX2JhY2sobGluZVN0cik7DQoJCQl9DQoJCSkqIGVvZjpF
T0YNCgk7DQoNCmxpbmVbc3RyaW5nJiBsaW5lU3RyXQ0KewlzdHJpbmcgc3RyOw0KfQ0KCTogICAo
DQoJCQkoDQoJCQkJdGVybVtzdHJdDQoJCQkJeyBsaW5lU3RyICs9IHN0cjsJfQ0KCQkJKSsNCgkJ
CShEQkxDT0xPTiANCgkJCQkoDQoJCQkJCWZ1bmN0aW9uWzAsIHN0cl0NCgkJCQkJeyBsaW5lU3Ry
ICs9IHN0cisnOyc7IH0NCgkJCQkpKw0KCQkJKT8NCgkJCUFSUk9XICgNCgkJCQkJZnVuY3Rpb25b
MSwgc3RyXQ0KCQkJCQl7IGxpbmVTdHIgKz0gc3RyKyc7JzsgfQ0KCQkJCSkrDQoJCSk/DQoJCU5F
V0xJTkUNCgkJeyBsaW5lU3RyICs9ICdcbic7IH0NCgk7DQoNCnRlcm1bc3RyaW5nJiB0ZXJtU3Ry
XQ0KCTogIAlMUEFSRU4gd29yZDpTVFJJTkdfTElURVJBTA0KCQl7IHRlcm1TdHIgKz0gd29yZC0+
Z2V0VGV4dCgpOyB9DQoJCQkoRE9UIHdvcmQyOlNUUklOR19MSVRFUkFMDQoJCQl7IHRlcm1TdHIg
Kz0gJy4nK3dvcmQyLT5nZXRUZXh0KCk7IH0NCgkJCQkoDQoJCQkJCURPVCB3b3JkMzpTVFJJTkdf
TElURVJBTA0KCQkJCQl7IHRlcm1TdHIgKz0gJy4nK3dvcmQzLT5nZXRUZXh0KCk7IH0NCgkJCQkp
Pw0KCQkJKT8NCgkJUlBBUkVODQoJCXsNCgkJCUNTdHJpbmcgc3RyU3JjKHRlcm1TdHIuY19zdHIo
KSk7DQoJCQlDU3RyaW5nIHN0ckRzdDsNCgkJCWlmKFRyYW5zbGF0ZVdvcmQoc3RyU3JjLCBzdHJE
c3QpKSB7DQoJCQkJdGVybVN0ciA9IChMUENUU1RSKXN0ckRzdDsNCgkJCX0NCgkJCWVsc2Ugew0K
CQkJCUFOVExSX1VTRV9OQU1FU1BBQ0UoYW50bHIpU2VtYW50aWNFeGNlcHRpb24gZXgoDQoJCQkJ
CSJ0ZXJtIGlucHV0IGVycm9yIiwgZ2V0RmlsZW5hbWUoKSwgd29yZC0+Z2V0TGluZSgpLCB3b3Jk
LT5nZXRDb2x1bW4oKSk7DQoJCQkJcmVwb3J0RXJyb3IoZXgpOw0KCQkJfQ0KCQl9DQoJOw0KZnVu
Y3Rpb25baW50IG5DdXJQb3MsIHN0cmluZyYgZnVuY1N0cl0NCnsJc3RyaW5nIHBhcmFtczsgfQ0K
CToJZnVuYzpTVFJJTkdfTElURVJBTCANCgkJKA0KCQkJTFBBUkVOIHBhcmFtOlNUUklOR19MSVRF
UkFMICANCgkJCXsgcGFyYW1zICs9IHBhcmFtLT5nZXRUZXh0KCk7IH0NCgkJCSgNCgkJCQlDT01N
QSBwYXJhbTI6U1RSSU5HX0xJVEVSQUwNCgkJCQl7IHBhcmFtcyArPSAnLCcrcGFyYW0yLT5nZXRU
ZXh0KCk7IH0NCgkJCSkqIA0KCQkJUlBBUkVODQoJCSk/DQoJCXsNCgkJCUNTdHJpbmcgc3RyRnVu
YyhmdW5jLT5nZXRUZXh0KCkuY19zdHIoKSksIHN0clBhcmFtKHBhcmFtcy5jX3N0cigpKSwgc3Ry
RHN0Ow0KCQkJaW50IG5FcnIgPSBUcmFuc2xhdGVGdW5jdGlvbihuQ3VyUG9zLCBzdHJGdW5jLCBz
dHJQYXJhbSwgc3RyRHN0KTsNCgkJCWlmKG5FcnIgPT0gRVJSX0ZVTkMpIHsNCgkJCQlBTlRMUl9V
U0VfTkFNRVNQQUNFKGFudGxyKVNlbWFudGljRXhjZXB0aW9uIGV4KA0KCQkJCQkiTm8gc3VjaCBm
dW5jdGlvbiBlcnJvciIsIGdldEZpbGVuYW1lKCksIGZ1bmMtPmdldExpbmUoKSwgZnVuYy0+Z2V0
Q29sdW1uKCkpOw0KCQkJCXJlcG9ydEVycm9yKGV4KTsNCgkJCX0NCgkJCWVsc2UgaWYobkVyciA9
PSBFUlJfUEFSQU0pIHsNCgkJCQlBTlRMUl9VU0VfTkFNRVNQQUNFKGFudGxyKVNlbWFudGljRXhj
ZXB0aW9uIGV4KA0KCQkJCQkicGFyYW1ldGVycyBlcnJvciIsIGdldEZpbGVuYW1lKCksIGZ1bmMt
PmdldExpbmUoKSwgZnVuYy0+Z2V0Q29sdW1uKCkpOw0KCQkJCXJlcG9ydEVycm9yKGV4KTsNCgkJ
CX0NCgkJCWVsc2Ugew0KCQkJCWZ1bmNTdHIgPSAoTFBDVFNUUilzdHJEc3Q7DQoJCQl9DQoJCX0N
CgkJU0VNSQ0KCTsNCg0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQovLyBUaGUgUnVsZSBzY2FubmVy
DQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCnsNCiNpbmNsdWRlIDxzdHJpbmc+DQp9DQpjbGFzcyBS
dWxlTGV4ZXIgZXh0ZW5kcyBMZXhlcjsNCg0Kb3B0aW9ucyB7DQoJZXhwb3J0Vm9jYWI9UnVsZTsg
ICAgICAvLyBjYWxsIHRoZSB2b2NhYnVsYXJ5ICJSdWxlIg0KCXRlc3RMaXRlcmFscz1mYWxzZTsg
ICAgLy8gZG9uJ3QgYXV0b21hdGljYWxseSB0ZXN0IGZvciBsaXRlcmFscw0KCWs9MjsgICAgICAg
ICAgICAgICAgICAgLy8gdHdvIGNoYXJhY3RlcnMgb2YgbG9va2FoZWFkDQoJY2hhclZvY2FidWxh
cnk9J1x1MDAwMycuLidcdTAwRkYnOw0KCS8vCWNvZGVHZW5CaXRzZXRUZXN0VGhyZXNob2xkPTIw
Ow0KfQ0KDQovLyBPUEVSQVRPUlMNCkxQQVJFTgkJb3B0aW9ucyB7DQoJcGFyYXBocmFzZSA9ICIo
IjsNCn0JCQkNCgk6CScoJwkJDQoJOw0KDQpSUEFSRU4JCW9wdGlvbnMgew0KCXBhcmFwaHJhc2Ug
PSAiKSI7DQp9CQkJDQoJOgknKScJCQ0KCTsNCg0KREJMQ09MT04Jb3B0aW9ucyB7DQoJcGFyYXBo
cmFzZSA9ICI6OiI7DQp9CQkJDQoJOgkiOjoiIA0KCTsNCg0KQVJST1cJCW9wdGlvbnMgew0KCXBh
cmFwaHJhc2UgPSAiLT4iOw0KfQkJICAgDQoJOgkiLT4iCQ0KCTsNCg0KQ09NTUEJCW9wdGlvbnMg
ew0KCXBhcmFwaHJhc2UgPSAiLCI7DQp9CQkgICANCgk6CScsJwkJDQoJOw0KDQpET1QJCQlvcHRp
b25zIHsNCglwYXJhcGhyYXNlID0gIi4iOw0KfQkJCQ0KCToJJy4nCQkNCgk7DQoNClNFTUkJCQlv
cHRpb25zIHsNCglwYXJhcGhyYXNlID0gIjsiOw0KfQkNCgk6CSc7JwkJDQoJOw0KDQovLyBoYW5k
bGUgbmV3bGluZXMNCk5FV0xJTkUJCQlvcHRpb25zIHsNCglwYXJhcGhyYXNlID0gImVudGVyKFxu
KSI7CQkNCn0NCgk6CSgNCgkJCShvcHRpb25zIHtnZW5lcmF0ZUFtYmlnV2FybmluZ3M9ZmFsc2U7
fQ0KCQkJOgkiXHJcbiIgIC8vIEV2aWwgRE9TDQoJCQl8CSdccicgICAgLy8gTWFjaW50b3NoDQoJ
CQl8CSdcbicgICAgLy8gVW5peCAodGhlIHJpZ2h0IHdheSkNCgkJCSkNCgkJCXsgbmV3bGluZSgp
OyB9DQoJCSkrDQoJOw0KLy8gV2hpdGVzcGFjZSAtLSBpZ25vcmVkDQpXUwk6CSgJJyAnDQoJCXwJ
J1x0Jw0KCQl8CSdcZicNCgkJeyAkc2V0VHlwZShBTlRMUl9VU0VfTkFNRVNQQUNFKGFudGxyKVRv
a2VuOjpTS0lQKTsgfQ0KCQkpKw0KCTsNCg0KLy8gU2luZ2xlLWxpbmUgY29tbWVudHMNClNMX0NP
TU1FTlQNCgk6CSIvLyINCgkJKH4oJ1xuJ3wnXHInKSkqDQoJCXsNCgkJCSRzZXRUeXBlKEFOVExS
X1VTRV9OQU1FU1BBQ0UoYW50bHIpVG9rZW46OlNLSVApOw0KCQl9DQoJOw0KDQovLyBtdWx0aXBs
ZS1saW5lIGNvbW1lbnRzDQpNTF9DT01NRU5UDQoJOgkiLyoiDQoJCSgNCgkJCW9wdGlvbnMgew0K
CQkJCWdlbmVyYXRlQW1iaWdXYXJuaW5ncz1mYWxzZTsNCgkJCX0NCgkJOgl7IExBKDIpIT0nLycg
fT8gJyonDQoJCXwJIlxyXG4iCQkJe25ld2xpbmUoKTt9ICAJLy8gRXZpbCBET1MNCgkJfAknXHIn
CQkJe25ld2xpbmUoKTt9CS8vIE1hY2ludG9zaA0KCQl8CSdcbicJCQl7bmV3bGluZSgpO30JLy8g
VW5peCAodGhlIHJpZ2h0IHdheSkNCgkJfAl+KCcqJ3wnXG4nfCdccicpDQoJCSkqDQoJCSIqLyIN
CgkJeyRzZXRUeXBlKEFOVExSX1VTRV9OQU1FU1BBQ0UoYW50bHIpVG9rZW46OlNLSVApO30NCgk7
DQoJDQoJCQ0KDQovLyBzdHJpbmcgbGl0ZXJhbHMNClNUUklOR19MSVRFUkFMCQkJb3B0aW9ucyB7
DQoJcGFyYXBocmFzZSA9ICJzdHJpbmcgbGl0ZXJhbCI7CQkNCn0JOgkoDQoJCQl+KCAnKCcgfCAn
KScgfCAnWycgfCAnXScgDQoJCQkJfCAnLScgfCAnOicgfCAnLycgfCAnKicgDQoJCQkJfCAnLCcg
fCAnLicgfCAnOycgfCAnXG4nIHwgJ1xyJyB8ICdcdCcgfCAnICcgfCAnXHUwMDBjJyApDQoJCQl8
DQoJCQkJeyBMQSgyKSE9Jz4nIH0/IAkJCSctJwkvLyBubyAiLT4iDQoJCQl8DQoJCQl7IExBKDIp
IT0nOicgfT8gCQkJJzonIC8vIG5vICI6OiINCgkJCXwNCgkJCXsgTEEoMikhPScvJyAmJiBMQSgy
KSE9JyonfT8nLycgLy8gbm8gIi8vIiBhbmQgIi8qIg0KCQkJLyoNCgkJCXsgTEEoMikhPScvJyB9
PwkJCQknLycgLy8gbm8gIi8vIiAgKkJVVCBhY3R1cmFsbHkgdGhpcyB3aWxsIGhpdCAiLyoiDQoJ
CQl8DQoJCQl7IExBKDIpIT0nKicgfT8JCQkJJy8nIC8vIG5vICIvKiIJKkJVVCBhY3R1cmFsbHkg
dGhpcyB3aWxsIGhpdCAiLy8iDQoJCQkqLw0KCQkJfA0KCQkJeyBMQSgyKSE9Jy8nIH0/IAkJCScq
JyAvLyBubyAiKi8iDQoJCSkrDQoJOw0KDQoNCj09PT09PT0gMjAwNS0wMi0wOCAxNzozNjoxNyBZ
b3Ugd3JvdGUgaW4gcHJldmlvdXMgbWFpbKO6PT09PT09PQ0KDQo+T24gVHVlLCA4IEZlYiAyMDA1
IDE1OjM5OjA3ICswODAwLCBuaXJ5IDxuaXJ5QDI2My5uZXQ+IHdyb3RlOg0KPj4gPk1heWJlIHlv
dSBhcmUgdHJ5aW5nIHRvIGRvIGxpbmUtYnktbGluZSBwYXJzaW5nPyBBZGQgdGhlIEVPRiB0b2tl
biB0byB0aGUNCj4+ID5lbmQgb2YgeW91ciBtYWluIHByb2R1Y3Rpb24vcnVsZS4gVGhhdCB3aWxs
IGZvcmNlIG1hdGNoaW5nIG9mIG9ubHkgb25lDQo+PiA+ZXhwcmVzc2lvbiBhdCBhIHRpbWUuDQo+
PiBZZXMhIFlvdSBoYXZlIGFuc3dlcmVkIG15IGFub3RoZXIgcXVlc3Rpb246IjIuIHdoYXQncyB1
cCB3aXRoIHRoZSBlcnJvciBkZXRlY3Q/IGNvbmZ1c2VkISAobmlyeSkiDQo+PiBBZnRlciBJIHBv
c3RlZCB0aGF0IHF1ZXN0aW9uLCBJIGFkZGVkIGEgRU9GIHRvIHRoZSBlbmQgb2YgbXkgbWFpbiBy
dWxlLg0KPj4gbW1tLCBhbnl3YXksIHdoZW4gaW5wdXQgaXMgbm90IHN1aXRlZCBmb3IgdGhlIHJ1
bGUsIHNvbWUgZXJyb3IgbWVzc2FnZSBsaWtlICJleHBlY3QgRU9GIiBhcHBlYXJzLA0KPj4gbG9v
a3MgbW9yZSB0aGFuIHByb2Zlc3Npb25hbDooDQo+DQo+VGhpcyBtaWdodCBiZSBvZiBpbnRlcmVz
dCBpZiB5b3UgZG8gbGluZSBieSBsaW5lIHBhcnNpbmcuDQo+DQo+aHR0cDovL3d3dy5qZ3VydS5j
b20vZmFxL3ZpZXcuanNwP0VJRD04OTM3MDYNCj4NCj5DaGVlcnMsDQo+DQo+UmljDQo+DQo+Lg0K
DQo9ID0gPSA9ID0gPSA9ID0gPSA9ID0gPSA9ID0gPSA9ID0gPSA9ID0NCgkJCQ0KDQpCZXN0IFJl
Z2FyZHMhDQogDQoJCQkJIA0KoaGhoaGhoaGhoaGhoaGhoW5pcnkNCqGhoaGhoaGhoaGhoaGhoaFu
aXJ5QDI2My5uZXQNCqGhoaGhoaGhoaGhoaGhoaGhoaGhMjAwNS0wMi0wOA0KDQo=


From johnm-antlr at non.net  Tue Feb  8 09:46:28 2005
From: johnm-antlr at non.net (John D. Mitchell)
Date: Tue Feb  8 09:46:10 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <000b01c50de7$0ea2bd80$7e02a8c0@hercules>
References: <16903.49671.652000.561039@despot.non.net>
	<000b01c50de7$0ea2bd80$7e02a8c0@hercules>
Message-ID: <16904.64244.885768.796937@despot.non.net>

>>>>> "Micheal" == Micheal J <open.zone@virgin.net> writes:
[...]

>> It gets into the exposure to the liability of various types of IP (the
>> big one these days is patents).

>> Alas, that's why even BSD isn't enough for anyone who's seriously
>> paranoid.

> Interesting comments. I've got to read up again on the various licenses
> and the consequences theie use implies.

There are two books (that I know of) that are currently available which
specifically talk about Free and Open Source licenses. I've read the one by
Rosen and skimmed the other one. You might find them helpful.

As I recommended to Ter after the Antlr fest at USF, it seems that Rosen's
latest version of the "Academic Free License" covers all of the bases for
Antlr needs.
http://opensource.org/licenses/afl-2.1.php

As always, IANAL, seek competent professional help, etc.

Take care,
	John
From parrt at cs.usfca.edu  Tue Feb  8 09:59:36 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Tue Feb  8 09:53:38 2005
Subject: [antlr-interest] clarification on tree proposal
Message-ID: <fa3b4eb19b4fda82c4a7fb50b1dda966@cs.usfca.edu>

Howdy,

Just in case I've not been clear on the tree proposal stuff, that blog 
entry is what I am proposing to implement, but the ideas are *not* 
exclusively mine.  I've been working with Loring Craymer, Monty 
Zukowski, Ric Klaren, and John Mitchell very closely over the years and 
I have been greatly influenced by their ideas.  Further, ANTLR users 
(and particularly the ANTLR2004 workshop attendees) continuously send 
me good ideas.  I use whatever I think is useful and can fit in the 
"concept" I'm shooting for.  I know that Matthew Ford sent me a big 
list of ideas for the tree stuff, which I've read and, hence, been 
influenced by.   Another case in point: John Mitchell just proposed 
label+=element to better indicate you intend to work with all values 
instead of label=element, which means "last element matched."  Love 
that.  I will add to the proposal when I get a few spare cycles.

Regarding Loring's 2.8experimental, I hope to use as many ideas as 
possible in my implementation for v3.0.  Certainly, he has some great 
ideas, which I've already included in my proposal.  As I learn more, I 
may grab even more! :)  We should get some good experimental data on 
the ideas as people start to play with it.  I will watch closely.

Anyway, just wanted to be clear about things.  Keep those ideas coming 
folks!  ANTLR has become popular because I try to provide what you ask 
for! ;)

Thanks,
Ter
PS	the same collaborative effort went into the attribute mechanism.
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From nbsherid at secsme.org.au  Tue Feb  8 13:29:32 2005
From: nbsherid at secsme.org.au (Nigel Sheridan-Smith)
Date: Tue Feb  8 13:29:26 2005
Subject: [antlr-interest] How to know if parse successfully
In-Reply-To: <20050208073909.113492F7EA@smtp.263.net>
Message-ID: <000401c50e25$47c7c360$0500a8c0@nigel>



> -----Original Message-----
> From: antlr-interest-bounces@antlr.org [mailto:antlr-interest-
> bounces@antlr.org] On Behalf Of niry
> Sent: Tuesday, 8 February 2005 6:39 PM
> To: antlr-interest@antlr.org
> Subject: Re: RE: [antlr-interest] How to know if parse successfully
>=20
> >
> >Maybe you are trying to do line-by-line parsing? Add the EOF token to =
the
> >end of your main production/rule. That will force matching of only =
one
> >expression at a time.
> Yes! You have answered my another question:"2. what's up with the =
error
> detect? confused! (niry)"
> After I posted that question, I added a EOF to the end of my main =
rule.
> mmm, anyway, when input is not suited for the rule, some error message
> like "expect EOF" appears,
> looks more than professional:(
> >

You might want to look at the "paraphrase" option in the reference =
manual if
you want to replace "EOF" with your own text to be reported back to the
user...

Nigel


--
Nigel Sheridan-Smith
PhD research student

Faculty of Engineering
University of Technology, Sydney
Phone: 02 9514 7946
Fax: 02 9514 2435


From krishanu.debnath at gmail.com  Wed Feb  9 04:01:14 2005
From: krishanu.debnath at gmail.com (Krishanu Debnath)
Date: Wed Feb  9 04:01:21 2005
Subject: [antlr-interest] build problem with antlr-2.7.5
Message-ID: <9fa1fefc05020904014b98abc5@mail.gmail.com>

Hello,

I am getting the following errors during build of antlr-2.7.5 .

krishanu@meghna[199] configure --prefix=/u/krishanu/my_local/antlr_275/
...

krishanu@meghna[194] make
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
>> make -C ./antlr install
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
make[1]: Entering directory `/u/krishanu/ANTLR/antlr-2.7.5/antlr'
/bin/sh /u/krishanu/ANTLR/antlr-2.7.5/scripts/antlr.sh
/u/krishanu/ANTLR/antlr-2.7.5/antlr/../antlr/antlr.g
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Unable to compile ANTLR grammar file(s)
 /u/krishanu/ANTLR/antlr-2.7.5/antlr/../antlr/antlr.g
Reason(s):
 (a) there's no /u/krishanu/ANTLR/antlr-2.7.5/antlr/antlr.jar
 (b) there's no /u/krishanu/ANTLR/antlr-2.7.5/antlr.jar
 (c) there's no /u/krishanu/ANTLR/antlr-2.7.5/lib/antlr.jar
 (d) options --with-antlr-jar --with-antlr-cmd not applied
     or value given is not correct.                                   
         You may resolve this problem by setting environment variable
$ANTLR_JAR.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
make[1]: *** [ANTLRParser.java] Error 1
make[1]: Leaving directory `/u/krishanu/ANTLR/antlr-2.7.5/antlr'
make: *** [install] Error 1
krishanu@meghna[195] pwd
/u/krishanu/ANTLR/antlr-2.7.5

I noticed that antlr.jar is used to there in earlier releases, atleast
in 2.7.4.I use antlr for C++ code generation. So in earlier i used to
build libantlr.a and use antlr in the following
way.


java -cp "/u/krishanu/ANTLR/antlr-2.7.4/antlr.jar" antlr.Tool lexer.g
java -cp "/u/krishanu/ANTLR/antlr-2.7.4/antlr.jar" antlr.Tool parser.g
gcc -c -g -I. -I$ANTLR_HOME/lib/cpp -Wall myLexer.cpp
gcc -c -g -I. -I$ANTLR_HOME/lib/cpp -Wall myParser.cpp
gcc -c -g -I. -I$ANTLR_HOME/lib/cpp -Wall main.cpp
gcc main.o myLexer.o myParser.o $ANTLR_HOME/lib/cpp/src/libantlr.a -lstdc++

Am I missing something? (My java knowledge is frustratingly poor)


Thanks
Krishanu

-- 
"When I have to rely on inadequacy, I prefer it to be my own."
--Richard Heathfield
From mail at martin-probst.com  Wed Feb  9 06:09:13 2005
From: mail at martin-probst.com (Martin Probst)
Date: Wed Feb  9 06:09:21 2005
Subject: [antlr-interest] ANTLRs C++ runtime platform support
Message-ID: <62110.194.39.131.40.1107958153.14431.squirrel@webmailer.hosteurope.de>

Hi,

I promised several months ago we might be able to provide some input about
ANTLRs C++ runtime platform support. Now we finally found the time for it.
According to our tests ANTLR builds ok on these platforms/compilers:

[ Plattform                                ][ Compiler ]
| Windows (32-Bit)                         | msvc++ 13.10.3077 for 80x86
| Windows (ia64)                           | msvc++ 13.10.2240.8 for IA-64
| SunOS 5.9 (sparc) (aka Solaris 9)        | Sun C++ 5.5 Patch 113817-02
2003/08/29
| Linux X86-64 2.6.5-7.97-smp #1 SMP       | gcc 3.3.3
| Linux PPC64 2.6.5-7.111-pseries64 #1 SMP | gcc 3.3.3
| Linux IA64 2.6.5-7.97-default #1 SMP     | gcc 3.3.3
| Linux p132321 2.6.4-52-smp #1 SMP        | gcc 3.3.3
| DEC Alpha OSF1 V5.1 1885 alpha           | Compaq C++ V6.5-014 for
Compaq Tru64 UNIX V5.1A (Rev. 1885), Compiler Driver V6.5-014 (cxx) cxx
Driver
| AIX 5.2                                  | C for AIX Compiler (Version 6)
| HP-UX B.11.11 U 9000/800                 | aCC: HP ANSI C++ B3910B A.03.57
| HP-UX B.11.23 U ia64                     | aCC: HP aC++/ANSI C B3910B
A.05.57 (June 23 2004)

These are (at least in part) quite weird and old C++ compilers. We had to
move around some includes in order to build ANTLR correctly. I'm attaching
a simple patch. It's basically 4 of the cpp-files that need to include
<iostream> and co. before or after something else. Please don't ask me
why, HP64 (aCC 3.57) want's it that way.

These reports are mostly "compiles", e.g. it's not perfectly sure ANTLR
also works the way it's expected. We can only be sure about that for
Windows, Linux (all variants) and Sun, although the other machines seem to
run it well. They are just not really thoroughly tested.

Friendly greetings from SAP Berlin,

Martin Probst
-------------- next part --------------
A non-text attachment was scrubbed...
Name: src.patch
Type: application/octet-stream
Size: 3184 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20050209/0a4ffe27/src.obj
From kreso.tkalec at gmail.com  Thu Feb 10 02:48:25 2005
From: kreso.tkalec at gmail.com (Kreso Tkalec)
Date: Thu Feb 10 02:48:30 2005
Subject: [antlr-interest] Match last string in Lexer
Message-ID: <a608e3a505021002482ffd1497@mail.gmail.com>

Hi!
My problem is to match last string. I have code writen in lex, and
would like to translate it to antlr.
Lex code:
B [a-zA-Z_]
C [0-9a-zA-Z\'^\.:_`]
{B}{C}*(" "*{C}+)*" "*DA {some code...}

So far I wrote this:
protected B : 'a'..'z'|'A'..'Z'|'_';
protected C : '0'..'9'|'a'..'z'|'A'..'Z'|'\''|'^'|'.'|':'|'_'|'`';
MyToken: (B)(C)*((" ")*(C)+)*(" ")*"DA";

The problem is that definition of C allows to math string "DA" , so
lexer never comes to last string. Any sugestions?
From ric.klaren at gmail.com  Thu Feb 10 05:22:42 2005
From: ric.klaren at gmail.com (Ric Klaren)
Date: Thu Feb 10 05:24:53 2005
Subject: [antlr-interest] build problem with antlr-2.7.5
In-Reply-To: <9fa1fefc05020904014b98abc5@mail.gmail.com>
References: <9fa1fefc05020904014b98abc5@mail.gmail.com>
Message-ID: <420B6022.1020402@gmail.com>

Hmmm it looks like the lib/antlr.jar is missing in the official 
distribution antlr-2.7.5.tar.gz, which leeds to a bootstrapping problem. 
(also keep a copy of antlr.jar around for when you do a make clean, I 
think, the makefiles were redone and I'm not 100% familiar with the new 
ones..)

You can work around it for now by copying the .jar file from the rpm 
distribution to the lib or antlr directory. Or use one of these options 
to configure with a preinstalled antlr-2.7.4 to bootstrap:

   --with-antlr-jar=ARG
   --with-antlr-cmd=ARG

Terence could you fix the tarball on the site?

Krishanu Debnath wrote:
> Unable to compile ANTLR grammar file(s)
>  /u/krishanu/ANTLR/antlr-2.7.5/antlr/../antlr/antlr.g
> Reason(s):
>  (a) there's no /u/krishanu/ANTLR/antlr-2.7.5/antlr/antlr.jar
>  (b) there's no /u/krishanu/ANTLR/antlr-2.7.5/antlr.jar
>  (c) there's no /u/krishanu/ANTLR/antlr-2.7.5/lib/antlr.jar
>  (d) options --with-antlr-jar --with-antlr-cmd not applied
>      or value given is not correct.                                   
>          You may resolve this problem by setting environment variable
> $ANTLR_JAR.
...
> java -cp "/u/krishanu/ANTLR/antlr-2.7.4/antlr.jar" antlr.Tool lexer.g
> java -cp "/u/krishanu/ANTLR/antlr-2.7.4/antlr.jar" antlr.Tool parser.g
> gcc -c -g -I. -I$ANTLR_HOME/lib/cpp -Wall myLexer.cpp
> gcc -c -g -I. -I$ANTLR_HOME/lib/cpp -Wall myParser.cpp
> gcc -c -g -I. -I$ANTLR_HOME/lib/cpp -Wall main.cpp
> gcc main.o myLexer.o myParser.o $ANTLR_HOME/lib/cpp/src/libantlr.a -lstdc++
> 
> Am I missing something? (My java knowledge is frustratingly poor)

This should still hold for 2.7.5. Also after installing there should be 
a script in <prefix>/bin with the name antlr that you can use in stead 
of running java manually as above (but 2.7.4 also had that one)

Cheers,

Ric
From parrt at cs.usfca.edu  Thu Feb 10 08:46:56 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Thu Feb 10 08:47:02 2005
Subject: [antlr-interest] build problem with antlr-2.7.5
In-Reply-To: <420B6022.1020402@gmail.com>
References: <9fa1fefc05020904014b98abc5@mail.gmail.com>
	<420B6022.1020402@gmail.com>
Message-ID: <6026AD9C-7B83-11D9-BA97-000393BB647E@cs.usfca.edu>

Hmm...well, the antlr.jar is in antlr-2.7.5/antlr.jar where it's always 
been last I looked.  Look at the root dir and see if it's there.
Ter

On Feb 10, 2005, at 5:22 AM, Ric Klaren wrote:

> Hmmm it looks like the lib/antlr.jar is missing in the official 
> distribution antlr-2.7.5.tar.gz, which leeds to a bootstrapping 
> problem. (also keep a copy of antlr.jar around for when you do a make 
> clean, I think, the makefiles were redone and I'm not 100% familiar 
> with the new ones..)
>
> You can work around it for now by copying the .jar file from the rpm 
> distribution to the lib or antlr directory. Or use one of these 
> options to configure with a preinstalled antlr-2.7.4 to bootstrap:
>
>   --with-antlr-jar=ARG
>   --with-antlr-cmd=ARG
>
> Terence could you fix the tarball on the site?
>
> Krishanu Debnath wrote:
>> Unable to compile ANTLR grammar file(s)
>>  /u/krishanu/ANTLR/antlr-2.7.5/antlr/../antlr/antlr.g
>> Reason(s):
>>  (a) there's no /u/krishanu/ANTLR/antlr-2.7.5/antlr/antlr.jar
>>  (b) there's no /u/krishanu/ANTLR/antlr-2.7.5/antlr.jar
>>  (c) there's no /u/krishanu/ANTLR/antlr-2.7.5/lib/antlr.jar
>>  (d) options --with-antlr-jar --with-antlr-cmd not applied
>>      or value given is not correct.                                   
>>          You may resolve this problem by setting environment variable
>> $ANTLR_JAR.
> ...
>> java -cp "/u/krishanu/ANTLR/antlr-2.7.4/antlr.jar" antlr.Tool lexer.g
>> java -cp "/u/krishanu/ANTLR/antlr-2.7.4/antlr.jar" antlr.Tool parser.g
>> gcc -c -g -I. -I$ANTLR_HOME/lib/cpp -Wall myLexer.cpp
>> gcc -c -g -I. -I$ANTLR_HOME/lib/cpp -Wall myParser.cpp
>> gcc -c -g -I. -I$ANTLR_HOME/lib/cpp -Wall main.cpp
>> gcc main.o myLexer.o myParser.o $ANTLR_HOME/lib/cpp/src/libantlr.a 
>> -lstdc++
>> Am I missing something? (My java knowledge is frustratingly poor)
>
> This should still hold for 2.7.5. Also after installing there should 
> be a script in <prefix>/bin with the name antlr that you can use in 
> stead of running java manually as above (but 2.7.4 also had that one)
>
> Cheers,
>
> Ric
>



From niry at 263.net  Thu Feb 10 09:31:05 2005
From: niry at 263.net (niry)
Date: Thu Feb 10 09:31:18 2005
Subject: [antlr-interest] How to know if parse successfully
Message-ID: <20050210173109.8A3D52F9EC@smtp.263.net>

PT09PT09PSAyMDA1LTAyLTA5IDA1OjI5OjMyIFlvdSB3cm90ZSBpbiBwcmV2aW91cyBtYWlso7o9
PT09PT09DQoNCj4+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+PiBGcm9tOiBhbnRsci1p
bnRlcmVzdC1ib3VuY2VzQGFudGxyLm9yZyBbbWFpbHRvOmFudGxyLWludGVyZXN0LQ0KPj4gYm91
bmNlc0BhbnRsci5vcmddIE9uIEJlaGFsZiBPZiBuaXJ5DQo+PiBTZW50OiBUdWVzZGF5LCA4IEZl
YnJ1YXJ5IDIwMDUgNjozOSBQTQ0KPj4gVG86IGFudGxyLWludGVyZXN0QGFudGxyLm9yZw0KPj4g
U3ViamVjdDogUmU6IFJFOiBbYW50bHItaW50ZXJlc3RdIEhvdyB0byBrbm93IGlmIHBhcnNlIHN1
Y2Nlc3NmdWxseQ0KPj4gDQo+PiA+DQo+PiA+TWF5YmUgeW91IGFyZSB0cnlpbmcgdG8gZG8gbGlu
ZS1ieS1saW5lIHBhcnNpbmc/IEFkZCB0aGUgRU9GIHRva2VuIHRvIHRoZQ0KPj4gPmVuZCBvZiB5
b3VyIG1haW4gcHJvZHVjdGlvbi9ydWxlLiBUaGF0IHdpbGwgZm9yY2UgbWF0Y2hpbmcgb2Ygb25s
eSBvbmUNCj4+ID5leHByZXNzaW9uIGF0IGEgdGltZS4NCj4+IFllcyEgWW91IGhhdmUgYW5zd2Vy
ZWQgbXkgYW5vdGhlciBxdWVzdGlvbjoiMi4gd2hhdCdzIHVwIHdpdGggdGhlIGVycm9yDQo+PiBk
ZXRlY3Q/IGNvbmZ1c2VkISAobmlyeSkiDQo+PiBBZnRlciBJIHBvc3RlZCB0aGF0IHF1ZXN0aW9u
LCBJIGFkZGVkIGEgRU9GIHRvIHRoZSBlbmQgb2YgbXkgbWFpbiBydWxlLg0KPj4gbW1tLCBhbnl3
YXksIHdoZW4gaW5wdXQgaXMgbm90IHN1aXRlZCBmb3IgdGhlIHJ1bGUsIHNvbWUgZXJyb3IgbWVz
c2FnZQ0KPj4gbGlrZSAiZXhwZWN0IEVPRiIgYXBwZWFycywNCj4+IGxvb2tzIG1vcmUgdGhhbiBw
cm9mZXNzaW9uYWw6KA0KPj4gPg0KPg0KPllvdSBtaWdodCB3YW50IHRvIGxvb2sgYXQgdGhlICJw
YXJhcGhyYXNlIiBvcHRpb24gaW4gdGhlIHJlZmVyZW5jZSBtYW51YWwgaWYNCj55b3Ugd2FudCB0
byByZXBsYWNlICJFT0YiIHdpdGggeW91ciBvd24gdGV4dCB0byBiZSByZXBvcnRlZCBiYWNrIHRv
IHRoZQ0KPnVzZXIuLi4NCj4NClllcyBJIGRvIGtub3cgdGhlIHBhcmFwaHJhc2Ugb3B0aW9uLg0K
QnV0IEkgaGFkIGtub3duIHRoYXQgd2l0aG91dCBkZWZpbml0aW9uIG9mIHRva2VuLCBvcHRpb24g
Y2Fubm90IGJlIHNldC4NClRoZW4gSSBkb24ndCBrbm93IGhvdyB0byByZWRlZmluZSBFT0YuDQpJ
IHRob3VnaHQgdXAgYSBtZXRob2QgdGhhdCBjYXRjaCBFT0YtdG9rZW4gZXhjZXB0aW9uIGFuZCBw
cmludCBteSBmcmllbmRseSBtZXNzYWdlLg0KPk5pZ2VsDQo+DQo+DQo+LS0NCj5OaWdlbCBTaGVy
aWRhbi1TbWl0aA0KPlBoRCByZXNlYXJjaCBzdHVkZW50DQo+DQo+RmFjdWx0eSBvZiBFbmdpbmVl
cmluZw0KPlVuaXZlcnNpdHkgb2YgVGVjaG5vbG9neSwgU3lkbmV5DQo+UGhvbmU6IDAyIDk1MTQg
Nzk0Ng0KPkZheDogMDIgOTUxNCAyNDM1DQoNCj0gPSA9ID0gPSA9ID0gPSA9ID0gPSA9ID0gPSA9
ID0gPSA9ID0gPQ0KCQkJDQoNCkJlc3QgUmVnYXJkcyENCiANCgkJCQkgDQqhoaGhoaGhoaGhoaGh
oaGhbmlyeQ0KoaGhoaGhoaGhoaGhoaGhoW5pcnlAMjYzLm5ldA0KoaGhoaGhoaGhoaGhoaGhoaGh
oaEyMDA1LTAyLTExDQoNCg==


From ric.klaren at gmail.com  Thu Feb 10 10:07:30 2005
From: ric.klaren at gmail.com (Ric Klaren)
Date: Thu Feb 10 10:09:38 2005
Subject: [antlr-interest] build problem with antlr-2.7.5
In-Reply-To: <6026AD9C-7B83-11D9-BA97-000393BB647E@cs.usfca.edu>
References: <9fa1fefc05020904014b98abc5@mail.gmail.com>	<420B6022.1020402@gmail.com>
	<6026AD9C-7B83-11D9-BA97-000393BB647E@cs.usfca.edu>
Message-ID: <420BA2E2.4090100@gmail.com>

Terence Parr wrote:
> Hmm...well, the antlr.jar is in antlr-2.7.5/antlr.jar where it's always 
> been last I looked.  Look at the root dir and see if it's there.

It's no jar file present at all in this tarbal:

http://www.antlr.org/download/antlr-2.7.5.tar.gz

Not 100% sure what the recommended spot is for the .jar nowadays.

 >>>  (a) there's no /u/krishanu/ANTLR/antlr-2.7.5/antlr/antlr.jar
 >>>  (b) there's no /u/krishanu/ANTLR/antlr-2.7.5/antlr.jar
 >>>  (c) there's no /u/krishanu/ANTLR/antlr-2.7.5/lib/antlr.jar

Looks like in the root should be ok as well going on this output.

Cheers,

Ric
From parrt at cs.usfca.edu  Thu Feb 10 12:46:52 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Thu Feb 10 12:40:17 2005
Subject: [antlr-interest] build problem with antlr-2.7.5
In-Reply-To: <420BA2E2.4090100@gmail.com>
References: <9fa1fefc05020904014b98abc5@mail.gmail.com>	<420B6022.1020402@gmail.com>
	<6026AD9C-7B83-11D9-BA97-000393BB647E@cs.usfca.edu>
	<420BA2E2.4090100@gmail.com>
Message-ID: <9696fabc27ccffde3b9652daf2e41e20@cs.usfca.edu>


On Feb 10, 2005, at 10:07 AM, Ric Klaren wrote:

> Terence Parr wrote:
>> Hmm...well, the antlr.jar is in antlr-2.7.5/antlr.jar where it's 
>> always been last I looked.  Look at the root dir and see if it's 
>> there.
>
> It's no jar file present at all in this tarbal:
>
> http://www.antlr.org/download/antlr-2.7.5.tar.gz

Really!?  Damn.

Oh, right. Yeah, that is purely a source distribution....i could have 
sworn Wolfgang and I decided to include antlr.jar in that.  Hmm...

Well it is available below (just the antlr.jar).

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From parrt at cs.usfca.edu  Thu Feb 10 17:23:35 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Thu Feb 10 17:17:01 2005
Subject: [antlr-interest] initial code coverage report on ANTLR v3.0 testing
Message-ID: <57ea80973c063225d1f3acbf3666e90f@cs.usfca.edu>

Howdy,

I have been given a license by CLOVER, the code coverage folks (they 
use ANTLR) :)  The integration with Intellij is flawless and gorgeous 
:)

I was thinking that my unit tests covered the analysis code pretty 
well; thankfully, they do!  For example, I get like 95% coverage in the 
core NFAToDFAConverter.java class.  The remaining 5% is like static 
debug IF statements and code that is indeed tested, but not with all 
possible combinations.  Whew!  Good news...I seem to have learned about 
testing at jGuru. ;)

Anyhoo, I'm going to use CLOVER to show how much coverage my tests get 
when I release this.  I'll be adding a nice pointer to CLOVER to the 
website.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From db at dawnbreaks.net  Thu Feb 10 17:24:19 2005
From: db at dawnbreaks.net (David Bullock)
Date: Thu Feb 10 17:24:26 2005
Subject: [antlr-interest] initial code coverage report on ANTLR v3.0
	testing
In-Reply-To: <57ea80973c063225d1f3acbf3666e90f@cs.usfca.edu>
References: <57ea80973c063225d1f3acbf3666e90f@cs.usfca.edu>
Message-ID: <420C0943.6050805@dawnbreaks.net>

Terence Parr wrote:

> I have been given a license by CLOVER, the code coverage folks (they 
> use ANTLR) :)  The integration with Intellij is flawless and gorgeous :)

Did you also note that JetBrains are also giving away IDEA licences for 
open-source work?!

http://www.jetbrains.com/idea/opensource/

cheers,
David
From parrt at cs.usfca.edu  Thu Feb 10 17:33:56 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Thu Feb 10 17:27:23 2005
Subject: [antlr-interest] initial code coverage report on ANTLR v3.0
	testing
In-Reply-To: <420C0943.6050805@dawnbreaks.net>
References: <57ea80973c063225d1f3acbf3666e90f@cs.usfca.edu>
	<420C0943.6050805@dawnbreaks.net>
Message-ID: <b3d67a0adbef5d5b1583bd864be744c9@cs.usfca.edu>

On Feb 10, 2005, at 5:24 PM, David Bullock wrote:
> Terence Parr wrote:
>
>> I have been given a license by CLOVER, the code coverage folks (they 
>> use ANTLR) :)  The integration with Intellij is flawless and gorgeous 
>> :)
>
> Did you also note that JetBrains are also giving away IDEA licences 
> for open-source work?!
>
> http://www.jetbrains.com/idea/opensource/

Yep, already asked for a license for ANTLR team developers. :)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From krishanu.debnath at gmail.com  Thu Feb 10 21:41:31 2005
From: krishanu.debnath at gmail.com (Krishanu Debnath)
Date: Thu Feb 10 21:41:35 2005
Subject: [antlr-interest] build problem with antlr-2.7.5
In-Reply-To: <9696fabc27ccffde3b9652daf2e41e20@cs.usfca.edu>
References: <9fa1fefc05020904014b98abc5@mail.gmail.com>
	<420B6022.1020402@gmail.com>
	<6026AD9C-7B83-11D9-BA97-000393BB647E@cs.usfca.edu>
	<420BA2E2.4090100@gmail.com>
	<9696fabc27ccffde3b9652daf2e41e20@cs.usfca.edu>
Message-ID: <9fa1fefc05021021416cd85b40@mail.gmail.com>

On Thu, 10 Feb 2005 12:46:52 -0800, Terence Parr <parrt@cs.usfca.edu> wrote:
> 
> On Feb 10, 2005, at 10:07 AM, Ric Klaren wrote:
> 
> > Terence Parr wrote:
> >> Hmm...well, the antlr.jar is in antlr-2.7.5/antlr.jar where it's
> >> always been last I looked.  Look at the root dir and see if it's
> >> there.
> >
> > It's no jar file present at all in this tarbal:
> >
> > http://www.antlr.org/download/antlr-2.7.5.tar.gz
> 
> Really!?  Damn.
> 
> Oh, right. Yeah, that is purely a source distribution....i could have
> sworn Wolfgang and I decided to include antlr.jar in that.  Hmm...
> 
> Well it is available below (just the antlr.jar).

Yes, I got it. 

Thanks
Krishanu

> 
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> 
> 


-- 
"When I have to rely on inadequacy, I prefer it to be my own."
--Richard Heathfield
From markus at flymine.org  Fri Feb 11 06:27:19 2005
From: markus at flymine.org (Markus Brosch)
Date: Fri Feb 11 06:24:19 2005
Subject: [antlr-interest] antlr and java generics
Message-ID: <1108132039.3155.16.camel@localhost>

Hi all!

I was searching for some information on the usage of Java 5 with ANTLR.
But actually I wasn't quite successful. There was one request last year,
but that's it. I am wondering if someone was able to use Generics within
the Parser or Lexer classes.

I want to use the Parser with Generics:

// Parser definition in my ANTLR grammar file
class MyParser<SomeDataType> extends Parser;

This doesn't work with ANTLR 2.7.5
Is there some version available, which I can use for my task?!

It would be nice if you can give me some advice, 
best regards, Markus


-- 
Markus Brosch <markus@flymine.org>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20050211/264b42c9/attachment.bin
From togolmach2 at lycos.com  Fri Feb 11 06:32:02 2005
From: togolmach2 at lycos.com (togol machillan)
Date: Fri Feb 11 06:32:11 2005
Subject: [antlr-interest] Getting column no. in parser
Message-ID: <20050211143202.4470C86B0E@ws7-1.us4.outblaze.com>

Hi,

I am writing a parser in C++ where I want to find out the column number of a literal token in a rule. I think this question in not new on this list, but the usual way of using a label and then calling the getColumn method is not working. The compiler complains that the left part of the statement t->getColumn() should be a class, union or structure, where t is a label to the literal rule defined in the parser. 

Best regards,

T. Mach 

 
-- 
_______________________________________________
Find what you are looking for with the Lycos Yellow Pages
http://r.lycos.com/r/yp_emailfooter/http://yellowpages.lycos.com/default.asp?SRC=lycos10

From ewbank at gmail.com  Fri Feb 11 10:15:54 2005
From: ewbank at gmail.com (Bryan Ewbank)
Date: Fri Feb 11 10:15:57 2005
Subject: [antlr-interest] Getting column no. in parser
In-Reply-To: <20050211143202.4470C86B0E@ws7-1.us4.outblaze.com>
References: <20050211143202.4470C86B0E@ws7-1.us4.outblaze.com>
Message-ID: <dd3a065f050211101561fbffc9@mail.gmail.com>

I think what you need is "#t->getColumn()" (i.e, the tree returned by
t, rather than the function called t).  If you look at the generated
code, it should be clear that "t" is the name of a function.

- B
From djbristow at optonline.net  Fri Feb 11 11:13:38 2005
From: djbristow at optonline.net (David Bristow)
Date: Fri Feb 11 11:13:41 2005
Subject: [antlr-interest] antlr-2.7.5.tar.gz missing antlr jar
Message-ID: <1108149218.24728.1.camel@ool-44c53100.dyn.optonline.net>

When I was trying to compile and install the new version of antlr, I
did notice that the antlr.jar was missing from the official tarball.
It was easy enough to download the appropriate .jar and put it in the
right place, but I should think this should be fixed so that others
less experienced don't have trouble in their first experience with
antlr.

-- 
David Bristow
djbristow@optonline.net
dbristow@cybercom.net

From parrt at cs.usfca.edu  Sat Feb 12 11:03:33 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Sat Feb 12 10:56:59 2005
Subject: [antlr-interest] updated antlr-2.7.5.tar.gz to have antlr.jar at
	root
Message-ID: <65eb3a916d45e5bb041f7c70416085a3@cs.usfca.edu>

Hopefully this time it's all set :)
antlr.jar included. :)
Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From kreso.tkalec at gmail.com  Thu Feb 10 02:15:08 2005
From: kreso.tkalec at gmail.com (Kreso Tkalec)
Date: Sat Feb 12 11:01:34 2005
Subject: [antlr-interest] Match last string in Lexer
Message-ID: <a608e3a505021002154f8ce0f3@mail.gmail.com>

Hi!
My problem is to match last string. I have code writen in lex, and
would like to translate it to antlr.
Lex code:
B [a-zA-Z_]
C [0-9a-zA-Z\'^\.:_`]
{B}{C}*(" "*{C}+)*" "*DA {some code...}

So far I wrote this:
protected B : 'a'..'z'|'A'..'Z'|'_';
protected C : '0'..'9'|'a'..'z'|'A'..'Z'|'\''|'^'|'.'|':'|'_'|'`';
MyToken: (B)(C)*((" ")*(C)+)*(" ")*"DA";

The problem is that definition of C allows to math string "DA" , so
lexer never comes to last string. Any sugestions?
From jayashree at qlcomm.com  Fri Feb 11 02:30:22 2005
From: jayashree at qlcomm.com (JayashreeNair)
Date: Sat Feb 12 11:01:37 2005
Subject: [antlr-interest] Issue with antlr 2.7.5rc2
Message-ID: <420C893E.2000800@qlcomm.com>

If U r tushar Jog (Form KVSC, Pune) please mail me back.


-------------------------------------------------
QuantumLink Communications Pvt Ltd, Mumbai, India


!-- Virus-Free Mail Using PostMaster Enterprise AvAc & QuickHeal Engine --!

From niry at 263.net  Sat Feb 12 22:18:37 2005
From: niry at 263.net (niry)
Date: Sat Feb 12 22:18:49 2005
Subject: [antlr-interest] Match last string in Lexer
Message-ID: <20050213061839.68FB62F9D4@smtp.263.net>

DQoNCj09PT09PT0gMjAwNS0wMi0xMCAxODoxNTowOCBZb3Ugd3JvdGUgaW4gcHJldmlvdXMgbWFp
bKO6PT09PT09PQ0KDQo+SGkhDQo+TXkgcHJvYmxlbSBpcyB0byBtYXRjaCBsYXN0IHN0cmluZy4g
SSBoYXZlIGNvZGUgd3JpdGVuIGluIGxleCwgYW5kDQo+d291bGQgbGlrZSB0byB0cmFuc2xhdGUg
aXQgdG8gYW50bHIuDQo+TGV4IGNvZGU6DQo+QiBbYS16QS1aX10NCj5DIFswLTlhLXpBLVpcJ15c
LjpfYF0NCj57Qn17Q30qKCIgIip7Q30rKSoiICIqREEge3NvbWUgY29kZS4uLn0NCj4NCj5TbyBm
YXIgSSB3cm90ZSB0aGlzOg0KPnByb3RlY3RlZCBCIDogJ2EnLi4neid8J0EnLi4nWid8J18nOw0K
PnByb3RlY3RlZCBDIDogJzAnLi4nOSd8J2EnLi4neid8J0EnLi4nWid8J1wnJ3wnXid8Jy4nfCc6
J3wnXyd8J2AnOw0KPk15VG9rZW46IChCKShDKSooKCIgIikqKEMpKykqKCIgIikqIkRBIjsNCllv
dSBjYW4gZG8gaXQgd2l0aCBMTCgyKSBncmFtbWVyDQpmaXJzdCB5b3Ugc2hvdWxkIHNldCBrID0g
MiBpbiBsZXhlciBvcHRpb25zLCB3aGljaCBtZWFucyBpdCdzIExMKDIpDQp0aGVuIGNoYW5nZSBD
IHRvOg0KcHJvdGVjdGVkIEMgOiAnMCcuLic5J3wnYScuLid6J3wnXCcnfCdeJ3wnLid8JzonfCdf
J3wnYCcNCgkJCQl8ICdBJy4uJ0MnfCdFJy4uJ1onfA0KCQkJCXwge0xBKDIpICE9ICdBJ30/ICdE
Jw0KCQkJOw0Kc2hvdWxkIGJlIG9rITopDQo+DQo+VGhlIHByb2JsZW0gaXMgdGhhdCBkZWZpbml0
aW9uIG9mIEMgYWxsb3dzIHRvIG1hdGggc3RyaW5nICJEQSIgLCBzbw0KPmxleGVyIG5ldmVyIGNv
bWVzIHRvIGxhc3Qgc3RyaW5nLiBBbnkgc3VnZXN0aW9ucz8NCj4NCj4NCg0KPSA9ID0gPSA9ID0g
PSA9ID0gPSA9ID0gPSA9ID0gPSA9ID0gPSA9DQoJCQkNCg0KQmVzdCBSZWdhcmRzIQ0KIA0KCQkJ
CSANCqGhoaGhoaGhoaGhoaGhoaFuaXJ5DQqhoaGhoaGhoaGhoaGhoaGhbmlyeUAyNjMubmV0DQqh
oaGhoaGhoaGhoaGhoaGhoaGhoTIwMDUtMDItMTMNCg0K


From ora.et.labora at web.de  Sat Feb 12 06:17:56 2005
From: ora.et.labora at web.de (wolfgang haefelinger)
Date: Sun Feb 13 04:23:16 2005
Subject: [antlr-interest] Re: build problem with antlr-2.7.5
References: <9fa1fefc05020904014b98abc5@mail.gmail.com>
Message-ID: <cul32q$872$1@sea.gmane.org>

Indeed antlr.jar is missing by accident (not sure why). There's also
something wrong with time stamps  as  the rule below, ie. to compile
antlr.g, should not  be  triggered  at  all (the generated files are
already part of the source distribution).

The problem(s) will be fixed soon.

Sorry for all this trouble,
Wolfgang.


"Krishanu Debnath" 
<krishanu.debnath@gmail.com> wrote in message 
news:9fa1fefc05020904014b98abc5@mail.gmail.com...
> Hello,
>
> I am getting the following errors during build of antlr-2.7.5 .
>
> krishanu@meghna[199] configure --prefix=/u/krishanu/my_local/antlr_275/
> ...
>
> krishanu@meghna[194] make
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
>>> make -C ./antlr install
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
> make[1]: Entering directory `/u/krishanu/ANTLR/antlr-2.7.5/antlr'
> /bin/sh /u/krishanu/ANTLR/antlr-2.7.5/scripts/antlr.sh
> /u/krishanu/ANTLR/antlr-2.7.5/antlr/../antlr/antlr.g
> %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
> Unable to compile ANTLR grammar file(s)
> /u/krishanu/ANTLR/antlr-2.7.5/antlr/../antlr/antlr.g
> Reason(s):
> (a) there's no /u/krishanu/ANTLR/antlr-2.7.5/antlr/antlr.jar
> (b) there's no /u/krishanu/ANTLR/antlr-2.7.5/antlr.jar
> (c) there's no /u/krishanu/ANTLR/antlr-2.7.5/lib/antlr.jar
> (d) options --with-antlr-jar --with-antlr-cmd not applied
>     or value given is not correct.
>         You may resolve this problem by setting environment variable
> $ANTLR_JAR.
> %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
> make[1]: *** [ANTLRParser.java] Error 1
> make[1]: Leaving directory `/u/krishanu/ANTLR/antlr-2.7.5/antlr'
> make: *** [install] Error 1
> krishanu@meghna[195] pwd
> /u/krishanu/ANTLR/antlr-2.7.5
>
> I noticed that antlr.jar is used to there in earlier releases, atleast
> in 2.7.4.I use antlr for C++ code generation. So in earlier i used to
> build libantlr.a and use antlr in the following
> way.
>
>
> java -cp "/u/krishanu/ANTLR/antlr-2.7.4/antlr.jar" antlr.Tool lexer.g
> java -cp "/u/krishanu/ANTLR/antlr-2.7.4/antlr.jar" antlr.Tool parser.g
> gcc -c -g -I. -I$ANTLR_HOME/lib/cpp -Wall myLexer.cpp
> gcc -c -g -I. -I$ANTLR_HOME/lib/cpp -Wall myParser.cpp
> gcc -c -g -I. -I$ANTLR_HOME/lib/cpp -Wall main.cpp
> gcc main.o myLexer.o myParser.o 
> $ANTLR_HOME/lib/cpp/src/libantlr.a -lstdc++
>
> Am I missing something? (My java knowledge is frustratingly poor)
>
>
> Thanks
> Krishanu
>
> -- 
> "When I have to rely on inadequacy, I prefer it to be my own."
> --Richard Heathfield
> 



From prashant.deva at gmail.com  Sun Feb 13 10:55:27 2005
From: prashant.deva at gmail.com (Prashant Deva)
Date: Sun Feb 13 10:55:30 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>
	<16896.4010.859020.782455@despot.non.net>
	<8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>
	<16898.61543.322201.438347@despot.non.net>
	<6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>
Message-ID: <41fed8f805021310553ac87101@mail.gmail.com>

I feel real stupid asking this but what role do the caltech guys have
to play in antlr??

Also what all stuff goes under the Caltech/Open Channel?

  The Caltech/OpenChannel license restricts modification for
> commercial use, but not commercial use per se (the intent is to give Open
> Channel a first crack at commercialization opportunities). 

What exactly do you mean by "commercial use per se" ? I just read the 
license and it seems to have no provision for commercial use anywhere.

PRASHANT
From johnm-antlr at non.net  Sun Feb 13 12:08:35 2005
From: johnm-antlr at non.net (John D. Mitchell)
Date: Sun Feb 13 12:08:17 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <41fed8f805021310553ac87101@mail.gmail.com>
References: <c548335d25a9297a19a8d7a7a9ef71ff@cs.usfca.edu>
	<16896.4010.859020.782455@despot.non.net>
	<8b05ad075e4102f4331d8962ec825ff0@cs.usfca.edu>
	<16898.61543.322201.438347@despot.non.net>
	<6.1.1.1.2.20050204171127.0206f3e8@mail.jpl.nasa.gov>
	<41fed8f805021310553ac87101@mail.gmail.com>
Message-ID: <16911.46019.741545.674693@despot.non.net>

>>>>> "Prashant" == Prashant Deva <prashant.deva@gmail.com> writes:
[...]

> I feel real stupid asking this but what role do the caltech guys have to
> play in antlr??

> Also what all stuff goes under the Caltech/Open Channel?

ONLY the *experimental* v2.8.x of Antlr that has Loring's tree stuff.  My
understanding is that this was the only way to get Loring's work released
out of the NASA bureaucracy.


I hope it goes without saying that the Antlr v2.7.x (and earlier) continues
under the current license.

To be clear, Antlr v3.x will be released under a BSD-style open source
license.

Hope this helps,
		John
From Loring.G.Craymer at jpl.nasa.gov  Sun Feb 13 13:12:39 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Sun Feb 13 13:12:39 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <41fed8f805021310553ac87101@mail.gmail.com>
Message-ID: <200502132112.j1DLCbx5008221@eis-msg-012.jpl.nasa.gov>



> -----Original Message-----
> From: antlr-interest-bounces@antlr.org [mailto:antlr-interest-
> bounces@antlr.org] On Behalf Of Prashant Deva
> Sent: Sunday, February 13, 2005 10:55 AM
> To: antlr-interest@antlr.org
> Subject: Re: [antlr-interest] 2.8 update
> 
> I feel real stupid asking this but what role do the caltech guys have
> to play in antlr??

JPL is part of CalTech, and is a NASA center.  As such, I am a CalTech
employee.  I put a fair amount of work into developing automatic tree
grammar generation facility for ANTLR, and as part of that work designed and
implemented a target-language independent rewrite syntax and the machinery
to support it.

The combination makes for a significant upgrade to ANTLR; it dramatically
reduces the time needed for developing tree transformation passes.

> Also what all stuff goes under the Caltech/Open Channel?

The grammars for rewrite and tree grammar generation, plus the classes to
support tree grammar generation.

>   The Caltech/OpenChannel license restricts modification for
> > commercial use, but not commercial use per se (the intent is to give
> Open
> > Channel a first crack at commercialization opportunities).

There is a phrase on "modification for commercial use" in the license--about
the second paragraph, if I remember correctly.  This is not the usual ANTLR
"license", but one negotiated between Open Channel and CalTech.

I'm still working on testing C++ support:  I had a defective cygwin
installation, and have been pretty busy this past week.  Hopefully, I'll
have everything in the hands of the Open Channel folks early this week.

--Loring

> What exactly do you mean by "commercial use per se" ? I just read the
> license and it seems to have no provision for commercial use anywhere.
> 
> PRASHANT

From niry at 263.net  Mon Feb 14 06:03:09 2005
From: niry at 263.net (niry)
Date: Mon Feb 14 06:03:27 2005
Subject: [antlr-interest] Multiline comment cause IO Exception
Message-ID: <20050214140312.C7BE52F957@smtp.263.net>

Ly8gbXVsdGlwbGUtbGluZSBjb21tZW50cw0KTUxfQ09NTUVOVA0KCToJIi8qIg0KCQkoDQoJCQlv
cHRpb25zIHsNCgkJCQlnZW5lcmF0ZUFtYmlnV2FybmluZ3M9ZmFsc2U7DQoJCQl9DQoJCToJeyBM
QSgyKSE9Jy8nIH0/ICcqJw0KCQl8CSJcclxuIgkJCXtuZXdsaW5lKCk7fSAgCS8vIEV2aWwgRE9T
DQoJCXwJJ1xyJwkJCXtuZXdsaW5lKCk7fQkvLyBNYWNpbnRvc2gNCgkJfAknXG4nCQkJe25ld2xp
bmUoKTt9CS8vIFVuaXggKHRoZSByaWdodCB3YXkpDQoJCXwJfignKid8J1xuJ3wnXHInKQ0KCQkp
Kg0KCQkiKi8iDQoJCXskc2V0VHlwZShBTlRMUl9VU0VfTkFNRVNQQUNFKGFudGxyKVRva2VuOjpT
S0lQKTt9DQoJOw0KDQp3aGVuIHBhcnNlIGZpbGUgbGlrZSBmb2xsb3dzKGNvbnRlbnRzIGJldHdl
ZW4gJy0tLS0nKQ0KLS0tLS0tLS0tLS0tLQ0KLyogeGN2c2RmYXNkZmxqYWRzZg0Kc2FrZGZqO3Nh
bGRqZg0KbGpzYWRmO2oNCi0tLS0tLS0tLS0tLQ0KSSBnb3QgSU8gZXhjZXB0aW9uLCB0aGVuIGhv
dyBjYW4gSSBnb3QgbXNnIGxpa2UgJyBleHBlY3QgKi8gJyByYXRoZXIgdGhhbiB0aGlzIGlvIGV4
Y2VwdGlvbj8NCqGhoaGhoaGhoaGhoaGhoaENCkJlc3QgUmVnYXJkcyENCiAJCQkJDQoNCqGhoaGh
oaGhoaGhoaGhoaFuaXJ5DQqhoaGhoaGhoaGhoaGhoaGhbmlyeUAyNjMubmV0DQqhoaGhoaGhoaGh
oaGhoaGhoaGhoTIwMDUtMDItMTQNCg==


From prashant.deva at gmail.com  Mon Feb 14 11:08:23 2005
From: prashant.deva at gmail.com (Prashant Deva)
Date: Mon Feb 14 11:08:27 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <200502132112.j1DLCbx5008221@eis-msg-012.jpl.nasa.gov>
References: <41fed8f805021310553ac87101@mail.gmail.com>
	<200502132112.j1DLCbx5008221@eis-msg-012.jpl.nasa.gov>
Message-ID: <41fed8f80502141108c137706@mail.gmail.com>

> > Also what all stuff goes under the Caltech/Open Channel?
> 
> The grammars for rewrite and tree grammar generation, plus the classes to
> support tree grammar generation.
If the grammars make it into antlr 3 then anyone writing an ide will
have to incorporate that grammar in the ide to support your tree
grammar generation stuff. In that case they will have to use that
grammar.
How will that be possible if that is restricted by the Caltech/Open
Channel license?

Even if the grammar is rewritten for the ide, it will have quite a bit
of similarity with your original one. So how will it all work out?

PRASHANT
From Loring.G.Craymer at jpl.nasa.gov  Mon Feb 14 11:34:44 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Mon Feb 14 11:34:52 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <41fed8f80502141108c137706@mail.gmail.com>
References: <41fed8f805021310553ac87101@mail.gmail.com>
	<200502132112.j1DLCbx5008221@eis-msg-012.jpl.nasa.gov>
	<41fed8f80502141108c137706@mail.gmail.com>
Message-ID: <6.1.1.1.2.20050214111710.01f5f9b8@mail.jpl.nasa.gov>

At 11:08 AM 2/14/2005, Prashant Deva wrote:
> > > Also what all stuff goes under the Caltech/Open Channel?
> >
> > The grammars for rewrite and tree grammar generation, plus the classes to
> > support tree grammar generation.
>If the grammars make it into antlr 3 then anyone writing an ide will
>have to incorporate that grammar in the ide to support your tree
>grammar generation stuff. In that case they will have to use that
>grammar.
>How will that be possible if that is restricted by the Caltech/Open
>Channel license?

The license isn't intended to be restrictive, merely to protect the 
intellectual property rights of contributing institutions; Open Channel has 
first right if there is commercial potential, but that is potential payback 
to Open Channel for bearing the cost of maintaining the site and keeping 
legally required records of downloads.  Some (probably minor) negotiation 
would be required with the Open Channel people and myself, but that is 
pretty normal to avoid intellectual property claims against a commercial 
product.

I do not see any real problems with incorporating my stuff into 3.0 for an 
IDE; just the usual hassles of licensing copyrighted material.

--Loring


>Even if the grammar is rewritten for the ide, it will have quite a bit
>of similarity with your original one. So how will it all work out?
>
>PRASHANT


From takpoli at hotmail.com  Mon Feb 14 13:24:05 2005
From: takpoli at hotmail.com (Tak-po Li)
Date: Mon Feb 14 13:25:06 2005
Subject: [antlr-interest] Re: AST generation
Message-ID: <BAY12-F35C4582763B20CE6AB5DBCAB6A0@phx.gbl>



An example of module in Verilog looks as following:

Module (A, B, C);
     .
     .
     .
endmodule;


I am using the following to generate the AST tree for the above:

list_of_ports
	: (LPAREN^ name_of_port (COMMA! name_of_port)* RPAREN!)?
	;
module  : "module"^ name_of_module  list_of_ports SEMI!
		(module_item)*
		"endmodule"!
	;

AST tree is generated correctly.  However, one of the node is "(" which is 
generated by LPAREN^ statement.  Could I change "(" to something else in AST 
generation that I would have less problem in AST tree walk later?


I am new to Antlr.  Could someone help?  Thanks.


Tak


From Kurt.E.McCall at nasa.gov  Mon Feb 14 14:02:32 2005
From: Kurt.E.McCall at nasa.gov (McCall, Kurt)
Date: Mon Feb 14 14:03:08 2005
Subject: [antlr-interest] 2.7.4 Installation problem on Tru64 Unix v5.1
Message-ID: <EAFC0B8AFC4E3B42934CECA5232E45DD086250@msecho2.msfc.nasa.gov>


Hi,

I am attempting to install ANTLR 2.7.4 under  Compaq Tru64 UNIX V5.1,
building all binaries with the Compac cxx compiler
(Compaq C++ V6.3-002).  I set all of the environmental variables needed by
"configure" to use cxx rather than g++ (that is, CC CFLAGS LDFLAGS CPPFLAGS
CPP CXX CXXFLAGS CXXCPP), and I seem to have gotten a clean "configure" and
a clean gmake (the first one). 

However, when I run "gmake install" I get the following errors, and I am not
sure why.  Any help would be appreciated.

Thanks, Kurt


gmake install
Installing jar files into /spare/mccalke/antrl-2.7.4/share/antlr-2.7.3
Installing scripts/binaries into /spare/mccalke/antrl-2.7.4/bin
if [ -f antlr.bin ]; then \
        /spare/mccalke/antlr-2.7.4/scripts/install-sh -m 755 antlr.bin
/spare/mccalke
/antrl-2.7.4/bin/antlr ;\
        /spare/mccalke/antlr-2.7.4/scripts/install-sh -m 755
scripts/run-antlr /spare
/mccalke/antrl-2.7.4/bin/antlr-java ;\
else \
        /spare/mccalke/antlr-2.7.4/scripts/install-sh -m 755
scripts/run-antlr /spare
/mccalke/antrl-2.7.4/bin/antlr ;\
fi
gmake[1]: Entering directory `/spare/mccalke/antlr-2.7.4/antlr'
Makefile:77: warning: overriding commands for target `install'
/spare/mccalke/antlr-2.7.4/scripts/Rules.make:377: warning: ignoring old
commands for
 target `install'
gmake[1]: Nothing to be done for `install'.
gmake[1]: Leaving directory `/spare/mccalke/antlr-2.7.4/antlr'
gmake[1]: Entering directory `/spare/mccalke/antlr-2.7.4/lib'
gmake[2]: Entering directory `/spare/mccalke/antlr-2.7.4/lib/cpp'
gmake[3]: Entering directory `/spare/mccalke/antlr-2.7.4/lib/cpp/src'
Installing libantlr.a into /spare/mccalke/antrl-2.7.4/lib
gmake[3]: Leaving directory `/spare/mccalke/antlr-2.7.4/lib/cpp/src'
ls: *.hpp not found
gmake[3]: Entering directory `/spare/mccalke/antlr-2.7.4/lib/cpp/antlr'
ls: *.hpp not found
/bin/sh: syntax error at line 1: `;' unexpected
gmake[3]: *** [install] Error 2
gmake[3]: Leaving directory `/spare/mccalke/antlr-2.7.4/lib/cpp/antlr'
gmake[2]: *** [install] Error 2
gmake[2]: Leaving directory `/spare/mccalke/antlr-2.7.4/lib/cpp'
gmake[1]: *** [install] Error 2
gmake[1]: Leaving directory `/spare/mccalke/antlr-2.7.4/lib'
gmake: *** [install] Error 2
/spare/mccalke/antlr-2.7.4>



-------------------------------------
Kurt McCall
Modeling and Simulation Branch / EV43
NASA MSFC
(256) 961-4501

Pink Froyd Rules!
(it's a joke, people!)


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20050214/7c136a7f/attachment.html
From mtiller at ford.com  Mon Feb 14 14:31:00 2005
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Feb 14 14:31:04 2005
Subject: [antlr-interest] Handling Errors
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB34040240F8@na1fcm52.dearborn.ford.com>

I'm parsing something with a Java parser generated from ANTLR.  I get
messages to standard error that look something like this:

line 35:3: unexpected token: ...

>From what I have been able to find, it seems that ANTLR refrains from
throwing an exception in this case because it attempts to recover.
Furthermore, if it threw an exception, it wouldn't really be feasible to
allow the user to catch the exception and then resume from that point.
The problem is that I'd like to be strict.  If such errors occur, I'd
prefer that it did throw an exception (wouldn't the resulting AST be
considered dubious anyway?).  Is there an easy way to do this.

I'm particularly concerned about this when trying to write JUnit cases
for the parser.  If it silently continues, I have no way to check
whether it is properly detecting syntax errors, etc.

Perhaps I'm missing something?

--
Mike

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20050214/4ee5eea2/attachment.html
From Loring.G.Craymer at jpl.nasa.gov  Mon Feb 14 14:57:10 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Mon Feb 14 14:57:12 2005
Subject: [antlr-interest] Re: AST generation
In-Reply-To: <BAY12-F35C4582763B20CE6AB5DBCAB6A0@phx.gbl>
References: <BAY12-F35C4582763B20CE6AB5DBCAB6A0@phx.gbl>
Message-ID: <6.1.1.1.2.20050214145616.01fe8288@mail.jpl.nasa.gov>

You can setType() and setText() on any node.  That's usually the easy solution.

--Loring


At 01:24 PM 2/14/2005, Tak-po Li wrote:


>An example of module in Verilog looks as following:
>
>Module (A, B, C);
>     .
>     .
>     .
>endmodule;
>
>
>I am using the following to generate the AST tree for the above:
>
>list_of_ports
>         : (LPAREN^ name_of_port (COMMA! name_of_port)* RPAREN!)?
>         ;
>module  : "module"^ name_of_module  list_of_ports SEMI!
>                 (module_item)*
>                 "endmodule"!
>         ;
>
>AST tree is generated correctly.  However, one of the node is "(" which is 
>generated by LPAREN^ statement.  Could I change "(" to something else in 
>AST generation that I would have less problem in AST tree walk later?
>
>
>I am new to Antlr.  Could someone help?  Thanks.
>
>
>Tak
>


From johnm-antlr at non.net  Mon Feb 14 15:03:58 2005
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Feb 14 15:03:40 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <41fed8f80502141108c137706@mail.gmail.com>
References: <41fed8f805021310553ac87101@mail.gmail.com>
	<200502132112.j1DLCbx5008221@eis-msg-012.jpl.nasa.gov>
	<41fed8f80502141108c137706@mail.gmail.com>
Message-ID: <16913.11870.926870.949757@despot.non.net>

>>>>> "Prashant" == Prashant Deva <prashant.deva@gmail.com> writes:
[...]

>>> Also what all stuff goes under the Caltech/Open Channel?

>> The grammars for rewrite and tree grammar generation, plus the classes
>> to support tree grammar generation.

> If the grammars make it into antlr 3 then anyone writing an ide will have
> to incorporate that grammar in the ide to support your tree grammar
> generation stuff. In that case they will have to use that grammar.  How
> will that be possible if that is restricted by the Caltech/Open Channel
> license?

That license ONLY applies to Loring's additions to the *experimental* Antlr
v2.8.x line.

If you've followed the recent discussions on trees in this mailing list,
you'll note that the Antlr v3.0 approach to constructing and transforming
trees is based upon the notion of explicit tree construction "grammar".
This is quite different from the Antlr 2.x approach of inline operators and
manual tree hacking.  Please check out the list archives and Ter's various
tree related "blog" entries on the antlr.org site for lots of details.


To be clear, the annoying OpenChannel license is utterly irrelevant to
Antlr v3.0.  Antlr 3.0 is a complete, from the ground up, rewrite of Antlr.
The Antlr v3.0 *implementation* is taking nothing from any of the previous
versions.  The Antlr v3.x line will be cleanly released under a BSD-style
license.

Take care,
	John
From johnm-antlr at non.net  Mon Feb 14 15:25:01 2005
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Feb 14 15:24:42 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <6.1.1.1.2.20050214111710.01f5f9b8@mail.jpl.nasa.gov>
References: <41fed8f805021310553ac87101@mail.gmail.com>
	<200502132112.j1DLCbx5008221@eis-msg-012.jpl.nasa.gov>
	<41fed8f80502141108c137706@mail.gmail.com>
	<6.1.1.1.2.20050214111710.01f5f9b8@mail.jpl.nasa.gov>
Message-ID: <16913.13133.782666.295848@despot.non.net>

[Sorry for the lengthy quoting, I wanted to make sure this was in-context.]

>>>>> "Loring" == Loring Craymer <Loring.G.Craymer@jpl.nasa.gov> writes:
>>>>>> At 11:08 AM 2/14/2005, Prashant Deva wrote:

>>>> Also what all stuff goes under the Caltech/Open Channel?

>>> The grammars for rewrite and tree grammar generation, plus the classes
>>> to support tree grammar generation.

>> If the grammars make it into antlr 3 then anyone writing an ide will
>> have to incorporate that grammar in the ide to support your tree grammar
>> generation stuff. In that case they will have to use that grammar.  How
>> will that be possible if that is restricted by the Caltech/Open Channel
>> license?

> The license isn't intended to be restrictive, merely to protect the
> intellectual property rights of contributing institutions; Open Channel
> has first right if there is commercial potential, but that is potential
> payback to Open Channel for bearing the cost of maintaining the site and
> keeping legally required records of downloads.  Some (probably minor)
> negotiation would be required with the Open Channel people and myself,
> but that is pretty normal to avoid intellectual property claims against a
> commercial product.

> I do not see any real problems with incorporating my stuff into 3.0 for
> an IDE; just the usual hassles of licensing copyrighted material.

Ugh.  There's a *BIG* problem with that!  One of the core tenets of PCCTS
and Antlr has always been that it's absolutely unacceptable for Antlr and
the usage of Antlr to be held hostage.  That's why they were put into the
public domain in the first place.  That's also part of the reason why
Terence is literally writing all of the code for Antlr v3 by himself and
making all of the final decisions himself (after voluminous input from a
number of us wackos over the last 15 years or so :-).

Now, some lawyers freak out about the public domain part [gee, which part
of utterly and completely free is so hard for them to understand?], so the
Antlr v3.0 rewrite will be released under a BSD-style license.

Take care,
	John
From parrt at cs.usfca.edu  Mon Feb 14 15:34:15 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Feb 14 15:27:39 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <16913.11870.926870.949757@despot.non.net>
References: <41fed8f805021310553ac87101@mail.gmail.com>
	<200502132112.j1DLCbx5008221@eis-msg-012.jpl.nasa.gov>
	<41fed8f80502141108c137706@mail.gmail.com>
	<16913.11870.926870.949757@despot.non.net>
Message-ID: <6635c95078f1c42522c8a5328ffc59bc@cs.usfca.edu>

On Feb 14, 2005, at 3:03 PM, John D. Mitchell wrote:
> To be clear, the annoying OpenChannel license is utterly irrelevant to
> Antlr v3.0.  Antlr 3.0 is a complete, from the ground up, rewrite of 
> Antlr.
> The Antlr v3.0 *implementation* is taking nothing from any of the 
> previous
> versions.  The Antlr v3.x line will be cleanly released under a 
> BSD-style
> license.

I will add, to be clear, that the implementation of 3.0 is new, but 
some of Loring's 2.8e tree *ideas* will be in 3.0.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From Loring.G.Craymer at jpl.nasa.gov  Mon Feb 14 15:36:06 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Mon Feb 14 15:36:10 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <16913.11870.926870.949757@despot.non.net>
References: <41fed8f805021310553ac87101@mail.gmail.com>
	<200502132112.j1DLCbx5008221@eis-msg-012.jpl.nasa.gov>
	<41fed8f80502141108c137706@mail.gmail.com>
	<16913.11870.926870.949757@despot.non.net>
Message-ID: <6.1.1.1.2.20050214151427.01feed58@mail.jpl.nasa.gov>

At 03:03 PM 2/14/2005, John D. Mitchell wrote:
>To be clear, the annoying OpenChannel license is utterly irrelevant to
>Antlr v3.0.  Antlr 3.0 is a complete, from the ground up, rewrite of Antlr.

John--

Have you read the Open Channel license?  It is a very simple Open Source 
license which reserves rather minimal commercialization rights.  In that, 
it is not really much different from the BSD license:  the BSD "no 
endorsement" clause effectively means that you need to negotiate with the 
licensor before you can sell the software as a product.  Negotiation might 
be as simple as an exchange of emails or a phone call.  Some other licenses 
(like the one for eclipse) do specify that the licensee is free to sell the 
product, but that is another matter.

--Loring

>The Antlr v3.0 *implementation* is taking nothing from any of the previous
>versions.  The Antlr v3.x line will be cleanly released under a BSD-style
>license.
>
>Take care,
>         John


From Loring.G.Craymer at jpl.nasa.gov  Mon Feb 14 16:25:46 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Mon Feb 14 16:25:51 2005
Subject: [antlr-interest] 2.8 update
In-Reply-To: <16913.13133.782666.295848@despot.non.net>
References: <41fed8f805021310553ac87101@mail.gmail.com>
	<200502132112.j1DLCbx5008221@eis-msg-012.jpl.nasa.gov>
	<41fed8f80502141108c137706@mail.gmail.com>
	<6.1.1.1.2.20050214111710.01f5f9b8@mail.jpl.nasa.gov>
	<16913.13133.782666.295848@despot.non.net>
Message-ID: <6.1.1.1.2.20050214160123.0205a158@mail.jpl.nasa.gov>

At 03:25 PM 2/14/2005, John D. Mitchell wrote:
...
> > I do not see any real problems with incorporating my stuff into 3.0 for
> > an IDE; just the usual hassles of licensing copyrighted material.
>
>Ugh.  There's a *BIG* problem with that!  One of the core tenets of PCCTS
>and Antlr has always been that it's absolutely unacceptable for Antlr and
>the usage of Antlr to be held hostage.  That's why they were put into the
>public domain in the first place.  That's also part of the reason why
>Terence is literally writing all of the code for Antlr v3 by himself and
>making all of the final decisions himself (after voluminous input from a
>number of us wackos over the last 15 years or so :-).
>
>Now, some lawyers freak out about the public domain part [gee, which part
>of utterly and completely free is so hard for them to understand?], so the
>Antlr v3.0 rewrite will be released under a BSD-style license.

"Public domain" became a very grey area when the current copyright laws 
went into effect.  Now stuff is implicitly copyrighted.  From what I have 
read (I am not a lawyer), authors are protected against being able to put 
their work in the public domain.  You can transfer copyrights by notifying 
the copyright office in writing, but it is not clear that that applies to 
transferring copyrighted works into the public domain.  Right now, we can 
be sure that ANTLR will be public domain 70 years after the death of all 
contributors; whether it is or is not right now is another question.  Only 
the courts can say for sure.

--Loring


>Take care,
>         John


From niry at 263.net  Mon Feb 14 19:50:03 2005
From: niry at 263.net (niry)
Date: Mon Feb 14 19:50:15 2005
Subject: [antlr-interest] Handling Errors
Message-ID: <20050215035004.EBEC42F7D7@smtp.263.net>

You should turn off default error handling
options {
//	k = 2;                           // two token lookahead
//	exportVocab=Rule;                // Call its vocabulary "Rule"
//	codeGenMakeSwitchThreshold = 2;  // Some optimizations (don't seem to do
//	codeGenBitsetTestThreshold = 3;  // much speedwise in C++ compared to defaults)
	defaultErrorHandler = true;     // Don't generate parser error handlers
}


From depappas at yahoo.com  Tue Feb 15 01:21:37 2005
From: depappas at yahoo.com (Derek Pappas)
Date: Tue Feb 15 01:21:39 2005
Subject: [antlr-interest] verilog list_of_ports question
Message-ID: <20050215092137.39003.qmail@web53403.mail.yahoo.com>

This is one way to handle the verilog list_of_ports
which uses port. Port is used in the module list and
the instance list. Note that the instance list can be
a formal to actual mapping where the formal is an
expression (Id or  other expression) or the instance
list can be an ordered list. My email client stomped
on the formatting. Basically the interseting nodes aer
extracted into a list and then the tree construction 
#() syntax is used to create a new root node.

//------------------------------------------------------------
// list_of_ports needs to handle 3 cases
// module foo;        // no parens and no list
// module foo();      // parens and no list 
// module foo(a,b,c); // parens and list
//------------------------------------------------------------

list_of_ports 
    :   (LPAREN RPAREN) => LPAREN! RPAREN! SEMI!      
              { #list_of_ports =
#(#[PORT_LIST,"PORT_LIST"], #list_of_ports); } 
    |   (LPAREN port) => LPAREN! port ( COMMA! port )*
RPAREN! SEMI! { #list_of_ports =
#(#[PORT_LIST,"PORT_LIST"], #list_of_ports); } 
    |   SEMI!                                         
              { #list_of_ports =
#(#[PORT_LIST,"PORT_LIST"], #list_of_ports); }   
        ;

port :
	(port_expression)? 

|
        d:DOT^ { #d->setType(
PORT_FORMAL_TO_ACTUAL_MAP );
#d->setText("PORT_FORMAL_TO_ACTUAL_MAP");}          
        name_of_port LPAREN! (port_expression)?
RPAREN!
	;

port_expression 
    :   port_reference
	|   LBRACE port_reference ( COMMA! port_reference )*
RBRACE // in this case the 1st port_ref is the port
and 2nd port_ref 
        // is an internally declared wire. This is
valid verilog. The port is tied to the internal wire
    ;

port_reference : // fix make the root PORT_REF?
        ( name_of_variable LBRACK expression COLON )
=>
        n0:name_of_variable { #n0->setType(PORT_ID);  
                      }
        l0:LBRACK           { #l0->setType(RANGE2 );
#l0->setText("RANGE2" );}
        expression COLON! expression RBRACK!
    |
        ( name_of_variable LBRACK ) =>
        n1:name_of_variable { #n1->setType(PORT_ID);  
                       } 
        l1:LBRACK           { #l1->setType(RANGE1 
);#l1->setText("RANGE1" ); }
        expression RBRACK!
    |
        n2:name_of_variable
        { #n2->setType(PORT_ID); }
    ;


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
From parrt at cs.usfca.edu  Tue Feb 15 18:29:36 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Tue Feb 15 18:22:58 2005
Subject: [antlr-interest] new article on language translation with
	StringTemplate
Message-ID: <bd8df8da9b5ff410034cb54d51051c68@cs.usfca.edu>

Howdy,

You all might be interested in the following article I just put up at 
codegeneration.net:

http://www.codegeneration.net/tiki-read_article.php?articleId=77

"This article demonstrates how to translate a very simple C dialect, 
which I will call "C-" in honor of the grades I received in college, to 
three different languages, again using a single model and controller 
with multiple views. The targets are Java, Python, and bytecodes 
similar to the Jasmin Java bytecode assembler format. Merely swapping 
in a new template file generates completely different output without 
even recompiling the translator!"

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From ric.klaren at gmail.com  Wed Feb 16 03:02:28 2005
From: ric.klaren at gmail.com (Ric Klaren)
Date: Wed Feb 16 03:02:23 2005
Subject: [antlr-interest] 2.7.4 Installation problem on Tru64 Unix v5.1
In-Reply-To: <EAFC0B8AFC4E3B42934CECA5232E45DD086250@msecho2.msfc.nasa.gov>
References: <EAFC0B8AFC4E3B42934CECA5232E45DD086250@msecho2.msfc.nasa.gov>
Message-ID: <42132844.6020605@gmail.com>

McCall, Kurt wrote:
> I am attempting to install ANTLR 2.7.4 under  Compaq Tru64 UNIX V5.1,
> building all binaries with the Compac cxx compiler
> (Compaq C++ V6.3-002).  I set all of the environmental variables needed by
> "configure" to use cxx rather than g++ (that is, CC CFLAGS LDFLAGS CPPFLAGS
> CPP CXX CXXFLAGS CXXCPP), and I seem to have gotten a clean "configure" and
> a clean gmake (the first one). 
> 
> However, when I run "gmake install" I get the following errors, and I am not
> sure why.  Any help would be appreciated.

> gmake[3]: Leaving directory `/spare/mccalke/antlr-2.7.4/lib/cpp/src'
> ls: *.hpp not found
> gmake[3]: Entering directory `/spare/mccalke/antlr-2.7.4/lib/cpp/antlr'
> ls: *.hpp not found
> /bin/sh: syntax error at line 1: `;' unexpected

It looks like the shell expansion for the ls *.hpp in lib/cpp/antlr 
isn't working for some reason on your platform, at least I suspect with 
this amount of info. You can add a list of all the .hpp files in stead 
of the $(shell ls *.hpp) in the Makefile and see if that works. You can 
also manually copy the .hpp files to <prefix>/include/antlr/. Another 
solution would be to grab 2.7.5 which has completely reworked Makefile's 
and configure script.

Cheers,

Ric
From Bharath.Sundararaman at starthis.com  Wed Feb 16 08:08:59 2005
From: Bharath.Sundararaman at starthis.com (Bharath Sundararaman)
Date: Wed Feb 16 08:09:02 2005
Subject: [antlr-interest] Flow of control in AST parsing.
Message-ID: <B1180416E5C44E49AE556D23DBB45B2906122C@webmail.starthis.com>

Hi all,

I have a tree walker which walks function calls in the AST to perform
type checking in the following form:

A function sqrt(a,b); will be walked as #(s:IDENT #(PARAM param_List));

If I find out the "sqrt" is an undefined/erroneous function, I want to
avoid walking through the parameters of the function. So, I did this:

If (sqrt is an erroneous function) #s.removeChildren(); Note that "s" is
the label for the "IDENT" token which is the name of the function.

The problem is, the children are removed but I don't know how to return
the flow of control to the rule that invoked this rule. For example, I
am unable to return to an assignment statement of the form:

result := sqrt(a,b); How can I return the control to the assignment
statement after I remove the children?

Thanks,

Bharath.

-----Original Message-----
From: antlr-interest-bounces@antlr.org
[mailto:antlr-interest-bounces@antlr.org] On Behalf Of Terence Parr
Sent: Tuesday, February 15, 2005 8:30 PM
To: ANTLR Interest
Subject: [antlr-interest] new article on language translation
withStringTemplate

Howdy,

You all might be interested in the following article I just put up at 
codegeneration.net:

http://www.codegeneration.net/tiki-read_article.php?articleId=77

"This article demonstrates how to translate a very simple C dialect, 
which I will call "C-" in honor of the grades I received in college, to 
three different languages, again using a single model and controller 
with multiple views. The targets are Java, Python, and bytecodes 
similar to the Jasmin Java bytecode assembler format. Merely swapping 
in a new template file generates completely different output without 
even recompiling the translator!"

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From ewbank at gmail.com  Wed Feb 16 09:38:22 2005
From: ewbank at gmail.com (Bryan Ewbank)
Date: Wed Feb 16 09:38:25 2005
Subject: [antlr-interest] Flow of control in AST parsing.
In-Reply-To: <B1180416E5C44E49AE556D23DBB45B2906122C@webmail.starthis.com>
References: <B1180416E5C44E49AE556D23DBB45B2906122C@webmail.starthis.com>
Message-ID: <dd3a065f05021609387ddeee34@mail.gmail.com>

It happens automatically; each production is a function, and when it
falls off the end of your code, control returns to the callER.

Try generating your code with -traceTreeParse and you will see that
the call trace represents a traversal of the tree.


On Wed, 16 Feb 2005 10:08:59 -0600, Bharath Sundararaman
<Bharath.Sundararaman@starthis.com> wrote:
> Hi all,
> 
> I have a tree walker which walks function calls in the AST to perform
> type checking in the following form:
> 
> A function sqrt(a,b); will be walked as #(s:IDENT #(PARAM param_List));
> 
> If I find out the "sqrt" is an undefined/erroneous function, I want to
> avoid walking through the parameters of the function. So, I did this:
> 
> If (sqrt is an erroneous function) #s.removeChildren(); Note that "s" is
> the label for the "IDENT" token which is the name of the function.
> 
> The problem is, the children are removed but I don't know how to return
> the flow of control to the rule that invoked this rule. For example, I
> am unable to return to an assignment statement of the form:
> 
> result := sqrt(a,b); How can I return the control to the assignment
> statement after I remove the children?
> 
> Thanks,
> 
> Bharath.
> 
> -----Original Message-----
> From: antlr-interest-bounces@antlr.org
> [mailto:antlr-interest-bounces@antlr.org] On Behalf Of Terence Parr
> Sent: Tuesday, February 15, 2005 8:30 PM
> To: ANTLR Interest
> Subject: [antlr-interest] new article on language translation
> withStringTemplate
> 
> Howdy,
> 
> You all might be interested in the following article I just put up at
> codegeneration.net:
> 
> http://www.codegeneration.net/tiki-read_article.php?articleId=77
> 
> "This article demonstrates how to translate a very simple C dialect,
> which I will call "C-" in honor of the grades I received in college, to
> three different languages, again using a single model and controller
> with multiple views. The targets are Java, Python, and bytecodes
> similar to the Jasmin Java bytecode assembler format. Merely swapping
> in a new template file generates completely different output without
> even recompiling the translator!"
> 
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> 
>
From takpoli at hotmail.com  Wed Feb 16 12:38:05 2005
From: takpoli at hotmail.com (Tak-po Li)
Date: Wed Feb 16 12:40:00 2005
Subject: [antlr-interest] Re: AST generation
Message-ID: <BAY12-F357028DDF9FF7AE7FF014AB6C0@phx.gbl>


Hi Loring,

Thanks for your help.

1. I try the following:

list_of_ports
         : (a:LPAREN^ name_of_port (COMMA! name_of_port)* RPAREN!)?
                    {a.setText("list_of_ports")}
         ;

Am I correct?  It seems it is not working for me.

2. As the usage of setType(), where can I find it is being defined?  Are all 
bits for external usage or some bits are reserved for (Antlr) internal 
usage?  Should I use getType() to get information back?  Could you point me 
to some examples?

Thanks again

Tak




>From: Loring Craymer <Loring.G.Craymer@jpl.nasa.gov>
>To: Tak-po Li <takpoli@hotmail.com>, antlr-interest@antlr.org
>Subject: Re: [antlr-interest] Re: AST generation
>Date: Mon, 14 Feb 2005 14:57:10 -0800
>
>You can setType() and setText() on any node.  That's usually the easy 
>solution.
>
>--Loring
>
>
>At 01:24 PM 2/14/2005, Tak-po Li wrote:
>
>
>>An example of module in Verilog looks as following:
>>
>>Module (A, B, C);
>>     .
>>     .
>>     .
>>endmodule;
>>
>>
>>I am using the following to generate the AST tree for the above:
>>
>>list_of_ports
>>         : (LPAREN^ name_of_port (COMMA! name_of_port)* RPAREN!)?
>>         ;
>>module  : "module"^ name_of_module  list_of_ports SEMI!
>>                 (module_item)*
>>                 "endmodule"!
>>         ;
>>
>>AST tree is generated correctly.  However, one of the node is "(" which is 
>>generated by LPAREN^ statement.  Could I change "(" to something else in 
>>AST generation that I would have less problem in AST tree walk later?
>>
>>
>>I am new to Antlr.  Could someone help?  Thanks.
>>
>>
>>Tak
>>
>
>


From takpoli at hotmail.com  Wed Feb 16 12:47:35 2005
From: takpoli at hotmail.com (Tak-po Li)
Date: Wed Feb 16 12:56:08 2005
Subject: [antlr-interest] Re: AST generation
In-Reply-To: <dd3a065f05021507246529cba6@mail.gmail.com>
Message-ID: <BAY12-F21D7AE5F540CC7F04B92BDAB6C0@phx.gbl>



Thanks, Bryan and Derek, you show me another way (besides ^ and !) to 
construct the AST tree.  It looks we will have more control this way.

Tak


>From: Bryan Ewbank <ewbank@gmail.com>
>Reply-To: Bryan Ewbank <ewbank@gmail.com>
>To: Tak-po Li <takpoli@hotmail.com>
>Subject: Re: [antlr-interest] Re: AST generation
>Date: Tue, 15 Feb 2005 10:24:03 -0500
>
>One thing you might consider is making the AST regular, so that the
>second child of module is *always* the list_of_ports.
>
>I've used something like this (using C++):
>
>   list_of_ports
>         : (LPAREN! name_of_port (COMMA! name_of_port)* RPAREN!)?
>             { ## = #( #[LIST_OF_PORTS,"LIST_OF_PORTS"], ## ); }
>         ;
>
>This ensures that there will always be a LIST_OF_PORTS node in the
>tree, but it will have no children if there are no ports.
>
>More importantly, it also eliminates a special case from processing
>the parent node, "module", because it guarantees a specific tree shape
>and number of children for that node.
>
>On Mon, 14 Feb 2005 16:24:05 -0500, Tak-po Li <takpoli@hotmail.com> wrote:
> > list_of_ports
> >         : (LPAREN^ name_of_port (COMMA! name_of_port)* RPAREN!)?
> >         ;
> > module  : "module"^ name_of_module  list_of_ports SEMI!
> >                 (module_item)*
> >                 "endmodule"!
> >         ;
> >
> > AST tree is generated correctly.  However, one of the node is "(" which 
>is
> > generated by LPAREN^ statement.  Could I change "(" to something else in 
>AST
> > generation that I would have less problem in AST tree walk later?
> >
> > I am new to Antlr.  Could someone help?  Thanks.
> >
> >
> > Tak
> >
> >


From takpoli at hotmail.com  Wed Feb 16 13:35:54 2005
From: takpoli at hotmail.com (Tak-po Li)
Date: Wed Feb 16 13:36:22 2005
Subject: [antlr-interest] Re: comment field
Message-ID: <BAY12-F262DC1D263A8A7007AEDE4AB6C0@phx.gbl>


1. Does anyone has experience to preserve the comments?  Some tools (ASIC 
synthesis) use information in the comment field for control.  We would like 
the comment field be saved in AST tree as a tail node, in the original 
position of the source tree.  Could it be done?

2. One more thing, I cut and use the following JAVA multiple line comment 
logic:

// multiple-line comments
ML_COMMENT
	:	"/*"
		(	/*	'\r' '\n' can be matched in one alternative or by matching
				'\r' in one iteration and '\n' in another.  I am trying to
				handle any flavor of newline that comes in, but the language
				that allows both "\r\n" and "\r" and "\n" to all be valid
				newline is ambiguous.  Consequently, the resulting grammar
				must be ambiguous.  I'm shutting this warning off.
			 */
			options {
				generateAmbigWarnings=false;
			}
		:
			{ LA(2)!='/' }? '*'
		|	'\r' '\n'		{newline();}
		|	'\r'			{newline();}
		|	'\n'			{newline();}
		|	~('*'|'\n'|'\r')
		)*
		"*/"
		{$setType(Token.SKIP);}
	;

I came across with character '"' (double quot) fails.  Has anyone experience 
with this?  Could someone points me the best way to debug my problem?

Tak


From meter at glennmeter.net  Thu Feb 17 09:16:31 2005
From: meter at glennmeter.net (Glenn Meter)
Date: Thu Feb 17 09:16:34 2005
Subject: [antlr-interest] Any new ANTLR code completion examples out there?
Message-ID: <13419ec9294e450cfdf57fa5bc5ca07e@glennmeter.net>


I'm looking to improve the editing features of a commercial 
application, and code completion is on the list. I've seen the posts 
out there about using NetBeans as an example. Are there any other good 
code examples out there?

Thanks,
Glenn

Glenn Meter  -- Vice President Engineering
BigLever Software, Inc.          (512) 694-2060 voice
http://www.biglever.com         (512) 795-9932 fax

From scott at javadude.com  Fri Feb 18 16:06:00 2005
From: scott at javadude.com (Scott Stanchfield)
Date: Fri Feb 18 16:06:33 2005
Subject: [antlr-interest] ANTLR Debugging & XML Work
Message-ID: <20050218235422.A6F3D290413@new.knowspam.net>

Hey all!

LOOKING FOR SOME GUINEA PIGS...
SUMMARY
=======
If you have an ANTLR Java parser, AND use Eclipse 3.0.x or 3.1Mx, AND would
like to help me ensure I didn't break ANTLR with some debugging and XML
changes, please email me: scott@javadude.com


THE DETAILS
===========

I'm back from my long absence of ANTLR-related fun! I convinced some folks
at work to try ANTLR for XML parsing which started a whole "let's make
things easier" binge for me...

(Note that my email address has changed several times since I wrote
ParseView. I saw in the mailing list that some people have had trouble
reaching me. Use scott@javadude.com...)


I've done some major tinkering with ANTLR and the ANTLR-Eclipse plugin to do
the following:

Debugging-Related Stuff
=======================
I fixed ParseView and added JSR-45 debugging support...

* Made ParseView work again and integrated with the ANTLR distro
* Simplified the debugging API for ParseView (reducing some ANTLR debug
code)
* Added JSR-45 support to ANTLR so you can walk through the grammar in the
eclipse debugger
  (see http://javadude.com/misc/antlr-debug/antlr-debug.html for a quick
demo)
* Added an JSR-45 SMAP installer to the ANTLR-eclipse plugin
  (this is based off some code from Apache Tomcat, so if this is released as

   part of Torsten's ANTLR-Eclipse plugin we need to figure out if there are
   licensing issues... otherwise I can make it a separate eclipse plugin w/
   an Apache license, but it's cleaner to integrate with ANTLR-Eclipse and
   avoid having the user add Smap support to the project as well as ANTLR
   support)



XML-Related Stuff
=================
I started using XPA, but I really wanted something that did normal XML
validation against a DTD or schema. (With XPA, I'd basically have to emulate
the same validation in a grammar.) I also wanted some simpler syntax in the
ANTLR grammar.

So, I created an XMLTokenStream that accepts a SAX parser and runs it to
fill a buffer with token which is then used for an ANTLR parser to pull
from. (The buffer has high and low water marks so it doesn't suck the whole
file into memory at once).

* Created an XMLTokenStream class that takes a SAX parser (configured
however you like) as a scanner, creates tokens for the start/end tags and
content, and can be attached to a parser

* Added an xmlTag rule option 
    webApp options {xmlTag="web-app";}
  This automatically generates refs to the start and end tag for web-app, as
well as 
  setting up attribute reference support
* Added "@name" support to reference attributes in code
  You can write code like
     {  createPerson(@name, @address, @phone); }
  in a rule that has an xmlTag option. The attributes will be extracted from
  that tag

* Added xmlNamespaceMapping options to the grammar to allow prefix use for
tags ref'd in rules

I've still got some more work to do to make the JSR-45 support follow rule
references, but it's looking pretty good so far.


REQUEST FOR TESTERS!
====================
All of this required some work on the ANTLR parser and the java code
generator. I'd like to get the warm fuzzies that I didn't blow anything up,
so...

To anyone who has a working parser AND uses Eclipse 3.0.x or 3.1Mx, if
you're willing to run a quick test to see if things behave the same, please
email me: scott@javadude.com. (Note that you'll need to answer a challenge
at knowspam.net for me to get the email.)

I will send a zip containing the modified eclipse plugins for ANTLR.


MY TO DO LIST...
================
I've still got some work to do, so release of all of this is probably a few
weeks to a month away...

* Add rule-ref support in SMAPs for grammar debugging. (I've started with
it, but I'm having some silly little "off-by-one" problems in the mapping...
Grrr... Arg...)

* Add a token buffer "spy" to ParseView

* Add checking for invalid breakpoint locations (right now you can set
breakpoints anywhere in a grammar but they're ignored if they're outside
actions)

* If I have time, convert ParseView to an Eclipse plugin with some
nicer-looking views

* Work with Terence and Torsten to get all of this in the official ANTLR and
ANTLR-Eclipse releases

* Figure out who else is working on ANTLR (I hear there's a 2.8.0 in dev?)
and merge their changes in

I'd like to eventually create a new ANTLR editor for Eclipse based on the
Structured Source Editor (SSE) that comes with the WebTools project from
Eclipse.org. That would support all sorts of wonderful Java stuff
development inside the action code like code completion and so forth...


Whew! That was a lot to say...

Later,
-- Scott




From riceyeh at gmail.com  Sat Feb 19 08:19:56 2005
From: riceyeh at gmail.com (Rice Yeh)
Date: Sat Feb 19 08:19:59 2005
Subject: [antlr-interest] lexical nondeterminism
Message-ID: <47f71d9405021908197ddc07d3@mail.gmail.com>

Hi,
  I have the following lexical rules where the longest string 
literial is 3 characters. and i have lookahead set to 5 (actually 3 is
enough for this case), But why there is nondeterminism with message as
 follows:

lexical nondeterminism between alts 1 and 2 of block upon
k==1:'F','M','S' k==2:'A','E','O','U' k==3:'N','T'
k==4:<end-of-token>,'-'


MONTH_OF_YEAR: 
	("JAN" | "FEB" | "MAR" | "APR" | "MAY" | "JUN" | "JUL" | "AUG" |
"SEP" | "OCT" | "NOV" | "DEC")
	;

DAY_OF_WEEK:
	("SUN" | "MON" | "TUE" | "WEN" | "THU" | "FRI" | "SAT")
	;

VALUE	
	:	DAY_OF_WEEK | MONTH_OF_YEAR
	;

Regards,
Rice
From ewbank at gmail.com  Sat Feb 19 09:35:53 2005
From: ewbank at gmail.com (Bryan Ewbank)
Date: Sat Feb 19 09:35:56 2005
Subject: [antlr-interest] lexical nondeterminism
In-Reply-To: <47f71d9405021908197ddc07d3@mail.gmail.com>
References: <47f71d9405021908197ddc07d3@mail.gmail.com>
Message-ID: <dd3a065f0502190935278ff5fc@mail.gmail.com>

The problem is linear approximate lookahead:

Linear Approximate Lookahead
An approximation to full lookahead (that can be applied to both LL and
LR parsers) for k>1 that reduces the complexity of storing and testing
lookahead from O(n^k) to O(nk); exponential to linear reduction. When
linear approximate lookahead is insufficient (results in a
nondeterministic parser), you can use the approximate lookahead to
attenuate the cost of building the full decision.
-- p9, antlrman.pdf

This means that the lookahead sets are collaped in such a way that
ambiguity shows up.  There's a few more paragraphs in the manual that
should help to explain it.

The easiest solution I've found (there are probably others) is to
accept an identifier ([a-z][a-z][a-z]), and than use a lookup table to
grab the ones I want.  The other solution I've used is to use flex for
token generation.

On Sun, 20 Feb 2005 00:19:56 +0800, Rice Yeh <riceyeh@gmail.com> wrote:
> Hi,
>   I have the following lexical rules where the longest string
> literial is 3 characters. and i have lookahead set to 5 (actually 3 is
> enough for this case), But why there is nondeterminism with message as
>  follows:
> 
> lexical nondeterminism between alts 1 and 2 of block upon
> k==1:'F','M','S' k==2:'A','E','O','U' k==3:'N','T'
> k==4:<end-of-token>,'-'
> 
> MONTH_OF_YEAR:
>         ("JAN" | "FEB" | "MAR" | "APR" | "MAY" | "JUN" | "JUL" | "AUG" |
> "SEP" | "OCT" | "NOV" | "DEC")
>         ;
> 
> DAY_OF_WEEK:
>         ("SUN" | "MON" | "TUE" | "WEN" | "THU" | "FRI" | "SAT")
>         ;
> 
> VALUE
>         :       DAY_OF_WEEK | MONTH_OF_YEAR
>         ;
> 
> Regards,
> Rice
>
From hc7750 at 163.com  Sat Feb 19 19:43:17 2005
From: hc7750 at 163.com (=?gb2312?B?us6zrA==?=)
Date: Sat Feb 19 19:43:22 2005
Subject: [antlr-interest] Re: antlr-interest Digest, Vol 3, Issue 26
Message-ID: <42180755.00014D.24285@m218.163.com>

Thougn these warnings exist, the lexer can work well


> Send antlr-interest mailing list submissions to
> 	antlr-interest@antlr.org
> 
> To subscribe or unsubscribe via the World Wide Web, visit
> 	http://www.antlr.org/mailman/listinfo/antlr-interest
> or, via email, send a message with subject or body 'help' to
> 	antlr-interest-request@antlr.org
> 
> You can reach the person managing the list at
> 	antlr-interest-owner@antlr.org
> 
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of antlr-interest digest..."
> 
> 
> Today's Topics:
> 
>    1. ANTLR Debugging & XML Work (Scott Stanchfield)
>    2. lexical nondeterminism (Rice Yeh)
>    3. Re: lexical nondeterminism (Bryan Ewbank)
> 
> 
> ----------------------------------------------------------------------
> 
> Message: 1
> Date: Fri, 18 Feb 2005 19:06:00 -0500
> From: "Scott Stanchfield" <scott@javadude.com>
> Subject: [antlr-interest] ANTLR Debugging & XML Work
> To: <antlr-interest@antlr.org>
> Message-ID: <20050218235422.A6F3D290413@new.knowspam.net>
> Content-Type: text/plain;	charset="us-ascii"
> 
> Hey all!
> 
> LOOKING FOR SOME GUINEA PIGS...
> SUMMARY
> =======
> If you have an ANTLR Java parser, AND use Eclipse 3.0.x or 3.1Mx, AND would
> like to help me ensure I didn't break ANTLR with some debugging and XML
> changes, please email me: scott@javadude.com
> 
> 
> THE DETAILS
> ===========
> 
> I'm back from my long absence of ANTLR-related fun! I convinced some folks
> at work to try ANTLR for XML parsing which started a whole "let's make
> things easier" binge for me...
> 
> (Note that my email address has changed several times since I wrote
> ParseView. I saw in the mailing list that some people have had trouble
> reaching me. Use scott@javadude.com...)
> 
> 
> I've done some major tinkering with ANTLR and the ANTLR-Eclipse plugin to do
> the following:
> 
> Debugging-Related Stuff
> =======================
> I fixed ParseView and added JSR-45 debugging support...
> 
> * Made ParseView work again and integrated with the ANTLR distro
> * Simplified the debugging API for ParseView (reducing some ANTLR debug
> code)
> * Added JSR-45 support to ANTLR so you can walk through the grammar in the
> eclipse debugger
>   (see http://javadude.com/misc/antlr-debug/antlr-debug.html for a quick
> demo)
> * Added an JSR-45 SMAP installer to the ANTLR-eclipse plugin
>   (this is based off some code from Apache Tomcat, so if this is released as
> 
>    part of Torsten's ANTLR-Eclipse plugin we need to figure out if there are
>    licensing issues... otherwise I can make it a separate eclipse plugin w/
>    an Apache license, but it's cleaner to integrate with ANTLR-Eclipse and
>    avoid having the user add Smap support to the project as well as ANTLR
>    support)
> 
> 
> 
> XML-Related Stuff
> =================
> I started using XPA, but I really wanted something that did normal XML
> validation against a DTD or schema. (With XPA, I'd basically have to emulate
> the same validation in a grammar.) I also wanted some simpler syntax in the
> ANTLR grammar.
> 
> So, I created an XMLTokenStream that accepts a SAX parser and runs it to
> fill a buffer with token which is then used for an ANTLR parser to pull
> from. (The buffer has high and low water marks so it doesn't suck the whole
> file into memory at once).
> 
> * Created an XMLTokenStream class that takes a SAX parser (configured
> however you like) as a scanner, creates tokens for the start/end tags and
> content, and can be attached to a parser
> 
> * Added an xmlTag rule option 
>     webApp options {xmlTag="web-app";}
>   This automatically generates refs to the start and end tag for web-app, as
> well as 
>   setting up attribute reference support
> * Added "@name" support to reference attributes in code
>   You can write code like
>      {  createPerson(@name, @address, @phone); }
>   in a rule that has an xmlTag option. The attributes will be extracted from
>   that tag
> 
> * Added xmlNamespaceMapping options to the grammar to allow prefix use for
> tags ref'd in rules
> 
> I've still got some more work to do to make the JSR-45 support follow rule
> references, but it's looking pretty good so far.
> 
> 
> REQUEST FOR TESTERS!
> ====================
> All of this required some work on the ANTLR parser and the java code
> generator. I'd like to get the warm fuzzies that I didn't blow anything up,
> so...
> 
> To anyone who has a working parser AND uses Eclipse 3.0.x or 3.1Mx, if
> you're willing to run a quick test to see if things behave the same, please
> email me: scott@javadude.com. (Note that you'll need to answer a challenge
> at knowspam.net for me to get the email.)
> 
> I will send a zip containing the modified eclipse plugins for ANTLR.
> 
> 
> MY TO DO LIST...
> ================
> I've still got some work to do, so release of all of this is probably a few
> weeks to a month away...
> 
> * Add rule-ref support in SMAPs for grammar debugging. (I've started with
> it, but I'm having some silly little "off-by-one" problems in the mapping...
> Grrr... Arg...)
> 
> * Add a token buffer "spy" to ParseView
> 
> * Add checking for invalid breakpoint locations (right now you can set
> breakpoints anywhere in a grammar but they're ignored if they're outside
> actions)
> 
> * If I have time, convert ParseView to an Eclipse plugin with some
> nicer-looking views
> 
> * Work with Terence and Torsten to get all of this in the official ANTLR and
> ANTLR-Eclipse releases
> 
> * Figure out who else is working on ANTLR (I hear there's a 2.8.0 in dev?)
> and merge their changes in
> 
> I'd like to eventually create a new ANTLR editor for Eclipse based on the
> Structured Source Editor (SSE) that comes with the WebTools project from
> Eclipse.org. That would support all sorts of wonderful Java stuff
> development inside the action code like code completion and so forth...
> 
> 
> Whew! That was a lot to say...
> 
> Later,
> -- Scott
> 
> 
> 
> 
> 
> 
> ------------------------------
> 
> Message: 2
> Date: Sun, 20 Feb 2005 00:19:56 +0800
> From: Rice Yeh <riceyeh@gmail.com>
> Subject: [antlr-interest] lexical nondeterminism
> To: antlr-interest@antlr.org
> Message-ID: <47f71d9405021908197ddc07d3@mail.gmail.com>
> Content-Type: text/plain; charset=US-ASCII
> 
> Hi,
>   I have the following lexical rules where the longest string 
> literial is 3 characters. and i have lookahead set to 5 (actually 3 is
> enough for this case), But why there is nondeterminism with message as
>  follows:
> 
> lexical nondeterminism between alts 1 and 2 of block upon
> k==1:'F','M','S' k==2:'A','E','O','U' k==3:'N','T'
> k==4:<end-of-token>,'-'
> 
> 
> MONTH_OF_YEAR: 
> 	("JAN" | "FEB" | "MAR" | "APR" | "MAY" | "JUN" | "JUL" | "AUG" |
> "SEP" | "OCT" | "NOV" | "DEC")
> 	;
> 
> DAY_OF_WEEK:
> 	("SUN" | "MON" | "TUE" | "WEN" | "THU" | "FRI" | "SAT")
> 	;
> 
> VALUE	
> 	:	DAY_OF_WEEK | MONTH_OF_YEAR
> 	;
> 
> Regards,
> Rice
> 
> 
> ------------------------------
> 
> Message: 3
> Date: Sat, 19 Feb 2005 12:35:53 -0500
> From: Bryan Ewbank <ewbank@gmail.com>
> Subject: Re: [antlr-interest] lexical nondeterminism
> To: ANTLR Interest <antlr-interest@antlr.org>
> Message-ID: <dd3a065f0502190935278ff5fc@mail.gmail.com>
> Content-Type: text/plain; charset=US-ASCII
> 
> The problem is linear approximate lookahead:
> 
> Linear Approximate Lookahead
> An approximation to full lookahead (that can be applied to both LL and
> LR parsers) for k>1 that reduces the complexity of storing and testing
> lookahead from O(n^k) to O(nk); exponential to linear reduction. When
> linear approximate lookahead is insufficient (results in a
> nondeterministic parser), you can use the approximate lookahead to
> attenuate the cost of building the full decision.
> -- p9, antlrman.pdf
> 
> This means that the lookahead sets are collaped in such a way that
> ambiguity shows up.  There's a few more paragraphs in the manual that
> should help to explain it.
> 
> The easiest solution I've found (there are probably others) is to
> accept an identifier ([a-z][a-z][a-z]), and than use a lookup table to
> grab the ones I want.  The other solution I've used is to use flex for
> token generation.
> 
> On Sun, 20 Feb 2005 00:19:56 +0800, Rice Yeh <riceyeh@gmail.com> wrote:
> > Hi,
> >   I have the following lexical rules where the longest string
> > literial is 3 characters. and i have lookahead set to 5 (actually 3 is
> > enough for this case), But why there is nondeterminism with message as
> >  follows:
> > 
> > lexical nondeterminism between alts 1 and 2 of block upon
> > k==1:'F','M','S' k==2:'A','E','O','U' k==3:'N','T'
> > k==4:<end-of-token>,'-'
> > 
> > MONTH_OF_YEAR:
> >         ("JAN" | "FEB" | "MAR" | "APR" | "MAY" | "JUN" | "JUL" | "AUG" |
> > "SEP" | "OCT" | "NOV" | "DEC")
> >         ;
> > 
> > DAY_OF_WEEK:
> >         ("SUN" | "MON" | "TUE" | "WEN" | "THU" | "FRI" | "SAT")
> >         ;
> > 
> > VALUE
> >         :       DAY_OF_WEEK | MONTH_OF_YEAR
> >         ;
> > 
> > Regards,
> > Rice
> >
> 
> 
> ------------------------------
> 
> _______________________________________________
> antlr-interest mailing list
> antlr-interest@antlr.org
> http://www.antlr.org/mailman/listinfo/antlr-interest
> 
> 
> End of antlr-interest Digest, Vol 3, Issue 26
> *********************************************
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20050220/2945e22c/attachment-0001.html
From doctlo-antlr at yahoo.com  Sat Feb 19 21:25:06 2005
From: doctlo-antlr at yahoo.com (doctlo-antlr@yahoo.com)
Date: Sat Feb 19 21:27:32 2005
Subject: [antlr-interest] Debugging lexing.
In-Reply-To: <dd3a065f0502190935278ff5fc@mail.gmail.com>
References: <47f71d9405021908197ddc07d3@mail.gmail.com>
	<dd3a065f0502190935278ff5fc@mail.gmail.com>
Message-ID: <0o7g119icm2q8pub7mb2b0lprn77o4hr2a@4ax.com>

Is there a way to debug a lexer in the same sense as parseView?
Thanks.
From hnezic at SoftHome.net  Sun Feb 20 02:36:43 2005
From: hnezic at SoftHome.net (Hrvoje Nezic)
Date: Sun Feb 20 02:36:54 2005
Subject: [antlr-interest] Antlr vs Spirit
Message-ID: <001001c51738$176d1780$0100a8c0@hrvoje>

I hope that this subject is not off topic (please excuse me if it is). 

A few days ago I had a heated discussion with my colleagues
at work about parser generators. I use Antlr while some other people use Spirit. It seems that Spirit is rather popular in the C++ community.

"Spirit is an object oriented recursive descent parser generator framework implemented using template meta-programming techniques."  " Parser objects are composed through operator overloading and the result is a backtracking LL(inf) parser that is capable of parsing rather ambiguous grammars. "

Antlr documentation or web site mentions other parser generators like JavaCC, but it doesn't mention Spirit. Does Spirit bring something new regarding computation of lookahead sets (like Antlr's approximate lookahead)?

Actually I don't understand how complex algorithms that should analyze complex grammars could be implemented with C++ templates, but that is another question.

Perhaps I should address these questions to the Spirit mailing list, but I thought it would be interesting to hear opinions from Antlr community. BTW, I don't intend to move to Spirit :)

Best regards,
Hrvoje Nezic
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20050220/596064fc/attachment.html
From johnm-antlr at non.net  Sun Feb 20 04:45:23 2005
From: johnm-antlr at non.net (John D. Mitchell)
Date: Sun Feb 20 04:58:22 2005
Subject: [antlr-interest] Antlr vs Spirit
In-Reply-To: <001001c51738$176d1780$0100a8c0@hrvoje>
References: <001001c51738$176d1780$0100a8c0@hrvoje>
Message-ID: <16920.34403.206063.11400@despot.non.net>

>>>>> "Hrvoje" == Hrvoje Nezic <hnezic@SoftHome.net> writes:
> I hope that this subject is not off topic (please excuse me if it is).

Definitely on topic (so far :-).

> A few days ago I had a heated discussion with my colleagues at work about
> parser generators. I use Antlr while some other people use Spirit. It
> seems that Spirit is rather popular in the C++ community.

Yeah, well, given that they like C++, I'll try not to hold that against
them. :-? :-)

> "Spirit is an object oriented recursive descent parser generator
> framework implemented using template meta-programming techniques."  "
> Parser objects are composed through operator overloading and the result
> is a backtracking LL(inf) parser that is capable of parsing rather
> ambiguous grammars. "

The biggest issue that I have is that they are using C++ templates to
attempt to merge grammars with C++-based programming.  Yes, that's an easy
argument relative to using e.g., regexps to do "parsing" in C++.  However,
that mindset misses a key point that the separation of grammar from base
programming language is important -- the argument here is the same as why
it's so important to separate models from views from controllers (example:
StringTemplate, anti-example: JSPs (JavaServer Pages)).


> Antlr documentation or web site mentions other parser generators like
> JavaCC, but it doesn't mention Spirit. Does Spirit bring something new
> regarding computation of lookahead sets (like Antlr's approximate
> lookahead)?

Not that I've seen.  In fact, I didn't see any credit given to the
trailblazer's like Antlr (just mentions as to those being e.g., heavyweight
solutions).

Hope this helps,
		John
From eran at onigma.com  Sun Feb 20 03:42:47 2005
From: eran at onigma.com (Eran Werner)
Date: Sun Feb 20 09:30:31 2005
Subject: [antlr-interest] Adding parenthesis to the calc grammer
Message-ID: <0IC70004HKGO4T@mxout5.netvision.net.il>

I am trying to extends the calc grammar example to support parenthesis. 

I would like expressions with unnecessary parenthesis to be supported as
well. Any tips?

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20050220/de88e879/attachment.html
From Loring.G.Craymer at jpl.nasa.gov  Sun Feb 20 13:41:23 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Sun Feb 20 13:41:21 2005
Subject: [antlr-interest] Antlr vs Spirit
In-Reply-To: <001001c51738$176d1780$0100a8c0@hrvoje>
Message-ID: <200502202141.j1KLfIx5024374@eis-msg-012.jpl.nasa.gov>

I consider Spirit to be one of those "ultimate hacks" that attracts a
following just because it is an impressive accomplishment in the
implementation language.  I, too, am impressed that it can be done.  As John
points out, it is a language-specific (although someone has done a C#
version) solution, and is technically weaker than ANTLR because it lacks
ANTLR's analysis pass during translation from grammar to target language
source.  At the same time, it has added power just because it is built on
C++ and all the C++ features are available to the programmer.

 

Spirit does not support trees, and I haven't looked in sufficient depth to
understand how it does garbage collection during backtracking (I assume that
it is done with catch/throw and C++ normal memory cleanup) to see how you
could implement trees.  It is probably doable, but then you would be stuck
without tree grammars and might be driven to a custom visitor solution.

 

I note that they marry functional programming support (through Phoenix) with
Spirit for some things.  There are advantages for doing that:  some of the
more interesting language translation packages have a functional programming
base because of the added power-see, for example, Phillips Labs' Elegant.
At the same time, this looks like another "clever hack" that attracts the
C++ language aficionados.

 

It is impressive that you can fold the capability into C++, but I am a
believer in using multiple small languages for solving problems.  The "my
language fits everything, even if I have to do more work in some places"
does not appeal.  ANTLR lets you build small languages relatively quickly,
and ANTLR 3 will significantly improve this capability by design.  I much
prefer having domain-specific solutions in larger problem contexts; for my
tastes, C++ is too big and unwieldy already.

 

--Loring

 

  _____  

From: antlr-interest-bounces@antlr.org
[mailto:antlr-interest-bounces@antlr.org] On Behalf Of Hrvoje Nezic
Sent: Sunday, February 20, 2005 2:37 AM
To: antlr-interest@antlr.org
Subject: [antlr-interest] Antlr vs Spirit

 

I hope that this subject is not off topic (please excuse me if it is). 

 

A few days ago I had a heated discussion with my colleagues

at work about parser generators. I use Antlr while some other people use
Spirit. It seems that Spirit is rather popular in the C++ community.

 

"Spirit is an object oriented recursive descent parser generator framework
implemented using template meta-programming techniques."  " Parser objects
are composed through operator overloading and the result is a backtracking
LL(inf) parser that is capable of parsing rather ambiguous grammars. "

 

Antlr documentation or web site mentions other parser generators like
JavaCC, but it doesn't mention Spirit. Does Spirit bring something new
regarding computation of lookahead sets (like Antlr's approximate
lookahead)?

 

Actually I don't understand how complex algorithms that should analyze
complex grammars could be implemented with C++ templates, but that is
another question.

 

Perhaps I should address these questions to the Spirit mailing list, but I
thought it would be interesting to hear opinions from Antlr community. BTW,
I don't intend to move to Spirit :)

 

Best regards,

Hrvoje Nezic

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20050220/3b57232f/attachment.html
From ewbank at gmail.com  Sun Feb 20 16:03:35 2005
From: ewbank at gmail.com (Bryan Ewbank)
Date: Sun Feb 20 16:03:37 2005
Subject: [antlr-interest] vim syntax file for antlr?
Message-ID: <dd3a065f05022016035d236cb7@mail.gmail.com>

Anyone have a vim syntax file for antlr source?  No razzing about how
it's better to use GUI/IDEs, please (vim is in my DNA :-)

Thanks
- Bryan
From pauljlucas at mac.com  Sun Feb 20 16:55:43 2005
From: pauljlucas at mac.com (Paul J. Lucas)
Date: Sun Feb 20 16:55:44 2005
Subject: [antlr-interest] vim syntax file for antlr?
In-Reply-To: <dd3a065f05022016035d236cb7@mail.gmail.com>
Message-ID: <Pine.LNX.4.44.0502201655180.2294-100000@g4.pauljlucas.org>

On Sun, 20 Feb 2005, Bryan Ewbank wrote:

> Anyone have a vim syntax file for antlr source?  No razzing about how
> it's better to use GUI/IDEs, please (vim is in my DNA :-)

	AFAIK, it comes with vim (it did with mine).

	- Paul

From ewbank at gmail.com  Sun Feb 20 17:54:52 2005
From: ewbank at gmail.com (Bryan Ewbank)
Date: Sun Feb 20 17:54:56 2005
Subject: [antlr-interest] Adding parenthesis to the calc grammer
In-Reply-To: <0IC70004HKGO4T@mxout5.netvision.net.il>
References: <0IC70004HKGO4T@mxout5.netvision.net.il>
Message-ID: <dd3a065f05022017546985b090@mail.gmail.com>

Replace this:
     18 
     19 atom:   INT
     20     ;
     21 
With something like this:

     atom : LPAREN! expr RPAREN!
          | INT
          ;

The "!'s discard the parens while keeping the expression in the right
place, which allows the TreeParser to work correctly -- since there's
no additional node types in the tree.

If you want, you can keep the LPAREN for tracking:

     atom : LPAREN^ expr RPAREN!
          | INT
          ;

This requires changes to TreeParser as well:

     :   #(PLUS a=expr b=expr)   {r = a+b;}
     |   #(STAR a=expr b=expr)   {r = a*b;}
     |   #(LPAREN r=expr)


On Sun, 20 Feb 2005 13:42:47 +0200, Eran Werner <eran@onigma.com> wrote:
> I am trying to extends the calc grammar example to support parenthesis. 
> I would like expressions with unnecessary parenthesis to be supported as
> well. Any tips?
From hc7750 at 163.com  Sun Feb 20 20:51:51 2005
From: hc7750 at 163.com (=?gb2312?B?us6zrA==?=)
Date: Sun Feb 20 20:51:59 2005
Subject: [antlr-interest] Re: Adding parenthesis to the calc grammer
Message-ID: <421968E7.00009E.20335@m164.163.com>

expr: mexpr (PLUS^ mexpr)* SEMI!
;
mexpr
: atom (STAR^ atom)*
;
atom: INT | LP expr RP
;



...

LP: '(';
RP: ')';
...
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20050221/8d006879/attachment.html
From stuart.dootson at gmail.com  Mon Feb 21 00:16:34 2005
From: stuart.dootson at gmail.com (Stuart Dootson)
Date: Mon Feb 21 00:16:37 2005
Subject: [antlr-interest] Antlr vs Spirit
In-Reply-To: <8b56cad40502210003ca710b6@mail.gmail.com>
References: <001001c51738$176d1780$0100a8c0@hrvoje>
	<200502202141.j1KLfIx5024374@eis-msg-012.jpl.nasa.gov>
	<8b56cad40502210003ca710b6@mail.gmail.com>
Message-ID: <8b56cad4050221001672990fc8@mail.gmail.com>

I've used both Spirit and Antlr in anger...

My feeling is that I'd prefer to use Spirit for smaller (rather than
larger) parsing applications (for example, parsing a log file rather
than a source file). This is mainly because a) compile times can get
quite large, and b) I always have this nagging feeling in the back of
my mind that my compiler will raise an internal compiler error if I
add too many more grammar rules :-) (this is mainly because I've used
Visual C++ 6 too much - I use VC++ 7.1 now, which is a lot better in
this respect). Another point is that you need to be using a relatively
modern compiler (GCC 3.3+, VC7.1+, something like that).

The main problem I have with Spirit is that there is no separate lexer
- this complicates grammar design as you have to think about
tokenisation in the same space as the grammar.

The main features I like about Spirit are closure support, ease of
integration with C++ projects and extensibility.

BTW - Spirit *does* support trees - tree construction at least - see
http://www.boost.org/libs/spirit/doc/trees.html.

So, in conclusion - I may use Spirit for small parsing tasks, but I'll
stick with Antlr for larger tasks. If I had to implement an Ada parser
(for example - it's something I've done before), I'd break out Antlr.
Also - if I were advising a parsing newbie (not theoretical - I'm
doing that at the moment), I'd get them to start with Antlr. Spirit
requires more background knowledge of things not related to parsing
than Antlr.

Stuart Dootson
From mcerveny at gmail.com  Mon Feb 21 01:32:40 2005
From: mcerveny at gmail.com (Marcel Cerveny)
Date: Mon Feb 21 01:32:44 2005
Subject: [antlr-interest] Comments
Message-ID: <83a0b5ae0502210132186d91b8@mail.gmail.com>

Hello there!

I'm a complete newbie to antlr. I need to parse files with reasonably
simple structure. So far so good.
However, some issues popped up.

1. When creating an abstract syntax tree (I'm a lamer and all I know
is what I read in a few examples/papers on Internet) it seems to me
that AST can have only the form of a binary tree. Is that right?

2. If AST can be also non-binary tree, Is there any possibility to say
to AST that I do not care about the order of say leaves (i.e. function
parameters etc.) For example having function definition "void foo (int
a, int b, int c);" where the order does not matter?

3. Is there a nice antlr template for parsing and consequentially
skipping single- and multi-line comment? If yes or if someone
experienced can give me hints, I'd really appreciate it.

Thank you in advance for your answers.

Marcel Cerveny
From Loring.G.Craymer at jpl.nasa.gov  Mon Feb 21 01:44:58 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Mon Feb 21 01:44:56 2005
Subject: [antlr-interest] Comments
In-Reply-To: <83a0b5ae0502210132186d91b8@mail.gmail.com>
Message-ID: <200502210944.j1L9irx5027398@eis-msg-012.jpl.nasa.gov>



> -----Original Message-----
> From: antlr-interest-bounces@antlr.org [mailto:antlr-interest-
> bounces@antlr.org] On Behalf Of Marcel Cerveny
> Sent: Monday, February 21, 2005 1:33 AM
> To: antlr-interest@antlr.org
> Subject: [antlr-interest] Comments
> 
> Hello there!
> 
> I'm a complete newbie to antlr. I need to parse files with reasonably
> simple structure. So far so good.
> However, some issues popped up.
> 
> 1. When creating an abstract syntax tree (I'm a lamer and all I know
> is what I read in a few examples/papers on Internet) it seems to me
> that AST can have only the form of a binary tree. Is that right?

No--ANTLR builds child-sibling trees.  A node can have any number of
children or siblings.

> 
> 2. If AST can be also non-binary tree, Is there any possibility to say
> to AST that I do not care about the order of say leaves (i.e. function
> parameters etc.) For example having function definition "void foo (int
> a, int b, int c);" where the order does not matter?

No, ANTLR constructs trees in the order that it encounters tokens, except
for ! and ^ annotation.

> 3. Is there a nice antlr template for parsing and consequentially
> skipping single- and multi-line comment? If yes or if someone
> experienced can give me hints, I'd really appreciate it.

Take a look at the sample grammars at www.antlr.org.  Specifically, the Java
grammar should help.

> Thank you in advance for your answers.
> 
> Marcel Cerveny

From ewbank at gmail.com  Mon Feb 21 02:28:21 2005
From: ewbank at gmail.com (Bryan Ewbank)
Date: Mon Feb 21 02:28:26 2005
Subject: [antlr-interest] Comments
In-Reply-To: <200502210944.j1L9irx5027398@eis-msg-012.jpl.nasa.gov>
References: <83a0b5ae0502210132186d91b8@mail.gmail.com>
	<200502210944.j1L9irx5027398@eis-msg-012.jpl.nasa.gov>
Message-ID: <dd3a065f05022102286848d427@mail.gmail.com>

To add just a bit to what Loring said:

ANTLR *builds* N-ary trees, but N-ary trees are *implemented* with a
binary tree where the LHS link points to a node's first child, and the
RHS link points to a node's next sibling.

If you draw an N-ary tree, then rotate it 45 degrees counterclockwise,
you will get the idea.

- Bryan
From ewerner at idc.ac.il  Mon Feb 21 07:51:27 2005
From: ewerner at idc.ac.il (Eran Werner)
Date: Mon Feb 21 07:50:03 2005
Subject: [antlr-interest] Re: Adding parenthesis to the calc grammer
In-Reply-To: <421968E7.00009E.20335@m164.163.com>
Message-ID: <OWA2TUSzbAUfKRfcjcM000000fb@owa.idc.ac.il>

 

HI 

I am trying to define a grammer for evaluation of Boolean Expressions.
Basically I used the calc example and replaced the addition and
multiplication operators

With AND, and OR operations. 

My problem is that I wish to optimize the evaluation so that if the left
hand side of an AND statement is false, ANTLR will not evaluate the right
hand side, and similarly for OR operations. 

 

I define the .g grammer as 

 

:#(AND left = eval right = eval) {result = (left && right);}


|#(OR  left = eval right = eval) {result = (left || right);}


 

But the generated code is 

 

case AND:

            {

                  ANTLR_USE_NAMESPACE(antlr)RefAST __t40 = _t;

                  ANTLR_USE_NAMESPACE(antlr)RefAST tmp1_AST_in = _t;

                  match(_t,AND);

                  _t = _t->getFirstChild();

                  left=eval(_t);

                  _t = _retTree;

                  right=eval(_t);

                  _t = _retTree;

                  _t = __t40;

                  _t = _t->getNextSibling();

                  result = (left && right);

                  break;

            }

 

 

So I can not avoid the recursive evaluation of the rightChild, even in the
case that the leftChild returns false.

 

Any Suggestions?

 

Eran

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20050221/fbce4b79/attachment.html
From mcerveny at gmail.com  Mon Feb 21 08:18:04 2005
From: mcerveny at gmail.com (Marcel Cerveny)
Date: Mon Feb 21 08:18:08 2005
Subject: [antlr-interest] ANTLR generates unreachable code
Message-ID: <83a0b5ae0502210818758f8c89@mail.gmail.com>

Hi there!

I just went to a strange situation. ANTLR generated .java with an
unreachable code from my grammar file. Is this something caused by not
really well described language? Did anyone encountered situation like
this?

Thanx
Marcel
From doctlo-antlr at yahoo.com  Mon Feb 21 22:19:47 2005
From: doctlo-antlr at yahoo.com (doctlo-antlr@yahoo.com)
Date: Mon Feb 21 22:22:14 2005
Subject: [antlr-interest] Error messages from ANTLR?
In-Reply-To: <83a0b5ae0502210818758f8c89@mail.gmail.com>
References: <83a0b5ae0502210818758f8c89@mail.gmail.com>
Message-ID: <qkjl11hobru3tu3j0i7oad7n4nsa3v4r0s@4ax.com>

Is there a place where ANTLR error messages are explained?
Thanks.
From ewbank at gmail.com  Mon Feb 21 23:43:45 2005
From: ewbank at gmail.com (Bryan Ewbank)
Date: Mon Feb 21 23:43:48 2005
Subject: [antlr-interest] Re: Adding parenthesis to the calc grammer
In-Reply-To: <OWA2TUSzbAUfKRfcjcM000000fb@owa.idc.ac.il>
References: <421968E7.00009E.20335@m164.163.com>
	<OWA2TUSzbAUfKRfcjcM000000fb@owa.idc.ac.il>
Message-ID: <dd3a065f05022123437277f23c@mail.gmail.com>

To get short-circuit evaluation, you need to use semantic predicates. 
In ANTLR, a semantic predicate uses "{" and "}?", and must evaluate to
a boolean value (which is handy for you :-)...

eval returns [bool result]
    : #(AND result=eval ( {result==true}?  result=eval )? )
    | #(OR  result=eval ( {result==false}? result=eval )? )
    ;

The semantic predicates prevent descending into the RHS unless
evaluation is required.

On Mon, 21 Feb 2005 17:51:27 +0200, Eran Werner <ewerner@idc.ac.il> wrote:
> My problem is that I wish to optimize the evaluation so that if the left
> hand side of an AND statement is false, ANTLR will not evaluate the right
> hand side, and similarly for OR operations.
From kruemmel99 at yahoo.de  Tue Feb 22 02:55:06 2005
From: kruemmel99 at yahoo.de (Gregor Pardella)
Date: Tue Feb 22 02:55:10 2005
Subject: [antlr-interest] rewriting stream or generate own trees
Message-ID: <20050222105506.17765.qmail@web26502.mail.ukl.yahoo.com>

Hi,

I'm relativly new to ANTLR and I've got a (possibly
trivial) problem:

I'm working on a compiler for a C-like language, and
parsing was not such a
big deal, but:

the source C-like language allows code like this:
     int a=0;
     a++;

or
     int a = 0; int b;
     b = a++

The problem is now, that the target language (a XML
assembler like one) has no
OP-Code for INCREMENT :(

So now I want to replace the INCREMENT (e.g. a++)
calls by (a=a+1) _on-the-fly_.
(maybe in the lexer but preferable in the parser).

Now I construct trees like:

a++    =>           ++
  generates tree    |_ a

but I want to have

a++    =>         =
                  |_ a
                  |_ +
                     |_ a
                     |_ 1

My expression definition looks like the one in java.g
which can be found on
the ANTLR web-site.

Is there a cute trick doing it, or is the only
solution to build
a preprocessor and replace it before starting
parsing??


Thanks for your help.

gregor



	

	
		
___________________________________________________________ 
Gesendet von Yahoo! Mail - Jetzt mit 250MB Speicher kostenlos - Hier anmelden: http://mail.yahoo.de
From ewbank at gmail.com  Tue Feb 22 04:10:40 2005
From: ewbank at gmail.com (Bryan Ewbank)
Date: Tue Feb 22 04:10:44 2005
Subject: [antlr-interest] rewriting stream or generate own trees
In-Reply-To: <20050222105506.17765.qmail@web26502.mail.ukl.yahoo.com>
References: <20050222105506.17765.qmail@web26502.mail.ukl.yahoo.com>
Message-ID: <dd3a065f0502220410486cfe24@mail.gmail.com>

One solution is to delay the problem until you emit the code, and then
the output rule for increment emits the XML cruft:

    | #( PLUSPLUS id:identifier }
           { cout << id->getText() << " = 1 + " << id->getText(); }

Delaying it this far also allows a very simply rewrite if assembler is
extended to support increment (and shows you planned ahead :-)

Another option is to have a tree rewrite that converts "++" into
"a=a+1", but you need to make sure and generate a copy of the "a"
node, rather than attempt to reuse the same node twice (kaboom; segv).

I wrote a trivial little tree walker that I call COPY(node) for just
that reason.  It's a handy beastie to have around:

    | #(PLUSPLUS id:identifier }
      {  ## = #( #[ASGN],
                   COPY(#id),
                   #( #[PLUS],
                        #id,
                        COPY(GlobalOneTree) ) ); }


On Tue, 22 Feb 2005 11:55:06 +0100 (CET), Gregor Pardella
<kruemmel99@yahoo.de> wrote:
> the source C-like language allows code like this:
>      int a=0;
>      a++;
> 
> The problem is now, that the target language (a XML
> assembler like one) has no
> OP-Code for INCREMENT :(
From ric.klaren at gmail.com  Tue Feb 22 04:56:23 2005
From: ric.klaren at gmail.com (Ric Klaren)
Date: Tue Feb 22 04:56:28 2005
Subject: [antlr-interest] ANTLR generates unreachable code
In-Reply-To: <83a0b5ae0502210818758f8c89@mail.gmail.com>
References: <83a0b5ae0502210818758f8c89@mail.gmail.com>
Message-ID: <421B2BF7.3040309@gmail.com>

Marcel Cerveny wrote:
> I just went to a strange situation. ANTLR generated .java with an
> unreachable code from my grammar file. Is this something caused by not
> really well described language? Did anyone encountered situation like
> this?

It might be something harmless, but without more info I can't say anything.

Cheers,

Ric
From prashant.deva at gmail.com  Tue Feb 22 06:30:54 2005
From: prashant.deva at gmail.com (Prashant Deva)
Date: Tue Feb 22 06:30:58 2005
Subject: [antlr-interest] How about migrating java generated code to java 5
Message-ID: <41fed8f805022206304620b082@mail.gmail.com>

I get a whole bunch of warnings in eclipse 3.1 for the antlr generated
files not being java 5 compliant. So how about changing the code
generator so that it can generate java 1.5 compliant code?

It would provide much better type safety in our programs, for instance
, if the token types were kept in an enum instead of an interface
definition.

PRASHANT
From doctlo-antlr at yahoo.com  Tue Feb 22 07:52:50 2005
From: doctlo-antlr at yahoo.com (doctlo-antlr@yahoo.com)
Date: Tue Feb 22 07:55:19 2005
Subject: [antlr-interest] Sometimes skip, sometimes not.
In-Reply-To: <83a0b5ae0502210818758f8c89@mail.gmail.com>
References: <83a0b5ae0502210818758f8c89@mail.gmail.com>
Message-ID: <ehkm11da51f98egvbm86nsisq0qbpt2sb5@4ax.com>

OK. Here is the situation.

I am parsing something where the structure is:
generally new lines are ignored, but there is a certain
construct,

OPENB    :  '[';
CLOSEB  : ']';
name        :  LETTER ( LETTER | DIGIT )*;
property: NAME OPENB VALUE CLOSEB;

where in value any value can appear except for ']' ( unless it is
preceded by a \ ).

The problem is how do I specify that newlines are skipped except
when in value?

From ArnarB at oddi.is  Tue Feb 22 00:37:58 2005
From: ArnarB at oddi.is (Arnar Birgisson)
Date: Tue Feb 22 15:22:32 2005
Subject: [antlr-interest] Comments
Message-ID: <s21aef7c.096@emil.oddi.is>

Here's a little diagram.. I like those :o)

Arnar

>>> Bryan Ewbank <ewbank@gmail.com> 21.2.2005 10:28:21 >>>
To add just a bit to what Loring said:

ANTLR *builds* N-ary trees, but N-ary trees are *implemented* with a
binary tree where the LHS link points to a node's first child, and the
RHS link points to a node's next sibling.

If you draw an N-ary tree, then rotate it 45 degrees counterclockwise,
you will get the idea.

- Bryan
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ANTLR's representation of n-ary trees.png
Type: image/png
Size: 37674 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20050222/7b8b6816/ANTLRsrepresentationofn-arytrees-0001.png
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ANTLR's representation of n-ary trees.svg
Type: image/svg+xml
Size: 49764 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20050222/7b8b6816/ANTLRsrepresentationofn-arytrees-0001.bin
From prashant.deva at gmail.com  Tue Feb 22 17:12:25 2005
From: prashant.deva at gmail.com (Prashant Deva)
Date: Tue Feb 22 17:12:29 2005
Subject: [antlr-interest] How about migrating java generated code to java 5
In-Reply-To: <dd3a065f0502221409f131d74@mail.gmail.com>
References: <41fed8f805022206304620b082@mail.gmail.com>
	<dd3a065f0502221409f131d74@mail.gmail.com>
Message-ID: <41fed8f8050222171263f89ebf@mail.gmail.com>

Well, i guess we will need to have a separate generator for pre 1.5 java.
But we would HAVE to move ultimately to java 1.5 code. Maybe instead
of putting it in any of 2.xx releases, it would be better to have only
1.5 support in antlr3 , with no support for pre 1.5.
As antlr 3 will already have a bunch of radical changes, the complete
shift to java 5 generated code shouldn't do any harm.

PRASHANT

On Tue, 22 Feb 2005 17:09:54 -0500, Bryan Ewbank <ewbank@gmail.com> wrote:
> Would this clobber pre-1.5 support?
> 
> 
> On Tue, 22 Feb 2005 20:00:54 +0530, Prashant Deva
> <prashant.deva@gmail.com> wrote:
> > I get a whole bunch of warnings in eclipse 3.1 for the antlr generated
> > files not being java 5 compliant. So how about changing the code
> > generator so that it can generate java 1.5 compliant code?
> >
> > It would provide much better type safety in our programs, for instance
> > , if the token types were kept in an enum instead of an interface
> > definition.
> >
> > PRASHANT
> >
>
From open.zone at virgin.net  Wed Feb 23 01:42:42 2005
From: open.zone at virgin.net (Micheal J)
Date: Wed Feb 23 01:30:12 2005
Subject: [antlr-interest] How about migrating java generated code to java 5
In-Reply-To: <41fed8f8050222171263f89ebf@mail.gmail.com>
Message-ID: <000a01c5198c$05c4da30$7e02a8c0@hercules>

> Well, i guess we will need to have a separate generator for 
> pre 1.5 java. But we would HAVE to move ultimately to java 
> 1.5 code. Maybe instead of putting it in any of 2.xx 
> releases, it would be better to have only 1.5 support in 
> antlr3 , with no support for pre 1.5.

Better for whom?.

Certainly not for those who need to support JDK1.2/1.3/1.4.

> As antlr 3 will already 
> have a bunch of radical changes, the complete shift to java 5 
> generated code shouldn't do any harm.

It would but, I won't labour the point since ANTLR3's architecture
simplifies the development of code generators. Supporting all the different
JDKs (and any new ones) is significantly easier. 

I'm looking forward to your Prashant_JDK_5_only codegen...  ;-)

Cheers,

Micheal

From mcerveny at gmail.com  Wed Feb 23 05:22:17 2005
From: mcerveny at gmail.com (Marcel Cerveny)
Date: Wed Feb 23 05:22:19 2005
Subject: [antlr-interest] Abstract syntax tree
Message-ID: <83a0b5ae050223052220ec475b@mail.gmail.com>

Hello there!

I was plying with ANTLR for a few days. At this moment i can more or
less parse the files I want to.
However, the structure of AST seems to me quite awkward. The parsing
is just the beginning if the journey. I was hoping that AST will give
me the possibility to check and search for element by referring to the
names i specified in .g file. And possibly to allow me to check
whether or not the optional tokens "i.e (SCOPE)?" are present.
Maybe I need to create another structure in memory during runtime. I don't know.

Here is what I'd like to have. I parse a standard shape interface file:
public interface ITest {
 int a = 1;
 ...
}

Accordingly, I have in the parser spec something like this:
interf : (scope)? I_IDENT! IDENTIFIER^ (body) ;
scope : (PUBLIC|PRIVATE) ;
body : ...

I was hoping for structure like this:
interf
   |_ ITest
         |_ scopeConditional
              |_ present: bool
              |_ scope: private/public
...
Thus, I could do something like
if (interf.scopeConditional.present) {
 ...
}

Can anyone wake me up and give me some hints or put me to the right track?
Thanx in advance.

Marcel
From johnm-antlr at non.net  Wed Feb 23 06:38:44 2005
From: johnm-antlr at non.net (John D. Mitchell)
Date: Wed Feb 23 06:38:25 2005
Subject: [antlr-interest] Abstract syntax tree
In-Reply-To: <83a0b5ae050223052220ec475b@mail.gmail.com>
References: <83a0b5ae050223052220ec475b@mail.gmail.com>
Message-ID: <16924.38260.342408.374558@despot.non.net>

>>>>> "Marcel" == Marcel Cerveny <mcerveny@gmail.com> writes:
[...]

> Accordingly, I have in the parser spec something like this: interf :
> (scope)? I_IDENT! IDENTIFIER^ (body) ; scope : (PUBLIC|PRIVATE) ; body :
> ...

> I was hoping for structure like this: interf |_ ITest |_ scopeConditional
> |_ present: bool |_ scope: private/public ...  Thus, I could do something
> like if (interf.scopeConditional.present) { ...  }

> Can anyone wake me up and give me some hints or put me to the right
> track?  Thanx in advance.

One of the key tricks is reducing the complexity in each successive stage.

Don't make things in the AST optional.  I.e., in your parser, build an AST
that has either a SCOPE node or a NO_SCOPE node.

Have fun,
	John


From scott at javadude.com  Wed Feb 23 07:55:43 2005
From: scott at javadude.com (Scott Stanchfield)
Date: Wed Feb 23 07:56:20 2005
Subject: [antlr-interest] How about migrating java generated code to java 5
In-Reply-To: <41fed8f8050222171263f89ebf@mail.gmail.com>
Message-ID: <20050223154245.82740290B63@new.knowspam.net>

I don't think we'd need a separate code generator (unless we want to do
something radical); just an option for generating 1.5 code. It shouldn't
affect much in the JavaCodeGenerator.

If I have a chance, I'll take a peek since I'm doing a lot of work on the
JavaCodeGenerator for source-line mapping anyway...

Later,
-- Scott

> -----Original Message-----
> From: antlr-interest-bounces@antlr.org 
> [mailto:antlr-interest-bounces@antlr.org] On Behalf Of Prashant Deva
> Sent: Tuesday, February 22, 2005 8:12 PM
> To: antlr-interest@antlr.org
> Subject: Re: [antlr-interest] How about migrating java 
> generated code to java 5
> 
> Well, i guess we will need to have a separate generator for 
> pre 1.5 java.
> But we would HAVE to move ultimately to java 1.5 code. Maybe 
> instead of putting it in any of 2.xx releases, it would be 
> better to have only
> 1.5 support in antlr3 , with no support for pre 1.5.
> As antlr 3 will already have a bunch of radical changes, the 
> complete shift to java 5 generated code shouldn't do any harm.
> 
> PRASHANT
> 
> On Tue, 22 Feb 2005 17:09:54 -0500, Bryan Ewbank 
> <ewbank@gmail.com> wrote:
> > Would this clobber pre-1.5 support?
> > 
> > 
> > On Tue, 22 Feb 2005 20:00:54 +0530, Prashant Deva 
> > <prashant.deva@gmail.com> wrote:
> > > I get a whole bunch of warnings in eclipse 3.1 for the antlr 
> > > generated files not being java 5 compliant. So how about changing 
> > > the code generator so that it can generate java 1.5 
> compliant code?
> > >
> > > It would provide much better type safety in our programs, for 
> > > instance , if the token types were kept in an enum instead of an 
> > > interface definition.
> > >
> > > PRASHANT
> > >
> >
> 




From ewbank at gmail.com  Wed Feb 23 07:40:45 2005
From: ewbank at gmail.com (Bryan Ewbank)
Date: Wed Feb 23 08:41:45 2005
Subject: [antlr-interest] Abstract syntax tree
In-Reply-To: <16924.38260.342408.374558@despot.non.net>
References: <83a0b5ae050223052220ec475b@mail.gmail.com>
	<16924.38260.342408.374558@despot.non.net>
Message-ID: <dd3a065f050223074031520e92@mail.gmail.com>

To extend on normalizing the tree, I find it easier to avoid "(..)?"
operator when doing tree building; instead, I use an empty alternative
and build the tree explicitly.

// always a scope
interf: scope I_IDENT! IDENTIFIER^ ...

// but it might be empty, but the node is always in the tree
scope
    : (  /* NULL MATCH */
            { ## = #[NO_SCOPE]; }
      | PUBLIC
      | PRIVATE
      )
    ;

On Wed, 23 Feb 2005 06:38:44 -0800, John D. Mitchell
<johnm-antlr@non.net> wrote:
> One of the key tricks is reducing the complexity in each successive stage.
> 
> Don't make things in the AST optional.  I.e., in your parser, build an AST
> that has either a SCOPE node or a NO_SCOPE node.
From kruemmel99 at yahoo.de  Wed Feb 23 09:09:57 2005
From: kruemmel99 at yahoo.de (Gregor Pardella)
Date: Wed Feb 23 09:09:59 2005
Subject: [antlr-interest] rewriting stream or generate own trees
In-Reply-To: <dd3a065f0502220410486cfe24@mail.gmail.com>
Message-ID: <20050223170957.26047.qmail@web26510.mail.ukl.yahoo.com>

Hi,

thanks for the answer, I have to admit that after 
writing the mail I came to the same solution ;-)

But now I find a other strange behavior of my grammar
:-(

I will post it later as a seperate thread!

gregor

 --- Bryan Ewbank <ewbank@gmail.com> schrieb: 
> One solution is to delay the problem until you emit
> the code, and then
> the output rule for increment emits the XML cruft:
> 
>     | #( PLUSPLUS id:identifier }
>            { cout << id->getText() << " = 1 + " <<
> id->getText(); }
> 
> Delaying it this far also allows a very simply
> rewrite if assembler is
> extended to support increment (and shows you planned
> ahead :-)
> 
> Another option is to have a tree rewrite that
> converts "++" into
> "a=a+1", but you need to make sure and generate a
> copy of the "a"
> node, rather than attempt to reuse the same node
> twice (kaboom; segv).
> 
> I wrote a trivial little tree walker that I call
> COPY(node) for just
> that reason.  It's a handy beastie to have around:
> 
>     | #(PLUSPLUS id:identifier }
>       {  ## = #( #[ASGN],
>                    COPY(#id),
>                    #( #[PLUS],
>                         #id,
>                         COPY(GlobalOneTree) ) ); }
> 
> 
> On Tue, 22 Feb 2005 11:55:06 +0100 (CET), Gregor
> Pardella
> <kruemmel99@yahoo.de> wrote:
> > the source C-like language allows code like this:
> >      int a=0;
> >      a++;
> > 
> > The problem is now, that the target language (a
> XML
> > assembler like one) has no
> > OP-Code for INCREMENT :(
>  


	

	
		
___________________________________________________________ 
Gesendet von Yahoo! Mail - Jetzt mit 250MB Speicher kostenlos - Hier anmelden: http://mail.yahoo.de
From pauljlucas at mac.com  Wed Feb 23 09:18:28 2005
From: pauljlucas at mac.com (Paul J. Lucas)
Date: Wed Feb 23 09:18:35 2005
Subject: [antlr-interest] Performance and LA(int)
Message-ID: <Pine.LNX.4.44.0502230914570.13970-100000@g4.pauljlucas.org>

	In recent profiling, the ANTLR lexer method LA(int) is called a
	*lot*.  Why does the ANTLR-generated code repeatedly call it?
	Why not copy the current value into a local variable?

		final int c1 = LA(1);
		// ... do whatever with 'c1' rather than repeatedly
		// calling LA(1) ...

	In the case of multiple lookahead, simply use multiple
	temporaries:

		final int c1 = LA(1);
		final int c2 = LA(2);
		// ...

	- Paul

From parrt at cs.usfca.edu  Wed Feb 23 10:26:49 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Wed Feb 23 10:20:07 2005
Subject: [antlr-interest] Performance and LA(int)
In-Reply-To: <Pine.LNX.4.44.0502230914570.13970-100000@g4.pauljlucas.org>
References: <Pine.LNX.4.44.0502230914570.13970-100000@g4.pauljlucas.org>
Message-ID: <986ec3c9c470e9fa3e8cb6f50e019475@cs.usfca.edu>

On Feb 23, 2005, at 9:18 AM, Paul J. Lucas wrote:
> 	In recent profiling, the ANTLR lexer method LA(int) is called a
> 	*lot*.  Why does the ANTLR-generated code repeatedly call it?

Hi Paul,

Because it's easier to generate code that way.  I was kinda hoping the 
compiler would see the obvious common subexpression.  Apparently not, 
eh?  Are you sure it actually does call it repeatedly?

> 	Why not copy the current value into a local variable?
>
> 		final int c1 = LA(1);
> 		// ... do whatever with 'c1' rather than repeatedly
> 		// calling LA(1) ...
>
> 	In the case of multiple lookahead, simply use multiple
> 	temporaries:
>
> 		final int c1 = LA(1);
> 		final int c2 = LA(2);
> 		// ...

"a kingdom for a decent compiler optimizer" ;)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From pauljlucas at mac.com  Wed Feb 23 10:42:36 2005
From: pauljlucas at mac.com (Paul J. Lucas)
Date: Wed Feb 23 10:42:38 2005
Subject: [antlr-interest] Performance and LA(int)
In-Reply-To: <986ec3c9c470e9fa3e8cb6f50e019475@cs.usfca.edu>
Message-ID: <Pine.LNX.4.44.0502231039470.13970-100000@g4.pauljlucas.org>

On Wed, 23 Feb 2005, Terence Parr wrote:

> Because it's easier to generate code that way.

	Bah... that's no excuse.  :-P  The burden should be on the
	compiler author.

> I was kinda hoping the compiler would see the obvious common subexpression.

	How can it know LA(int) doesn't have side-effects?

> Apparently not, eh?  Are you sure it actually does call it repeatedly?

	Well, when profiling with JProfiler, it gets called a *lot* and
	is the #1 called method in our application during the
	compilation phase.

> "a kingdom for a decent compiler optimizer" ;)

	I think you need to assume the Java compiler is dumb (and you'd
	be right).

	- Paul

From open.zone at virgin.net  Wed Feb 23 16:08:09 2005
From: open.zone at virgin.net (Micheal J)
Date: Wed Feb 23 15:55:31 2005
Subject: [antlr-interest] Performance and LA(int)
In-Reply-To: <Pine.LNX.4.44.0502230914570.13970-100000@g4.pauljlucas.org>
Message-ID: <001801c51a04$ec9caf50$7e02a8c0@hercules>

 
> 	In recent profiling, the ANTLR lexer method LA(int) is called a
> 	*lot*.  Why does the ANTLR-generated code repeatedly call it?
> 	Why not copy the current value into a local variable?
> 
> 		final int c1 = LA(1);
> 		// ... do whatever with 'c1' rather than repeatedly
> 		// calling LA(1) ...
> 
> 	In the case of multiple lookahead, simply use multiple
> 	temporaries:
> 
> 		final int c1 = LA(1);
> 		final int c2 = LA(2);
> 		// ...
> 

For C# code generation, LA(1) and LA(2) are cached in *lexers*. This
resulted in noticeably better performance. Our basic performance tests
suggested that caching LA1/LA2 in parsers (in addition to lexer caching)
didn't always result in better performance. Depends on the grammar it seems.
Weird or what?

Micheal

From pauljlucas at mac.com  Wed Feb 23 16:01:24 2005
From: pauljlucas at mac.com (Paul J. Lucas)
Date: Wed Feb 23 16:01:31 2005
Subject: [antlr-interest] Performance and LA(int)
In-Reply-To: <001801c51a04$ec9caf50$7e02a8c0@hercules>
Message-ID: <Pine.LNX.4.44.0502231558380.13970-100000@g4.pauljlucas.org>

On Thu, 24 Feb 2005, Micheal J wrote:

> For C# code generation, LA(1) and LA(2) are cached in *lexers*. This
> resulted in noticeably better performance. Our basic performance tests
> suggested that caching LA1/LA2 in parsers (in addition to lexer caching)
> didn't always result in better performance. Depends on the grammar it seems.

	OK, well, I don't really care *where* they're cached, just so
	long as performance improves.

	Thought: could I override LA(int) in my own lexer and implement
	caching?  When/how would I know to invalidate the cache?  By
	also overriding consume()?

	- Paul

	P.S.: I'm using the Java API.

From richard at exaflop.org  Wed Feb 23 16:53:01 2005
From: richard at exaflop.org (Richard Matthias)
Date: Wed Feb 23 16:52:57 2005
Subject: [antlr-interest] Performance and LA(int)
In-Reply-To: <001801c51a04$ec9caf50$7e02a8c0@hercules>
Message-ID: <ECOWS02Me5MNxgvdSdJ0001e8e6@smtp-out2.blueyonder.co.uk>

> For C# code generation, LA(1) and LA(2) are cached in 
>*lexers*. This resulted in noticeably better performance. Our 
>basic performance tests suggested that caching LA1/LA2 in 
>parsers (in addition to lexer caching) didn't always result in 
>better performance. Depends on the grammar it seems.
>Weird or what?
>
>Micheal


I was going to suggest that it's a shame LLkParser.LA() can't be final/sealed
- it only gets overriden by the debug parsers which doesn't seem like a very
good reason to slow down production code. Then I started actually reading the
code and there's a heck of a lot going on when you call LA() even if you only
expect to get the same result back each time. Really, final or virtual,
there's no chance of it getting inlined, lets put it that way. The code was
written by someone who loves OO principles far more than performance.

I'm interested that you didn't always get a speedup in the parser by caching
the result of LA(). Still, I'd have left the code in there - it's not going
to do any harm either way.

Richard

From wtjcn at 163.com  Wed Feb 23 17:09:58 2005
From: wtjcn at 163.com (Wang Tiejun)
Date: Wed Feb 23 17:09:03 2005
Subject: [antlr-interest] need a ready to run example
Message-ID: <20050224010901.D1287DC75C@www.antlr.org>

aGksDQoNCkkgdXNlIC5uZXQgVkM3LjEsIGFuZCBmYWlsZWQgdG8gbWFrZSBjcHAvY2FsYyBleGFt
cGxlLg0KDQpJIGFsc28gdHJ5IGxpbnV4K2djYysoc3VuIGphdmEgMS41KSwgdXNlIDIuNy41IHNv
dXJjZSBjb2RlLCBhbmQgdGhlbg0KLi9jb25maWd1cmUgIC0tLSBPSyENCm1ha2UgIC0tLS0gT0sh
DQptYWtlIHRlc3QgLS0tLSBmYWlsZWQhDQoNCm5vdywgSSB3YW50IGEgcmVhZHkgdG8gcnVuIGV4
YW1wbGUsIHByZWZlciBWQzcuMS4NCg0KcGxlYXNlIGhlbHAgbWUNCg0KoaGhoaGhoaGhoaGhoaGh
oVdhbmcgVGllanVuDQqhoaGhoaGhoaGhoaGhoaGhd3RqY25AMTYzLmNvbQ0KoaGhoaGhoaGhoaGh
oaGhoaGhoaEyMDA1LTAyLTI0DQo=


From pauljlucas at mac.com  Wed Feb 23 18:19:07 2005
From: pauljlucas at mac.com (Paul J. Lucas)
Date: Wed Feb 23 18:19:08 2005
Subject: [antlr-interest] Performance and LA(int)
In-Reply-To: <Pine.LNX.4.44.0502231558380.13970-100000@g4.pauljlucas.org>
Message-ID: <Pine.LNX.4.44.0502231817470.13970-100000@g4.pauljlucas.org>

On Wed, 23 Feb 2005, Paul J. Lucas wrote:

> 	Thought: could I override LA(int) in my own lexer and implement
> 	caching?  When/how would I know to invalidate the cache?  By
> 	also overriding consume()?

	OK, so I did this.  (I also overrode rewind() and made sure to
	flush the cache whenever I push/pop a lexer.)

	I got a 40% performance increase!

	- Paul

From pauljlucas at mac.com  Thu Feb 24 01:05:03 2005
From: pauljlucas at mac.com (Paul J. Lucas)
Date: Thu Feb 24 01:05:35 2005
Subject: [antlr-interest] Performance and LA(int)
In-Reply-To: <Pine.LNX.4.44.0502231817470.13970-100000@g4.pauljlucas.org>
References: <Pine.LNX.4.44.0502231817470.13970-100000@g4.pauljlucas.org>
Message-ID: <Pine.LNX.4.62.0502240103340.16993@mini1.pauljlucas.org>

On Wed, 23 Feb 2005, Paul J. Lucas wrote:

> On Wed, 23 Feb 2005, Paul J. Lucas wrote:
>
>> 	Thought: could I override LA(int) in my own lexer and implement
>> 	caching?  When/how would I know to invalidate the cache?  By
>> 	also overriding consume()?
>
> 	OK, so I did this.  (I also overrode rewind() and made sure to
> 	flush the cache whenever I push/pop a lexer.)
>
> 	I got a 40% performance increase!

 	Below is the relevant code, FYI.

 	- Paul


abstract class XQueryLexer extends CharScanner {

     /**
      * Consume a single character.  Additionally, &quot;slide&quot; the cached
      * look-ahead characters down one.
      */
     public void consume() throws CharStreamException {
         super.consume();
         int i;
         for ( i = 1; i < MAX_LA_K; ++i )
             m_la[i-1] = m_la[i];
         m_la[i-1] = NO_LA;
     }

     /**
      * Look-ahead to the <i>i</i>'th character.  We first check to see whether
      * its value is cached.
      * @param i The <i>i</i>'th character to look-ahead at (starting at 1).
      * @return Returns the <i>i</i>'th character.
      */
     public char LA( int i ) throws CharStreamException {
         assert i >= 1 && i <= MAX_LA_K;
         final int j = i - 1;
         if ( m_la[j] == NO_LA )
             m_la[j] = super.LA(i);
         return m_la[j];
     }

     /**
      * Rewind the input stream.  Additionally, we invalidate the LA cache.
      * @param pos The amount to rewind.
      */
     public void rewind( int pos ) {
         super.rewind( pos );
         invalidateLACache();
     }

     /**
      * Invalidate the look-ahead cache.
      */
     final void invalidateLACache() {
         for ( int i = 0; i < MAX_LA_K; ++i )
             m_la[i] = NO_LA;
     }

     /**
      * Construct an <code>XQueryLexer</code>.
      * @param state The {@link LexerSharedInputState} to use.
      */
     protected XQueryLexer( LexerSharedInputState state ) {
         super( state );
         // ...
         invalidateLACache();
     }

     /**
      * The maximum 'k' value of all the lexers.
      */
     private static final int MAX_LA_K = 4;

     /**
      * A special value that indicates a given look-ahead cache character is
      * invalid.
      */
     private static final char NO_LA = (char)-1;

     /**
      * The look-ahead cache.
      */
     private char m_la[] = new char[ MAX_LA_K ];
}
From sunshine at public.kherson.ua  Thu Feb 24 01:18:48 2005
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Thu Feb 24 01:18:54 2005
Subject: [antlr-interest] Hand made lexer 600(!!!!!) times faster of ANTLR's
	one
Message-ID: <BE436898.2A426%sunshine@public.kherson.ua>

Hi All,

Since again on this list raised performance issue
I want to point our recent discovery.

We have made simplest ANTLR lexer in 5 lines to parse
COMA/TAB separated files.
We use C++.

Making tests. 2 minutes for file on import.
We see that this is incredibly long.


In one day our developer make hand lexer,
And time is wow -- 0.2 seconds.

600 times guys!     600 times!!!


This is incredible.
This is very disappointed.

If to look into ANTLR then of course we see that xxxxxx

* LA() calls 

* creation of TOKENs that copy strings using std::string class
        
    in our version we simple return pointer to start and pointer
    to end of token in the PARSED text.
    - We do not copy any byte
    - we do not call any new operator
    - we do not create std::string objects
    - we do not destroy them
    - we do not call delete operators.
    
    instead of all above we have ZERO time.

* and probably exceptions...


I do not understand why in ANTLR C++ cannot be written small
string class in 100 lines of code which will increase speed of ANTLR in 10
times AT LEAST.

Many times I was blamed on this list;
    Hey Ruslan, at first go to profiler,
    and prove that ANTLR take more time than your SQL engine.

So guys, I can 100 times to say:

    ANTLR parser for SQL string take time LONGER than
    we can resolve after that query for table with million records!

Should I say anything more ?!           :-(

....................................................
I already do not know how to explain................
....................................................

Terrence, Rick, you have great cool parser.

    but it is NOT CORRECT to think that speed is not an issue.

Terrence, Rick, can you take into hands profiler and self to see what great
overhead bring us all above points?

Is it possible spend time to collect all advices on this list on code
optimization? I believe I have see at least 10 letters during last 2 years,
and each letter have told WE WAS ABLE INCREASE speed in times.

    It is just a shame to have so slow and so cool parser.
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

:-) yes I know this letter looks to be emotional and angry.
    but I cannot understand why speed is the LAST ISSUE for ANTLR guys.

I hope that in nearest time we will get cool ANTLR with cool speed.
And slogan will be

    the best parser!
    the fastest parser!

-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------



From open.zone at virgin.net  Thu Feb 24 01:47:48 2005
From: open.zone at virgin.net (Micheal J)
Date: Thu Feb 24 01:35:10 2005
Subject: [antlr-interest] Performance and LA(int)
In-Reply-To: <ECOWS02Me5MNxgvdSdJ0001e8e6@smtp-out2.blueyonder.co.uk>
Message-ID: <000301c51a55$e76cb290$7e02a8c0@hercules>

> > For C# code generation, LA(1) and LA(2) are cached in
> >*lexers*. This resulted in noticeably better performance. Our 
> >basic performance tests suggested that caching LA1/LA2 in 
> >parsers (in addition to lexer caching) didn't always result in 
> >better performance. Depends on the grammar it seems.
> >Weird or what?
> >
> >Micheal
> 
> 
> I was going to suggest that it's a shame LLkParser.LA() can't 
> be final/sealed
> - it only gets overriden by the debug parsers which doesn't 
> seem like a very good reason to slow down production code. 

We are in agreement here. IIRC, Kunle looked for opportunuties to eliminate
virtual methods on the critical path. Short of maintaining two
[nearly-]identical copies of the code (in release and debug classes - same
for lexer/tree-parsers), there didn't seem to be a way around this (and
others). Any ideas?

> Then I started actually reading the code and there's a heck 
> of a lot going on when you call LA() even if you only expect 
> to get the same result back each time. Really, final or 
> virtual, there's no chance of it getting inlined, lets put it 
> that way. The code was written by someone who loves OO 
> principles far more than performance.

You may be right but, how else would one be able to support some of the more
powerful features of ANTLR like lexer/parser multiplexing and composition?.

> I'm interested that you didn't always get a speedup in the 
> parser by caching the result of LA(). Still, I'd have left 
> the code in there - it's not going to do any harm either way.

It might _hurt_ performance. It did for some grammars in any case. 

We actually decided to wait for ANTLR3 to overhaul things. To that end, if
you or anyone else have good, strong ideas about what a blazingly fast
lexer, parser, tree walker/parser should look like, I'm all ears. All the
better if you can supply source code snippets/samples - which can use safe
and/or unsafe features.

Cheers,

Micheal

From mcerveny at gmail.com  Thu Feb 24 01:35:11 2005
From: mcerveny at gmail.com (Marcel Cerveny)
Date: Thu Feb 24 01:35:21 2005
Subject: [antlr-interest] Abstract syntax tree
In-Reply-To: <83a0b5ae0502240133237b01de@mail.gmail.com>
References: <83a0b5ae050223052220ec475b@mail.gmail.com>
	<16924.38260.342408.374558@despot.non.net>
	<dd3a065f050223074031520e92@mail.gmail.com>
	<83a0b5ae0502240133237b01de@mail.gmail.com>
Message-ID: <83a0b5ae05022401351ca9c852@mail.gmail.com>

Bryan, thank you! That was bull's eye hint.

However, I do not know how to nicely access the nodes. The ANTLR API
is one big riddle to me. What I'd like to know is how to test whether
there is scope of NO_SCOPE or PUBLIC or PRIVATE.

Apropos, whre I can find some explanation about notations like "{ ## =
#[NO_SCOPE]; }" ? Any links? Please remember, I met antr just a few
days ago. ;-)

Thanx
From sunshine at public.kherson.ua  Thu Feb 24 01:39:48 2005
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Thu Feb 24 01:39:53 2005
Subject: [antlr-interest] Performance and LA(int)
In-Reply-To: <986ec3c9c470e9fa3e8cb6f50e019475@cs.usfca.edu>
Message-ID: <BE436D84.2A430%sunshine@public.kherson.ua>

On 2/23/05 8:26 PM, "Terence Parr" <parrt@cs.usfca.edu> wrote:

> On Feb 23, 2005, at 9:18 AM, Paul J. Lucas wrote:
>> In recent profiling, the ANTLR lexer method LA(int) is called a
>> *lot*.  Why does the ANTLR-generated code repeatedly call it?

I have told the same may times. :-)

>> Why not copy the current value into a local variable?
>> 
>> final int c1 = LA(1);
>> // ... do whatever with 'c1' rather than repeatedly
>> // calling LA(1) ...
>> 
>> In the case of multiple lookahead, simply use multiple
>> temporaries:
>> 
>> final int c1 = LA(1);
>> final int c2 = LA(2);
>> // ...
> 
> "a kingdom for a decent compiler optimizer" ;)

Compiler never will resolve such optimization.
Because function can have side effects.


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------


From open.zone at virgin.net  Thu Feb 24 02:16:25 2005
From: open.zone at virgin.net (Micheal J)
Date: Thu Feb 24 02:03:45 2005
Subject: [antlr-interest] Hand made lexer 600(!!!!!) times faster of
	ANTLR'sone
In-Reply-To: <BE436898.2A426%sunshine@public.kherson.ua>
Message-ID: <000401c51a59$e5c2d650$7e02a8c0@hercules>

Hi Ruslan,

> Since again on this list raised performance issue
> I want to point our recent discovery.
> 
> We have made simplest ANTLR lexer in 5 lines to parse
> COMA/TAB separated files.
> We use C++.
> 
> Making tests. 2 minutes for file on import.
> We see that this is incredibly long.
> 
> 
> In one day our developer make hand lexer,
> And time is wow -- 0.2 seconds.
> 
> 600 times guys!     600 times!!!

That sucks. :-(

Is the grammar and input file available?. It would be useful to try out the
Java and C# code too.

If it's possible, please send me the hand-coded lexer, I'd like to try out a
C# version of it against what ANTLR/C# generates.

> This is incredible.
> This is very disappointed.
> 
> If to look into ANTLR then of course we see that xxxxxx
> 
> * LA() calls 
> 
> * creation of TOKENs that copy strings using std::string class
>         
>     in our version we simple return pointer to start and pointer
>     to end of token in the PARSED text.
>     - We do not copy any byte
>     - we do not call any new operator
>     - we do not create std::string objects
>     - we do not destroy them
>     - we do not call delete operators.
>     
>     instead of all above we have ZERO time.
> 
> * and probably exceptions...

Couldn't agree more.

> I do not understand why in ANTLR C++ cannot be written small 
> string class in 100 lines of code which will increase speed 
> of ANTLR in 10 times AT LEAST.

My apologies if you've already done this but, donating code to fix the
problem (or to illustrate how it might be fixed) is very welcome. As ANTLR3
matures, it can be molded to make it easier to incorporate these ideas on
improving performance.

Cheers,

Micheal

From ewbank at gmail.com  Thu Feb 24 02:34:33 2005
From: ewbank at gmail.com (Bryan Ewbank)
Date: Thu Feb 24 02:34:37 2005
Subject: [antlr-interest] Abstract syntax tree
In-Reply-To: <83a0b5ae0502240133237b01de@mail.gmail.com>
References: <83a0b5ae050223052220ec475b@mail.gmail.com>
	<16924.38260.342408.374558@despot.non.net>
	<dd3a065f050223074031520e92@mail.gmail.com>
	<83a0b5ae0502240133237b01de@mail.gmail.com>
Message-ID: <dd3a065f0502240234501350e9@mail.gmail.com>

The best way to start is to read the manual; I printed it out and read
it cover to cover a few times (skipped the java part for now :-). 
Then pick an example and read it "out loud" using the manual it
translate it to words.

After that, I think this group is a good place for pointers and
suggestions and experience.

Specifically, the ## #() and #[] are explained here:
      http://www.antlr.org/doc/trees.html#_bb9
and on pages 123 of the antlrman.pdf documentation:
      http://ftp.camk.edu.pl/private/chris/antlrman/antlrman.pdf


On Thu, 24 Feb 2005 10:33:26 +0100, Marcel Cerveny <mcerveny@gmail.com> wrote:
> Apropos, whre I can find some explanation about notations like "{ ## =
> #[NO_SCOPE]; }" ? Any links? Please remember, I met antr just a few
> days ago. ;-)
From sunshine at public.kherson.ua  Thu Feb 24 02:45:42 2005
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Thu Feb 24 02:45:47 2005
Subject: [antlr-interest] Hand made lexer 600(!!!!!) times faster of
	ANTLR'sone
In-Reply-To: <000401c51a59$e5c2d650$7e02a8c0@hercules>
Message-ID: <BE437CF6.2A441%sunshine@public.kherson.ua>

On 2/24/05 12:16 PM, "Micheal J" <open.zone@virgin.net> wrote:

> 
>> I do not understand why in ANTLR C++ cannot be written small
>> string class in 100 lines of code which will increase speed
>> of ANTLR in 10 times AT LEAST.
> 
> My apologies if you've already done this but, donating code to fix the
> problem (or to illustrate how it might be fixed) is very welcome. As ANTLR3
> matures, it can be molded to make it easier to incorporate these ideas on
> improving performance.

Michael,

I have not follow up antlr list last weeks.

Are you participate in development of ANTLR somehow ?


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------


From sunshine at public.kherson.ua  Thu Feb 24 02:49:17 2005
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Thu Feb 24 02:49:21 2005
Subject: [antlr-interest] Hand made lexer 600(!!!!!) times faster of
	ANTLR'sone
In-Reply-To: <000401c51a59$e5c2d650$7e02a8c0@hercules>
Message-ID: <BE437DCD.2A444%sunshine@public.kherson.ua>

On 2/24/05 12:16 PM, "Micheal J" <open.zone@virgin.net> wrote:

>> I do not understand why in ANTLR C++ cannot be written small
>> string class in 100 lines of code which will increase speed
>> of ANTLR in 10 times AT LEAST.
> 
> My apologies if you've already done this but, donating code to fix the
> problem (or to illustrate how it might be fixed) is very welcome. As ANTLR3
> matures, it can be molded to make it easier to incorporate these ideas on
> improving performance.

I mean that DIFFERENT developers have show some part of their codes how they
was able improve antlr generated files.

I am sure you can find these letters on archive.

I remember excellent letter from another Russian developer where he have
describe steps to improve. He also have point that he have plug on
allocation class.

Really, It is easy to see that during parsing we build tree, then we kill
the whole tree. So having own allocator in ANTLR it is possible kill the
whole tree not as million of delete calls, but as single call to destroy the
whole heap.


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------


From sunshine at public.kherson.ua  Thu Feb 24 02:50:07 2005
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Thu Feb 24 02:50:10 2005
Subject: [antlr-interest] Hand made lexer 600(!!!!!) times faster of
	ANTLR'sone
In-Reply-To: <000401c51a59$e5c2d650$7e02a8c0@hercules>
Message-ID: <BE437DFF.2A445%sunshine@public.kherson.ua>

On 2/24/05 12:16 PM, "Micheal J" <open.zone@virgin.net> wrote:

Hi Michael,

>> 600 times guys!     600 times!!!
> 
> That sucks. :-(
> 
> Is the grammar and input file available?. It would be useful to try out the
> Java and C# code too.
> 
> If it's possible, please send me the hand-coded lexer, I'd like to try out a
> C# version of it against what ANTLR/C# generates.

I can at weekend collect files for you.
Just please remind me.

-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------


From open.zone at virgin.net  Thu Feb 24 03:45:51 2005
From: open.zone at virgin.net (Micheal J)
Date: Thu Feb 24 03:33:12 2005
Subject: [antlr-interest] Hand made lexer 600(!!!!!) times faster of
	ANTLR'sone
In-Reply-To: <BE437DCD.2A444%sunshine@public.kherson.ua>
Message-ID: <000001c51a66$6444e430$7e02a8c0@hercules>

Ruslan,

> I remember excellent letter from another Russian developer
> where he have describe steps to improve. He also have point 
> that he have plug on allocation class.

OK, that narrows it down:
1. Alex Sedow or 
 
http://www.antlr.org/pipermail/antlr-interest/2004-November/010102.html
2. Anton Safonov
 
http://www.antlr.org/pipermail/antlr-interest/2004-January/006083.html

I'm pretty sure you're referring to Alex's post...  ;-)

> Really, It is easy to see that during parsing we build tree,
> then we kill the whole tree. So having own allocator in ANTLR 
> it is possible kill the whole tree not as million of delete 
> calls, but as single call to destroy the whole heap.

Agreed. 

On a related note, I'm interested in ideas about if and how something
similar can be achieved in managed langauges (i.e. Java/C#) or do we have to
trust the GC?

Micheal

From sunshine at public.kherson.ua  Thu Feb 24 03:52:31 2005
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Thu Feb 24 03:52:36 2005
Subject: [antlr-interest] Hand made lexer 600(!!!!!) times faster of
	ANTLR'sone
In-Reply-To: <000001c51a66$6444e430$7e02a8c0@hercules>
Message-ID: <BE438C9F.2A457%sunshine@public.kherson.ua>

On 2/24/05 1:45 PM, "Micheal J" <open.zone@virgin.net> wrote:

Hi Michael,

>> I remember excellent letter from another Russian developer
>> where he have describe steps to improve. He also have point
>> that he have plug on allocation class.
> 
> OK, that narrows it down:
> 1. Alex Sedow or 
>  
> http://www.antlr.org/pipermail/antlr-interest/2004-November/010102.html
> 2. Anton Safonov
>  
> http://www.antlr.org/pipermail/antlr-interest/2004-January/006083.html
> 
> I'm pretty sure you're referring to Alex's post...  ;-)

Yes, I mean Alex.

I have contact him asking send some sources...
It seems he have send me something, but it is better write own than try
integrate his. 

I think you can try contact him again.

>> Really, It is easy to see that during parsing we build tree,
>> then we kill the whole tree. So having own allocator in ANTLR
>> it is possible kill the whole tree not as million of delete
>> calls, but as single call to destroy the whole heap.
> 
> Agreed. 
> 
> On a related note, I'm interested in ideas about if and how something
> similar can be achieved in managed langauges (i.e. Java/C#) or do we have to
> trust the GC?

Actually I use only and only C++.

It seems I have not hear about such tricks for Java/C#.


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------


From ric.klaren at gmail.com  Thu Feb 24 04:08:12 2005
From: ric.klaren at gmail.com (Ric Klaren)
Date: Thu Feb 24 04:08:28 2005
Subject: [antlr-interest] Performance and LA(int)
In-Reply-To: <Pine.LNX.4.44.0502230914570.13970-100000@g4.pauljlucas.org>
References: <Pine.LNX.4.44.0502230914570.13970-100000@g4.pauljlucas.org>
Message-ID: <421DC3AC.5030707@gmail.com>

Paul J. Lucas wrote:
> 	In recent profiling, the ANTLR lexer method LA(int) is called a
> 	*lot*.  Why does the ANTLR-generated code repeatedly call it?
> 	Why not copy the current value into a local variable?

Tried to implement this a while ago but it was not easy to do with the 
current codegenerator should probably stil be some posts about it in the 
archive. It was probably due to not being able to get declarations for 
the temporary vars in the right places.

Also you can't have any LA() with sideeffect tricks anymore, although 
i'm not aware of anyone using such tricks.

Cheers,

Ric
From Loring.G.Craymer at jpl.nasa.gov  Thu Feb 24 04:16:32 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Thu Feb 24 04:16:27 2005
Subject: [antlr-interest] Hand made lexer 600(!!!!!) times faster
	ofANTLR'sone
In-Reply-To: <000001c51a66$6444e430$7e02a8c0@hercules>
Message-ID: <200502241216.j1OCGPx5003538@eis-msg-012.jpl.nasa.gov>


[snippage]
> > Really, It is easy to see that during parsing we build tree,
> > then we kill the whole tree. So having own allocator in ANTLR
> > it is possible kill the whole tree not as million of delete
> > calls, but as single call to destroy the whole heap.
> 
> Agreed.
> 
> On a related note, I'm interested in ideas about if and how something
> similar can be achieved in managed langauges (i.e. Java/C#) or do we have
> to
> trust the GC?

No--you can recycle nodes by returning them to the factory which then keeps
a "free" list of available nodes.  That is not easily implemented in ANTLR
2--hetero-ASTs cause problems--but in ANTLR 3 you should be able to recycle
carriers.

--Loring

> 
> Micheal

From richard at exaflop.org  Thu Feb 24 04:18:29 2005
From: richard at exaflop.org (Richard Matthias)
Date: Thu Feb 24 04:18:30 2005
Subject: [antlr-interest] Hand made lexer 600(!!!!!) times faster
	ofANTLR'sone
In-Reply-To: <000001c51a66$6444e430$7e02a8c0@hercules>
Message-ID: <ECOWS04M9neJzZfQ9Qd0001dbcc@smtp-out4.blueyonder.co.uk>

>
>> Really, It is easy to see that during parsing we build tree, then we 
>> kill the whole tree. So having own allocator in ANTLR it is possible 
>> kill the whole tree not as million of delete calls, but as 
>single call 
>> to destroy the whole heap.
>
>Agreed. 
>
>On a related note, I'm interested in ideas about if and how 
>something similar can be achieved in managed langauges (i.e. 
>Java/C#) or do we have to trust the GC?
>
>Micheal

You can use a object pool pattern to avoid constantly allocating and then
abandoning instances. The thing is though that as long as the instances are
caught by generation 0 of the GC, it's very quick as it is. The extra
overhead on the allocation side (allocation from compacted heap is much
faster than typical malloc allocators) and the code necessary to return the
objects to the pool when no longer required is probably more than just
letting the GC do its job. 

It all depends on the rate of garbage creation. There's some rate for a given
system where the GC has to run more frequently than normal to avoid heap
growth. If it runs too frequently that can lead to otherwise short-lived
objects making it into generation 1 which makes them more expensive to
collect later. Clearly it's all going to depend on pattern of allocation
which will depend on the grammar. For C# users, Microsoft have a free tool
called the CLRProfiler which is specifically for analyzing gc behaviour which
might be worth looking at if you think performance is memory related. 

Regards,

richard

From mcerveny at gmail.com  Thu Feb 24 07:20:19 2005
From: mcerveny at gmail.com (Marcel Cerveny)
Date: Thu Feb 24 07:20:22 2005
Subject: [antlr-interest] Abstract syntax tree
In-Reply-To: <dd3a065f0502240234501350e9@mail.gmail.com>
References: <83a0b5ae050223052220ec475b@mail.gmail.com>
	<16924.38260.342408.374558@despot.non.net>
	<dd3a065f050223074031520e92@mail.gmail.com>
	<83a0b5ae0502240133237b01de@mail.gmail.com>
	<dd3a065f0502240234501350e9@mail.gmail.com>
Message-ID: <83a0b5ae0502240720c43e108@mail.gmail.com>

> The best way to start is to read the manual
Good to know. I started to read it. Thanx Bryan!

However, I'd like to know beforehand if it is possible to name the
nodes in such way that I can access them in a readable way. For
instance, having a file of shape
public interface ITest {
int a = 1;
...
}

also having the parser spec something like:
interf : (scope) I_IDENT! IDENTIFIER^ (body) ;
scope : ( { ## = #[NO_SCOPE]; } | PUBLIC | PRIVATE ) ;
body : ...

is there a way how to do manipulate it as
interf.scope.getText(); // returning for example "public"
instead of
parseTree.getFirstChild().getText(); ?

The structure will quite shallow, thus it might be handy. I'll be
happy even if anybody will tel me "it is possible." I can later find
it in manual.
Of course giving concrete hint would be even better...

Thanx in advance

Marcel
From johnm-antlr at non.net  Thu Feb 24 08:50:09 2005
From: johnm-antlr at non.net (John D. Mitchell)
Date: Thu Feb 24 08:49:51 2005
Subject: [antlr-interest] Performance and LA(int)
In-Reply-To: <000301c51a55$e76cb290$7e02a8c0@hercules>
References: <ECOWS02Me5MNxgvdSdJ0001e8e6@smtp-out2.blueyonder.co.uk>
	<000301c51a55$e76cb290$7e02a8c0@hercules>
Message-ID: <16926.1473.266125.802658@despot.non.net>

>>>>> "Micheal" == Micheal J <open.zone@virgin.net> writes:
[...]

> We are in agreement here. IIRC, Kunle looked for opportunuties to
> eliminate virtual methods on the critical path. Short of maintaining two
> [nearly-]identical copies of the code (in release and debug classes -
> same for lexer/tree-parsers), there didn't seem to be a way around this
> (and others). Any ideas?

For Antlr v3, you can do the variants together as part of the
StringTemplates of the code generator -- via e.g., conditionals in the
templates and/or substitute templates.


[...]

>> I'm interested that you didn't always get a speedup in the parser by
>> caching the result of LA(). Still, I'd have left the code in there -
>> it's not going to do any harm either way.

> It might _hurt_ performance. It did for some grammars in any case.

Yep, it's not nearly as simplistic as people seem to think.

> We actually decided to wait for ANTLR3 to overhaul things. To that end,
> if you or anyone else have good, strong ideas about what a blazingly fast
> lexer, parser, tree walker/parser should look like, I'm all ears. All the
> better if you can supply source code snippets/samples - which can use
> safe and/or unsafe features.

I'm not a C# guru so I'll refrain from making any specific comments on
that.

Algorithmically, the Antlr v3 obviates a lot of these kinds of "just making
sure" sillinesses.  Code generation-wise, the cleanliness of the model (so
far anyways :-) seems to make things pretty easy to change.  Part of that
is because there's a lot more focus on making code-gen support for a lot of
different languages easy/good/etc. (which definitely wasn't the case in
e.g. Antlr v2 and PCCTS).

In terms of the generated code itself, the needs of the Antlr model will
drive a lot of stuff but given the easy flexibility provided by the
StringTemplates, I think there's lots of room for experimenting with
different implementations.  For example, I'm particularly interested in
tweaks or outright different code generators targetting specific tradeoffs
(limited code & data space, etc.).

Have fun,
	John
From iank at bearcave.com  Thu Feb 24 13:47:45 2005
From: iank at bearcave.com (Ian Kaplan)
Date: Thu Feb 24 13:47:53 2005
Subject: [antlr-interest] Hand made lexer 600(!!!!!) times faster
Message-ID: <200502242147.j1OLljd09181@shell2.webquarry.com>


  Summary: writing a scanner is not a big deal

  ANTLR has a couple of core application areas.  One is a way to
  quickly bring up a scanner and parser for little languages or simple
  parsing tasks.  In many of these performance is not a huge
  consideration.

  Another use is for production quality parsers for demanding
  applications and for applications where performance is a concern.
  In these cases I don't see why it is a big deal to write your own
  scanner.  I just implemented a custom scanner for an ANTLR based
  query laguage parser.  It took a couple of days to do the scanner
  and related data structures (reserved word tables and support data
  structures).

  I know I keep writing this and you're all probably tired of reading
  it.  But as far as I'm concerned the power of ANTLR is as a parser
  generator.  I can bring up a parser much faster with ANTLR and the
  parser is more reliable.  I can also change the parser more
  rapidly.  The scanner generation is a nice feature, but I don't feel
  that it is core to why I use ANTLR.  I feel the same way about tree
  generation (I do my own tree generation too).

  Ian
From open.zone at virgin.net  Thu Feb 24 14:32:05 2005
From: open.zone at virgin.net (Micheal J)
Date: Thu Feb 24 14:19:24 2005
Subject: [antlr-interest] Performance and LA(int)
In-Reply-To: <421DC3AC.5030707@gmail.com>
Message-ID: <001201c51ac0$ab180bd0$7e02a8c0@hercules>


> Paul J. Lucas wrote:
> > 	In recent profiling, the ANTLR lexer method LA(int) is called a
> > 	*lot*.  Why does the ANTLR-generated code repeatedly call it?
> > 	Why not copy the current value into a local variable?
> 
> Tried to implement this a while ago but it was not easy to do 
> with the 
> current codegenerator should probably stil be some posts 
> about it in the 
> archive. It was probably due to not being able to get 
> declarations for 
> the temporary vars in the right places.

Yep. Tried that and wasn't getting anywhere fast too. For C#, LA1/LA2 are
cached in dedicated member variables of the CharScanner class. Still gives a
substantial speedup.

Micheal

From ewbank at gmail.com  Thu Feb 24 14:28:14 2005
From: ewbank at gmail.com (Bryan Ewbank)
Date: Thu Feb 24 14:28:16 2005
Subject: [antlr-interest] Performance and LA(int)
In-Reply-To: <000301c51a55$e76cb290$7e02a8c0@hercules>
References: <ECOWS02Me5MNxgvdSdJ0001e8e6@smtp-out2.blueyonder.co.uk>
	<000301c51a55$e76cb290$7e02a8c0@hercules>
Message-ID: <dd3a065f05022414287ee05051@mail.gmail.com>

Can't the code here be refactored so that it's 90% inlineable, with
the small differences spun off into functions?  It seems this is a
classic refactoring, though I can't remember the name of the
refactoring pattern...


On Thu, 24 Feb 2005 09:47:48 -0000, Micheal J <open.zone@virgin.net> wrote:
> We are in agreement here. IIRC, Kunle looked for opportunuties to eliminate
> virtual methods on the critical path. Short of maintaining two
> [nearly-]identical copies of the code (in release and debug classes - same
> for lexer/tree-parsers), there didn't seem to be a way around this (and
> others). Any ideas?
From dcaton at shorelinesoftware.com  Thu Feb 24 15:11:01 2005
From: dcaton at shorelinesoftware.com (Don Caton)
Date: Thu Feb 24 15:11:10 2005
Subject: [antlr-interest] Performance and LA(int)
In-Reply-To: <dd3a065f05022414287ee05051@mail.gmail.com>
Message-ID: <1109286731.9535@mx9.mysite4now.com>

Brian:

> -----Original Message-----
> From: antlr-interest-bounces@antlr.org 
> [mailto:antlr-interest-bounces@antlr.org] On Behalf Of Bryan Ewbank
> Sent: Thursday, February 24, 2005 5:28 PM
> To: ANTLR Interest
> Subject: Re: [antlr-interest] Performance and LA(int)
> 
> Can't the code here be refactored so that it's 90% 
> inlineable, with the small differences spun off into 
> functions?  It seems this is a classic refactoring, though I 
> can't remember the name of the refactoring pattern...

Yep, it can and it makes a huge difference in performance.  The whole Antlr
runtime could be implemented as inline headers, although most of the
performance gains seem to be in the CommonToken and CommonAST classes.

The name of the refactoring pattern is called "tweaking the code".  Never
understood why this industry always has to come up with geeky names to
describe a simple thing that we've all been doing for decades.

Regards,
 
Don


From parrt at cs.usfca.edu  Thu Feb 24 16:44:24 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Thu Feb 24 16:37:41 2005
Subject: [antlr-interest] my brief thoughts on performance
Message-ID: <f80068d4d37ce21d02bff9384058d19b@cs.usfca.edu>

Howdy,

Thanks very much to everyone for their thoughts regarding the 
performance of the ANTLR-generated lexers.

First, ANTLR 2.x lexers unfortunately never had speed as a primary 
concern.  Still I apologize for how slow they have indeed become!  
Yikes!  I was taking a risk going to recursive-descent lexers; I like 
them but my original implementation was slow.

Next, I agree that much can be done to increase speed by tailoring the 
lexer methods like LA and so on to be suitable for your application.  
Even in general I think much could be done.  I looked at it last year 
when Sriram S. told me that he got a huge improvement, but I didn't see 
an obvious way to be general and do what he did.  The conclusion I have 
for 2.x is that you must rely on non-general user modifications to make 
it go fast; i.e., you have to do the tweaks, but perhaps we can 
summarize some useful tweaks.  Perhaps a quick change to the code 
generators will allow caching of LA(i).

For the future, speed is a concern.  To that end, I have taken a number 
of steps for v3.0:

o Token objects don't create strings nor will trees copy stuff out of 
tokens.

o LA(i) is much simpler as everything is assumed to be buffered up 
(unless you use a different char stream object)

o I try to use LA(i) exactly once per decision

o the DFA-based decision structure is doing one computation to pick an 
alt instead of n computations for n alts.

o i'm generating bytecodes directly (for the java target) so that I can 
access the goto instruction.  This is required for the cyclic DFAs that 
use arbitrary lookahead.

o as people have pointed out, the code generation structure of 3.0 is 
really flexible.  By saying target=JohnsTarget, it will load 
JohnsTarget StringTemplate group instead of the default Java target or 
whatever.  This can be a tweaked Java or C or whatever template file.

o i have not done this yet, but I anticipate many fewer redundant 
method calls in the lexer for simple tokens like semicolon.

Just to be clear, speed is a concern, but I also care a great deal 
about having ANTLR do most things "out of the box" including things 
like asking for the start/stop token matched by a rule etc...  This 
extra weight can be trimmed by people like Ruslan easily but I want it 
to do the common things easily.

Best regards,
Terence
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From ewbank at gmail.com  Thu Feb 24 16:49:13 2005
From: ewbank at gmail.com (Bryan Ewbank)
Date: Thu Feb 24 16:49:17 2005
Subject: [antlr-interest] Abstract syntax tree
In-Reply-To: <dd3a065f05022416435afcaf55@mail.gmail.com>
References: <83a0b5ae050223052220ec475b@mail.gmail.com>
	<16924.38260.342408.374558@despot.non.net>
	<dd3a065f050223074031520e92@mail.gmail.com>
	<83a0b5ae0502240133237b01de@mail.gmail.com>
	<dd3a065f0502240234501350e9@mail.gmail.com>
	<83a0b5ae0502240720c43e108@mail.gmail.com>
	<dd3a065f05022416435afcaf55@mail.gmail.com>
Message-ID: <dd3a065f050224164953faba9f@mail.gmail.com>

Sorry about that Marcel, hit the wrong key...

I've found the easiest way to do this is using the TreeParser model. 
You walk the tree and do what you want to.  For example:

 interf:
     #(IDENTIFIER scope body)
     {  cout << "scope is " << #scope->getText() << endl; }
     ;

 scope: ( NO_SCOPE | PUBLIC | PRIVATE ) ;

Oh.  I use C++ code; I think Java uses "." instead of "->"...
From doctlo-antlr at yahoo.com  Thu Feb 24 17:14:23 2005
From: doctlo-antlr at yahoo.com (doctlo-antlr@yahoo.com)
Date: Thu Feb 24 17:16:54 2005
Subject: [antlr-interest] my brief thoughts on performance
In-Reply-To: <f80068d4d37ce21d02bff9384058d19b@cs.usfca.edu>
References: <f80068d4d37ce21d02bff9384058d19b@cs.usfca.edu>
Message-ID: <jgus11h8u53o6aegp0936d459tfnrarv5b@4ax.com>

On Thu, 24 Feb 2005 16:44:24 -0800, you wrote:

>Next, I agree that much can be done to increase speed by tailoring the 
>lexer methods like LA and so on to be suitable for your application.  
>Even in general I think much could be done.  I looked at it last year 
>when Sriram S. told me that he got a huge improvement, but I didn't see 
>an obvious way to be general and do what he did.  The conclusion I have 
>for 2.x is that you must rely on non-general user modifications to make 
>it go fast; i.e., you have to do the tweaks, but perhaps we can 
>summarize some useful tweaks.  Perhaps a quick change to the code 
>generators will allow caching of LA(i).

OK. I haven't been looking at the debate about LA closely and I don't
know the internals of Antlr generated code and the Antlr libraries
that well yet, but has anyone tried had tweaking code to memoise LA?

class Whatever
{
   private static Token cache["k"];
   public Token LA(int i)
   {
       Token retval=cache[i];
       if(retval==null)
      {	
           retval= LA_internal(i);
           cache[i]=retval;
     }
    return retval;
   }
   public void consume()
   {
      int i;
      for(i=0;i<"k";i++)
         cache[i]=0;
     consume_internal();
   }
};

PS: My Java is not so hot either but should be good enough to get the
point across.

Thaddeus L. Olczyk        
From mail at martin-probst.com  Fri Feb 25 01:35:24 2005
From: mail at martin-probst.com (Martin Probst)
Date: Fri Feb 25 01:35:28 2005
Subject: [antlr-interest] Patch for HPIA64 aCC 5.57
Message-ID: <43912.194.39.131.40.1109324124.14431.squirrel@webmailer.hosteurope.de>

Hi,
we encountered a small bug on HPIA64 with the compiler version 5.57 - it
prevents line numbers to be correctly reported on RecognitionExceptions.

It's just a small change in RecognitionException.cpp. aCC somehow doesn't
get the operator+ overload for std::string and int correctly, you'll have
to call it explicitly.

I wouldn't opt to include this in the ANTLR distribution as it is clearly
a compiler bug but maybe people who are running into the same problem
might find it here.

Index: RecognitionException.cpp
===================================================================
--- RecognitionException.cpp    (revision 2033)
+++ RecognitionException.cpp    (working copy)
@@ -48,7 +48,8 @@
                if ( fileName.length() == 0 )
                        fileLineColumnString = fileLineColumnString +
"line ";

-               fileLineColumnString = fileLineColumnString + line;
+               fileLineColumnString = operator+(fileLineColumnString,line);
+               //fileLineColumnString = fileLineColumnString + "" + line;

                if ( column != -1 )
                        fileLineColumnString = fileLineColumnString + ":"
+ column;
From braden at endoframe.com  Fri Feb 25 03:01:26 2005
From: braden at endoframe.com (Braden McDaniel)
Date: Fri Feb 25 03:01:29 2005
Subject: [antlr-interest] Antlr vs Spirit
In-Reply-To: <001001c51738$176d1780$0100a8c0@hrvoje>
References: <001001c51738$176d1780$0100a8c0@hrvoje>
Message-ID: <1109329286.5333.34.camel@localhost.localdomain>

On Sun, 2005-02-20 at 11:36 +0100, Hrvoje Nezic wrote:
> I hope that this subject is not off topic (please excuse me if it
> is). 
>  
> A few days ago I had a heated discussion with my colleagues
> at work about parser generators. I use Antlr while some other
> people use Spirit. It seems that Spirit is rather popular in the C++
> community.
>  
> "Spirit is an object oriented recursive descent parser generator
> framework implemented using template meta-programming techniques."  "
> Parser objects are composed through operator overloading and the
> result is a backtracking LL(inf) parser that is capable of parsing
> rather ambiguous grammars. "
>  
> Antlr documentation or web site mentions other parser generators like
> JavaCC, but it doesn't mention Spirit. Does Spirit bring something new
> regarding computation of lookahead sets (like Antlr's approximate
> lookahead)?

I don't think so. Spirit keeps looking ahead until it finds--or
definitely does not find--a match.

> Actually I don't understand how complex algorithms that should analyze
> complex grammars could be implemented with C++ templates, but that is
> another question.

And one that can only be answered by furthering your understanding of
C++ templates. Some books you may want to look at on the subject are
"C++ Templates" by Vandevoorde and Josuttis, and "C++ Template
Metaprogramming" by Abrahams and Gurtovoy.
 
> Perhaps I should address these questions to the Spirit mailing list,
> but I thought it would be interesting to hear opinions from Antlr
> community. BTW, I don't intend to move to Spirit :)

I have used both. The main accomplishment of Spirit is what it manages
to let you do without having to resort to a code generator like antlr
(or yacc, etc.). I don't buy the assertion that it is inherently Good
for a grammar to be in a language distinct from the parser
implementation language; most grammars only get implemented by one
parser written in one programming language. What's important is that the
grammar is readable; and Spirit accomplishes that.

But while *what* a Spirit parser is supposed to do is generally lucid,
*how* it does it is a bit obfuscated. As Spirit becomes more featureful
and robust, the need for users to understand these obfuscated bits is
diminished. But I don't think Spirit is "there" yet.

Spirit's feature set is not well-geared to writing parsers for large-,
and probably most medium-, sized languages. I think that is likely to
change as the project continues to evolve. But today it is outclassed in
that role. Spirit does excel at the larger end of small parsing tasks,
where regular expressions would be too unwieldy and writing a parser in
something like antlr is just too inconvenient. Since all you need for
Spirit is a modern C++ compiler *and it imposes no runtime dependency*,
the barrier to entry is pretty low (notwithstanding the prospective
user's understanding of C++ templates).

-- 
Braden McDaniel                           e-mail: <braden@endoframe.com>
<http://endoframe.com>                    Jabber: <braden@jabber.org>

From hrvoje.nezic at envox-lab.hr  Fri Feb 25 03:16:40 2005
From: hrvoje.nezic at envox-lab.hr (Hrvoje Nezic)
Date: Fri Feb 25 03:16:45 2005
Subject: [antlr-interest] Antlr vs Spirit
References: <001001c51738$176d1780$0100a8c0@hrvoje>
	<1109329286.5333.34.camel@localhost.localdomain>
Message-ID: <000a01c51b2b$7d01a290$d301a8c0@envox.local.hr>

----- Original Message ----- 
From: "Braden McDaniel" <braden@endoframe.com>
To: <antlr-interest@antlr.org>
Sent: Friday, February 25, 2005 12:01 PM
Subject: Re: [antlr-interest] Antlr vs Spirit


> > Antlr documentation or web site mentions other parser generators like
> > JavaCC, but it doesn't mention Spirit. Does Spirit bring something new
> > regarding computation of lookahead sets (like Antlr's approximate
> > lookahead)?
>
> I don't think so. Spirit keeps looking ahead until it finds--or
> definitely does not find--a match.

If I understand it well, Spirit tries one branch, if it doesn't succeed it
backtracks and tries another branch and so on. But it seems very
inefficient.
Am I right?

Thanks for the answer.

Regards,
Hrvoje Nezic

From ewbank at gmail.com  Fri Feb 25 10:01:24 2005
From: ewbank at gmail.com (Bryan Ewbank)
Date: Fri Feb 25 10:01:28 2005
Subject: [antlr-interest] Antlr vs Spirit
In-Reply-To: <1109329286.5333.34.camel@localhost.localdomain>
References: <001001c51738$176d1780$0100a8c0@hrvoje>
	<1109329286.5333.34.camel@localhost.localdomain>
Message-ID: <dd3a065f050225100166e80a61@mail.gmail.com>

To expand on what Braden said:

C++ templates have been demonstrated to be a complete programming
language; the books he mentions show, for example, the idiom for
implementing control flow and looping.  It also shows how to use
templates to generate just the right asm() call to access a needed
opcode that is not available in the compiler that was being used (an
immediate of some type, I think?).  And, the templates all evaporate
at compile/link time, so in this case, the code produced using
templates was faster than that produced without them.

C++ templates also do a reasonably good job of enforcing model-view
separation, as was talked about in the context of StringTemplate.

No, I'm not suggesting them for Antlr 3.0 to replace StringTemplate :-)

On Fri, 25 Feb 2005 06:01:26 -0500, Braden McDaniel
<braden@endoframe.com> wrote:
> On Sun, 2005-02-20 at 11:36 +0100, Hrvoje Nezic wrote:
> > Actually I don't understand how complex algorithms that should analyze
> > complex grammars could be implemented with C++ templates, but that is
> > another question.
> 
> And one that can only be answered by furthering your understanding of
> C++ templates. Some books you may want to look at on the subject are
> "C++ Templates" by Vandevoorde and Josuttis, and "C++ Template
> Metaprogramming" by Abrahams and Gurtovoy.
From braden at endoframe.com  Fri Feb 25 11:41:14 2005
From: braden at endoframe.com (Braden McDaniel)
Date: Fri Feb 25 11:41:17 2005
Subject: [antlr-interest] Lexing an atomic section
Message-ID: <421F7F5A.6090705@endoframe.com>

How best to have antlr process something like this?

   %{
   // Code that should go untouched into generated output here.
   %}

This is, in a sense, just a string with multiple-character delimiters. 
But the antlr lexer seems not to be able to perform the same operations 
on strings (e.g., "\n%{\n") that it can on single characters; so the 
typical pattern for processing a string literal seems not to apply.

Braden
From Loring.G.Craymer at jpl.nasa.gov  Fri Feb 25 13:51:37 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Fri Feb 25 13:51:40 2005
Subject: [antlr-interest] Lexing an atomic section
In-Reply-To: <421F7F5A.6090705@endoframe.com>
References: <421F7F5A.6090705@endoframe.com>
Message-ID: <6.1.1.1.2.20050225135131.01f6a4c0@mail.jpl.nasa.gov>

Something like

section :
        "%["
        (    ~( ']')
        |    '%]  ~('%')
        )*
        '%'
       ;

should work.

--Loring

At 11:41 AM 2/25/2005, Braden McDaniel wrote:
>How best to have antlr process something like this?
>
>   %{
>   // Code that should go untouched into generated output here.
>   %}
>
>This is, in a sense, just a string with multiple-character delimiters. But 
>the antlr lexer seems not to be able to perform the same operations on 
>strings (e.g., "\n%{\n") that it can on single characters; so the typical 
>pattern for processing a string literal seems not to apply.
>
>Braden


From christopher.d.schultz at comcast.net  Sat Feb 26 08:22:42 2005
From: christopher.d.schultz at comcast.net (Christopher Schultz)
Date: Sat Feb 26 08:22:46 2005
Subject: [antlr-interest] Hand made lexer 600(!!!!!) times faster
	of	ANTLR'sone
In-Reply-To: <000001c51a66$6444e430$7e02a8c0@hercules>
References: <000001c51a66$6444e430$7e02a8c0@hercules>
Message-ID: <4220A252.1020704@comcast.net>

Michael,

> On a related note, I'm interested in ideas about if and how something
> similar can be achieved in managed langauges (i.e. Java/C#) or do we have to
> trust the GC?

You simply have to trust the GC in Java. But, you can cheat a little and
give the GC some help. For example, you can store things in arrays (or a
single, big array) instead of more complex structures. Then, you can
discard the array and the GC doesn't have to either mark-and-sweep
(yuck!) or process tons of objects through the generational collector.
Sure, if you have lots of little String and Integer objects lying
around, it'll still have to process them, but if you have each of those
wrapped-up inside other objects, and still other objects, it takes a
while to clean-out the heap.

For C#, you can always use managed code if you want to stay in the C#
realm. Don't forget that for all .NET runtime-based classes, it doesn't
matter what language was used to write the component... it's available
from all languages. So, you could write the .NET code generator to emit
managed C++ or Managed C (does that exist?) and you'll have much greater
control over your memory allocation and deallocation.

-chris
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 254 bytes
Desc: OpenPGP digital signature
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20050226/3a7f90b3/signature.bin
From jean.morissette666 at videotron.ca  Sat Feb 26 13:00:52 2005
From: jean.morissette666 at videotron.ca (jean.morissette666@videotron.ca)
Date: Sat Feb 26 13:01:56 2005
Subject: [antlr-interest] unexpected char exception
Message-ID: <200502261600.52979.jean.morissette666@videotron.ca>

Hi,
I'm an Antlr newbie.  Could you tell me why I have this error and how to 
resolve it:

exception: line 1:1: unexpected char: 'a'

Here is my grammar:

class P extends Parser;

startRule
    :   "abc"
    ;

class L extends Lexer;

NEWLINE
    :	'\n'
    ;

And my test case:

import java.io.*;

class AntlrTest {
  public static void main(String[] args) {
	try {
	  String s = "abc";

	  L lexer = new L(new StringReader(s));
	  P parser = new P(lexer);
	  parser.startRule();
	} catch(Exception e) {
	  System.err.println("exception: "+e);
	}
  }

Thank for your help
-Jean
 
From Loring.G.Craymer at jpl.nasa.gov  Sat Feb 26 13:17:04 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Sat Feb 26 13:16:59 2005
Subject: [antlr-interest] unexpected char exception
In-Reply-To: <200502261600.52979.jean.morissette666@videotron.ca>
Message-ID: <200502262116.j1QLGvx5026459@eis-msg-012.jpl.nasa.gov>

You need at least a lexer rule which recognizes text; "abc" is a special
case for that rule.  Also look at the testLiterals option.

--Loring

> -----Original Message-----
> From: antlr-interest-bounces@antlr.org [mailto:antlr-interest-
> bounces@antlr.org] On Behalf Of jean.morissette666@videotron.ca
> Sent: Saturday, February 26, 2005 1:01 PM
> To: antlr-interest@antlr.org
> Subject: [antlr-interest] unexpected char exception
> 
> Hi,
> I'm an Antlr newbie.  Could you tell me why I have this error and how to
> resolve it:
> 
> exception: line 1:1: unexpected char: 'a'
> 
> Here is my grammar:
> 
> class P extends Parser;
> 
> startRule
>     :   "abc"
>     ;
> 
> class L extends Lexer;
> 
> NEWLINE
>     :	'\n'
>     ;
> 
> And my test case:
> 
> import java.io.*;
> 
> class AntlrTest {
>   public static void main(String[] args) {
> 	try {
> 	  String s = "abc";
> 
> 	  L lexer = new L(new StringReader(s));
> 	  P parser = new P(lexer);
> 	  parser.startRule();
> 	} catch(Exception e) {
> 	  System.err.println("exception: "+e);
> 	}
>   }
> 
> Thank for your help
> -Jean
> 

From jean.morissette666 at videotron.ca  Sat Feb 26 13:44:15 2005
From: jean.morissette666 at videotron.ca (jean.morissette666@videotron.ca)
Date: Sat Feb 26 13:44:07 2005
Subject: [antlr-interest] unexpected char exception
In-Reply-To: <200502262116.j1QLGvx5026459@eis-msg-012.jpl.nasa.gov>
References: <200502262116.j1QLGvx5026459@eis-msg-012.jpl.nasa.gov>
Message-ID: <200502261644.15624.jean.morissette666@videotron.ca>

Thank for your reply.

But now I have another kind of error.  In my grammar, rule ABC is a special 
case of IDENTIFIER and Antlr complain about it:
warning:lexical nondeterminism between rules ABC and IDENTIFIER

Also, I have read this  
http://www.doc.ic.ac.uk/lab/secondyear/Antlr/options.html#_bb8
but sadly I don't understand the purpose of the testLiterals option.  

Any help would be appreciated.


class P extends Parser;

startRule
    :   ABC
    ;

class L extends Lexer;

ABC
	:	"abc"
	;

IDENTIFIER
	:	( 'a'..'z' | 'A'..'Z' ) ( 'a'..'z' | 'A'..'Z' | '0'..'9' )*
	;


Le 26 F?vrier 2005 16:17, Loring Craymer a ?crit?:
> You need at least a lexer rule which recognizes text; "abc" is a special
> case for that rule.  Also look at the testLiterals option.

From Loring.G.Craymer at jpl.nasa.gov  Sat Feb 26 14:03:51 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Sat Feb 26 14:03:46 2005
Subject: [antlr-interest] unexpected char exception
In-Reply-To: <200502261644.15624.jean.morissette666@videotron.ca>
Message-ID: <200502262203.j1QM3ix5000499@eis-msg-012.jpl.nasa.gov>

Replace ABC by "abc" in startRule, and delete the ABC rule.

Any quoted string in the parser grammar (like "abc") is assigned a unique
token type.  However, there must be a rule that recognizes that string
(first message) and it must have the testLiterals = true (default case)
option set.  Then ANTLR automatically looks up these special case tokens in
a hash table to determine token type.  So IDENTIFIER matches "abc" and marks
the returned token as being of type LITERAL_abc (I think that I have the
prefix right).

--Loring

> -----Original Message-----
> From: antlr-interest-bounces@antlr.org [mailto:antlr-interest-
> bounces@antlr.org] On Behalf Of jean.morissette666@videotron.ca
> Sent: Saturday, February 26, 2005 1:44 PM
> To: antlr-interest@antlr.org
> Subject: Re: [antlr-interest] unexpected char exception
> 
> Thank for your reply.
> 
> But now I have another kind of error.  In my grammar, rule ABC is a
> special
> case of IDENTIFIER and Antlr complain about it:
> warning:lexical nondeterminism between rules ABC and IDENTIFIER
> 
> Also, I have read this
> http://www.doc.ic.ac.uk/lab/secondyear/Antlr/options.html#_bb8
> but sadly I don't understand the purpose of the testLiterals option.
> 
> Any help would be appreciated.
> 
> 
> class P extends Parser;
> 
> startRule
>     :   ABC
>     ;
> 
> class L extends Lexer;
> 
> ABC
> 	:	"abc"
> 	;
> 
> IDENTIFIER
> 	:	( 'a'..'z' | 'A'..'Z' ) ( 'a'..'z' | 'A'..'Z' | '0'..'9' )*
> 	;
> 
> 
> Le 26 F?vrier 2005 16:17, Loring Craymer a ?crit?:
> > You need at least a lexer rule which recognizes text; "abc" is a special
> > case for that rule.  Also look at the testLiterals option.

From jean.morissette666 at videotron.ca  Sun Feb 27 12:17:40 2005
From: jean.morissette666 at videotron.ca (jean.morissette666@videotron.ca)
Date: Sun Feb 27 12:18:06 2005
Subject: [antlr-interest] infinite recursion
Message-ID: <200502271517.40436.jean.morissette666@videotron.ca>

Hi,
Is it possible to resolve the infinite recursion to rule expression
from rule6?

expression
	:	LPAREN rule1 RPAREN
	|	IDENTIFIER
	|	rule2
	|	rule3
	|	rule4
	|	rule5
	|	rule6
	;

rule6
	:	"first" LPAREN rule1 RPAREN
	|	"last" LPAREN rule1 RPAREN
	|	expression LBRACKET rule1 RBRACKET
	|	expression rule7 IDENTIFIER
	|	expression rule7 IDENTIFIER LPAREN RPAREN
	|	expression rule7 IDENTIFIER LPAREN rule8 RPAREN
	;

Thank for your help.
-Jean
From nbsherid at secsme.org.au  Sun Feb 27 16:01:35 2005
From: nbsherid at secsme.org.au (Nigel Sheridan-Smith)
Date: Sun Feb 27 16:02:10 2005
Subject: [antlr-interest] infinite recursion
In-Reply-To: <200502271517.40436.jean.morissette666@videotron.ca>
Message-ID: <000401c51d28$bd2d7f20$a428198a@nigelnote>



> -----Original Message-----
> From: antlr-interest-bounces@antlr.org [mailto:antlr-interest-
> bounces@antlr.org] On Behalf Of jean.morissette666@videotron.ca
> Sent: Monday, 28 February 2005 7:18 AM
> To: antlr-interest@antlr.org
> Subject: [antlr-interest] infinite recursion
> 
> Hi,
> Is it possible to resolve the infinite recursion to rule expression
> from rule6?
> 
> expression
> 	:	LPAREN rule1 RPAREN
> 	|	IDENTIFIER
> 	|	rule2
> 	|	rule3
> 	|	rule4
> 	|	rule5
> 	|	rule6
> 	;
> 
> rule6
> 	:	"first" LPAREN rule1 RPAREN
> 	|	"last" LPAREN rule1 RPAREN
> 	|	expression LBRACKET rule1 RBRACKET
> 	|	expression rule7 IDENTIFIER
> 	|	expression rule7 IDENTIFIER LPAREN RPAREN
> 	|	expression rule7 IDENTIFIER LPAREN rule8 RPAREN
> 	;
> 

Left factor:

expression
	:	(LPAREN rule1 RPAREN)* (...)?
      |	...


Alternatively, syntactic predicates might work, but I've never tried them
for this sort of thing:

rule6
	:	...
	|	(expression rule7) => expression rule7 IDENTIFIER 
						(LPARAN (rule8)? RPARAN)? 
	;


Nigel

--
Nigel Sheridan-Smith
PhD research student

Faculty of Engineering
University of Technology, Sydney
Phone: 02 9514 7946
Fax: 02 9514 2435

From jean.morissette666 at videotron.ca  Sun Feb 27 21:31:00 2005
From: jean.morissette666 at videotron.ca (jean.morissette666@videotron.ca)
Date: Sun Feb 27 21:33:12 2005
Subject: [antlr-interest] label for many alternatives?
Message-ID: <200502280031.00943.jean.morissette666@videotron.ca>

Hi,
I would prefer to have only one lexer rule by token, and I'm wondering if it's 
possible to write something like

rule :	
expr ( op:( GT | GE | LT  | LE ) expr { anAction(op.getText()); } )*

MyLexer...

GT : '>' ;
GE : ">=" ;
LT : '<' ;
LE : "<=" ;


...instead of...


expr ( op:OP expr { anAction(op.getText()); } )*

MyLexer...

OP : '>' | ">=" | '<'  | "<=" ;


Thank
-Jean
From demakov at ispras.ru  Sun Feb 27 23:05:52 2005
From: demakov at ispras.ru (Alexey Demakov)
Date: Mon Feb 28 00:11:21 2005
Subject: [antlr-interest] infinite recursion
References: <200502271517.40436.jean.morissette666@videotron.ca>
Message-ID: <00cf01c51d63$f0b5a0d0$8cc79553@marlboro>

> Hi,
> Is it possible to resolve the infinite recursion to rule expression
> from rule6?
> 
> expression
> : LPAREN rule1 RPAREN
> | IDENTIFIER
> | rule2
> | rule3
> | rule4
> | rule5
> | rule6
> ;
> 
> rule6
> : "first" LPAREN rule1 RPAREN
> | "last" LPAREN rule1 RPAREN
> | expression LBRACKET rule1 RBRACKET
> | expression rule7 IDENTIFIER
> | expression rule7 IDENTIFIER LPAREN RPAREN
> | expression rule7 IDENTIFIER LPAREN rule8 RPAREN
> ;

1. Substitute rule6 in expression:

expression
: LPAREN rule1 RPAREN
| IDENTIFIER
| rule2
| rule3
| rule4
| rule5
| "first" LPAREN rule1 RPAREN
| "last" LPAREN rule1 RPAREN
| expression LBRACKET rule1 RBRACKET
| expression rule7 IDENTIFIER
| expression rule7 IDENTIFIER LPAREN RPAREN
| expression rule7 IDENTIFIER LPAREN rule8 RPAREN
;

2. Last 4 alternatives mean that expression can end with 

( LBRACKET rule1 RBRACKET
| rule7 IDENTIFIER
| rule7 IDENTIFIER LPAREN RPAREN
| rule7 IDENTIFIER LPAREN rule8 RPAREN
)*

3. The final rules:

expression
: ( LPAREN rule1 RPAREN
  | IDENTIFIER
  | rule2
  | rule3
  | rule4
  | rule5
  | "first" LPAREN rule1 RPAREN
  | "last" LPAREN rule1 RPAREN
  )
  ( LBRACKET rule1 RBRACKET
  | rule7 IDENTIFIER
  | rule7 IDENTIFIER LPAREN RPAREN
  | rule7 IDENTIFIER LPAREN rule8 RPAREN
  )*

If rule6 is not referenced anymore, it can be removed.

Regards,
Alexey

-----
Alexey Demakov
TreeDL: Tree Description Language: http://treedl.sourceforge.net
RedVerst Group: http://www.unitesk.com


From Loring.G.Craymer at jpl.nasa.gov  Mon Feb 28 01:53:30 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Mon Feb 28 01:53:25 2005
Subject: [antlr-interest] label for many alternatives?
In-Reply-To: <200502280031.00943.jean.morissette666@videotron.ca>
Message-ID: <200502280953.j1S9rMx5011301@eis-msg-012.jpl.nasa.gov>

Unfortunately, not.  You can do something like

rule
{ AST ast }
     :
     (    g1:GT { ast = #g1; }
     |    g2:GE { ast = #g2; }
     |   ...
     ) expr { anAction(op.getText()); }
     ;

but you cannot label subrules or even use the same label on alternatives.

--Loring

> -----Original Message-----
> From: antlr-interest-bounces@antlr.org [mailto:antlr-interest-
> bounces@antlr.org] On Behalf Of jean.morissette666@videotron.ca
> Sent: Sunday, February 27, 2005 9:31 PM
> To: antlr-interest@antlr.org
> Subject: [antlr-interest] label for many alternatives?
> 
> Hi,
> I would prefer to have only one lexer rule by token, and I'm wondering if
> it's
> possible to write something like
> 
> rule :
> expr ( op:( GT | GE | LT  | LE ) expr { anAction(op.getText()); } )*
> 
> MyLexer...
> 
> GT : '>' ;
> GE : ">=" ;
> LT : '<' ;
> LE : "<=" ;
> 
> 
> ...instead of...
> 
> 
> expr ( op:OP expr { anAction(op.getText()); } )*
> 
> MyLexer...
> 
> OP : '>' | ">=" | '<'  | "<=" ;
> 
> 
> Thank
> -Jean

From hc7750 at 163.com  Mon Feb 28 02:38:01 2005
From: hc7750 at 163.com (hc)
Date: Mon Feb 28 02:43:03 2005
Subject: [antlr-interest] Re: unexpected char exception
Message-ID: <20050228104256.1EA52DC75D@www.antlr.org>

YW50bHItaW50ZXJlc3QtcmVxdWVzdCzE+rrDo6ENCg0KeW91IGNhbiB0cnkgdG8gYWRkICJvcHRp
b25zey4uLn0iIGluZGljYXRpbmcgdGhlIGNoYXJzZXQsIGFzIGZvbGxvd3M6DQoNCmNsYXNzIEph
dmFMZXhlciBleHRlbmRzIExleGVyOyANCg0Kb3B0aW9ucyANCnsgDQoJY2hhclZvY2FidWxhcnkg
PSAnXDMnLi4nXDM3Nyc7IA0KfQ0KDQo9PT09PT09IDIwMDUtMDItMjggMDQ6MDA6MDMgxPrU2sC0
0MXW0NC0tcCjuj09PT09PT0NCg0KPlNlbmQgYW50bHItaW50ZXJlc3QgbWFpbGluZyBsaXN0IHN1
Ym1pc3Npb25zIHRvDQo+CWFudGxyLWludGVyZXN0QGFudGxyLm9yZw0KPg0KPlRvIHN1YnNjcmli
ZSBvciB1bnN1YnNjcmliZSB2aWEgdGhlIFdvcmxkIFdpZGUgV2ViLCB2aXNpdA0KPglodHRwOi8v
d3d3LmFudGxyLm9yZzo4MDgwL21haWxtYW4vbGlzdGluZm8vYW50bHItaW50ZXJlc3QNCj5vciwg
dmlhIGVtYWlsLCBzZW5kIGEgbWVzc2FnZSB3aXRoIHN1YmplY3Qgb3IgYm9keSAnaGVscCcgdG8N
Cj4JYW50bHItaW50ZXJlc3QtcmVxdWVzdEBhbnRsci5vcmcNCj4NCj5Zb3UgY2FuIHJlYWNoIHRo
ZSBwZXJzb24gbWFuYWdpbmcgdGhlIGxpc3QgYXQNCj4JYW50bHItaW50ZXJlc3Qtb3duZXJAYW50
bHIub3JnDQo+DQo+V2hlbiByZXBseWluZywgcGxlYXNlIGVkaXQgeW91ciBTdWJqZWN0IGxpbmUg
c28gaXQgaXMgbW9yZSBzcGVjaWZpYw0KPnRoYW4gIlJlOiBDb250ZW50cyBvZiBhbnRsci1pbnRl
cmVzdCBkaWdlc3QuLi4iDQo+DQo+DQo+VG9kYXkncyBUb3BpY3M6DQo+DQo+ICAgMS4gdW5leHBl
Y3RlZCBjaGFyIGV4Y2VwdGlvbiAoamVhbi5tb3Jpc3NldHRlNjY2QHZpZGVvdHJvbi5jYSkNCj4g
ICAyLiBSRTogdW5leHBlY3RlZCBjaGFyIGV4Y2VwdGlvbiAoTG9yaW5nIENyYXltZXIpDQo+ICAg
My4gUmU6IHVuZXhwZWN0ZWQgY2hhciBleGNlcHRpb24gKGplYW4ubW9yaXNzZXR0ZTY2NkB2aWRl
b3Ryb24uY2EpDQo+ICAgNC4gUkU6IHVuZXhwZWN0ZWQgY2hhciBleGNlcHRpb24gKExvcmluZyBD
cmF5bWVyKQ0KPg0KPg0KPi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4NCj5NZXNzYWdlOiAxDQo+RGF0ZTogU2F0
LCAyNiBGZWIgMjAwNSAxNjowMDo1MiAtMDUwMA0KPkZyb206IGplYW4ubW9yaXNzZXR0ZTY2NkB2
aWRlb3Ryb24uY2ENCj5TdWJqZWN0OiBbYW50bHItaW50ZXJlc3RdIHVuZXhwZWN0ZWQgY2hhciBl
eGNlcHRpb24NCj5UbzogYW50bHItaW50ZXJlc3RAYW50bHIub3JnDQo+TWVzc2FnZS1JRDogPDIw
MDUwMjI2MTYwMC41Mjk3OS5qZWFuLm1vcmlzc2V0dGU2NjZAdmlkZW90cm9uLmNhPg0KPkNvbnRl
bnQtVHlwZTogdGV4dC9wbGFpbjsgY2hhcnNldD11cy1hc2NpaQ0KPg0KPkhpLA0KPkknbSBhbiBB
bnRsciBuZXdiaWUuICBDb3VsZCB5b3UgdGVsbCBtZSB3aHkgSSBoYXZlIHRoaXMgZXJyb3IgYW5k
IGhvdyB0byANCj5yZXNvbHZlIGl0Og0KPg0KPmV4Y2VwdGlvbjogbGluZSAxOjE6IHVuZXhwZWN0
ZWQgY2hhcjogJ2EnDQo+DQo+SGVyZSBpcyBteSBncmFtbWFyOg0KPg0KPmNsYXNzIFAgZXh0ZW5k
cyBQYXJzZXI7DQo+DQo+c3RhcnRSdWxlDQo+ICAgIDogICAiYWJjIg0KPiAgICA7DQo+DQo+Y2xh
c3MgTCBleHRlbmRzIExleGVyOw0KPg0KPk5FV0xJTkUNCj4gICAgOgknXG4nDQo+ICAgIDsNCj4N
Cj5BbmQgbXkgdGVzdCBjYXNlOg0KPg0KPmltcG9ydCBqYXZhLmlvLio7DQo+DQo+Y2xhc3MgQW50
bHJUZXN0IHsNCj4gIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsNCj4J
dHJ5IHsNCj4JICBTdHJpbmcgcyA9ICJhYmMiOw0KPg0KPgkgIEwgbGV4ZXIgPSBuZXcgTChuZXcg
U3RyaW5nUmVhZGVyKHMpKTsNCj4JICBQIHBhcnNlciA9IG5ldyBQKGxleGVyKTsNCj4JICBwYXJz
ZXIuc3RhcnRSdWxlKCk7DQo+CX0gY2F0Y2goRXhjZXB0aW9uIGUpIHsNCj4JICBTeXN0ZW0uZXJy
LnByaW50bG4oImV4Y2VwdGlvbjogIitlKTsNCj4JfQ0KPiAgfQ0KPg0KPlRoYW5rIGZvciB5b3Vy
IGhlbHANCj4tSmVhbg0KPiANCj4NCj4NCj4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0N
Cj4NCj5NZXNzYWdlOiAyDQo+RGF0ZTogU2F0LCAyNiBGZWIgMjAwNSAxMzoxNzowNCAtMDgwMA0K
PkZyb206ICJMb3JpbmcgQ3JheW1lciIgPExvcmluZy5HLkNyYXltZXJAanBsLm5hc2EuZ292Pg0K
PlN1YmplY3Q6IFJFOiBbYW50bHItaW50ZXJlc3RdIHVuZXhwZWN0ZWQgY2hhciBleGNlcHRpb24N
Cj5UbzogPGplYW4ubW9yaXNzZXR0ZTY2NkB2aWRlb3Ryb24uY2E+LCA8YW50bHItaW50ZXJlc3RA
YW50bHIub3JnPg0KPk1lc3NhZ2UtSUQ6IDwyMDA1MDIyNjIxMTYuajFRTEd2eDUwMjY0NTlAZWlz
LW1zZy0wMTIuanBsLm5hc2EuZ292Pg0KPkNvbnRlbnQtVHlwZTogdGV4dC9wbGFpbjsJY2hhcnNl
dD0idXMtYXNjaWkiDQo+DQo+WW91IG5lZWQgYXQgbGVhc3QgYSBsZXhlciBydWxlIHdoaWNoIHJl
Y29nbml6ZXMgdGV4dDsgImFiYyIgaXMgYSBzcGVjaWFsDQo+Y2FzZSBmb3IgdGhhdCBydWxlLiAg
QWxzbyBsb29rIGF0IHRoZSB0ZXN0TGl0ZXJhbHMgb3B0aW9uLg0KPg0KPi0tTG9yaW5nDQo+DQo+
PiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPj4gRnJvbTogYW50bHItaW50ZXJlc3QtYm91
bmNlc0BhbnRsci5vcmcgW21haWx0bzphbnRsci1pbnRlcmVzdC0NCj4+IGJvdW5jZXNAYW50bHIu
b3JnXSBPbiBCZWhhbGYgT2YgamVhbi5tb3Jpc3NldHRlNjY2QHZpZGVvdHJvbi5jYQ0KPj4gU2Vu
dDogU2F0dXJkYXksIEZlYnJ1YXJ5IDI2LCAyMDA1IDE6MDEgUE0NCj4+IFRvOiBhbnRsci1pbnRl
cmVzdEBhbnRsci5vcmcNCj4+IFN1YmplY3Q6IFthbnRsci1pbnRlcmVzdF0gdW5leHBlY3RlZCBj
aGFyIGV4Y2VwdGlvbg0KPj4gDQo+PiBIaSwNCj4+IEknbSBhbiBBbnRsciBuZXdiaWUuICBDb3Vs
ZCB5b3UgdGVsbCBtZSB3aHkgSSBoYXZlIHRoaXMgZXJyb3IgYW5kIGhvdyB0bw0KPj4gcmVzb2x2
ZSBpdDoNCj4+IA0KPj4gZXhjZXB0aW9uOiBsaW5lIDE6MTogdW5leHBlY3RlZCBjaGFyOiAnYScN
Cj4+IA0KPj4gSGVyZSBpcyBteSBncmFtbWFyOg0KPj4gDQo+PiBjbGFzcyBQIGV4dGVuZHMgUGFy
c2VyOw0KPj4gDQo+PiBzdGFydFJ1bGUNCj4+ICAgICA6ICAgImFiYyINCj4+ICAgICA7DQo+PiAN
Cj4+IGNsYXNzIEwgZXh0ZW5kcyBMZXhlcjsNCj4+IA0KPj4gTkVXTElORQ0KPj4gICAgIDoJJ1xu
Jw0KPj4gICAgIDsNCj4+IA0KPj4gQW5kIG15IHRlc3QgY2FzZToNCj4+IA0KPj4gaW1wb3J0IGph
dmEuaW8uKjsNCj4+IA0KPj4gY2xhc3MgQW50bHJUZXN0IHsNCj4+ICAgcHVibGljIHN0YXRpYyB2
b2lkIG1haW4oU3RyaW5nW10gYXJncykgew0KPj4gCXRyeSB7DQo+PiAJICBTdHJpbmcgcyA9ICJh
YmMiOw0KPj4gDQo+PiAJICBMIGxleGVyID0gbmV3IEwobmV3IFN0cmluZ1JlYWRlcihzKSk7DQo+
PiAJICBQIHBhcnNlciA9IG5ldyBQKGxleGVyKTsNCj4+IAkgIHBhcnNlci5zdGFydFJ1bGUoKTsN
Cj4+IAl9IGNhdGNoKEV4Y2VwdGlvbiBlKSB7DQo+PiAJICBTeXN0ZW0uZXJyLnByaW50bG4oImV4
Y2VwdGlvbjogIitlKTsNCj4+IAl9DQo+PiAgIH0NCj4+IA0KPj4gVGhhbmsgZm9yIHlvdXIgaGVs
cA0KPj4gLUplYW4NCj4+IA0KPg0KPg0KPg0KPi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LQ0KPg0KPk1lc3NhZ2U6IDMNCj5EYXRlOiBTYXQsIDI2IEZlYiAyMDA1IDE2OjQ0OjE1IC0wNTAw
DQo+RnJvbTogamVhbi5tb3Jpc3NldHRlNjY2QHZpZGVvdHJvbi5jYQ0KPlN1YmplY3Q6IFJlOiBb
YW50bHItaW50ZXJlc3RdIHVuZXhwZWN0ZWQgY2hhciBleGNlcHRpb24NCj5UbzogYW50bHItaW50
ZXJlc3RAYW50bHIub3JnDQo+TWVzc2FnZS1JRDogPDIwMDUwMjI2MTY0NC4xNTYyNC5qZWFuLm1v
cmlzc2V0dGU2NjZAdmlkZW90cm9uLmNhPg0KPkNvbnRlbnQtVHlwZTogdGV4dC9wbGFpbjsgY2hh
cnNldD1pc28tODg1OS0xDQo+DQo+VGhhbmsgZm9yIHlvdXIgcmVwbHkuDQo+DQo+QnV0IG5vdyBJ
IGhhdmUgYW5vdGhlciBraW5kIG9mIGVycm9yLiAgSW4gbXkgZ3JhbW1hciwgcnVsZSBBQkMgaXMg
YSBzcGVjaWFsIA0KPmNhc2Ugb2YgSURFTlRJRklFUiBhbmQgQW50bHIgY29tcGxhaW4gYWJvdXQg
aXQ6DQo+d2FybmluZzpsZXhpY2FsIG5vbmRldGVybWluaXNtIGJldHdlZW4gcnVsZXMgQUJDIGFu
ZCBJREVOVElGSUVSDQo+DQo+QWxzbywgSSBoYXZlIHJlYWQgdGhpcyAgDQo+aHR0cDovL3d3dy5k
b2MuaWMuYWMudWsvbGFiL3NlY29uZHllYXIvQW50bHIvb3B0aW9ucy5odG1sI19iYjgNCj5idXQg
c2FkbHkgSSBkb24ndCB1bmRlcnN0YW5kIHRoZSBwdXJwb3NlIG9mIHRoZSB0ZXN0TGl0ZXJhbHMg
b3B0aW9uLiAgDQo+DQo+QW55IGhlbHAgd291bGQgYmUgYXBwcmVjaWF0ZWQuDQo+DQo+DQo+Y2xh
c3MgUCBleHRlbmRzIFBhcnNlcjsNCj4NCj5zdGFydFJ1bGUNCj4gICAgOiAgIEFCQw0KPiAgICA7
DQo+DQo+Y2xhc3MgTCBleHRlbmRzIExleGVyOw0KPg0KPkFCQw0KPgk6CSJhYmMiDQo+CTsNCj4N
Cj5JREVOVElGSUVSDQo+CToJKCAnYScuLid6JyB8ICdBJy4uJ1onICkgKCAnYScuLid6JyB8ICdB
Jy4uJ1onIHwgJzAnLi4nOScgKSoNCj4JOw0KPg0KPg0KPkxlIDI2IEbpdnJpZXIgMjAwNSAxNjox
NywgTG9yaW5nIENyYXltZXIgYSDpY3JpdD8NCj4+IFlvdSBuZWVkIGF0IGxlYXN0IGEgbGV4ZXIg
cnVsZSB3aGljaCByZWNvZ25pemVzIHRleHQ7ICJhYmMiIGlzIGEgc3BlY2lhbA0KPj4gY2FzZSBm
b3IgdGhhdCBydWxlLiAgQWxzbyBsb29rIGF0IHRoZSB0ZXN0TGl0ZXJhbHMgb3B0aW9uLg0KPg0K
Pg0KPg0KPi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPg0KPk1lc3NhZ2U6IDQNCj5E
YXRlOiBTYXQsIDI2IEZlYiAyMDA1IDE0OjAzOjUxIC0wODAwDQo+RnJvbTogIkxvcmluZyBDcmF5
bWVyIiA8TG9yaW5nLkcuQ3JheW1lckBqcGwubmFzYS5nb3Y+DQo+U3ViamVjdDogUkU6IFthbnRs
ci1pbnRlcmVzdF0gdW5leHBlY3RlZCBjaGFyIGV4Y2VwdGlvbg0KPlRvOiA8amVhbi5tb3Jpc3Nl
dHRlNjY2QHZpZGVvdHJvbi5jYT4sIDxhbnRsci1pbnRlcmVzdEBhbnRsci5vcmc+DQo+TWVzc2Fn
ZS1JRDogPDIwMDUwMjI2MjIwMy5qMVFNM2l4NTAwMDQ5OUBlaXMtbXNnLTAxMi5qcGwubmFzYS5n
b3Y+DQo+Q29udGVudC1UeXBlOiB0ZXh0L3BsYWluOwljaGFyc2V0PSJpc28tODg1OS0xIg0KPg0K
PlJlcGxhY2UgQUJDIGJ5ICJhYmMiIGluIHN0YXJ0UnVsZSwgYW5kIGRlbGV0ZSB0aGUgQUJDIHJ1
bGUuDQo+DQo+QW55IHF1b3RlZCBzdHJpbmcgaW4gdGhlIHBhcnNlciBncmFtbWFyIChsaWtlICJh
YmMiKSBpcyBhc3NpZ25lZCBhIHVuaXF1ZQ0KPnRva2VuIHR5cGUuICBIb3dldmVyLCB0aGVyZSBt
dXN0IGJlIGEgcnVsZSB0aGF0IHJlY29nbml6ZXMgdGhhdCBzdHJpbmcNCj4oZmlyc3QgbWVzc2Fn
ZSkgYW5kIGl0IG11c3QgaGF2ZSB0aGUgdGVzdExpdGVyYWxzID0gdHJ1ZSAoZGVmYXVsdCBjYXNl
KQ0KPm9wdGlvbiBzZXQuICBUaGVuIEFOVExSIGF1dG9tYXRpY2FsbHkgbG9va3MgdXAgdGhlc2Ug
c3BlY2lhbCBjYXNlIHRva2VucyBpbg0KPmEgaGFzaCB0YWJsZSB0byBkZXRlcm1pbmUgdG9rZW4g
dHlwZS4gIFNvIElERU5USUZJRVIgbWF0Y2hlcyAiYWJjIiBhbmQgbWFya3MNCj50aGUgcmV0dXJu
ZWQgdG9rZW4gYXMgYmVpbmcgb2YgdHlwZSBMSVRFUkFMX2FiYyAoSSB0aGluayB0aGF0IEkgaGF2
ZSB0aGUNCj5wcmVmaXggcmlnaHQpLg0KPg0KPi0tTG9yaW5nDQo+DQo+PiAtLS0tLU9yaWdpbmFs
IE1lc3NhZ2UtLS0tLQ0KPj4gRnJvbTogYW50bHItaW50ZXJlc3QtYm91bmNlc0BhbnRsci5vcmcg
W21haWx0bzphbnRsci1pbnRlcmVzdC0NCj4+IGJvdW5jZXNAYW50bHIub3JnXSBPbiBCZWhhbGYg
T2YgamVhbi5tb3Jpc3NldHRlNjY2QHZpZGVvdHJvbi5jYQ0KPj4gU2VudDogU2F0dXJkYXksIEZl
YnJ1YXJ5IDI2LCAyMDA1IDE6NDQgUE0NCj4+IFRvOiBhbnRsci1pbnRlcmVzdEBhbnRsci5vcmcN
Cj4+IFN1YmplY3Q6IFJlOiBbYW50bHItaW50ZXJlc3RdIHVuZXhwZWN0ZWQgY2hhciBleGNlcHRp
b24NCj4+IA0KPj4gVGhhbmsgZm9yIHlvdXIgcmVwbHkuDQo+PiANCj4+IEJ1dCBub3cgSSBoYXZl
IGFub3RoZXIga2luZCBvZiBlcnJvci4gIEluIG15IGdyYW1tYXIsIHJ1bGUgQUJDIGlzIGENCj4+
IHNwZWNpYWwNCj4+IGNhc2Ugb2YgSURFTlRJRklFUiBhbmQgQW50bHIgY29tcGxhaW4gYWJvdXQg
aXQ6DQo+PiB3YXJuaW5nOmxleGljYWwgbm9uZGV0ZXJtaW5pc20gYmV0d2VlbiBydWxlcyBBQkMg
YW5kIElERU5USUZJRVINCj4+IA0KPj4gQWxzbywgSSBoYXZlIHJlYWQgdGhpcw0KPj4gaHR0cDov
L3d3dy5kb2MuaWMuYWMudWsvbGFiL3NlY29uZHllYXIvQW50bHIvb3B0aW9ucy5odG1sI19iYjgN
Cj4+IGJ1dCBzYWRseSBJIGRvbid0IHVuZGVyc3RhbmQgdGhlIHB1cnBvc2Ugb2YgdGhlIHRlc3RM
aXRlcmFscyBvcHRpb24uDQo+PiANCj4+IEFueSBoZWxwIHdvdWxkIGJlIGFwcHJlY2lhdGVkLg0K
Pj4gDQo+PiANCj4+IGNsYXNzIFAgZXh0ZW5kcyBQYXJzZXI7DQo+PiANCj4+IHN0YXJ0UnVsZQ0K
Pj4gICAgIDogICBBQkMNCj4+ICAgICA7DQo+PiANCj4+IGNsYXNzIEwgZXh0ZW5kcyBMZXhlcjsN
Cj4+IA0KPj4gQUJDDQo+PiAJOgkiYWJjIg0KPj4gCTsNCj4+IA0KPj4gSURFTlRJRklFUg0KPj4g
CToJKCAnYScuLid6JyB8ICdBJy4uJ1onICkgKCAnYScuLid6JyB8ICdBJy4uJ1onIHwgJzAnLi4n
OScgKSoNCj4+IAk7DQo+PiANCj4+IA0KPj4gTGUgMjYgRul2cmllciAyMDA1IDE2OjE3LCBMb3Jp
bmcgQ3JheW1lciBhIOljcml0Pw0KPj4gPiBZb3UgbmVlZCBhdCBsZWFzdCBhIGxleGVyIHJ1bGUg
d2hpY2ggcmVjb2duaXplcyB0ZXh0OyAiYWJjIiBpcyBhIHNwZWNpYWwNCj4+ID4gY2FzZSBmb3Ig
dGhhdCBydWxlLiAgQWxzbyBsb29rIGF0IHRoZSB0ZXN0TGl0ZXJhbHMgb3B0aW9uLg0KPg0KPg0K
Pg0KPi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPg0KPl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fDQo+YW50bHItaW50ZXJlc3QgbWFpbGluZyBs
aXN0DQo+YW50bHItaW50ZXJlc3RAYW50bHIub3JnDQo+aHR0cDovL3d3dy5hbnRsci5vcmc6ODA4
MC9tYWlsbWFuL2xpc3RpbmZvL2FudGxyLWludGVyZXN0DQo+DQo+DQo+RW5kIG9mIGFudGxyLWlu
dGVyZXN0IERpZ2VzdCwgVm9sIDMsIElzc3VlIDM5DQo+KioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqDQo+DQoNCj0gPSA9ID0gPSA9ID0gPSA9ID0gPSA9ID0gPSA9
ID0gPSA9ID0gPQ0KCQkJDQoNCqGhoaGhoaGhoaGhoaGhoaHWwg0KwPGjoQ0KIA0KCQkJCSANCqGh
oaGhoaGhoaGhoaGhoaFoYw0KoaGhoaGhoaGhoaGhoaGhoWhjNzc1MEAxNjMuY29tDQqhoaGhoaGh
oaGhoaGhoaGhoaGhoTIwMDUtMDItMjgNCg0K


From parrt at cs.usfca.edu  Mon Feb 28 11:12:15 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Feb 28 11:05:30 2005
Subject: [antlr-interest] search strings from google to antlr.org
Message-ID: <7f0c7a0ae0cfc7f561d269c0872effd5@cs.usfca.edu>

Howdy,

Thought you might find this interesting/amusing.  The keywords used in 
search engines over past 10 days to reach antlr.org pages.  My 
favorites are "n" and "history of micheal jordan" (from MSN's "awesome" 
new search engine).  I didn't know he was a coder! ;)

Ter
-----------------
antlr	864
antlr.jar	37
parser generator	23
pccts 22
n	21
antlr (from yahoo) 17
ntlr 17
java parser generator 16
antlr c 15
antlr download 13
parser 12
antlr grammar 11
antlr tutorial 11
antlr grammars 10
antlr parser 9
micheal jordan history 9
c# parser generator 8
c notes 8
verilog grammar
attribute grammar
lexical analysis
parser generator java
pascal test
history of micheal jordan
public domain license
antlr
web
mssql concat
tes on c
sql server minus
antlr documentation
maxdop
parsing
antlr parser generator
antlr c#
test pascal
intersect sql server
antlr.tokenstreamioexception
c# code generation
gluegen
....
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From parrt at cs.usfca.edu  Mon Feb 28 11:17:24 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Feb 28 11:10:39 2005
Subject: [antlr-interest] operating systems hitting antlr.org
Message-ID: <c7b6b80bd0c15a83948cdb9c7c8d04ca@cs.usfca.edu>

Howdy,

more stats for you.  Looks like (what a shock) windoze makes up 80% of 
the antlr users.  Linux 13% and mac os x 4%. ;)  Oh, and for good 
measure: a Windows CE person. :)

OS              visits  visitors        percent
Windows XP      14,693  3,714   57.6%
Windows NT      5,376   1,422   22.1%
Linux           4,508   866     13.4%
MacOS           1,178   239     3.7%
Windows 98      314     137     2.1%
SunOS           129     30      0.5%
Unknown OS      84      8       0.1%
Windows (Other) 51      14      0.2%
FreeBSD         32      10      0.2%
AIX             12      3       0%
Windows 2000    6       1       0%
Windows 95      4       2       0%
NetBSD          2       1       0%
Windows CE      1       1       0%

This is over 10 days again.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From parrt at cs.usfca.edu  Mon Feb 28 11:22:34 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Feb 28 11:15:49 2005
Subject: [antlr-interest] browser stats
Message-ID: <7bb54f663f897a46e21364ddeaa7977b@cs.usfca.edu>

And one final stat: browser wars.  Note that firefox has made amazingly 
fast progress in catching IE.

Ter

Browser                 Visits  Visitors Percent
------------------------------------------------
Internet Explorer 6     11,982  3,203   49.7%
Firefox                 9,806   2,224   34.5%
Mozilla/Gecko           3,594   721     11.2%
Internet Explorer 5     390     143     2.2%
Netscape 7              301     68      1.1%
Opera 7                 251     62      1%
Unknown Mozilla         28      17      0.3%
Opera 8                 20      6       0.1%
Netscape 6              16      2       0%
Unknown                 1       1       0%
Internet Explorer 4     1       1       0%

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From Loring.G.Craymer at jpl.nasa.gov  Mon Feb 28 11:34:25 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Mon Feb 28 11:34:29 2005
Subject: [antlr-interest] browser stats
In-Reply-To: <7bb54f663f897a46e21364ddeaa7977b@cs.usfca.edu>
References: <7bb54f663f897a46e21364ddeaa7977b@cs.usfca.edu>
Message-ID: <6.1.1.1.2.20050228113020.01f4a490@mail.jpl.nasa.gov>

How the mighty have fallen--Netscape is down in the noise!  I guess that 
that shows how vulnerable a buggy product is in the marketplace.

--Loring


At 11:22 AM 2/28/2005, Terence Parr wrote:
>And one final stat: browser wars.  Note that firefox has made amazingly 
>fast progress in catching IE.
>
>Ter
>
>Browser                 Visits  Visitors Percent
>------------------------------------------------
>Internet Explorer 6     11,982  3,203   49.7%
>Firefox                 9,806   2,224   34.5%
>Mozilla/Gecko           3,594   721     11.2%
>Internet Explorer 5     390     143     2.2%
>Netscape 7              301     68      1.1%
>Opera 7                 251     62      1%
>Unknown Mozilla         28      17      0.3%
>Opera 8                 20      6       0.1%
>Netscape 6              16      2       0%
>Unknown                 1       1       0%
>Internet Explorer 4     1       1       0%
>
>Ter
>--
>CS Professor & Grad Director, University of San Francisco
>Creator, ANTLR Parser Generator, http://www.antlr.org
>Cofounder, http://www.jguru.com
>
>


From scott at javadude.com  Mon Feb 28 11:50:50 2005
From: scott at javadude.com (Scott Stanchfield)
Date: Mon Feb 28 11:51:30 2005
Subject: [antlr-interest] browser stats
In-Reply-To: <7bb54f663f897a46e21364ddeaa7977b@cs.usfca.edu>
Message-ID: <20050228193619.AE8742905D2@new.knowspam.net>

Of course this is slightly skewed by the fact that only uber-geeks like the
lot of us visit ;)

-- Scott 

> -----Original Message-----
> From: antlr-interest-bounces@antlr.org 
> [mailto:antlr-interest-bounces@antlr.org] On Behalf Of Terence Parr
> Sent: Monday, February 28, 2005 2:23 PM
> To: ANTLR Interest
> Subject: [antlr-interest] browser stats
> 
> And one final stat: browser wars.  Note that firefox has made 
> amazingly fast progress in catching IE.
> 
> Ter
> 
> Browser                 Visits  Visitors Percent
> ------------------------------------------------
> Internet Explorer 6     11,982  3,203   49.7%
> Firefox                 9,806   2,224   34.5%
> Mozilla/Gecko           3,594   721     11.2%
> Internet Explorer 5     390     143     2.2%
> Netscape 7              301     68      1.1%
> Opera 7                 251     62      1%
> Unknown Mozilla         28      17      0.3%
> Opera 8                 20      6       0.1%
> Netscape 6              16      2       0%
> Unknown                 1       1       0%
> Internet Explorer 4     1       1       0%
> 
> Ter
> --
> CS Professor & Grad Director, University of San Francisco 
> Creator, ANTLR Parser Generator, http://www.antlr.org 
> Cofounder, http://www.jguru.com
> 
> 
> 




From gie at voliacable.com  Mon Feb 28 12:12:31 2005
From: gie at voliacable.com (GIE)
Date: Mon Feb 28 12:13:52 2005
Subject: [antlr-interest] Custom tokens
Message-ID: <000401c51dd2$018f18a0$5694ca55@giepc>

Hello!

How do i extend token class used by lexer to return tokens (say, to include 
file name in every such token)?

-- 
With best regards,  Igor. 

From ewbank at gmail.com  Mon Feb 28 14:30:46 2005
From: ewbank at gmail.com (Bryan Ewbank)
Date: Mon Feb 28 14:30:49 2005
Subject: [antlr-interest] label for many alternatives?
In-Reply-To: <200502280953.j1S9rMx5011301@eis-msg-012.jpl.nasa.gov>
References: <200502280031.00943.jean.morissette666@videotron.ca>
	<200502280953.j1S9rMx5011301@eis-msg-012.jpl.nasa.gov>
Message-ID: <dd3a065f050228143040a712f7@mail.gmail.com>

Can we use a syntactic predicate here?  It seems legit, but I have
trouble grokking the ANTLR gestalt.

     19 expr :
     20     atom (
     21         (PLUS | MULT) => ( .^ atom )
     22         | dummy
     23     )* EOF;
     24 
     25 atom    : ATOM;
     26
     27 // never produced - die if it's seen
     26 dummy   : DUMMY { diediedie("Dummy! Encountered DUMMY"); } ;

It looks like the generated code is correct, but I don't have time to
experiment further.

- Bryan
From parrt at cs.usfca.edu  Mon Feb 28 14:50:31 2005
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Feb 28 14:43:47 2005
Subject: [antlr-interest] label for many alternatives?
In-Reply-To: <200502280031.00943.jean.morissette666@videotron.ca>
References: <200502280031.00943.jean.morissette666@videotron.ca>
Message-ID: <f789d6b35497993595093b0b1342af5a@cs.usfca.edu>


On Feb 27, 2005, at 9:31 PM, jean.morissette666@videotron.ca wrote:

> Hi,
> I would prefer to have only one lexer rule by token, and I'm wondering 
> if it's
> possible to write something like
>
> rule :	
> expr ( op:( GT | GE | LT  | LE ) expr { anAction(op.getText()); } )*
>
> MyLexer...
>
> GT : '>' ;
> GE : ">=" ;
> LT : '<' ;
> LE : "<=" ;

Try:

rule
{
Token op = null;
}
	:	expr ( {op=LT(1);} ( GT | GE | LT  | LE ) expr { 
anAction(op.getText()); } )*	;

:)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com



From doctlo-antlr at yahoo.com  Mon Feb 28 23:24:14 2005
From: doctlo-antlr at yahoo.com (doctlo-antlr@yahoo.com)
Date: Mon Feb 28 23:26:54 2005
Subject: [antlr-interest] Problem with this antlr grammar.
In-Reply-To: <7f0c7a0ae0cfc7f561d269c0872effd5@cs.usfca.edu>
References: <7f0c7a0ae0cfc7f561d269c0872effd5@cs.usfca.edu>
Message-ID: <gp5821p53o3c68uciaipp8ojkc6eob3qvp@4ax.com>

header {
}

class MyLexer extends Lexer;
options
{
    k=3;
}
WS       : ('\n' | '\r')
              { _ttype = Token.SKIP; };
DIGIT        : '0'..'9'; 
UPPER        : 'A'..'Z';
LOWER        : 'a'..'z';
//NUMBER       : ('+'|'-')(DIGIT)+;
//REAL         : NUMBER '.' (DIGIT)*;
OPENP        : '(';
CLOSEP       : ')';
SEMI         : ';';
OPENB        : '[';
CLOSEB       : ']';
COLON        : ':';
PERIOD       : '.';
ESC          : '\\' ']';
PROP_VALUE   : OPENB ( ESC | ~']')*   CLOSEB;
PROP_IDENT   : UPPER (UPPER|DIGIT)?;

class MyParser extends Parser;
options
{
   k=3; 
}
collection   : (game_tree)+;
game_tree    : OPENP sequence (game_tree)* CLOSEP;
sequence     : (node)+ ;
node         : SEMI (property)*;
property     : PROP_IDENT  PROP_VALUE;


For some reason when I feed it the following:

(;GM[1])

line 1:3: expecting CLOSEP but found 'G'.

I have no idea why.
Can someone help?

Thanks 
T.L.Olczyk
2.7.4
From Loring.G.Craymer at jpl.nasa.gov  Mon Feb 28 23:38:20 2005
From: Loring.G.Craymer at jpl.nasa.gov (Loring Craymer)
Date: Mon Feb 28 23:38:15 2005
Subject: [antlr-interest] Problem with this antlr grammar.
In-Reply-To: <gp5821p53o3c68uciaipp8ojkc6eob3qvp@4ax.com>
Message-ID: <200503010738.j217cCx5003489@eis-msg-012.jpl.nasa.gov>

DIGIT, UPPER, LOWER, OPENB, and CLOSEB need to be "protected" so that they
can be used inside other lexer rules.  What your grammar encounters is OPENP
SEMI UPPER.

--Loring

> -----Original Message-----
> From: antlr-interest-bounces@antlr.org [mailto:antlr-interest-
> bounces@antlr.org] On Behalf Of doctlo-antlr@yahoo.com
> Sent: Monday, February 28, 2005 11:24 PM
> To: ANTLR Interest
> Subject: [antlr-interest] Problem with this antlr grammar.
> 
> header {
> }
> 
> class MyLexer extends Lexer;
> options
> {
>     k=3;
> }
> WS       : ('\n' | '\r')
>               { _ttype = Token.SKIP; };
> DIGIT        : '0'..'9';
> UPPER        : 'A'..'Z';
> LOWER        : 'a'..'z';
> //NUMBER       : ('+'|'-')(DIGIT)+;
> //REAL         : NUMBER '.' (DIGIT)*;
> OPENP        : '(';
> CLOSEP       : ')';
> SEMI         : ';';
> OPENB        : '[';
> CLOSEB       : ']';
> COLON        : ':';
> PERIOD       : '.';
> ESC          : '\\' ']';
> PROP_VALUE   : OPENB ( ESC | ~']')*   CLOSEB;
> PROP_IDENT   : UPPER (UPPER|DIGIT)?;
> 
> class MyParser extends Parser;
> options
> {
>    k=3;
> }
> collection   : (game_tree)+;
> game_tree    : OPENP sequence (game_tree)* CLOSEP;
> sequence     : (node)+ ;
> node         : SEMI (property)*;
> property     : PROP_IDENT  PROP_VALUE;
> 
> 
> For some reason when I feed it the following:
> 
> (;GM[1])
> 
> line 1:3: expecting CLOSEP but found 'G'.
> 
> I have no idea why.
> Can someone help?
> 
> Thanks
> T.L.Olczyk
> 2.7.4

