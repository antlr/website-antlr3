From meta.logix at pandora.be  Tue Jan  1 06:20:40 2002
From: meta.logix at pandora.be (isabellemus)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: More VC++ 6 Confusion (MFC libs)
In-Reply-To: <a0qtn4+4lip@eGroups.com>
Message-ID: <a0sgjo+nnpm@eGroups.com>

The import/export declaration isn't that hard (see below)

#if defined(WIN32) && defined(_MSC_VER)
  #if defined(BUILD_ANTLR_DLL)
    #define DllImpExp __declspec(dllexport)
  #else
    #define DllImpExp __declspec(dllimport)
  #endif /* BUILD_ANTLR_DLL */
#else  /* WIN32 && _MSC_VER */
  #define DllImpExp 
#endif

where BUILD_ANTLR_DLL should be defined when building the DLL. The 
pain is modifying the class declarations you want exported to

DllImpExp MyClass {} ;

Isabelle

--- In antlr-interest@y..., "jsrs701" <jsrs701@y...> wrote:
> --- In antlr-interest@y..., "isabellemus" <meta.logix@p...> wrote:
> > Hi,
> > 
> > Try using the static antlr library, works for me (use the LIB 
> project 
> > in MSCV6-dll directory).
> > 
> > I have a different problem with using the dll : I cannot get MSVC 
> to 
> > generate an import library (don't have a .def file), and cannot 
> find 
> > any export declarations in the source. 
> > 
> > Isabelle
> 
> The import library issue is a messy one.  In one of the contrib 
items 
> for building an ANTLR DLL, it mentions a replacement file 
> (config.hpp) that contains a macro called DLLEXPORT.  
Unfortunately, 
> I can't find any trace of this file, nor the macro.  Hm.
> 
> You probably don't want to do a .def file, though, since you'll 
have 
> to deal with the messy C++ munged symbols.  Ugh.  Better to stick 
> with the dllimport and dllexport declspecs on the classes 
themselves.
> 
> On second thought, anybody know where that config.hpp file got off 
> to?  Ter, Ric?  It's the file Michael Richter mentions in his 
README.
> 
> JSRS


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From malitrait at start.com.au  Tue Jan  1 10:02:10 2002
From: malitrait at start.com.au (kemmerzehl)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: More VC++ 6 Confusion (MFC libs)
In-Reply-To: <a0n23e+64b5@eGroups.com>
Message-ID: <a0stj2+ff01@eGroups.com>

The problem I had was actually incredibly simple, and I do feel a 
little silly now. The project files JSRS posted were using the single 
thread runtime libraries to build the antlr lib, and this was fine 
for projects NOT using MFC because by default they are also use the 
single thread runtime libraries. When I create a project with MFC 
support, however, it switches to using the multi thread runtime 
libraries. Trying to link these with the single threaded antlr 
library was causing all sorts of compatibility problems. Building 
another set of the antlr libs using the /MT and /MTd (instead of /ML 
and /MLd) flags to link with projects using the multithreaded runtime 
libraries solved the problem.
Simple.
..and luckily i didnt rip ALL of my hair out.

Thanks for your input and I apoligise for confusing you all with such 
a simple issue.
-Kemmerzehl

--- In antlr-interest@y..., "kemmerzehl" <malitrait@s...> wrote:
> Hi,
>   I do hate to add to your list of confused VC++ user messages but 
> I've followed the steps from your existing discussions/literature 
and 
> I'm still having some problems. It appears this particular issue 
has 
> not yet been addressed although it seems like it would be a 
> common problem so I do apologise if I've missed something.
>   Anyway, here's the problem. Quite simply, the ANTLR and MFC libs 
> just wont work for me together - I get link errors. I've built my 
> ANTLR lib files according to JSRS's 'How To', and by themselves 
they 
> work well. If I use VC++ to create a 'Win32 Console Application' 
and 
> do NOT include MFC support, then add the generated calc example 
files 
> and add the ANTLR library, everything compiles links and runs fine. 
> If, however, I do the same thing only I DO include MFC support (and 
> remembering to take off the /Yu"stdafx.h" flag), I get the 
following 
> link errors:
> 
> LIBC.lib(cfout.obj) : error LNK2005: ___dtold already defined in 
> libcmt.lib(cfout.obj)
> LIBC.lib(crt0dat.obj) : error LNK2005: __cinit already defined in 
> libcmt.lib(crt0dat.obj)
> LIBC.lib(crt0dat.obj) : error LNK2005: _exit already defined in 
> libcmt.lib(crt0dat.obj)
> LIBC.lib(crt0dat.obj) : error LNK2005: __exit already defined in 
> libcmt.lib(crt0dat.obj)
> LIBC.lib(crt0dat.obj) : error LNK2005: __cexit already defined in 
> libcmt.lib(crt0dat.obj)
> ..etc.
> 
>   One rather odd thing is that I can get the _debug_ build to work
> (for the calc example) if I link statically to MFC and use the /MT 
> flag instead of /MTd(default for debug builds). These flags 
represent 
> the "Multithreaded" and "Debug Multithreaded" runtime libraries, 
> available in the "Code Generation" dropdown section of the "C++" 
tab 
> in Project -> Settings. This however does not fix the problem for 
the 
> release build, I even tried using JSRS's debug version of the ANTLR 
> library with the release build (using /MT) and I still got link 
> errors. Also, I could not get rid of the link errors at all for the 
> project im working on (with either build).
>   All of this is purely trial and error for me as I've never had to 
> deal with third-party libraries before. I hope some of the info 
I've 
> provided can be of use and that somebody out there has experienced 
> this linking problem before and knows how to fix it. Either way, 
I'm 
> going to keep ripping my hair out trying to fix it, if I find a 
> solution I'll post it.
> 
> Thanks,
> -Kemmerzehl


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Tue Jan  1 12:06:52 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: More VC++ 6 Confusion (MFC libs)
In-Reply-To: <a0stj2+ff01@eGroups.com>
Message-ID: <18926714-FEF3-11D5-9D27-0030653DE0D6@jguru.com>


On Tuesday, January 1, 2002, at 10:02  AM, kemmerzehl wrote:

> The problem I had was actually incredibly simple, and I do feel a
> little silly now. The project files JSRS posted were using the single
> thread runtime libraries to build the antlr lib, and this was fine
> for projects NOT using MFC because by default they are also use the
> single thread runtime libraries. When I create a project with MFC
> support, however, it switches to using the multi thread runtime
> libraries. Trying to link these with the single threaded antlr
> library was causing all sorts of compatibility problems. Building
> another set of the antlr libs using the /MT and /MTd (instead of /ML
> and /MLd) flags to link with projects using the multithreaded runtime
> libraries solved the problem.
> Simple.
> ..and luckily i didnt rip ALL of my hair out.

Can anybody summarize the changes to the FAQ I should make?

http://www.jguru.com/faq/view.jsp?EID=203548

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Wed Jan  2 07:03:47 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: Lexer problem
Message-ID: <170826586F3BD511910D0200C110AAA801C58144@memail03.bco-home.com>

Yes try something like this:

( ".a" | (".a.a")=>".a.a" | ".b" | 'a' | 'c' )

Read the docs and look at the generated code to understand what it does.

Monty

> -----Original Message-----
> From: manfredlotz [mailto:Manfred.Lotz@web.de]
> Sent: Saturday, December 29, 2001 1:09 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: Lexer problem
> 
> 
> After scanning ".a." the lexer seems to think it has to be ",a,a". 
> After finding 'b' it says unexpected char. 
> 
> Can a syntactic predicate help. I have to admit that I didn't
> understand exactly what it is and what it can do for me. 
> 
> 
> 
> Manfred
>  
> 
> --- In antlr-interest@y..., mzukowski@b... wrote:
> > Take a look at the generated code.  Can you see why it doesn't work?
>  You
> > may need to use a syntactic predicate in front of ".a.a".
> > 
> > Monty
> > 
> > > -----Original Message-----
> > > From: manfredlotz [mailto:Manfred.Lotz@w...]
> > > Sent: Thursday, December 27, 2001 9:41 PM
> > > To: antlr-interest@y...
> > > Subject: [antlr-interest] Lexer problem
> > > 
> > > 
> > > Using the definiton shown below the lexer has a problem to
> recognize
> > > tokens if they arrive in a certain order. 
> > > 
> > > E.g.,  ".a.a.b$" or ".ac$" work fine, however ".a.b$" does not.
> > > 
> > > Any idea what I have to change to make it working. I know it has
> to do
> > > with the fact that ".a" is a substring of ".a.a" but I don't know
> how
> > > to improve the t.g file.
> > > 
> > > Manfred
> > > _____________________
> > > 
> > > class TLexer extends Lexer;
> > > options {
> > >         k=4;
> > >         filter=IGNORE;
> > > }
> > > 
> > > MYENDTOKEN   : '$' ;
> > > 
> > > A       :   ( ".a" | ".a.a" | ".b" | 'a' | 'c' )  ;
> > > 
> > > protected
> > > IGNORE  : ( "\r\n" | '\r' | '\n'  ) { _ttype = Token.SKIP; };
> > > 
> > > 
> > >  
> > > 
> > > Your use of Yahoo! Groups is subject to 
> > http://docs.yahoo.com/info/terms/
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Manfred.Lotz at web.de  Wed Jan  2 11:12:35 2002
From: Manfred.Lotz at web.de (manfredlotz)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: Lexer problem
In-Reply-To: <170826586F3BD511910D0200C110AAA801C58144@memail03.bco-home.com>
Message-ID: <a0vm33+vj2u@eGroups.com>

--- In antlr-interest@y..., mzukowski@b... wrote:
> Yes try something like this:
> 
> ( ".a" | (".a.a")=>".a.a" | ".b" | 'a' | 'c' )
> 
> Read the docs and look at the generated code to understand what it
does.
> 
> Monty

Hi Monty,

Your suggestion was great. 

That did the trick. Now the lexer is able to scan a ".a.b" as well as
".a.a". 

I read the docs. My understanding is that the syntactic predicate
gives the lexer a way to backtrack if it is on a wrong path like after
".a." where there is no 'a' but a 'b'.


Best,
Manfred


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Thu Jan  3 02:01:39 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: More VC++ 6 Confusion (MFC libs)
In-Reply-To: <a0qtn4+4lip@eGroups.com>; from jsrs701@yahoo.com on Mon, Dec 31, 2001 at 11:52:04PM -0000
References: <a0nhh5+otua@eGroups.com> <a0qtn4+4lip@eGroups.com>
Message-ID: <20020103110139.E2721@cs.utwente.nl>

Hi,

On Mon, Dec 31, 2001 at 11:52:04PM -0000, jsrs701 wrote:
> > I have a different problem with using the dll : I cannot get MSVC to 
> > generate an import library (don't have a .def file), and cannot find 
> > any export declarations in the source. 
> > 
> > Isabelle

> The import library issue is a messy one.  In one of the contrib items 
> for building an ANTLR DLL, it mentions a replacement file 
> (config.hpp) that contains a macro called DLLEXPORT.  Unfortunately, 
> I can't find any trace of this file, nor the macro.  Hm.

The DLL export stuff is already in antlr-2.7.2a1. It's only called
ANTLR_API now (used a different patch than the one in contrib).

> You probably don't want to do a .def file, though, since you'll have 
> to deal with the messy C++ munged symbols.  Ugh.  Better to stick 
> with the dllimport and dllexport declspecs on the classes themselves.
> 
> On second thought, anybody know where that config.hpp file got off 
> to?  Ter, Ric?  It's the file Michael Richter mentions in his README.

Hmmm strange I cannot recall removing the file. Then again I had planned on
including the DLL build in 2.7.2. That was before running into a whole lot
of trouble with MSVC6. It really barfs on a dll build. 

It refuses to compile/link. My impression (going on the fuzzy error
messages it is giving) is that it does not support linking STL stuff into
DLL's (can this be true?? at least I'm missing the dllexport stuff in the
stl headers..)?? 

Doing explicit instantiations ala (with some msvc extension):

#if defined(_MSC_VER) && !defined(__ICL) // Microsoft Visual C++
extern template class ANTLR_API ANTLR_USE_NAMESPACE(std)vector<int>;
#endif

Seems not to work?

I'm not a MSVC expert so I'm hoping some more knowledgeable MSVC6 hacker
may want to fix the toplevel .dsw .dsp files. It may require adding a few
directories to the lib/cpp tree for the .dll and the .lib build.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Time what is time - I wish I knew how to tell You why - It hurts to know -
          Aren't we machines - Time what is time - Unlock the door
               - And see the truth - Then time is time again
                From: 'Time what is Time' by Blind Guardian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From stdiobe at enneya.com  Thu Jan  3 00:10:28 2002
From: stdiobe at enneya.com (Stdiobe)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] suggestions for 2.7.2
Message-ID: <001201c1942e$1ca11610$0100a8c0@daemon>


Hi Ter,

in a message on jguru.com you asked for suggestions for 2.7.2.
Well .... here are my suggestions (hope you don't mind I use
yahoo instead of jguru; I prefer email).

* With antlr you specify a lookahead for the complete grammar;
it is not possible to specify a lookahead per (sub)rule. I believe
javacc does support this, and I think it would be great if antlr
would allow different lookaheads on (sub)rule basis.
(That would eliminate many of the syntactic predicates I have
to use now).

   e.g.   myrule {options k=4;} :  A B C D | A B C E ;

* it used to be possible to have multiple lexers and parsers in
one grammar file. But that has been disabled (for whatever reason).
It would be great if this was enabled again, cause now i have to
put lexers in multiple grammar files (antlr doesn't support states, so
I need multiple lexers).

* as said in previous point, the lexer in antlr doesn't support
lexical states; the alternative is to use multiple lexers.
However, now I have to duplicate several lexer rules accross
different lexers; that's not a good thing!
Now, if it were possible to specify semantic predicates with
the "highest" lexer rules (the ones that match a complete token),
then I could mimic lexer states using semantic predicates!
That would be a great improvement, e.g.

    TOKEN_A  :  (mystate == 1)? "a" ;
    TOKEN_A2 : (mystate == 2)? "a" ;

* another problem with lexers in antlr is the fact that I have to
combine conflicting rules into a common rule and use setType
to return the correct token.
Couldn't it be possible to specify syntactic predicates with the
"highest" lexer rules (the ones that match a complete token).
The first lexer rule would be tried first, and then the next one, etc.
(similar to multiple sub-rules with syntactic predicates).
That way I could keep my lexer a lot more readable/maintainable.

e.g.
    TOKEN_FLOAT: (INT '.')=> INT '.' INT ;
    TOKEN_INTEGER:  INT ;

* with grammar inheritance it is possible to redefine a rule, but
as far as I know it is not possible to extend a rule without having
to repeat it's contents.
e.g    myRule : super.myRule | someExtraRule ;

* when using grammar inheritance I have to specify all base
grammars on the command line. It would be nice if I could
specificy a list of search directories instead. (easier to manage)

* the java code of the antlr parser generator is mixed with the
java code for the antlr runtime. It would be GREAT if you
could move the runtime classes to a separate package so there
is a clear distinction between runtime antlr classes and parser
generator classes.

* although resolving conflicts in antlr is a lot easier than in yacc,
it can still be difficult to understand why a conflict occurs.
It would be great if antlr would report the two different derivations
that conflict (and not only the rule where the conflict occurs).

* it would be nice if antlr would generate a _nextToken() function
instead of nextToken(). The default implementation of nextToken() would
just call _nextToken(), but I would have the possibility of redefining
the nextToken() function.

* I use {options greedy=true} a lot; can't you introduce a special
symbol for this construct? e.g. [a]?  or  [a]* where the brackets
indicate greedy (or something like that)

* why do I have to make all keywords lower case when specifying
that a parser is case-insensitive? For certain languages it is more
intuitive to put upper-case keywords in the grammar (e.g. COBOL).
It would be nice if case-insensitive would also apply to the keywords
I put in the grammar myself.

* i have several parsers, and each parser defines some common
support methods/functions. Currently these functions are duplicated
between the parsers. I tried to put them in a common class
and derive my parsers from this common class, but antlr insists
that i defined this common class in a .g file; it can't be a plain java
class (that extends class LLkParser).
It would be nice if I could derive my parsers from my own
parser class; not only from an antlr generated parser class.

* a nice feature I found in a different tool was the concept of defining
parser rules for "hidden" tokens. This can be used to parse
preprocessor statements, like (#include or COPY in cobol) by
specifying special grammar rules in the parser.
The concept is simple: hidden tokens are ignored unless there
are "special" rules that matche them.
(I'm not sure how this could be integrated in antlr, but I liked the
concept).

* finally, I understand that the way you combine lookahead sets
can cause incorrect parsers (I experienced that just a week ago ...).
It would be nice if I could overrule the "merging of lookahead sets"
for specific rules.

Kind greetings, Stdiobe




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Thu Jan  3 01:31:51 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: ANTLR 2.7.2a1 alpha/test release out!
In-Reply-To: <3C2F7F9B.3080002@teststep.org>; from Michael.Schmitt@teststep.org on Sun, Dec 30, 2001 at 09:56:59PM +0100
References: <3C2F7F9B.3080002@teststep.org>
Message-ID: <20020103103150.B2721@cs.utwente.nl>

Hi,

On Sun, Dec 30, 2001 at 09:56:59PM +0100, Michael Schmitt wrote:
> after a second glance I can tell you that my SDL-2000 parser (C++ 
> version) compiles and runs with 2.7.2a1! (Except for the problem with 
> "-pendantic" and "-ansi" reported before, and the need to change a few 
> lines concerning AST factory).

Ack! I'll try with 2.95.3 and those flags here on solaris. Probably some
trivial stuff.

> Ric, didn't you say you improved code generation? For my parser, source 
> code size has not changed significantly.

I dropped a lot of those things since they didn't work 100% and fixing them
took me too much time. I have some thoughts on reimplementing a few bits of
the codegenerator (output writing) after that I'll put them back. I give no
timeframe for that though...

> Nevertheless, 2.7.2 looks good!

Good to hear it =)

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Why don't we just invite them to dinner and massacre them all when they're
  drunk? You heard the man. There's seven hundred thousand of them. Ah? ..
           So it'd have to be something simple with pasta, then.
                 From: Interesting Times by Terry Pratchet


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From benjamin.reschke at motorola.com  Wed Jan  2 14:18:18 2002
From: benjamin.reschke at motorola.com (Benjamin Reschke)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Help need with 2.7.2a1
References: <1E1573E7-FE26-11D5-9D27-0030653DE0D6@jguru.com>
Message-ID: <015a01c193db$617fa240$5565ee0a@asc.corp.mot.com>

Yeap you are right I just set my CLASSPATH to the ANTLR class files
directory and bingo it works :)

Thanks
Ben

----- Original Message -----
From: "Terence Parr" <parrt@jguru.com>
To: <antlr-interest@yahoogroups.com>
Sent: Tuesday, January 01, 2002 6:09 AM
Subject: Re: [antlr-interest] Help need with 2.7.2a1


> Hi.  Looks like a classpath issue.  First make sure 2.7.1 is not in your
> classpath anymore.  Then note that antlr.jar is for runtime only not
> building stuff.  So, you'll either need to make a jar of all class files
> or point at the antlr install dir for building .g files. :)
>
> Ter
>
> On Sunday, December 30, 2001, at 07:00  PM, Benjamin Reschke wrote:
>
> > I have recently downloaded the 2.7.2 Alpha 1 release for use in my
> > software. I had no trouble compiling the C++ library with gcc -2.95.2.
> > I then ran antlr.Tool over my grammar files and got the following
> > message:
> >
> > <font size=2><pre>
> > ======== Rebuilding "cdfParser.cpp" ========<br>
> > /app/jdk-1.2.2/bin/java antlr.Tool cdf.g<br>
> > Exception in thread "main" java.lang.NoClassDefFoundError:
> > antlr/Tool<br>
> > *** Error code 1<br>
> > clearmake: Error: Build script failed for "cdfParser.cpp"<br>
> > ========================================================<br>
> > </pre></font>
> >
> > So I thought I need to recompile the jar ANTLR jar files. But to no
> > avail, I received compile errors:
> >
> > The following are when compiling the target 'antlrall.jar':
> >
> > <font size=2><pre>
> > Building antlr/ANTLRLexer.java<br>
> > /app/jdk-1.2.2/bin/javac antlr/ANTLRLexer.java<br>
> > antlr/ANTLRLexer.java:1151: Undefined variable or class name:
> > StringUtils<br>
> >
> > setText(StringUtils.stripFrontBack(getText(), "[", "]"));<br>
> > ^<br>
> > antlr/ANTLRLexer.java:1276: Undefined variable or class name:
> > StringUtils<br>
> >
> > setText(StringUtils.stripFrontBack(getText(), "{", "}"));<br>
> > ^<br>
> > antlr/ANTLRLexer.java:1279: Undefined variable or class name:
> > StringUtils<br>
> >
> > setText(StringUtils.stripFrontBack(getText(), "{", "}?"));<br>
> > ^<br>
> > 3 errors<br>
> > gmake: *** [antlr/ANTLRLexer.class] Error 1<br>
> > </pre></font>
> >
> > And then the following when building the target 'antlr.jar':
> >
> > <font size=2><pre>
> > Building antlr/DefineGrammarSymbols.java<br>
> > /app/jdk-1.2.2/bin/javac antlr/DefineGrammarSymbols.java<br>
> > antlr/DefineGrammarSymbols.java:20: class antlr.DefineGrammarSymbols
> > must be declared abstract. It does not define void
> > beginSubRule(antlr.Token, int, boolean) from interface
> > antlr.ANTLRGrammarParseBehavior.<br>
> > public class DefineGrammarSymbols implements ANTLRGrammarParseBehavior
> > {<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:20: class antlr.DefineGrammarSymbols
> > must be declared abstract. It does not define void beginTree(int) from
> > interface antlr.ANTLRGrammarParseBehavior.<br>
> > public class DefineGrammarSymbols implements ANTLRGrammarParseBehavior
> > {<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:129: Method
> > encodeLexerRuleName(java.lang.String) not found in class
> > antlr.CodeGenerator.<br>
> > id = CodeGenerator.encodeLexerRuleName(id);<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:145: Wrong number of arguments in
> > method.<br>
> > tool.error("redefinition of rule " + id,
> > grammar.getFilename(), r.getLine(), r.getColumn());<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:180: Wrong number of arguments in
> > method.<br>
> > tool.warning("Redefinition of literal in
> > tokens {...}: " + literal, grammar.getFilename(), tokliteral.getLine(),
> > tokliteral.getColumn());<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:198: Wrong number of arguments in
> > method.<br>
> > tool.warning("Redefinition of token in
> > tokens {...}: " + name, grammar.getFilename(), tokliteral.getLine(),
> > tokliteral.getColumn());<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:234: Wrong number of arguments in
> > method.<br>
> > tool.warning("Redefinition of token in
> > tokens {...}: " + name, grammar.getFilename(), tokname.getLine(),
> > tokname.getColumn());<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:454: Undefined variable or class name:
> > StringUtils<br>
> > key = StringUtils.stripFrontBack(name.getText(), "\"",
> > "\"");<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:497: Method
> > encodeLexerRuleName(java.lang.String) not found in class
> > antlr.CodeGenerator.<br>
> > id = CodeGenerator.encodeLexerRuleName(id);<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:565: Undefined variable or class name:
> > StringUtils<br>
> > language =
> > StringUtils.stripBack(StringUtils.stripFront(value.getText(), '"'),
> > '"');<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:571: Wrong number of arguments in
> > method.<br>
> > tool.error("language option must be string or
> > identifier", filename, value.getLine(), value.getColumn());<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:576: Undefined variable or class name:
> > StringUtils<br>
> > tool.literalsPrefix =
> > StringUtils.stripFrontBack(value.getText(), "\"", "\"");<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:579: Wrong number of arguments in
> > method.<br>
> > tool.error("mangleLiteralPrefix option must be string",
> > filename, value.getLine(), value.getColumn());<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:590: Wrong number of arguments in
> > method.<br>
> > grammar.tool.error("Value for upperCaseMangledLiterals
> > must be true or false", filename, key.getLine(), key.getColumn());<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:598: Wrong number of arguments in
> > method.<br>
> > tool.error(key.getText() + " option only valid for
> > C++", filename, key.getLine(), key.getColumn());<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:603: Wrong number of arguments in
> > method.<br>
> > tool.error("genHashLines option must be true or
> > false", filename, value.getLine(), value.getColumn());<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:608: Wrong number of arguments in
> > method.<br>
> > tool.error(key.getText() + " option must be a
> > string", filename, value.getLine(), value.getColumn());<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:622: Wrong number of arguments in
> > method.<br>
> > tool.error("Invalid file-level option: " + key.getText(),
> > filename, key.getLine(), value.getColumn());<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:633: Wrong number of arguments in
> > method.<br>
> > tool.error("tokdef/tokenVocabulary options are invalid >=
> > ANTLR 2.6.0.\n" +<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:641: Wrong number of arguments in
> > method.<br>
> > tool.error("the literal option is invalid >= ANTLR
> > 2.6.0.\n" +<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:651: Wrong number of arguments in
> > method.<br>
> > tool.error("exportVocab must be an identifier",
> > grammar.getFilename(), value.getLine(), value.getColumn());<br>
> > ^<br>
> > antlr/DefineGrammarSymbols.java:659: Wrong number of arguments in
> > method.<br>
> > tool.error("importVocab must be an identifier",
> > grammar.getFilename(), value.getLine(), value.getColumn());<br>
> > ^<br>
> > 22 errors<br>
> > gmake: *** [antlr/DefineGrammarSymbols.class] Error 1<br>
> > </pre></font>
> >
> >
> > Any help would be appreicated. Please not my knowledge of the Java
> > language is a bit limited
> >
> > Thanks
> > Ben
> >
> >
> > Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
> --
> Chief Scientist & Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Thu Jan  3 01:43:38 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Help need with 2.7.2a1
In-Reply-To: <03e501c191a7$50c7c580$5565ee0a@asc.corp.mot.com>; from benjamin.reschke@motorola.com on Mon, Dec 31, 2001 at 01:30:33PM +1030
References: <03e501c191a7$50c7c580$5565ee0a@asc.corp.mot.com>
Message-ID: <20020103104338.C2721@cs.utwente.nl>

Hi,

On Mon, Dec 31, 2001 at 01:30:33PM +1030, Benjamin Reschke wrote:
> I have recently downloaded the 2.7.2 Alpha 1 release for use in my
> software. I had no trouble compiling the C++ library with gcc -2.95.2. I
> then ran antlr.Tool over my grammar files and got the following message:

You went the path with configure and make install ? If so you should have a
antlr script in <prefix>/bin/ that runs the tool and takes care of setting
the classpath.

Hmmm I now see that I didn't put in a default of the root antlr directory
for building... Should fix that I guess..

Make sure you set the CLASSPATH variable to the root of the antlr
distribution. e.g. to the directory containing the configure script.

Good luck,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Why don't we just invite them to dinner and massacre them all when they're
  drunk? You heard the man. There's seven hundred thousand of them. Ah? ..
           So it'd have to be something simple with pasta, then.
                 From: Interesting Times by Terry Pratchet


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Thu Jan  3 11:02:25 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] suggestions for 2.7.2
Message-ID: <170826586F3BD511910D0200C110AAA801C5814E@memail03.bco-home.com>

> * why do I have to make all keywords lower case when specifying
> that a parser is case-insensitive? For certain languages it is more
> intuitive to put upper-case keywords in the grammar (e.g. COBOL).
> It would be nice if case-insensitive would also apply to the keywords
> I put in the grammar myself.

This bug should be fixed in the alpha release.  

Monty

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Jan  3 15:06:07 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] might be an interruption in service to antlr.org
Message-ID: <77EAC0CA-009E-11D6-9D27-0030653DE0D6@jguru.com>

Folks,

Moving hardware around here at jGuru and might have to interrupt 
antlr.org site for a bit over next day or so.

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From bob at werken.com  Thu Jan  3 21:28:11 2002
From: bob at werken.com (bob mcwhirter)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] suggestions for 2.7.2
In-Reply-To: <001201c1942e$1ca11610$0100a8c0@daemon>
Message-ID: <Pine.LNX.3.96.1020104002701.11434B-100000@exeter.exeter.org>

> * it would be nice if antlr would generate a _nextToken() function
> instead of nextToken(). The default implementation of nextToken() would
> just call _nextToken(), but I would have the possibility of redefining
> the nextToken() function.

You can subclass the generated lexer and override nextToken() yourself,
calling super.nextToken() to pass along the love.

	-bob


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From stdiobe at enneya.com  Thu Jan  3 23:50:23 2002
From: stdiobe at enneya.com (stdiobe)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: suggestions for 2.7.2
In-Reply-To: <Pine.LNX.3.96.1020104002701.11434B-100000@exeter.exeter.org>
Message-ID: <a13mrv+ms1s@eGroups.com>

--- In antlr-interest@y..., bob mcwhirter <bob@w...> wrote:
> > * it would be nice if antlr would generate a _nextToken() 
> > function instead of nextToken(). The default implementation 
> > of nextToken() would just call _nextToken(), but I would 
> > have the possibility of redefining the nextToken() function.
> 
> You can subclass the generated lexer and override nextToken()
> yourself, calling super.nextToken() to pass along the love.

Bob, you're right, but having only one lexer definition to
maintain is easier than having to maintain two lexer definitions
(and we have to maintain several parsers and even more lexers, 
so such simple things become an issue. p.s. we're also using
DOM4J to build the AST's!).

Stdiobe



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Fri Jan  4 05:01:15 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: ANTLR 2.7.2a1 alpha/test release out!
In-Reply-To: <3C2E3695.60509@teststep.org>; from Michael.Schmitt@teststep.org on Sat, Dec 29, 2001 at 10:33:09PM +0100
References: <3C2E3695.60509@teststep.org>
Message-ID: <20020104140115.W2721@cs.utwente.nl>

On Sat, Dec 29, 2001 at 10:33:09PM +0100, Michael Schmitt wrote:
> I had a quick glance at 2.7.2a1 and what I can say for the moment is 
> that the C++ sources cannot be compiled with gcc-2.95.3/Linux and 
> options "-pedantic -ansi".

Fixed in repository. Here's a diff:

==== //depot/code/org.antlr/main/main/lib/cpp/antlr/config.hpp#9 (ktext) ====

@@ -223,10 +223,15 @@
 #	 define ANTLR_USING_NAMESPACE(_x_)
 #	 undef ANTLR_CXX_SUPPORTS_NAMESPACE 
 #	endif	
-#	if (__GNUC_MINOR > 8 && __GNUC_MINOR__ <= 95 )
+#	if (__GNUC_MINOR__ > 8 && __GNUC_MINOR__ <= 95 )
 #	  undef ANTLR_IOS_BASE
 #	  define ANTLR_IOS_BASE ios
 #	  undef ANTLR_CCTYPE_NEEDS_STD
+// compiling with -ansi ?
+#	  ifdef __STRICT_ANSI__
+#		undef ANTLR_REALLY_NO_STRCASECMP
+#		define ANTLR_REALLY_NO_STRCASECMP
+#	  endif
 #	else
 // experimental .96 .97 branches..
 #	 undef ANTLR_CCTYPE_NEEDS_STD

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
Wit is cultured insolence. --- Aristotle


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From trey.spiva at embarcadero.com  Fri Jan  4 07:03:31 2002
From: trey.spiva at embarcadero.com (treyspiva)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Error Handling
Message-ID: <a14g83+uiho@eGroups.com>

I have noticed that Antlr will produce token sets that can be when 
recovering from errors.  I will like to add my own error handling 
however, I would like to use the token sets to recover from errors.  

Is there a way to know what rules the token sets represents?  Also, 
when I add the exception code for a rule does antlr still produce the 
token sets for the rule?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From trey.spiva at embarcadero.com  Fri Jan  4 07:08:39 2002
From: trey.spiva at embarcadero.com (treyspiva)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Stream Positions
Message-ID: <a14ghn+f1b9@eGroups.com>

I have modified the C++ code to emit the starting stream position of 
a token.  I found the stream position very usiful.  I was wondering 
if I can get this into the C++ build.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From meta.logix at pandora.be  Fri Jan  4 13:24:52 2002
From: meta.logix at pandora.be (isabellemus)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: More VC++ 6 Confusion (MFC libs)
In-Reply-To: <20020103110139.E2721@cs.utwente.nl>
Message-ID: <a156j4+8qmh@eGroups.com>

Hi,

Concerning stl in dll builds : in MSVC, template classes should 
completely be defined in headers (i.e. everything inline). This is 
what stl does.
So the actual template expansion will be done when someone (either 
building the dll or trying to use it) includes the dll's headers. So 
I don't think stl is the problem.
The 2.7.2a1 sources don't compile at all, though. I spent an hour 
trying to figure out what's wrong, and failed. The preprocessor 
output looks OK, the macros look OK, and MSVC complains about every 
single class.

Isabelle

--- In antlr-interest@y..., Ric Klaren <klaren@c...> wrote:
> Hi,
> 
> On Mon, Dec 31, 2001 at 11:52:04PM -0000, jsrs701 wrote:
> > > I have a different problem with using the dll : I cannot get 
MSVC to 
> > > generate an import library (don't have a .def file), and cannot 
find 
> > > any export declarations in the source. 
> > > 
> > > Isabelle
> 
> > The import library issue is a messy one.  In one of the contrib 
items 
> > for building an ANTLR DLL, it mentions a replacement file 
> > (config.hpp) that contains a macro called DLLEXPORT.  
Unfortunately, 
> > I can't find any trace of this file, nor the macro.  Hm.
> 
> The DLL export stuff is already in antlr-2.7.2a1. It's only called
> ANTLR_API now (used a different patch than the one in contrib).
> 
> > You probably don't want to do a .def file, though, since you'll 
have 
> > to deal with the messy C++ munged symbols.  Ugh.  Better to stick 
> > with the dllimport and dllexport declspecs on the classes 
themselves.
> > 
> > On second thought, anybody know where that config.hpp file got 
off 
> > to?  Ter, Ric?  It's the file Michael Richter mentions in his 
README.
> 
> Hmmm strange I cannot recall removing the file. Then again I had 
planned on
> including the DLL build in 2.7.2. That was before running into a 
whole lot
> of trouble with MSVC6. It really barfs on a dll build. 
> 
> It refuses to compile/link. My impression (going on the fuzzy error
> messages it is giving) is that it does not support linking STL 
stuff into
> DLL's (can this be true?? at least I'm missing the dllexport stuff 
in the
> stl headers..)?? 
> 
> Doing explicit instantiations ala (with some msvc extension):
> 
> #if defined(_MSC_VER) && !defined(__ICL) // Microsoft Visual C++
> extern template class ANTLR_API ANTLR_USE_NAMESPACE(std)vector<int>;
> #endif
> 
> Seems not to work?
> 
> I'm not a MSVC expert so I'm hoping some more knowledgeable MSVC6 
hacker
> may want to fix the toplevel .dsw .dsp files. It may require adding 
a few
> directories to the lib/cpp tree for the .dll and the .lib build.
> 
> Cheers,
> 
> Ric
> --
> -----
+++++*****************************************************+++++++++---
----
>     ---- Ric Klaren ----- klaren@c... ----- +31 53 4893722  ----
> -----
+++++*****************************************************+++++++++---
----
>  Time what is time - I wish I knew how to tell You why - It hurts 
to know -
>           Aren't we machines - Time what is time - Unlock the door
>                - And see the truth - Then time is time again
>                 From: 'Time what is Time' by Blind Guardian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sat Jan  5 15:35:53 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] suggestions for 2.7.2
In-Reply-To: <001201c1942e$1ca11610$0100a8c0@daemon>
Message-ID: <F54D257F-0234-11D6-9D27-0030653DE0D6@jguru.com>


On Thursday, January 3, 2002, at 12:10  AM, Stdiobe wrote:

>
> Hi Ter,
>
> in a message on jguru.com you asked for suggestions for 2.7.2.
> Well .... here are my suggestions (hope you don't mind I use
> yahoo instead of jguru; I prefer email).
>
> * With antlr you specify a lookahead for the complete grammar;
> it is not possible to specify a lookahead per (sub)rule. I believe
> javacc does support this, and I think it would be great if antlr
> would allow different lookaheads on (sub)rule basis.
> (That would eliminate many of the syntactic predicates I have
> to use now).
>
>    e.g.   myrule {options k=4;} :  A B C D | A B C E ;

This is an option I have considered.  It is only an optimization as 
ANTLR automatically determines the min lookahead to use (I think JavaCC 
*forces* you to specify the lookahead).

In this example, can you not set k=4 for the whole grammar?  You'll see 
in the output that k=1 is used whenever possible.

> * it used to be possible to have multiple lexers and parsers in
> one grammar file. But that has been disabled (for whatever reason).
> It would be great if this was enabled again, cause now i have to
> put lexers in multiple grammar files (antlr doesn't support states, so
> I need multiple lexers).

Streams/multiple lexers are much more powerful than lexer states.  I 
can't remember why Iimited 1 lexer to a file.  I remember there being a 
good reason though! ;)

> * as said in previous point, the lexer in antlr doesn't support
> lexical states; the alternative is to use multiple lexers.
> However, now I have to duplicate several lexer rules accross
> different lexers; that's not a good thing!

Can you subclass effectively?

> Now, if it were possible to specify semantic predicates with
> the "highest" lexer rules (the ones that match a complete token),
> then I could mimic lexer states using semantic predicates!
> That would be a great improvement, e.g.
>
>     TOKEN_A  :  (mystate == 1)? "a" ;
>     TOKEN_A2 : (mystate == 2)? "a" ;

Well, it's easy enough to just do

TOKEN_A_A2
	:	(mystate == 1)? "a"
	|	(mystate == 2)? "b"
	;

Remember thought that feedback from the parser to the lexer is often 
dangerous (specially at k>1).

> * another problem with lexers in antlr is the fact that I have to
> combine conflicting rules into a common rule and use setType
> to return the correct token.
> Couldn't it be possible to specify syntactic predicates with the
> "highest" lexer rules (the ones that match a complete token).
> The first lexer rule would be tried first, and then the next one, etc.
> (similar to multiple sub-rules with syntactic predicates).
> That way I could keep my lexer a lot more readable/maintainable.
>
> e.g.
>     TOKEN_FLOAT: (INT '.')=> INT '.' INT ;
>     TOKEN_INTEGER:  INT ;

See above solution.  BTW, you should left factor for efficiency:

TOKEN_F_I : INT ('.' INT) ;

> * with grammar inheritance it is possible to redefine a rule, but
> as far as I know it is not possible to extend a rule without having
> to repeat it's contents.
> e.g    myRule : super.myRule | someExtraRule ;

correct...decided the syntactic complexity was not worth it.

> * when using grammar inheritance I have to specify all base
> grammars on the command line. It would be nice if I could
> specificy a list of search directories instead. (easier to manage)

True.  it would be nice.

> * the java code of the antlr parser generator is mixed with the
> java code for the antlr runtime. It would be GREAT if you
> could move the runtime classes to a separate package so there
> is a clear distinction between runtime antlr classes and parser
> generator classes.

Problem is that ANTLR is written in ANTLR.  A tough proposition to pull 
the stuff apart, but better separation  would be great :)

> * although resolving conflicts in antlr is a lot easier than in yacc,
> it can still be difficult to understand why a conflict occurs.
> It would be great if antlr would report the two different derivations
> that conflict (and not only the rule where the conflict occurs).

Agreed.  I would like to see a highlighted grammar in HTML or something.

> * it would be nice if antlr would generate a _nextToken() function
> instead of nextToken(). The default implementation of nextToken() would
> just call _nextToken(), but I would have the possibility of redefining
> the nextToken() function.

super.nextToken() should work for ya.

> * I use {options greedy=true} a lot; can't you introduce a special
> symbol for this construct? e.g. [a]?  or  [a]* where the brackets
> indicate greedy (or something like that)

Well, in all of my grammars I have not needed that much since it is the 
default behavior (in that case it only shuts off a warning message).  
Are you sure your grammars are clean as you can make them?

> * i have several parsers, and each parser defines some common
> support methods/functions. Currently these functions are duplicated
> between the parsers. I tried to put them in a common class
> and derive my parsers from this common class, but antlr insists
> that i defined this common class in a .g file; it can't be a plain java
> class (that extends class LLkParser).
> It would be nice if I could derive my parsers from my own
> parser class; not only from an antlr generated parser class.

True, but you'd have to make sure your parser class derived from 
LLkParser or whatever.  Easier to just use delegation, right?  
commonToolsObject.mycommonMethod().

> * a nice feature I found in a different tool was the concept of defining
> parser rules for "hidden" tokens. This can be used to parse
> preprocessor statements, like (#include or COPY in cobol) by
> specifying special grammar rules in the parser.
> The concept is simple: hidden tokens are ignored unless there
> are "special" rules that matche them.
> (I'm not sure how this could be integrated in antlr, but I liked the
> concept).

The token stream stuff should be a super set of that.  For example, you 
can send comments, preproc stuff, whitespace, and real tokens to the 
parser all on different "channels".  The parser's actions are free to do 
what they want with them including running the stream through a piece of 
the grammar.  This is similar to my javadoc example.

>
> * finally, I understand that the way you combine lookahead sets
> can cause incorrect parsers (I experienced that just a week ago ...).
> It would be nice if I could overrule the "merging of lookahead sets"
> for specific rules.

More precisely, my lookahead computation only allows you to specify 
linear-approximate lookahead LL(k) not full LL(k) parsers.  This 
computation differs from what your human brain sees as intuitive.  I do 
this for efficiency reasons O(n x k) vs O(n^k). :)  Typically syn preds 
will take care of any issues you have. :)

Thanks much for the effort involved in making the suggestions. :)

Best regards,
Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sat Jan  5 15:36:14 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] bugs fixed today
Message-ID: <01DCCC6C-0235-11D6-9D27-0030653DE0D6@jguru.com>

A couple of nasty bugs that took a long time to track and evaluate/fix.

My remaining items for 2.7.2 final looks like:

o check char io stream exceptions are wrapped properly in 
TokenStreamException's.
o possibly add static bitset init optimization (don't init 0L values).
o possibly modify antlr to allow recent suggestions for eclipse 
integration.

Anything else burning a hole in somebody's head?

BTW, has anybody tested the antlr.jar (runtime) file to see if it is 
sufficient (especially when errors are caught in your parsers)?

Ter
-------------------------------------------------------
01-05-2002:

*** removed Sather support at the request of the supporter.

*** add warning/error.  Bad code gen with ^ or ! on tree root
when building trees in a tree walker grammar such as:

expr:   #(PLUS^ expr expr)
     |   i:INT
     ;

Fortunately, ^ is simply redundant; removing it makes code ok.
Added a warning.  Added an error message for ! saying that it
is not implemented.

*** bug fix: incorrect code generation for #(. BLORT) in
tree walker grammar.  Didn't properly handle the wildcard
root (missing _t==null check).

--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From scott_page at mail.utexas.edu  Sat Jan  5 17:24:00 2002
From: scott_page at mail.utexas.edu (David Scott Page)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] bugs fixed today
References: <01DCCC6C-0235-11D6-9D27-0030653DE0D6@jguru.com>
Message-ID: <3C37A730.CEF85B5D@mail.utexas.edu>

Terence Parr wrote:

>
> Anything else burning a hole in somebody's head?
>

Makefile updates?

--
Scott Page


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sat Jan  5 17:41:29 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] bugs fixed today
In-Reply-To: <3C37A730.CEF85B5D@mail.utexas.edu>
Message-ID: <812F0016-0246-11D6-9D27-0030653DE0D6@jguru.com>


On Saturday, January 5, 2002, at 05:24  PM, David Scott Page wrote:

> Terence Parr wrote:
>
>>
>> Anything else burning a hole in somebody's head?
>>
>
> Makefile updates?

Oh right...

Ric, what changes did you make?  I saw some cpp changes come across?

Thanks,
Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Sun Jan  6 10:47:09 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] bugs fixed today
In-Reply-To: <3C37A730.CEF85B5D@mail.utexas.edu>; from scott_page@mail.utexas.edu on Sat, Jan 05, 2002 at 07:24:00PM -0600
References: <01DCCC6C-0235-11D6-9D27-0030653DE0D6@jguru.com> <3C37A730.CEF85B5D@mail.utexas.edu>
Message-ID: <20020106194705.A19725@cs.utwente.nl>

On Sat, Jan 05, 2002 at 07:24:00PM -0600, David Scott Page wrote:
> Terence Parr wrote:
> 
> >
> > Anything else burning a hole in somebody's head?
> >
> 
> Makefile updates?

I integrated the ones you sent in last week...

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh, no,
  of course, we ... that is ... well, yes, in fact,' said Ponder. 'Adrian
    goes round the back and ... er ... prods it with his foot. But in a
     technical way,' he added. --- From: Hogfather by Terry Pratchett.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From stdiobe at enneya.com  Mon Jan  7 02:30:29 2002
From: stdiobe at enneya.com (Stdiobe)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] suggestions for 2.7.2
References: <F54D257F-0234-11D6-9D27-0030653DE0D6@jguru.com>
Message-ID: <001601c19766$790edc80$0100a8c0@daemon>


Terence,

thank you for your response to my email!

> I can't remember why Iimited 1 lexer to a file.  I remember there being 
> a  good reason though! ;)

Any chance of ever getting this feature back? 

Stdiobe.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From christian.ernst at poet.de  Mon Jan  7 03:37:53 2002
From: christian.ernst at poet.de (Christian Ernst)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] ANTLR Java Code Generation
References: <9A7FD3BE-F8BB-11D5-9D27-0030653DE0D6@jguru.com>
Message-ID: <3C398891.BC9A8CC4@poet.de>

Hy Terence !
Sorry was OOO for Christmas and New Year

Terence Parr wrote:

> Christian,
>
> Seems like this ought to be combined with the optimization I just put
> that makes individual static methods for each bitset intialization due
> to the overflow of the main static{} section.  Does your solution run
> into problems with huge static{} sections?  For example, 2.7.2a1 is
> generating stuff like this:
>
> private static final long[] mk_tokenSet_26() {
>         long[] data = { 576179277326712832L, -4611686018427281408L, 65532L,
> 0L, 0L, 0L };
>         return data;
> }
> public static final BitSet _tokenSet_26 = new BitSet(mk_tokenSet_26());
>
> BTW, does your optimization only reduce space for .class files or does
> it make initialization faster?  seems like it would be about the same as
> you are doing the same number of operations minus loop overhead, right?

I can only judge about the parser/lexer we where developing which parse
a Java Like Language.
This is a modified Version of the Java Grammar of the ANTLR Website.

There it reduce the Classsize from about 50k to 18k.
The performance gain wasn't measured, but must be there
because only the initializing is done for fields <> 0L.

In our Lexer which has 3 static field (~2000,~2000,3) Elements
this means only intializing of (~1000,~1000,3) Elements.

But as i say we can't judge about all the differnet typs of parser created by
ANTLR.
But if it is common that these static fields contains huge number of identical
sequences of
0L or other identical values it seems to be a good solution.

In our case it also cuts down the Codesize of the static section to a few
bytes, so no 65 k problem happens.
----
Another Solution we where evaluating is the use
of the Java Class 'java.util.Arrays'
which offers special Functions for
filling parts of an Array with identical values
fill(...)

But it is difficult to measure the Performance gain.
because in the Java Source of this Class this only done in a normal for loop.

But this is a Java Core Class wich could be hard wired in different Java VM's
and some weired native code is doing this.
So there could be a dramatical performance gain.

mfg
Christian









 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From christian.ernst at poet.de  Mon Jan  7 03:42:00 2002
From: christian.ernst at poet.de (Christian Ernst)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] merged Ric's changes into main ANTLR line
References: <445FD8D2-F8BC-11D5-9D27-0030653DE0D6@jguru.com>
Message-ID: <3C398988.AE07D88B@poet.de>

Hy Terence !

Terence Parr wrote:

>
> > 2. Cutting down the size of the Java Runtime library !?
> >     ( removing any dependicies to antlr/Tool class, adding a class for
> > string
> > manipulation ?!)
>
> I have moved strip*() string methods out of Tool and changed
> Tool.warning references from ASTFactory to be calls to a member method
> called error(), which you can override and then set Parser.setASTFactory
> if you want errors going somewhere else.  Tool.class is no longer in my
> mkjar routine, but I still haven't gotten a great method of determining
> whether I have all the necessary classes.  I'll look at your list again.

We did all the needed checks by using Visual Age for Java,
which seems to be a very good Tool for finding these kind of relations
between classes
also it is easy to reorganize Code.
Yust do the changes and yous see where somethings breaks..

mfg
Christian







 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From etoffi2 at yahoo.com  Mon Jan  7 05:21:45 2002
From: etoffi2 at yahoo.com (etoffi2)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] largest match
Message-ID: <a1c7d9+okl2@eGroups.com>

hello all,

is there a way to make antlr match the longest token?
i have a language parser which is returning keywords instead of
idents:

TOK_INTEGER instead of TOK_IDENT for:
 
  int integer;
      ^^^

this is really killing my compiler. 
thanx in advance.

--
etoffi


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Mon Jan  7 06:41:34 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] largest match
Message-ID: <170826586F3BD511910D0200C110AAA801C58155@memail03.bco-home.com>

Are you using literals?  What does your ID rule look like where you have the
testLiterals=true option on?

Sounds to me like you have a hard coded lexer rule like

INT:"int"; 

and you should be using literals instead.

Monty

> -----Original Message-----
> From: etoffi2 [mailto:etoffi2@yahoo.com]
> Sent: Monday, January 07, 2002 5:22 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] largest match
> 
> 
> hello all,
> 
> is there a way to make antlr match the longest token?
> i have a language parser which is returning keywords instead of
> idents:
> 
> TOK_INTEGER instead of TOK_IDENT for:
>  
>   int integer;
>       ^^^
> 
> this is really killing my compiler. 
> thanx in advance.
> 
> --
> etoffi
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Mon Jan  7 06:43:58 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] suggestions for 2.7.2
Message-ID: <170826586F3BD511910D0200C110AAA801C58156@memail03.bco-home.com>

> 
> > * it would be nice if antlr would generate a _nextToken() function
> > instead of nextToken(). The default implementation of 
> nextToken() would
> > just call _nextToken(), but I would have the possibility of 
> redefining
> > the nextToken() function.
> 
> super.nextToken() should work for ya.

Only if you subclass the _generated_ lexer.

Monty

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From bogdan_mt at yahoo.com  Mon Jan  7 07:11:27 2002
From: bogdan_mt at yahoo.com (Bogdan Mitu)
Date: Mon Dec 20 16:14:37 2004
Subject: Tool for testing lexers/parsers/tree parsers
Message-ID: <20020107151127.47101.qmail@web14804.mail.yahoo.com>

Hi all,

I worked on a project using ANTLR default ASTs (speed was not a concern),
and I wrote a small utility to help me test the tree parsers. Later I
extended it to allow testing of parsers and lexers as well. I would like to
contribute this utility to ANTLR; I put the files in the ANTLR group
http://groups.yahoo.com/group/antlr-interest/files/tester.zip

A test file consists of a header and a series of tests. The header contains
at least the class name, the type (lexer, parser or tree parser) and the
rule to be tested (for parsers/tree parsers). The tests are pairs input -
expected output. The tester takes the input, feed the tool under test and
compare the output with the expected one. Tests that fail are displayed in
pop-up frames.

To run the tool you have to type java test.TestRunner <filename>. In the
root of the distribution you can find some .bat files for invoking a lexer,
a parser and a tree parser. In the "example" folder there is a sample
grammar bool.g and some sample tests (lexer.test, parser.test and
treeParser.test). Note that in each file the last test is wrong, just to
force frames to pop-up.

If you decide to give it a try, please let me know your comments.


Regards,

  


__________________________________________________
Do You Yahoo!?
Send FREE video emails in Yahoo! Mail!
http://promo.yahoo.com/videomail/

From etoffi2 at yahoo.com  Mon Jan  7 08:52:28 2002
From: etoffi2 at yahoo.com (etoffi2)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: largest match
In-Reply-To: <170826586F3BD511910D0200C110AAA801C58155@memail03.bco-home.com>
Message-ID: <a1cjoc+ob5m@eGroups.com>

--- In antlr-interest@y..., mzukowski@b... wrote:
> Are you using literals?  What does your ID rule look like where you have the
> testLiterals=true option on?
> 
> Sounds to me like you have a hard coded lexer rule like
> 
> INT:"int"; 
> 
> and you should be using literals instead.
> 
> Monty
> 

testLiterals was off, but I turned it on and it didnt have any effect.
btw, why is using literals wrong?

--
etoffi


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Mon Jan  7 08:53:24 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: largest match
Message-ID: <170826586F3BD511910D0200C110AAA801C58158@memail03.bco-home.com>

You should be using literals.  Read the docs, look at the sample grammars.

Monty

> -----Original Message-----
> From: etoffi2 [mailto:etoffi2@yahoo.com]
> Sent: Monday, January 07, 2002 8:52 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: largest match
> 
> 
> --- In antlr-interest@y..., mzukowski@b... wrote:
> > Are you using literals?  What does your ID rule look like 
> where you have the
> > testLiterals=true option on?
> > 
> > Sounds to me like you have a hard coded lexer rule like
> > 
> > INT:"int"; 
> > 
> > and you should be using literals instead.
> > 
> > Monty
> > 
> 
> testLiterals was off, but I turned it on and it didnt have any effect.
> btw, why is using literals wrong?
> 
> --
> etoffi
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Mon Jan  7 10:02:19 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] merged Ric's changes into main ANTLR line
In-Reply-To: <3C398988.AE07D88B@poet.de>
Message-ID: <B120DF50-0398-11D6-875D-0030653DE0D6@jguru.com>


On Monday, January 7, 2002, at 03:42  AM, Christian Ernst wrote:

> Hy Terence !
>
> Terence Parr wrote:
>
>>
>>> 2. Cutting down the size of the Java Runtime library !?
>>>     ( removing any dependicies to antlr/Tool class, adding a class for
>>> string
>>> manipulation ?!)
>>
>> I have moved strip*() string methods out of Tool and changed
>> Tool.warning references from ASTFactory to be calls to a member method
>> called error(), which you can override and then set 
>> Parser.setASTFactory
>> if you want errors going somewhere else.  Tool.class is no longer in my
>> mkjar routine, but I still haven't gotten a great method of determining
>> whether I have all the necessary classes.  I'll look at your list 
>> again.
>
> We did all the needed checks by using Visual Age for Java,
> which seems to be a very good Tool for finding these kind of relations
> between classes
> also it is easy to reorganize Code.
> Yust do the changes and yous see where somethings breaks..

Great!  THen we can rely on you testing the alpha releases to ensure 
they have the right classes in the antlr.jar! ;)

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Mon Jan  7 11:44:37 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Error Handling
In-Reply-To: <a14g83+uiho@eGroups.com>
Message-ID: <FBAE2E1C-03A6-11D6-875D-0030653DE0D6@jguru.com>


On Friday, January 4, 2002, at 07:03  AM, treyspiva wrote:

> I have noticed that Antlr will produce token sets that can be when
> recovering from errors.  I will like to add my own error handling
> however, I would like to use the token sets to recover from errors.

We're adding $FOLLOW I believe.  Ric, did we add $FIRST also or is it my 
turn? ;)

> Is there a way to know what rules the token sets represents?  Also,

Nope.

> when I add the exception code for a rule does antlr still produce the
> token sets for the rule?

Well, the sets are computed for building the parser so they are 
definitely around :)

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Mon Jan  7 11:45:16 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Stream Positions
In-Reply-To: <a14ghn+f1b9@eGroups.com>
Message-ID: <12F0C845-03A7-11D6-875D-0030653DE0D6@jguru.com>


On Friday, January 4, 2002, at 07:08  AM, treyspiva wrote:

> I have modified the C++ code to emit the starting stream position of
> a token.  I found the stream position very usiful.  I was wondering
> if I can get this into the C++ build.

Can't this be easily added by overriding consume() or something?

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From trey.spiva at embarcadero.com  Mon Jan  7 12:06:38 2002
From: trey.spiva at embarcadero.com (Trey Spiva)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Stream Positions
Message-ID: <6791D870658F174FB863E2FA890000A37DC9CE@abyss4.advancedsw.com>

I had to alter CharBuffer, CharScanner, CommonToken, InputBuffer,
LexerSharedInputState, Token

I just wanted to know if you would like to put it in the Antlr build.  (I am
working in C++)

-----Original Message-----
From: Terence Parr [mailto:parrt@jguru.com]
Sent: Monday, January 07, 2002 12:45 PM
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] Stream Positions


On Friday, January 4, 2002, at 07:08  AM, treyspiva wrote:

> I have modified the C++ code to emit the starting stream position of
> a token.  I found the stream position very usiful.  I was wondering
> if I can get this into the C++ build.

Can't this be easily added by overriding consume() or something?

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org




Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/

From therealtootalltimmy at yahoo.com  Mon Jan  7 13:11:37 2002
From: therealtootalltimmy at yahoo.com (therealtootalltimmy)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] C++ Parsers - charVocabulary option
Message-ID: <a1d2u9+e358@eGroups.com>

I have a simple grammar that just handles comments.

When I generate a Java parser and feed it a comment with a copyright symbol in it, it works (does not complain about unexpected tokens).

When I generate a C++ parser and feed it a comment with a copyright symbol in it, it complains about an unexpected token.

In my Lexer options, I have set charVocabulary to:
charVocabulary='\u0003'..'\uFFFF';

My testLiterals Lexer option is unspecified (the default).  I have also tried True and False for the testLiterals option.

I have also tried: 
charVocabulary='\003'..'\377';


I'm sure that copyright symbols are not the only characters I will have problems with.

How can I make the copyright symbol acceptable to ANTLR generated parsers?

Thanks!

Tim


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Trey.Spiva at embarcadero.com  Mon Jan  7 13:32:50 2002
From: Trey.Spiva at embarcadero.com (treyspiva)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: Stream Positions
In-Reply-To: <6791D870658F174FB863E2FA890000A37DC9CE@abyss4.advancedsw.com>
Message-ID: <a1d462+pfiu@eGroups.com>

I was not able to just override the consume() method because the 
lexer can backtrack adn teh same character position may be visted 
many times.

> I had to alter CharBuffer, CharScanner, CommonToken, InputBuffer,
> LexerSharedInputState, Token
> 
> I just wanted to know if you would like to put it in the Antlr 
build.  (I am
> working in C++)
> 
> -----Original Message-----
> From: Terence Parr [mailto:parrt@j...]
> Sent: Monday, January 07, 2002 12:45 PM
> To: antlr-interest@y...
> Subject: Re: [antlr-interest] Stream Positions
> 
> 
> On Friday, January 4, 2002, at 07:08  AM, treyspiva wrote:
> 
> > I have modified the C++ code to emit the starting stream position 
of
> > a token.  I found the stream position very usiful.  I was 
wondering
> > if I can get this into the C++ build.
> 
> Can't this be easily added by overriding consume() or something?
> 
> Ter
> --
> Chief Scientist & Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
> 
> 
> 
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Mon Jan  7 14:09:53 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: Stream Positions
In-Reply-To: <a1d462+pfiu@eGroups.com>
Message-ID: <46CB0594-03BB-11D6-875D-0030653DE0D6@jguru.com>


On Monday, January 7, 2002, at 01:32  PM, treyspiva wrote:

> I was not able to just override the consume() method because the
> lexer can backtrack adn teh same character position may be visted
> many times.

Yeah, i was wondering about that...did you have to override rewind in 
the buffers?  Is that it?

Ter

>
>> I had to alter CharBuffer, CharScanner, CommonToken, InputBuffer,
>> LexerSharedInputState, Token
>>
>> I just wanted to know if you would like to put it in the Antlr
> build.  (I am
>> working in C++)
>>
>> -----Original Message-----
>> From: Terence Parr [mailto:parrt@j...]
>> Sent: Monday, January 07, 2002 12:45 PM
>> To: antlr-interest@y...
>> Subject: Re: [antlr-interest] Stream Positions
>>
>>
>> On Friday, January 4, 2002, at 07:08  AM, treyspiva wrote:
>>
>>> I have modified the C++ code to emit the starting stream position
> of
>>> a token.  I found the stream position very usiful.  I was
> wondering
>>> if I can get this into the C++ build.
>>
>> Can't this be easily added by overriding consume() or something?
>>
>> Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
>>
>>
>>
>>
>> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Matthew.Ford at forward.com.au  Mon Jan  7 14:41:30 2002
From: Matthew.Ford at forward.com.au (Matthew Ford)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Stream Positions
References: <6791D870658F174FB863E2FA890000A37DC9CE@abyss4.advancedsw.com>
Message-ID: <001001c197cc$76417b50$6664020a@matthewfnb>

If the inputbuffer is going to be changed I have another requirement.

I my case I am parsing a socket stream which can be arbitrarily long.  I
would like to be able to save the characters Antlr is working on and dump
the old matched ones (I would call dumpInputBuffer() at appropriate check
points such as end of command)
The saved characters should be accessible to display as part of the error
message in conjunction with the token position which would need to take into
account the change when the old part of the buffer was dumped.
At present I put my own version of a BufferedReader (which I can supply if
it is any help) in front of Antlr to save the chars but I don't think this
correctly handles lookahead and push back in the general case although it
seems to work for my grammar.

matthew
----- Original Message -----
From: "Trey Spiva" <Trey.Spiva@embarcadero.com>
To: <antlr-interest@yahoogroups.com>
Cc: "'Terence Parr'" <parrt@jguru.com>
Sent: Tuesday, January 08, 2002 7:06 AM
Subject: RE: [antlr-interest] Stream Positions


> I had to alter CharBuffer, CharScanner, CommonToken, InputBuffer,
> LexerSharedInputState, Token
>
> I just wanted to know if you would like to put it in the Antlr build.  (I
am
> working in C++)
>
> -----Original Message-----
> From: Terence Parr [mailto:parrt@jguru.com]
> Sent: Monday, January 07, 2002 12:45 PM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] Stream Positions
>
>
> On Friday, January 4, 2002, at 07:08  AM, treyspiva wrote:
>
> > I have modified the C++ code to emit the starting stream position of
> > a token.  I found the stream position very usiful.  I was wondering
> > if I can get this into the C++ build.
>
> Can't this be easily added by overriding consume() or something?
>
> Ter
> --
> Chief Scientist & Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Trey.Spiva at embarcadero.com  Mon Jan  7 14:46:10 2002
From: Trey.Spiva at embarcadero.com (Trey Spiva)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: Stream Positions
Message-ID: <6791D870658F174FB863E2FA890000A37DC9CF@abyss4.advancedsw.com>


>> I was not able to just override the consume() method because the
>> lexer can backtrack adn teh same character position may be visted
>> many times.
>
>Yeah, I was wondering about that...did you have to override rewind in
>the buffers?  Is that it?
 No, when InputBuffer::fill is called I retrieved the character as well as
the file position.  I then
stored both the character and the file position on to the character queue.
Of course I had to 
make the queue take a structure not a character

class CharacterData
   {
   public:
      CharacterData(int c, long fp)
      {
         m_character = c;
         m_filepos = fp;
      }

      int getCharacter() {return m_character;}
      int getFilePosition() {return m_filepos;}
   private:
      int m_character;
      long m_filepos;
   };

CircularQueue<CharacterData> queue;

Now InputBuffer::LA(int I) looks like this.
inline int InputBuffer::LA(int i)
{
	fill(i);

   CharacterData data = queue.elementAt(markerOffset + i - 1);
   return data.getCharacter();

	//return queue.elementAt(markerOffset + i - 1);
}

I also added a getPosition method to InputBuffer.

/** Get the file position of a lookahead character */
inline long InputBuffer::getPosition(int i)
{
   fill(i);

   CharacterData data = queue.elementAt(markerOffset + i - 1);
   return data.getFilePosition();
}

I then added the position data to the input state inside the
CharScanner::comsume method.
>>> I had to alter CharBuffer, CharScanner, CommonToken, InputBuffer,
>>> LexerSharedInputState, Token
>>>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Tue Jan  8 01:26:54 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Error Handling
In-Reply-To: <FBAE2E1C-03A6-11D6-875D-0030653DE0D6@jguru.com>; from parrt@jguru.com on Mon, Jan 07, 2002 at 11:44:37AM -0800
References: <a14g83+uiho@eGroups.com> <FBAE2E1C-03A6-11D6-875D-0030653DE0D6@jguru.com>
Message-ID: <20020108102653.J23876@cs.utwente.nl>

On Mon, Jan 07, 2002 at 11:44:37AM -0800, Terence Parr wrote:
> > I have noticed that Antlr will produce token sets that can be when
> > recovering from errors.  I will like to add my own error handling
> > however, I would like to use the token sets to recover from errors.
> 
> We're adding $FOLLOW I believe.  Ric, did we add $FIRST also or is it my 
> turn? ;)

Follow set is there (ppl thank Ernest Passour for this :) ). 
$FIRST and $FOLLOW(rule) $FIRST(rule) are not implemented yet. Maybe also
add $RULE_NAME ? 

Well.. experience thought me never to say no to people who ask if it's
their turn ;)

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Why don't we just invite them to dinner and massacre them all when they're
  drunk? You heard the man. There's seven hundred thousand of them. Ah? ..
           So it'd have to be something simple with pasta, then.
                 From: Interesting Times by Terry Pratchet


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Tue Jan  8 01:30:52 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Stream Positions
In-Reply-To: <a14ghn+f1b9@eGroups.com>; from trey.spiva@embarcadero.com on Fri, Jan 04, 2002 at 03:08:39PM -0000
References: <a14ghn+f1b9@eGroups.com>
Message-ID: <20020108103052.K23876@cs.utwente.nl>

On Fri, Jan 04, 2002 at 03:08:39PM -0000, treyspiva wrote:
> I have modified the C++ code to emit the starting stream position of 
> a token.  I found the stream position very usiful.  I was wondering 
> if I can get this into the C++ build.

If you have patches for C++ you can send them directly to me and I'll have
a look at them.

I doubt though that I'll be adding new functionality now we're in the
2.7.2aX traject. So that will be the next release.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
Wit is cultured insolence. --- Aristotle


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Tue Jan  8 01:43:14 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] C++ Parsers - charVocabulary option
In-Reply-To: <a1d2u9+e358@eGroups.com>; from therealtootalltimmy@yahoo.com on Mon, Jan 07, 2002 at 09:11:37PM -0000
References: <a1d2u9+e358@eGroups.com>
Message-ID: <20020108104313.L23876@cs.utwente.nl>

Hi,

On Mon, Jan 07, 2002 at 09:11:37PM -0000, therealtootalltimmy wrote:
> I have a simple grammar that just handles comments.
>
> When I generate a Java parser and feed it a comment with a copyright symbol
> in it, it works (does not complain about unexpected tokens).
>
> When I generate a C++ parser and feed it a comment with a copyright symbol
> in it, it complains about an unexpected token.

Is your input file unicode? If so then you're unlucky.

> I'm sure that copyright symbols are not the only characters I will have
> problems with.

If your input is unicode than it will not work. Unless...

> How can I make the copyright symbol acceptable to ANTLR generated parsers?

.. You get antlr's support library to accept unicode. There is one
incomplete patch floating around in the archive (MSVC6 centric if I recall
right). Look for post from Daniel Fekete and anything with 'unicode' in the
subject.

On the other hand... If your input is unicode and you know the enoding you
might do a 'dirty' trick by defining a token with the right unicode curses.
YMMV

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
Wit is cultured insolence. --- Aristotle


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From therealtootalltimmy at yahoo.com  Tue Jan  8 10:38:40 2002
From: therealtootalltimmy at yahoo.com (therealtootalltimmy)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: C++ Parsers - charVocabulary option
In-Reply-To: <20020108104313.L23876@cs.utwente.nl>
Message-ID: <a1febg+91rl@eGroups.com>

--- In antlr-interest@y..., Ric Klaren <klaren@c...> wrote:
> Hi,
> 
> On Mon, Jan 07, 2002 at 09:11:37PM -0000, therealtootalltimmy wrote:
> > I have a simple grammar that just handles comments.
> >
> > When I generate a Java parser and feed it a comment with a 
copyright symbol
> > in it, it works (does not complain about unexpected tokens).
> >
> > When I generate a C++ parser and feed it a comment with a 
copyright symbol
> > in it, it complains about an unexpected token.
> 
> Is your input file unicode? If so then you're unlucky.

Ric,
   Thanks a lot for replying to my question.  I failed to mention 
that I 1) am parsing ASCII input only and 2) that I am running on 
Windows 2000.

Here is the grammar that I'm having problems with:

/*
header "post_include_hpp"
{
#include <iostream>
using namespace std;
}

options
{
   language="Cpp";             // Generate C++ Code
   namespaceAntlr="antlr";
}
*/

class MyParser extends Parser;

foo
   : (COMMENT)+
   ;

class MyLexer extends Lexer;
options {
   charVocabulary='\003'..'\377';
}

WS
   : ( ' ' | '\t' )+
   ;

COMMENT
   : '\'' (~('\n'|'\r'))* (NEWLINE)?
   ;

NEWLINE
   : ( '\n' | '\r' '\n' )
   ;

By uncommenting the C++ specific settings I can build a C++ parser.

Here is my input:

' ? lll

When I run my C++ parser on this file, I get:

unexpected char: <a character that looks like an upper left corner of 
an ASCII box>

Running my java parser on this file, I get no output.

In the C++ parser's MyLexer::mCOMMENT method, when LA(1) returns the 
copyright symbol, the else branch of:

if ((_tokenSet_0.member(LA(1))))

is executed and the loop is exited.

Thanks again for your help.

Tim


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Wed Jan  9 01:29:30 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: C++ Parsers - charVocabulary option
In-Reply-To: <a1febg+91rl@eGroups.com>; from therealtootalltimmy@yahoo.com on Tue, Jan 08, 2002 at 06:38:40PM -0000
References: <20020108104313.L23876@cs.utwente.nl> <a1febg+91rl@eGroups.com>
Message-ID: <20020109102930.P23876@cs.utwente.nl>

Hi,

On Tue, Jan 08, 2002 at 06:38:40PM -0000, therealtootalltimmy wrote:
>    Thanks a lot for replying to my question.  I failed to mention 
> that I 1) am parsing ASCII input only and

Hate to disagree there.. the copyright character is not ASCII. ASCII is
byterange 0 - 127.

My guess is that it's some kind of encoding (which one I can't tell at the
moment since the mailers probably messed with the copyright character
transmitted in the mail it's AFAIK at least a multi byte thing right now
(in the mail) ) If it's a multibyte thing ANTLR can't handle it 
automatically (in C++).

Try running your input file through a hexdump utility and see what exactly
is at the place of the copyright char.

> class MyLexer extends Lexer;
> options {
>    charVocabulary='\003'..'\377';

This should be ok.

> unexpected char: <a character that looks like an upper left corner of 
> an ASCII box>

Is this with 2.7.2a1 or my development version? These do a hexdump of the
character if it does not pass isprint, that might tell a bit more.

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
Wit is cultured insolence. --- Aristotle

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Wed Jan  9 01:29:30 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Re: C++ Parsers - charVocabulary option
In-Reply-To: <a1febg+91rl@eGroups.com>; from therealtootalltimmy@yahoo.com on Tue, Jan 08, 2002 at 06:38:40PM -0000
References: <20020108104313.L23876@cs.utwente.nl> <a1febg+91rl@eGroups.com>
Message-ID: <20020109102930.P23876@cs.utwente.nl>

Hi,

On Tue, Jan 08, 2002 at 06:38:40PM -0000, therealtootalltimmy wrote:
>    Thanks a lot for replying to my question.  I failed to mention 
> that I 1) am parsing ASCII input only and

Hate to disagree there.. the copyright character is not ASCII. ASCII is
byterange 0 - 127.

My guess is that it's some kind of encoding (which one I can't tell at the
moment since the mailers probably messed with the copyright character
transmitted in the mail it's AFAIK at least a multi byte thing right now
(in the mail) ) If it's a multibyte thing ANTLR can't handle it 
automatically (in C++).

Try running your input file through a hexdump utility and see what exactly
is at the place of the copyright char.

> class MyLexer extends Lexer;
> options {
>    charVocabulary='\003'..'\377';

This should be ok.

> unexpected char: <a character that looks like an upper left corner of 
> an ASCII box>

Is this with 2.7.2a1 or my development version? These do a hexdump of the
character if it does not pass isprint, that might tell a bit more.

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
Wit is cultured insolence. --- Aristotle

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From adichand at hotmail.com  Wed Jan  9 21:02:53 2002
From: adichand at hotmail.com (aditya_chandra)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Verilog Parser
Message-ID: <a1j79t+4sub@eGroups.com>

Hi,
 
I've been trying out the ANTLR 2.7.1 Verilog Parser.
 
I've compiled the code and have successfully parsed some files too. 
 
I would like to know how I can get different data that the parser has 
read from the verilog.v file. Are there some ready made functions 
available, or do I have to write my own routines and if so, how can I 
get this data from the parser. If possible please send me some sample 
application which gets data form the verilog.v file and uses them.
 
Thanks and Best Regards
Aditya
 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Thu Jan 10 12:49:39 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Tool for testing lexers/parsers/tree parsers
Message-ID: <170826586F3BD511910D0200C110AAA801C5816E@memail03.bco-home.com>

There is a potential problem in testing specific rules in a parser in that
the EOF token may not be part of the token sets used for lookahead in
decisions.  This may also be a problem for "protected" lexer rules.  If you
find such a problem I would recommend simply writing a new rule with the EOF
included.  For example:

exprTestRule: expr EOF;

In fact I would recommend doing this for any rules you are going to test to
make sure that all of your test input is used.  Otherwise you might only
parse as much as the rule wants to see at the same time you would be
assuming that your entire input has been parsed.

I am not actively developing any big grammars right now, but I suspect that
the addition of rules such as the one above may have an effect on the
warning messages or may even bring in a new ambiguity.  

I would be very curious to hear how this works in practice for people.  One
approach to not cluttering up your grammar would be to "subclass" in order
to add your own test rules.  Another approach would be the one I took with
the GCC C grammar, which is to have your tests be complete programs to
parse.

Thanks Bogdan, for a useful tool!

Monty

> -----Original Message-----
> From: Bogdan Mitu [mailto:bogdan_mt@yahoo.com]
> Sent: Monday, January 07, 2002 7:11 AM
> To: antlr-interest@yahoogroups.com
> Cc: parrt@jguru.com
> Subject: [antlr-interest] Tool for testing lexers/parsers/tree parsers
> 
> 
> Hi all,
> 
> I worked on a project using ANTLR default ASTs (speed was not 
> a concern),
> and I wrote a small utility to help me test the tree parsers. Later I
> extended it to allow testing of parsers and lexers as well. I 
> would like to
> contribute this utility to ANTLR; I put the files in the ANTLR group
> http://groups.yahoo.com/group/antlr-interest/files/tester.zip
> 
> A test file consists of a header and a series of tests. The 
> header contains
> at least the class name, the type (lexer, parser or tree 
> parser) and the
> rule to be tested (for parsers/tree parsers). The tests are 
> pairs input -
> expected output. The tester takes the input, feed the tool 
> under test and
> compare the output with the expected one. Tests that fail are 
> displayed in
> pop-up frames.
> 
> To run the tool you have to type java test.TestRunner 
> <filename>. In the
> root of the distribution you can find some .bat files for 
> invoking a lexer,
> a parser and a tree parser. In the "example" folder there is a sample
> grammar bool.g and some sample tests (lexer.test, parser.test and
> treeParser.test). Note that in each file the last test is 
> wrong, just to
> force frames to pop-up.
> 
> If you decide to give it a try, please let me know your comments.
> 
> 
> Regards,
> 
>   
> 
> 
> __________________________________________________
> Do You Yahoo!?
> Send FREE video emails in Yahoo! Mail!
> http://promo.yahoo.com/videomail/
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From bob at werken.com  Thu Jan 10 12:59:43 2002
From: bob at werken.com (bob mcwhirter)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Tool for testing lexers/parsers/tree parsers
In-Reply-To: <170826586F3BD511910D0200C110AAA801C5816E@memail03.bco-home.com>
Message-ID: <Pine.LNX.3.96.1020110155805.24262B-100000@exeter.exeter.org>

On Thu, 10 Jan 2002 mzukowski@bco.com wrote:

> There is a potential problem in testing specific rules in a parser in that
> the EOF token may not be part of the token sets used for lookahead in
> decisions.  This may also be a problem for "protected" lexer rules.  If you
> find such a problem I would recommend simply writing a new rule with the EOF
> included.  For example:
> 
> exprTestRule: expr EOF;
> 
> In fact I would recommend doing this for any rules you are going to test to
> make sure that all of your test input is used.  Otherwise you might only
> parse as much as the rule wants to see at the same time you would be
> assuming that your entire input has been parsed.

Would it be possible, though, to test normal rules, without the EOF, and
then check that nextToken() produces EOF?

	ie:

		parser.exprRule();
		assertEquals( TokenTypes.EOF, lexer.nextToken() );

This is at least what I've done to test hand-written recursive descent
parsers and lexers (for SAXPath).

	-bob


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Thu Jan 10 13:19:17 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Tool for testing lexers/parsers/tree parsers
Message-ID: <170826586F3BD511910D0200C110AAA801C58171@memail03.bco-home.com>

Jonathan Bachrach posted a question here on 8/31/01 entitled "single
identifier as java expression".  The problem was that calling the java
grammar's expr rule would not work if the input was just one identifier.  I
believe that I remember him saying the solution was to make a separate rule
to parse an expr followed by EOF.  The Java grammar generates this code in
unaryExpressionNotPlusMinus:
...
if (synpred handled here)
{...
}
else if ((_tokenSet_19.member(LA(1))) && (_tokenSet_20.member(LA(2)))) {
	postfixExpression();
	if (inputState.guessing==0) {
		astFactory.addASTChild(currentAST, returnAST);
	}
} 
else {
	throw new NoViableAltException(LT(1), getFilename()); 
}

_tokenSet_20 doesn't have EOF in it, and you will get a NoViableAltException
thrown.  I found this out by regenerating with options
{codeGenBitsetTestThreshold = 999999;} which forces no token sets to be
generated unless they have more than 999999 elements.

So the answer is no, you may not always be able to test individual rules if
they are not expecting an EOF to follow.

Monty

> -----Original Message-----
> From: bob mcwhirter [mailto:bob@werken.com]
> Sent: Thursday, January 10, 2002 1:00 PM
> To: antlr-interest@yahoogroups.com
> Subject: RE: [antlr-interest] Tool for testing lexers/parsers/tree
> parsers
> 
> 
> On Thu, 10 Jan 2002 mzukowski@bco.com wrote:
> 
> > There is a potential problem in testing specific rules in a 
> parser in that
> > the EOF token may not be part of the token sets used for 
> lookahead in
> > decisions.  This may also be a problem for "protected" 
> lexer rules.  If you
> > find such a problem I would recommend simply writing a new 
> rule with the EOF
> > included.  For example:
> > 
> > exprTestRule: expr EOF;
> > 
> > In fact I would recommend doing this for any rules you are 
> going to test to
> > make sure that all of your test input is used.  Otherwise 
> you might only
> > parse as much as the rule wants to see at the same time you would be
> > assuming that your entire input has been parsed.
> 
> Would it be possible, though, to test normal rules, without 
> the EOF, and
> then check that nextToken() produces EOF?
> 
> 	ie:
> 
> 		parser.exprRule();
> 		assertEquals( TokenTypes.EOF, lexer.nextToken() );
> 
> This is at least what I've done to test hand-written recursive descent
> parsers and lexers (for SAXPath).
> 
> 	-bob
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sat Jan 12 15:01:15 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] bitset optimization (useful for unicode lexers)
Message-ID: <486F0C07-07B0-11D6-8D1F-0030653DE0D6@jguru.com>

Folks,

I just finished adding the bitset optimization that makes unicode-based 
lexers MUCH smaller.
Small bitsets are generated as before:

         private static final long[] mk_tokenSet_0() { long[] data = 
{ -2305839160922996736L, 63L, 16777216L, 0L, 0L, 0L }; return data; }

But long ones (>=8 words) are assumed to have lots of "runs" and 
manually initialized as in:

	private static final long[] mk_tokenSet_0() {
		long[] data = new long[2048];
		data[0]=-9224L;
		for (int i = 1; i<=1023; i++) { data[i]=-1L; }
		for (int i = 1024; i<=2047; i++) { data[i]=0L; }
		return data;
	}

The Java grammar lexer JavaLexer.class dropped from 87457 bytes to 
25076.  Not bad.

Previously, you would see the following: <snicker>

private static final long[] mk_tokenSet_0() { long[] data = { -9224L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, 
-1L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L }; 
return data; }
	
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Matthew.Ford at forward.com.au  Sat Jan 12 15:52:19 2002
From: Matthew.Ford at forward.com.au (Matthew Ford)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] bitset optimization (useful for unicode lexers)
References: <486F0C07-07B0-11D6-8D1F-0030653DE0D6@jguru.com>
Message-ID: <000601c19bc4$2c339d80$0300a8c0@matthewfnb>

Thanks Ter that really good.
matthew
----- Original Message -----
From: "Terence Parr" <parrt@jguru.com>
To: "ANTLR mailinglist" <antlr-interest@yahoogroups.com>
Sent: Sunday, January 13, 2002 10:01 AM
Subject: [antlr-interest] bitset optimization (useful for unicode lexers)


> Folks,
>
> I just finished adding the bitset optimization that makes unicode-based
> lexers MUCH smaller.
> Small bitsets are generated as before:
>
>          private static final long[] mk_tokenSet_0() { long[] data =
> { -2305839160922996736L, 63L, 16777216L, 0L, 0L, 0L }; return data; }
>
> But long ones (>=8 words) are assumed to have lots of "runs" and
> manually initialized as in:
>
> private static final long[] mk_tokenSet_0() {
> long[] data = new long[2048];
> data[0]=-9224L;
> for (int i = 1; i<=1023; i++) { data[i]=-1L; }
> for (int i = 1024; i<=2047; i++) { data[i]=0L; }
> return data;
> }
>
> The Java grammar lexer JavaLexer.class dropped from 87457 bytes to
> 25076.  Not bad.
>
> Previously, you would see the following: <snicker>
>
> private static final long[] mk_tokenSet_0() { long[] data = { -9224L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L, -1L,
> -1L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L,
> 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L };
> return data; }
>
> --
> Chief Scientist & Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sat Jan 12 16:04:54 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] bitset optimization (useful for unicode lexers)
In-Reply-To: <000601c19bc4$2c339d80$0300a8c0@matthewfnb>
Message-ID: <2BE0EF23-07B9-11D6-8D1F-0030653DE0D6@jguru.com>


On Saturday, January 12, 2002, at 03:52  PM, Matthew Ford wrote:

> Thanks Ter that really good.

At your service :)

I'm trying to modify the code at the moment so that the Tool object is 
passed around as a variable as opposed to a single static object.  In 
this way, Marco and others can embed ANTLR in eclipse and other tools 
more easily. :)

Ter


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sat Jan 12 17:28:58 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] ANTLR 2.7.2a2 released :)
Message-ID: <EA9EAB91-07C4-11D6-8D1F-0030653DE0D6@jguru.com>

Folks,

For your entertainment, ANTLR 2.7.2a2 is ready for you to test.  Changes 
since 2.7.2a1 are shown at the end.  The distribution has the whole 
change list for 2.7.2a2 since 2.7.1.

http://www.antlr.org/nirvana/antlr-2.7.2a2.tar.gz

I have one minor thing to look at and then I want to see if $FIRST can 
be added easily for error recovery/reporting.  Other than that, I think 
we are rapidly approaching 2.7.2 final.

Please test this a2 release for compatibility with your grammars :)

Terence
-------------------------------------------------------
01-12-2002:

*** put an "if GENAST" gate around import statements for AST types
     in normal non-tree parsers.

*** optimized large bitset initialization code.  Dropped JavaLexer.class
from 87k to 25k.  Runs of integers are written via loops.

*** Thanks to Marco van Meegen <Marco.van.Meegen@t-online.de>
for his suggestion/help getting ANTLR
into shape for inclusion into eclipse IDE.  I took his suggestion and
make the antlr.Tool object a simple variable reference so that multiple
kinds of Tool objects (such as one hooked into Eclipse) could be used
with ANTLR.  This required simple changes but over *many* files!

-------------------------------------------------------
01-05-2002:

*** removed Sather support at the request of the supporter.

*** add warning/error.  Bad code gen with ^ or ! on tree root
when building trees in a tree walker grammar such as:

expr:   #(PLUS^ expr expr)
     |   i:INT
     ;

Fortunately, ^ is simply redundant; removing it makes code ok.
Added a warning.  Added an error message for ! saying that it
is not implemented.

*** bug fix: incorrect code generation for #(. BLORT) in
tree walker grammar.  Didn't properly handle the wildcard
root (missing _t==null check).
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Christian.Ernst at poet.de  Mon Jan 14 05:14:33 2002
From: Christian.Ernst at poet.de (Christian Ernst)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] ANTLR 2.7.2a2 released :)
References: <EA9EAB91-07C4-11D6-8D1F-0030653DE0D6@jguru.com>
Message-ID: <3C42D9B9.BA9AB719@poet.de>

Hy !

I checked all references of the needed class for a Runtime antlr.jar
with Visual Age for Java

Following is the List of Classes needed.

antlr.ANTLRException
antlr.ANTLRHashString
antlr.ANTLRStringBuffer
antlr.ASTFactory
antlr.ASTNULLType
antlr.ASTPair
antlr.BaseAST
antlr.ByteBuffer
antlr.CharBuffer
antlr.CharFormatter
antlr.CharQueue
antlr.CharScanner
antlr.CharStreamException
antlr.CharStreamIOException
antlr.CommonAST
antlr.CommonASTWithHiddenTokens
antlr.CommonHiddenStreamToken
antlr.CommonToken
antlr.DefaultFileLineFormatter
antlr.FileCopyException
antlr.FileLineFormatter
antlr.InputBuffer
antlr.LexerSharedInputState
antlr.LLkParser
antlr.MismatchedCharException
antlr.MismatchedTokenException
antlr.NoViableAltException
antlr.NoViableAltForCharException
antlr.Parser
antlr.ParserSharedInputState
antlr.RecognitionException
antlr.SemanticException
antlr.StringUtils
antlr.Token
antlr.TokenBuffer
antlr.TokenQueue
antlr.TokenStream
antlr.TokenStreamBasicFilter
antlr.TokenStreamException
antlr.TokenStreamHiddenTokenFilter
antlr.TokenStreamIOException
antlr.TokenStreamRecognitionException
antlr.TokenStreamRetryException
antlr.TokenStreamSelector
antlr.TreeParser
antlr.TreeParserSharedInputState

antlr.collections.AST
antlr.collections.ASTEnumeration
antlr.collections.List
antlr.collections.Stack

antlr.collections.impl.ASTArray
antlr.collections.impl.ASTEnumerator
antlr.collections.impl.BitSet
antlr.collections.impl.IntRange
antlr.collections.impl.LLCell
antlr.collections.impl.LLEnumeration
antlr.collections.impl.LList
antlr.collections.impl.Vector
antlr.collections.impl.VectorEnumerator

antlr.debug.Event
antlr.debug.GuessingEvent
antlr.debug.ListenerBase
antlr.debug.MessageEvent
antlr.debug.MessageListener
antlr.debug.ParserListener
antlr.debug.ParserMatchEvent
antlr.debug.ParserMatchListener
antlr.debug.ParserTokenEvent
antlr.debug.ParserTokenListener
antlr.debug.SemanticPredicateEvent
antlr.debug.SemanticPredicateListener
antlr.debug.SyntacticPredicateEvent
antlr.debug.SyntacticPredicateListener
antlr.debug.TraceEvent
antlr.debug.TraceListener


Notes/changes to the List of Classes in the current mkjar.bat :

removed:
antlr.DefineGrammarSymbols   --> seems to be a class needed by the Tool.class
but not from the runtime
antlr.debug.misc.*                    --> no need for graphical Debug classes
in a runtime jar

added:
antlr.debug.*Listener*              --> referenced by abstract antlr.Parser
antlr.debug.*Event*                  --> used by Listener
antlr.CharFormatter                    --> used by
antlr.collections.impl.BitSet
antlr.collections.impl.LLEnumeration  --> used by antlr.collections.LList
antlr.collections.impl.IntRange            --< used by
antlr.collections.BitSet

Could some please check if this working with your Parser/Lexers

Note !
It seems that adding all classes in one call in mkjar.bat  kills the jar
commands because the cmdline is too long 1?
any suggestion !?

mfg
Christian



From Christian.Ernst at poet.de  Mon Jan 14 05:42:02 2002
From: Christian.Ernst at poet.de (Christian Ernst)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] ANTLR 2.7.2a2 released :)
References: <EA9EAB91-07C4-11D6-8D1F-0030653DE0D6@jguru.com> <3C42D9B9.BA9AB719@poet.de>
Message-ID: <3C42E02A.B0300ABF@poet.de>

Hy Folks !

missed a class
antlr.fileCopyexception seems to be obsolete in the runtime jar


mfg
Christian

From pete.forman at westerngeco.com  Mon Jan 14 06:13:49 2002
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] ANTLR 2.7.2a2 released :)
In-Reply-To: <EA9EAB91-07C4-11D6-8D1F-0030653DE0D6@jguru.com>
References: <EA9EAB91-07C4-11D6-8D1F-0030653DE0D6@jguru.com>
Message-ID: <15426.59293.533820.507282@gargle.gargle.HOWL>

Terence Parr writes:
 > Please test this a2 release for compatibility with your grammars :)

The grammar I am working on passes my regression tests without
complaint.
-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com  (new)    -./\.-   Hughes or their divisions.

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sander at aqris.com  Mon Jan 14 07:28:07 2002
From: sander at aqris.com (=?iso-8859-1?Q?Sander_M=E4gi?=)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Bug in java grammar 1.18
Message-ID: <05b301c19d10$116bf590$1200a8c0@sander>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: failure.java
Type: application/octet-stream
Size: 409 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20020114/938c2c08/failure.obj
From klaren at cs.utwente.nl  Mon Jan 14 07:43:28 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] ANTLR 2.7.2a2 released :)
In-Reply-To: <EA9EAB91-07C4-11D6-8D1F-0030653DE0D6@jguru.com>; from parrt@jguru.com on Sat, Jan 12, 2002 at 05:28:58PM -0800
References: <EA9EAB91-07C4-11D6-8D1F-0030653DE0D6@jguru.com>
Message-ID: <20020114164327.B29774@cs.utwente.nl>

Hi,

On Sat, Jan 12, 2002 at 05:28:58PM -0800, Terence Parr wrote:
> http://www.antlr.org/nirvana/antlr-2.7.2a2.tar.gz
>
> I have one minor thing to look at and then I want to see if $FIRST can
> be added easily for error recovery/reporting.  Other than that, I think
> we are rapidly approaching 2.7.2 final.

I also recommend this as a testing vehicle for MSVC6 users... One warning
the C++ built is completely broken. Jerry Carter reported building a static
lib, but I was unable to reproduce this at home this weekend (My MSVC6
version was unable to reload his project files, sure gotta love this ms
stuff >:-> ). I'll reinstall MSVC6 and see if that helps (doubt it but if
it helps it wouldn't surprise me...).

Currently it chokes directly in the MSVC6 STL include files (even for
pretty trivial files/classes like ANTLRException). If some more MSVC6 users
could look at it I'd be much obliged, I already spent hours on the dll
build and the static build without getting anywhere...

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     Human beings, who are almost unique in having the ability to learn
   from the experience of others, are also remarkable for their apparent
         disinclination to do so. --- Douglas Adams, Last Chance to See


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From john-yahoo at pybus.org  Mon Jan 14 08:18:47 2002
From: john-yahoo at pybus.org (John P N Pybus)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] Bug in java grammar 1.18
In-Reply-To: <05b301c19d10$116bf590$1200a8c0@sander>
References: <05b301c19d10$116bf590$1200a8c0@sander>
Message-ID: <E16Q9ot-0008Gt-00@frontend2.herald.ox.ac.uk>


While we're on the subject of java.g.  The patch I posted on 12th November to 
fix the identification of float, and double constants hasn't been applied yet.

Here's what I sent previously:

Hi,
 
I'm updating an application which used the java 1.2 grammer in antlr 
2.7.1 to use the 1.3 grammer from 
<http://www.antlr.org/grammars/java>.
 
It's good that the new grammer distiguishes NUM_FLOAT from 
NUM_DOUBLE. It would be even better if it got it right ;-).
 
Your grammer parses 3.14F as a float, 3.14 also as a float, and 
3.14D as a double. According to the java langspec:
 http://java.sun.com/docs/books/jls/second_edition/html/lexical.doc.html#23078
 in the case with no suffix it should be a double.
 
The fix is dead easy:
 
--- java.g Mon Nov 12 11:37:07 2001
 +++ java.g.fixed Mon Nov 12 11:38:41 2001
 @@ -1170,9 +1170,9 @@
 ( ('0'..'9')+ (EXPONENT)? (f1:FLOAT_SUFFIX {t=f1;})?
 {
 - if (t != null && t.getText().toUpperCase().indexOf('D')>=0) {
 - _ttype = NUM_DOUBLE;
 + if (t != null && t.getText().toUpperCase().indexOf('F')>=0) {
 + _ttype = NUM_FLOAT;
 }
 else {
 - _ttype = NUM_FLOAT;
 + _ttype = NUM_DOUBLE;
 }
 }
 @@ -1205,9 +1205,9 @@
 )
 {
 - if (t != null && t.getText().toUpperCase().indexOf('D') >= 0) {
 - _ttype = NUM_DOUBLE;
 + if (t != null && t.getText().toUpperCase().indexOf('F') >= 0) {
 + _ttype = NUM_FLOAT;
 }
 else {
 - _ttype = NUM_FLOAT;
 + _ttype = NUM_DOUBLE;
 }
 }
 
======
 
(It's cut and pasted from the yahoo groups page so the patch may be slightly 
mangled, but it should be easy to make the change by hand.)

John Pybus

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From stdiobe at enneya.com  Mon Jan 14 08:25:32 2002
From: stdiobe at enneya.com (Stdiobe)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] ANTLR 2.7.2a2 released :)
References: <EA9EAB91-07C4-11D6-8D1F-0030653DE0D6@jguru.com> <20020114164327.B29774@cs.utwente.nl>
Message-ID: <000d01c19d19$1f83d040$0100a8c0@daemon>

Ter,

> On Sat, Jan 12, 2002 at 05:28:58PM -0800, Terence Parr wrote:
> > http://www.antlr.org/nirvana/antlr-2.7.2a2.tar.gz
> >
> > I have one minor thing to look at and then I want to see if $FIRST can
> > be added easily for error recovery/reporting.  Other than that, I think
> > we are rapidly approaching 2.7.2 final.

I tested ANTLR 2.7.2a2 on some grammars and test sets for these
grammars; no problems found.

However, I also tested ANTLR on antlr/actions/java/action.g
and it reported several warnings ... I don't know if that's new
or not, just thought I'd report it.

Stdiobe


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Mon Jan 14 10:08:29 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:37 2004
Subject: [antlr-interest] ANTLR 2.7.2a2 released :)
In-Reply-To: <000d01c19d19$1f83d040$0100a8c0@daemon>
Message-ID: <B69ABE2E-0919-11D6-8D1F-0030653DE0D6@jguru.com>


On Monday, January 14, 2002, at 08:25  AM, Stdiobe wrote:

> Ter,
>
>> On Sat, Jan 12, 2002 at 05:28:58PM -0800, Terence Parr wrote:
>>> http://www.antlr.org/nirvana/antlr-2.7.2a2.tar.gz
>>>
>>> I have one minor thing to look at and then I want to see if $FIRST can
>>> be added easily for error recovery/reporting.  Other than that, I 
>>> think
>>> we are rapidly approaching 2.7.2 final.
>
> I tested ANTLR 2.7.2a2 on some grammars and test sets for these
> grammars; no problems found.
>
> However, I also tested ANTLR on antlr/actions/java/action.g
> and it reported several warnings ... I don't know if that's new
> or not, just thought I'd report it.

THanks...yeah, I remember those...I think I was too lazy to turn off the 
warnings with an option or two. Sorry ;)  Unclean of me :(

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tomdz at cs.tu-berlin.de  Tue Jan 15 05:59:47 2002
From: tomdz at cs.tu-berlin.de (Thomas Dudziak)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: ANTLR 2.7.2a2 released :)
Message-ID: <Pine.SOL.4.10.10201151452530.4286-100000@reticuli>

I run the test suite on my my heterogenous AST which uses Unicode (up to
now a slightly modified version of 2.7.1) and it ran without problems
after a little change to my parser (the instantiation of a
RecognitionException with position info now needs 4 instead of 3
parameters).
BTW, i would really appreciate it if there would be a method in
LexerSharedInputState to set the current position (something like public
void setPosition(int line, int column) ) as I currently must subclass it
in order to modify its attributes.

As for the C++ version, I did a quick compile with MSVC6 (SP4) on Win2k
using the top-level workspace (not one from contrib) which required me to
change two things in the workspace:

* re-added all source/header files (some where missing which resulted in
errors)
* changed the output directory (it did put the generated dll into
c:\winnt\system32 which does not exist on my computer)

Other than that, it did compile without errors (only several warnings).
In order to try the dll, I then created a workspace for the examples and
added a project for tinyc. It compiled without errors, but when I ran it,
I got an access violation in

inline bool CharScannerLiteralsLess::operator() (const
ANTLR_USE_NAMESPACE(std)string& x,const ANTLR_USE_NAMESPACE(std)string& y)
const

where y references some in-accessible memory area. The call originates
from the initLiterals method in the generated lexer, more precisely the
first assignment. I did not yet check with the static library, but perhaps
there is some problem with Microsoft's STL version here.

Ciao, Tom


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Tue Jan 15 07:43:41 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: ANTLR 2.7.2a2 released :)
In-Reply-To: <Pine.SOL.4.10.10201151452530.4286-100000@reticuli>; from tomdz@cs.tu-berlin.de on Tue, Jan 15, 2002 at 02:59:47PM +0100
References: <Pine.SOL.4.10.10201151452530.4286-100000@reticuli>
Message-ID: <20020115164340.F29774@cs.utwente.nl>

Hi,

On Tue, Jan 15, 2002 at 02:59:47PM +0100, Thomas Dudziak wrote:
> As for the C++ version, I did a quick compile with MSVC6 (SP4) on Win2k
> using the top-level workspace (not one from contrib) which required me to
> change two things in the workspace:
> 
> * re-added all source/header files (some where missing which resulted in
> errors)
> * changed the output directory (it did put the generated dll into
> c:\winnt\system32 which does not exist on my computer)
> 
> Other than that, it did compile without errors (only several warnings).
> In order to try the dll, I then created a workspace for the examples and
> added a project for tinyc. It compiled without errors, but when I ran it,
> I got an access violation in
> 
> inline bool CharScannerLiteralsLess::operator() (const
> ANTLR_USE_NAMESPACE(std)string& x,const ANTLR_USE_NAMESPACE(std)string& y)
> const
> 
> where y references some in-accessible memory area. The call originates
> from the initLiterals method in the generated lexer, more precisely the
> first assignment. I did not yet check with the static library, but perhaps
> there is some problem with Microsoft's STL version here.

On one point I'm very glad to hear that it works on Win2k with MSVC6.. :)

On the other why the @(#$@# isn't it working on XP then ? I used if I'm not
mistaken the same version of MSVC6 but it dies somewhere in stl header
files. Maybe it's an XP thing .. I guess..

Could you make the operator() a normal member function in stead of inline?
Maybe that helps?

Cheers and thanks a mill for the report,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Why don't we just invite them to dinner and massacre them all when they're
  drunk? You heard the man. There's seven hundred thousand of them. Ah? ..
           So it'd have to be something simple with pasta, then.
                 From: Interesting Times by Terry Pratchet


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Tue Jan 15 10:42:28 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: ANTLR 2.7.2a2 released :)
In-Reply-To: <Pine.SOL.4.10.10201151452530.4286-100000@reticuli>
Message-ID: <A011E81E-09E7-11D6-8D1F-0030653DE0D6@jguru.com>

On Tuesday, January 15, 2002, at 05:59  AM, Thomas Dudziak wrote:

> I run the test suite on my my heterogenous AST which uses Unicode (up to
> now a slightly modified version of 2.7.1) and it ran without problems
> after a little change to my parser (the instantiation of a
> RecognitionException with position info now needs 4 instead of 3
> parameters).
> BTW, i would really appreciate it if there would be a method in
> LexerSharedInputState to set the current position (something like public
> void setPosition(int line, int column) ) as I currently must subclass it
> in order to modify its attributes.

Can you tell me the situation in which you need to modify the position 
directly?  Sorry if it's obvious ;)

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tomdz at cs.tu-berlin.de  Wed Jan 16 07:12:18 2002
From: tomdz at cs.tu-berlin.de (Thomas Dudziak)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: ANTLR 2.7.2a2 released :)
References: <A011E81E-09E7-11D6-8D1F-0030653DE0D6@jguru.com>
Message-ID: <000e01c19ea0$4f1cad80$c3919582@bert>

Sure (its not really obvious ;-).
I use an input stream which converts the input encoding from UTF or
comparable to unicode, which retains the original input stream position such
that the parser can query it and attach it to a node. With this I'm able to
reparse only certain nodes by seeking to this position and using only the
associated rule in the parser. In order not to destroy the position
information as provided by the LexerShardedInputStream, I manipulate it with
such a setter method.

Ciao, Tom



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tomdz at cs.tu-berlin.de  Wed Jan 16 09:39:04 2002
From: tomdz at cs.tu-berlin.de (Thomas Dudziak)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] ANTLR DLL with Visual C++
Message-ID: <001401c19eb4$c9136d40$4a919582@bert>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: Workspaces.zip
Type: application/x-zip-compressed
Size: 5308 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20020116/fca6aa2d/Workspaces.bin
From klaren at cs.utwente.nl  Wed Jan 16 04:43:29 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] ANTLR DLL with Visual C++
In-Reply-To: <001401c19eb4$c9136d40$4a919582@bert>; from tomdz@cs.tu-berlin.de on Wed, Jan 16, 2002 at 06:39:04PM +0100
References: <001401c19eb4$c9136d40$4a919582@bert>
Message-ID: <20020116134329.A2029@cs.utwente.nl>

Hi,

On Wed, Jan 16, 2002 at 06:39:04PM +0100, Thomas Dudziak wrote:
> After having delved a bit mor einto the ANTLR-DLL issue, I think I can shed
> some light on it. With the 2.7.2a2 there are two problems as far as I can
> see:
>
...
>

Many thanks for this clear analysis =)

> So, bad luck with Visual C++ as its seems. Perhaps STLPort works ? This
> would have the benefit of being the same over all supported OSs, and in
> addition its namespace is not std:: (which of course is also a downside as
> all references have to be changed - how about a symbol for choosing the STL
> namespace to use ?). I have not checked whether its license is compatible
> with ANTLR, though.

Hmmm this is not good. I'd rather not switch to a different STL
implementation just because one compiler screws up. Then I'd rather switch
to using custom classes, as this would also make the ppl happy that want a
smaller support lib.

> PS: I have attached the workspace for the antlr lib/dll (intended to go to
> lib\cpp), and also for the tinyc example (intended to go to examples\cpp)
> which contains four targets (debug/release static library which works as
> far as I can see, and debug/release dll which does not work as described
> above).

Thanks a lot!

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     Human beings, who are almost unique in having the ability to learn
   from the experience of others, are also remarkable for their apparent
         disinclination to do so. --- Douglas Adams, Last Chance to See


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Wed Jan 16 08:31:36 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Tool for testing lexers/parsers/tree parsers
Message-ID: <170826586F3BD511910D0200C110AAA801C58191@memail03.bco-home.com>

> I will try to avoid rewriting tested grammars.
> To make sure that all input has been parsed, at the end of a 
> test I should:
> 1. Check that all tokens have been requested
> 2. The token queue of the parser is empty (to be sure that 
> tokens were not
> read only in guessing mode.
> 
> There still remains a problem, of course, because some rules 
> NEED trailing
> tokens for LA. I will add a keyword to distinguish tokens 
> that need to be
> consumed from tokens only needed in LA. 

Very clever.  That avoids the need to rewrite the grammar for testing.
 
> Something similar needs to be done for lexers too.

Luckily, only for protected rules.  If you keep to just testing your
non-protected rules then you are fine.

Monty

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From bogdan_mt at yahoo.com  Wed Jan 16 06:11:44 2002
From: bogdan_mt at yahoo.com (Bogdan Mitu)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Tool for testing lexers/parsers/tree parsers
In-Reply-To: <170826586F3BD511910D0200C110AAA801C5816E@memail03.bco-home.com>
Message-ID: <20020116141144.25596.qmail@web14805.mail.yahoo.com>

Hi Monty,

Thanks for your feedback. See my comments in text.

--- mzukowski@bco.com wrote:
> There is a potential problem in testing specific rules in a parser in that
> the EOF token may not be part of the token sets used for lookahead in
> decisions.  This may also be a problem for "protected" lexer rules.  If
> you
> find such a problem I would recommend simply writing a new rule with the
> EOF
> included.  For example:
> 
> exprTestRule: expr EOF;
> 
> In fact I would recommend doing this for any rules you are going to test
> to
> make sure that all of your test input is used.  Otherwise you might only
> parse as much as the rule wants to see at the same time you would be
> assuming that your entire input has been parsed.

I will try to avoid rewriting tested grammars.
To make sure that all input has been parsed, at the end of a test I should:
1. Check that all tokens have been requested
2. The token queue of the parser is empty (to be sure that tokens were not
read only in guessing mode.

There still remains a problem, of course, because some rules NEED trailing
tokens for LA. I will add a keyword to distinguish tokens that need to be
consumed from tokens only needed in LA. 

Something similar needs to be done for lexers too.

 
Regards,
Bogdan


> I am not actively developing any big grammars right now, but I suspect
> that
> the addition of rules such as the one above may have an effect on the
> warning messages or may even bring in a new ambiguity.  
> 
> I would be very curious to hear how this works in practice for people. 
> One
> approach to not cluttering up your grammar would be to "subclass" in order
> to add your own test rules.  Another approach would be the one I took with
> the GCC C grammar, which is to have your tests be complete programs to
> parse.
> 
> Thanks Bogdan, for a useful tool!
> 
> Monty
> 
> > -----Original Message-----
> > From: Bogdan Mitu [mailto:bogdan_mt@yahoo.com]
> > Sent: Monday, January 07, 2002 7:11 AM
> > To: antlr-interest@yahoogroups.com
> > Cc: parrt@jguru.com
> > Subject: [antlr-interest] Tool for testing lexers/parsers/tree parsers
> > 
> > 
> > Hi all,
> > 
> > I worked on a project using ANTLR default ASTs (speed was not 
> > a concern),
> > and I wrote a small utility to help me test the tree parsers. Later I
> > extended it to allow testing of parsers and lexers as well. I 
> > would like to
> > contribute this utility to ANTLR; I put the files in the ANTLR group
> > http://groups.yahoo.com/group/antlr-interest/files/tester.zip
> > 
> > A test file consists of a header and a series of tests. The 
> > header contains
> > at least the class name, the type (lexer, parser or tree 
> > parser) and the
> > rule to be tested (for parsers/tree parsers). The tests are 
> > pairs input -
> > expected output. The tester takes the input, feed the tool 
> > under test and
> > compare the output with the expected one. Tests that fail are 
> > displayed in
> > pop-up frames.
> > 
> > To run the tool you have to type java test.TestRunner 
> > <filename>. In the
> > root of the distribution you can find some .bat files for 
> > invoking a lexer,
> > a parser and a tree parser. In the "example" folder there is a sample
> > grammar bool.g and some sample tests (lexer.test, parser.test and
> > treeParser.test). Note that in each file the last test is 
> > wrong, just to
> > force frames to pop-up.
> > 
> > If you decide to give it a try, please let me know your comments.
> > 
> > 
> > Regards,
> > 
> >   
> > 
> > 
> > __________________________________________________
> > Do You Yahoo!?
> > Send FREE video emails in Yahoo! Mail!
> > http://promo.yahoo.com/videomail/
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to 
> > http://docs.yahoo.com/info/terms/ 
> > 
> > 
> > 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do You Yahoo!?
Send FREE video emails in Yahoo! Mail!
http://promo.yahoo.com/videomail/

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tomdz at cs.tu-berlin.de  Wed Jan 16 11:21:14 2002
From: tomdz at cs.tu-berlin.de (Thomas Dudziak)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] ANTLR DLL with Visual C++
Message-ID: <Pine.SOL.4.10.10112161038370.18995-100000@europa>

I actually managed to compile the dll with STLPort (4.5) and Visual C++ -
it required only two changes: linking against the STLPort dll (release)
and undefining the symbol ANTLR_CXX_SUPPORTS_UNCAUGHT_EXCEPTION. STLPort
replaces the "std::" namespace, no mangling was necessary.

Of course, providing custom classes would mean reinventing the wheel
sometimes (vector, string etc.) which I personally try to avoid as much as
possible. Perhaps, requiring STLPort for the ANTLR DLL only would be
acceptable as the normal STL works well when using a static library ?

Ciao, Tom



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From todd.blanchard at cacheon.com  Wed Jan 16 12:32:55 2002
From: todd.blanchard at cacheon.com (tblanchard2)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] newbie grammar questions
Message-ID: <a24o1n+udte@eGroups.com>

I'm starting to get my head around ANTLR and have been playing with 
the grammars provided - mostly the java and html grammars.

I want to do some fairly simple file conversions.  The patterns to 
convert are pretty straight forward, its the stuff that doesn't match 
that I can't figure out how to capture and spit out.  

My case in particular is with JSP pages.  They are a bunch of HTML 
stuff with a few tags that look like <% javaCode %>.

There's a simple case. 

If I make a rule like

scriptlet : "<%" stuff "%>" ;

the whole file might be

file : ( (stuff)? (scriptlet) (stuff)? | (stuff) ) !EOF ;

maybe?

This is a really new way of thinking for me so patience is 
appreciated.  Pointers to helpful resources would be fine.

Thanks,




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Thu Jan 17 02:23:27 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] ANTLR DLL with Visual C++
In-Reply-To: <Pine.SOL.4.10.10112161038370.18995-100000@europa>; from tomdz@cs.tu-berlin.de on Wed, Jan 16, 2002 at 08:21:14PM +0100
References: <Pine.SOL.4.10.10112161038370.18995-100000@europa>
Message-ID: <20020117112327.B18510@cs.utwente.nl>

Hi,

On Wed, Jan 16, 2002 at 08:21:14PM +0100, Thomas Dudziak wrote:
> I actually managed to compile the dll with STLPort (4.5) and Visual C++ -
> it required only two changes: linking against the STLPort dll (release)
> and undefining the symbol ANTLR_CXX_SUPPORTS_UNCAUGHT_EXCEPTION. STLPort
> replaces the "std::" namespace, no mangling was necessary.
>
> Of course, providing custom classes would mean reinventing the wheel
> sometimes (vector, string etc.) which I personally try to avoid as much as
> possible. Perhaps, requiring STLPort for the ANTLR DLL only would be
> acceptable as the normal STL works well when using a static library ?

This is indeed a solution. Well I'm not really bursting with energy when it
comes to reimplementing STL stuff just to replace it for MSVC6.. I guess
this is a workable workaround for the MSVC users (for the dll build at
least).

I'll probably be able to do merge work/docu updates next week.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
	  Innovation makes enemies of all those who prospered under the old
	regime, and only lukewarm support is forthcoming from those who would
					prosper under the new. --- Niccol Machiavelli


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gidadoifiok at yahoo.com  Thu Jan 17 10:18:24 2002
From: gidadoifiok at yahoo.com (gidadoifiok)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Bad Feature in 2.7.1: System.exit()
Message-ID: <a274hg+d1fi@eGroups.com>

I'm using ANT, and well the 'antlr' tasks in ANT 1.4 is
broken (supposed to be fixed in 1.5), but that's now why
I'm writing.  I had to write my own task, that calls
'antlr.Tool.main()'.  That way I can write 'ant antlr'
and generate my lexer/parsers.  However, I cannot do an
'ant antlr test' (i.e. do two targets back to back); the
reason is that antlr exits using System.exit()!  This is
bad form, as you are not able to integrate antlr into
other products well.

Here's what I suggest:
  1. create an new runtime Exception called SYSTEM.EXIT
     with a method 'public int getExitCode()'
  2. trap this exception in antlr.Tool.main() like so:

     try {
        ...
     } catch (SystemExitException see) {
       return see.getExitCode();
     } 

This way, you're able able to return control to the calling
method (i.e. the method that called antlr.Tool.main()) and
letting the calling method decide what to do.  (In the case
of the JVM making the call, then it will exit as expected
just as if you had done a System.exit()).  This makes the
code more reusable in my opinion.

- Gidado

Here are all the System.exit()s I found (man, there all
over the place!)  It's even down in the parser!  Perhaps
the panic() method should throw a PanicException, a type
of RuntimeException....

File:   D:\java\ext\antlr-2.7.1\antlr\CharScanner.java
  Pos (226,5):  System.exit(1);
  Pos (231,5):  System.exit(1);
File:   D:\java\ext\antlr-2.7.1\antlr\CppCodeGenerator.java
  Pos (97,13):    System.exit(1);
File:   D:\java\ext\antlr-2.7.1\antlr\debug\LLkDebuggingParser.java
  Pos (220,17):     System.exit(1);
  Pos (229,13):    System.exit(1);
File:   D:\java\ext\antlr-2.7.1\antlr\debug\misc\ASTFrame.java
  Pos (49,16):    // System.exit(0);
File:   D:\java\ext\antlr-2.7.1\antlr\DiagnosticCodeGenerator.java
  Pos (54,21):      System.exit(1);
File:   D:\java\ext\antlr-2.7.1\antlr\HTMLCodeGenerator.java
  Pos (58,21):      System.exit(1);
File:   D:\java\ext\antlr-2.7.1\antlr\JavaCodeGenerator.java
  Pos (83,9):      System.exit(1);
File:   D:\java\ext\antlr-2.7.1\antlr\Parser.java
  Pos (206,5):  System.exit(1);
File:   D:\java\ext\antlr-2.7.1\antlr\SatherCodeGenerator.java
  Pos (79,9):      System.exit(1);
File:   D:\java\ext\antlr-2.7.1\antlr\Tool.java
  Pos (156,9):      System.exit(1);
  Pos (175,9):   System.exit(1);
  Pos (208,9):      System.exit(1);
  Pos (212,9):      System.exit(1);
  Pos (214,5):  System.exit(0);
  Pos (334,5):  System.exit(0);
  Pos (350,9):      System.exit(1);
  Pos (358,5):  System.exit(1);
  Pos (366,5):  System.exit(1);
File:   D:\java\ext\antlr-2.7.1\antlr\TreeParser.java
  Pos (84,9):   System.exit(1);


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From stdiobe at enneya.com  Thu Jan 17 10:32:44 2002
From: stdiobe at enneya.com (Stdiobe)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Bad Feature in 2.7.1: System.exit()
References: <a274hg+d1fi@eGroups.com>
Message-ID: <003601c19f86$434bce00$0100a8c0@daemon>

Gidado,

> I'm using ANT, and well the 'antlr' tasks in ANT 1.4 is
> broken (supposed to be fixed in 1.5), but that's now why
> I'm writing. 

Out of curiosity: what exactly is broken about antlr taks in ANT?
(I'm using antlr tak in ant 1.4.1 without any problems)

Stdiobe

p.s. I think your right, there should be only one exit point instead
      of multiple.



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gidadoifiok at yahoo.com  Thu Jan 17 10:40:44 2002
From: gidadoifiok at yahoo.com (gidadoifiok)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Bug? in 2.7.1: ASTNULLType
In-Reply-To: <a274hg+d1fi@eGroups.com>
Message-ID: <a275rc+fc58@eGroups.com>

The doc says:
  /** There is only one instance of this class **/

But there is no constructor declared which means a default constructor
is provided.  If you do the following:

  System.out.println(new ASTNULLType().hashCode());
  System.out.println(new ASTNULLType().hashCode());
  System.out.println(new ASTNULLType().hashCode());

you will see something like this:

  4565111
  3615258
  2964388

Meaning that it is very possible to create different instances
(where as the intent was only to have one: a singleton)

I suggest the following in ASTNULLType 

public class ASTNULLType implements AST {
    public static final ASNTNULLType singleton = new ASTNULLType();
    private ASTNULLType() { }

Then whereever in code you want to use it, just refer to, e.g.

  public static ASTNULLType ASTNULL = ASTNULLType.singleton;

- Gidado


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Jan 17 10:41:55 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Bad Feature in 2.7.1: System.exit()
In-Reply-To: <a274hg+d1fi@eGroups.com>
Message-ID: <E16C0C3E-0B79-11D6-8D1F-0030653DE0D6@jguru.com>

If you look in 2.7.2a2 you'll note that I have made a specific call you 
can use that avoids the exit().  It has already been extracted and 
isolated to the invocation from main.  There is a new doEverything() 
method you can call :)

let me know if that works...another ANT gentleman asked for this a while 
back.

Ter

On Thursday, January 17, 2002, at 10:18  AM, gidadoifiok wrote:

> I'm using ANT, and well the 'antlr' tasks in ANT 1.4 is
> broken (supposed to be fixed in 1.5), but that's now why
> I'm writing.  I had to write my own task, that calls
> 'antlr.Tool.main()'.  That way I can write 'ant antlr'
> and generate my lexer/parsers.  However, I cannot do an
> 'ant antlr test' (i.e. do two targets back to back); the
> reason is that antlr exits using System.exit()!  This is
> bad form, as you are not able to integrate antlr into
> other products well.
>
> Here's what I suggest:
>   1. create an new runtime Exception called SYSTEM.EXIT
>      with a method 'public int getExitCode()'
>   2. trap this exception in antlr.Tool.main() like so:
>
>      try {
>         ...
>      } catch (SystemExitException see) {
>        return see.getExitCode();
>      }
>
> This way, you're able able to return control to the calling
> method (i.e. the method that called antlr.Tool.main()) and
> letting the calling method decide what to do.  (In the case
> of the JVM making the call, then it will exit as expected
> just as if you had done a System.exit()).  This makes the
> code more reusable in my opinion.
>
> - Gidado
>
> Here are all the System.exit()s I found (man, there all
> over the place!)  It's even down in the parser!  Perhaps
> the panic() method should throw a PanicException, a type
> of RuntimeException....
>
> File:   D:\java\ext\antlr-2.7.1\antlr\CharScanner.java
>   Pos (226,5):  System.exit(1);
>   Pos (231,5):  System.exit(1);
> File:   D:\java\ext\antlr-2.7.1\antlr\CppCodeGenerator.java
>   Pos (97,13):    System.exit(1);
> File:   D:\java\ext\antlr-2.7.1\antlr\debug\LLkDebuggingParser.java
>   Pos (220,17):     System.exit(1);
>   Pos (229,13):    System.exit(1);
> File:   D:\java\ext\antlr-2.7.1\antlr\debug\misc\ASTFrame.java
>   Pos (49,16):    // System.exit(0);
> File:   D:\java\ext\antlr-2.7.1\antlr\DiagnosticCodeGenerator.java
>   Pos (54,21):      System.exit(1);
> File:   D:\java\ext\antlr-2.7.1\antlr\HTMLCodeGenerator.java
>   Pos (58,21):      System.exit(1);
> File:   D:\java\ext\antlr-2.7.1\antlr\JavaCodeGenerator.java
>   Pos (83,9):      System.exit(1);
> File:   D:\java\ext\antlr-2.7.1\antlr\Parser.java
>   Pos (206,5):  System.exit(1);
> File:   D:\java\ext\antlr-2.7.1\antlr\SatherCodeGenerator.java
>   Pos (79,9):      System.exit(1);
> File:   D:\java\ext\antlr-2.7.1\antlr\Tool.java
>   Pos (156,9):      System.exit(1);
>   Pos (175,9):   System.exit(1);
>   Pos (208,9):      System.exit(1);
>   Pos (212,9):      System.exit(1);
>   Pos (214,5):  System.exit(0);
>   Pos (334,5):  System.exit(0);
>   Pos (350,9):      System.exit(1);
>   Pos (358,5):  System.exit(1);
>   Pos (366,5):  System.exit(1);
> File:   D:\java\ext\antlr-2.7.1\antlr\TreeParser.java
>   Pos (84,9):   System.exit(1);
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Jan 17 10:43:45 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] newbie grammar questions
In-Reply-To: <a24o1n+udte@eGroups.com>
Message-ID: <22B95FDE-0B7A-11D6-8D1F-0030653DE0D6@jguru.com>


On Wednesday, January 16, 2002, at 12:32  PM, tblanchard2 wrote:
> My case in particular is with JSP pages.  They are a bunch of HTML
> stuff with a few tags that look like <% javaCode %>.
>
> There's a simple case.
>
> If I make a rule like
>
> scriptlet : "<%" stuff "%>" ;
>
> the whole file might be
>
> file : ( (stuff)? (scriptlet) (stuff)? | (stuff) ) !EOF ;
>
> maybe?

That approach should work with the only wrinkle being that stuff is 
probably a token that is "anything but <%...%>".  I swear there is an 
example somewhere where I do this "match CTEXT" properly.  Hmm....

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gidadoifiok at yahoo.com  Thu Jan 17 10:47:13 2002
From: gidadoifiok at yahoo.com (gidadoifiok)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: Bad Feature in 2.7.1: System.exit()
In-Reply-To: <E16C0C3E-0B79-11D6-8D1F-0030653DE0D6@jguru.com>
Message-ID: <a2767h+6thn@eGroups.com>

--- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
> If you look in 2.7.2a2 you'll note that I have made a specific call you 
> can use that avoids the exit().  It has already been extracted and 
> isolated to the invocation from main.  There is a new doEverything() 
> method you can call :)
> 
> let me know if that works...another ANT gentleman asked for this a
while 
> back.

OK, great!  I'll check it out.

- G


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gidadoifiok at yahoo.com  Thu Jan 17 10:46:13 2002
From: gidadoifiok at yahoo.com (gidadoifiok)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: Bad Feature in 2.7.1: System.exit()
In-Reply-To: <003601c19f86$434bce00$0100a8c0@daemon>
Message-ID: <a2765l+o1cu@eGroups.com>

--- In antlr-interest@y..., "Stdiobe" <stdiobe@e...> wrote:
> Gidado,
> 
> > I'm using ANT, and well the 'antlr' tasks in ANT 1.4 is
> > broken (supposed to be fixed in 1.5), but that's now why
> > I'm writing. 
> 
> Out of curiosity: what exactly is broken about antlr taks in ANT?
> (I'm using antlr tak in ant 1.4.1 without any problems)


I did not find any way to set the classpath from within the antlr
task.  In my ANT classpath, I have 'antlr_2.7.1.jar' set.  Instead,
in the antlr task, you have to set the directory you want to start
the antlr task in.  This directory has to have have the expanded
directory stucture will all the class files accessible.  The reason
this occurs is because the classpath used for the run
'antlr.Tool.main()' is set to "." (presumably).   This would be
fine if I was working by myself, but it's not practical in a
multi-developer environment.

Reference:
   
http://www.mail-archive.com/ant-user%40jakarta.apache.org/msg11655.html

- Gidado


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From stdiobe at enneya.com  Thu Jan 17 10:59:03 2002
From: stdiobe at enneya.com (Stdiobe)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: Bad Feature in 2.7.1: System.exit()
References: <a2765l+o1cu@eGroups.com>
Message-ID: <004c01c19f89$0aad73c0$0100a8c0@daemon>

> The reason this occurs is because the classpath used for the run
> 'antlr.Tool.main()' is set to "." (presumably).   This would be
> fine if I was working by myself, but it's not practical in a
> multi-developer environment.

Well, I have antlr in my CLASSPATH environment variable
so I have no problems :-)

But, I just checked the antlr task definition and you're right, there
is no way to change the classpath for antlr, but looking at
the task implementation I think you could just add below code to 
the class org.apache.tools.ant.taskdefs.optional.ANTLR
to solve your problem (have not tested this, so no guartantee; copied
the code from 'java' task implementation):

    /**
     * Set the classpath to be used
     */
    public void setClasspath(Path s) {
        createClasspath().append(s);
    }
    
    /**
     * Creates a nested classpath element
     */
    public Path createClasspath() {
        return commandline.createClasspath(project).createPath();
    }

Now it should be possible to do something like:

    <antlr ..... classpath="mypath"/>

Stdiobe



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gidadoifiok at yahoo.com  Thu Jan 17 11:12:18 2002
From: gidadoifiok at yahoo.com (gidadoifiok)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Caution in 2.7.1: BaseAST
In-Reply-To: <a275rc+fc58@eGroups.com>
Message-ID: <a277mi+usd4@eGroups.com>

I'm not sure if this was fixed in 2.7.2, but I'll just bring
it up quickly.  I only ran across this, because I could not
decipher the tree-data-structure from the guide, nor from the
AST javadoc.

Here's a method, addChild(AST), in BaseAST.  Note that there
are many casts of AST to BaseAST.  How about when someone
provides their own implementation of AST (that does not
extend BaseAST)?  That will certianly break this code with
a ClassCastException.

    protected BaseAST down;
    protected BaseAST right;

    /**Add a node to the end of the child list for this node */
    public void addChild(AST node) {
	if ( node==null ) return;
	BaseAST t = this.down;
	if ( t!=null ) {
	    while ( t.right!=null ) {
		t = t.right;
	    }
	    t.right = (BaseAST)node;
	}
	else {
	    this.down = (BaseAST)node;
	}
    }

In thinking about it, I came up with several solutions
that could work, but they depends on the accessiblity
of this code.  Are methods like addChild() only used by
parser?  Then perhaps take it out of AST, and make it
private/package-local in BaseAST.  This way, you know
that you're only going to add BaseAST (or its derivatives),
and your class-casting will work.

On the other hand, if developers outside the parser can
addChild() to an AST (saying their descending an AST),
well then it needs to be in the interface, but then you
cannot guarantee that the AST that a developer adds will
be of type BaseAST.  If this were the case, you could do:

    protected AST down;
    protected AST right;

    public void addChild(AST node) {
	if ( node==null ) return;
	AST t = this.down;
	if ( t!=null ) {
	    while ( t.right!=null ) {
		t = t.right;
	    }
	    t.right = node;
	}
	else {
	    this.down = node;
	}
    }

But then of course, you run into problems here in doWorkForAll()

		if ( sibling.getFirstChild()!=null ) {
		    ((BaseAST)sibling.getFirstChild()).doWorkForFindAll(v, target,
partialMatch);
		}

Here's the big problem:  BaseAST implies a data-structure (
parent-children) because it has an implementation.  AST does
not imply a data-structure, because it is an implementation-less
interface.

How can you get around this?  Here is a suggestion:
   Make AST into a class (rather than an interface).
   Basically renaming BaseAST to AST.  Then whoever whats to do
   their own AST, can just extend AST, and override the methods
   that they want.  They may need to you want to make AST a class
   with default behavior.

   On the plus side, you can quickly access (package local) fields
   rather than calling accessor methods getFirstChild() and
   getNextSibling()

   The problems that will arise is that custom AST will get bulky
   (because of creating the AST object), and the methods are 
   interrelated, so the custom AST would likely have to override
   all the methods so that the custom-AST data-structure is properly
   accessed.  For all that work, might as well implement an interface
   and save the cost of creating an (inherited) AST object.

Anyway, this is something that someone close (in understanding/
developing) the code should sort out.  If you leave it, then some
documentation (at the very least) of what might break would be
helpful.

- Gidado


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gidadoifiok at yahoo.com  Thu Jan 17 11:17:33 2002
From: gidadoifiok at yahoo.com (gidadoifiok)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: Bad Feature in 2.7.1: System.exit()
In-Reply-To: <004c01c19f89$0aad73c0$0100a8c0@daemon>
Message-ID: <a2780d+jmgi@eGroups.com>

--- In antlr-interest@y..., "Stdiobe" <stdiobe@e...> wrote:
> but looking at
> the task implementation I think you could just add below code to 
> the class org.apache.tools.ant.taskdefs.optional.ANTLR
> to solve your problem (have not tested this, so no guartantee; copied
> the code from 'java' task implementation):
> 
>     /**
>      * Set the classpath to be used
>      */
>     public void setClasspath(Path s) {
>         createClasspath().append(s);
>     }
>     
>     /**
>      * Creates a nested classpath element
>      */
>     public Path createClasspath() {
>         return commandline.createClasspath(project).createPath();
>     }
> 
> Now it should be possible to do something like:
> 
>     <antlr ..... classpath="mypath"/>
> 
> Stdiobe

Your fix looks good, I just don't have anyway to go onto all
the other developers machines to set their classpaths.  I could
have them all update their ANT distros (with my patch), but
that's a lot of work for me...I'll just wait til we upgrade
to ANT1.5.  For now the following works fine in my build.xml:

<target name="antlr" depends="init">
   <java classname="antlr.Tool"
         fork="yes"
         classpath="${antlib}/${antlr}">
       <arg line="-o ${transform.destination}"/>
       <arg line="${transform.grammar}"/>
   </java>
</target>

- Gidado




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sander at aqris.com  Fri Jan 18 01:54:27 2002
From: sander at aqris.com (=?iso-8859-1?Q?Sander_M=E4gi?=)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Bug in java grammar 1.18 (again)
Message-ID: <009001c1a006$1dd6f840$1200a8c0@sander>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: failure.java
Type: application/octet-stream
Size: 409 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20020118/4c56fe9d/failure.obj
From todd.blanchard at cacheon.com  Fri Jan 18 11:30:08 2002
From: todd.blanchard at cacheon.com (Todd Blanchard)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] How to get line number during parse?
Message-ID: <201DE2FDBE551E46A77474DE8AA14145074998@EX1.cacheon.com>

I'm needing to make a tool that analyzes java code and cites various
items.  When a pattern is matched, how do I find out the line number (or
even character number) of the input stream at the location of match?
 
Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20020118/635f9773/attachment.html
From mzukowski at bco.com  Fri Jan 18 11:31:06 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] How to get line number during parse?
Message-ID: <170826586F3BD511910D0200C110AAA801C581B0@memail03.bco-home.com>

Use a label and then label.getLine() and label.getColumn().
http://www.antlr.org/doc/runtime.html#_bb15

Character number is trickier but I think someone is submitting a patch for
the next release to help with that.

Monty

-----Original Message-----
From: Todd Blanchard [mailto:todd.blanchard@cacheon.com]
Sent: Friday, January 18, 2002 11:30 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] How to get line number during parse?


I'm needing to make a tool that analyzes java code and cites various items.
When a pattern is matched, how do I find out the line number (or even
character number) of the input stream at the location of match?
 
Thanks

Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Trey.Spiva at embarcadero.com  Fri Jan 18 11:31:42 2002
From: Trey.Spiva at embarcadero.com (Trey Spiva)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] How to get line number during parse?
Message-ID: <6791D870658F174FB863E2FA890000A37DCA03@abyss4.advancedsw.com>

Tokens have the line number and column that contains the token.  However,
AST's lose the line number and 
column information.  We created a new AST that retained the line and column
number.

-----Original Message-----
From: Todd Blanchard [mailto:todd.blanchard@cacheon.com]
Sent: Friday, January 18, 2002 12:30 PM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] How to get line number during parse?


I'm needing to make a tool that analyzes java code and cites various items.
When a pattern is matched, how do I find out the line number (or even
character number) of the input stream at the location of match?
 
Thanks

Your use of Yahoo! Groups is subject to the Yahoo! Terms of
<http://docs.yahoo.com/info/terms/> Service. 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20020118/6803a364/attachment.html
From todd.blanchard at cacheon.com  Fri Jan 18 13:26:32 2002
From: todd.blanchard at cacheon.com (Todd Blanchard)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Java Tree Parser Bug?
Message-ID: <201DE2FDBE551E46A77474DE8AA141450B28AF@EX1.cacheon.com>

For those working with the Java Tree Parser file, I made the following
modifications to it:
 
I added a java.util.ArrayList called stringLiterals to the class and
changed the constant rule to read:
 
constant
    :    NUM_INT
    |    CHAR_LITERAL
    |    s:STRING_LITERAL { stringLiterals.add(s.getText()); }
    |    NUM_FLOAT
    |    NUM_DOUBLE
    |    NUM_LONG
    ;
 
 
I then feed it this source but only the "somedatasource" literal makes
it into the list.  Any insight into why that is would be great, thanks.
 
package com.cacheon.sample;
import javax.naming.*;
import java.sql.*;
import javax.sql.*;
import weblogic.jdbc.common.*;
import java.io.*;
/**
 * Title:        BlobWriter.java
 * Description:  BlobWriter that uses weblogic oci
 * Copyright:    Copyright (c) 2002
 * Company:      Abd Inc.
 * @author       Mr. PreviosCrappy Engineer
 * @version 1.0
 */
public class BlobWriter {
 
  public static void writeBlob(InputStream in, long someKey)
    throws SQLException,IOException {
    java.sql.Connection con = null;
    java.sql.PreparedStatement pst = null;
    java.sql.ResultSet rs = null;
    java.io.OutputStream os = null;
    try {
    //get jdbc connection
      con = getConnection();
    //prepare the statement
      pst = con.prepareStatement("SELECT SOME_BLOB FROM BLOB_TABLE WHERE
KEY = ?");
    //set they key
      pst.setLong(1, someKey);
    //execute the query on the rdbs
      rs = pst.executeQuery();
    //if the empty blob column is found buffer out the data to the RDBMS
      if (rs.next()) {
        Blob myBlob = rs.getBlob(1);
        os = ((weblogic.jdbc.common.OracleBlob)
myBlob).getBinaryOutputStream();
        byte [] buf = new byte[4 * 1096];
        int read = 0;
        while((read = in.read(buf)) != -1) {
          os.write(buf,0,read);
        }
        os.close();
        in.close();
      }
    } finally {
    //try and clean up
    if (rs != null)
      try {rs.close();} catch (SQLException sqle) {}
    if (pst != null)
      try {pst.close();} catch(SQLException sqle) {}
    if (con != null)
      try {con.close();} catch(SQLException sqle) {}
    if (in != null)
      try {in.close();} catch (IOException ioe) {}
    if (os != null)
      try {os.close();} catch (IOException ioe) {}
    }
  }
 
  public static java.sql.Connection getConnection() throws SQLException
{
  try {
    Context ctx = new InitialContext();
    DataSource ds = (DataSource) ctx.lookup("somedatasource");
    return ds.getConnection();
    } catch (NamingException ne) {
      throw new SQLException(ne.getMessage());
    }
  }
}
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20020118/acdaeced/attachment.html
From mzukowski at bco.com  Fri Jan 18 13:58:36 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Java Tree Parser Bug?
Message-ID: <170826586F3BD511910D0200C110AAA801C581B1@memail03.bco-home.com>

Try the -traceParser option to antlr.Tool to see what rules are called.  Is
STRING_LITERAL anywhere else in the grammar?

Monty

-----Original Message-----
From: Todd Blanchard [mailto:todd.blanchard@cacheon.com]
Sent: Friday, January 18, 2002 1:27 PM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Java Tree Parser Bug?


For those working with the Java Tree Parser file, I made the following
modifications to it:
 
I added a java.util.ArrayList called stringLiterals to the class and changed
the constant rule to read:
 
constant
    :    NUM_INT
    |    CHAR_LITERAL
    |    s:STRING_LITERAL { stringLiterals.add(s.getText()); }
    |    NUM_FLOAT
    |    NUM_DOUBLE
    |    NUM_LONG
    ;
 
 
I then feed it this source but only the "somedatasource" literal makes it
into the list.  Any insight into why that is would be great, thanks.
 
package com.cacheon.sample;
import javax.naming.*;
import java.sql.*;
import javax.sql.*;
import weblogic.jdbc.common.*;
import java.io.*;
/**
 * Title:        BlobWriter.java
 * Description:  BlobWriter that uses weblogic oci
 * Copyright:    Copyright (c) 2002
 * Company:      Abd Inc.
 * @author       Mr. PreviosCrappy Engineer
 * @version 1.0
 */
public class BlobWriter {

  public static void writeBlob(InputStream in, long someKey)
    throws SQLException,IOException {
    java.sql.Connection con = null;
    java.sql.PreparedStatement pst = null;
    java.sql.ResultSet rs = null;
    java.io.OutputStream os = null;
    try {
    //get jdbc connection
      con = getConnection();
    //prepare the statement
      pst = con.prepareStatement("SELECT SOME_BLOB FROM BLOB_TABLE WHERE KEY
= ?");
    //set they key
      pst.setLong(1, someKey);
    //execute the query on the rdbs
      rs = pst.executeQuery();
    //if the empty blob column is found buffer out the data to the RDBMS
      if (rs.next()) {
        Blob myBlob = rs.getBlob(1);
        os = ((weblogic.jdbc.common.OracleBlob)
myBlob).getBinaryOutputStream();
        byte [] buf = new byte[4 * 1096];
        int read = 0;
        while((read = in.read(buf)) != -1) {
          os.write(buf,0,read);
        }
        os.close();
        in.close();
      }
    } finally {
    //try and clean up
    if (rs != null)
      try {rs.close();} catch (SQLException sqle) {}
    if (pst != null)
      try {pst.close();} catch(SQLException sqle) {}
    if (con != null)
      try {con.close();} catch(SQLException sqle) {}
    if (in != null)
      try {in.close();} catch (IOException ioe) {}
    if (os != null)
      try {os.close();} catch (IOException ioe) {}
    }
  }

  public static java.sql.Connection getConnection() throws SQLException  {
  try {
    Context ctx = new InitialContext();
    DataSource ds = (DataSource) ctx.lookup("somedatasource");
    return ds.getConnection();
    } catch (NamingException ne) {
      throw new SQLException(ne.getMessage());
    }
  }
}

Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Sat Jan 19 06:54:34 2002
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Is C# supported for parser generation yet pls?
Message-ID: <a2c1ba+bp1f@eGroups.com>

Hi All,

Does ANTLR support the creation of parsers in C#?

If not, can someone pls outline the steps I need to take in order to 
add C# output to ANTLR?
- I am familiar with C# and Java but not with ANTLR. So as long as I 
am pointed in the right direction (and all the right directions pls), 
I'll be OK.
- If I get helpful pointers in time, I'll get cranking with the hope 
that C# support will be added before 2.7.2 reaches final status.
- On that note, is there a grammar for ANTLR that has extensive 
compliance tests that I can use to test the generated grammar-parser?

Cheers,

Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sat Jan 19 09:35:30 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Is C# supported for parser generation yet pls?
In-Reply-To: <a2c1ba+bp1f@eGroups.com>
Message-ID: <EF3F8DE8-0D02-11D6-8D1F-0030653DE0D6@jguru.com>


On Saturday, January 19, 2002, at 06:54  AM, micheal_jor wrote:

> Hi All,
>
> Does ANTLR support the creation of parsers in C#?

Nope.  (not yet?)  I talked with a friend at M$ who said he had one .5 
finished, but he's probably too busy to finish.  Code is pretty dark and 
icky in there ;)

> If not, can someone pls outline the steps I need to take in order to
> add C# output to ANTLR?
> - I am familiar with C# and Java but not with ANTLR. So as long as I
> am pointed in the right direction (and all the right directions pls),
> I'll be OK.
> - If I get helpful pointers in time, I'll get cranking with the hope
> that C# support will be added before 2.7.2 reaches final status.
> - On that note, is there a grammar for ANTLR that has extensive
> compliance tests that I can use to test the generated grammar-parser?

The example grammars are a good step, but (mea culpa mea culpa) there is 
no good regression test.  Nothing automated anyway.

As for a code generator, the diff between CPP and Java should be a good 
clue.  You need a code generator object called CSharpCodeGenerator 
(subclass of CodeGenerator) plus an action.g file to parse C# actions 
within a grammar and lots of support code in C# that would mimick the 
C++ and Java stuff.

Probably not something that can be done that quickly, although C# is 
remarkably close to Java ;)

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Sat Jan 19 10:13:43 2002
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: Is C# supported for parser generation yet pls?
In-Reply-To: <EF3F8DE8-0D02-11D6-8D1F-0030653DE0D6@jguru.com>
Message-ID: <a2cd0n+h6k5@eGroups.com>

--- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:

Thank you for the helpful reply Terrence,

> > Does ANTLR support the creation of parsers in C#?
> 
> Nope.  (not yet?)  I talked with a friend at M$ who said he had 
one .5 
> finished, but he's probably too busy to finish.  Code is pretty 
dark and 
> icky in there ;)

OK, that's could be good news really. If he hasn't got he time right 
now and, he's happy to toss what he has into my cubicle with some 
notes that explains how thing fit, I'll finish it.

> > If not, can someone pls outline the steps I need to take in order 
to
> > add C# output to ANTLR?
> > - I am familiar with C# and Java but not with ANTLR. So as long 
as I
> > am pointed in the right direction (and all the right directions 
pls),
> > I'll be OK.
> > - If I get helpful pointers in time, I'll get cranking with the 
hope
> > that C# support will be added before 2.7.2 reaches final status.
> > - On that note, is there a grammar for ANTLR that has extensive
> > compliance tests that I can use to test the generated grammar-
parser?
> 
> The example grammars are a good step, but (mea culpa mea culpa) 
there is 
> no good regression test.  Nothing automated anyway.
> 
> As for a code generator, the diff between CPP and Java should be a 
good 
> clue.  You need a code generator object called CSharpCodeGenerator 
> (subclass of CodeGenerator) plus an action.g file to parse C# 
actions 
> within a grammar and lots of support code in C# that would mimick 
the 
> C++ and Java stuff.
> 
> Probably not something that can be done that quickly, although C# 
is 
> remarkably close to Java ;)

OK, if I do the following:
1) Create the file antlr/CSharpCodeGenerator.java using 
antlr/JavaCodeGenerator.java as a template
2) create a new directory antlr/actions/csharp and port all the stuff 
from antlr/actions/java into it
3) do the same for antlr/examples/csharp from antlr/examples.java

Will this result in C# as a new target?. If not, what else do I need 
to do please?

LIB:
I noticed that there isn't an antlr/lib/java directory. Something 
tells me it exists somewhere nonetheless - perhaps subsumed into 
ANTLR itself - and that it needs porting too. Is this correct? Can 
you identify the files that comprise this "lib/java" pls?

TESTING:
I'm thinking that perhaps I can use the Jacks suite to test the 
parsing with the Java grammar?

I *am* happy to aim for inclusion in 2.7.2 but as you can see, I need 
help getting around the ANTLR source tree at this stage.

Thanks

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sat Jan 19 10:20:47 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: Is C# supported for parser generation yet pls?
In-Reply-To: <a2cd0n+h6k5@eGroups.com>
Message-ID: <42C0B048-0D09-11D6-8D1F-0030653DE0D6@jguru.com>


On Saturday, January 19, 2002, at 10:13  AM, micheal_jor wrote:

> --- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
>
> Thank you for the helpful reply Terrence,
>
>>> Does ANTLR support the creation of parsers in C#?
>>
>> Nope.  (not yet?)  I talked with a friend at M$ who said he had
> one .5
>> finished, but he's probably too busy to finish.  Code is pretty
> dark and
>> icky in there ;)
>
> OK, that's could be good news really. If he hasn't got he time right
> now and, he's happy to toss what he has into my cubicle with some
> notes that explains how thing fit, I'll finish it.
>
>>> If not, can someone pls outline the steps I need to take in order
> to
>>> add C# output to ANTLR?
>>> - I am familiar with C# and Java but not with ANTLR. So as long
> as I
>>> am pointed in the right direction (and all the right directions
> pls),
>>> I'll be OK.
>>> - If I get helpful pointers in time, I'll get cranking with the
> hope
>>> that C# support will be added before 2.7.2 reaches final status.
>>> - On that note, is there a grammar for ANTLR that has extensive
>>> compliance tests that I can use to test the generated grammar-
> parser?
>>
>> The example grammars are a good step, but (mea culpa mea culpa)
> there is
>> no good regression test.  Nothing automated anyway.
>>
>> As for a code generator, the diff between CPP and Java should be a
> good
>> clue.  You need a code generator object called CSharpCodeGenerator
>> (subclass of CodeGenerator) plus an action.g file to parse C#
> actions
>> within a grammar and lots of support code in C# that would mimick
> the
>> C++ and Java stuff.
>>
>> Probably not something that can be done that quickly, although C#
> is
>> remarkably close to Java ;)
>
> OK, if I do the following:
> 1) Create the file antlr/CSharpCodeGenerator.java using
> antlr/JavaCodeGenerator.java as a template
> 2) create a new directory antlr/actions/csharp and port all the stuff
> from antlr/actions/java into it
> 3) do the same for antlr/examples/csharp from antlr/examples.java
>
> Will this result in C# as a new target?. If not, what else do I need
> to do please?
>
> LIB:
> I noticed that there isn't an antlr/lib/java directory. Something
> tells me it exists somewhere nonetheless - perhaps subsumed into
> ANTLR itself - and that it needs porting too. Is this correct? Can
> you identify the files that comprise this "lib/java" pls?

lib/cpp/antlr is what you'd have to mirror.

>
> TESTING:
> I'm thinking that perhaps I can use the Jacks suite to test the
> parsing with the Java grammar?

If you change the syntax ;)  How good are you with emacs? ;)  Or build 
an ANTLR grammar to pull in JavaCC stuff :)

>
> I *am* happy to aim for inclusion in 2.7.2 but as you can see, I need
> help getting around the ANTLR source tree at this stage.

Hopefully that will get you started...I'm running out at the 
moment...private email with m$ email coming to you now.

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ericsmith at windsor.com  Sat Jan 19 12:32:00 2002
From: ericsmith at windsor.com (Smith, Eric V.)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Is C# supported for parser generation yet pl
	s?
Message-ID: <DA0E485EB978B943BA876CEED2FC7F3FCD4A@eastnor.windsor.com>

I started one over a year ago, coding against 2.7.1a4.  I had most of the
samples working.  I got discouraged because of the changing nature of the
.Net runtime, which should be addressed now that it's RTM.  I was also
discouraged because it's difficult to track changes being made to antlr,
specifically the java code generator.

I'm going to pick this up again, eventually.  I was going to wait for 2.7.2
to stabilize, and then try it again from scratch.  Actually I'll probably
wait for bug fixes against 2.7.2, since tracking changes is so time
consuming.

If you want to grab what I had, I think most of it is at
www.windsor.com/erics/antlr-csharp-2.7.1.zip.

I'd also like to start a discussion on making this process easier.  Maybe
something along the lines of the .Net CodeDOM model for language independent
code generation.

Eric.

-----Original Message-----
From: micheal_jor [mailto:open.zone@virgin.net]
Sent: Saturday, January 19, 2002 9:55 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Is C# supported for parser generation yet pls?


Hi All,

Does ANTLR support the creation of parsers in C#?

If not, can someone pls outline the steps I need to take in order to 
add C# output to ANTLR?
- I am familiar with C# and Java but not with ANTLR. So as long as I 
am pointed in the right direction (and all the right directions pls), 
I'll be OK.
- If I get helpful pointers in time, I'll get cranking with the hope 
that C# support will be added before 2.7.2 reaches final status.
- On that note, is there a grammar for ANTLR that has extensive 
compliance tests that I can use to test the generated grammar-parser?

Cheers,

Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ericsmith at windsor.com  Sat Jan 19 12:34:04 2002
From: ericsmith at windsor.com (Smith, Eric V.)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: Is C# supported for parser generation ye
	t pls?
Message-ID: <DA0E485EB978B943BA876CEED2FC7F3FCD4B@eastnor.windsor.com>

> lib/cpp/antlr is what you'd have to mirror.

Since C# is closer to java, I found it easier to mirror the java version.
While it's not separated out, it's all still there.  I just kept converting
stuff until I got the generated code to compile.

Eric.

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sat Jan 19 18:17:43 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: Is C# supported for parser generation ye t pls?
In-Reply-To: <DA0E485EB978B943BA876CEED2FC7F3FCD4B@eastnor.windsor.com>
Message-ID: <E2F5B71A-0D4B-11D6-8D1F-0030653DE0D6@jguru.com>


On Saturday, January 19, 2002, at 12:34  PM, Smith, Eric V. wrote:

>> lib/cpp/antlr is what you'd have to mirror.
>
> Since C# is closer to java, I found it easier to mirror the java 
> version.
> While it's not separated out, it's all still there.  I just kept 
> converting
> stuff until I got the generated code to compile.

Hi Eric,

Yeah I meant just the files etc... and then look for the equiv Java junk.

Glad we might be able to get another code generator :)

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Sun Jan 20 12:25:33 2002
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: Is C# supported for parser generation yet pl s?
In-Reply-To: <DA0E485EB978B943BA876CEED2FC7F3FCD4A@eastnor.windsor.com>
Message-ID: <a2f93t+q2ng@eGroups.com>

--- In antlr-interest@y..., "Smith, Eric V." <ericsmith@w...> wrote:

> I started one over a year ago, coding against 2.7.1a4.  I had most 
of the
> samples working.  I got discouraged because of the changing nature 
of the
> .Net runtime, which should be addressed now that it's RTM.  I was 
also
> discouraged because it's difficult to track changes being made to 
antlr,
> specifically the java code generator.

Perhaps the answer is to extract the java code generator and replace 
it with a flexible set of extensibility interfaces. Hey Terrence?

All the code generators can then be rewritten against those 
interfaces. As a bonus, adding additional languages would be made 
considerably easier.

> I'm going to pick this up again, eventually.  I was going to wait 
for 2.7.2
> to stabilize, and then try it again from scratch.  Actually I'll 
probably
> wait for bug fixes against 2.7.2, since tracking changes is so time
> consuming.
> 
> If you want to grab what I had, I think most of it is at
> www.windsor.com/erics/antlr-csharp-2.7.1.zip.

I would be happy to finish this if you are happy to pass on all that 
has been done so far. Any docs would be appreciated.

> I'd also like to start a discussion on making this process easier.  
Maybe
> something along the lines of the .Net CodeDOM model for language 
independent
> code generation.

Is this in reference to generating parsers for multiple langues on 
the .NET platform or, in relation to ANTLR's code generation process. 
It might be useful in the latter as I suggested above.

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ericsmith at windsor.com  Sun Jan 20 17:04:26 2002
From: ericsmith at windsor.com (Smith, Eric V.)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: Is C# supported for parser generation ye
	t pl s?
Message-ID: <DA0E485EB978B943BA876CEED2FC7F3FCD4E@eastnor.windsor.com>

> -----Original Message-----
> From: micheal_jor [mailto:open.zone@virgin.net]
> Sent: Sunday, January 20, 2002 3:26 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: Is C# supported for parser 
> generation yet
> pl s?
> 
> > If you want to grab what I had, I think most of it is at
> > www.windsor.com/erics/antlr-csharp-2.7.1.zip.
> 
> I would be happy to finish this if you are happy to pass on all that 
> has been done so far. Any docs would be appreciated.


Everything I have is in that file.  Feel free to take it and run with it,
I'm not likely to do any work on it in the near future.


> > I'd also like to start a discussion on making this process easier.  
> Maybe
> > something along the lines of the .Net CodeDOM model for language 
> independent
> > code generation.
> 
> Is this in reference to generating parsers for multiple langues on 
> the .NET platform or, in relation to ANTLR's code generation process. 
> It might be useful in the latter as I suggested above.

I was just suggesting the .Net stuff as an example.  I think you're on track
for doing something similar inside antlr that's platform independent.  The
CodeDOM is an example of a language independent code generator, but it's (a)
platform specific and (b) overkill for what antlr needs.  But the concept is
sound.

Eric.

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From lxb61 at yahoo.com  Sun Jan 20 17:44:22 2002
From: lxb61 at yahoo.com (lxb61)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] ANTLR 2.0
Message-ID: <a2frpm+jm8p@eGroups.com>

Hi,
Can anyone tell me where I can get ANTLR 2.0?

I would like to run the java cross referance tool available on 
http://developer.java.sun.com/developer/technicalArticles/Parser/Serie
sPt4/ and it requires ANTLR 2.0.

I tried the  http://www.antlr.org/ site, but only version 2.6 and 2.7 
were available.

Layla
 

 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Jan 20 20:18:45 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] ANTLR 2.0
In-Reply-To: <a2frpm+jm8p@eGroups.com>
Message-ID: <F60F5432-0E25-11D6-8D1F-0030653DE0D6@jguru.com>


On Sunday, January 20, 2002, at 05:44  PM, lxb61 wrote:

> Hi,
> Can anyone tell me where I can get ANTLR 2.0?
>
> I would like to run the java cross referance tool available on
> http://developer.java.sun.com/developer/technicalArticles/Parser/Serie
> sPt4/ and it requires ANTLR 2.0.
>
> I tried the  http://www.antlr.org/ site, but only version 2.6 and 2.7
> were available.

Responded to you directly with super-secret decoder ring for obtaining 
older versions ;)

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From S.Zschocke at infozoom.de  Mon Jan 21 06:30:30 2002
From: S.Zschocke at infozoom.de (szschocke)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: Is C# supported for parser generation ye t pl s?
In-Reply-To: <DA0E485EB978B943BA876CEED2FC7F3FCD4E@eastnor.windsor.com>
Message-ID: <a2h8m6+5o3l@eGroups.com>

Hi,
I a have been using Eric's source in a c#-project of mine and made a 
couple of changes myself because I had been stumbling across a bug 
(or two, I don't remember). We work(ed) with antlr 2.7.1, too. It 
would be a pity to loose these fixes when upgrading the C# stuff to 
2.7.2 so if there is interest in these changes I can post my stuff...
Stefan
P.S: If there is reply to this post, please send it to my email 
address, too, because I only check this list occasionally.
(s.zschocke@infozoom.de)

--- In antlr-interest@y..., "Smith, Eric V." <ericsmith@w...> wrote:
> > -----Original Message-----
> > From: micheal_jor [mailto:open.zone@v...]
> > Sent: Sunday, January 20, 2002 3:26 PM
> > To: antlr-interest@y...
> > Subject: [antlr-interest] Re: Is C# supported for parser 
> > generation yet
> > pl s?
> > 
> > > If you want to grab what I had, I think most of it is at
> > > www.windsor.com/erics/antlr-csharp-2.7.1.zip.
> > 
> > I would be happy to finish this if you are happy to pass on all 
that 
> > has been done so far. Any docs would be appreciated.
> 
> 
> Everything I have is in that file.  Feel free to take it and run 
with it,
> I'm not likely to do any work on it in the near future.
> 
> 
> > > I'd also like to start a discussion on making this process 
easier.  
> > Maybe
> > > something along the lines of the .Net CodeDOM model for 
language 
> > independent
> > > code generation.
> > 
> > Is this in reference to generating parsers for multiple langues 
on 
> > the .NET platform or, in relation to ANTLR's code generation 
process. 
> > It might be useful in the latter as I suggested above.
> 
> I was just suggesting the .Net stuff as an example.  I think you're 
on track
> for doing something similar inside antlr that's platform 
independent.  The
> CodeDOM is an example of a language independent code generator, but 
it's (a)
> platform specific and (b) overkill for what antlr needs.  But the 
concept is
> sound.
> 
> Eric.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ajl13 at bellatlantic.net  Mon Jan 21 15:13:41 2002
From: ajl13 at bellatlantic.net (aliguori123)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Problems parsing real numbers
Message-ID: <a2i7b5+epna@eGroups.com>

Hi,

I just started using ANTLR from using bison/flex.  I really like ANTLR
over these two tools but I am struggling when trying to parse real
numbers.  Specifically, floating point numbers that do not have an
explicit whole number portion (i.e. '.5', '.3').

The strange thing is that in attempting to figure out how to
accomplish this in ANTLR, I pulled in the grammars from the java,
pascal, and GNUC examples and they all seem to have the same problem. 
I've included a sample below that reproduces the problem.  From what I
can tell - and that doesn't mean much of course - it should do the
job, but the parser will bug out that '.' is an illegal character if
one of these numbers are inputted.  I am using ANTLR v2.7.1.

Otherwise, I am finding ANTLR to be incredibly useful.  I was able to
translate all the expression parsing stuff from lex/yacc to ANTLR with
no problems.  It actually turned out alot better because ANTLR handles
things a bit nicer than lex/yacc do.  ANTLR is really a great tool.

Thanks,
Anthony

<-- BEGIN SNIPPET -->

options {
    language="Cpp";
}

class NumberParser extends Parser;
options {
    buildAST = true;
}

expr: (NUM_INT | NUM_REAL) EOL! ;

class NumberLexer extends Lexer;
options {
k=4;
}

WS_	:	(' '
	|	'\t'
	|	'\r')
		{ _ttype = ANTLR_USE_NAMESPACE(antlr)Token::SKIP; }
	;

DOT: '.';
EOL: '\n';

NUM_INT
	{bool isDecimal=false; /* changed to bool for C++ */}
	:/*	".." {_ttype = DOTDOT;} 
        |*/   '.'  {_ttype = DOT;}
		(('0'..'9')+ (EXPONENT)? { _ttype = NUM_REAL; })?
	|	(	'0' {isDecimal = true;} 
                // special case for just '0'
		|	('1'..'9') ('0'..'9')*  {isDecimal=true;}		// non-zero decimal
		)
		(	{ LA(2)!='.' && LA(3)!='.' && isDecimal}?
			(	'.' ('0'..'9')* (EXPONENT)?
			|	EXPONENT
			)
			{ _ttype = NUM_REAL; }
		)?
	;

EXPONENT
	:	('e') ('+'|'-')? ('0'..'9')+
	;

class NumberTreeWalker extends TreeParser;
options {
	buildAST = true;
}

expr returns [double r]
{
	r=0.0;
}
	: ni:NUM_INT		{r=atoi(ni->getText().c_str());}
	| nf:NUM_REAL		{r=atof(nf->getText().c_str());}
	;

<-- END SNIPPET -->


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Tue Jan 22 05:40:55 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Problems parsing real numbers
Message-ID: <170826586F3BD511910D0200C110AAA801C581B4@memail03.bco-home.com>

DOT needs to be a "protected" method, it is conflicting with your NUM_INT
rule.  Or since you don't reference DOT from any other rule, it could be in
the tokens section, just like DOTDOT is, presumably.  Or in your real parser
you reference DOT an DOTDOT which implicitly defines it for the lexer.

Monty

> -----Original Message-----
> From: aliguori123 [mailto:ajl13@bellatlantic.net]
> Sent: Monday, January 21, 2002 3:14 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Problems parsing real numbers
> 
> 
> Hi,
> 
> I just started using ANTLR from using bison/flex.  I really like ANTLR
> over these two tools but I am struggling when trying to parse real
> numbers.  Specifically, floating point numbers that do not have an
> explicit whole number portion (i.e. '.5', '.3').
> 
> The strange thing is that in attempting to figure out how to
> accomplish this in ANTLR, I pulled in the grammars from the java,
> pascal, and GNUC examples and they all seem to have the same problem. 
> I've included a sample below that reproduces the problem.  From what I
> can tell - and that doesn't mean much of course - it should do the
> job, but the parser will bug out that '.' is an illegal character if
> one of these numbers are inputted.  I am using ANTLR v2.7.1.
> 
> Otherwise, I am finding ANTLR to be incredibly useful.  I was able to
> translate all the expression parsing stuff from lex/yacc to ANTLR with
> no problems.  It actually turned out alot better because ANTLR handles
> things a bit nicer than lex/yacc do.  ANTLR is really a great tool.
> 
> Thanks,
> Anthony
> 
> <-- BEGIN SNIPPET -->
> 
> options {
>     language="Cpp";
> }
> 
> class NumberParser extends Parser;
> options {
>     buildAST = true;
> }
> 
> expr: (NUM_INT | NUM_REAL) EOL! ;
> 
> class NumberLexer extends Lexer;
> options {
> k=4;
> }
> 
> WS_	:	(' '
> 	|	'\t'
> 	|	'\r')
> 		{ _ttype = ANTLR_USE_NAMESPACE(antlr)Token::SKIP; }
> 	;
> 
> DOT: '.';
> EOL: '\n';
> 
> NUM_INT
> 	{bool isDecimal=false; /* changed to bool for C++ */}
> 	:/*	".." {_ttype = DOTDOT;} 
>         |*/   '.'  {_ttype = DOT;}
> 		(('0'..'9')+ (EXPONENT)? { _ttype = NUM_REAL; })?
> 	|	(	'0' {isDecimal = true;} 
>                 // special case for just '0'
> 		|	('1'..'9') ('0'..'9')*  
> {isDecimal=true;}		// non-zero decimal
> 		)
> 		(	{ LA(2)!='.' && LA(3)!='.' && isDecimal}?
> 			(	'.' ('0'..'9')* (EXPONENT)?
> 			|	EXPONENT
> 			)
> 			{ _ttype = NUM_REAL; }
> 		)?
> 	;
> 
> EXPONENT
> 	:	('e') ('+'|'-')? ('0'..'9')+
> 	;
> 
> class NumberTreeWalker extends TreeParser;
> options {
> 	buildAST = true;
> }
> 
> expr returns [double r]
> {
> 	r=0.0;
> }
> 	: ni:NUM_INT		{r=atoi(ni->getText().c_str());}
> 	| nf:NUM_REAL		{r=atof(nf->getText().c_str());}
> 	;
> 
> <-- END SNIPPET -->
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Tue Jan 22 05:41:50 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Problems parsing real numbers
Message-ID: <170826586F3BD511910D0200C110AAA801C581B5@memail03.bco-home.com>

By the way, look at the generated code, this is the way to learn ANTLR.  It
will be obvious what the problem is, even if the solution isn't so obvious.


Monty

> -----Original Message-----
> From: aliguori123 [mailto:ajl13@bellatlantic.net]
> Sent: Monday, January 21, 2002 3:14 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Problems parsing real numbers
> 
> 
> Hi,
> 
> I just started using ANTLR from using bison/flex.  I really like ANTLR
> over these two tools but I am struggling when trying to parse real
> numbers.  Specifically, floating point numbers that do not have an
> explicit whole number portion (i.e. '.5', '.3').
> 
> The strange thing is that in attempting to figure out how to
> accomplish this in ANTLR, I pulled in the grammars from the java,
> pascal, and GNUC examples and they all seem to have the same problem. 
> I've included a sample below that reproduces the problem.  From what I
> can tell - and that doesn't mean much of course - it should do the
> job, but the parser will bug out that '.' is an illegal character if
> one of these numbers are inputted.  I am using ANTLR v2.7.1.
> 
> Otherwise, I am finding ANTLR to be incredibly useful.  I was able to
> translate all the expression parsing stuff from lex/yacc to ANTLR with
> no problems.  It actually turned out alot better because ANTLR handles
> things a bit nicer than lex/yacc do.  ANTLR is really a great tool.
> 
> Thanks,
> Anthony
> 
> <-- BEGIN SNIPPET -->
> 
> options {
>     language="Cpp";
> }
> 
> class NumberParser extends Parser;
> options {
>     buildAST = true;
> }
> 
> expr: (NUM_INT | NUM_REAL) EOL! ;
> 
> class NumberLexer extends Lexer;
> options {
> k=4;
> }
> 
> WS_	:	(' '
> 	|	'\t'
> 	|	'\r')
> 		{ _ttype = ANTLR_USE_NAMESPACE(antlr)Token::SKIP; }
> 	;
> 
> DOT: '.';
> EOL: '\n';
> 
> NUM_INT
> 	{bool isDecimal=false; /* changed to bool for C++ */}
> 	:/*	".." {_ttype = DOTDOT;} 
>         |*/   '.'  {_ttype = DOT;}
> 		(('0'..'9')+ (EXPONENT)? { _ttype = NUM_REAL; })?
> 	|	(	'0' {isDecimal = true;} 
>                 // special case for just '0'
> 		|	('1'..'9') ('0'..'9')*  
> {isDecimal=true;}		// non-zero decimal
> 		)
> 		(	{ LA(2)!='.' && LA(3)!='.' && isDecimal}?
> 			(	'.' ('0'..'9')* (EXPONENT)?
> 			|	EXPONENT
> 			)
> 			{ _ttype = NUM_REAL; }
> 		)?
> 	;
> 
> EXPONENT
> 	:	('e') ('+'|'-')? ('0'..'9')+
> 	;
> 
> class NumberTreeWalker extends TreeParser;
> options {
> 	buildAST = true;
> }
> 
> expr returns [double r]
> {
> 	r=0.0;
> }
> 	: ni:NUM_INT		{r=atoi(ni->getText().c_str());}
> 	| nf:NUM_REAL		{r=atof(nf->getText().c_str());}
> 	;
> 
> <-- END SNIPPET -->
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From a_rueckert at gmx.net  Tue Jan 22 06:07:31 2002
From: a_rueckert at gmx.net (Andreas Rueckert)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] 1st look at Java classfile parser
Message-ID: <02012215030600.00767@hun.bre.de>


-------------- next part --------------
A non-text attachment was scrubbed...
Name: classfileparse.zip
Type: application/x-zip
Size: 9886 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20020122/c891c59c/classfileparse.bin
From a_rueckert at gmx.net  Tue Jan 22 06:26:21 2002
From: a_rueckert at gmx.net (Andreas Rueckert)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] 1st look at Java classfile parser
Message-ID: <02012215030600.00767@hun.bre.de>

Hi!

Sorry, but it seems the following text was missing in my last mail...?

Terence liked the idea of posting an early version of the classfile parser here,
because some of you might be interested in taking a look and commenting.

There are a couple of issues with this version:

- I started with an AST, that was very close to the Classfile specs. Was very
fast, but not very easy to understand for those, who are only familiar to the
Java (tree) parser. I'm trying to generate an AST, that is closer to a tree,
representing a Java source file. This transition is not yet completed, that's
why there's nothing like a classblock in the type definition.

- The AST generation in general is not very elegant at some points (i.e.
compared to the Java grammar). I want to work on this as my skills are getting
better.

- There are still lots of comments missing, that explain what's going on inside
the Classfile parser. But even with the comments, you'll need some knowledge of
the classfile specs to understand most of the actions. The idea of them is, to
leave the constant pool completely out of the AST, and to transform the info in
it to a structure, that is close(r) to a Java sourcefile.

- At this point, I complety ignore bytecode and just parse it as a byte array.
AFAIK, that's why I cannot parse some features, like var initializers. That's
not a big problem to _me_, since I'm mainly interested in generating a nice
classdiagram for some libs. I'm not sure, if there's a good workaround, since
adding a recompiler would bloat the grammar to a degree, that would make it
hard to maintain and maybe too slow to actually use it. Performance was an
issue to me, since some Argo users are spoiled and want to import megabyte
sized jars into Argo. That's the reason, why I couldn't use a Antlr-generated
lexer. It simply added too much overhead and slowed down the RE process.

- I cannot really tell you, if the attached sourcecode will work for you. That
is, because the version I use here, is a Argo module. It means, that it's
cluttered with code to generate all kinds of Metamodel objects and add them to
the current Argo model. I tried to remove all this code (and package info) from
the Antlr files, before I zipped them. If you think, that some essential part
is missing, it's very likely that I was too ambitious with with deleting
process :-). Just ask then.

Feel free to flame,

Andreas





 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From lgc at mail1.jpl.nasa.gov  Tue Jan 22 12:04:35 2002
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] ANTLR Rights and Open Source issues
Message-ID: <a2kgkj+b4o4@eGroups.com>

I've finished my tree grammar generator extension to ANTLR and Ter
and I have been talking about getting that and the tree rewrite 
support into a 2.8 release, possibly along with a code 
generator-generator module that Ter has been thinking about.  I'll
say more about this in a separate message.

The problem that Ter and I are grappling with at the moment is the 
release conditions.  JPL has a fairly liberal Open Source policy, but 
will not release into the public domain (no legal protection against 
liability claims, and no desire to waive copyright protection). Ter's 
view, which I tend to agree with, is that Open Source should be "open 
source" and usable without restriction (except possibly to give
proper credit to developers) in commercial products.  Thus the "ANTLR
Rights" manifesto to be found on the antlr.org site.

Ter is willing to put ANTLR under Open Source license, provided that
1.)  it doesn't add to the hassles of distributing ANTLR, and
2.)  it doesn't compromise the intent of the "Rights" declaration.

The GNU licenses do not support the intent of the "Rights" 
declaration.  Can anyone point us to a good alternative license which 
preserves the "Rights" intent?  Also, does anyone else have comments 
on the general release policy?

Help!

--Loring


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ericsmith at windsor.com  Tue Jan 22 12:40:26 2002
From: ericsmith at windsor.com (Smith, Eric V.)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] ANTLR Rights and Open Source issues
Message-ID: <DA0E485EB978B943BA876CEED2FC7F3FCD5D@eastnor.windsor.com>

How about a BSD style license, for example:
http://www.freebsd.org/copyright/freebsd-license.html

I couldn't find the "rights" section on antlr.org after a brief search, but
I suspect that the BSD license agrees.  If not, my apologies.

Eric.

> -----Original Message-----
> From: lgcraymer [mailto:lgc@mail1.jpl.nasa.gov]
> Sent: Tuesday, January 22, 2002 3:05 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] ANTLR Rights and Open Source issues
> 
> 
> I've finished my tree grammar generator extension to ANTLR and Ter
> and I have been talking about getting that and the tree rewrite 
> support into a 2.8 release, possibly along with a code 
> generator-generator module that Ter has been thinking about.  I'll
> say more about this in a separate message.
> 
> The problem that Ter and I are grappling with at the moment is the 
> release conditions.  JPL has a fairly liberal Open Source policy, but 
> will not release into the public domain (no legal protection against 
> liability claims, and no desire to waive copyright protection). Ter's 
> view, which I tend to agree with, is that Open Source should be "open 
> source" and usable without restriction (except possibly to give
> proper credit to developers) in commercial products.  Thus the "ANTLR
> Rights" manifesto to be found on the antlr.org site.
> 
> Ter is willing to put ANTLR under Open Source license, provided that
> 1.)  it doesn't add to the hassles of distributing ANTLR, and
> 2.)  it doesn't compromise the intent of the "Rights" declaration.
> 
> The GNU licenses do not support the intent of the "Rights" 
> declaration.  Can anyone point us to a good alternative license which 
> preserves the "Rights" intent?  Also, does anyone else have comments 
> on the general release policy?
> 
> Help!
> 
> --Loring
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From iank at bearcave.com  Tue Jan 22 12:53:12 2002
From: iank at bearcave.com (iank@bearcave.com)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] ANTLR Rights and Open Source issues
Message-ID: <200201222053.MAA85631@idiom.com>


> How about a BSD style license, for example:
> http://www.freebsd.org/copyright/freebsd-license.html
> 
> I couldn't find the "rights" section on antlr.org after a brief search, but
> I suspect that the BSD license agrees.  If not, my apologies.

  Following down the Free Software Foundation course of ideological
  purity would probably kill ANTLR.  One of the strengths of ANTLR is
  that it CAN be used in a commercial context and that ANTLR parsers
  do not have to be disclosed.

  I agree that the freeBSD model is a good one.

  Ian

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Tue Jan 22 13:00:11 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] ANTLR Rights and Open Source issues
In-Reply-To: <DA0E485EB978B943BA876CEED2FC7F3FCD5D@eastnor.windsor.com>
Message-ID: <066B2849-0F7B-11D6-8D1F-0030653DE0D6@jguru.com>


On Tuesday, January 22, 2002, at 12:40  PM, Smith, Eric V. wrote:

> How about a BSD style license, for example:
> http://www.freebsd.org/copyright/freebsd-license.html
>
> I couldn't find the "rights" section on antlr.org after a brief search, 
> but
> I suspect that the BSD license agrees.  If not, my apologies.

Wow...it *is* hidden.  Here it is again.  Hasn't changed really in over 
a decade ;)

My main concern is that if I use the word copyright anywhere, then it 
will reduce the "no brainer" nature of the "license".  No lawyers, no 
fuss, no muss.  A number of developers have told me that this has really 
helped them introduce ANTLR into their commercial projects (overcoming 
any management legal objections).

Still though would you believe that people occasionally ask for a 
written letter indicating they can use the software?!  Pretty amazing 
world we live in.

ANTLR's main protection against "theft" has always been that the 
algorithms at the core are hairy and I've always done a bad 
implementation job ;)

Ter
---------------
SOFTWARE RIGHTS

ANTLR 1989-2000 Developed by jGuru.com (MageLang Institute),
http://www.ANTLR.org  and http://www.jGuru.com

We reserve no legal rights to the ANTLR--it is fully in the
public domain. An individual or company may do whatever
they wish with source code distributed with ANTLR or the
code generated by ANTLR, including the incorporation of
ANTLR, or its output, into commerical software.

We encourage users to develop software with ANTLR. However,
we do ask that credit is given to us for developing
ANTLR. By "credit", we mean that if you use ANTLR or
incorporate any source code into one of your programs
(commercial product, research project, or otherwise) that
you acknowledge this fact somewhere in the documentation,
research report, etc... If you like ANTLR and have
developed a nice tool with the output, please mention that
you developed it using ANTLR. In addition, we ask that the
headers remain intact in our source code. As long as these
guidelines are kept, we expect to continue enhancing this
system and expect to make other tools available as they are
completed.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From johnm-antlr at non.net  Tue Jan 22 13:39:43 2002
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] ANTLR Rights and Open Source issues
In-Reply-To: <066B2849-0F7B-11D6-8D1F-0030653DE0D6@jguru.com>
References: <DA0E485EB978B943BA876CEED2FC7F3FCD5D@eastnor.windsor.com>
	<066B2849-0F7B-11D6-8D1F-0030653DE0D6@jguru.com>
Message-ID: <15437.56351.730356.776298@non.non.net>

>>>>> "Terence" == Terence Parr <parrt@jguru.com> writes:
[...]
> My main concern is that if I use the word copyright anywhere, then it
> will reduce the "no brainer" nature of the "license".  No lawyers, no
> fuss, no muss.  A number of developers have told me that this has really
> helped them introduce ANTLR into their commercial projects (overcoming
> any management legal objections).

The (revised) BSD license is as simple as it gets without putting it into
the public domain.

You can argue that the MIT license is even simpler but I personally think
the no endorsement clause is necessary.

The tech world has really opened its eyes to the variety of OSS licenses
and so, IMHO, BSD vs PD is much less of an issue to then BSD vs e.g. GPL.


> Still though would you believe that people occasionally ask for a written
> letter indicating they can use the software?!  Pretty amazing world we
> live in.

Sure -- <bleep/> lawyer <bleep/>!


FYI, all of the "official" OSS licenses are listed at:

http://www.opensource.org/licenses/index.html

Go wild,
	John

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From chuck.siska at nb.conexant.com  Tue Jan 22 14:02:26 2002
From: chuck.siska at nb.conexant.com (Chuck Siska)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] ANTLR Rights and Open Source issues
References: <a2kgkj+b4o4@eGroups.com>
Message-ID: <3C4DE172.A9F42244@nb.conexant.com>

loring --

you might look at one of the other 28 open source licenses at

  http://www.opensource.org/licenses/index.html

-- chuck

lgcraymer wrote:
> 
> I've finished my tree grammar generator extension to ANTLR and Ter
> and I have been talking about getting that and the tree rewrite
> support into a 2.8 release, possibly along with a code
> generator-generator module that Ter has been thinking about.  I'll
> say more about this in a separate message.
> 
> The problem that Ter and I are grappling with at the moment is the
> release conditions.  JPL has a fairly liberal Open Source policy, but
> will not release into the public domain (no legal protection against
> liability claims, and no desire to waive copyright protection). Ter's
> view, which I tend to agree with, is that Open Source should be "open
> source" and usable without restriction (except possibly to give
> proper credit to developers) in commercial products.  Thus the "ANTLR
> Rights" manifesto to be found on the antlr.org site.
> 
> Ter is willing to put ANTLR under Open Source license, provided that
> 1.)  it doesn't add to the hassles of distributing ANTLR, and
> 2.)  it doesn't compromise the intent of the "Rights" declaration.
> 
> The GNU licenses do not support the intent of the "Rights"
> declaration.  Can anyone point us to a good alternative license which
> preserves the "Rights" intent?  Also, does anyone else have comments
> on the general release policy?
> 
> Help!
> 
> --Loring

-- 
                                           |\_/\_.-'""``:-._       
What is life without looking for           . . `; -._      )-;-,_`)
the next cute little bug to play with?     v_,-    _  ),(,.\  ``-' 
                                          _.- _.,-_/ /  ((.'       
-- chuck.siska@conexant.com  `<}:..     ((,.-'   ((,/

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From lgc at mail1.jpl.nasa.gov  Tue Jan 22 14:49:56 2002
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: ANTLR Rights and Open Source issues
In-Reply-To: <15437.56351.730356.776298@non.non.net>
Message-ID: <a2kqak+6fim@eGroups.com>

John, Eric, Ian, Chuck--

Thanks for the pointers.  After looking over the opensource licenses, 
I "like" the Intel version of the BSD license  (it deals with a 
couple of sensitive issues--modification and export--not addressed in 
the BSD license).  It might be useful to tack on a clause excluding 
ANTLR-generated code (thoughts, anyone?), but I think that the 
existence of any sort of license on ANTLR would keep Ter from having 
to write letters and would support the intent of the ANTLR "Rights".

Is anyone violently pro or con having an Open Source license on ANTLR?  

--Loring


--- In antlr-interest@y..., "John D. Mitchell" <johnm-antlr@n...> 
wrote:
> >>>>> "Terence" == Terence Parr <parrt@j...> writes:
> [...]
> > My main concern is that if I use the word copyright anywhere, then 
it
> > will reduce the "no brainer" nature of the "license".  No lawyers, 
no
> > fuss, no muss.  A number of developers have told me that this has 
really
> > helped them introduce ANTLR into their commercial projects 
(overcoming
> > any management legal objections).
> 
> The (revised) BSD license is as simple as it gets without putting it 
into
> the public domain.
> 
> You can argue that the MIT license is even simpler but I personally 
think
> the no endorsement clause is necessary.
> 
> The tech world has really opened its eyes to the variety of OSS 
licenses
> and so, IMHO, BSD vs PD is much less of an issue to then BSD vs e.g. 
GPL.
> 
> 
> > Still though would you believe that people occasionally ask for a 
written
> > letter indicating they can use the software?!  Pretty amazing 
world we
> > live in.
> 
> Sure -- <bleep/> lawyer <bleep/>!
> 
> 
> FYI, all of the "official" OSS licenses are listed at:
> 
> http://www.opensource.org/licenses/index.html
> 
> Go wild,
> 	John


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From david.barron at synergex.com  Tue Jan 22 15:05:57 2002
From: david.barron at synergex.com (David Barron)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: ANTLR Rights and Open Source issues
Message-ID: <EE6AF33CD83078468311279BFE568AC568C27D@darthvader.synergex.com>

Look at the GNU lesser public license (which deals with libraries).  That
should be a good starting point for allowing the redistribution of code
generated by ANTLR and linked against the ANTLR libraries (whether they be
Java/C++/Sather/C#/...) on other licenses (including commercial if
appropriate) while still protecting the original ANTLR source code license.


The LGPL allows developers who link against a library to redistribute their
linked application under any license whatsoever, while still making the
source code of the library subject to the normal GPL restrictions.

David Barron


-----Original Message-----
From: lgcraymer [mailto:lgc@mail1.jpl.nasa.gov]
Sent: Tuesday, January 22, 2002 2:50 PM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: ANTLR Rights and Open Source issues


John, Eric, Ian, Chuck--

Thanks for the pointers.  After looking over the opensource licenses, 
I "like" the Intel version of the BSD license  (it deals with a 
couple of sensitive issues--modification and export--not addressed in 
the BSD license).  It might be useful to tack on a clause excluding 
ANTLR-generated code (thoughts, anyone?), but I think that the 
existence of any sort of license on ANTLR would keep Ter from having 
to write letters and would support the intent of the ANTLR "Rights".

Is anyone violently pro or con having an Open Source license on ANTLR?  

--Loring


--- In antlr-interest@y..., "John D. Mitchell" <johnm-antlr@n...> 
wrote:
> >>>>> "Terence" == Terence Parr <parrt@j...> writes:
> [...]
> > My main concern is that if I use the word copyright anywhere, then 
it
> > will reduce the "no brainer" nature of the "license".  No lawyers, 
no
> > fuss, no muss.  A number of developers have told me that this has 
really
> > helped them introduce ANTLR into their commercial projects 
(overcoming
> > any management legal objections).
> 
> The (revised) BSD license is as simple as it gets without putting it 
into
> the public domain.
> 
> You can argue that the MIT license is even simpler but I personally 
think
> the no endorsement clause is necessary.
> 
> The tech world has really opened its eyes to the variety of OSS 
licenses
> and so, IMHO, BSD vs PD is much less of an issue to then BSD vs e.g. 
GPL.
> 
> 
> > Still though would you believe that people occasionally ask for a 
written
> > letter indicating they can use the software?!  Pretty amazing 
world we
> > live in.
> 
> Sure -- <bleep/> lawyer <bleep/>!
> 
> 
> FYI, all of the "official" OSS licenses are listed at:
> 
> http://www.opensource.org/licenses/index.html
> 
> Go wild,
> 	John


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Matthew.Ford at forward.com.au  Tue Jan 22 15:17:23 2002
From: Matthew.Ford at forward.com.au (Matthew Ford)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: ANTLR Rights and Open Source issues
References: <EE6AF33CD83078468311279BFE568AC568C27D@darthvader.synergex.com>
Message-ID: <002001c1a39a$f2e9e370$0300a8c0@matthewfnb>

I like that kind of set up so I can use Antlr for commercial work and not
have to pass on  licence restrictions on the end produce which I supply to
the client.
matthew
----- Original Message -----
From: "David Barron" <david.barron@synergex.com>
To: <antlr-interest@yahoogroups.com>
Sent: Wednesday, January 23, 2002 10:05 AM
Subject: RE: [antlr-interest] Re: ANTLR Rights and Open Source issues


> Look at the GNU lesser public license (which deals with libraries).  That
> should be a good starting point for allowing the redistribution of code
> generated by ANTLR and linked against the ANTLR libraries (whether they be
> Java/C++/Sather/C#/...) on other licenses (including commercial if
> appropriate) while still protecting the original ANTLR source code
license.
>
>
> The LGPL allows developers who link against a library to redistribute
their
> linked application under any license whatsoever, while still making the
> source code of the library subject to the normal GPL restrictions.
>
> David Barron
>
>
> -----Original Message-----
> From: lgcraymer [mailto:lgc@mail1.jpl.nasa.gov]
> Sent: Tuesday, January 22, 2002 2:50 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: ANTLR Rights and Open Source issues
>
>
> John, Eric, Ian, Chuck--
>
> Thanks for the pointers.  After looking over the opensource licenses,
> I "like" the Intel version of the BSD license  (it deals with a
> couple of sensitive issues--modification and export--not addressed in
> the BSD license).  It might be useful to tack on a clause excluding
> ANTLR-generated code (thoughts, anyone?), but I think that the
> existence of any sort of license on ANTLR would keep Ter from having
> to write letters and would support the intent of the ANTLR "Rights".
>
> Is anyone violently pro or con having an Open Source license on ANTLR?
>
> --Loring
>
>
> --- In antlr-interest@y..., "John D. Mitchell" <johnm-antlr@n...>
> wrote:
> > >>>>> "Terence" == Terence Parr <parrt@j...> writes:
> > [...]
> > > My main concern is that if I use the word copyright anywhere, then
> it
> > > will reduce the "no brainer" nature of the "license".  No lawyers,
> no
> > > fuss, no muss.  A number of developers have told me that this has
> really
> > > helped them introduce ANTLR into their commercial projects
> (overcoming
> > > any management legal objections).
> >
> > The (revised) BSD license is as simple as it gets without putting it
> into
> > the public domain.
> >
> > You can argue that the MIT license is even simpler but I personally
> think
> > the no endorsement clause is necessary.
> >
> > The tech world has really opened its eyes to the variety of OSS
> licenses
> > and so, IMHO, BSD vs PD is much less of an issue to then BSD vs e.g.
> GPL.
> >
> >
> > > Still though would you believe that people occasionally ask for a
> written
> > > letter indicating they can use the software?!  Pretty amazing
> world we
> > > live in.
> >
> > Sure -- <bleep/> lawyer <bleep/>!
> >
> >
> > FYI, all of the "official" OSS licenses are listed at:
> >
> > http://www.opensource.org/licenses/index.html
> >
> > Go wild,
> > John
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ajl13 at bellatlantic.net  Tue Jan 22 15:16:00 2002
From: ajl13 at bellatlantic.net (aliguori123)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: Problems parsing real numbers
In-Reply-To: <170826586F3BD511910D0200C110AAA801C581B5@memail03.bco-home.com>
Message-ID: <a2krrg+551c@eGroups.com>

That did it.  Thank you very much.  I had actually spent quite a bit
of time looking at the generated code.  I have to say, it is much more
readable than lex/yacc generated code ;-)

I think I understand what is going on now.  Thanks again.

Regards,
Anthony

--- In antlr-interest@y..., mzukowski@b... wrote:
> By the way, look at the generated code, this is the way to learn
ANTLR.  It
> will be obvious what the problem is, even if the solution isn't so
obvious.
> 
> 
> Monty
> 
> > -----Original Message-----
> > From: aliguori123 [mailto:ajl13@b...]
> > Sent: Monday, January 21, 2002 3:14 PM
> > To: antlr-interest@y...
> > Subject: [antlr-interest] Problems parsing real numbers
> > 
> > 
> > Hi,
> > 
> > I just started using ANTLR from using bison/flex.  I really like
ANTLR
> > over these two tools but I am struggling when trying to parse real
> > numbers.  Specifically, floating point numbers that do not have an
> > explicit whole number portion (i.e. '.5', '.3').
> > 
> > The strange thing is that in attempting to figure out how to
> > accomplish this in ANTLR, I pulled in the grammars from the java,
> > pascal, and GNUC examples and they all seem to have the same
problem. 
> > I've included a sample below that reproduces the problem.  From
what I
> > can tell - and that doesn't mean much of course - it should do the
> > job, but the parser will bug out that '.' is an illegal character
if
> > one of these numbers are inputted.  I am using ANTLR v2.7.1.
> > 
> > Otherwise, I am finding ANTLR to be incredibly useful.  I was able
to
> > translate all the expression parsing stuff from lex/yacc to ANTLR
with
> > no problems.  It actually turned out alot better because ANTLR
handles
> > things a bit nicer than lex/yacc do.  ANTLR is really a great
tool.
> > 
> > Thanks,
> > Anthony
> > 
> > <-- BEGIN SNIPPET -->
> > 
> > options {
> >     language="Cpp";
> > }
> > 
> > class NumberParser extends Parser;
> > options {
> >     buildAST = true;
> > }
> > 
> > expr: (NUM_INT | NUM_REAL) EOL! ;
> > 
> > class NumberLexer extends Lexer;
> > options {
> > k=4;
> > }
> > 
> > WS_	:	(' '
> > 	|	'\t'
> > 	|	'\r')
> > 		{ _ttype = ANTLR_USE_NAMESPACE(antlr)Token::SKIP; }
> > 	;
> > 
> > DOT: '.';
> > EOL: '\n';
> > 
> > NUM_INT
> > 	{bool isDecimal=false; /* changed to bool for C++ */}
> > 	:/*	".." {_ttype = DOTDOT;} 
> >         |*/   '.'  {_ttype = DOT;}
> > 		(('0'..'9')+ (EXPONENT)? { _ttype = NUM_REAL; })?
> > 	|	(	'0' {isDecimal = true;} 
> >                 // special case for just '0'
> > 		|	('1'..'9') ('0'..'9')*  
> > {isDecimal=true;}		// non-zero decimal
> > 		)
> > 		(	{ LA(2)!='.' && LA(3)!='.' && isDecimal}?
> > 			(	'.' ('0'..'9')* (EXPONENT)?
> > 			|	EXPONENT
> > 			)
> > 			{ _ttype = NUM_REAL; }
> > 		)?
> > 	;
> > 
> > EXPONENT
> > 	:	('e') ('+'|'-')? ('0'..'9')+
> > 	;
> > 
> > class NumberTreeWalker extends TreeParser;
> > options {
> > 	buildAST = true;
> > }
> > 
> > expr returns [double r]
> > {
> > 	r=0.0;
> > }
> > 	: ni:NUM_INT		{r=atoi(ni->getText().c_str());}
> > 	| nf:NUM_REAL		{r=atof(nf->getText().c_str());}
> > 	;
> > 
> > <-- END SNIPPET -->
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ajl13 at bellatlantic.net  Tue Jan 22 15:30:53 2002
From: ajl13 at bellatlantic.net (aliguori123)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: ANTLR Rights and Open Source issues
In-Reply-To: <a2kgkj+b4o4@eGroups.com>
Message-ID: <a2ksnd+h28g@eGroups.com>

I am relatively new to ANTLR, but I have spoken with the GNU people
about compiler licensing before and have had to deal with bringing
open source products into a corporate world (unfortunately).

ANTLR seems to me to fall under the same situation as Bison which is
considered to be a compiler.  As a compiler, there are really two
separate licensing issues to consider, the runtime library and the
actual code generator.  The generated code will always be covered
under whatever license the .g file is licensed under so that is not
really an issue.

If there is no concern about the run-time library being modified and
released under a closed license, then I would recommend the BSD
license.  One thing to be wary of though, is that a special clause may
be needed as C++ libraries atleast are notoriously for being hard to
license if they contain either templates or a large number of inline
functions.

The license of the actual code generator really doesn't matter.  I
would recommend the GNU GPL but the BSD is fine if you don't care
about people reusing the code.

I actually would recommend atleast considering the GPL for the code
generator and the LGPL for the runtime library.  This is how GCC
licenses itself and only ensures that someone doesn't release a closed
version of ANTLR.

I will offer some general advice for getting a tool like this approved
in a corporation though as I have had experience with this :)  Just
use GCC as an example.  GCC is very familiar to most shops and is used
by lots of them too.  The best way to get something approved is to
piggy back on something else :)  They are essential the same types of
tools.

IMHO, public domain with a special rights clause would be harder to
get approved in a corporate environment than an established license
such as the GPL.  In fact, one would probably have an easier time
getting the GPL approved over the BSD license since the GPL is much
more widely used.

Regards,
Anthony Liguori

--- In antlr-interest@y..., "lgcraymer" <lgc@m...> wrote:
> I've finished my tree grammar generator extension to ANTLR and Ter
> and I have been talking about getting that and the tree rewrite 
> support into a 2.8 release, possibly along with a code 
> generator-generator module that Ter has been thinking about.  I'll
> say more about this in a separate message.
> 
> The problem that Ter and I are grappling with at the moment is the 
> release conditions.  JPL has a fairly liberal Open Source policy,
but 
> will not release into the public domain (no legal protection against 
> liability claims, and no desire to waive copyright protection).
Ter's 
> view, which I tend to agree with, is that Open Source should be
"open 
> source" and usable without restriction (except possibly to give
> proper credit to developers) in commercial products.  Thus the
"ANTLR
> Rights" manifesto to be found on the antlr.org site.
> 
> Ter is willing to put ANTLR under Open Source license, provided that
> 1.)  it doesn't add to the hassles of distributing ANTLR, and
> 2.)  it doesn't compromise the intent of the "Rights" declaration.
> 
> The GNU licenses do not support the intent of the "Rights" 
> declaration.  Can anyone point us to a good alternative license
which 
> preserves the "Rights" intent?  Also, does anyone else have comments 
> on the general release policy?
> 
> Help!
> 
> --Loring


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From rjc at trump.net.au  Tue Jan 22 16:04:49 2002
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: ANTLR Rights and Open Source issues
In-Reply-To: <a2ksnd+h28g@eGroups.com>
References: <a2kgkj+b4o4@eGroups.com>
Message-ID: <5.1.0.14.0.20020123105815.02a59ec0@postoffice.trump.net.au>

Hi,

Can you change the current license?

If you do a full rewrite and are the 100% author then obviously you can do 
what you want.....but antlr has accepted contributions from many different 
people, surely you will need to get everyones agreement to change the license.

Some of the other more longstanding projects ie gcc make you sign a 
copyright assignment but i don't think that would work real well 
here(...too much bookkeeping).

- Robert


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From bob at werken.com  Tue Jan 22 17:26:24 2002
From: bob at werken.com (bob mcwhirter)
Date: Mon Dec 20 16:14:38 2004
Subject: [antlr-interest] Re: ANTLR Rights and Open Source issues
In-Reply-To: <5.1.0.14.0.20020123105815.02a59ec0@postoffice.trump.net.au>
Message-ID: <Pine.LNX.3.96.1020122202324.29915A-100000@exeter.exeter.org>


Here's my take/preference.

LGPL, while to an engineer seems reasonable to include in commercial
software, tends to give lawyers the willies.  They don't understand the
difference between linking a library and creating a derivate work.

BSD and ilk are typically a good choice.  The Apache Software Foundation
version has the name recognition of ASF, of course.

I personally release things under ASF or BSD these days.

	-bob
	(please, though, nothing with the word 'GNU' in it)


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From bob at werken.com  Tue Jan 22 17:27:43 2002
From: bob at werken.com (bob mcwhirter)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Re: ANTLR Rights and Open Source issues
In-Reply-To: <5.1.0.14.0.20020123105815.02a59ec0@postoffice.trump.net.au>
Message-ID: <Pine.LNX.3.96.1020122202636.29915B-100000@exeter.exeter.org>

> Can you change the current license?

Sure, Ter ostensibly has the copyright to it, and do what he pleases.
If you argue it's public-domain, then Ter can *assume* copyright (as
can I, or anyone else, for that matter) and do as they please.

> If you do a full rewrite and are the 100% author then obviously you can do 
> what you want.....but antlr has accepted contributions from many different 
> people, surely you will need to get everyones agreement to change the license.

My take is that by contributing code back to the mainline, you
acquiese to the license of the mainline, which to this point has
been public-domain.

	-bob


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From alberto_dri at yahoo.com  Wed Jan 23 02:51:59 2002
From: alberto_dri at yahoo.com (=?iso-8859-1?q?Alberto=20Guizzo=20Dri?=)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] ANTLR
Message-ID: <20020123105159.98039.qmail@web13801.mail.yahoo.com>


I would like to be included in the ANTRL mailing list.

I an interested in building a ASN.1 parser using ANTLR.

Anyone has a grammar description of ASN.1 already done?

Thanks and regards,
Alberto

=====
// Alberto Guizzo Dri          E-mail: alberto_dri@yahoo.com
// tel: +49(731)9608056 (home)  or  +49(731)95331448 (office)

__________________________________________________
Do You Yahoo!?
Everything you'll ever need on one web page
from News and Sport to Email and Music Charts
http://uk.my.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From rjc at trump.net.au  Wed Jan 23 05:01:35 2002
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Re: ANTLR Rights and Open Source issues
In-Reply-To: <Pine.LNX.3.96.1020122202636.29915B-100000@exeter.exeter.or
 g>
References: <5.1.0.14.0.20020123105815.02a59ec0@postoffice.trump.net.au>
Message-ID: <4.2.0.58.20020123234548.00d881b0@postoffice.trump.net.au>

At 08:27 PM 1/22/02 -0500, bob mcwhirter wrote:
> > Can you change the current license?
>
>Sure, Ter ostensibly has the copyright to it, and do what he pleases.
>If you argue it's public-domain, then Ter can *assume* copyright (as
>can I, or anyone else, for that matter) and do as they please.

Ack!!  I just read the RIGHTS file again and realised because the code is 
placed in the public domain there is no disclaimer of warranty or liability 
limitation type clause.

...so if someone uses antlr to build a compiler for their heart-lung 
machine and a antlr bug causes it to fail they are entitled to sue all the 
antlr authors!!!   :-(


> > If you do a full rewrite and are the 100% author then obviously you can do
> > what you want.....but antlr has accepted contributions from many different
> > people, surely you will need to get everyones agreement to change the 
> license.
>
>My take is that by contributing code back to the mainline, you
>acquiese to the license of the mainline, which to this point has
>been public-domain.

The RIGHTS doc is a little weird in that the first paragraph states the 
code is in the public domain and then the 2nd paragraph goes and puts all 
these conditions on it ie a credit clause and header modification 
clause.  You could still have a nasty argument that the author only 
intended their code to be distributed under this modified public domain, a 
sortof license, and not some arbitrary license you later chose.

On the other this is kind of unlikely, but anyway...

  - Robert


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From neukirchen at itm.mu-luebeck.de  Wed Jan 23 08:30:25 2002
From: neukirchen at itm.mu-luebeck.de (Helmut Neukirchen)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Switching between different lexers from within parser
References: <1011663333.473.10367.m12@yahoogroups.com>
Message-ID: <3C4EE521.EC3C8D4@itm.mu-luebeck.de>

Hi folks,

is there a possibility to switch in a clean and deterministic way
beetween different lexers from within the *parser*? 

In contrast to the Javadoc example, where switching between different
lexers is done from within the lexers, I have to deal with a language 
where this is only possible from within the parser.
(Think e.g. of C with embedded SQL, but without the leading "EXEC SQL" 
which usually introduces each statement of embedded SQL.)

In my language, the parser is the only instance which is able to decide
which lexer has to be chosen next. On the other hand, due to the look-ahead 
and the loose coupling between parser and lexers through the token stream, 
the wrong lexer might already have scanned and consumed characters which 
were in fact intended for the other lexer.

Any ideas?

Thanks,
Helmut
-- 
Helmut Neukirchen                   mailto:neukirchen@itm.mu-luebeck.de
Institute for Telematics                   http://www.itm.mu-luebeck.de
Medical University of Luebeck                   phone: +49 451 500 4867
Ratzeburger Allee 160, D-23538 Luebeck, Germany   fax: +49 451 500 3722

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Wed Jan 23 09:01:45 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Switching between different lexers from with
	in parser
Message-ID: <170826586F3BD511910D0200C110AAA801C581BE@memail03.bco-home.com>

> is there a possibility to switch in a clean and deterministic way
> beetween different lexers from within the *parser*? 

Not really, since you always have already consumed at least k tokens.  To
switch from the parser would require some sort of rewind mechanism on your
input stream and then some synchronization from within the parser.  The real
problem is that where you are in the parser is dependent on what was in the
lookahead, and now you've just switched out from under it.  Doing this
within, say, a series of alternates could really confuse the parser.
 
> In contrast to the Javadoc example, where switching between different
> lexers is done from within the lexers, I have to deal with a language 
> where this is only possible from within the parser.
> (Think e.g. of C with embedded SQL, but without the leading 
> "EXEC SQL" 
> which usually introduces each statement of embedded SQL.)
> 
> In my language, the parser is the only instance which is able 
> to decide
> which lexer has to be chosen next. On the other hand, due to 
> the look-ahead 
> and the loose coupling between parser and lexers through the 
> token stream, 
> the wrong lexer might already have scanned and consumed 
> characters which 
> were in fact intended for the other lexer.
> 
> Any ideas?

Post a couple of worst case examples so we have something to chew on.  If it
is mostly a problem with different sets of literals then it may be easy to
solve.  How different are the lexers?  If the tokens are always broken up at
the same boundaries then there may be a way to have multiple types to tokens
explicitly checked with semantic predicates.  

Also remember that the lexer can use an infinite amount of lookahead via
syntactic predicates.  

I've successfully parsed ambiguous languages where keywords were
identifiers--"if if = true then then = false", etc.

You may be able to use a TokenStream between the lexer and parser which does
some "fuzzy parsing" to determine whether it is C or SQL and then change the
type before the parser sees it.  Think of it as a pre-parsing step.

For instance I wrote a BASIC pre-parser which looks for anything following a
GOTO or GOSUB or RETURN TO and forces it to be a label, so the parser
doesn't have any ambiguities about numbers following a GOTO.  But you can
have any arbitrarily complex parser in the middle, you just have to worry
about making sure every token the parser consumed somehow gets handled
properly--either discarded or queued after possibly being transformed and or
coalesced.

Monty

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gidadoifiok at yahoo.com  Wed Jan 23 09:40:01 2002
From: gidadoifiok at yahoo.com (gidadoifiok)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] basic question
Message-ID: <a2mshh+lfcq@eGroups.com>

I'm very new to antlr (and lexing/parsing).  I wanted
to define a rule for a quote-string.

I tried:

    STRING_LITERAL_SINGLE_QUOTE
	:	'\''! ( ~'\'' )* '\''!
	;

However, I kept getting errors that it did not like the
'.' in the example below:

   'good.stuff'

So I changed the rule to:

    STRING_LITERAL_SINGLE_QUOTE
	:	'\''! ( '.' | ~'\'' )* '\''!
	;

Now it works fine.  Perhaps ~'\' does not include '.'?
I'm trying to get a grasp on all the rules, any help
or pointers to doc is greatly appreciated.

Thanks,
Gidado


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Jan 23 09:48:30 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Re: ANTLR Rights and Open Source issues
In-Reply-To: <4.2.0.58.20020123234548.00d881b0@postoffice.trump.net.au>
Message-ID: <6981E9D5-1029-11D6-8D1F-0030653DE0D6@jguru.com>

On Wednesday, January 23, 2002, at 05:01  AM, Robert Colquhoun wrote:
> At 08:27 PM 1/22/02 -0500, bob mcwhirter wrote:
>>> Can you change the current license?
>>
>> Sure, Ter ostensibly has the copyright to it, and do what he pleases.
>> If you argue it's public-domain, then Ter can *assume* copyright (as
>> can I, or anyone else, for that matter) and do as they please.
>
> Ack!!  I just read the RIGHTS file again and realised because the code 
> is
> placed in the public domain there is no disclaimer of warranty or 
> liability
> limitation type clause.
>
> ...so if someone uses antlr to build a compiler for their heart-lung
> machine and a antlr bug causes it to fail they are entitled to sue all 
> the
> antlr authors!!!   :-(

I'm not a lawyer, but I'm guessing we're not exposed ;)

>>> If you do a full rewrite and are the 100% author then obviously you 
>>> can do
>>> what you want.....but antlr has accepted contributions from many 
>>> different
>>> people, surely you will need to get everyones agreement to change the
>> license.
>>
>> My take is that by contributing code back to the mainline, you
>> acquiese to the license of the mainline, which to this point has
>> been public-domain.
>
> The RIGHTS doc is a little weird in that the first paragraph states the
> code is in the public domain and then the 2nd paragraph goes and puts 
> all
> these conditions on it ie a credit clause and header modification

Well, "we ask" not "you must" was the way I put it.  I didn't want 
anything in there that forced people to do anything at all.  Note that I 
pretty much just threw this RIGHTS file together w/o much thought to 
protecting myself--just wanted everyone to be able to use the tool.

> clause.  You could still have a nasty argument that the author only
> intended their code to be distributed under this modified public 
> domain, a
> sortof license, and not some arbitrary license you later chose.
>
> On the other this is kind of unlikely, but anyway...

Hmm...perhaps it's time for a formal license.  I will contact some of 
the people I know that gained from the public-domain status.

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Wed Jan 23 09:58:25 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] basic question
Message-ID: <170826586F3BD511910D0200C110AAA801C581C0@memail03.bco-home.com>

Actually the problem is that antlr only uses characters that it knows you
are using, and '.' wasn't one of them.  The best thing to do is to use the
charVocabulary option in your lexer,
http://www.antlr.org/doc/options.html#charVocabulary.

8-bit Ascii would be:
options { charVocabulary = '\3'..'\377'; }

Monty

> -----Original Message-----
> From: gidadoifiok [mailto:gidadoifiok@yahoo.com]
> Sent: Wednesday, January 23, 2002 9:40 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] basic question
> 
> 
> I'm very new to antlr (and lexing/parsing).  I wanted
> to define a rule for a quote-string.
> 
> I tried:
> 
>     STRING_LITERAL_SINGLE_QUOTE
> 	:	'\''! ( ~'\'' )* '\''!
> 	;
> 
> However, I kept getting errors that it did not like the
> '.' in the example below:
> 
>    'good.stuff'
> 
> So I changed the rule to:
> 
>     STRING_LITERAL_SINGLE_QUOTE
> 	:	'\''! ( '.' | ~'\'' )* '\''!
> 	;
> 
> Now it works fine.  Perhaps ~'\' does not include '.'?
> I'm trying to get a grasp on all the rules, any help
> or pointers to doc is greatly appreciated.
> 
> Thanks,
> Gidado
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Jan 23 09:59:36 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] basic question
In-Reply-To: <a2mshh+lfcq@eGroups.com>
Message-ID: <F663C39A-102A-11D6-8D1F-0030653DE0D6@jguru.com>


On Wednesday, January 23, 2002, at 09:40  AM, gidadoifiok wrote:

> I'm very new to antlr (and lexing/parsing).  I wanted
> to define a rule for a quote-string.
>
> I tried:
>
>     STRING_LITERAL_SINGLE_QUOTE
> 	:	'\''! ( ~'\'' )* '\''!
> 	;
>
> However, I kept getting errors that it did not like the
> '.' in the example below:
>
>    'good.stuff'
>
> So I changed the rule to:
>
>     STRING_LITERAL_SINGLE_QUOTE
> 	:	'\''! ( '.' | ~'\'' )* '\''!
> 	;
>
> Now it works fine.  Perhaps ~'\' does not include '.'?
> I'm trying to get a grasp on all the rules, any help
> or pointers to doc is greatly appreciated.

I think this may help:

http://www.jguru.com/faq/view.jsp?EID=90

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gidadoifiok at yahoo.com  Wed Jan 23 10:35:09 2002
From: gidadoifiok at yahoo.com (gidadoifiok)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Re: basic question
In-Reply-To: <F663C39A-102A-11D6-8D1F-0030653DE0D6@jguru.com>
Message-ID: <a2mvot+bo6h@eGroups.com>

Thanks very much.
- Gidado

--- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:

> I think this may help:
> 
> http://www.jguru.com/faq/view.jsp?EID=90
> 
> Ter
> --
> Chief Scientist & Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From johnm-antlr at non.net  Wed Jan 23 18:19:21 2002
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Re: ANTLR Rights and Open Source issues
In-Reply-To: <a2kqak+6fim@eGroups.com>
References: <15437.56351.730356.776298@non.non.net>
	<a2kqak+6fim@eGroups.com>
Message-ID: <15439.28457.656158.517372@non.non.net>

>>>>> "lgcraymer" == lgcraymer  <lgc@mail1.jpl.nasa.gov> writes:
> John, Eric, Ian, Chuck--

> Thanks for the pointers.  After looking over the opensource licenses, I
> "like" the Intel version of the BSD license (it deals with a couple of
> sensitive issues--modification and export--not addressed in the BSD
> license).

I must have missed something in my re-reading of both of those but I don't
see how the Intel license is different from the BSD license on the issue of
modification of the package.

Personally, unless some crypto code gets put into the Antlr mainline, I
don't see any value to adding the export clause and it just makes the
license that much more cumbersome and brittle.

Take care,
	John

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gidadoifiok at yahoo.com  Thu Jan 24 08:03:21 2002
From: gidadoifiok at yahoo.com (gidadoifiok)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] parser resuse
Message-ID: <a2pb89+7t61@eGroups.com>

I search on 'parser reuse' and came up with these two messages:

  http://groups.yahoo.com/group/antlr-interest/message/4590
  http://groups.yahoo.com/group/antlr-interest/message/4176

Which did not seem to apply.  But my guess is that I can do
something like this:

  TransformScanner ts =
      new TransformScanner(transform); // my derived lexer
  TokenBuffer tb = new TokenBuffer(ts);
  parser.setTokenBuffer(tb);  // user previously constructer parser
  parser.rewind();            // probably don't need to do this?

I will put this in a synchronized method to insure thread-safety.
Is this the way to do it, or is there a correct way?

Thanks,
Gidado


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Jan 24 09:50:10 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] parser resuse
In-Reply-To: <a2pb89+7t61@eGroups.com>
Message-ID: <CF509621-10F2-11D6-BE75-0030653DE0D6@jguru.com>


On Thursday, January 24, 2002, at 08:03  AM, gidadoifiok wrote:

> I search on 'parser reuse' and came up with these two messages:
>
>   http://groups.yahoo.com/group/antlr-interest/message/4590
>   http://groups.yahoo.com/group/antlr-interest/message/4176
>
> Which did not seem to apply.  But my guess is that I can do
> something like this:
>
>   TransformScanner ts =
>       new TransformScanner(transform); // my derived lexer
>   TokenBuffer tb = new TokenBuffer(ts);
>   parser.setTokenBuffer(tb);  // user previously constructer parser
>   parser.rewind();            // probably don't need to do this?
>
> I will put this in a synchronized method to insure thread-safety.
> Is this the way to do it, or is there a correct way?

In 2.7.2 you'll see new reset() methods for the various state 
objects...can you take a look at those?

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From neukirchen at itm.mu-luebeck.de  Fri Jan 25 02:45:46 2002
From: neukirchen at itm.mu-luebeck.de (Helmut Neukirchen)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Re: Switching between different lexers from with in parser
References: <1011852288.434.32487.m12@yahoogroups.com>
Message-ID: <3C51375A.2CE8D796@itm.mu-luebeck.de>

antlr-interest@yahoogroups.com wrote:
>    Date: Wed, 23 Jan 2002 09:01:45 -0800
>    From: mzukowski@bco.com
> Subject: RE: Switching between different lexers from with in parser
> 
> > is there a possibility to switch in a clean and deterministic way
> > beetween different lexers from within the *parser*?
> 
> Not really, since you always have already consumed at least k tokens.  To
> switch from the parser would require some sort of rewind mechanism on your
> input stream and then some synchronization from within the parser.  The real
> problem is that where you are in the parser is dependent on what was in the
> lookahead, and now you've just switched out from under it.  Doing this
> within, say, a series of alternates could really confuse the parser.

I thought so. (Moreover, there must be some features left for ANTLR 3.0 ;-)

> > In contrast to the Javadoc example, where switching between different
> > lexers is done from within the lexers, I have to deal with a language
> > where this is only possible from within the parser.
 
> Post a couple of worst case examples so we have something to chew on.  If it
> is mostly a problem with different sets of literals then it may be easy to
> solve.  How different are the lexers?  If the tokens are always broken up at
> the same boundaries then there may be a way to have multiple types to tokens
> explicitly checked with semantic predicates.
 
For those who are are more interested in this problem: 

The language is MSC-2000 (ITU-T recommendation Z.120) which is a 
specification language (like UML's Sequence Diagramms) which has 
no pre-defined language for describing data. Instead it allows to 
plug-in at *parse time* the data language (describing valid expressions
evaluating to some data) of any other arbitrary language.

An example:

mscdocument SampleDocumentUsingCplusplusAsExternalDataLanguage;
language Cplusplus;
data "#include <math.h>";
inst calling_party variables "flag" : "bool";
inst called_party variables "u", "s", "t" : "float";
utilities reference ref1 reference ref2 reference ref1


msc connection;
inst calling_party;
inst called_party; 

calling_party: instance;
condition when ("flag==true");
in off_hook from env;
in digit from env;
out seizure_int to called_party; time answer_in [ , "10"];
in ack from called_party;
label answer_in; in answer from called_party;
reference ( ref1 alt ref2 ) opt ref2;
endinstance;

called_party: instance;
in seizure_int from calling_party; time "u";
action "u":="pow(u, 1.2)";
out ack to calling_party; time answer_out ("2*u", "(2*u)++"], answer_out &"s" ;
in off_hook from env;
label answer_out; out answer to calling_party; time @"t";
endinstance;

endmsc;

Expressions from the plugged-in data language (here C++) are marked by
double quotes, but according to the MSC-2000 standard you are allowed 
to drop those quotes since a good lexer/parser would still able to 
distinguish MSC language and external data language from the context.

The *.g files of a parser (without lexer switching of course) for MSC-2000
can be found on:
http://www.itm.mu-luebeck.de/english/research/specification/msc2000parser/
(Lexer-switching is necessary each time an evil production named 
*[Ee]xpression, *[Sr]tring or *[Pp]attern is referenced.)


My approach will be to copy some productions from the parser to the lexer
in order to enable the lexer to do some of the parser work in order to 
shift the responsibility of switching from the parser to the lexer.
(Which needs some brainwork in order to identify the unique pre-fixes of
data language expressions.)

Helmut
-- 
Helmut Neukirchen                   mailto:neukirchen@itm.mu-luebeck.de
Institute for Telematics                   http://www.itm.mu-luebeck.de
Medical University of Luebeck                   phone: +49 451 500 4867
Ratzeburger Allee 160, D-23538 Luebeck, Germany   fax: +49 451 500 3722

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From neukirchen at itm.mu-luebeck.de  Fri Jan 25 03:01:36 2002
From: neukirchen at itm.mu-luebeck.de (Helmut Neukirchen)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Re: ASN.1 grammar [was: ANTLR]
References: <1011852288.434.32487.m12@yahoogroups.com>
Message-ID: <3C513B10.25D30DA0@itm.mu-luebeck.de>

antlr-interest@yahoogroups.com wrote:

>    Date: Wed, 23 Jan 2002 10:51:59 +0000 (GMT)
>    From: Alberto Guizzo Dri <alberto_dri@yahoo.com>
> Subject: ANTLR
 
> I an interested in building a ASN.1 parser using ANTLR.
> 
> Anyone has a grammar description of ASN.1 already done?

I'm not aware of one for ANTLR. (I think, there are some for 
JavaCC and lex/yacc freely available...)

Nevertheless, I would also be interested in one 
if you either find one or produce one on your own.

Helmut 
-- 
Helmut Neukirchen                   mailto:neukirchen@itm.mu-luebeck.de
Institute for Telematics                   http://www.itm.mu-luebeck.de
Medical University of Luebeck                   phone: +49 451 500 4867
Ratzeburger Allee 160, D-23538 Luebeck, Germany   fax: +49 451 500 3722

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From a_rueckert at gmx.net  Fri Jan 25 03:26:31 2002
From: a_rueckert at gmx.net (Andreas Rueckert)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Re: ASN.1 grammar [was: ANTLR]
In-Reply-To: <3C513B10.25D30DA0@itm.mu-luebeck.de>
References: <1011852288.434.32487.m12@yahoogroups.com> <3C513B10.25D30DA0@itm.mu-luebeck.de>
Message-ID: <02012512281300.00767@krsn-d93363de>

On Fre, 25 Jan 2002 Helmut Neukirchen wrote:
> antlr-interest@yahoogroups.com wrote:
> 
> >    Date: Wed, 23 Jan 2002 10:51:59 +0000 (GMT)
> >    From: Alberto Guizzo Dri <alberto_dri@yahoo.com>
> > Subject: ANTLR
>  
> > I an interested in building a ASN.1 parser using ANTLR.
> > 
> > Anyone has a grammar description of ASN.1 already done?
> 
> I'm not aware of one for ANTLR. (I think, there are some for 
> JavaCC and lex/yacc freely available...)
> 
> Nevertheless, I would also be interested in one 
> if you either find one or produce one on your own.

Look for postings from Michael T. Richter on this list. I think he wrote one.

This page might also be helpful:
http://www-sop.inria.fr/rodeo/personnel/hoschka/asn1.html

HTH,
Andreas

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From a_rueckert at gmx.net  Fri Jan 25 05:07:04 2002
From: a_rueckert at gmx.net (Andreas Rueckert)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] C++ grammar
Message-ID: <02012514080407.00767@hun.bre.de>

Hi!

What is the latest status of C++ grammar? It's a while that a update on it was
posted?

Ciao,
Andreas

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From john-yahoo at pybus.org  Fri Jan 25 09:58:08 2002
From: john-yahoo at pybus.org (John P N Pybus)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Bug in java grammar 1.18 (again)
Message-ID: <E16UAc4-00013A-00@frontend2.herald.ox.ac.uk>


-------------- next part --------------
A non-text attachment was scrubbed...
Name: java.g
Type: text/x-antlr
Size: 35478 bytes
Desc: Modified java1.3 grammer
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20020125/4ad18681/java.bin
From john-yahoo at pybus.org  Fri Jan 25 10:04:12 2002
From: john-yahoo at pybus.org (John P N Pybus)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Bug in java grammar 1.18 (again)
Message-ID: <E16UAhw-0001C3-00@frontend2.herald.ox.ac.uk>


Sorry, yahoogroups seems to have striped the message from my previous post.  
I won't send the attachment again, but here's what I was trying to say:

On Friday 18 Jan 2002 9:54 am, you (Sander M?gi) wrote:
> Hi
>
> Sending it again - maybe some of you grammar experts could advise - I am
> just a plain java guy myself and am very lost with grammars - just would
> like this to work.
>
> Anyway - I think here is the part that needs changes:
>
> Can someone help?
>
> ...
> // (new Outer()).super()  (create enclosing instance) (SM: but does not
> work for 'holder.outer.super();')
>
>     | primaryExpression DOT! "super"! lp3:LPAREN^
>     | {#lp3.setType(SUPER_CTOR_CALL);#lp3.setText("super");} argList
>     | RPAREN! SEMI!
>
> ...

Indeed, it should be "postfixExpression DOT super", to allow multipart outer
expressions.  This runs into the problem that postfixExpression itself
matches id.id.super().

I've reworked the primaryExpression, and postfixExpression rules to try and
fix that, and your attached example now parses.  I haven't yet had time to
fully test my changes, but I'm posting a new version of java.g for people to
try out.

Let me know if you find any problems with it.

Yours

John Pybus

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From remi.koutcherawy at wanadoo.fr  Sat Jan 26 02:09:47 2002
From: remi.koutcherawy at wanadoo.fr (Remi Koutcherawy)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Switching between different lexers from within parser
References: <1011663333.473.10367.m12@yahoogroups.com> <3C4EE521.EC3C8D4@itm.mu-luebeck.de>
Message-ID: <001101c1a651$95e41880$c814a8c0@Remi>


-------------- next part --------------
A non-text attachment was scrubbed...
Name: SwitchingLexer.zip
Type: application/x-zip-compressed
Size: 1503 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20020126/ab49a898/SwitchingLexer.bin
From remi.koutcherawy at wanadoo.fr  Sat Jan 26 02:17:15 2002
From: remi.koutcherawy at wanadoo.fr (Remi Koutcherawy)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Switching between different lexers from within parser
References: <1011663333.473.10367.m12@yahoogroups.com> <3C4EE521.EC3C8D4@itm.mu-luebeck.de>
Message-ID: <004b01c1a652$a0f00c60$c814a8c0@Remi>

Hi, sorry this text seems to have been cancelled from my preceding mail.

> is there a possibility to switch in a clean and deterministic way
> beetween different lexers from within the *parser*?

I am doing that. (Maybe not so clean as expected and intented)
I join a short working example.

A main_parser switches in its grammar to a B_parser with a B_lexer.
This B_parser returns to the main_parser when it gets an unexpected token.

My main problem was to return from the B_lexer,
*without* consuming the unrecognized tokens.

By the way, I had a look at the generated code, and add some "missing" code in the grammar.
 parse_AST = (AST)currentAST.root;
These variables are not declared in the .g they come from the generated code, so they look like a
hack in the grammar ;-)
This line lacks in the generated code (only for this use, no rush to correct the generator).

R?mi



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From adichand at hotmail.com  Mon Jan 28 03:59:38 2002
From: adichand at hotmail.com (aditya_chandra)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] VHDL grammer
Message-ID: <a33efa+7rf9@eGroups.com>

Hi,

I'm looking for VHDL grammer to work with ANTLR.

If any of you have some thing ready, please share it with me.

Thanks and Best Regards
Aditya



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From zjg1964 at yahoo.com  Mon Jan 28 05:35:40 2002
From: zjg1964 at yahoo.com (jg z)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] error LNK2001
Message-ID: <20020128133540.58876.qmail@web14912.mail.yahoo.com>

Hi, folks,
    We have updated a cplusplus.g file from PCCTS1.33
to ANTLR-2.7.1, and generated the Lexer.hpp,
Lexer.cpp, Parser.hpp and Parser.cpp files with it. We
have also made some necessary alteration to
support.cpp, main.cpp and sevearl .h files to make
every .cpp file go through compiler.
   When we finally Build the .exe file, there is
always the following complaint.
"LIBCD.lib(wincrt0.obj) : error LNK2001: unresolved
external symbol _WinMain@16."
   We have worked a few days on it, but can't go
further. Hope somebody know the trick or the key to
it, please help us. 

      Thank you in advance.

         zuo   28/1




__________________________________________________
Do You Yahoo!?
Great stuff seeking new owners in Yahoo! Auctions! 
http://auctions.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From a_rueckert at gmx.net  Mon Jan 28 06:29:58 2002
From: a_rueckert at gmx.net (Andreas Rueckert)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] error LNK2001
In-Reply-To: <20020128133540.58876.qmail@web14912.mail.yahoo.com>
References: <20020128133540.58876.qmail@web14912.mail.yahoo.com>
Message-ID: <02012815305104.00813@krsn-d93364b7>

Hi!

On Mon, 28 Jan 2002 jg z wrote:
> Hi, folks,
>     We have updated a cplusplus.g file from PCCTS1.33
> to ANTLR-2.7.1, and generated the Lexer.hpp,
> Lexer.cpp, Parser.hpp and Parser.cpp files with it.

Is this a C++ specific grammar or is there a chance to use it with Java?

Ciao,
Andreas

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From zjg1964 at yahoo.com  Mon Jan 28 06:53:43 2002
From: zjg1964 at yahoo.com (jg z)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] error LNK2001
In-Reply-To: <02012815305104.00813@krsn-d93364b7>
Message-ID: <20020128145343.59479.qmail@web14905.mail.yahoo.com>

Hi,Andreas,
   Yes. This is C++ specific grammar. Actually the
Lexer part of it is converted from stdCParser.g for
java. What we need is just a C++ version to work with
some other C++ programs. 

  zuo  28/1

     
--- Andreas Rueckert <a_rueckert@gmx.net> wrote:
> Hi!
> 
> On Mon, 28 Jan 2002 jg z wrote:
> > Hi, folks,
> >     We have updated a cplusplus.g file from
> PCCTS1.33
> > to ANTLR-2.7.1, and generated the Lexer.hpp,
> > Lexer.cpp, Parser.hpp and Parser.cpp files with
> it.
> 
> Is this a C++ specific grammar or is there a chance
> to use it with Java?
> 
> Ciao,
> Andreas
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do You Yahoo!?
Great stuff seeking new owners in Yahoo! Auctions! 
http://auctions.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From a_rueckert at gmx.net  Mon Jan 28 06:59:02 2002
From: a_rueckert at gmx.net (Andreas Rueckert)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] error LNK2001
In-Reply-To: <20020128145343.59479.qmail@web14905.mail.yahoo.com>
References: <20020128145343.59479.qmail@web14905.mail.yahoo.com>
Message-ID: <02012815595805.00813@krsn-d93364b7>

Hi!

On Mon, 28 Jan 2002 jg z wrote:
> Hi,Andreas,
>    Yes. This is C++ specific grammar. Actually the
> Lexer part of it is converted from stdCParser.g for
> java. What we need is just a C++ version to work with
> some other C++ programs. 

Any chance to convert it to Java? I'd be interested in C++ reverse
engineering for ArgoUML.

Ciao,
Andreas

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Trey.Spiva at embarcadero.com  Mon Jan 28 06:58:50 2002
From: Trey.Spiva at embarcadero.com (Trey Spiva)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] error LNK2001
Message-ID: <6791D870658F174FB863E2FA890000A37DCA27@abyss4.advancedsw.com>

This is a common error when building UNICODE code.  The MSDN help topic is
very useful.

BTW are you going to give out the grammar when you are done?

> -----Original Message-----
> From: jg z [mailto:zjg1964@yahoo.com]
> Sent: Monday, January 28, 2002 6:36 AM
> To: antlr-interest@yahoogroups.com
> Cc: David Wigg
> Subject: [antlr-interest] error LNK2001
> 
> 
> Hi, folks,
>     We have updated a cplusplus.g file from PCCTS1.33
> to ANTLR-2.7.1, and generated the Lexer.hpp,
> Lexer.cpp, Parser.hpp and Parser.cpp files with it. We
> have also made some necessary alteration to
> support.cpp, main.cpp and sevearl .h files to make
> every .cpp file go through compiler.
>    When we finally Build the .exe file, there is
> always the following complaint.
> "LIBCD.lib(wincrt0.obj) : error LNK2001: unresolved
> external symbol _WinMain@16."
>    We have worked a few days on it, but can't go
> further. Hope somebody know the trick or the key to
> it, please help us. 
> 
>       Thank you in advance.
> 
>          zuo   28/1
> 
> 
> 
> 
> __________________________________________________
> Do You Yahoo!?
> Great stuff seeking new owners in Yahoo! Auctions! 
> http://auctions.yahoo.com
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From neukirchen at itm.mu-luebeck.de  Mon Jan 28 09:54:17 2002
From: neukirchen at itm.mu-luebeck.de (Helmut Neukirchen)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Switching between different lexers from within parser
References: <1011663333.473.10367.m12@yahoogroups.com> <3C4EE521.EC3C8D4@itm.mu-luebeck.de> <001101c1a651$95e41880$c814a8c0@Remi>
Message-ID: <3C559049.7030600@itm.mu-luebeck.de>

Remi Koutcherawy wrote:

> Hi,
> 
> 
>>is there a possibility to switch in a clean and deterministic way
>>beetween different lexers from within the *parser*?
>>
> 
> I am doing that. (Maybe not so clean as expected and intented)
> I join a short working example.
> 
> A main_parser switches in its grammar to a B_parser with a B_lexer.
> This B_parser returns to the main_parser when it gets an unexpected token.
> 
> My main problem was to return from the B_lexer,
> *without* consuming the unrecognized tokens.


What about a Main_Parser with a larger lookahead or syntactic predicates
which makes the Main_Lexer consume characters which were intended for B_Lexer?
Wouldn't you also need some mechanisms to prevent the Main_Lexer from
consuming B_lexer tokens? I.e. add your exception stuff also to the
Main_Lexer. (For my problem this wouldn't help anyway since there might be
an overlap of tokens between the different lexers.)

Helmut
-- 
Helmut Neukirchen                   mailto:neukirchen@itm.mu-luebeck.de
Institute for Telematics                   http://www.itm.mu-luebeck.de
Medical University of Luebeck                   phone: +49 451 500 4867
Ratzeburger Allee 160, D-23538 Luebeck, Germany   fax: +49 451 500 3722


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From remi.koutcherawy at wanadoo.fr  Mon Jan 28 13:30:50 2002
From: remi.koutcherawy at wanadoo.fr (Remi Koutcherawy)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Switching between different lexers from within parser
References: <1011663333.473.10367.m12@yahoogroups.com> <3C4EE521.EC3C8D4@itm.mu-luebeck.de> <001101c1a651$95e41880$c814a8c0@Remi> <3C559049.7030600@itm.mu-luebeck.de>
Message-ID: <005d01c1a843$0f4f1240$c814a8c0@Remi>

> What about a Main_Parser with a larger lookahead or syntactic predicates
> which makes the Main_Lexer consume characters which were intended for B_Lexer?

Seems to work OK, ANTLR behave well.
The Main_lexer may look ahead, but rewind before passing control to sub_lexer.
There are overlap of token between lexers that does not matter.

The tricky stuff with exceptions did not proof to be a good solution : cancel it.
I am still looking for a way to return from a sub_lexer matching an optionnal end token.

R?mi


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From john-yahoo at pybus.org  Tue Jan 29 10:17:40 2002
From: john-yahoo at pybus.org (John Pybus)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Fix to Java 1.3 Grammer, new Java 1.4 Grammer.
In-Reply-To: <008f01c1a8a0$c595ff20$1200a8c0@sander>
References: <E16UAhw-0001C3-00@frontend2.herald.ox.ac.uk> <008f01c1a8a0$c595ff20$1200a8c0@sander>
Message-ID: <E16VcpA-0000Rv-00@frontend2.herald.ox.ac.uk>


-------------- next part --------------
A non-text attachment was scrubbed...
Name: java14.zip
Type: application/x-zip
Size: 17426 bytes
Desc: Java Recognizer
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20020129/6f018e27/java14.bin
From john-yahoo at pybus.org  Tue Jan 29 10:20:49 2002
From: john-yahoo at pybus.org (John P N Pybus)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Fix to Java 1.3 Grammer, new Java 1.4 Grammer.
Message-ID: <E16VcsD-0000cN-00@frontend2.herald.ox.ac.uk>


Bollocks, Yahoo!'s still messing up my attachments.  Sorry folks, here's what 
I actually wrote:
---------

On Tuesday 29 Jan 2002 8:41 am, you (Sander M?gi) wrote:
> Thanks,
>
> I can merge it with my code next week and run jacks tests on it. I'll let
> you know.
>
> Sander

I've tidied the version I posted on Friday up a little, and run some 
comparisons with the previous version.  I'm now much more sure it's correct.  
I'm attaching the new version.

I've also included a grammer java14.g which inherits from java.g, and adds 
support for Java 1.4 style assertions.  Since this syntax is optional in 1.4, 
I've not rolled it into the main grammer.

John

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From herculus6502 at yahoo.com.tw  Wed Jan 30 17:19:53 2002
From: herculus6502 at yahoo.com.tw (herculus6502)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] An add-in for editing/compiling *.g files under JBuilder4/5/6
Message-ID: <a3a63p+8ob1@eGroups.com>

1.Get it in the "Files" zone
2.Put in the "...jbuilder(n)\lib\ext" folder, where n=4,5,6
3.start jbuilder, invoke it under main menu "tools"->"antlr editor"
4.edit the grammar file as you often do
5.compile it

enjoy!

Juin-Shien Tzeng 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Jan 30 17:25:13 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] An add-in for editing/compiling *.g files under JBuilder4/5/6
In-Reply-To: <a3a63p+8ob1@eGroups.com>
Message-ID: <602122EC-15E9-11D6-812F-0030653DE0D6@jguru.com>


On Wednesday, January 30, 2002, at 05:19  PM, herculus6502 wrote:

> 1.Get it in the "Files" zone

Is this at the borland site or something?  Cool!

Ter

> 2.Put in the "...jbuilder(n)\lib\ext" folder, where n=4,5,6
> 3.start jbuilder, invoke it under main menu "tools"->"antlr editor"
> 4.edit the grammar file as you often do
> 5.compile it
>
> enjoy!
>
> Juin-Shien Tzeng
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From herculus6502 at yahoo.com.tw  Wed Jan 30 18:46:47 2002
From: herculus6502 at yahoo.com.tw (herculus6502)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Re: An add-in for editing/compiling *.g files under JBuilder4/5/6
In-Reply-To: <602122EC-15E9-11D6-812F-0030653DE0D6@jguru.com>
Message-ID: <a3ab6n+ktt9@eGroups.com>

--- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
> 
> On Wednesday, January 30, 2002, at 05:19  PM, herculus6502 wrote:
> 
> > 1.Get it in the "Files" zone
> 
> Is this at the borland site or something?  Cool!

No, sir. I forgot that many people read this group out of yahoo's 
site...

here it is:

http://groups.yahoo.com/group/antlr-interest/files/AntlrEditor.jar
> 
> Ter
> 
> > 2.Put in the "...jbuilder(n)\lib\ext" folder, where n=4,5,6
> > 3.start jbuilder, invoke it under main menu "tools"->"antlr 
editor"
> > 4.edit the grammar file as you often do
> > 5.compile it
> >
> > enjoy!
> >
> > Juin-Shien Tzeng
> >
> >
> >
> >
> > Your use of Yahoo! Groups is subject to 
> > http://docs.yahoo.com/info/terms/
> >
> >
> --
> Chief Scientist & Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From john-yahoo at pybus.org  Thu Jan 31 09:31:33 2002
From: john-yahoo at pybus.org (John P N Pybus)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Fix to Java 1.3 Grammer, new Java 1.4 Grammer.
In-Reply-To: <E16VcsD-0000cN-00@frontend2.herald.ox.ac.uk>
References: <E16VcsD-0000cN-00@frontend2.herald.ox.ac.uk>
Message-ID: <E16WL3d-0001OH-00@frontend2.herald.ox.ac.uk>

On Tuesday 29 Jan 2002 6:20 pm, you (John P N Pybus) wrote:
>
> On Tuesday 29 Jan 2002 8:41 am, you (Sander M?gi) wrote:
> > Thanks,
> >
> > I can merge it with my code next week and run jacks tests on it. I'll let
> > you know.
> >
> > Sander
>
> I've tidied the version I posted on Friday up a little, and run some
> comparisons with the previous version.  I'm now much more sure it's
> correct. I'm attaching the new version.
>
> I've also included a grammer java14.g which inherits from java.g, and adds
> support for Java 1.4 style assertions.  Since this syntax is optional in
> 1.4, I've not rolled it into the main grammer.

I've fixed a couple of silly mistakes in my previous changes to the java 
grammer.  I'm not going to try attaching it to an email.  It's available at 
<http://www.pybus.org/code/antlr/java14.2002-01-31.zip>.

Yours,

John

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Jan 31 09:47:34 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Fix to Java 1.3 Grammer, new Java 1.4 Grammer.
In-Reply-To: <E16WL3d-0001OH-00@frontend2.herald.ox.ac.uk>
Message-ID: <9BA45034-1672-11D6-A22A-0030653DE0D6@jguru.com>


On Thursday, January 31, 2002, at 09:31  AM, John P N Pybus wrote:

> On Tuesday 29 Jan 2002 6:20 pm, you (John P N Pybus) wrote:
>>
>> On Tuesday 29 Jan 2002 8:41 am, you (Sander M?gi) wrote:
>>> Thanks,
>>>
>>> I can merge it with my code next week and run jacks tests on it. I'll 
>>> let
>>> you know.
>>>
>>> Sander
>>
>> I've tidied the version I posted on Friday up a little, and run some
>> comparisons with the previous version.  I'm now much more sure it's
>> correct. I'm attaching the new version.
>>
>> I've also included a grammer java14.g which inherits from java.g, and 
>> adds
>> support for Java 1.4 style assertions.  Since this syntax is optional 
>> in
>> 1.4, I've not rolled it into the main grammer.
>
> I've fixed a couple of silly mistakes in my previous changes to the java
> grammer.  I'm not going to try attaching it to an email.  It's 
> available at
> <http://www.pybus.org/code/antlr/java14.2002-01-31.zip>.

Great...i'll be updating the distribution with your changes.  I assume 
you are releasing them into the public domain?

Thanks,
Ter


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

