<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Problem with integrating ANTLR with XAML
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Problem%20with%20integrating%20ANTLR%20with%20XAML&In-Reply-To=%3C009c01cd6501%248f1e9050%24ad5bb0f0%24%40tunnelvisionlabs.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044916.html">
   <LINK REL="Next"  HREF="044914.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Problem with integrating ANTLR with XAML</H1>
    <B>Sam Harwell</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Problem%20with%20integrating%20ANTLR%20with%20XAML&In-Reply-To=%3C009c01cd6501%248f1e9050%24ad5bb0f0%24%40tunnelvisionlabs.com%3E"
       TITLE="[antlr-interest] Problem with integrating ANTLR with XAML">sam at tunnelvisionlabs.com
       </A><BR>
    <I>Wed Jul 18 09:22:41 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="044916.html">[antlr-interest] Problem with integrating ANTLR with XAML
</A></li>
        <LI>Next message: <A HREF="044914.html">[antlr-interest] Reading block of arbitrary text delimited by curly	braces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44927">[ date ]</a>
              <a href="thread.html#44927">[ thread ]</a>
              <a href="subject.html#44927">[ subject ]</a>
              <a href="author.html#44927">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I was able to reproduce and solve this problem based on additional
information Glenn sent me.

The build problem with XAML documents will be fixed in the next release of
the C# port of ANTLR 3. In the meantime, you can replace the Antlr3.targets
file from the 3.4.1.9004 release with the attached version which should be
properly working.

Thanks,
--
Sam Harwell
Owner, Lead Developer
<A HREF="http://tunnelvisionlabs.com">http://tunnelvisionlabs.com</A>

-----Original Message-----
From: Sam Harwell [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sam at tunnelvisionlabs.com</A>] 
Sent: Tuesday, July 17, 2012 4:16 PM
To: 'Glenn Rowe (Orders)'; '<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>'
Subject: RE: [antlr-interest] Problem with integrating ANTLR with XAML

The IntelliSense issue is corrected in the latest release of the editor
extensions. You should be able to update the extension automatically within
the Visual Studio 2010 Extension Manager.

I'm not sure what the issue with the project is. Can you send me an example
project which I can use to reproduce this problem (directly to me, not to
the mailing list)?

Thanks,
--
Sam Harwell
Owner, Lead Developer
<A HREF="http://tunnelvisionlabs.com">http://tunnelvisionlabs.com</A>

-----Original Message-----
From: Glenn Rowe (Orders) [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">orders at glennrowe.net</A>] 
Sent: Tuesday, July 17, 2012 2:01 PM
To: 'Sam Harwell'; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: RE: [antlr-interest] Problem with integrating ANTLR with XAML

I've checked the points you mention and can confirm that I've implemented
sections 1.4 and 2.1 as stated in the docs. (I had placed the Reference
folder in a central location so I could refer to it from multiple projects
without having to copy it to each new project directory, but I've tried it
with a local copy and it made no difference - I still get the build errors.)
The default properties (Build Action and Custom Tool) of .g files in Visual
Studio are set to the correct ones, so I didn't need to change them.

[Aside: Actually, on the subject of Intellisense, there does appear to be a
bug in the Visual Studio installer, since a file is not installed correctly,
and the Intellisense wouldn't work. To fix it, I opened the vsix file
manually (in WinRar) and copied the file
Tvl.VisualStudio.Shell.OutputWindow.Interfaces.dll to C:\Program Files
(x86)\Microsoft Visual Studio
10.0\Common7\IDE\CommonExtensions\Microsoft\Editor]

Anyway, back to the main points...
Yes, I'm using 3.4.1.9004 version, and no, I didn't make any changes to the
.targets file.

Thanks again,
Glenn.

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Sam Harwell [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sam at tunnelvisionlabs.com</A>]
</I>&gt;<i> Sent: 17 July 2012 18:49
</I>&gt;<i> To: 'Glenn Rowe (Orders)'; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: RE: [antlr-interest] Problem with integrating ANTLR with XAML
</I>&gt;<i> 
</I>&gt;<i> A few more questions:
</I>&gt;<i> 
</I>&gt;<i> Did you follow the instructions in the Documentation section here? In 
</I>&gt;<i> particular, can you verify that sections 1.4 and 2.1 were incorporated 
</I>&gt;<i> correctly?
</I>&gt;<i> <A HREF="http://www.antlr.org/wiki/display/ANTLR3/Antlr3CSharpReleases">http://www.antlr.org/wiki/display/ANTLR3/Antlr3CSharpReleases</A>
</I>&gt;<i> 
</I>&gt;<i> Are you using the 3.4.1.9004 release of the C# port of ANTLR 3?
</I>&gt;<i> 
</I>&gt;<i> Did you make any changes to the .targets file from the one included in 
</I>&gt;<i> the Releases listed on that page?
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> --
</I>&gt;<i> Sam Harwell
</I>&gt;<i> Owner, Lead Developer
</I>&gt;<i> <A HREF="http://tunnelvisionlabs.com">http://tunnelvisionlabs.com</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Glenn Rowe (Orders) [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">orders at glennrowe.net</A>]
</I>&gt;<i> Sent: Tuesday, July 17, 2012 11:48 AM
</I>&gt;<i> To: 'Sam Harwell'; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: RE: [antlr-interest] Problem with integrating ANTLR with XAML
</I>&gt;<i> 
</I>&gt;<i> Hi Sam:
</I>&gt;<i> 
</I>&gt;<i> I don't try to reference FormulaLexer or FormulaParser in the XAML 
</I>&gt;<i> file,
</I>but I
&gt;<i> need some of the other classes in the FormulaPlotter namespace in the 
</I>&gt;<i> XAML. I've tried putting the ANTLR stuff in a different namespace from 
</I>&gt;<i> the MainWindow stuff, but it doesn't help.
</I>&gt;<i> I've also tried putting the C# code that references the ANTLR stuff in 
</I>&gt;<i> a separate namespace from MainWindow but that didn't help either.
</I>&gt;<i> 
</I>&gt;<i> Basically, the program has a DataGrid which is data-bound to a 
</I>&gt;<i> DataTable,
</I>in
&gt;<i> which I store the strings representing the formulas to be plotted and 
</I>&gt;<i> the colour of the plot line and so on. The user enters the formula and 
</I>&gt;<i> colour
</I>in
&gt;<i> the DataGrid in the GUI and these are connected to the DataTable via 
</I>&gt;<i> data binding.
</I>&gt;<i> So I'd like to be able to refer to the DataTable in the XAML in order 
</I>&gt;<i> to
</I>bind
&gt;<i> some of the display properties to entries in the DataTable.
</I>&gt;<i> 
</I>&gt;<i> The errors cause the build to fail. I know that sometimes ANTLR will 
</I>&gt;<i> show errors in the errors window which go away when you do a build, 
</I>&gt;<i> but these errors are 'real'
</I>&gt;<i> errors
</I>&gt;<i> that cause a build fail.
</I>&gt;<i> 
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: Sam Harwell [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sam at tunnelvisionlabs.com</A>]
</I>&gt;<i> &gt; Sent: 17 July 2012 17:38
</I>&gt;<i> &gt; To: 'Glenn Rowe (Orders)'; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> &gt; Subject: RE: [antlr-interest] Problem with integrating ANTLR with 
</I>&gt;<i> &gt; XAML
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi Glenn,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have a couple questions to get started:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 1. Are you trying to reference FormulaLexer within the XAML file, or 
</I>&gt;<i> &gt; does
</I>&gt;<i> it
</I>&gt;<i> &gt; just happen to be located in the namespace FormulaPlotter?
</I>&gt;<i> &gt; 2. Are the errors causing the build to fail, or simply showing in 
</I>&gt;<i> &gt; the
</I>&gt;<i> errors
</I>&gt;<i> &gt; window while editing your project?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks,
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Sam Harwell
</I>&gt;<i> &gt; Owner, Lead Developer
</I>&gt;<i> &gt; <A HREF="http://tunnelvisionlabs.com">http://tunnelvisionlabs.com</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: Glenn Rowe (Orders) [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">orders at glennrowe.net</A>]
</I>&gt;<i> &gt; Sent: Tuesday, July 17, 2012 9:56 AM
</I>&gt;<i> &gt; To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> &gt; Subject: [antlr-interest] Problem with integrating ANTLR with XAML
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm relatively new to ANTLR and as a test I wrote a sample program 
</I>&gt;<i> &gt; that
</I>&gt;<i> uses
</I>&gt;<i> &gt; ANTLR to define a grammar that allows
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; mathematical expressions such as x^2 + 4*x*cos(x) to be entered and 
</I>&gt;<i> &gt; then have a graph of the function drawn.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The program is written in C# using WPF and XAML to define the 
</I>&gt;<i> &gt; layout, and uses the ANTLR3 plugin for Visual Studio 2010.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Everything works fine unless I try to define an xmlns namespace 
</I>&gt;<i> &gt; alias for
</I>&gt;<i> the
</I>&gt;<i> &gt; local namespace in which the program's code is written
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; in MainWindow.xaml. That is, I add the line
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; xmlns:local=&quot;clr-namespace:FormulaPlotter&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; to the Window tag at the start of the XAML file, where 
</I>&gt;<i> &gt; FormulaPlotter is
</I>&gt;<i> the
</I>&gt;<i> &gt; namespace of my code. Doing this generates 8
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; errors of the sort
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; FormulaLexer does not have a constructor with 1 argument (although 
</I>&gt;<i> &gt; it
</I>&gt;<i> &gt; does)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; start() method not found
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; and other errors complaining about constructors or methods in the 
</I>&gt;<i> &gt; lexer or parser not being found.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The only workaround I have found for this is to write the relevant 
</I>&gt;<i> &gt; bits of
</I>&gt;<i> the
</I>&gt;<i> &gt; program in the C# code-behind file,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; which is quite awkward for some of the stuff I want to do.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Does anyone know of a fix for this problem?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Glenn.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt; Unsubscribe:
</I>&gt;<i> &gt; <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-addre">http://www.antlr.org/mailman/options/antlr-interest/your-email-addre</A>
</I>&gt;<i> &gt; ss
</I>-------------- next part --------------
A non-text attachment was scrubbed...
Name: Antlr3.targets.zip
Type: application/octet-stream
Size: 2209 bytes
Desc: not available
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20120718/6d465103/attachment.obj">http://www.antlr.org/pipermail/antlr-interest/attachments/20120718/6d465103/attachment.obj</A> 
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044916.html">[antlr-interest] Problem with integrating ANTLR with XAML
</A></li>
	<LI>Next message: <A HREF="044914.html">[antlr-interest] Reading block of arbitrary text delimited by curly	braces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44927">[ date ]</a>
              <a href="thread.html#44927">[ thread ]</a>
              <a href="subject.html#44927">[ subject ]</a>
              <a href="author.html#44927">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
