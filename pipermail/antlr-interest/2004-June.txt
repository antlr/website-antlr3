From notify at yahoogroups.com  Tue Jun  1 03:29:23 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:53 2004
Subject: New antlr-interest member
Message-ID: <1086085763.88.40913.w34@yahoogroups.com>


Hello,

This is an automated email message to let you know that
swift_turtle_male <swift_turtle_male@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From swift_turtle_male at yahoo.com  Tue Jun  1 03:33:51 2004
From: swift_turtle_male at yahoo.com (swift_turtle_male)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] Not able to preserve formatting while saving the file
Message-ID: <c9hm2f+q0d1@eGroups.com>

Guys,
Basically I have made a program, which will analyze the java code and 
suggest optimizations using the antlr tree structure. Now I wanted to 
expand the capabilities of automatically optimizing the existing java 
code, by changing the tree structure. Now Im able to make the 
modifications and save the file, but then I have got a major issue, 
wherein Im not able to preserve the original formatting of the java 
code. Can anyone help me with that ?

Regards,
Chunduru Anil Kumar




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From luigi.bussolaro at telecomitalia.it  Tue Jun  1 03:59:18 2004
From: luigi.bussolaro at telecomitalia.it (Bussolaro Luigi)
Date: Mon Dec 20 16:16:53 2004
Subject: R: [antlr-interest] Input String for Lexer
Message-ID: <11A558A2EC3A234AB500259468EEBDC2182357@PTPEVS008RM001.idc.cww.telecomitalia.it>

I used with success ur suggestion but before i used following solution, in any case ur is more clean.

InputStream is = new java.io.ByteArrayInputStream(string.getBytes());
ExprLexer lexer = new ExprLexer(is);

Tks
Luigi
-----Messaggio originale-----
Da: John B. Brodie [mailto:jbb@cfl.rr.com] Per conto di jbb@acm.org
Inviato: marted? 25 maggio 2004 16.57
A: antlr-interest@yahoogroups.com
Oggetto: Re: [antlr-interest] Input String for Lexer


Luigi Bussolaro asked:
>Does anybody know the way to give a String in input to my Lexer instead 
>an InputStream? It's really necessary to rewrite the whole Lexer?

No need to rewrite the Lexer.

One of the Lexer's constructors takes a java.io.Reader as its parameter. java.io.StringReader is derived from Reader and thus may be passed to this constructor. So you can just do:

    Your_Lexer lexer = new Your_Lexer(new StringReader("your string here"));

Hope this helps...
	-jbb


 
Yahoo! Groups Links



 

--------------------------------------------------------------------

CONFIDENTIALITY NOTICE

This message and its attachments are addressed solely to the persons above and may contain confidential information. If you have received the message in error, be informed that any use of the content hereof is prohibited. Please return it immediately to the sender and delete the message. Should you have any questions, please contact us by replying to webmaster@telecomitalia.it.

        Thank you

                                        www.telecomitalia.it

--------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20040601/b5ef3aa7/attachment.html
From anakreonmejdi at yahoo.gr  Tue Jun  1 04:19:45 2004
From: anakreonmejdi at yahoo.gr (Anakreon)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] References about AST documentation
Message-ID: <40BC6651.1070707@yahoo.gr>

Hello all.
Is there any resources on the web about what AST is?
I'd like to put a reference in my paper about this issue.

Anakreon.


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Tue Jun  1 04:26:02 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:53 2004
Subject: New antlr-interest member
Message-ID: <1086089162.321.38046.w75@yahoogroups.com>


Hello,

This is an automated email message to let you know that
drbrain666 <nassos4free@netsolutions.gr> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From nassos4free at netsolutions.gr  Tue Jun  1 04:29:44 2004
From: nassos4free at netsolutions.gr (drbrain666)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] Identifying DATE tokens in lexer
Message-ID: <c9hpb8+925h@eGroups.com>

Hello,

I'm trying to identify a DATE token in lexer, using the rule:
SEARCHVALUEDATE:
    '\'' INT INT '/' INT INT '/' INT INT INT INT '\''
;

This works fine, although I would like to extend it in order to cover 
cases such as: 30/5/2004, 1/5/2004 etc. I tried:
SEARCHVALUEDATE:
    '\'' INT (INT)? '/' INT (INT)? '/' INT INT INT INT '\''
;

but the above completely !freezes! antlr.Tool while parsing my .g 
file.

Any suggestions?


thanks!

-n-




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Anthony.Youngman at ECA-International.com  Tue Jun  1 07:25:25 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] failed optimisation
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF15@lnml1.eca-international.local>

I've just tried to optimise the following lexer rule. You can see my
original code, which works fine, and my attempted optimisation (using
STRING_TEXT) which failed. If I'm using "greedy = false", do I need
something at the end of STRING_TEXT for it to match? or if not, how do I
get it to do what I want (more for legibility than anything else).

And, similarly but not quite the same, is there any way I can recognise
a terminator without eating it? Eg "newline" will terminate a comment,
but I need to leave it alone to generate an nl token - eating it as part
of the comment will corrupt the lex.

Cheers,
Wol


// note the '\\' syntax for a single backslash and '\'' for single quote
...
STRING_LITERAL
//	: '"' (~('"'))* '"'
//	: '"' STRING_TEXT '"'
	: '"' (options {greedy=false;} : .)* '"'
	| '\'' (~('\''))* '\''
	| '\\' (~('\\'))* '\\'
	;

//protected STRING_TEXT options {greedy=false;} : (.)* ;


****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Tue Jun  1 08:40:05 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:53 2004
Subject: New antlr-interest member
Message-ID: <1086104405.124.64404.w45@yahoogroups.com>


Hello,

This is an automated email message to let you know that
anatoli_krassavine <toly@intellidos.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From toly at intellidos.com  Tue Jun  1 08:47:13 2004
From: toly at intellidos.com (anatoli_krassavine)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] Very weird SQL parser failures - look-ahead?
Message-ID: <c9i8e1+ou0d@eGroups.com>

  Hello,

I tried to use Oracle 7 SQL grammar in anger. It works great for very 
complex SQL statements, but I suddenly stumbled on an unexpected 
issues with what I consider to be a very simple SQL. Could someone 
please advice.

The following statement fails with 
Exception in thread "main" line 10:2: expecting CLOSE_PAREN, 
found 'null'

------------
SELECT *
FROM
    c.abcd
WHERE
    cr.no IN 
(
SELECT cr.no FROM c.cr cr
union
SELECT a FROM abc where a=b
)
------------
On the other hand this works fine (note that "where a=b" was removed)

SELECT *
FROM
    c.abcd
WHERE
    cr.no IN 
(
SELECT cr.no FROM c.cr cr
union
SELECT a FROM abc
)
------------

AFAICC, it is not a problem with syntax, but a problem with a look-
ahead, but I do not understand how to fix this.

Any help or pointing in the right direction will be greatly 
appreciated.

Details:
Oracle 7 SQL grammar from  /grammar/ORACLE-7-SQL
No changes, conventional lexer/parser generated




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From hombre at gmail.com  Tue Jun  1 09:20:45 2004
From: hombre at gmail.com (Tom Verbeure)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] References about AST documentation
In-Reply-To: <40BC6651.1070707@yahoo.gr>
References: <40BC6651.1070707@yahoo.gr>
Message-ID: <f7896340040601092080aa3ed@mail.gmail.com>

> Is there any resources on the web about what AST is?
> I'd like to put a reference in my paper about this issue.

Google: abstract syntax tree


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jun  1 09:52:36 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] ANTLR 3.0 news
Message-ID: <158CB0C0-B3EC-11D8-A381-000A95891192@cs.usfca.edu>

Ah...The joys of summer "vacation".

Yesterday at 3:00 CA time, the core ANTLR 3.0 grammar analysis engine 
"achieved consciousness". :)  It performed it's first real full parse 
using the new LL(*) arbitrary lookahead parsing/lookahead scheme (and 
used unicode characters).  The parse was done using an interpreted 
version.  You can say:

Grammar g = new Grammar("a grammar description");
g.parse(start rule name, an input stream);

It may or may not be useful as a feature after release, but it proves 
the LL(*) concept at the moment and lets me construct basic char / 
token stream requirements.

I have launched ANTLR code-generator background threads in my head 
while I take care of some other business.  I'm dying to explore using 
StringTemplate for code generation :)

Don't forget folks that this is the hard part, but the small part of a 
parser generator.  There is a huge amount of thought that needs to go 
into the stuff surrounding the engine, just like in a car.  I imagine 
that the antlr runtime specifications for tokens, trees, templates, 
etc... will take a lot of time as will a manual/book etc...  This 
announcement does not mean a 3.0 version is imminent.  I hope to have a 
trivial version of 3.0 working with a few features by the ANTLR 
workshop.

Terence
PS	The hoisting of semantic predicates algorithm in written down in my 
"lab notebook" and is a simple extension to LL(*).  I'll crank that out 
real quick before doing code gen I think.
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jun  1 10:10:50 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] Not able to preserve formatting while saving the file
In-Reply-To: <c9hm2f+q0d1@eGroups.com>
References: <c9hm2f+q0d1@eGroups.com>
Message-ID: <A1799CF4-B3EE-11D8-A381-000A95891192@cs.usfca.edu>

Hi :)  Please see the article on TokenStreamRewriteEngine at the antlr 
site. :)

Terence

On Jun 1, 2004, at 3:33 AM, swift_turtle_male wrote:

> Guys,
> Basically I have made a program, which will analyze the java code and
> suggest optimizations using the antlr tree structure. Now I wanted to
> expand the capabilities of automatically optimizing the existing java
> code, by changing the tree structure. Now Im able to make the
> modifications and save the file, but then I have got a major issue,
> wherein Im not able to preserve the original formatting of the java
> code. Can anyone help me with that ?
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Tue Jun  1 10:15:49 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] Very weird SQL parser failures - look-ahead?
In-Reply-To: <c9i8e1+ou0d@eGroups.com>
Message-ID: <000201c447fc$15d68ed0$03020a0a@starthis.com>


Hi,

Where is the grammar for the statement? If you had a grammar rule which
expects a CLOSE_PAREN right after the IDENTIFIER (abc), it should give the
error. It would be nice if you copy-paste the rule for this SQL statement. 

Bharath.
~Give me the tool and I shall move the earth~

-----Original Message-----
From: anatoli_krassavine [mailto:toly@intellidos.com] 
Sent: Tuesday, June 01, 2004 10:47 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Very weird SQL parser failures - look-ahead?


  Hello,

I tried to use Oracle 7 SQL grammar in anger. It works great for very 
complex SQL statements, but I suddenly stumbled on an unexpected 
issues with what I consider to be a very simple SQL. Could someone 
please advice.

The following statement fails with 
Exception in thread "main" line 10:2: expecting CLOSE_PAREN, 
found 'null'

------------
SELECT *
FROM
    c.abcd
WHERE
    cr.no IN 
(
SELECT cr.no FROM c.cr cr
union
SELECT a FROM abc where a=b
)
------------
On the other hand this works fine (note that "where a=b" was removed)

SELECT *
FROM
    c.abcd
WHERE
    cr.no IN 
(
SELECT cr.no FROM c.cr cr
union
SELECT a FROM abc
)
------------

AFAICC, it is not a problem with syntax, but a problem with a look- ahead,
but I do not understand how to fix this.

Any help or pointing in the right direction will be greatly 
appreciated.

Details:
Oracle 7 SQL grammar from  /grammar/ORACLE-7-SQL
No changes, conventional lexer/parser generated




 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From toly at intellidos.com  Tue Jun  1 10:20:50 2004
From: toly at intellidos.com (anatoli_krassavine)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] Re: Very weird SQL parser failures - look-ahead?
In-Reply-To: <000201c447fc$15d68ed0$03020a0a@starthis.com>
Message-ID: <c9idti+5kgp@eGroups.com>

Hello Bharath,

This is /grammar/ORACLE-7-SQL from ANTLR website virtually verbatium.

I cannot see anything in the grammar which would have caused such 
behaviour. It also appears specific to

select ....... where ... in (select .....)

statements

I honestly tried to find what is wrong, but cannot see it.

Cheers,
 Toly

--- In antlr-interest@yahoogroups.com, "Bharath Sundararaman" 
<bharath@s...> wrote:
> 
> Hi,
> 
> Where is the grammar for the statement? If you had a grammar rule 
which
> expects a CLOSE_PAREN right after the IDENTIFIER (abc), it should 
give the
> error. It would be nice if you copy-paste the rule for this SQL 
statement. 
> 
> Bharath.
> ~Give me the tool and I shall move the earth~
> 
> -----Original Message-----
> From: anatoli_krassavine [mailto:toly@i...] 
> Sent: Tuesday, June 01, 2004 10:47 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Very weird SQL parser failures - look-
ahead?
> 
> 
>   Hello,
> 
> I tried to use Oracle 7 SQL grammar in anger. It works great for 
very 
> complex SQL statements, but I suddenly stumbled on an unexpected 
> issues with what I consider to be a very simple SQL. Could someone 
> please advice.
> 
> The following statement fails with 
> Exception in thread "main" line 10:2: expecting CLOSE_PAREN, 
> found 'null'
> 
> ------------
> SELECT *
> FROM
>     c.abcd
> WHERE
>     cr.no IN 
> (
> SELECT cr.no FROM c.cr cr
> union
> SELECT a FROM abc where a=b
> )
> ------------
> On the other hand this works fine (note that "where a=b" was 
removed)
> 
> SELECT *
> FROM
>     c.abcd
> WHERE
>     cr.no IN 
> (
> SELECT cr.no FROM c.cr cr
> union
> SELECT a FROM abc
> )
> ------------
> 
> AFAICC, it is not a problem with syntax, but a problem with a look- 
ahead,
> but I do not understand how to fix this.
> 
> Any help or pointing in the right direction will be greatly 
> appreciated.
> 
> Details:
> Oracle 7 SQL grammar from  /grammar/ORACLE-7-SQL
> No changes, conventional lexer/parser generated
> 
> 
> 
> 
>  
> Yahoo! Groups Links



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Tue Jun  1 10:43:22 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] Re: Very weird SQL parser failures - look-ahead?
In-Reply-To: <c9idti+5kgp@eGroups.com>
References: <c9idti+5kgp@eGroups.com>
Message-ID: <2CFA45E7-B3F3-11D8-BA80-000393B5606C@codetransform.com>

Run antlr.Tool with -traceParser, that may help you figure out where it 
is going wrong.

Also, I just finished a SQL parser on contract.  I recommend the NIST 
SQL-92 test suite to ferret out grammatical problems such as these.

I am also available by the hour to debug things like this.  
Unfortunately I don't have so much "free" time to solve these problems 
for fun any more.

Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html




On Jun 1, 2004, at 10:20 AM, anatoli_krassavine wrote:

> Hello Bharath,
>
> This is /grammar/ORACLE-7-SQL from ANTLR website virtually verbatium.
>
> I cannot see anything in the grammar which would have caused such
> behaviour. It also appears specific to
>
> select ....... where ... in (select .....)
>
> statements
>
> I honestly tried to find what is wrong, but cannot see it.
>
> Cheers,
>  Toly
>
> --- In antlr-interest@yahoogroups.com, "Bharath Sundararaman"
> <bharath@s...> wrote:
>>
>> Hi,
>>
>> Where is the grammar for the statement? If you had a grammar rule
> which
>> expects a CLOSE_PAREN right after the IDENTIFIER (abc), it should
> give the
>> error. It would be nice if you copy-paste the rule for this SQL
> statement.
>>
>> Bharath.
>> ~Give me the tool and I shall move the earth~
>>
>> -----Original Message-----
>> From: anatoli_krassavine [mailto:toly@i...]
>> Sent: Tuesday, June 01, 2004 10:47 AM
>> To: antlr-interest@yahoogroups.com
>> Subject: [antlr-interest] Very weird SQL parser failures - look-
> ahead?
>>
>>
>>   Hello,
>>
>> I tried to use Oracle 7 SQL grammar in anger. It works great for
> very
>> complex SQL statements, but I suddenly stumbled on an unexpected
>> issues with what I consider to be a very simple SQL. Could someone
>> please advice.
>>
>> The following statement fails with
>> Exception in thread "main" line 10:2: expecting CLOSE_PAREN,
>> found 'null'
>>
>> ------------
>> SELECT *
>> FROM
>>     c.abcd
>> WHERE
>>     cr.no IN
>> (
>> SELECT cr.no FROM c.cr cr
>> union
>> SELECT a FROM abc where a=b
>> )
>> ------------
>> On the other hand this works fine (note that "where a=b" was
> removed)
>>
>> SELECT *
>> FROM
>>     c.abcd
>> WHERE
>>     cr.no IN
>> (
>> SELECT cr.no FROM c.cr cr
>> union
>> SELECT a FROM abc
>> )
>> ------------
>>
>> AFAICC, it is not a problem with syntax, but a problem with a look-
> ahead,
>> but I do not understand how to fix this.
>>
>> Any help or pointing in the right direction will be greatly
>> appreciated.
>>
>> Details:
>> Oracle 7 SQL grammar from  /grammar/ORACLE-7-SQL
>> No changes, conventional lexer/parser generated
>>
>>
>>
>>
>>
>> Yahoo! Groups Links
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From toly at intellidos.com  Tue Jun  1 10:49:56 2004
From: toly at intellidos.com (anatoli_krassavine)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] Re: Very weird SQL parser failures - look-ahead? - FIXED
In-Reply-To: <2CFA45E7-B3F3-11D8-BA80-000393B5606C@codetransform.com>
Message-ID: <c9ifk4+fuu6@eGroups.com>

Hello Monty,

Great thanks to you and Bharath for comments - it pushed me in 
correct direction. There was a stupid grammar mistake which only 
showed when I used -traceParser.

I will definitely take a look at NIST SQL-92 test suite as you 
adviced.

Since you just finished a SQL parser of your own, could I ask a quick 
question. Is there a simple way in Antlr to specify pairs of optional 
matching parenthesis (I mean apart from brute-force when you mark 
them explicitly)?

Sincerely,
   Toly

--- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> 
wrote:
> Run antlr.Tool with -traceParser, that may help you figure out 
where it 
> is going wrong.
> 
> Also, I just finished a SQL parser on contract.  I recommend the 
NIST 
> SQL-92 test suite to ferret out grammatical problems such as these.
> 
> I am also available by the hour to debug things like this.  
> Unfortunately I don't have so much "free" time to solve these 
problems 
> for fun any more.
> 
> Monty Zukowski
> 
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit -- 
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
> 
> 
> 
> 
> On Jun 1, 2004, at 10:20 AM, anatoli_krassavine wrote:
> 
> > Hello Bharath,
> >
> > This is /grammar/ORACLE-7-SQL from ANTLR website virtually 
verbatium.
> >
> > I cannot see anything in the grammar which would have caused such
> > behaviour. It also appears specific to
> >
> > select ....... where ... in (select .....)
> >
> > statements
> >
> > I honestly tried to find what is wrong, but cannot see it.
> >
> > Cheers,
> >  Toly
> >
> > --- In antlr-interest@yahoogroups.com, "Bharath Sundararaman"
> > <bharath@s...> wrote:
> >>
> >> Hi,
> >>
> >> Where is the grammar for the statement? If you had a grammar rule
> > which
> >> expects a CLOSE_PAREN right after the IDENTIFIER (abc), it should
> > give the
> >> error. It would be nice if you copy-paste the rule for this SQL
> > statement.
> >>
> >> Bharath.
> >> ~Give me the tool and I shall move the earth~
> >>
> >> -----Original Message-----
> >> From: anatoli_krassavine [mailto:toly@i...]
> >> Sent: Tuesday, June 01, 2004 10:47 AM
> >> To: antlr-interest@yahoogroups.com
> >> Subject: [antlr-interest] Very weird SQL parser failures - look-
> > ahead?
> >>
> >>
> >>   Hello,
> >>
> >> I tried to use Oracle 7 SQL grammar in anger. It works great for
> > very
> >> complex SQL statements, but I suddenly stumbled on an unexpected
> >> issues with what I consider to be a very simple SQL. Could 
someone
> >> please advice.
> >>
> >> The following statement fails with
> >> Exception in thread "main" line 10:2: expecting CLOSE_PAREN,
> >> found 'null'
> >>
> >> ------------
> >> SELECT *
> >> FROM
> >>     c.abcd
> >> WHERE
> >>     cr.no IN
> >> (
> >> SELECT cr.no FROM c.cr cr
> >> union
> >> SELECT a FROM abc where a=b
> >> )
> >> ------------
> >> On the other hand this works fine (note that "where a=b" was
> > removed)
> >>
> >> SELECT *
> >> FROM
> >>     c.abcd
> >> WHERE
> >>     cr.no IN
> >> (
> >> SELECT cr.no FROM c.cr cr
> >> union
> >> SELECT a FROM abc
> >> )
> >> ------------
> >>
> >> AFAICC, it is not a problem with syntax, but a problem with a 
look-
> > ahead,
> >> but I do not understand how to fix this.
> >>
> >> Any help or pointing in the right direction will be greatly
> >> appreciated.
> >>
> >> Details:
> >> Oracle 7 SQL grammar from  /grammar/ORACLE-7-SQL
> >> No changes, conventional lexer/parser generated
> >>
> >>
> >>
> >>
> >>
> >> Yahoo! Groups Links
> >
> >
> >
> >
> > Yahoo! Groups Links
> >
> >
> >
> >
> >
> >
> >
> >



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Tue Jun  1 10:55:33 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] Re: Very weird SQL parser failures - look-ahead? - FIXED
In-Reply-To: <c9ifk4+fuu6@eGroups.com>
References: <c9ifk4+fuu6@eGroups.com>
Message-ID: <E0F41066-B3F4-11D8-BA80-000393B5606C@codetransform.com>

On Jun 1, 2004, at 10:49 AM, anatoli_krassavine wrote:

> Since you just finished a SQL parser of your own, could I ask a quick
> question. Is there a simple way in Antlr to specify pairs of optional
> matching parenthesis (I mean apart from brute-force when you mark
> them explicitly)?

I'm not sure what you are asking.  Can you give an example?  I do this 
kind of thing a lot:

rule:
	select
	| LPAREN select RPAREN
	;

Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Tue Jun  1 11:00:20 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] Not able to preserve formatting while saving the file
In-Reply-To: <c9hm2f+q0d1@eGroups.com>
References: <c9hm2f+q0d1@eGroups.com>
Message-ID: <8BFC8E42-B3F5-11D8-BA80-000393B5606C@codetransform.com>

This is not the easiest thing to do.  Ter's answer using the 
TokenStreamRewriteEngine assumes no trees, just a parser pass.  There 
is another article on preserving whitespace on antlr.org using hidden 
token streams and attaching to the tokens.

In the C grammar I think I recorded the column and line info and would 
add in the indentation and lines as needed when I was emitting a token 
that wasn't at the current position.

Monty

On Jun 1, 2004, at 3:33 AM, swift_turtle_male wrote:

> Guys,
> Basically I have made a program, which will analyze the java code and
> suggest optimizations using the antlr tree structure. Now I wanted to
> expand the capabilities of automatically optimizing the existing java
> code, by changing the tree structure. Now Im able to make the
> modifications and save the file, but then I have got a major issue,
> wherein Im not able to preserve the original formatting of the java
> code. Can anyone help me with that ?
>
> Regards,
> Chunduru Anil Kumar
>
Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From toly at intellidos.com  Tue Jun  1 11:03:16 2004
From: toly at intellidos.com (anatoli_krassavine)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] Re: Very weird SQL parser failures - look-ahead? - FIXED
In-Reply-To: <E0F41066-B3F4-11D8-BA80-000393B5606C@codetransform.com>
Message-ID: <c9igd4+gmco@eGroups.com>

Hello,

This is exactly what I call a brute-force approach. I am starting to 
get more and more expressions like this and I wondered if there is a 
better way to do it - obviously not.

Cheers,
 Toly

--- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> 
wrote:
> On Jun 1, 2004, at 10:49 AM, anatoli_krassavine wrote:
> 
> > Since you just finished a SQL parser of your own, could I ask a 
quick
> > question. Is there a simple way in Antlr to specify pairs of 
optional
> > matching parenthesis (I mean apart from brute-force when you mark
> > them explicitly)?
> 
> I'm not sure what you are asking.  Can you give an example?  I do 
this 
> kind of thing a lot:
> 
> rule:
> 	select
> 	| LPAREN select RPAREN
> 	;
> 
> Monty Zukowski
> 
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit -- 
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Tue Jun  1 14:40:44 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] ANTLR 3.0 news
In-Reply-To: <158CB0C0-B3EC-11D8-A381-000A95891192@cs.usfca.edu>
References: <158CB0C0-B3EC-11D8-A381-000A95891192@cs.usfca.edu>
Message-ID: <563254CC-B414-11D8-A89D-000393B5606C@codetransform.com>

Very cool!

Keep on truckin'

Monty

On Jun 1, 2004, at 9:52 AM, Terence Parr wrote:

> Ah...The joys of summer "vacation".
>
> Yesterday at 3:00 CA time, the core ANTLR 3.0 grammar analysis engine
> "achieved consciousness". :)  It performed it's first real full parse
> using the new LL(*) arbitrary lookahead parsing/lookahead scheme (and
> used unicode characters).  The parse was done using an interpreted
> version.  You can say:
>
> Grammar g = new Grammar("a grammar description");
> g.parse(start rule name, an input stream);
>
> It may or may not be useful as a feature after release, but it proves
> the LL(*) concept at the moment and lets me construct basic char /
> token stream requirements.
>
> I have launched ANTLR code-generator background threads in my head
> while I take care of some other business.  I'm dying to explore using
> StringTemplate for code generation :)
>
> Don't forget folks that this is the hard part, but the small part of a
> parser generator.  There is a huge amount of thought that needs to go
> into the stuff surrounding the engine, just like in a car.  I imagine
> that the antlr runtime specifications for tokens, trees, templates,
> etc... will take a lot of time as will a manual/book etc...  This
> announcement does not mean a 3.0 version is imminent.  I hope to have a
> trivial version of 3.0 working with a few features by the ANTLR
> workshop.
>
> Terence
> PS	The hoisting of semantic predicates algorithm in written down in my
> "lab notebook" and is a simple extension to LL(*).  I'll crank that out
> real quick before doing code gen I think.
> --
> Professor Comp. Sci., University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From arnarb at oddi.is  Wed Jun  2 01:08:39 2004
From: arnarb at oddi.is (Arnar Birgisson)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] References about AST documentation
In-Reply-To: <40BC6651.1070707@yahoo.gr>
References: <40BC6651.1070707@yahoo.gr>
Message-ID: <20040602080839.GX7979@kassi.oddi.is>

Hi there,

> Is there any resources on the web about what AST is?
> I'd like to put a reference in my paper about this issue.

I think there's a definition in the dragonbook also, but that's not the
web :o)

Arnar


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From lubos.vnuk at rts.at  Wed Jun  2 02:53:56 2004
From: lubos.vnuk at rts.at (Lubos Vnuk)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] Re: Very weird SQL parser failures - look-ahead? - FIXED
In-Reply-To: <c9ifk4+fuu6@eGroups.com>
Message-ID: <c9k83k+hhcn@eGroups.com>

Hi Toly,

> Is there a simple way in Antlr to specify pairs of optional 
> matching parenthesis (I mean apart from brute-force when you mark 
> them explicitly)?
You might want to have a look at my SQL-92 grammar at ANTLR website. 
Generally speaking, this is typically done by the recursive 
expression rules.

Also, in order to get a quality grammar for a SQL dialect, I 
recommend starting off by transcribing the syntax diagrams that have 
usually been published in the DBMS documentation. They have BNF-close 
value and provide a great implementation guidance.

HTH,
Lubos.


--- In antlr-interest@yahoogroups.com, "anatoli_krassavine" 
<toly@i...> wrote:
> Hello Monty,
> 
> Great thanks to you and Bharath for comments - it pushed me in 
> correct direction. There was a stupid grammar mistake which only 
> showed when I used -traceParser.
> 
> I will definitely take a look at NIST SQL-92 test suite as you 
> adviced.
> 
> Since you just finished a SQL parser of your own, could I ask a 
quick 
> question. Is there a simple way in Antlr to specify pairs of 
optional 
> matching parenthesis (I mean apart from brute-force when you mark 
> them explicitly)?
> 
> Sincerely,
>    Toly
> 
> --- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> 
> wrote:
> > Run antlr.Tool with -traceParser, that may help you figure out 
> where it 
> > is going wrong.
> > 
> > Also, I just finished a SQL parser on contract.  I recommend the 
> NIST 
> > SQL-92 test suite to ferret out grammatical problems such as 
these.
> > 
> > I am also available by the hour to debug things like this.  
> > Unfortunately I don't have so much "free" time to solve these 
> problems 
> > for fun any more.
> > 
> > Monty Zukowski
> > 
> > ANTLR & Java Consultant -- http://www.codetransform.com
> > ANSI C/GCC transformation toolkit -- 
> > http://www.codetransform.com/gcc.html
> > Embrace the Decay -- 
http://www.codetransform.com/EmbraceDecay.html
> > 
> > 
> > 
> > 
> > On Jun 1, 2004, at 10:20 AM, anatoli_krassavine wrote:
> > 
> > > Hello Bharath,
> > >
> > > This is /grammar/ORACLE-7-SQL from ANTLR website virtually 
> verbatium.
> > >
> > > I cannot see anything in the grammar which would have caused 
such
> > > behaviour. It also appears specific to
> > >
> > > select ....... where ... in (select .....)
> > >
> > > statements
> > >
> > > I honestly tried to find what is wrong, but cannot see it.
> > >
> > > Cheers,
> > >  Toly
> > >
> > > --- In antlr-interest@yahoogroups.com, "Bharath Sundararaman"
> > > <bharath@s...> wrote:
> > >>
> > >> Hi,
> > >>
> > >> Where is the grammar for the statement? If you had a grammar 
rule
> > > which
> > >> expects a CLOSE_PAREN right after the IDENTIFIER (abc), it 
should
> > > give the
> > >> error. It would be nice if you copy-paste the rule for this SQL
> > > statement.
> > >>
> > >> Bharath.
> > >> ~Give me the tool and I shall move the earth~
> > >>
> > >> -----Original Message-----
> > >> From: anatoli_krassavine [mailto:toly@i...]
> > >> Sent: Tuesday, June 01, 2004 10:47 AM
> > >> To: antlr-interest@yahoogroups.com
> > >> Subject: [antlr-interest] Very weird SQL parser failures - 
look-
> > > ahead?
> > >>
> > >>
> > >>   Hello,
> > >>
> > >> I tried to use Oracle 7 SQL grammar in anger. It works great 
for
> > > very
> > >> complex SQL statements, but I suddenly stumbled on an 
unexpected
> > >> issues with what I consider to be a very simple SQL. Could 
> someone
> > >> please advice.
> > >>
> > >> The following statement fails with
> > >> Exception in thread "main" line 10:2: expecting CLOSE_PAREN,
> > >> found 'null'
> > >>
> > >> ------------
> > >> SELECT *
> > >> FROM
> > >>     c.abcd
> > >> WHERE
> > >>     cr.no IN
> > >> (
> > >> SELECT cr.no FROM c.cr cr
> > >> union
> > >> SELECT a FROM abc where a=b
> > >> )
> > >> ------------
> > >> On the other hand this works fine (note that "where a=b" was
> > > removed)
> > >>
> > >> SELECT *
> > >> FROM
> > >>     c.abcd
> > >> WHERE
> > >>     cr.no IN
> > >> (
> > >> SELECT cr.no FROM c.cr cr
> > >> union
> > >> SELECT a FROM abc
> > >> )
> > >> ------------
> > >>
> > >> AFAICC, it is not a problem with syntax, but a problem with a 
> look-
> > > ahead,
> > >> but I do not understand how to fix this.
> > >>
> > >> Any help or pointing in the right direction will be greatly
> > >> appreciated.
> > >>
> > >> Details:
> > >> Oracle 7 SQL grammar from  /grammar/ORACLE-7-SQL
> > >> No changes, conventional lexer/parser generated
> > >>
> > >>
> > >>
> > >>
> > >>
> > >> Yahoo! Groups Links
> > >
> > >
> > >
> > >
> > > Yahoo! Groups Links
> > >
> > >
> > >
> > >
> > >
> > >
> > >
> > >



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Anthony.Youngman at ECA-International.com  Wed Jun  2 03:13:39 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] Token stream filter
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF18@lnml1.eca-international.local>

This sounds like it should be very easy, but I can't see how to do it
...

I want to filter the token stream coming out of the lexer (and I can't
see how to do it using the lexer's filter - can I do the same thing in
the parser?). Anyways, I want to match the following sequence

(newline | semi) ("rem" | "*" | "!" ) ~( "=" | "(" ) ({greedy=false} .)
newline)

eating everything EXCEPT the newline, which needs to be passed through
to the parser. Note also, that while "*" and "!" are tokens, "rem" is an
ident. Of course, if I need "rem" to be a token, presumably if this rule
fails I can convert it back to an ident?

Or do I need to write my own token stream to do this (if so, where do I
look for an example?)

Cheers,
Wol


****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Anthony.Youngman at ECA-International.com  Wed Jun  2 03:26:53 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:53 2004
Subject: [antlr-interest] Token stream filter
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF19@lnml1.eca-international.local>

Okay. Doing my own homework :-) Would this work (needing cleaning up, I
don't know what to throw etc ...)?

filter=DEREMER

protected DEREMER [returns token] : (
	(newline|semi)
	(id:IDENT {if text != "REM" throw tokenmatchexception}|"*"|"!")
	("=" {throw exception} | "(" {throw exception})?
	({greedy=false} .)
	newline)
	returns newline;

Cheers,
Wol

-----Original Message-----
From: Anthony Youngman [mailto:Anthony.Youngman@ECA-International.com] 
Sent: 02 June 2004 11:14
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Token stream filter

This sounds like it should be very easy, but I can't see how to do it
...

I want to filter the token stream coming out of the lexer (and I can't
see how to do it using the lexer's filter - can I do the same thing in
the parser?). Anyways, I want to match the following sequence

(newline | semi) ("rem" | "*" | "!" ) ~( "=" | "(" ) ({greedy=false} .)
newline)

eating everything EXCEPT the newline, which needs to be passed through
to the parser. Note also, that while "*" and "!" are tokens, "rem" is an
ident. Of course, if I need "rem" to be a token, presumably if this rule
fails I can convert it back to an ident?

Or do I need to write my own token stream to do this (if so, where do I
look for an example?)

Cheers,
Wol


************************************************************************
****

This transmission is intended for the named recipient only. It may
contain private and confidential information. If this has come to you in
error you must not act on anything disclosed in it, nor must you copy
it, modify it, disseminate it in any way, or show it to anyone. Please
e-mail the sender to inform us of the transmission error or telephone
ECA International immediately and delete the e-mail from your
information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2
8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New
York +1 212 582 2333.

************************************************************************
****



 
Yahoo! Groups Links



 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From srihari at kayak.com  Wed Jun  2 03:29:24 2004
From: srihari at kayak.com (srihari)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Token stream filter
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409AF18@lnml1.eca-international.local>
Message-ID: <000c01c4488c$79844770$1500a8c0@Microcell03>

Hello!

Can someone guide me to some good document on ANTLR.
I need to write some grammer files for generating AST.But i dont know where
to start.

basically i need to understand what are these grammer file?
A good tutorial or notes from some one will help.

Thanks in adv

Srihari

-----Original Message-----
From: Anthony Youngman [mailto:Anthony.Youngman@ECA-International.com]
Sent: Wednesday, June 02, 2004 3:44 PM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Token stream filter


This sounds like it should be very easy, but I can't see how to do it
...

I want to filter the token stream coming out of the lexer (and I can't
see how to do it using the lexer's filter - can I do the same thing in
the parser?). Anyways, I want to match the following sequence

(newline | semi) ("rem" | "*" | "!" ) ~( "=" | "(" ) ({greedy=false} .)
newline)

eating everything EXCEPT the newline, which needs to be passed through
to the parser. Note also, that while "*" and "!" are tokens, "rem" is an
ident. Of course, if I need "rem" to be a token, presumably if this rule
fails I can convert it back to an ident?

Or do I need to write my own token stream to do this (if so, where do I
look for an example?)

Cheers,
Wol


****************************************************************************

This transmission is intended for the named recipient only. It may contain
private and confidential information. If this has come to you in error you
must not act on anything disclosed in it, nor must you copy it, modify it,
disseminate it in any way, or show it to anyone. Please e-mail the sender to
inform us of the transmission error or telephone ECA International
immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272
5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1
212 582 2333.

****************************************************************************



 
Yahoo! Groups Links



 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: winmail.dat
Type: application/ms-tnef
Size: 3044 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040602/1fb7b708/winmail.bin
From pwolleba at hotmail.com  Wed Jun  2 05:40:40 2004
From: pwolleba at hotmail.com (pwolleba)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Re: Get the line number in my deprecated messages
In-Reply-To: <4CF84D98-B31E-11D8-BA80-000393B5606C@codetransform.com>
Message-ID: <c9khs8+ae0c@eGroups.com>

Thanks for your response Monty, it got me one step further!! :o)

As far I can see the getLine method is inside the CharScanner class, 
I can however not see any solution for reaching this class from my 
parser class. 

If there is someone, reading this newsgroup, that has implemented a 
deprecated message in their parsers I would be really happy if you 
could send me an example on how you did it. 
I have so far not found 1 single example that demonstrates this 
problem.

Best regards,
Per


--- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> 
wrote:
> Yeah, there's a getLine() or somesuch in the Token class.  If 
you're 
> using a recent ANTLR then it will be filled in automatically as 
long as 
> you call newline() in your lexer rule that matches newlines.  The 
java 
> grammar is a good place to see how this works.
> 
> Monty
> 
> On May 30, 2004, at 3:51 AM, pwolleba wrote:
> 
> >
> > I am writing an ANTLR parser for a language developed by my firm. 
As
> > in any languages this is also changing over time and some old 
syntax
> > will have to be ruled out. I though a solution to this problem 
would
> > be to print a deprecated message each time the "old" syntax is 
found,
> > and by doing this give the users some time to remove them.
> > Since the files with the language syntax can easily be on several
> > thousand lines, I would like to print the line number at the same
> > time. I have however not succeeded to find any description to
> > retrieve the line number from the parser; I guess it must be there
> > somewhere since the exceptions that are thrown contain this
> > information.
> >
> > Any help will be appreciated!
> >
> > Best regards,
> > Per
> >
> >
> >
> >
> >
> > Yahoo! Groups Links
> >
> >
> >
> >
> >
> >
> >
> >
> Monty Zukowski
> 
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit -- 
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From anakreonmejdi at yahoo.gr  Wed Jun  2 06:19:22 2004
From: anakreonmejdi at yahoo.gr (Anakreon)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Token stream filter
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409AF18@lnml1.eca-international.local>
References: <C7FE35004D40FD45AA342991B88CE40409AF18@lnml1.eca-international.local>
Message-ID: <40BDD3DA.6080705@yahoo.gr>

Anthony Youngman wrote:
Hello Anthony.
This is the whay I did it although the comments are lost so it might not be what 
you need.

In the rule which matches identifiers i have this code:
     if (_ttype == REM) {
         mLINE(false);
         _ttype = STATEMENT_END;
     }
The  mLINE is generated by the rule:
protected LINE : (~'\n')* '\n' {newline();};
> This sounds like it should be very easy, but I can't see how to do it
> ...
> 
> I want to filter the token stream coming out of the lexer (and I can't
> see how to do it using the lexer's filter - can I do the same thing in
> the parser?). Anyways, I want to match the following sequence
> 
> (newline | semi) ("rem" | "*" | "!" ) ~( "=" | "(" ) ({greedy=false} .)
> newline)
> 
> eating everything EXCEPT the newline, which needs to be passed through
> to the parser. Note also, that while "*" and "!" are tokens, "rem" is an
> ident. Of course, if I need "rem" to be a token, presumably if this rule
> fails I can convert it back to an ident?
> 
> Or do I need to write my own token stream to do this (if so, where do I
> look for an example?)
> 
> Cheers,
> Wol
> 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Wed Jun  2 06:21:20 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Re: Get the line number in my deprecated messages
In-Reply-To: <c9khs8+ae0c@eGroups.com>
References: <4CF84D98-B31E-11D8-BA80-000393B5606C@codetransform.com> <c9khs8+ae0c@eGroups.com>
Message-ID: <20040602132120.GB17123@cs.utwente.nl>

On Wed, Jun 02, 2004 at 12:40:40PM -0000, pwolleba wrote:
> As far I can see the getLine method is inside the CharScanner class,
> I can however not see any solution for reaching this class from my
> parser class.
>
> If there is someone, reading this newsgroup, that has implemented a
> deprecated message in their parsers I would be really happy if you
> could send me an example on how you did it.
> I have so far not found 1 single example that demonstrates this
> problem.

Notice the reportWarning and reportError methods in the
Parser/Lexer/Treewalker classes. You can override these with custom ones
(if you want to). These are used by the antlr generated code print errors
and warnings. Override these to get custom behaviour. You can also call
them directly to print messages.

Personally I add also a few reportError/Warning methods with signatures
like the following:

/** Report warning near location indicated by tok */
void reportWarning( antlr::RefToken tok, const std::string& s );
/** Report warning near location indicated by ast */
void reportWarning( RefModest_AST ast, const std::string& s );

(translating C++ to java left to the reader)

It can be convenient to have line information in your (custom) AST. And the
latter reportWarning only makes sense if you have it.

The best ways to get line information is to get it directly from labeled
tokens or pieces of AST. This is always correct in it's location if all
else fails you can abuse LT(1) in the parser to get the line information
from. ( LT(1).getLine() )

Things are easiest when you got access to the Tokens or pieces of AST (in
the parser even if you're using treebuilding).

Now to your question.

You can basically just put a reportWarning/Error in the action code for the
constructs that are deprecated in the case of serious errors you can also
throw a SemanticException (see the java file for the signature of the
beast). Throwing an exception may be inadequate depending on your error
handler settings.

So to make a long story short:

Suppose we have a language that defines functions at one time using:

void x(x) char *x; { /* body */ }

But now we use good old ansi style:

void x( char* x ) { /* body */ }

function:
   ast:type tok:ID "("
   ( id_list ")" parameter_type_list
      {
         // if you're using ast's with line numbers and have a
         // reportWarning as above
         reportWarning( #ast, "Old style function declaration" );
         // don't have fancy ast's? use a token in the vicinity
         reportWarning( tok, "Old style function declaration" );
      }
   | parameter_list ")"
   )
   body
;

The AST strategy only works with buildAST is true in the parser (or if you
build it yourself manually). It also has some more caveat's with respect to
custom errorhandlers or the absence thereof (you may have to check for
nullAST's due to syntax errors in the input)

Depending on the structure of your grammar it may be easier or more
difficult to give warnings in the right spot. But the general idea is the
same as with 'normal' warnings/errors.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
     "Never argue with an idiot, for they will bring you down to their
              level and beat you with experience." --- Unknown



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Anthony.Youngman at ECA-International.com  Wed Jun  2 06:40:38 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Token stream filter
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF1D@lnml1.eca-international.local>

Except yours is (clearly?) a *lexer* rule. I need a *parser* rule.

The problem is I can only tell if REM means a comment once I've started
parsing. Because it is also a function name, and can be a variable name.
There's various ways of doing it, but the obvious way to use a filter
AFTER the lexer has done its work.

Cheers,
Wol 

-----Original Message-----
From: Anakreon [mailto:anakreonmejdi@yahoo.gr] 
Sent: 02 June 2004 14:19
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] Token stream filter

Anthony Youngman wrote:
Hello Anthony.
This is the whay I did it although the comments are lost so it might not
be what 
you need.

In the rule which matches identifiers i have this code:
     if (_ttype == REM) {
         mLINE(false);
         _ttype = STATEMENT_END;
     }
The  mLINE is generated by the rule:
protected LINE : (~'\n')* '\n' {newline();};
> This sounds like it should be very easy, but I can't see how to do it
> ...
> 
> I want to filter the token stream coming out of the lexer (and I can't
> see how to do it using the lexer's filter - can I do the same thing in
> the parser?). Anyways, I want to match the following sequence
> 
> (newline | semi) ("rem" | "*" | "!" ) ~( "=" | "(" ) ({greedy=false}
.)
> newline)
> 
> eating everything EXCEPT the newline, which needs to be passed through
> to the parser. Note also, that while "*" and "!" are tokens, "rem" is
an
> ident. Of course, if I need "rem" to be a token, presumably if this
rule
> fails I can convert it back to an ident?
> 
> Or do I need to write my own token stream to do this (if so, where do
I
> look for an example?)
> 
> Cheers,
> Wol
> 


 
Yahoo! Groups Links



 



****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Wed Jun  2 07:17:18 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Token stream filter
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409AF19@lnml1.eca-international.local>
References: <C7FE35004D40FD45AA342991B88CE40409AF19@lnml1.eca-international.local>
Message-ID: <20040602141718.GC17123@cs.utwente.nl>

Hi,

On Wed, Jun 02, 2004 at 11:26:53AM +0100, Anthony Youngman wrote:
> Okay. Doing my own homework :-) Would this work (needing cleaning up, I
> don't know what to throw etc ...)?
> 
> filter=DEREMER
> 
> protected DEREMER [returns token] : (
> 	(newline|semi)
> 	(id:IDENT {if text != "REM" throw tokenmatchexception}|"*"|"!")
> 	("=" {throw exception} | "(" {throw exception})?
> 	({greedy=false} .)
> 	newline)
> 	returns newline;

filter=<rule> only works in lexers AFAIK.

> I want to filter the token stream coming out of the lexer (and I can't
> see how to do it using the lexer's filter - can I do the same thing in
> the parser?). Anyways, I want to match the following sequence
> 
> (newline | semi) ("rem" | "*" | "!" ) ~( "=" | "(" ) ({greedy=false} .)
> newline)

So to put it in parser Lingo:

(NEWLINE | SEMI) ("rem" | "*" | "!") ~( "="| "(" ) ( {greedy=false} . )

There's only a set of closures missing by the looks of it ?

Looks like Monty's filter example might be usefull...

http://www.codetransform.com/filterexample.html

> eating everything EXCEPT the newline, which needs to be passed through
> to the parser. Note also, that while "*" and "!" are tokens, "rem" is an
> ident. 

So it's:

(NEWLINE | SEMI) (rem:ID | "*" | "!") ~( "="| "(" ) ( {greedy=false} . )

> Of course, if I need "rem" to be a token, presumably if this rule
> fails I can convert it back to an ident?

Should be possible to modify the ident to a REM token I guess.

I guess I'd handwrite a small parser for the above might be simpler than
coaxing antlr in doing it. Although I'm not sure you migth get away with
some semantic predicate fun.

> Or do I need to write my own token stream to do this (if so, where do I
> look for an example?)

See the link to Monty's site.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  "I think we better split up."
  "Good idea. We can do more damage that way."
  --- Ghostbusters



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Anthony.Youngman at ECA-International.com  Wed Jun  2 07:29:52 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Token stream filter
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF1F@lnml1.eca-international.local>

Thanks. That's pretty much what I was looking for. Now I merely have to
understand it :-)

And it's even the case that I'm writing a grammar for the same language
:-) although a different dialect. I don't know if you remember Rob's
example of a program with all the varying usages of REM? A *nightmare*
(and the one I'm trying to deal with :-) but using a different technique
to him.

Note for Ter - if you haven't saved that post, go look it up. It'd be
nice if Antlr had some way of trying to cope - it's a perfect example of
something that a lexer/parser could handle pretty easily, but a separate
lexer and parser would have nightmares over...

Cheers,
Wol 

-----Original Message-----
From: Ric Klaren [mailto:klaren@cs.utwente.nl] 
Sent: 02 June 2004 15:17
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] Token stream filter

Hi,

On Wed, Jun 02, 2004 at 11:26:53AM +0100, Anthony Youngman wrote:
> Okay. Doing my own homework :-) Would this work (needing cleaning up,
I
> don't know what to throw etc ...)?
> 
> filter=DEREMER
> 
> protected DEREMER [returns token] : (
> 	(newline|semi)
> 	(id:IDENT {if text != "REM" throw tokenmatchexception}|"*"|"!")
> 	("=" {throw exception} | "(" {throw exception})?
> 	({greedy=false} .)
> 	newline)
> 	returns newline;

filter=<rule> only works in lexers AFAIK.

> I want to filter the token stream coming out of the lexer (and I can't
> see how to do it using the lexer's filter - can I do the same thing in
> the parser?). Anyways, I want to match the following sequence
> 
> (newline | semi) ("rem" | "*" | "!" ) ~( "=" | "(" ) ({greedy=false}
.)
> newline)

So to put it in parser Lingo:

(NEWLINE | SEMI) ("rem" | "*" | "!") ~( "="| "(" ) ( {greedy=false} . )

There's only a set of closures missing by the looks of it ?

Looks like Monty's filter example might be usefull...

http://www.codetransform.com/filterexample.html

> eating everything EXCEPT the newline, which needs to be passed through
> to the parser. Note also, that while "*" and "!" are tokens, "rem" is
an
> ident. 

So it's:

(NEWLINE | SEMI) (rem:ID | "*" | "!") ~( "="| "(" ) ( {greedy=false} . )

> Of course, if I need "rem" to be a token, presumably if this rule
> fails I can convert it back to an ident?

Should be possible to modify the ident to a REM token I guess.

I guess I'd handwrite a small parser for the above might be simpler than
coaxing antlr in doing it. Although I'm not sure you migth get away with
some semantic predicate fun.

> Or do I need to write my own token stream to do this (if so, where do
I
> look for an example?)

See the link to Monty's site.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++
-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++
-------
  "I think we better split up."
  "Good idea. We can do more damage that way."
  --- Ghostbusters



 
Yahoo! Groups Links



 



****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Anthony.Youngman at ECA-International.com  Wed Jun  2 07:37:15 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Token stream filter
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF20@lnml1.eca-international.local>

Oops ... and another quicky that may be useful to me ...

If I don't want to eat up the newline at the end, is the following
likely to be a good/sensible parser rule?

commentst : REMARK ( (LA(1) != newline) => . )* ;

in other words, having found a REMARK, eat everything up to but not
including the next newline. Or is LA a lexer-only thing as well?

Cheers,
Wol

-----Original Message-----
From: Anthony Youngman [mailto:Anthony.Youngman@ECA-International.com] 
Sent: 02 June 2004 15:30
To: antlr-interest@yahoogroups.com
Subject: RE: [antlr-interest] Token stream filter

Thanks. That's pretty much what I was looking for. Now I merely have to
understand it :-)

And it's even the case that I'm writing a grammar for the same language
:-) although a different dialect. I don't know if you remember Rob's
example of a program with all the varying usages of REM? A *nightmare*
(and the one I'm trying to deal with :-) but using a different technique
to him.

Note for Ter - if you haven't saved that post, go look it up. It'd be
nice if Antlr had some way of trying to cope - it's a perfect example of
something that a lexer/parser could handle pretty easily, but a separate
lexer and parser would have nightmares over...

Cheers,
Wol 

-----Original Message-----
From: Ric Klaren [mailto:klaren@cs.utwente.nl] 
Sent: 02 June 2004 15:17
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] Token stream filter

Hi,

On Wed, Jun 02, 2004 at 11:26:53AM +0100, Anthony Youngman wrote:
> Okay. Doing my own homework :-) Would this work (needing cleaning up,
I
> don't know what to throw etc ...)?
> 
> filter=DEREMER
> 
> protected DEREMER [returns token] : (
> 	(newline|semi)
> 	(id:IDENT {if text != "REM" throw tokenmatchexception}|"*"|"!")
> 	("=" {throw exception} | "(" {throw exception})?
> 	({greedy=false} .)
> 	newline)
> 	returns newline;

filter=<rule> only works in lexers AFAIK.

> I want to filter the token stream coming out of the lexer (and I can't
> see how to do it using the lexer's filter - can I do the same thing in
> the parser?). Anyways, I want to match the following sequence
> 
> (newline | semi) ("rem" | "*" | "!" ) ~( "=" | "(" ) ({greedy=false}
.)
> newline)

So to put it in parser Lingo:

(NEWLINE | SEMI) ("rem" | "*" | "!") ~( "="| "(" ) ( {greedy=false} . )

There's only a set of closures missing by the looks of it ?

Looks like Monty's filter example might be usefull...

http://www.codetransform.com/filterexample.html

> eating everything EXCEPT the newline, which needs to be passed through
> to the parser. Note also, that while "*" and "!" are tokens, "rem" is
an
> ident. 

So it's:

(NEWLINE | SEMI) (rem:ID | "*" | "!") ~( "="| "(" ) ( {greedy=false} . )

> Of course, if I need "rem" to be a token, presumably if this rule
> fails I can convert it back to an ident?

Should be possible to modify the ident to a REM token I guess.

I guess I'd handwrite a small parser for the above might be simpler than
coaxing antlr in doing it. Although I'm not sure you migth get away with
some semantic predicate fun.

> Or do I need to write my own token stream to do this (if so, where do
I
> look for an example?)

See the link to Monty's site.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++
-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++
-------
  "I think we better split up."
  "Good idea. We can do more damage that way."
  --- Ghostbusters



 
Yahoo! Groups Links



 



************************************************************************
****

This transmission is intended for the named recipient only. It may
contain private and confidential information. If this has come to you in
error you must not act on anything disclosed in it, nor must you copy
it, modify it, disseminate it in any way, or show it to anyone. Please
e-mail the sender to inform us of the transmission error or telephone
ECA International immediately and delete the e-mail from your
information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2
8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New
York +1 212 582 2333.

************************************************************************
****



 
Yahoo! Groups Links



 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Wed Jun  2 08:46:03 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Token stream filter
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409AF20@lnml1.eca-international.local>
References: <C7FE35004D40FD45AA342991B88CE40409AF20@lnml1.eca-international.local>
Message-ID: <20040602154603.GD17123@cs.utwente.nl>

On Wed, Jun 02, 2004 at 03:37:15PM +0100, Anthony Youngman wrote:
> If I don't want to eat up the newline at the end, is the following
> likely to be a good/sensible parser rule?
> 
> commentst : REMARK ( (LA(1) != newline) => . )* ;
> 
> in other words, having found a REMARK, eat everything up to but not
> including the next newline. Or is LA a lexer-only thing as well?

That one is a bit inefficient due to an exception per character:

This is a dirty one but it works:

comment: REMARK ( { if( LA(1) == NEWLINE ) break; } : . )* ;

Tip: read the generated code.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh, no,
  of course, we ... that is ... well, yes, in fact,' said Ponder. 'Adrian
    goes round the back and ... er ... prods it with his foot. But in a
     technical way,' he added. --- From: Hogfather by Terry Pratchett.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jun  2 10:05:13 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Re: Get the line number in my deprecated messages
In-Reply-To: <c9khs8+ae0c@eGroups.com>
References: <c9khs8+ae0c@eGroups.com>
Message-ID: <0315C881-B4B7-11D8-A582-000393B5606C@codetransform.com>

There is some sort of getLine() in the CommonToken class as well.

Monty

On Jun 2, 2004, at 5:40 AM, pwolleba wrote:

> Thanks for your response Monty, it got me one step further!! :o)
>
> As far I can see the getLine method is inside the CharScanner class,
> I can however not see any solution for reaching this class from my
> parser class.
Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jun  2 10:09:42 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Token stream filter
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409AF20@lnml1.eca-international.local>
References: <C7FE35004D40FD45AA342991B88CE40409AF20@lnml1.eca-international.local>
Message-ID: <A3C41ECC-B4B7-11D8-A582-000393B5606C@codetransform.com>

On Jun 2, 2004, at 7:37 AM, Anthony Youngman wrote:

> commentst : REMARK ( (LA(1) != newline) => . )* ;

What's wrong with this?

commentst: REMARK (~(NEWLINE))* ;

Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Wed Jun  2 13:29:00 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] AST generation: EXPRESSION TREE example.
In-Reply-To: <DDA02F6E-AD95-11D8-93A7-000393B5606C@codetransform.com>
Message-ID: <000001c448e0$3d1cac60$03020a0a@starthis.com>

Hi all,

I looked at the documentation for AST (http://www.antlr.org/doc/trees.html)
and I tried the EXPRESSION TREE example provided in the documentation. The
grammar compiles without any errors but when I run the main class, I get an
error that says: "Invalid class or can't make instance, PLUSNode". I get the
same for MULTNode and INTNode. Am I missing something here?? 

Ter :- The tutorial was very useful, thanks!

Thanks,

Bharath.

-----Original Message-----
From: Monty Zukowski [mailto:monty@codetransform.com] 
Sent: Monday, May 24, 2004 10:20 AM
To: antlr-interest@yahoogroups.com
Cc: Monty Zukowski
Subject: Re: [antlr-interest] Whitespace problem. (keywords Vs identifiers)



On May 21, 2004, at 9:03 AM, Bharath Sundararaman wrote:

> Hi Monty,
>
> Here's my rule:
>
> IDMEAT:i:IDENT {
>         if ( i.getText().equals("t") | i.getText().equals("T") |
> i.getText().equals("time")) {
>                     $setType(TIME_PREFIX);
>        }
>         else if (i.getText().equals("e") | i.getText().equals("E")) {
>       		  $setType(Exponent_prefix);
>        }
>        else {
>
> 			$setType(i.getType());
>        }
>       };
>

IDENT will have set the type of the token, so your test could be 
if(i.getType()==T | i.getType()==TIME etc.)

You also aren't testing for # and a number, so you will get TIME_PREFIX 
for a variable named 't' no matter what follows.

E9 is a valid identifier, I assume.  That one should probably be 
handled in IDENT

IDENT:
(('e'|'E') (INT | PLUS | MINUS))=> ('e'|'E') 
{$setType(Exponent_prefix);}
| ('a'..'z'|'A'..'Z') ('a'..'z'|'A'..'Z'|'0'..'9')



> Problem: My time rule is (in the parser) --
> time: TIME_PREFIX HASH Int; and it takes values like "t#9" or "T#9".
> Note
> that there's no space between 't' and '#' and that's what I want. 
> However,
> for Exponent_prefix, it doesn't work.
>
> exponent: Exponent_prefix (PLUS|MINUS)? Int; allows "E 9" or "E+9" but
> it
> doesn't allow "E9". I tried to ignore WHITEPACE in IDMEAT rule but 
> that cant
> be the problem because TIME_PREFIX works fine.
>
> Any ideas?
>
> B.
>
> -----Original Message-----
> From: Monty Zukowski [mailto:monty@codetransform.com]
> Sent: Thursday, May 20, 2004 12:05 PM
> To: antlr-interest@yahoogroups.com
> Cc: Monty Zukowski
> Subject: Re: [antlr-interest] Keywords Vs Identifiers.
>
>
> I'm sorry, I was in a hurry.  Inspect the generated code, you will see 
> in the ID rule where antlr tests the token text against the literals 
> table and assigns the token type.  To use it in a rule you may need a 
> semantic predicate, this is a little tricky because you need to use 
> the predicate to choose an alternative--hmmm, maybe you could get by 
> with calling the lexer rule directly in your action code.  Yes, in 
> your action where you see the TIME id, call the WS rule and then the 
> INT rule.  If either fail that's ok, it was not the TIME keyword, is 
> was an ID, so change the type back.  Then call your s,m,ms rule.  The 
> text will still be appended to the token buffer and make it through to 
> the parser.  Try it out and ask when you hit a problem.  I wish I had 
> another 15 minutes to explain fully...
>
> Monty
>
> On May 20, 2004, at 6:30 AM, Bharath S wrote:
>
>> Hi Monty,
>>
>> I am unclear about the ID token here. Let's say that lexer sees "abc" 
>> which is a token of type ID. Please correct me if my understanding is 
>> not right.
>>
>> 1. if (i.getType( )) statement, is used to test against literals. So, 
>> if ID was "INT" instead of "abc", it would return LITERAL_INT and it 
>> would skip
>> that token. Otherwise, it sets "abc"'s type as ID. Though ID by itself
>> has
>> {testliterals} options set, IDMEAT rule would allow me to have both ID
>> and
>> (TIME : "TIME" Integer;) rule to co-exist in the lexer.
>>
>> 2. This is a better solution because if I had 's', 'm', 'ms' etc to 
>> denote seconds, minutes and milliseconds, I have to write a separate 
>> rule for each
>> one of them  in the parser (if i follow my solution) to prevent
>> conflict
>> with the ID rule. Doing it via IDMEAT will solve the issue and make
>> life
>> easier.
>>
>> Thanks for your comments and clarifications!
>>
>> Bharath.
>> ----- Original Message -----
>> From: "Monty Zukowski" <monty@codetransform.com>
>> To: <antlr-interest@yahoogroups.com>
>> Cc: "Monty Zukowski" <monty@codetransform.com>
>> Sent: Wednesday, May 19, 2004 5:13 PM
>> Subject: Re: [antlr-interest] Keywords Vs Identifiers.
>>
>>
>>> If you want to handle that in the lexer you need to do it by calling 
>>> the rule that tests the literals table, here's an example from the C
>>> grammar:
>>>
>>> IDMEAT
>>>          :
>>>                  i:ID                {
>>>
>>>                                          if ( i.getType() == 
>>> LITERAL___extension__ ) {
>>>                                                  
>>> $setType(Token.SKIP);
>>>                                          }
>>>                                          else {
>>>
>>> $setType(i.getType());
>>>                                          }
>>>
>>>                                      }
>>>          ;
>>>
>>> protected ID
>>>          options
>>>                  {
>>>                  testLiterals = true;
>>>                  }
>>>          :       ( 'a'..'z' | 'A'..'Z' | '_' | '$')
>>>                  ( 'a'..'z' | 'A'..'Z' | '_' | '$' | '0'..'9' )*
>>>          ;
>>>
>>> It's actually tricky to figure out how to lex the following 
>>> whitespace and integer without using a syntactic predicate, but a 
>>> syn pred here will be a performance problem.  I would actually 
>>> recommend using a parser filter see 
>>> http://www.codetransform.com/filterexample.html
>>>
>>> By the way your parser solution works just fine too, is probably the 
>>> easiest.
>>>
>>> Monty
>>>
>>> On May 19, 2004, at 2:55 PM, Bharath wrote:
>>>
>>>> Hi Monty,
>>>>
>>>> I did. I figured a way out too but I am not sure if it's an 
>>>> efficient solution. I set a rule in the parser which accepts an 
>>>> identifier and I extracted the identifier input into a string. If 
>>>> the string is not "TIME", I throw an exception, otherwise I accept 
>>>> it. (using getText() method).
>>>>
>>>> Please let me know if this is bad practice.
>>>>
>>>> Thanks!
>>>>
>>>> Bharath.
>>>>
>>>> -----Original Message-----
>>>> From: Monty Zukowski [mailto:monty@codetransform.com]
>>>> Sent: Wednesday, May 19, 2004 4:41 PM
>>>> To: antlr-interest@yahoogroups.com
>>>> Cc: Monty Zukowski
>>>> Subject: Re: [antlr-interest] Keywords Vs Identifiers.
>>>>
>>>> See the documentation about "literals"
>>>>
>>>> Monty
>>>>
>>>> On May 19, 2004, at 8:25 AM, Bharath S wrote:
>>>>
>>>>> Hi Antlers,
>>>>>
>>>>> I have some rules in my grammar, for time literals which require 
>>>>> that 'TIME'
>>>>> or "time" be appended to the front of the rule. For eg., time can
>>>>> represented as TIME 99secs. The problem is, "TIME" is not a keyword
>>>>> and so I
>>>>> cant have it in the parser. If I throw it in the lexer, it causes a
>>>>> clash
>>>>> with IDENTIFIER rule, because the lexer sees the rule as
>>>>>
>>>>> TIME: 'T' 'I' 'M' 'E' (Integer) ; and
>>>>> IDENTIFIER: ('a'..'z'|'A'..'Z')+;
>>>>>
>>>>> as expected. Is there a common workaround for this?
>>>>>
>>>>> I can solve this problem by moving a whole bunch of rules in the 
>>>>> parser back to the lexer, just to make the TIME rule protected. 
>>>>> But it doesnt make sense, at all.
>>>>>
>>>>> Any comments are most welcome.
>>>>>
>>>>> Bharath.
>>>> Monty Zukowski
>>>>
>>>> ANTLR & Java Consultant -- http://www.codetransform.com ANSI C/GCC 
>>>> transformation toolkit -- http://www.codetransform.com/gcc.html
>>>> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
>>>>
>>>>
>>>>
>>>>
>>>> Yahoo! Groups Links
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> Yahoo! Groups Links
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>> Monty Zukowski
>>>
>>> ANTLR & Java Consultant -- http://www.codetransform.com ANSI C/GCC 
>>> transformation toolkit -- http://www.codetransform.com/gcc.html
>>> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
>>>
>>>
>>>
>>>
>>> Yahoo! Groups Links
>>>
>>>
>>>
>>>
>>>
>>>
>>
>>
>>
>>
>> Yahoo! Groups Links
>>
>>
>>
>>
>>
>>
>>
>>
> Monty Zukowski
>
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit -- 
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jun  2 13:31:47 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] AST generation: EXPRESSION TREE example.
In-Reply-To: <000001c448e0$3d1cac60$03020a0a@starthis.com>
References: <000001c448e0$3d1cac60$03020a0a@starthis.com>
Message-ID: <DECCED00-B4D3-11D8-8EC2-000393B5606C@codetransform.com>

You are trying to create heterogeneous nodes.  Look in the heteroAST 
example in the antlr distribution.

Monty

On Jun 2, 2004, at 1:29 PM, Bharath Sundararaman wrote:

> Hi all,
>
> I looked at the documentation for AST 
> (http://www.antlr.org/doc/trees.html)
> and I tried the EXPRESSION TREE example provided in the documentation. 
> The
> grammar compiles without any errors but when I run the main class, I 
> get an
> error that says: "Invalid class or can't make instance, PLUSNode". I 
> get the
> same for MULTNode and INTNode. Am I missing something here??
>
> Ter :- The tutorial was very useful, thanks!
>
> Thanks,
>
> Bharath.
>
> -----Original Message-----
> From: Monty Zukowski [mailto:monty@codetransform.com]
> Sent: Monday, May 24, 2004 10:20 AM
> To: antlr-interest@yahoogroups.com
> Cc: Monty Zukowski
> Subject: Re: [antlr-interest] Whitespace problem. (keywords Vs 
> identifiers)
>
>
>
> On May 21, 2004, at 9:03 AM, Bharath Sundararaman wrote:
>
>> Hi Monty,
>>
>> Here's my rule:
>>
>> IDMEAT:i:IDENT {
>>         if ( i.getText().equals("t") | i.getText().equals("T") |
>> i.getText().equals("time")) {
>>                     $setType(TIME_PREFIX);
>>        }
>>         else if (i.getText().equals("e") | i.getText().equals("E")) {
>>       		  $setType(Exponent_prefix);
>>        }
>>        else {
>>
>> 			$setType(i.getType());
>>        }
>>       };
>>
>
> IDENT will have set the type of the token, so your test could be
> if(i.getType()==T | i.getType()==TIME etc.)
>
> You also aren't testing for # and a number, so you will get TIME_PREFIX
> for a variable named 't' no matter what follows.
>
> E9 is a valid identifier, I assume.  That one should probably be
> handled in IDENT
>
> IDENT:
> (('e'|'E') (INT | PLUS | MINUS))=> ('e'|'E')
> {$setType(Exponent_prefix);}
> | ('a'..'z'|'A'..'Z') ('a'..'z'|'A'..'Z'|'0'..'9')
>
>
>
>> Problem: My time rule is (in the parser) --
>> time: TIME_PREFIX HASH Int; and it takes values like "t#9" or "T#9".
>> Note
>> that there's no space between 't' and '#' and that's what I want.
>> However,
>> for Exponent_prefix, it doesn't work.
>>
>> exponent: Exponent_prefix (PLUS|MINUS)? Int; allows "E 9" or "E+9" but
>> it
>> doesn't allow "E9". I tried to ignore WHITEPACE in IDMEAT rule but
>> that cant
>> be the problem because TIME_PREFIX works fine.
>>
>> Any ideas?
>>
>> B.
>>
>> -----Original Message-----
>> From: Monty Zukowski [mailto:monty@codetransform.com]
>> Sent: Thursday, May 20, 2004 12:05 PM
>> To: antlr-interest@yahoogroups.com
>> Cc: Monty Zukowski
>> Subject: Re: [antlr-interest] Keywords Vs Identifiers.
>>
>>
>> I'm sorry, I was in a hurry.  Inspect the generated code, you will see
>> in the ID rule where antlr tests the token text against the literals
>> table and assigns the token type.  To use it in a rule you may need a
>> semantic predicate, this is a little tricky because you need to use
>> the predicate to choose an alternative--hmmm, maybe you could get by
>> with calling the lexer rule directly in your action code.  Yes, in
>> your action where you see the TIME id, call the WS rule and then the
>> INT rule.  If either fail that's ok, it was not the TIME keyword, is
>> was an ID, so change the type back.  Then call your s,m,ms rule.  The
>> text will still be appended to the token buffer and make it through to
>> the parser.  Try it out and ask when you hit a problem.  I wish I had
>> another 15 minutes to explain fully...
>>
>> Monty
>>
>> On May 20, 2004, at 6:30 AM, Bharath S wrote:
>>
>>> Hi Monty,
>>>
>>> I am unclear about the ID token here. Let's say that lexer sees "abc"
>>> which is a token of type ID. Please correct me if my understanding is
>>> not right.
>>>
>>> 1. if (i.getType( )) statement, is used to test against literals. So,
>>> if ID was "INT" instead of "abc", it would return LITERAL_INT and it
>>> would skip
>>> that token. Otherwise, it sets "abc"'s type as ID. Though ID by 
>>> itself
>>> has
>>> {testliterals} options set, IDMEAT rule would allow me to have both 
>>> ID
>>> and
>>> (TIME : "TIME" Integer;) rule to co-exist in the lexer.
>>>
>>> 2. This is a better solution because if I had 's', 'm', 'ms' etc to
>>> denote seconds, minutes and milliseconds, I have to write a separate
>>> rule for each
>>> one of them  in the parser (if i follow my solution) to prevent
>>> conflict
>>> with the ID rule. Doing it via IDMEAT will solve the issue and make
>>> life
>>> easier.
>>>
>>> Thanks for your comments and clarifications!
>>>
>>> Bharath.
>>> ----- Original Message -----
>>> From: "Monty Zukowski" <monty@codetransform.com>
>>> To: <antlr-interest@yahoogroups.com>
>>> Cc: "Monty Zukowski" <monty@codetransform.com>
>>> Sent: Wednesday, May 19, 2004 5:13 PM
>>> Subject: Re: [antlr-interest] Keywords Vs Identifiers.
>>>
>>>
>>>> If you want to handle that in the lexer you need to do it by calling
>>>> the rule that tests the literals table, here's an example from the C
>>>> grammar:
>>>>
>>>> IDMEAT
>>>>          :
>>>>                  i:ID                {
>>>>
>>>>                                          if ( i.getType() ==
>>>> LITERAL___extension__ ) {
>>>>
>>>> $setType(Token.SKIP);
>>>>                                          }
>>>>                                          else {
>>>>
>>>> $setType(i.getType());
>>>>                                          }
>>>>
>>>>                                      }
>>>>          ;
>>>>
>>>> protected ID
>>>>          options
>>>>                  {
>>>>                  testLiterals = true;
>>>>                  }
>>>>          :       ( 'a'..'z' | 'A'..'Z' | '_' | '$')
>>>>                  ( 'a'..'z' | 'A'..'Z' | '_' | '$' | '0'..'9' )*
>>>>          ;
>>>>
>>>> It's actually tricky to figure out how to lex the following
>>>> whitespace and integer without using a syntactic predicate, but a
>>>> syn pred here will be a performance problem.  I would actually
>>>> recommend using a parser filter see
>>>> http://www.codetransform.com/filterexample.html
>>>>
>>>> By the way your parser solution works just fine too, is probably the
>>>> easiest.
>>>>
>>>> Monty
>>>>
>>>> On May 19, 2004, at 2:55 PM, Bharath wrote:
>>>>
>>>>> Hi Monty,
>>>>>
>>>>> I did. I figured a way out too but I am not sure if it's an
>>>>> efficient solution. I set a rule in the parser which accepts an
>>>>> identifier and I extracted the identifier input into a string. If
>>>>> the string is not "TIME", I throw an exception, otherwise I accept
>>>>> it. (using getText() method).
>>>>>
>>>>> Please let me know if this is bad practice.
>>>>>
>>>>> Thanks!
>>>>>
>>>>> Bharath.
>>>>>
>>>>> -----Original Message-----
>>>>> From: Monty Zukowski [mailto:monty@codetransform.com]
>>>>> Sent: Wednesday, May 19, 2004 4:41 PM
>>>>> To: antlr-interest@yahoogroups.com
>>>>> Cc: Monty Zukowski
>>>>> Subject: Re: [antlr-interest] Keywords Vs Identifiers.
>>>>>
>>>>> See the documentation about "literals"
>>>>>
>>>>> Monty
>>>>>
>>>>> On May 19, 2004, at 8:25 AM, Bharath S wrote:
>>>>>
>>>>>> Hi Antlers,
>>>>>>
>>>>>> I have some rules in my grammar, for time literals which require
>>>>>> that 'TIME'
>>>>>> or "time" be appended to the front of the rule. For eg., time can
>>>>>> represented as TIME 99secs. The problem is, "TIME" is not a 
>>>>>> keyword
>>>>>> and so I
>>>>>> cant have it in the parser. If I throw it in the lexer, it causes 
>>>>>> a
>>>>>> clash
>>>>>> with IDENTIFIER rule, because the lexer sees the rule as
>>>>>>
>>>>>> TIME: 'T' 'I' 'M' 'E' (Integer) ; and
>>>>>> IDENTIFIER: ('a'..'z'|'A'..'Z')+;
>>>>>>
>>>>>> as expected. Is there a common workaround for this?
>>>>>>
>>>>>> I can solve this problem by moving a whole bunch of rules in the
>>>>>> parser back to the lexer, just to make the TIME rule protected.
>>>>>> But it doesnt make sense, at all.
>>>>>>
>>>>>> Any comments are most welcome.
>>>>>>
>>>>>> Bharath.
>>>>> Monty Zukowski
>>>>>
>>>>> ANTLR & Java Consultant -- http://www.codetransform.com ANSI C/GCC
>>>>> transformation toolkit -- http://www.codetransform.com/gcc.html
>>>>> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> Yahoo! Groups Links
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> Yahoo! Groups Links
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>> Monty Zukowski
>>>>
>>>> ANTLR & Java Consultant -- http://www.codetransform.com ANSI C/GCC
>>>> transformation toolkit -- http://www.codetransform.com/gcc.html
>>>> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
>>>>
>>>>
>>>>
>>>>
>>>> Yahoo! Groups Links
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>
>>>
>>>
>>>
>>> Yahoo! Groups Links
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>> Monty Zukowski
>>
>> ANTLR & Java Consultant -- http://www.codetransform.com
>> ANSI C/GCC transformation toolkit --
>> http://www.codetransform.com/gcc.html
>> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
>>
>>
>>
>>
>> Yahoo! Groups Links
>>
>>
>>
>>
>>
>>
>>
>>
>>
>> Yahoo! Groups Links
>>
>>
>>
>>
>>
>>
>>
>>
> Monty Zukowski
>
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit --
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Wed Jun  2 13:56:43 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] AST generation: EXPRESSION TREE example.
In-Reply-To: <DECCED00-B4D3-11D8-8EC2-000393B5606C@codetransform.com>
Message-ID: <000001c448e4$1c975680$03020a0a@starthis.com>

Hi Monty,

I am aware that I'm dealing with heterogeneous ASTs. I have the required
classes from the documentation (CalcAST, BinaryOperatorAST, INTNode,
PLUSNode and MULTNode) and I tried "parser.setASTNodeClass(myPkg.CalcAST);"
since setASTNodeType("myClassName") gave me a deprecation warning. CalcAST
class extends antlr.baseAST and not antlr.CommonAST -- What's the
difference? I tried both classes and the error remains. 

Homogeneous AST works and I can walk it with a treewalker that extends
TreeParser. 

Thanks for your prompt reply!

Bharath.

-----Original Message-----
From: Monty Zukowski [mailto:monty@codetransform.com] 
Sent: Wednesday, June 02, 2004 3:32 PM
To: antlr-interest@yahoogroups.com
Cc: Monty Zukowski
Subject: Re: [antlr-interest] AST generation: EXPRESSION TREE example.


You are trying to create heterogeneous nodes.  Look in the heteroAST 
example in the antlr distribution.

Monty

On Jun 2, 2004, at 1:29 PM, Bharath Sundararaman wrote:

> Hi all,
>
> I looked at the documentation for AST
> (http://www.antlr.org/doc/trees.html)
> and I tried the EXPRESSION TREE example provided in the documentation. 
> The
> grammar compiles without any errors but when I run the main class, I 
> get an
> error that says: "Invalid class or can't make instance, PLUSNode". I 
> get the
> same for MULTNode and INTNode. Am I missing something here??
>
> Ter :- The tutorial was very useful, thanks!
>
> Thanks,
>
> Bharath.
>
> -----Original Message-----
> From: Monty Zukowski [mailto:monty@codetransform.com]
> Sent: Monday, May 24, 2004 10:20 AM
> To: antlr-interest@yahoogroups.com
> Cc: Monty Zukowski
> Subject: Re: [antlr-interest] Whitespace problem. (keywords Vs
> identifiers)
>
>
>
> On May 21, 2004, at 9:03 AM, Bharath Sundararaman wrote:
>
>> Hi Monty,
>>
>> Here's my rule:
>>
>> IDMEAT:i:IDENT {
>>         if ( i.getText().equals("t") | i.getText().equals("T") |
>> i.getText().equals("time")) {
>>                     $setType(TIME_PREFIX);
>>        }
>>         else if (i.getText().equals("e") | i.getText().equals("E")) {
>>       		  $setType(Exponent_prefix);
>>        }
>>        else {
>>
>> 			$setType(i.getType());
>>        }
>>       };
>>
>
> IDENT will have set the type of the token, so your test could be 
> if(i.getType()==T | i.getType()==TIME etc.)
>
> You also aren't testing for # and a number, so you will get 
> TIME_PREFIX for a variable named 't' no matter what follows.
>
> E9 is a valid identifier, I assume.  That one should probably be 
> handled in IDENT
>
> IDENT:
> (('e'|'E') (INT | PLUS | MINUS))=> ('e'|'E') 
> {$setType(Exponent_prefix);}
> | ('a'..'z'|'A'..'Z') ('a'..'z'|'A'..'Z'|'0'..'9')
>
>
>
>> Problem: My time rule is (in the parser) --
>> time: TIME_PREFIX HASH Int; and it takes values like "t#9" or "T#9". 
>> Note that there's no space between 't' and '#' and that's what I 
>> want. However,
>> for Exponent_prefix, it doesn't work.
>>
>> exponent: Exponent_prefix (PLUS|MINUS)? Int; allows "E 9" or "E+9" 
>> but it doesn't allow "E9". I tried to ignore WHITEPACE in IDMEAT rule 
>> but that cant
>> be the problem because TIME_PREFIX works fine.
>>
>> Any ideas?
>>
>> B.
>>
>> -----Original Message-----
>> From: Monty Zukowski [mailto:monty@codetransform.com]
>> Sent: Thursday, May 20, 2004 12:05 PM
>> To: antlr-interest@yahoogroups.com
>> Cc: Monty Zukowski
>> Subject: Re: [antlr-interest] Keywords Vs Identifiers.
>>
>>
>> I'm sorry, I was in a hurry.  Inspect the generated code, you will 
>> see in the ID rule where antlr tests the token text against the 
>> literals table and assigns the token type.  To use it in a rule you 
>> may need a semantic predicate, this is a little tricky because you 
>> need to use the predicate to choose an alternative--hmmm, maybe you 
>> could get by with calling the lexer rule directly in your action 
>> code.  Yes, in your action where you see the TIME id, call the WS 
>> rule and then the INT rule.  If either fail that's ok, it was not the 
>> TIME keyword, is was an ID, so change the type back.  Then call your 
>> s,m,ms rule.  The text will still be appended to the token buffer and 
>> make it through to the parser.  Try it out and ask when you hit a 
>> problem.  I wish I had another 15 minutes to explain fully...
>>
>> Monty
>>
>> On May 20, 2004, at 6:30 AM, Bharath S wrote:
>>
>>> Hi Monty,
>>>
>>> I am unclear about the ID token here. Let's say that lexer sees 
>>> "abc" which is a token of type ID. Please correct me if my 
>>> understanding is not right.
>>>
>>> 1. if (i.getType( )) statement, is used to test against literals. 
>>> So, if ID was "INT" instead of "abc", it would return LITERAL_INT 
>>> and it would skip that token. Otherwise, it sets "abc"'s type as ID. 
>>> Though ID by itself
>>> has
>>> {testliterals} options set, IDMEAT rule would allow me to have both 
>>> ID
>>> and
>>> (TIME : "TIME" Integer;) rule to co-exist in the lexer.
>>>
>>> 2. This is a better solution because if I had 's', 'm', 'ms' etc to 
>>> denote seconds, minutes and milliseconds, I have to write a separate 
>>> rule for each one of them  in the parser (if i follow my solution) 
>>> to prevent conflict
>>> with the ID rule. Doing it via IDMEAT will solve the issue and make
>>> life
>>> easier.
>>>
>>> Thanks for your comments and clarifications!
>>>
>>> Bharath.
>>> ----- Original Message -----
>>> From: "Monty Zukowski" <monty@codetransform.com>
>>> To: <antlr-interest@yahoogroups.com>
>>> Cc: "Monty Zukowski" <monty@codetransform.com>
>>> Sent: Wednesday, May 19, 2004 5:13 PM
>>> Subject: Re: [antlr-interest] Keywords Vs Identifiers.
>>>
>>>
>>>> If you want to handle that in the lexer you need to do it by 
>>>> calling the rule that tests the literals table, here's an example 
>>>> from the C
>>>> grammar:
>>>>
>>>> IDMEAT
>>>>          :
>>>>                  i:ID                {
>>>>
>>>>                                          if ( i.getType() == 
>>>> LITERAL___extension__ ) {
>>>>
>>>> $setType(Token.SKIP);
>>>>                                          }
>>>>                                          else {
>>>>
>>>> $setType(i.getType());
>>>>                                          }
>>>>
>>>>                                      }
>>>>          ;
>>>>
>>>> protected ID
>>>>          options
>>>>                  {
>>>>                  testLiterals = true;
>>>>                  }
>>>>          :       ( 'a'..'z' | 'A'..'Z' | '_' | '$')
>>>>                  ( 'a'..'z' | 'A'..'Z' | '_' | '$' | '0'..'9' )*
>>>>          ;
>>>>
>>>> It's actually tricky to figure out how to lex the following 
>>>> whitespace and integer without using a syntactic predicate, but a 
>>>> syn pred here will be a performance problem.  I would actually 
>>>> recommend using a parser filter see 
>>>> http://www.codetransform.com/filterexample.html
>>>>
>>>> By the way your parser solution works just fine too, is probably 
>>>> the easiest.
>>>>
>>>> Monty
>>>>
>>>> On May 19, 2004, at 2:55 PM, Bharath wrote:
>>>>
>>>>> Hi Monty,
>>>>>
>>>>> I did. I figured a way out too but I am not sure if it's an 
>>>>> efficient solution. I set a rule in the parser which accepts an 
>>>>> identifier and I extracted the identifier input into a string. If 
>>>>> the string is not "TIME", I throw an exception, otherwise I accept 
>>>>> it. (using getText() method).
>>>>>
>>>>> Please let me know if this is bad practice.
>>>>>
>>>>> Thanks!
>>>>>
>>>>> Bharath.
>>>>>
>>>>> -----Original Message-----
>>>>> From: Monty Zukowski [mailto:monty@codetransform.com]
>>>>> Sent: Wednesday, May 19, 2004 4:41 PM
>>>>> To: antlr-interest@yahoogroups.com
>>>>> Cc: Monty Zukowski
>>>>> Subject: Re: [antlr-interest] Keywords Vs Identifiers.
>>>>>
>>>>> See the documentation about "literals"
>>>>>
>>>>> Monty
>>>>>
>>>>> On May 19, 2004, at 8:25 AM, Bharath S wrote:
>>>>>
>>>>>> Hi Antlers,
>>>>>>
>>>>>> I have some rules in my grammar, for time literals which require 
>>>>>> that 'TIME' or "time" be appended to the front of the rule. For 
>>>>>> eg., time can represented as TIME 99secs. The problem is, "TIME" 
>>>>>> is not a keyword
>>>>>> and so I
>>>>>> cant have it in the parser. If I throw it in the lexer, it causes 
>>>>>> a
>>>>>> clash
>>>>>> with IDENTIFIER rule, because the lexer sees the rule as
>>>>>>
>>>>>> TIME: 'T' 'I' 'M' 'E' (Integer) ; and
>>>>>> IDENTIFIER: ('a'..'z'|'A'..'Z')+;
>>>>>>
>>>>>> as expected. Is there a common workaround for this?
>>>>>>
>>>>>> I can solve this problem by moving a whole bunch of rules in the 
>>>>>> parser back to the lexer, just to make the TIME rule protected. 
>>>>>> But it doesnt make sense, at all.
>>>>>>
>>>>>> Any comments are most welcome.
>>>>>>
>>>>>> Bharath.
>>>>> Monty Zukowski
>>>>>
>>>>> ANTLR & Java Consultant -- http://www.codetransform.com ANSI C/GCC 
>>>>> transformation toolkit -- http://www.codetransform.com/gcc.html
>>>>> Embrace the Decay -- 
>>>>> http://www.codetransform.com/EmbraceDecay.html
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> Yahoo! Groups Links
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> Yahoo! Groups Links
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>> Monty Zukowski
>>>>
>>>> ANTLR & Java Consultant -- http://www.codetransform.com ANSI C/GCC 
>>>> transformation toolkit -- http://www.codetransform.com/gcc.html
>>>> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
>>>>
>>>>
>>>>
>>>>
>>>> Yahoo! Groups Links
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>
>>>
>>>
>>>
>>> Yahoo! Groups Links
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>> Monty Zukowski
>>
>> ANTLR & Java Consultant -- http://www.codetransform.com
>> ANSI C/GCC transformation toolkit -- 
>> http://www.codetransform.com/gcc.html
>> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
>>
>>
>>
>>
>> Yahoo! Groups Links
>>
>>
>>
>>
>>
>>
>>
>>
>>
>> Yahoo! Groups Links
>>
>>
>>
>>
>>
>>
>>
>>
> Monty Zukowski
>
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit -- 
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jun  2 14:02:18 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] AST generation: EXPRESSION TREE example.
In-Reply-To: <000001c448e4$1c975680$03020a0a@starthis.com>
References: <000001c448e4$1c975680$03020a0a@starthis.com>
Message-ID: <224B9EC2-B4D8-11D8-A988-000393B5606C@codetransform.com>

On Jun 2, 2004, at 1:56 PM, Bharath Sundararaman wrote:

> I am aware that I'm dealing with heterogeneous ASTs. I have the 
> required
> classes from the documentation (CalcAST, BinaryOperatorAST, INTNode,
> PLUSNode and MULTNode) and I tried 
> "parser.setASTNodeClass(myPkg.CalcAST);"
> since setASTNodeType("myClassName") gave me a deprecation warning. 
> CalcAST
> class extends antlr.baseAST and not antlr.CommonAST -- What's the
> difference? I tried both classes and the error remains.
>

Do you have "package myPkg;" in your CalcAST classes?  Your error is 
about java not being able to load the class properly because it can't 
find it.

Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Wed Jun  2 14:35:14 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] AST generation: EXPRESSION TREE example.
In-Reply-To: <224B9EC2-B4D8-11D8-A988-000393B5606C@codetransform.com>
Message-ID: <000001c448e9$7e38ad80$03020a0a@starthis.com>

Hi Monty,

Yes, they do. In fact, if I don't use INTNode, PLUSNode and MULTNode in my
grammar and just use CalcAST in my "main" class which runs the parser and
the lex, it works fine. I can correctly resolve CalcAST and use it. Should I
qualify my usage of INTNode, PLUSNode and MULTNode? In my tokens section, I
have the line "PLUS<AST = PLUSNode>;". Also, all my class files exist under
one same package.

Thanks again,

Bharath.

-----Original Message-----
From: Monty Zukowski [mailto:monty@codetransform.com] 
Sent: Wednesday, June 02, 2004 4:02 PM
To: antlr-interest@yahoogroups.com
Cc: Monty Zukowski
Subject: Re: [antlr-interest] AST generation: EXPRESSION TREE example.


On Jun 2, 2004, at 1:56 PM, Bharath Sundararaman wrote:

> I am aware that I'm dealing with heterogeneous ASTs. I have the
> required
> classes from the documentation (CalcAST, BinaryOperatorAST, INTNode,
> PLUSNode and MULTNode) and I tried 
> "parser.setASTNodeClass(myPkg.CalcAST);"
> since setASTNodeType("myClassName") gave me a deprecation warning. 
> CalcAST
> class extends antlr.baseAST and not antlr.CommonAST -- What's the
> difference? I tried both classes and the error remains.
>

Do you have "package myPkg;" in your CalcAST classes?  Your error is 
about java not being able to load the class properly because it can't 
find it.

Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jun  2 14:36:26 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] AST generation: EXPRESSION TREE example.
In-Reply-To: <000001c448e9$7e38ad80$03020a0a@starthis.com>
References: <000001c448e9$7e38ad80$03020a0a@starthis.com>
Message-ID: <E6BC3805-B4DC-11D8-A988-000393B5606C@codetransform.com>

On Jun 2, 2004, at 2:35 PM, Bharath Sundararaman wrote:

> Yes, they do. In fact, if I don't use INTNode, PLUSNode and MULTNode 
> in my
> grammar and just use CalcAST in my "main" class which runs the parser 
> and
> the lex, it works fine. I can correctly resolve CalcAST and use it. 
> Should I
> qualify my usage of INTNode, PLUSNode and MULTNode? In my tokens 
> section, I
> have the line "PLUS<AST = PLUSNode>;". Also, all my class files exist 
> under
> one same package.

You probably have to qualify the node name.  Try PLUS<AST = 
mypkg.PLUSNode>

Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Wed Jun  2 14:58:24 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] AST generation: EXPRESSION TREE example.
In-Reply-To: <E6BC3805-B4DC-11D8-A988-000393B5606C@codetransform.com>
Message-ID: <000001c448ec$ba80a010$03020a0a@starthis.com>

Hi Monty,

I fully qualified PLUSNode, INTNode and MULTNode and it works :-). I have a
language similar to PASCAL and the syntax analysis is complete. To generate
an AST with a decent structure (based on my needs), my understanding is that
I have to add qualifiers (^, !) to each rule and modify existing rules to
make them AST friendly. Is this a cumbersome process? 

Thanks again. 

Bharath.

-----Original Message-----
From: Monty Zukowski [mailto:monty@codetransform.com] 
Sent: Wednesday, June 02, 2004 4:36 PM
To: antlr-interest@yahoogroups.com
Cc: Monty Zukowski
Subject: Re: [antlr-interest] AST generation: EXPRESSION TREE example.


On Jun 2, 2004, at 2:35 PM, Bharath Sundararaman wrote:

> Yes, they do. In fact, if I don't use INTNode, PLUSNode and MULTNode
> in my
> grammar and just use CalcAST in my "main" class which runs the parser 
> and
> the lex, it works fine. I can correctly resolve CalcAST and use it. 
> Should I
> qualify my usage of INTNode, PLUSNode and MULTNode? In my tokens 
> section, I
> have the line "PLUS<AST = PLUSNode>;". Also, all my class files exist 
> under
> one same package.

You probably have to qualify the node name.  Try PLUS<AST = 
mypkg.PLUSNode>

Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Wed Jun  2 18:57:06 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:54 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1086227826.656.76789.m19@yahoogroups.com>


Hello,

This is an automated email message to let you know that
hero323.tw <hero323.tw@yahoo.com.tw> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From notify at yahoogroups.com  Wed Jun  2 19:04:12 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:54 2004
Subject: New antlr-interest member
Message-ID: <1086228252.67.93801.w17@yahoogroups.com>


Hello,

This is an automated email message to let you know that
crackbabylon <crackbabylon@yahoo.co.uk> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Wed Jun  2 19:41:11 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:54 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1086230471.2182.96428.w11@yahoogroups.com>


Hello,

This is an automated email message to let you know that
realistic_programmer <realistic_programmer@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Wed Jun  2 20:07:57 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:54 2004
Subject: New antlr-interest member
Message-ID: <1086232077.97.2540.w7@yahoogroups.com>


Hello,

This is an automated email message to let you know that
dharrison_ch <dharrison_ch@yahoo.co.uk> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From dharrison_ch at yahoo.co.uk  Wed Jun  2 20:12:12 2004
From: dharrison_ch at yahoo.co.uk (dharrison_ch)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] installing under WinXP
Message-ID: <c9m4uc+mg4@eGroups.com>

Hi, can someone point me at info relevant to installing & setting up 
ANTLR under WinXP. Are there other software items that need to be 
installed? Thanks...Dave Harrison




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jun  2 21:33:24 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] AST generation: EXPRESSION TREE example.
In-Reply-To: <000001c448ec$ba80a010$03020a0a@starthis.com>
References: <000001c448ec$ba80a010$03020a0a@starthis.com>
Message-ID: <26DC3C9E-B517-11D8-BD22-000393B5606C@codetransform.com>

On Jun 2, 2004, at 2:58 PM, Bharath Sundararaman wrote:

> To generate
> an AST with a decent structure (based on my needs), my understanding 
> is that
> I have to add qualifiers (^, !) to each rule and modify existing rules 
> to
> make them AST friendly. Is this a cumbersome process?

Well, it can be.  Loring and I were recently debating what makes a good 
tree, and some of that ended up here a month or so ago in a dialog 
between me and John Mitchell about the NULL node placeholder.  I 
believe the java grammar builds a tree, my C grammar is also a good 
example.  In my latest ANTLR contract I was building a SQL tree but I 
had special considerations because everything had to be accessible from 
an embedded language.  I concluded that there are very many different 
reasons for wanting a tree that will guide a strategy toward building 
them.

So, are you doing source to source translation?  Are you translating to 
a different language, or to the same language (like my C toolkit does)? 
  Are you only building a tree for analysis?  Are you building a tree to 
be manipulated directly by raw code or will it always be manipulated by 
a tree grammar (my recommendation.)  Do you have to preserve 
formatting?  Comments?  Original possibly extraneous parenthesis?

Let's work this through and maybe I can write up a guide for it when 
I've got some "free" time.

Please, anybody join in and tell me what you're doing and let me know 
what's worked for you and what hasn't and what your questions are.  
I'll probably only get to this once or twice a day but hopefully we can 
ferret out some real life questions and solutions over the next week or 
so.  I know we've got plenty of experts out there too.  This is the 
kind of stuff that will help shape ANTLR 3.  Loring's got some amazing 
tree integration stuff on the horizon but there is always a place for 
understanding why people want trees and how to use them most 
effectively.

Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From lgc at mail1.jpl.nasa.gov  Thu Jun  3 00:05:20 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Re: installing under WinXP
In-Reply-To: <c9m4uc+mg4@eGroups.com>
Message-ID: <c9mijg+ofkg@eGroups.com>

You'll need a java SDK--<http://java.sun.com> is a good source.  I
like eclipse (<http://www.eclipse.org>) as an IDE.  Alternatively, you
can install an executable via gcj--see the READMEs in the distribution.

--Loring


--- In antlr-interest@yahoogroups.com, "dharrison_ch"
<dharrison_ch@y...> wrote:
> Hi, can someone point me at info relevant to installing & setting up 
> ANTLR under WinXP. Are there other software items that need to be 
> installed? Thanks...Dave Harrison



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Anthony.Youngman at ECA-International.com  Thu Jun  3 00:09:44 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Token stream filter
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF21@lnml1.eca-international.local>

Great! Talk about stating the bleeding obvious ... :-)

Actually, I was going to ask you and Ter something ...

Having looked at your filter stuff, I don't remember seeing a LB() (look
before) function. Is there one, and if not, how easy would it be to
implement and add to Antlr?

While it might not be used much, it seems to me to be perfect for
dealing with this "is it an identifier or token" problem. Rather than
the mods you made to NextToken and so on, we could then simply have a
rule

commentst : {LB(1) == EOL || LB(1) == SEMI} (
	("*" | "!") ...
	| id:IDENT {if id.getText != "REM" throw recognition-exception}
...

Okay, handling "REM" would be messy :-) Antlr's rule system is great for
dealing with tokens having different meanings when they follow other
stuff WITHIN a rule, but as in this case it doesn't always work when one
of the permitted positions is the first token in the rule ...

Cheers,
Wol

-----Original Message-----
From: Monty Zukowski [mailto:monty@codetransform.com] 
Sent: 02 June 2004 18:10
To: antlr-interest@yahoogroups.com
Cc: Monty Zukowski
Subject: Re: [antlr-interest] Token stream filter

On Jun 2, 2004, at 7:37 AM, Anthony Youngman wrote:

> commentst : REMARK ( (LA(1) != newline) => . )* ;

What's wrong with this?

commentst: REMARK (~(NEWLINE))* ;

Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html


****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jun  3 00:48:50 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:54 2004
Subject: New antlr-interest member
Message-ID: <1086248930.243.7473.w86@yahoogroups.com>


Hello,

This is an automated email message to let you know that
yjargudo <yjargudo@tiscali.es> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From Anthony.Youngman at ECA-International.com  Thu Jun  3 01:24:07 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Token stream filter
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF24@lnml1.eca-international.local>

Thanks. Actually, Monty's solution should work ...

but seeing as you seem to know these things, taking this line from my
original post

	(id:IDENT {if text != "REM" throw tokenmatchexception}|"*"|"!")

which is the exception I need to throw here?

I think if I've got this, I've got enough to write my filter :-) While
the LB() function might be useful, further thought on what Monty said
made me think it might not be needed.

So - I can feed the lexer output into my deremer parser - and I can then
feed the output from that into my main parser?

And if I have a rule like

commentst : (EOL | SEMI) ("*" | "!")! (~(EOL)*)! ;

it will then eat everything between the initial eol/semi and final eol,
but it will let those two tokens through to the next parser?

Cheers,
Wol

-----Original Message-----
From: Ric Klaren [mailto:klaren@cs.utwente.nl] 
Sent: 02 June 2004 16:46
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] Token stream filter

On Wed, Jun 02, 2004 at 03:37:15PM +0100, Anthony Youngman wrote:
> If I don't want to eat up the newline at the end, is the following
> likely to be a good/sensible parser rule?
> 
> commentst : REMARK ( (LA(1) != newline) => . )* ;
> 
> in other words, having found a REMARK, eat everything up to but not
> including the next newline. Or is LA a lexer-only thing as well?

That one is a bit inefficient due to an exception per character:

This is a dirty one but it works:

comment: REMARK ( { if( LA(1) == NEWLINE ) break; } : . )* ;

Tip: read the generated code.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++
-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++
-------
 'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh,
no,
  of course, we ... that is ... well, yes, in fact,' said Ponder.
'Adrian
    goes round the back and ... er ... prods it with his foot. But in a
     technical way,' he added. --- From: Hogfather by Terry Pratchett.


****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Christoph.Wedler at sap.com  Thu Jun  3 01:31:21 2004
From: Christoph.Wedler at sap.com (Christoph.Wedler@sap.com)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Mail Delivery (failure antlr-interest@yahoogroups.com)
Message-ID: <20040603083442.4172A7412F@nexus.cs.usfca.edu>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: audio/x-wav
Size: 29568 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040603/518e2bbc/attachment.wav
From klaren at cs.utwente.nl  Thu Jun  3 01:43:34 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Token stream filter
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409AF24@lnml1.eca-international.local>
References: <C7FE35004D40FD45AA342991B88CE40409AF24@lnml1.eca-international.local>
Message-ID: <20040603084334.GA7532@cs.utwente.nl>

On Thu, Jun 03, 2004 at 09:24:07AM +0100, Anthony Youngman wrote:
> Thanks. Actually, Monty's solution should work ...

It looks a lot simpler ;)

> but seeing as you seem to know these things, taking this line from my
> original post

I'm only theorizing ;)

> 	(id:IDENT {if text != "REM" throw tokenmatchexception}|"*"|"!")
>
> which is the exception I need to throw here?

If you're trying to make the rule work inside a ( )=>( ) construct then it
should be something RecognitionException like (or derived of it)

> So - I can feed the lexer output into my deremer parser - and I can then
> feed the output from that into my main parser?

If you follow Monty's framework you should be ok I guess.

> And if I have a rule like
>
> commentst : (EOL | SEMI) ("*" | "!")! (~(EOL)*)! ;
>
> it will then eat everything between the initial eol/semi and final eol,
> but it will let those two tokens through to the next parser?

If you write the code in nextToken to do that it will. The ! operator
controls treebuilding it's not the lexer's ! operator. At least I was under
the impression you wanted to use a parser to do the filtering not a lexer
in front of your original lexer.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 Time what is time - I wish I knew how to tell You why - It hurts to know -
          Aren't we machines - Time what is time - Unlock the door
               - And see the truth - Then time is time again
                From: 'Time what is Time' by Blind Guardian



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Anthony.Youngman at ECA-International.com  Thu Jun  3 01:58:27 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Token stream filter
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF25@lnml1.eca-international.local>

> If you write the code in nextToken to do that it will. The ! operator
> controls treebuilding it's not the lexer's ! operator. At least I was
under
> the impression you wanted to use a parser to do the filtering not a
lexer
> in front of your original lexer. 

Bugger :-(

Yes, I did want to use a parser between my original lexer and parser. Or
can I put a lexer there instead? Basically, I don't care whether it's a
lexer or parser, I just want to sit it between my primary lexer and
parser to strip out stuff I don't want and/or modify stuff I do.

Can I lex a token stream as well as a character stream? And if so, will
the second lexer see hidden tokens (I presume not).

The trouble is (hint to Ter for the manual :-) that there's a chapter on
lexing, and a chapter on treeparsing, but nothing on parsing. And the
stuff on token streams implies substituting different lexers for
different things. I want to process the data in multiple passes, not
change to a different lexer.

Cheers,
Wol

-----Original Message-----
From: Ric Klaren [mailto:klaren@cs.utwente.nl] 
Sent: 03 June 2004 09:44
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] Token stream filter

On Thu, Jun 03, 2004 at 09:24:07AM +0100, Anthony Youngman wrote:
> Thanks. Actually, Monty's solution should work ...

It looks a lot simpler ;)

> but seeing as you seem to know these things, taking this line from my
> original post

I'm only theorizing ;)

> 	(id:IDENT {if text != "REM" throw tokenmatchexception}|"*"|"!")
>
> which is the exception I need to throw here?

If you're trying to make the rule work inside a ( )=>( ) construct then
it
should be something RecognitionException like (or derived of it)

> So - I can feed the lexer output into my deremer parser - and I can
then
> feed the output from that into my main parser?

If you follow Monty's framework you should be ok I guess.

> And if I have a rule like
>
> commentst : (EOL | SEMI) ("*" | "!")! (~(EOL)*)! ;
>
> it will then eat everything between the initial eol/semi and final
eol,
> but it will let those two tokens through to the next parser?

If you write the code in nextToken to do that it will. The ! operator
controls treebuilding it's not the lexer's ! operator. At least I was
under
the impression you wanted to use a parser to do the filtering not a
lexer
in front of your original lexer.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++
-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++
-------
 Time what is time - I wish I knew how to tell You why - It hurts to
know -
          Aren't we machines - Time what is time - Unlock the door
               - And see the truth - Then time is time again
                From: 'Time what is Time' by Blind Guardian



 
Yahoo! Groups Links



 



****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Thu Jun  3 03:26:32 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Token stream filter
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409AF25@lnml1.eca-international.local>
References: <C7FE35004D40FD45AA342991B88CE40409AF25@lnml1.eca-international.local>
Message-ID: <20040603102632.GB7532@cs.utwente.nl>

On Thu, Jun 03, 2004 at 09:58:27AM +0100, Anthony Youngman wrote:
> > If you write the code in nextToken to do that it will. The ! operator
> > controls treebuilding it's not the lexer's ! operator. At least I was under
> > the impression you wanted to use a parser to do the filtering not a lexer
> > in front of your original lexer.
>
> Bugger :-(

Life is never easy ;)

> Yes, I did want to use a parser between my original lexer and parser. Or
> can I put a lexer there instead? Basically, I don't care whether it's a
> lexer or parser, I just want to sit it between my primary lexer and
> parser to strip out stuff I don't want and/or modify stuff I do.

Well technically you could put a lexer there but it would probably teach
you more about antlr internals than you want to know ;) Seriously though,
you can probably do everything you want with an extra parser in between
stuff.

> Can I lex a token stream as well as a character stream? And if so, will
> the second lexer see hidden tokens (I presume not).

You'll be parsing the token stream and storing tokens in a list/queue while
you don't know what to do with them yet.

You get a setup where:

1. Your original parser asks the filter parser for a token. (by calling LA(x))
2. Your filter parser comes into nextToken
   1. sees wether it has tokens queued to pass on
   2. if not scarf tokens from the original lexer and see what should be
      done with them
   3. pass leftover bits to the calling parser

This is the setup that is explained in Monty's filter example. He's using a
queue to store tokens that are still considered to be passed on.

Consider the nextToken of his filter:

public Token nextToken() throws TokenStreamException
{
   Token ret;
   if (queue.length()<=0)
   {
      try
      {
         jumpStatements();
      }
      catch ( RecognitionException e) {;}
      catch ( TokenStreamException e) {;}
   }
   if (queue.length()>0)
   {
      ret = queue.elementAt(0);
      queue.removeFirst();
      return ret;
   }
   return new ArevToken(Token.EOF_TYPE,"");
}

jumpStatements in the above is a normal parser rule e.g. it get's it's
tokens from the original lexer. generally this will do a number of LA(x)
calls to get tokens these are checked with the match methods which again
call the consume method when the match is succesfull. This is the mechanism
you want to use.

I'm not 100% sure if it will work but you can probably add a store boolean
attribute to the filter and then:

Original filter rule:

commentst : (EOL | SEMI) ("*" | "!")! (~(EOL)*)! ;

New:

commentst : { store = true; } (EOL | SEMI) { store = false; }
            ("*" | "!")! (~(EOL)*)! { store = true } ;

Then in consume you'll only append tokens when store is true. You might
need a 'copy-the-rest' rule as well. Not sure since I'm only just now
tinkering with this stuff myself as well (which also explains my interest
in the topic...).

You can also handcode nextToken to parse'n'massage the incoming token
stream. Considering the complexity of the commentst rule this might be a
good option. Actually it's hardly worth using a parser for it. This might
come a long way just implement the tokenstream abstract interface and use
something like this for filter (this lacks exception handling):

public Token nextToken() throws TokenStreamException
{
	if( queue.size() <= 0 )
	{
		// look for tokens
		if ((LA(1) == EOL) ||(LA(1) == SEMI)) {
			queue.append(LT(1));
			origlexer.consume();

			if ((LA(1) == STAR) || (LA(1) == BANG)) {
				// don't queue
				origlexer.consume();
				while( LA(1) != EOL )
				{
					// don't queue
					origlexer.consume();
				}
			}
			else
			{
				queue.append(LT(1));
				origlexer.consume();
			}
		}
		else
		{
			queue.append(LT(1));
			origlexer.consume();
		}
	}
	if( queue.size() > 0 )
		... return front token of the queue ....
	else
		... return EOFTOKEN ...
}

Monty's original probably needs some tinkering with respect to
EOF/EOL/exception handling for your case.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
     Innovation makes enemies of all those who prospered under the old
   regime, and only lukewarm support is forthcoming from those who would
               prosper under the new. --- Niccol? Machiavelli



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Anthony.Youngman at ECA-International.com  Thu Jun  3 05:00:16 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Token stream filter
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF28@lnml1.eca-international.local>

The more I read your comments and Monty's article, the clearer it all becomes. But it's a lot to get my brain round. I want to avoid tinkering, for two reasons ... (1) I don't understand Java (or OO programming generally) so the less I need to tackle at once, the easier the learning curve, and (2) I want to convert all this to C++ once I've got a functional grammar that does what I need (I've currently got the tree-parser chucking out an assembler, which I am successfully executing using an interpreter :-)

Seeing as you're heavily involved in all this Antlr stuff :-) would it be possible to add a Filter class to the existing Lexer and Parser classes? There's all this over-riding stuff in what Monty's done and I guess you're into the same sort of thing. And it would be so nice to be able to massage the data stream - for me, for Monty, and maybe for you - as it is passed from the lexer to the parser.

It would be something like

class BASICFilterParser extends FilterParser - taking a token stream from the lexer (or another Filter) and returning a token stream to a parser or filter.

It would then take standard rules, so I would have stuff like

commentst : (SEMI|EOL) ("!"|"*")! (~(EOL)!*) ;
remarkst : (SEMI|EOL) id:IDENT! {if id.getText != "REM" throw recognitionexception} ... ;

where as you guessed, I expect "!" to mean "don't pass this token on" (or mark it hidden, or whatever).

And I would have to trap Monty's "(GOTO | GO (TO)?) tok:. {if tok.getType != IDENT then tok.setType)IDENT)" stuff ...

Basically the whole thing is a set of rules that, if a match is found, allows the user to manipulate the token stream. Exactly what TokenFilter does at the moment, but using standard grammar rules without making the user over-ride all the internal functions like NextToken (I'm in this way out of my depth here ...)

I haven't totally sussed things here, but we'd need the filter to simply try each rule in turn until one succeeded, and have a default "match anything" rule (I haven't sussed whether the Antlr parser objects to unrecognised tokens ...). And on matching a rule, it simply queues the lot in a buffer for NextToken, before running the rules again when it runs out of buffered tokens.

A little bit of history about the language me, and Monty, and RobC are all trying to parse ... the original DATABASIC dialect was written in assembler using a (now lost) state transition table. INFOBASIC (the dialect I'm best familiar with) was written by a bunch of people whos' attitude was "if we think it's crap, we'll leave it out. Compatibility is nice but not necessary". This variant never had the REM keyword! UVBasic (the dialect I now use) was written using yacc/lex, and compatibility was very important, so REM can lex as a label, a comment, a function call, and a variable - except the compiler can get confused resulting in compilation errors :-( I'd like to follow the INFOBASIC line and just drop the "REM" keyword, but I suspect it would break far too much code ... And Monty's dialect, AREV BASIC? very similar to INFOBASIC, I believe, but I don't really know anything about it. RobC - if it compiles anywhere, he wants his compiler to compile it :-)

Actually, while composing the previous paragraph in my head, I just realised something VERY useful! I seem to remember reading somewhere, that Antlr wasn't good at state-table type parsing. This FilterParser class would make an almost perfect state-table parser! The lexer would simply lex into IDENTs and NUMs or whatever, then the FilterParser would have a state variable which would be tested in a rule predicate, and within that you simply check the tokens that come through!

Cheers,
Wol

-----Original Message-----
From: Ric Klaren [mailto:klaren@cs.utwente.nl] 
Sent: 03 June 2004 11:27
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] Token stream filter

On Thu, Jun 03, 2004 at 09:58:27AM +0100, Anthony Youngman wrote:
> > If you write the code in nextToken to do that it will. The ! operator
> > controls treebuilding it's not the lexer's ! operator. At least I was under
> > the impression you wanted to use a parser to do the filtering not a lexer
> > in front of your original lexer.
>
> Bugger :-(

Life is never easy ;)

> Yes, I did want to use a parser between my original lexer and parser. Or
> can I put a lexer there instead? Basically, I don't care whether it's a
> lexer or parser, I just want to sit it between my primary lexer and
> parser to strip out stuff I don't want and/or modify stuff I do.

Well technically you could put a lexer there but it would probably teach
you more about antlr internals than you want to know ;) Seriously though,
you can probably do everything you want with an extra parser in between
stuff.

> Can I lex a token stream as well as a character stream? And if so, will
> the second lexer see hidden tokens (I presume not).

You'll be parsing the token stream and storing tokens in a list/queue while
you don't know what to do with them yet.

You get a setup where:

1. Your original parser asks the filter parser for a token. (by calling LA(x))
2. Your filter parser comes into nextToken
   1. sees wether it has tokens queued to pass on
   2. if not scarf tokens from the original lexer and see what should be
      done with them
   3. pass leftover bits to the calling parser

This is the setup that is explained in Monty's filter example. He's using a
queue to store tokens that are still considered to be passed on.

Consider the nextToken of his filter:

public Token nextToken() throws TokenStreamException
{
   Token ret;
   if (queue.length()<=0)
   {
      try
      {
         jumpStatements();
      }
      catch ( RecognitionException e) {;}
      catch ( TokenStreamException e) {;}
   }
   if (queue.length()>0)
   {
      ret = queue.elementAt(0);
      queue.removeFirst();
      return ret;
   }
   return new ArevToken(Token.EOF_TYPE,"");
}

jumpStatements in the above is a normal parser rule e.g. it get's it's
tokens from the original lexer. generally this will do a number of LA(x)
calls to get tokens these are checked with the match methods which again
call the consume method when the match is succesfull. This is the mechanism
you want to use.

I'm not 100% sure if it will work but you can probably add a store boolean
attribute to the filter and then:

Original filter rule:

commentst : (EOL | SEMI) ("*" | "!")! (~(EOL)*)! ;

New:

commentst : { store = true; } (EOL | SEMI) { store = false; }
            ("*" | "!")! (~(EOL)*)! { store = true } ;

Then in consume you'll only append tokens when store is true. You might
need a 'copy-the-rest' rule as well. Not sure since I'm only just now
tinkering with this stuff myself as well (which also explains my interest
in the topic...).

You can also handcode nextToken to parse'n'massage the incoming token
stream. Considering the complexity of the commentst rule this might be a
good option. Actually it's hardly worth using a parser for it. This might
come a long way just implement the tokenstream abstract interface and use
something like this for filter (this lacks exception handling):

public Token nextToken() throws TokenStreamException
{
	if( queue.size() <= 0 )
	{
		// look for tokens
		if ((LA(1) == EOL) ||(LA(1) == SEMI)) {
			queue.append(LT(1));
			origlexer.consume();

			if ((LA(1) == STAR) || (LA(1) == BANG)) {
				// don't queue
				origlexer.consume();
				while( LA(1) != EOL )
				{
					// don't queue
					origlexer.consume();
				}
			}
			else
			{
				queue.append(LT(1));
				origlexer.consume();
			}
		}
		else
		{
			queue.append(LT(1));
			origlexer.consume();
		}
	}
	if( queue.size() > 0 )
		... return front token of the queue ....
	else
		... return EOFTOKEN ...
}

Monty's original probably needs some tinkering with respect to
EOF/EOL/exception handling for your case.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
     Innovation makes enemies of all those who prospered under the old
   regime, and only lukewarm support is forthcoming from those who would
               prosper under the new. --- Niccol? Machiavelli



 
Yahoo! Groups Links



 



****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jun  3 07:31:06 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:54 2004
Subject: New antlr-interest member
Message-ID: <1086273066.164.62153.w2@yahoogroups.com>


Hello,

This is an automated email message to let you know that
sullivan_greg <gregs@acm.org> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From bharath at starthis.com  Thu Jun  3 07:37:30 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] AST generation: EXPRESSION TREE example.
In-Reply-To: <26DC3C9E-B517-11D8-BD22-000393B5606C@codetransform.com>
Message-ID: <000001c44978$4d549af0$03020a0a@starthis.com>

Hi Monty,

I need the AST for semantic analysis, constant folding and also code
generation. To be more specific, I have written the grammar for a
PASCAL-like (not OO based) language, from scratch. Right now, my syntax
analysis is complete. Instead of having semantic analysis within the parser,
I would like to build an AST and and write a tree parser that will walk the
tree structure to perform various analyses. For example, to get a good idea
of what I'm dealing with, I'm starting off with type checking and this will
drive the structure of my AST. 

- The AST will always be manipulated by the grammar. 
- Comment tokens will be skipped.

Some questions:

1. Can you give me an example situation where I would need to preserve
formatting? In my grammar, I ignore whitespace, newlines, tabs and feeds.
What kind of language would require comments to be tokens?

2. Original possibly extraneous parenthesis -- I'm banging(!) all
punctuations and paranthesis from the AST. I'm not clear about your question
but I hope I gave the answer.

3. Are there any examples of how scope of variables can be checked by
walking an AST? 

I will look at your C grammar, Java grammar and also PASCAL grammar to gain
more insight. I just stepped into the world of ASTs and I'm willing to help
with you with the AST guide in any way possible.

Thanks a bunch,

Bharath.

-----Original Message-----
From: Monty Zukowski [mailto:monty@codetransform.com] 
Sent: Wednesday, June 02, 2004 11:33 PM
To: antlr-interest@yahoogroups.com
Cc: Monty Zukowski
Subject: Re: [antlr-interest] AST generation: EXPRESSION TREE example.


On Jun 2, 2004, at 2:58 PM, Bharath Sundararaman wrote:

> To generate
> an AST with a decent structure (based on my needs), my understanding
> is that
> I have to add qualifiers (^, !) to each rule and modify existing rules 
> to
> make them AST friendly. Is this a cumbersome process?

Well, it can be.  Loring and I were recently debating what makes a good 
tree, and some of that ended up here a month or so ago in a dialog 
between me and John Mitchell about the NULL node placeholder.  I 
believe the java grammar builds a tree, my C grammar is also a good 
example.  In my latest ANTLR contract I was building a SQL tree but I 
had special considerations because everything had to be accessible from 
an embedded language.  I concluded that there are very many different 
reasons for wanting a tree that will guide a strategy toward building 
them.

So, are you doing source to source translation?  Are you translating to 
a different language, or to the same language (like my C toolkit does)? 
  Are you only building a tree for analysis?  Are you building a tree to 
be manipulated directly by raw code or will it always be manipulated by 
a tree grammar (my recommendation.)  Do you have to preserve 
formatting?  Comments?  Original possibly extraneous parenthesis?

Let's work this through and maybe I can write up a guide for it when 
I've got some "free" time.

Please, anybody join in and tell me what you're doing and let me know 
what's worked for you and what hasn't and what your questions are.  
I'll probably only get to this once or twice a day but hopefully we can 
ferret out some real life questions and solutions over the next week or 
so.  I know we've got plenty of experts out there too.  This is the 
kind of stuff that will help shape ANTLR 3.  Loring's got some amazing 
tree integration stuff on the horizon but there is always a place for 
understanding why people want trees and how to use them most 
effectively.

Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From yjargudo at tiscali.es  Thu Jun  3 02:44:10 2004
From: yjargudo at tiscali.es (yjargudo@tiscali.es)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] some questions about antlr
Message-ID: <40B5A93300001C6A@genova.tiscali.red>

Hello,

 I have some problems with antlr and I hope you could help me:

1- I need antlr .g extension file for smalltalk-80. Where could I find it?
2- What is antlr tranlation of the following PCCTS rule: 
     block :
	  openBracket #{ ( colon variableName )+ verticalBar } statements closeBracket
	;

Thank you,

Yolanda

?Buscas casa? Encu?ntrala ya en http://inmobiliaria.tiscali.es/






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From yjargudo at tiscali.es  Thu Jun  3 00:53:06 2004
From: yjargudo at tiscali.es (yjargudo)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Hi, could you help me with a problem with antlr
Message-ID: <c9mld2+gdqh@eGroups.com>

hello,

I need the antlr grammar for smalltalk-80, did you know where can I
get it,please?

Thank you,

Yolanda




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From hombre at gmail.com  Thu Jun  3 07:53:57 2004
From: hombre at gmail.com (Tom Verbeure)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] AST generation: EXPRESSION TREE example.
In-Reply-To: <000001c44978$4d549af0$03020a0a@starthis.com>
References: <000001c44978$4d549af0$03020a0a@starthis.com>
Message-ID: <f789634004060307532dd2544f@mail.gmail.com>

Hi Barath,

> 3. Are there any examples of how scope of variables can be checked by
> walking an AST?

I just an ANTLR beginner myself, but you may want to look at the
tinybasic example under ./examples/java/tinybasic of the antlr
distribution. In TinyBasicTreeWalker.g, they are building a context
with different scopes etc.

Tom


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jun  3 07:58:10 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:54 2004
Subject: New antlr-interest member
Message-ID: <1086274690.217.94999.w15@yahoogroups.com>


Hello,

This is an automated email message to let you know that
geofuntasma <wardf@sympatico.ca> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From bharath at starthis.com  Thu Jun  3 08:01:04 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] some questions about antlr
In-Reply-To: <40B5A93300001C6A@genova.tiscali.red>
Message-ID: <000401c4497b$97fcd1f0$03020a0a@starthis.com>

Hi Yolanda,

Did you check this page: http://www.antlr.org/grammar/list?
 

>> What is antlr tranlation of the following PCCTS rule: (IF YOU ARE ASKING
WHAT THIS MEANS, HERE IS A SIMPLE EXPLANATION).

This is a rule (in the parser) that would recognize a "block of statements"
in your input, which start with an openBracket, contains statements and ends
with a closeBracket.

Assume that openBracket is a left curly "{", closeBracket is a right curly
"}", colon is obviously ":", variableName is an identifier and verticalBar
is "|". If "a:=10;" can be considered as a statement, then your "block" rule
would recognize the code fragment below:

{ // Open bracket
	:myVariable // This is your identifier.
	|  // Vertical bar
	a:=10;
	b:=20; // Statements
}// Close bracket

The # symbol is for the abstract syntax tree, which gets generated if you
set the buildAST option to true. For this code to work, you must have other
rules that take care of whitespace, newlines, tabs and single line comments.


Bharath.
~Give me the tool and I shall move the earth~

-----Original Message-----
From: yjargudo@tiscali.es [mailto:yjargudo@tiscali.es] 
Sent: Thursday, June 03, 2004 4:44 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] some questions about antlr


Hello,

 I have some problems with antlr and I hope you could help me:

1- I need antlr .g extension file for smalltalk-80. Where could I find it?
2- What is antlr tranlation of the following PCCTS rule: 
     block :
	  openBracket #{ ( colon variableName )+ verticalBar } statements
closeBracket
	;

Thank you,

Yolanda

?Buscas casa? Encu?ntrala ya en http://inmobiliaria.tiscali.es/






 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Thu Jun  3 08:04:40 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] AST generation: EXPRESSION TREE example.
In-Reply-To: <f789634004060307532dd2544f@mail.gmail.com>
Message-ID: <000501c4497c$18f665f0$03020a0a@starthis.com>

Hi Tom,

Thank you very much. Are you generating an abstract syntax tree for your
grammar, yet? I would like to know what drives your AST structure. What do
you need it for? 

Thanks,

Bharath.

-----Original Message-----
From: Tom Verbeure [mailto:hombre@gmail.com] 
Sent: Thursday, June 03, 2004 9:54 AM
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] AST generation: EXPRESSION TREE example.


Hi Barath,

> 3. Are there any examples of how scope of variables can be checked by 
> walking an AST?

I just an ANTLR beginner myself, but you may want to look at the tinybasic
example under ./examples/java/tinybasic of the antlr distribution. In
TinyBasicTreeWalker.g, they are building a context with different scopes
etc.

Tom


 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Thu Jun  3 08:13:21 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Token stream filter
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409AF21@lnml1.eca-international.local>
References: <C7FE35004D40FD45AA342991B88CE40409AF21@lnml1.eca-international.local>
Message-ID: <8D1E0C8E-B570-11D8-8202-000393B5606C@codetransform.com>

Just overrride nextToken() by subclassing your generated lexer and have 
it put the token it returns into the LB buffer.

Monty

On Jun 3, 2004, at 12:09 AM, Anthony Youngman wrote:

> Having looked at your filter stuff, I don't remember seeing a LB() 
> (look
> before) function. Is there one, and if not, how easy would it be to
> implement and add to Antlr?


ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From hombre at gmail.com  Thu Jun  3 08:44:37 2004
From: hombre at gmail.com (Tom Verbeure)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] AST generation: EXPRESSION TREE example.
In-Reply-To: <000501c4497c$18f665f0$03020a0a@starthis.com>
References: <000501c4497c$18f665f0$03020a0a@starthis.com>
Message-ID: <f789634004060308447c205215@mail.gmail.com>

Hi Bharath,

> Thank you very much. Are you generating an abstract syntax tree for your
> grammar, yet? I would like to know what drives your AST structure. What do
> you need it for?

I've only just started working on it and it's going slowly. One
(trivial) thing I didn't realize up front, was that, without any
annotations, the AST tree is simply a list of all the original tokens.
I found it very useful to add

System.out.println(parser.getAST()).toStringList());

to get an idea about what was generated after building the AST.

I add a quite number of non-token nodes to tree to make tree parsing
as simple as possible. Other than that, I can't give you much useful
information. Right now, it's quite an interative process.

Tom


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From wardf at sympatico.ca  Thu Jun  3 08:56:49 2004
From: wardf at sympatico.ca (geofuntasma)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] C++ Parser
Message-ID: <c9nho1+orev@eGroups.com>

I'm having problems with the C++ grammar available on the ANTLR site.
When I compile the CPP_Parser.g file, I got this message: 

----------------------------------------------------------------------
[@bash][~/ANTLR/C++ Grammar]> java antlr.Tool CPP_parser.g
ANTLR Parser Generator   Version 2.7.3   1989-2004 jGuru.com
CPP_parser.g:1222: warning:nondeterminism upon
CPP_parser.g:1222:     k==1:COMMA
CPP_parser.g:1222:    
k==2:"typedef","enum",ID,"extern","inline","_inlin
e","__inline","virtual","explicit","friend","_stdc
all","__stdcall","auto","register","static","mutab
le","const","const_cast","volatile","char","wchar_
t","bool","short","int","_int64","__int64","long",
"signed","unsigned","float","double","void","_decl
spec","__declspec",LPAREN,"struct","union","class",SCOPE
CPP_parser.g:1222:     between alt 1 and exit branch of block
----------------------------------------------------------------------

However, the CPPParser and CPPLexer are created (.cpp and .hpp). So, I
tried to compile the CPPParser doing "gcc CPPParser.cpp" but I got
several errors including the "CPPParser.hpp:4xx: ..." statement in
them. I tried to find out if the grammar supports some ANTLR versions
only but I didnt find any information about that.

am I doing something wrong? do I need something else to do? Are there
others C++ grammars available?

Thanks in advance for your help. 

Ward.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Thu Jun  3 09:05:56 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] AST generation: EXPRESSION TREE example.
In-Reply-To: <f789634004060308447c205215@mail.gmail.com>
Message-ID: <000001c44984$a7cf2de0$03020a0a@starthis.com>

Hi Tom,

That's pretty much where I'm at, too. I'm creating null placeholders and
using setText() method to bring out a neat AST structure which will be very
readable. Did you try the ASTFrame option to actually view the AST
structure? If you havent tried it already, 
----------------------------------------------
ASTFrame frame = new ASTFrame("My AST", ast);
frame.setVisible(true);
----------------------------------------------

Also, I found Ter's lectures on his course site (lecture notes and audio) on
ASTs extremely useful. http://www.cs.usfca.edu/~parrt/course/652/ is the
site.

Hope this helps.

Bharath.


-----Original Message-----
From: Tom Verbeure [mailto:hombre@gmail.com] 
Sent: Thursday, June 03, 2004 10:45 AM
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] AST generation: EXPRESSION TREE example.


Hi Bharath,

> Thank you very much. Are you generating an abstract syntax tree for 
> your grammar, yet? I would like to know what drives your AST 
> structure. What do you need it for?

I've only just started working on it and it's going slowly. One
(trivial) thing I didn't realize up front, was that, without any
annotations, the AST tree is simply a list of all the original tokens. I
found it very useful to add

System.out.println(parser.getAST()).toStringList());

to get an idea about what was generated after building the AST.

I add a quite number of non-token nodes to tree to make tree parsing as
simple as possible. Other than that, I can't give you much useful
information. Right now, it's quite an interative process.

Tom


 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From wardf at sympatico.ca  Thu Jun  3 08:33:15 2004
From: wardf at sympatico.ca (geofuntasma)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Re: C++ parser
In-Reply-To: <20040305094049.GA8426@cs.utwente.nl>
Message-ID: <c9ngbr+q40t@eGroups.com>

I'm having the same problem. The message I got exactly at the
beginning is: 

-------------------------------------------------------------------
[@bash][~/ANTLR/C++ Grammar]> java antlr.Tool CPP_parser.g
ANTLR Parser Generator   Version 2.7.3   1989-2004 jGuru.com
CPP_parser.g:1222: warning:nondeterminism upon
CPP_parser.g:1222:     k==1:COMMA
CPP_parser.g:1222:    
k==2:"typedef","enum",ID,"extern","inline","_inline","__inline","virtual","explicit","friend","_stdcall","__stdcall","auto","register","static","mutable","const","const_cast","volatile","char","wchar_t","bool","short","int","_int64","__int64","long","signed","unsigned","float","double","void","_declspec","__declspec",LPAREN,"struct","union","class",SCOPE
CPP_parser.g:1222:     between alt 1 and exit branch of block
-------------------------------------------------------------------

As you can see the ANTLR version I have is 2.7.3 and I've just checked
the grammar and it seems to be the version 2 :

----------------------------------------------------------------
/* 2003
 * Version 2
 * This is version 2 of the C++ grammar definition for ANTLR to 
 *  generate lexer and parser in C++ code updated by
 *  David Wigg ....
----------------------------------------------------------------

However there is no specification for what ANTLR versions supports. So
I really dont know the source of the problem. I wanna add that the
CPPParser and CPPLexer files (.cpp and .hpp) are created. But, when I
tried to do: "gcc CPPParser.cpp", I got all the errors having an
"include CPPParser.hpp" statement in them.

Thanks in advance for your help.

Ward.
wardf(at)sympatico.ca



--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> Hi,
> 
> On Thu, Mar 04, 2004 at 01:45:33PM -0000, navneetarvind wrote:
> > I'm completely new to parsing...
> > 
> > I've been trying to get the C++ parser put up on teh website to work 
> > with ANTLR...but it keeps throwing up errors in the "CPPParser.g" 
> > file..  
> > 
> > I dunno if its a coincidence but all the files that throw up these 
> > errors have an "include CPPParser.hpp" statement in them...
> 
> Did you run antlr on the .g files first ? (in the right order if there's
> more than one) I'm not really familiar with the grammar on the website.
> 
> > I'm running VC++ 6.0.  
> 
> Some more information would be helpfull if it's not the above. Like
antlr
> version used. And what exact error.
> 
> If you're new to parsing then starting with a C++ grammar is
probably not
> the best approach. You got one of the meanest languages to parse there.
> Starting with the antlr examples and Terence's lectures (linked
somewhere
> on antlr.org) is probably a less frustrating start.
> 
> Cheers,
> 
> Ric
> -- 
>
-----+++++*****************************************************+++++++++-------
>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893722  ----
>
-----+++++*****************************************************+++++++++-------
>      Human beings, who are almost unique in having the ability to learn
>    from the experience of others, are also remarkable for their apparent
>          disinclination to do so. --- Douglas Adams, Last Chance to See




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Thu Jun  3 09:13:15 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Re: C++ parser
In-Reply-To: <c9ngbr+q40t@eGroups.com>
References: <20040305094049.GA8426@cs.utwente.nl> <c9ngbr+q40t@eGroups.com>
Message-ID: <20040603161315.GG7532@cs.utwente.nl>

On Thu, Jun 03, 2004 at 03:33:15PM -0000, geofuntasma wrote:
> I'm having the same problem. The message I got exactly at the
> beginning is: 
> 
> -------------------------------------------------------------------
> [@bash][~/ANTLR/C++ Grammar]> java antlr.Tool CPP_parser.g
> ANTLR Parser Generator   Version 2.7.3   1989-2004 jGuru.com
> CPP_parser.g:1222: warning:nondeterminism upon
> CPP_parser.g:1222:     k==1:COMMA
> CPP_parser.g:1222:    
> k==2:"typedef","enum",ID,"extern","inline","_inline","__inline","virtual","explicit","friend","_stdcall","__stdcall","auto","register","static","mutable","const","const_cast","volatile","char","wchar_t","bool","short","int","_int64","__int64","long","signed","unsigned","float","double","void","_declspec","__declspec",LPAREN,"struct","union","class",SCOPE
> CPP_parser.g:1222:     between alt 1 and exit branch of block
> -------------------------------------------------------------------

That one could be harmless. I noticed a comment on the offending line that
David was unable to shut off the warning.

> However there is no specification for what ANTLR versions supports. 

I managed to get it running with minor editing on 2.7.4. 

> So I really dont know the source of the problem. I wanna add that the
> CPPParser and CPPLexer files (.cpp and .hpp) are created. But, when I
> tried to do: "gcc CPPParser.cpp", I got all the errors having an
> "include CPPParser.hpp" statement in them.

What errors? Note also that you probably have to pass the path to the antlr
include files to gcc (unless these are installed in
/usr/include/antlr/*.hpp assuming unix)

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  There are 10 kinds of people - those that understand binary and
  those that don't. --- Unknown



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From hombre at gmail.com  Thu Jun  3 10:12:31 2004
From: hombre at gmail.com (Tom Verbeure)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] AST generation: EXPRESSION TREE example.
In-Reply-To: <000001c44984$a7cf2de0$03020a0a@starthis.com>
References: <000001c44984$a7cf2de0$03020a0a@starthis.com>
Message-ID: <f789634004060310126fb89315@mail.gmail.com>

> Did you try the ASTFrame option to actually view the AST
> structure? If you havent tried it already,
> ----------------------------------------------
> ASTFrame frame = new ASTFrame("My AST", ast);
> frame.setVisible(true);
> ----------------------------------------------

No, I didn't. I'm using cygwin and gcj to compile. I haven't installed
the SUN JAVA SDK. Gcj does not support Swing. I haven't found a direct
need for ASTFrame yet, though I may need it later when things get
really complicated...

Tom


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From wardf at sympatico.ca  Thu Jun  3 10:20:11 2004
From: wardf at sympatico.ca (geofuntasma)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Re: C++ parser
In-Reply-To: <20040603161315.GG7532@cs.utwente.nl>
Message-ID: <c9nmkb+8fab@eGroups.com>

Well, I get too many errors that I cannot see the first lines. I tried
to save that doing "gcc CPPParser.cpp >> errors" but ">>" doesn't seem
to work with gcc.

I believe if, as Ric suggest, only a path problem. I really dont know
how to pass the path of the included antlr files to gcc, so I tried
copying them to /usr/include/antlr/ (it didnt existed that directory
so I created) but still not working.

Any help would be very appreciated.

Ward.


--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> On Thu, Jun 03, 2004 at 03:33:15PM -0000, geofuntasma wrote:
> > I'm having the same problem. The message I got exactly at the
> > beginning is: 
> > 
> > -------------------------------------------------------------------
> > [@bash][~/ANTLR/C++ Grammar]> java antlr.Tool CPP_parser.g
> > ANTLR Parser Generator   Version 2.7.3   1989-2004 jGuru.com
> > CPP_parser.g:1222: warning:nondeterminism upon
> > CPP_parser.g:1222:     k==1:COMMA
> > CPP_parser.g:1222:    
> >
k==2:"typedef","enum",ID,"extern","inline","_inline","__inline","virtual","explicit","friend","_stdcall","__stdcall","auto","register","static","mutable","const","const_cast","volatile","char","wchar_t","bool","short","int","_int64","__int64","long","signed","unsigned","float","double","void","_declspec","__declspec",LPAREN,"struct","union","class",SCOPE
> > CPP_parser.g:1222:     between alt 1 and exit branch of block
> > -------------------------------------------------------------------
> 
> That one could be harmless. I noticed a comment on the offending
line that
> David was unable to shut off the warning.
> 
> > However there is no specification for what ANTLR versions supports. 
> 
> I managed to get it running with minor editing on 2.7.4. 
> 
> > So I really dont know the source of the problem. I wanna add that the
> > CPPParser and CPPLexer files (.cpp and .hpp) are created. But, when I
> > tried to do: "gcc CPPParser.cpp", I got all the errors having an
> > "include CPPParser.hpp" statement in them.
> 
> What errors? Note also that you probably have to pass the path to
the antlr
> include files to gcc (unless these are installed in
> /usr/include/antlr/*.hpp assuming unix)
> 
> Cheers,
> 
> Ric
> -- 
>
-----+++++*****************************************************+++++++++-------
>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893755  ----
>
-----+++++*****************************************************+++++++++-------
>   There are 10 kinds of people - those that understand binary and
>   those that don't. --- Unknown



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From hombre at gmail.com  Thu Jun  3 10:30:35 2004
From: hombre at gmail.com (Tom Verbeure)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Re: C++ parser
In-Reply-To: <c9nmkb+8fab@eGroups.com>
References: <c9nmkb+8fab@eGroups.com>
Message-ID: <f78963400406031030571d37ea@mail.gmail.com>

Assuming you are using a Unix-like system:
configure --prefix=/usr/local
make
make install

As a result, you will get your include and lib files somewhere under
/usr/local/. I'm not sure, but it's probably /usr/local/include/antlr
for the include files and /usr/local/lib for the libantlr.a file.

Anyway, assuming these are the locations, then do the following:

To compile:
g++ -g -c -I/usr/local/include MyLangLexer.cpp
g++ -g -c -I/usr/local/include MyLangParser.cpp

To link:
g++ -g -o MyLang MyLangLexer.o MyLangParser.o -L/usr/local/lib -lantlr

Obviously, if you have a separate file with main, you'll have to
compile that also and include it in the link phase. But this should
get you going.

Tom


On Thu, 03 Jun 2004 17:20:11 -0000, geofuntasma <wardf@sympatico.ca> wrote:
> 
> Well, I get too many errors that I cannot see the first lines. I tried
> to save that doing "gcc CPPParser.cpp >> errors" but ">>" doesn't seem
> to work with gcc.
> 
> I believe if, as Ric suggest, only a path problem. I really dont know
> how to pass the path of the included antlr files to gcc, so I tried
> copying them to /usr/include/antlr/ (it didnt existed that directory
> so I created) but still not working.
> 
> Any help would be very appreciated.
> 
> Ward.
>


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From lgc at mail1.jpl.nasa.gov  Thu Jun  3 11:47:53 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:16:54 2004
Subject: [antlr-interest] Re: C++ parser
In-Reply-To: <c9nmkb+8fab@eGroups.com>
Message-ID: <c9nrop+8dvv@eGroups.com>

--- In antlr-interest@yahoogroups.com, "geofuntasma" <wardf@s...> wrote:
> Well, I get too many errors that I cannot see the first lines. I tried
> to save that doing "gcc CPPParser.cpp >> errors" but ">>" doesn't seem
> to work with gcc.
> 
That's not gcc--it's your shell.  The usual syntax is more like
"gcc CPParser.cpp 2>errors"
in shells that support redirection of stderr.

--Loring



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From wardf at sympatico.ca  Thu Jun  3 11:50:31 2004
From: wardf at sympatico.ca (geofuntasma)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Re: C++ parser
In-Reply-To: <f78963400406031030571d37ea@mail.gmail.com>
Message-ID: <c9nrtn+c3io@eGroups.com>

Yeah, I think I didnt do all the steps properly to use C++ with ANTLR.
Sorry for that. However, I'm still having problems compiling. Now when
I compile, I get :

---------------------------------------------------------------
[@bash][~/ANTLR/C++ Grammar]> g++ -g -c -I/usr/local/include CPPLexer.cpp
In file included from CPP_parser.g:72,
                 from CPPLexer.cpp:2:
LineObject.hpp:123:7: warning: no newline at end of file
In file included from CPP_parser.g:75,
                 from CPPLexer.cpp:2:
var_types.h:26:46: warning: no newline at end of file

[@bash][~/ANTLR/C++ Grammar]> g++ -g -c -I/usr/local/include CPPParser.cpp
In file included from CPP_parser.g:72,
                 from CPPParser.cpp:2:
LineObject.hpp:123:7: warning: no newline at end of file
In file included from CPP_parser.g:75,
                 from CPPParser.cpp:2:
var_types.h:26:46: warning: no newline at end of file
In file included from CPPParser.cpp:2:
CPP_parser.g: In member function `void CPPParser::init()':
CPP_parser.g:227: `showTrace' undeclared (first use this function)
CPP_parser.g:227: (Each undeclared identifier is reported only once
for each function it appears in.)
---------------------------------------------------------------

Although I get warnings for CPPLexer.cpp, I still get the CPPLexer.o
file. But unfortunately it doesnt work when compiling the
CPPParser.cpp file.

Thanks in advance for your help.

Ward


--- In antlr-interest@yahoogroups.com, Tom Verbeure <hombre@g...> wrote:
> Assuming you are using a Unix-like system:
> configure --prefix=/usr/local
> make
> make install
> 
> As a result, you will get your include and lib files somewhere under
> /usr/local/. I'm not sure, but it's probably /usr/local/include/antlr
> for the include files and /usr/local/lib for the libantlr.a file.
> 
> Anyway, assuming these are the locations, then do the following:
> 
> To compile:
> g++ -g -c -I/usr/local/include MyLangLexer.cpp
> g++ -g -c -I/usr/local/include MyLangParser.cpp
> 
> To link:
> g++ -g -o MyLang MyLangLexer.o MyLangParser.o -L/usr/local/lib -lantlr
> 
> Obviously, if you have a separate file with main, you'll have to
> compile that also and include it in the link phase. But this should
> get you going.
> 
> Tom
> 
> 
> On Thu, 03 Jun 2004 17:20:11 -0000, geofuntasma <wardf@s...> wrote:
> > 
> > Well, I get too many errors that I cannot see the first lines. I tried
> > to save that doing "gcc CPPParser.cpp >> errors" but ">>" doesn't seem
> > to work with gcc.
> > 
> > I believe if, as Ric suggest, only a path problem. I really dont know
> > how to pass the path of the included antlr files to gcc, so I tried
> > copying them to /usr/include/antlr/ (it didnt existed that directory
> > so I created) but still not working.
> > 
> > Any help would be very appreciated.
> > 
> > Ward.
> >



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jun  3 21:35:26 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:55 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1086323726.1100.24796.m8@yahoogroups.com>


Hello,

This is an automated email message to let you know that
edmont_cu <edmont_cu@yahoo.es> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From luigi.bussolaro at telecomitalia.it  Fri Jun  4 02:41:05 2004
From: luigi.bussolaro at telecomitalia.it (Bussolaro Luigi)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Nondeterminism in parser rules
Message-ID: <11A558A2EC3A234AB500259468EEBDC21824A6@PTPEVS008RM001.idc.cww.telecomitalia.it>

I have a "Nondeterminism warning" cause the use of KOPENBRA in 2
connected rules (expr, relationalExpression).
I need to use brackets to make precedence in logical expression and math
expression.

Does anybody knows a way to define this kind of rules differently?

Here my parser rules:

expr:      (prodExpr ((PLUS^|MINUS^) prodExpr)*)
         | (KOPENBRA^ conditional KCLOSEBRA!);
prodExpr:  powExpr ((MUL^|DIV^|MOD^) powExpr)* ;
atom:      INT | NUMBER | variable | (KOPENBRA^ expr KCLOSEBRA!) ;

conditional:            KLEFTBRACE^ conditionalExpression KRIGHTBRACE!
expr ;
conditionalExpression:	logicalOrExpression 
logicalOrExpression:	logicalAndExpression (KOR^
logicalAndExpression)* ;
logicalAndExpression:	relationalExpression (KAND^
relationalExpression)* ;
relationalExpression:	atom ((KEQ^|KNE^|KLT^|KGT^|KLE^|KGE^) atom)  |
(KOPENBRA^ conditionalExpression CLOSEBRA!) ;

variable: (LVAR^ var RVAR!)
intergers: INT ;
reals: REAL ;
...

And my Lexer rule:
KOPENBRA: '(';
KLEFTBRACE: '{';
...

Thanks in advance 
Luigi
--------------------------------------------------------------------

CONFIDENTIALITY NOTICE

This message and its attachments are addressed solely to the persons above and may contain confidential information. If you have received the message in error, be informed that any use of the content hereof is prohibited. Please return it immediately to the sender and delete the message. Should you have any questions, please contact us by replying to webmaster@telecomitalia.it.

        Thank you

                                        www.telecomitalia.it

--------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20040604/1c2f5cfa/attachment.html
From wiggjd at lsbu.ac.uk  Fri Jun  4 06:18:20 2004
From: wiggjd at lsbu.ac.uk (David Wigg)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Re: C++ parser
Message-ID: <40C0769C.6070001@lsbu.ac.uk>

Hello "geofuntasma",

I'm sorry to hear you have been having trouble with our C++ parser.

Sorry about the showTrace() function in CPPParser::init().

This is related to a function I have been including in 
LLkParser.cpp and LLkParser.hpp to make tracing more flexible.

I propose to explain how to do this in my next version which I 
hope will not be too long now.

In the meantime it should have been deleted in this version.

I think your other problems were only warnings. Would they be 
something to do with different ways of ending lines/files 
between UNIX, Macintosh and Microsoft?

Let me know if you are still having problems.

David.




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Fri Jun  4 10:38:01 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] AST generation: EXPRESSION TREE example.
In-Reply-To: <000001c44978$4d549af0$03020a0a@starthis.com>
References: <000001c44978$4d549af0$03020a0a@starthis.com>
Message-ID: <ED344D68-B64D-11D8-A70D-000393B5606C@codetransform.com>

On Jun 3, 2004, at 7:37 AM, Bharath Sundararaman wrote:

> Hi Monty,
>
> I need the AST for semantic analysis, constant folding and also code
> generation. To be more specific, I have written the grammar for a
> PASCAL-like (not OO based) language, from scratch. Right now, my syntax
> analysis is complete. Instead of having semantic analysis within the 
> parser,
> I would like to build an AST and and write a tree parser that will 
> walk the
> tree structure to perform various analyses. For example, to get a good 
> idea
> of what I'm dealing with, I'm starting off with type checking and this 
> will
> drive the structure of my AST.
>
Code generation to a virtual machine, assembler, C or what?

> - The AST will always be manipulated by the grammar.
> - Comment tokens will be skipped.
So you don't have to worry about formatting preservation.
>
> Some questions:
>
> 1. Can you give me an example situation where I would need to preserve
> formatting? In my grammar, I ignore whitespace, newlines, tabs and 
> feeds.
> What kind of language would require comments to be tokens?
If you are doing source to source translation you probably want to 
preserve the information from formatting.  If you are making a compiler 
you can discard it.

>
> 2. Original possibly extraneous parenthesis -- I'm banging(!) all
> punctuations and paranthesis from the AST. I'm not clear about your 
> question
> but I hope I gave the answer.
Yeah, you're not doing source to source translation.

>
> 3. Are there any examples of how scope of variables can be checked by
> walking an AST?
The C grammar has a symbol table you might want to study.

>
> I will look at your C grammar, Java grammar and also PASCAL grammar to 
> gain
> more insight. I just stepped into the world of ASTs and I'm willing to 
> help
> with you with the AST guide in any way possible.
>
> Thanks a bunch,
>
> Bharath.
>
> -----Original Message-----
> From: Monty Zukowski [mailto:monty@codetransform.com]
> Sent: Wednesday, June 02, 2004 11:33 PM
> To: antlr-interest@yahoogroups.com
> Cc: Monty Zukowski
> Subject: Re: [antlr-interest] AST generation: EXPRESSION TREE example.
>
>
> On Jun 2, 2004, at 2:58 PM, Bharath Sundararaman wrote:
>
>> To generate
>> an AST with a decent structure (based on my needs), my understanding
>> is that
>> I have to add qualifiers (^, !) to each rule and modify existing rules
>> to
>> make them AST friendly. Is this a cumbersome process?
>
> Well, it can be.  Loring and I were recently debating what makes a good
> tree, and some of that ended up here a month or so ago in a dialog
> between me and John Mitchell about the NULL node placeholder.  I
> believe the java grammar builds a tree, my C grammar is also a good
> example.  In my latest ANTLR contract I was building a SQL tree but I
> had special considerations because everything had to be accessible from
> an embedded language.  I concluded that there are very many different
> reasons for wanting a tree that will guide a strategy toward building
> them.
>
> So, are you doing source to source translation?  Are you translating to
> a different language, or to the same language (like my C toolkit does)?
>   Are you only building a tree for analysis?  Are you building a tree 
> to
> be manipulated directly by raw code or will it always be manipulated by
> a tree grammar (my recommendation.)  Do you have to preserve
> formatting?  Comments?  Original possibly extraneous parenthesis?
>
> Let's work this through and maybe I can write up a guide for it when
> I've got some "free" time.
>
> Please, anybody join in and tell me what you're doing and let me know
> what's worked for you and what hasn't and what your questions are.
> I'll probably only get to this once or twice a day but hopefully we can
> ferret out some real life questions and solutions over the next week or
> so.  I know we've got plenty of experts out there too.  This is the
> kind of stuff that will help shape ANTLR 3.  Loring's got some amazing
> tree integration stuff on the horizon but there is always a place for
> understanding why people want trees and how to use them most
> effectively.
>
> Monty Zukowski
>
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit --
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Fri Jun  4 12:02:22 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:55 2004
Subject: New antlr-interest member
Message-ID: <1086375742.99.27851.w30@yahoogroups.com>


Hello,

This is an automated email message to let you know that
madcapmaggie <madcapmaggie@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From madcapmaggie at yahoo.com  Fri Jun  4 12:06:50 2004
From: madcapmaggie at yahoo.com (Margaret Fieland)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Memory Leak?
Message-ID: <c9qh8a+j34o@eGroups.com>

I am working on an application that repeatedly invokes a
ANTLR-generated  parser and lexer.  Memory usage grows as the tool
runs and running Valgrind on the executable points the finger at ANTLR.  

Anyone know anything about this?  

Peggy




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Fri Jun  4 12:23:33 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Memory Leak?
In-Reply-To: <c9qh8a+j34o@eGroups.com>
References: <c9qh8a+j34o@eGroups.com>
Message-ID: <AB6EAF16-B65C-11D8-A70D-000393B5606C@codetransform.com>

On Jun 4, 2004, at 12:06 PM, Margaret Fieland wrote:

> I am working on an application that repeatedly invokes a
> ANTLR-generated  parser and lexer.  Memory usage grows as the tool
> runs and running Valgrind on the executable points the finger at ANTLR.
>
> Anyone know anything about this?
>

Sounds like this is C++, yes?  It could be many things.  Is the parser 
generating trees?  What does the parser do other than parsing (what are 
the actions doing?)

Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Fri Jun  4 12:35:44 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] AST generation: EXPRESSION TREE example.
In-Reply-To: <ED344D68-B64D-11D8-A70D-000393B5606C@codetransform.com>
Message-ID: <000001c44a6b$211755b0$03020a0a@starthis.com>

Hi Monty,

I'm generating code to a VM. I'm thinking about XML executable chunks of
code.

Thanks.

-----Original Message-----
From: Monty Zukowski [mailto:monty@codetransform.com] 
Sent: Friday, June 04, 2004 12:38 PM
To: antlr-interest@yahoogroups.com
Cc: Monty Zukowski
Subject: Re: [antlr-interest] AST generation: EXPRESSION TREE example.


On Jun 3, 2004, at 7:37 AM, Bharath Sundararaman wrote:

> Hi Monty,
>
> I need the AST for semantic analysis, constant folding and also code 
> generation. To be more specific, I have written the grammar for a 
> PASCAL-like (not OO based) language, from scratch. Right now, my 
> syntax analysis is complete. Instead of having semantic analysis 
> within the parser, I would like to build an AST and and write a tree 
> parser that will walk the
> tree structure to perform various analyses. For example, to get a good 
> idea
> of what I'm dealing with, I'm starting off with type checking and this 
> will
> drive the structure of my AST.
>
Code generation to a virtual machine, assembler, C or what?

> - The AST will always be manipulated by the grammar.
> - Comment tokens will be skipped.
So you don't have to worry about formatting preservation.
>
> Some questions:
>
> 1. Can you give me an example situation where I would need to preserve 
> formatting? In my grammar, I ignore whitespace, newlines, tabs and 
> feeds. What kind of language would require comments to be tokens?
If you are doing source to source translation you probably want to 
preserve the information from formatting.  If you are making a compiler 
you can discard it.

>
> 2. Original possibly extraneous parenthesis -- I'm banging(!) all 
> punctuations and paranthesis from the AST. I'm not clear about your 
> question but I hope I gave the answer.
Yeah, you're not doing source to source translation.

>
> 3. Are there any examples of how scope of variables can be checked by
> walking an AST?
The C grammar has a symbol table you might want to study.

>
> I will look at your C grammar, Java grammar and also PASCAL grammar to 
> gain
> more insight. I just stepped into the world of ASTs and I'm willing to 
> help
> with you with the AST guide in any way possible.
>
> Thanks a bunch,
>
> Bharath.
>
> -----Original Message-----
> From: Monty Zukowski [mailto:monty@codetransform.com]
> Sent: Wednesday, June 02, 2004 11:33 PM
> To: antlr-interest@yahoogroups.com
> Cc: Monty Zukowski
> Subject: Re: [antlr-interest] AST generation: EXPRESSION TREE example.
>
>
> On Jun 2, 2004, at 2:58 PM, Bharath Sundararaman wrote:
>
>> To generate
>> an AST with a decent structure (based on my needs), my understanding
>> is that
>> I have to add qualifiers (^, !) to each rule and modify existing rules
>> to
>> make them AST friendly. Is this a cumbersome process?
>
> Well, it can be.  Loring and I were recently debating what makes a good
> tree, and some of that ended up here a month or so ago in a dialog
> between me and John Mitchell about the NULL node placeholder.  I
> believe the java grammar builds a tree, my C grammar is also a good
> example.  In my latest ANTLR contract I was building a SQL tree but I
> had special considerations because everything had to be accessible from
> an embedded language.  I concluded that there are very many different
> reasons for wanting a tree that will guide a strategy toward building
> them.
>
> So, are you doing source to source translation?  Are you translating to
> a different language, or to the same language (like my C toolkit does)?
>   Are you only building a tree for analysis?  Are you building a tree 
> to
> be manipulated directly by raw code or will it always be manipulated by
> a tree grammar (my recommendation.)  Do you have to preserve
> formatting?  Comments?  Original possibly extraneous parenthesis?
>
> Let's work this through and maybe I can write up a guide for it when
> I've got some "free" time.
>
> Please, anybody join in and tell me what you're doing and let me know
> what's worked for you and what hasn't and what your questions are.
> I'll probably only get to this once or twice a day but hopefully we can
> ferret out some real life questions and solutions over the next week or
> so.  I know we've got plenty of experts out there too.  This is the
> kind of stuff that will help shape ANTLR 3.  Loring's got some amazing
> tree integration stuff on the horizon but there is always a place for
> understanding why people want trees and how to use them most
> effectively.
>
> Monty Zukowski
>
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit --
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From markl at glyphic.com  Fri Jun  4 15:06:54 2004
From: markl at glyphic.com (Mark Lentczner)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Memory Leak?
In-Reply-To: <AB6EAF16-B65C-11D8-A70D-000393B5606C@codetransform.com>
References: <c9qh8a+j34o@eGroups.com> <AB6EAF16-B65C-11D8-A70D-000393B5606C@codetransform.com>
Message-ID: <7D347C56-B673-11D8-BFFF-000393A56BB6@glyphic.com>

> Sounds like this is C++, yes?
In my project we invoke an Antlr generated C++ lexer, parser and tree 
parser several hundred times during the unit tests on start-up.  We 
test strenuously for memory leaks - and we are not leaking in any of 
these tests.

Now, of course, we may not be making use of all the features of Antlr, 
and so, may not be hitting a bug that you are.  But, you should look 
strongly at the semantic actions embeded  the grammar - and ensure that 
they are not leaking.

	- Mark



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From madcapmaggie at yahoo.com  Fri Jun  4 15:41:55 2004
From: madcapmaggie at yahoo.com (Margaret Fieland)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Re: Memory Leak?
In-Reply-To: <AB6EAF16-B65C-11D8-A70D-000393B5606C@codetransform.com>
Message-ID: <c9qtrj+rrio@eGroups.com>

--- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> wrote:
> On Jun 4, 2004, at 12:06 PM, Margaret Fieland wrote:
> 
> > I am working on an application that repeatedly invokes a
> > ANTLR-generated  parser and lexer.  Memory usage grows as the tool
> > runs and running Valgrind on the executable points the finger at
ANTLR.
> >
> > Anyone know anything about this?
> >
> 
> Sounds like this is C++, yes?  It could be many things.  Is the parser 
> generating trees?  What does the parser do other than parsing (what are 
> the actions doing?)
> 

Yes, it's c++, and yes, the parser is generating trees.  There is a
tree walker which looks at the parsed requests and saves information
about them in a database.

> Monty Zukowski
> 
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit -- 
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Fri Jun  4 18:34:11 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] semantic predicate hoisting :)
Message-ID: <71F92118-B690-11D8-A381-000A95891192@cs.usfca.edu>

Hooray!  I have an initial implementation of the combined LL(*) and 
semantic predicate hoisting mechanism.  The requirements are fairly 
nasty to handle difficult situations naturally, but I think my 
implementation covers them all nicely as opposed to the ad hoc hacking 
I did for PCCTS (uh...and ANTLR <3.0) ;)

Consider the following seemingly simply grammar:

a : A B
   | A C
   | b
   | c
   | ID
   | Z;

b : {p1}? ID ;
c : {p2}? ID ;

In rule a, you need to modulate the lookahead according to the 
alternatives and you also need to hoist predicates from two other rules 
and also realize that they conflict with an alt (ID) from rule a.  
Because the naked ID alt does not have a predicate, one needs to make 
one as !(other predicates).

A cool thing to notice that the DFA tests the lookahead before 
evaluating predicates.  That is a crucial rule: only eval predicates 
when syntactic context is consistent with the predicates original 
location.

I have enclosed a small 16k PDF file showing the DFA ANTLR 3.0 core 
created to predicate the various alternatives of rule a.  Note that the 
DFA edges may be tokens (or characters) or predicates unlike a normal 
DFA.  Please notice that when the input is Z, only one symbol is 
examined and that only two symbols are used to resolve alts 1 and 2.   
Something to remark on: no k maximum or other constant was specified 
anywhere!  The LL(*) algorithm just does the minimum necessary :)

Prediction is no longer a series of tests, but rather the exact alt to 
predict is discovered with one shot.

Oh, the i=>alt notation means "DFA state i predicts alternative alt". :)

Wooohoooo!  NOW, can I go home, John? (Mitchell's been bugging me for 9 
years to get hoisting back) <snicker>

Ter
PS	 The LL(*) + hoisting algorithm and implementations are so clean and 
beautiful that I'm doing the happy dance in my office!


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dec-1.pdf
Type: application/pdf
Size: 16758 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040604/d7a9729a/dec-1.pdf
-------------- next part --------------

--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing
From notify at yahoogroups.com  Fri Jun  4 18:46:41 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:55 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1086400001.949.81299.m16@yahoogroups.com>


Hello,

This is an automated email message to let you know that
duck_a_tron <john.magruder@insightbb.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From notify at yahoogroups.com  Fri Jun  4 20:39:09 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:55 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1086406749.960.9336.m13@yahoogroups.com>


Hello,

This is an automated email message to let you know that
dharrison_ch <dharrison_ch@yahoo.co.uk> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From notify at yahoogroups.com  Sat Jun  5 06:59:32 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:55 2004
Subject: New antlr-interest member
Message-ID: <1086443972.119.33446.w46@yahoogroups.com>


Hello,

This is an automated email message to let you know that
or4share <or4share@yahoo.it> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From madcapmaggie at yahoo.com  Sat Jun  5 16:40:19 2004
From: madcapmaggie at yahoo.com (Peggy Fieland)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Memory Leak?
In-Reply-To: <7D347C56-B673-11D8-BFFF-000393A56BB6@glyphic.com>
Message-ID: <20040605234019.90521.qmail@web13703.mail.yahoo.com>

>>From what I can tell from my investigations, it's
storage for strings allocated by ANTLR when building
the trees that isn't getting freed.


--- Mark Lentczner <markl@glyphic.com> wrote:
> > Sounds like this is C++, yes?
> In my project we invoke an Antlr generated C++
> lexer, parser and tree 
> parser several hundred times during the unit tests
> on start-up.  We 
> test strenuously for memory leaks - and we are not
> leaking in any of 
> these tests.
> 
> Now, of course, we may not be making use of all the
> features of Antlr, 
> and so, may not be hitting a bug that you are.  But,
> you should look 
> strongly at the semantic actions embeded  the
> grammar - and ensure that 
> they are not leaking.
> 
> 	- Mark
> 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
>      antlr-interest-unsubscribe@yahoogroups.com
> 
>  
> 



	
		
__________________________________
Do you Yahoo!?
Friends.  Fun.  Try the all-new Yahoo! Messenger.
http://messenger.yahoo.com/ 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From lgc at mail1.jpl.nasa.gov  Sat Jun  5 17:16:47 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Re: Memory Leak?
In-Reply-To: <20040605234019.90521.qmail@web13703.mail.yahoo.com>
Message-ID: <c9tnpg+112tm@eGroups.com>

That is probably right-- CommonAST::~CommonAST() does not delete its
"text" field; CommonToken has a similar "feature" since it inherits
its destructor from Token.  That may not be easy to fix, short of
adding ref-counted strings.  Ric may have a suggestion.

--Loring


--- In antlr-interest@yahoogroups.com, Peggy Fieland
<madcapmaggie@y...> wrote:
> From what I can tell from my investigations, it's
> storage for strings allocated by ANTLR when building
> the trees that isn't getting freed.
> 
> 
> --- Mark Lentczner <markl@g...> wrote:
> > > Sounds like this is C++, yes?
> > In my project we invoke an Antlr generated C++
> > lexer, parser and tree 
> > parser several hundred times during the unit tests
> > on start-up.  We 
> > test strenuously for memory leaks - and we are not
> > leaking in any of 
> > these tests.
> > 
> > Now, of course, we may not be making use of all the
> > features of Antlr, 
> > and so, may not be hitting a bug that you are.  But,
> > you should look 
> > strongly at the semantic actions embeded  the
> > grammar - and ensure that 
> > they are not leaking.
> > 
> > 	- Mark
> > 
> > 
> > 
> >  
> > Yahoo! Groups Links
> > 
> > 
> >      antlr-interest-unsubscribe@yahoogroups.com
> > 
> >  
> > 
> 
> 
> 
> 	
> 		
> __________________________________
> Do you Yahoo!?
> Friends.  Fun.  Try the all-new Yahoo! Messenger.
> http://messenger.yahoo.com/



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Sat Jun  5 18:04:27 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:55 2004
Subject: New antlr-interest member
Message-ID: <1086483867.317.93312.w62@yahoogroups.com>


Hello,

This is an automated email message to let you know that
saran_subvel <saran_subvel@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From klaren at cs.utwente.nl  Sun Jun  6 04:53:22 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Re: Memory Leak?
In-Reply-To: <c9tnpg+112tm@eGroups.com>
References: <20040605234019.90521.qmail@web13703.mail.yahoo.com> <c9tnpg+112tm@eGroups.com>
Message-ID: <20040606115322.GA27982@cs.utwente.nl>

On Sun, Jun 06, 2004 at 12:16:47AM -0000, lgcraymer wrote:
> That is probably right-- CommonAST::~CommonAST() does not delete its
> "text" field; CommonToken has a similar "feature" since it inherits
> its destructor from Token.  That may not be easy to fix, short of
> adding ref-counted strings.  Ric may have a suggestion.

It's a normal attribute so it does not need an explicit delete. If it had
been a pointer to a string then it would be missing a delete. AFAIK the
base library has no or neglectible memory leaks (last time I checked). In
the case the text strings don't get deleted then you got a buggy
compiler/standard library.

It would be helpfull to know antlr version, compiler version. Also details
like using a custom ast and such.

With the refcounted ast's it's pretty easy to do something that leaves a
reference to a complete ast floating about which results in the whole thing
not getting deleted. (or if you made a circular reference with a custom ast)

One could add a static counter to the constructor/destructors of the ast
classes and see if the complete ast gets deleted. Or compile with a memory
tracker that gives more precise information.

> > From what I can tell from my investigations, it's
> > storage for strings allocated by ANTLR when building
> > the trees that isn't getting freed.

It can also be that this is part of your standard libraries
implementation.... It is common to have a few chunks of memory floating
around after program exit, due to internal buffers storage of the support
libraries of a compiler.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh, no,
  of course, we ... that is ... well, yes, in fact,' said Ponder. 'Adrian
    goes round the back and ... er ... prods it with his foot. But in a
     technical way,' he added. --- From: Hogfather by Terry Pratchett.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From wardf at sympatico.ca  Sun Jun  6 11:31:14 2004
From: wardf at sympatico.ca (Ward Flores)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Re: C++ parser
In-Reply-To: <40C0769C.6070001@lsbu.ac.uk>
Message-ID: <c9vnti+l79t@eGroups.com>

Finally, it works. Thanks to everybody for your help. The showTrace()
function in CPPParser::init() was the source of the error as David
said in his message.

Anyway, now I'd like to know how to generate an AST from C++ source
codes. Is there a tutorial for that somewhere? Could somebody explain
me shortly how to do it?

Thanks for your help. 

Ward


--- In antlr-interest@yahoogroups.com, David Wigg <wiggjd@l...> wrote:
> Hello "geofuntasma",
> 
> I'm sorry to hear you have been having trouble with our C++ parser.
> 
> Sorry about the showTrace() function in CPPParser::init().
> 
> This is related to a function I have been including in 
> LLkParser.cpp and LLkParser.hpp to make tracing more flexible.
> 
> I propose to explain how to do this in my next version which I 
> hope will not be too long now.
> 
> In the meantime it should have been deleted in this version.
> 
> I think your other problems were only warnings. Would they be 
> something to do with different ways of ending lines/files 
> between UNIX, Macintosh and Microsoft?
> 
> Let me know if you are still having problems.
> 
> David.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Mon Jun  7 01:31:43 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:55 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1086597103.354.97960.w28@yahoogroups.com>


Hello,

This is an automated email message to let you know that
oframes <benny.thornberg@mh.se> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Mon Jun  7 02:36:53 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:55 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1086601013.580.71035.m11@yahoogroups.com>


Hello,

This is an automated email message to let you know that
vonwedel <vonwedel@aixcape.org> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From notify at yahoogroups.com  Mon Jun  7 02:52:47 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:55 2004
Subject: New antlr-interest member
Message-ID: <1086601967.157.87714.w45@yahoogroups.com>


Hello,

This is an automated email message to let you know that
priyank_rastogi <priyank@osellus.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From priyank at osellus.com  Mon Jun  7 03:05:29 2004
From: priyank at osellus.com (Priyank RASTOGI)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] parsing unstructured text with xml-type tags.
Message-ID: <ca1el9+jtpp@eGroups.com>

Hi,

Sorry if this is very trivial but I could not find a solution in any 
of the examples.

I am writing a parser for a template that contains unstructured text 
with embedded XML-type tags. So one example of such a template is

This is a test template created by <mytag>some text here</mytag>. 
Thanks for your time.

In the lexer, I have defined rules like 
PLAIN_TEXT: consume whatever you see till < tag
STARTTAG: copied from xml parser in examples
ENDTAG: copied from xml parser in examples

So the stream of tokes i am expecting is
PLAIN_TEXT STARTTAG PLAIN_TEXT ENDTAG

Here are my problems...
1) PLAIN_TEXT consumes everything
2) since this is unstructures text, how do I know where to stop (EOF)
3) I also need to support HTML tags in the PLAIN_TEXT (I have to 
consume them in PLAIN_TEXT)

I am stuck how to go about it.

Any pointers would be greatly appreciated.

Thanks
Priyank




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Mon Jun  7 03:39:48 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:55 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1086604788.565.65935.m3@yahoogroups.com>


Hello,

This is an automated email message to let you know that
swift_turtle_male <swift_turtle_male@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From notify at yahoogroups.com  Mon Jun  7 03:54:56 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:55 2004
Subject: New antlr-interest member
Message-ID: <1086605696.3402.95094.w69@yahoogroups.com>


Hello,

This is an automated email message to let you know that
khan_saifi <saifikhan@gamebox.net> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Mon Jun  7 06:52:28 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:55 2004
Subject: New antlr-interest member
Message-ID: <1086616348.156.22676.w3@yahoogroups.com>


Hello,

This is an automated email message to let you know that
clockwize_2oo4 <clocKwize@blueyonder.co.uk> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From clocKwize at blueyonder.co.uk  Mon Jun  7 06:54:51 2004
From: clocKwize at blueyonder.co.uk (clockwize_2oo4)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Dev-C++?
Message-ID: <ca1s3b+ebla@eGroups.com>

hi, i'm trying to use dev c++ to compile, i've used one of the c++ 
things from the getting started section, i made a new static library 
project, compiled antlr.a, no errors, no warnings, great, i created a 
console project, using calc.g from this example, i used java 
antlr.Tool calc.g, worked, added the files to my project, pasted the 
c++ from the example on the website, compiles fine, i run it and then 
enter 1+1, press return and it crashes. anyone have any idea why?




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Mon Jun  7 07:14:03 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Dev-C++?
In-Reply-To: <ca1s3b+ebla@eGroups.com>
References: <ca1s3b+ebla@eGroups.com>
Message-ID: <20040607141403.GD8551@cs.utwente.nl>

On Mon, Jun 07, 2004 at 01:54:51PM -0000, clockwize_2oo4 wrote:
> i'm trying to use dev c++ to compile, i've used one of the c++ 
> things from the getting started section, i made a new static library 
> project, compiled antlr.a, no errors, no warnings, great, i created a 
> console project, using calc.g from this example, i used java 
> antlr.Tool calc.g, worked, added the files to my project, pasted the 
> c++ from the example on the website, compiles fine, i run it and then 
> enter 1+1, press return and it crashes. anyone have any idea why?

If it's a calc example that builds and AST and there's not a snip like this
in it:

ASTFactory ast_factory;
parser.initializeASTFactory(ast_factory);
parser.setASTFactory(&ast_factory);

Then you're using an pre 2.7.2 example. Have a look at the calc example
from examples/cpp/calc/ those should build as well according to those
instructions.

2.7.2 had some changes with respect to heterogeneous ast handling that
require the ASTfactory to be initialized explicitly.

In the case your example has the above code, then try adding one of these
options to antlr when generating the C++ files:
  -traceLexer        have lexer rules call traceIn/traceOut.
  -traceParser       have parser rules call traceIn/traceOut.
  -traceTreeParser   have tree parser rules call traceIn/traceOut.

That should give you and idea where it crashes.
  
Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Quidquid latine dictum sit, altum viditur.
                 (Whatever is said in Latin sounds profound.)


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From clocKwize at blueyonder.co.uk  Mon Jun  7 07:49:42 2004
From: clocKwize at blueyonder.co.uk (clocKwize)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Dev-C++?
In-Reply-To: <20040607141403.GD8551@cs.utwente.nl>
Message-ID: <ECOWS04MonzvMMl6Dcu0002efb2@smtp-out4.blueyonder.co.uk>

Ah. Thanks very much :) works now, just got to get to grips with this now
and I can start making something.

-----Original Message-----
From: Ric Klaren [mailto:klaren@cs.utwente.nl] 
Sent: 07 June 2004 15:14
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] Dev-C++?

On Mon, Jun 07, 2004 at 01:54:51PM -0000, clockwize_2oo4 wrote:
> i'm trying to use dev c++ to compile, i've used one of the c++ 
> things from the getting started section, i made a new static library 
> project, compiled antlr.a, no errors, no warnings, great, i created a 
> console project, using calc.g from this example, i used java 
> antlr.Tool calc.g, worked, added the files to my project, pasted the 
> c++ from the example on the website, compiles fine, i run it and then 
> enter 1+1, press return and it crashes. anyone have any idea why?

If it's a calc example that builds and AST and there's not a snip like this
in it:

ASTFactory ast_factory;
parser.initializeASTFactory(ast_factory);
parser.setASTFactory(&ast_factory);

Then you're using an pre 2.7.2 example. Have a look at the calc example
from examples/cpp/calc/ those should build as well according to those
instructions.

2.7.2 had some changes with respect to heterogeneous ast handling that
require the ASTfactory to be initialized explicitly.

In the case your example has the above code, then try adding one of these
options to antlr when generating the C++ files:
  -traceLexer        have lexer rules call traceIn/traceOut.
  -traceParser       have parser rules call traceIn/traceOut.
  -traceTreeParser   have tree parser rules call traceIn/traceOut.

That should give you and idea where it crashes.
  
Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++----
---
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++----
---
  Quidquid latine dictum sit, altum viditur.
                 (Whatever is said in Latin sounds profound.)


 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Mon Jun  7 08:15:27 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] parsing unstructured text with xml-type tags.
In-Reply-To: <ca1el9+jtpp@eGroups.com>
Message-ID: <002401c44ca2$43e28c70$03020a0a@starthis.com>

Hi Priyank,

>>Here are my problems...
>>1) PLAIN_TEXT consumes everything

In the ANTLR documentation (you can find it on www.antlr.org), there is a
section titled "ANTLR masquerading as SED". You will read about the "greedy"
option and that will help you solve problem #1.

>> 2) since this is unstructures text, how do I know where to stop (EOF)

You had mentioned that PLAIN_TEXT will consume whatever, until it finds a
"<" (start tag). So, if your text didn't end with a tag, your INPUT_TEXT
should be able to eat your input. If your text ends with a "</mytag>", your
ENDTAG will successfully parse it and stop. Look at this page to understand
how EOF works, in ANTLR: http://www.antlr.org/doc/metalang.html (Third
paragraph in the first page talks about EOF).

>>3) I also need to support HTML tags in the PLAIN_TEXT (I have to consume
them in PLAIN_TEXT)

Basically, this is a subset of your original problem. If PLAIN_TEXT is of
the form:

This is <b>plain</b> text.

It is similar to your original template, except that it has HTML tags
embedded in it, instead of XML tags.

__________

I'm a newbie too, to ANTLR. I had similar problems and reading these
sections helped me solve them and understand how EOF worked. I hope my
pointers help you find your answers.

Bharath
~ Give me the tool and I shall move the earth ~





-----Original Message-----
From: Priyank RASTOGI [mailto:priyank@osellus.com] 
Sent: Monday, June 07, 2004 5:05 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] parsing unstructured text with xml-type tags.


Hi,

Sorry if this is very trivial but I could not find a solution in any 
of the examples.

I am writing a parser for a template that contains unstructured text 
with embedded XML-type tags. So one example of such a template is

This is a test template created by <mytag>some text here</mytag>. 
Thanks for your time.

In the lexer, I have defined rules like 
PLAIN_TEXT: consume whatever you see till < tag
STARTTAG: copied from xml parser in examples
ENDTAG: copied from xml parser in examples

So the stream of tokes i am expecting is
PLAIN_TEXT STARTTAG PLAIN_TEXT ENDTAG

Here are my problems...
1) PLAIN_TEXT consumes everything
2) since this is unstructures text, how do I know where to stop (EOF)
3) I also need to support HTML tags in the PLAIN_TEXT (I have to 
consume them in PLAIN_TEXT)

I am stuck how to go about it.

Any pointers would be greatly appreciated.

Thanks
Priyank




 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From wardf at sympatico.ca  Mon Jun  7 14:05:02 2004
From: wardf at sympatico.ca (Ward Flores)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] newbie question
Message-ID: <ca2l9u+kegg@eGroups.com>

Could someone tell me if we can generate AST from any C++ source code
using ANTLR and a C++ grammar (for exemple the one offered in antlr.org)?



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Tue Jun  8 04:00:20 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:55 2004
Subject: New antlr-interest member
Message-ID: <1086692420.93.63273.w36@yahoogroups.com>


Hello,

This is an automated email message to let you know that
vukajlo011 <vukajlo@hotmail.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From Christoph.Wedler at sap.com  Tue Jun  8 03:58:51 2004
From: Christoph.Wedler at sap.com (Christoph.Wedler@sap.com)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Mail Delivery (failure antlr-interest@yahoogroups.com)
Message-ID: <20040608110225.87C8A74380@nexus.cs.usfca.edu>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: audio/x-wav
Size: 29568 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040608/8d121558/attachment.wav
From klaren at cs.utwente.nl  Tue Jun  8 04:52:30 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] newbie question
In-Reply-To: <ca2l9u+kegg@eGroups.com>
References: <ca2l9u+kegg@eGroups.com>
Message-ID: <20040608115230.GC27331@cs.utwente.nl>

On Mon, Jun 07, 2004 at 09:05:02PM -0000, Ward Flores wrote:
> Could someone tell me if we can generate AST from any C++ source code
> using ANTLR and a C++ grammar (for exemple the one offered in antlr.org)?

The antlr.org grammar has no treebuilding rules attached to it, but it's
possible to add those. Depending on how good/thorough you need to parse the
input this can be close to trivial (turn on automatic treebuilding) up to
non-trivial (depends on how much C++ you need to interpret).

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 Why don't we just invite them to dinner and massacre them all when they're
  drunk? You heard the man. There's seven hundred thousand of them. Ah? ..
           So it'd have to be something simple with pasta, then.
                 From: Interesting Times by Terry Pratchet



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From wardf at sympatico.ca  Tue Jun  8 06:45:42 2004
From: wardf at sympatico.ca (Ward Flores)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Re: newbie question
In-Reply-To: <20040608115230.GC27331@cs.utwente.nl>
Message-ID: <ca4fu6+d87p@eGroups.com>

Well, what I need is to generate a sort of chart that shows basically
the classes, fonctions and the inter-relations between them (ex.
design pattern used). So, I guess a trivial parse could be enough.

Now, you said it suffice to turn on automatic treebuilding for that. I
know I have to set the buildAST "flag" to true, that's the only thing
I'm sure. Could you help me about the other things I have to do please?

I apreciate your help.

Ward


--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> On Mon, Jun 07, 2004 at 09:05:02PM -0000, Ward Flores wrote:
> > Could someone tell me if we can generate AST from any C++ source code
> > using ANTLR and a C++ grammar (for exemple the one offered in
antlr.org)?
> 
> The antlr.org grammar has no treebuilding rules attached to it, but it's
> possible to add those. Depending on how good/thorough you need to
parse the
> input this can be close to trivial (turn on automatic treebuilding)
up to
> non-trivial (depends on how much C++ you need to interpret).
> 
> Cheers,
> 
> Ric
> --
>
-----+++++*****************************************************+++++++++-------
>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893755  ----
>
-----+++++*****************************************************+++++++++-------
>  Why don't we just invite them to dinner and massacre them all when
they're
>   drunk? You heard the man. There's seven hundred thousand of them.
Ah? ..
>            So it'd have to be something simple with pasta, then.
>                  From: Interesting Times by Terry Pratchet



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Anthony.Youngman at ECA-International.com  Tue Jun  8 07:45:44 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Tree-building problem ...
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF3F@lnml1.eca-international.local>

I'm trying to build a tree. Problem is, I'm trying to create tokens in
the parser, and can't see how to do it. Here's my parser code ...

//printst : ( PRINT^ (expr (COLON)? )? );
printst :
//	( PRINT! {#[IDENT,"!PRINT"]; #[LPAREN, "("];} (expr (COLON!
{#[NUMBER_LITERAL,"1"];})? )? )
	( PRINT! {#printst = #[IDENT,"!PRINT"], #[LPAREN, "("];} (expr
(COLON! {#[NUMBER_LITERAL,"1"];})? )? )
	{ ## = #(#[FUNCTIONCALL,"function-call"], ##); }
	;

The first, commented out, version simply returned a root of "PRINT" with
"expr" and "COLON" as its children. My second attempt - the second
commented out line, returns the required root of FUNCTIONCALL, but it
only has one child, namely "expr".

What I'm trying to do is return a tree who's root is FUNCTIONCALL and
which has, as a minimum, the children "!PRINT", "(" and ")" (and yes,
I've just realised I've forgotten the ")"). It should also have the
children "expr" and "1" if they exist.

Cheers,
Wol


****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From clocKwize at blueyonder.co.uk  Tue Jun  8 09:05:56 2004
From: clocKwize at blueyonder.co.uk (clocKwize)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] newbie question: single line comments?
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409AF3F@lnml1.eca-international.local>
Message-ID: <ECOWS04McbLDiKBsuZ200039c24@smtp-out4.blueyonder.co.uk>

Hi, I'm just playing at the moment, but I'm doing a single line comment
rule, I have (taken from tinyc example):

SL_COMMENT:     "//"
                (~'\n')* '\n'
                { _ttype = antlr::Token::SKIP; newline(); }
                ;
Which is fine, unless, the is a single line comment on the last line, then
\n is never encountered, but EOF is, I think I need to do:

                (~'\n')* ('\n' | EOF)

But what is EOF? I can't figure it out.

Thanks.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From johnm-antlr at non.net  Tue Jun  8 10:10:53 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] semantic predicate hoisting :)
In-Reply-To: <71F92118-B690-11D8-A381-000A95891192@cs.usfca.edu>
References: <71F92118-B690-11D8-A381-000A95891192@cs.usfca.edu>
Message-ID: <16581.62237.905433.654214@despot.non.net>

>>>>> "Terence" == Terence Parr <parrt@cs.usfca.edu> writes:
[...]

> Hooray!  I have an initial implementation of the combined LL(*) and
> semantic predicate hoisting mechanism.

YEA!!!

Do you happen to have a proof of correctness for this hoisting yet?

> The requirements are fairly nasty to handle difficult situations
> naturally, but I think my implementation covers them all nicely as
> opposed to the ad hoc hacking I did for PCCTS (uh...and ANTLR <3.0) ;)

How does it handle:

	* deeply nested semantic predicates?

	* recursive rules (which contain semantic predicates)?

[...]

> In rule a, you need to modulate the lookahead according to the
> alternatives and you also need to hoist predicates from two other rules
> and also realize that they conflict with an alt (ID) from rule a.
> Because the naked ID alt does not have a predicate, one needs to make one
> as !(other predicates).

Cool.

> A cool thing to notice that the DFA tests the lookahead before evaluating
> predicates.  That is a crucial rule: only eval predicates when syntactic
> context is consistent with the predicates original location.

Score!

> I have enclosed a small 16k PDF file showing the DFA ANTLR 3.0 core
> created to predicate the various alternatives of rule a.  Note that the
> DFA edges may be tokens (or characters) or predicates unlike a normal
> DFA.

How does this interact with syntactic predicates?


> Please notice that when the input is Z, only one symbol is examined and
> that only two symbols are used to resolve alts 1 and 2.  Something to
> remark on: no k maximum or other constant was specified anywhere!  The
> LL(*) algorithm just does the minimum necessary :)

I love this dynamism.

> Prediction is no longer a series of tests, but rather the exact alt to
> predict is discovered with one shot.

Please elaborate.  You're still, in essence, traversing the (LL*) DFA but
in an exact fashion rather than via approximations, right?


> Oh, the i=>alt notation means "DFA state i predicts alternative alt". :)

You might want to qualify the alt with the rule name to make that clear.

> Wooohoooo!  NOW, can I go home, John? (Mitchell's been bugging me for 9
> years to get hoisting back) <snicker>

Not until you clean your plate, mister!  :-)

Rock on,
	John


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jun  8 11:48:03 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] semantic predicate hoisting :)
In-Reply-To: <16581.62237.905433.654214@despot.non.net>
References: <71F92118-B690-11D8-A381-000A95891192@cs.usfca.edu> <16581.62237.905433.654214@despot.non.net>
Message-ID: <5F7195FC-B97C-11D8-A381-000A95891192@cs.usfca.edu>

On Jun 8, 2004, at 10:10 AM, John D. Mitchell wrote:

>>>>>> "Terence" == Terence Parr <parrt@cs.usfca.edu> writes:
> [...]
>
>> Hooray!  I have an initial implementation of the combined LL(*) and
>> semantic predicate hoisting mechanism.
>
> YEA!!!
>
> Do you happen to have a proof of correctness for this hoisting yet?

Define "correct"! ;)  Good question.  If I can define hoisting 
properly, I should be able to demonstrate my algorithm implements it.  
I plan on an LL(*) paper first as hoisting cannot be done properly 
without the syntactic context.

>> The requirements are fairly nasty to handle difficult situations
>> naturally, but I think my implementation covers them all nicely as
>> opposed to the ad hoc hacking I did for PCCTS (uh...and ANTLR <3.0) ;)
>
> How does it handle:
>
> 	* deeply nested semantic predicates?

It's beautiful.  Once a grammar is properly encoded as an NFA, the 
LL(*)+hoisting algorithm is a variant of the subset construction 
algorithm for DFA conversion (a few Terence tricks in there <wink>).  
The hoisting of predicates is done by collecting all predicates 
together as they are found when walking the NFA.  For example,

a : {p1}? b ;
b : {p2}? ID ;

would AND together p1 and p2 as it walked downwards towards the ID 
token.  This is the "semantic context" that gets carried along like a 
wavefront.  Upon syntactic conflict, the semantic context is checked.  
If sufficient, it is used to resolve stuff.

Now, when multiple predicates in the NFA get you to the same DFA state, 
you need to OR stuff together:

a : b | ID ;
b : {p1}? ID | {p2}? ID ;

Here, you will get a DFA state with NFA configurations inside for both 
p1 and p2 as well as the "naked" alt for 2nd alt of rule a.  To resolve 
syntactic conflicts, the DFA converter combines all predicates within 
the same DFA state for the same alt with an OR condition: p1||p2 
predicts alt 1 of 'a' and !(p1||p2) predicts alt 2.

The beauty of this is that once the NFA is created properly, the simple 
DFA converter will handle any situation indicated by the grammar.  
There is no longer an ad hoc set of rules about what to do upon (..)+ 
then (...)* etc...

Note that I am not allowing a hoisting distance > 0.  This means that 
predicates seen after at least one token cannot be used to disambiguate 
decisions.  For example, the following rule is syntactically ambig and 
cannot be resolved with predicates:

a : ID {p1}?
    | ID {p2}?
   ;

> 	* recursive rules (which contain semantic predicates)?

Here's one of my unit tests:

     public void testLeftRecursivePred() throws Exception {
         Grammar g = new Grammar(
             "grammar P;\n"+
             "a : {p1}? a | ID ;\n");
         g.createLookaheadDFAs();
         String expecting =
                 ".s0-ID->.s1\n" +
                 ".s1-{p1}?->:s2=>1\n" +
                 ".s1-{!(p1)}?->:s3=>2\n";
         checkDecision(g, 1, expecting, null);
     }

Normally left-recursion is verboten, but with a predicate, it knows how 
to resolve the conflict (ID predicts both alts 1 and 2).  The state 
machine is "match ID then if p1, predict alt 1.  Else if !p1 predict 
alt 2.

The great thing about the algorithm is that it works with whatever NFA 
you can build.  A left-recursive NFA is no biggie. :)

>> I have enclosed a small 16k PDF file showing the DFA ANTLR 3.0 core
>> created to predicate the various alternatives of rule a.  Note that 
>> the
>> DFA edges may be tokens (or characters) or predicates unlike a normal
>> DFA.
>
> How does this interact with syntactic predicates?

I haven't figured that out yet ;)  I'm assuming that the two will be 
mutually orthogonal.

>> Prediction is no longer a series of tests, but rather the exact alt to
>> predict is discovered with one shot.
>
> Please elaborate.  You're still, in essence, traversing the (LL*) DFA 
> but
> in an exact fashion rather than via approximations, right?

Well, yes, no more approx lookahead (except as an optimization).  What 
I mean here though is that previously I would do an if-then-else for 
this rule:

a : A B | A C | A D | B E | B F ;

Now, I will only compare two symbols of lookahead as a normal DFA would 
do to "search" for the matching string.  A series of LA(1)==A && 
LA(2)==B type tests is O(2m) for m alts whereas this DFA is actually 
O(2) (i.e., insensitive to the number of alternatives).  yehaaaa!

>> Oh, the i=>alt notation means "DFA state i predicts alternative alt". 
>> :)
>
> You might want to qualify the alt with the rule name to make that 
> clear.

Yeah, that's just a serialization thing I do and is specific to each 
decision state...

>> Wooohoooo!  NOW, can I go home, John? (Mitchell's been bugging me for 
>> 9
>> years to get hoisting back) <snicker>
>
> Not until you clean your plate, mister!  :-)

Almost clean ;)  I'm refactoring the code now since I have about 50 
unit tests for the convertor.  I want to make the code more readable 
now that it works ;)  Comments are up to date as well.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jun  8 13:18:59 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] more sem pred "correctness"
Message-ID: <13B51196-B989-11D8-A381-000A95891192@cs.usfca.edu>

John,

Yeah, I will have to be careful when defining correctness.  For 
example, here is one of my more interesting tests:

     public void testIgnorePredFromLL2Alt() throws Exception {
         Grammar g = new Grammar(
             "grammar P;\n"+
             "a : {p1}? A B | A C | {p2}? A | {p3}? A | A ;\n");
         g.createLookaheadDFAs();
         // two situations of note:
         // 1. A B syntax is enough to predict that alt, so p1 is not 
used
         //    to distinguish it from alts 2..5
         // 2. Alts 3, 4, 5 are nondeterministic with upon A.  p2, p3 
and the
         //    complement of p2||p3 is sufficient to resolve the 
conflict. Do
         //    not include alt 1's p1 pred in the "complement of other 
alts"
         //    because it is not considered nondeterministic with alts 
3..5
         String expecting =
                 ".s0-A->.s1\n" +
                 ".s1-B->:s2=>1\n" +
                 ".s1-C->:s3=>2\n" +
                 ".s1-{p2}?->:s4=>3\n" +
                 ".s1-{p3}?->:s5=>4\n" +
                 ".s1-{!((p3||p2))}?->:s6=>5\n";
         checkDecision(g, 1, expecting, null);
     }

Semantic predicates are subtle!

Terence
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Tue Jun  8 14:33:39 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:55 2004
Subject: New antlr-interest member
Message-ID: <1086730419.134.40425.w5@yahoogroups.com>


Hello,

This is an automated email message to let you know that
psrikiran <psrikiran@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From madcapmaggie at yahoo.com  Tue Jun  8 15:09:33 2004
From: madcapmaggie at yahoo.com (Margaret Fieland)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] parser/lexer invocation: performance/optimization question
Message-ID: <ca5det+pqi5@eGroups.com>

 I have a parser/lexer that is repeatedly invoked to parse a
succession of strings.

The current implementation is that the application invokes a routine
that does something like:

string source("Your input text");
istringstream str(source);

MyLexer lexer(str);
MyParser parser(lexer);
 ... initializeASTFactory
 ... setASTFactory

This routine is invoked literally thousands of times.

I'd like to be able to the setup (above) once in a constructor and
just invoke the parser multiple times on the strings as I would like
to avoid the overhead in the initialization.  

Is there any way to do this?  Nothing I've tried so far has worked.

Thanks.

Peggy



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From lgc at mail1.jpl.nasa.gov  Tue Jun  8 15:29:11 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Re: parser/lexer invocation: performance/optimization question
In-Reply-To: <ca5det+pqi5@eGroups.com>
Message-ID: <ca5ejn+cibp@eGroups.com>

I have an InputBuffer class for this which will be released with 2.8
(whenever I can get approval).  I'll upload the source to the files
area when I get the chance.

--Loring


--- In antlr-interest@yahoogroups.com, "Margaret Fieland"
<madcapmaggie@y...> wrote:
>  I have a parser/lexer that is repeatedly invoked to parse a
> succession of strings.
> 
> The current implementation is that the application invokes a routine
> that does something like:
> 
> string source("Your input text");
> istringstream str(source);
> 
> MyLexer lexer(str);
> MyParser parser(lexer);
>  ... initializeASTFactory
>  ... setASTFactory
> 
> This routine is invoked literally thousands of times.
> 
> I'd like to be able to the setup (above) once in a constructor and
> just invoke the parser multiple times on the strings as I would like
> to avoid the overhead in the initialization.  
> 
> Is there any way to do this?  Nothing I've tried so far has worked.
> 
> Thanks.
> 
> Peggy



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From lgc at mail1.jpl.nasa.gov  Tue Jun  8 15:39:52 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Re: parser/lexer invocation: performance/optimization question
In-Reply-To: <ca5det+pqi5@eGroups.com>
Message-ID: <ca5f7o+5o7m@eGroups.com>

I implemented an InputBuffer class (both C++ and Java variants) to do
this sort of thing.  I'll post the source this evening.

--Loring


--- In antlr-interest@yahoogroups.com, "Margaret Fieland"
<madcapmaggie@y...> wrote:
>  I have a parser/lexer that is repeatedly invoked to parse a
> succession of strings.
> 
> The current implementation is that the application invokes a routine
> that does something like:
> 
> string source("Your input text");
> istringstream str(source);
> 
> MyLexer lexer(str);
> MyParser parser(lexer);
>  ... initializeASTFactory
>  ... setASTFactory
> 
> This routine is invoked literally thousands of times.
> 
> I'd like to be able to the setup (above) once in a constructor and
> just invoke the parser multiple times on the strings as I would like
> to avoid the overhead in the initialization.  
> 
> Is there any way to do this?  Nothing I've tried so far has worked.
> 
> Thanks.
> 
> Peggy



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Wed Jun  9 01:46:59 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:55 2004
Subject: New file uploaded to antlr-interest
Message-ID: <1086770819.315.80232.w59@yahoogroups.com>


Hello,

This email message is a notification to let you know that
a file has been uploaded to the Files area of your antlr-interest 
group.

  File        : /reset.zip 
  Uploaded by : lgcraymer <lgc@mail1.jpl.nasa.gov> 
  Description : resettable input stream example 

You can access the file at the URL

http://groups.yahoo.com/group/antlr-interest/files/reset.zip 

Your group is currently configured to send you email
notification whenever a member uploads a file.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From lgc at mail1.jpl.nasa.gov  Wed Jun  9 01:59:49 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Re: parser/lexer invocation: performance/optimization question
In-Reply-To: <ca5det+pqi5@eGroups.com>
Message-ID: <ca6ji5+opr0@eGroups.com>

Ok, I uploaded "reset.zip" which contains a resettable InputBuffer
class and a Test class that demonstrates how it is used, along with a
"main" which sets up.  This is not a complete package; replace the
ANTLR distribution version of the InputBuffer files and use the others
as an example of use.

--Loring

--- In antlr-interest@yahoogroups.com, "Margaret Fieland"
<madcapmaggie@y...> wrote:
>  I have a parser/lexer that is repeatedly invoked to parse a
> succession of strings.
> 
> The current implementation is that the application invokes a routine
> that does something like:
> 
> string source("Your input text");
> istringstream str(source);
> 
> MyLexer lexer(str);
> MyParser parser(lexer);
>  ... initializeASTFactory
>  ... setASTFactory
> 
> This routine is invoked literally thousands of times.
> 
> I'd like to be able to the setup (above) once in a constructor and
> just invoke the parser multiple times on the strings as I would like
> to avoid the overhead in the initialization.  
> 
> Is there any way to do this?  Nothing I've tried so far has worked.
> 
> Thanks.
> 
> Peggy



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Wed Jun  9 02:51:15 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] parser/lexer invocation: performance/optimization question
In-Reply-To: <ca5det+pqi5@eGroups.com>
References: <ca5det+pqi5@eGroups.com>
Message-ID: <20040609095115.GA19180@cs.utwente.nl>

On Tue, Jun 08, 2004 at 10:09:33PM -0000, Margaret Fieland wrote:
>  I have a parser/lexer that is repeatedly invoked to parse a
> succession of strings.
>
> The current implementation is that the application invokes a routine
> that does something like:
>
> string source("Your input text");
> istringstream str(source);
>
> MyLexer lexer(str);
> MyParser parser(lexer);
>  ... initializeASTFactory
>  ... setASTFactory
>
> This routine is invoked literally thousands of times.
>
> I'd like to be able to the setup (above) once in a constructor and
> just invoke the parser multiple times on the strings as I would like
> to avoid the overhead in the initialization.
>
> Is there any way to do this?  Nothing I've tried so far has worked.

First time setup:

// if we don't have a file we use stdin (cin) (or use a dummy stream)
lexer = new Lexer(std::cin);

nodes_factory = new antlr::ASTFactory();
// Create a parser that reads from the scanner
parser = new Parser( *lexer, symbol_information );
// Initialize it with factory and setup the factory and other trivia
parser->setASTNodeFactory( nodes_factory );
// let the parser register the used ast types in the factory
parser->initializeASTFactory( *nodes_factory );
parser->setFilename("stdin");

Then per file/string:

---snip---
ifstream file;

file.open( filename );
if( ! file.is_open() )
{
	cerr << "Error opening file: '" << filename << "'" << endl;
   exit(1);
}
antlr::LexerSharedInputState lex_input = lexer->getInputState();
lex_input->initialize(file, filename);
// and reset parser (antlr) internal state
parser->getInputState()->reset();
parser->setFilename(filename);
// start parsing at the 'start' rule
parser->start();
---snip---

The above voodoo makes sure to reset all internal state of lexer and parser
to defaults for a new file. E.g. resets column/line info, guessing mode
info etc.

The lex_input->initialize only reallocates a CharBuffer which isn't too
expensive. You can use stringstreams in the above.

You could also use a CharInputBuffer if you want to read from plain old
char arrays. If you subclass it you can make a trivial addition to replace
the buffer it is reading from. Say name it MyCharInputBuffer and add this
method:

void setBuffer( unsigned char* buf, size_t size, bool owner = false )
{
	// delete current buf if needed
	if( delete_buffer && buffer )
		delete [] buffer;
	buffer = buf;
   end = buf+size;
	delete_buffer = owner;
}

Then the first time setup becomes:

unsigned char buf[BUF_SIZE];
MyCharInputBuffer input( buffer, sizeof(buf) );
lexer = new Lexer(input);
... rest the same ...

The per file bit:

antlr::LexerSharedInputState lex_input = lexer->getInputState();
lex_input->reset();
MyCharInputBuffer* input = dynamic_cast<MyCharInputBuffer*>(&lex_input->getInput());
input->setBuffer( new_buf, size );
// and reset parser (antlr) internal state
parser->getInputState()->reset();
parser->setFilename(filename);
// start parsing at the 'start' rule
parser->start();

Actually the setBuffer method is something that's good for inclusion in the
thing per default. Loring's dropin replacement might be nicer, I didn't
look at it yet.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh, no,
  of course, we ... that is ... well, yes, in fact,' said Ponder. 'Adrian
    goes round the back and ... er ... prods it with his foot. But in a
     technical way,' he added. --- From: Hogfather by Terry Pratchett.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Wed Jun  9 03:15:09 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Re: parser/lexer invocation: performance/optimization question
In-Reply-To: <ca6ji5+opr0@eGroups.com>
References: <ca5det+pqi5@eGroups.com> <ca6ji5+opr0@eGroups.com>
Message-ID: <20040609101509.GC19180@cs.utwente.nl>

On Wed, Jun 09, 2004 at 08:59:49AM -0000, lgcraymer wrote:
> Ok, I uploaded "reset.zip" which contains a resettable InputBuffer
> class and a Test class that demonstrates how it is used, along with a
> "main" which sets up.  This is not a complete package; replace the
> ANTLR distribution version of the InputBuffer files and use the others
> as an example of use.

Erm Loring, you've been working a bit too hard ;) That's the standard
distro's InputBuffer.... Hmm getting me all interested then upon diff'ing
no difference tsk tsk tsk ;P

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
     Innovation makes enemies of all those who prospered under the old
   regime, and only lukewarm support is forthcoming from those who would
               prosper under the new. --- Niccol? Machiavelli



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From madcapmaggie at yahoo.com  Wed Jun  9 09:25:43 2004
From: madcapmaggie at yahoo.com (Peggy Fieland)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] parser/lexer invocation: performance/optimization question
In-Reply-To: <20040609095115.GA19180@cs.utwente.nl>
Message-ID: <20040609162543.48876.qmail@web13706.mail.yahoo.com>

I tried this , but it crashes and burns as the first
time I execute this the lexerSharedInputState is null
 :-(.

Peggy
--- Ric Klaren <klaren@cs.utwente.nl> wrote:
> On Tue, Jun 08, 2004 at 10:09:33PM -0000, Margaret
> Fieland wrote:
> >  I have a parser/lexer that is repeatedly invoked
> to parse a
> > succession of strings.
> >
> > The current implementation is that the application
> invokes a routine
> > that does something like:
> >
> > string source("Your input text");
> > istringstream str(source);
> >
> > MyLexer lexer(str);
> > MyParser parser(lexer);
> >  ... initializeASTFactory
> >  ... setASTFactory
> >
> > This routine is invoked literally thousands of
> times.
> >
> > I'd like to be able to the setup (above) once in a
> constructor and
> > just invoke the parser multiple times on the
> strings as I would like
> > to avoid the overhead in the initialization.
> >
> > Is there any way to do this?  Nothing I've tried
> so far has worked.
> 
> First time setup:
> 
> // if we don't have a file we use stdin (cin) (or
> use a dummy stream)
> lexer = new Lexer(std::cin);
> 
> nodes_factory = new antlr::ASTFactory();
> // Create a parser that reads from the scanner
> parser = new Parser( *lexer, symbol_information );
> // Initialize it with factory and setup the factory
> and other trivia
> parser->setASTNodeFactory( nodes_factory );
> // let the parser register the used ast types in the
> factory
> parser->initializeASTFactory( *nodes_factory );
> parser->setFilename("stdin");
> 
> Then per file/string:
> 
> ---snip---
> ifstream file;
> 
> file.open( filename );
> if( ! file.is_open() )
> {
> 	cerr << "Error opening file: '" << filename << "'"
> << endl;
>    exit(1);
> }
> antlr::LexerSharedInputState lex_input =
> lexer->getInputState();
> lex_input->initialize(file, filename);
> // and reset parser (antlr) internal state
> parser->getInputState()->reset();
> parser->setFilename(filename);
> // start parsing at the 'start' rule
> parser->start();
> ---snip---
> 
> The above voodoo makes sure to reset all internal
> state of lexer and parser
> to defaults for a new file. E.g. resets column/line
> info, guessing mode
> info etc.
> 
> The lex_input->initialize only reallocates a
> CharBuffer which isn't too
> expensive. You can use stringstreams in the above.
> 
> You could also use a CharInputBuffer if you want to
> read from plain old
> char arrays. If you subclass it you can make a
> trivial addition to replace
> the buffer it is reading from. Say name it
> MyCharInputBuffer and add this
> method:
> 
> void setBuffer( unsigned char* buf, size_t size,
> bool owner = false )
> {
> 	// delete current buf if needed
> 	if( delete_buffer && buffer )
> 		delete [] buffer;
> 	buffer = buf;
>    end = buf+size;
> 	delete_buffer = owner;
> }
> 
> Then the first time setup becomes:
> 
> unsigned char buf[BUF_SIZE];
> MyCharInputBuffer input( buffer, sizeof(buf) );
> lexer = new Lexer(input);
> ... rest the same ...
> 
> The per file bit:
> 
> antlr::LexerSharedInputState lex_input =
> lexer->getInputState();
> lex_input->reset();
> MyCharInputBuffer* input =
>
dynamic_cast<MyCharInputBuffer*>(&lex_input->getInput());
> input->setBuffer( new_buf, size );
> // and reset parser (antlr) internal state
> parser->getInputState()->reset();
> parser->setFilename(filename);
> // start parsing at the 'start' rule
> parser->start();
> 
> Actually the setBuffer method is something that's
> good for inclusion in the
> thing per default. Loring's dropin replacement might
> be nicer, I didn't
> look at it yet.
> 
> Cheers,
> 
> Ric
> --
>
-----+++++*****************************************************+++++++++-------
>     ---- Ric Klaren ----- j.klaren@utwente.nl -----
> +31 53 4893755  ----
>
-----+++++*****************************************************+++++++++-------
>  'And this 'rebooting' business? Give it a good
> kicking, do you?' 'Oh, no,
>   of course, we ... that is ... well, yes, in fact,'
> said Ponder. 'Adrian
>     goes round the back and ... er ... prods it with
> his foot. But in a
>      technical way,' he added. --- From: Hogfather
> by Terry Pratchett.
> 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
>      antlr-interest-unsubscribe@yahoogroups.com
> 
>  
> 



	
		
__________________________________
Do you Yahoo!?
Friends.  Fun.  Try the all-new Yahoo! Messenger.
http://messenger.yahoo.com/ 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Wed Jun  9 10:02:06 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] parser/lexer invocation: performance/optimization question
In-Reply-To: <20040609162543.48876.qmail@web13706.mail.yahoo.com>
References: <20040609095115.GA19180@cs.utwente.nl> <20040609162543.48876.qmail@web13706.mail.yahoo.com>
Message-ID: <20040609170205.GG19180@cs.utwente.nl>

On Wed, Jun 09, 2004 at 09:25:43AM -0700, Peggy Fieland wrote:
> I tried this , but it crashes and burns as the first
> time I execute this the lexerSharedInputState is null
>  :-(.

You did the first time part *and* the per file file part for your first
input file?

The code is pretty much direct copy paste from a working program. It could
be helpfull if you posted a bit of code or a backtrace from the crash.

Other option is that if you use the noConstructors options and forget to
call the baseclass initializer?

At least as soon as a lexer is initialized with a stream or inputbuffer it
should have a valid LexerInputState. (Try stepping through the constructor
of your lexer)

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
     Human beings, who are almost unique in having the ability to learn
   from the experience of others, are also remarkable for their apparent
         disinclination to do so. --- Douglas Adams, Last Chance to See



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From lgc at mail1.jpl.nasa.gov  Wed Jun  9 10:24:25 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Re: parser/lexer invocation: performance/optimization question
In-Reply-To: <20040609101509.GC19180@cs.utwente.nl>
Message-ID: <ca7h49+jitr@eGroups.com>

Ric--

Not quite, although I think that the only addition is the "reset"
method.  The files are from the pre-2.8 stuff; I thought that I had
implemented this capability as a subclass, but that must have been a
while ago.

--Loring


--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> On Wed, Jun 09, 2004 at 08:59:49AM -0000, lgcraymer wrote:
> > Ok, I uploaded "reset.zip" which contains a resettable InputBuffer
> > class and a Test class that demonstrates how it is used, along with a
> > "main" which sets up.  This is not a complete package; replace the
> > ANTLR distribution version of the InputBuffer files and use the others
> > as an example of use.
> 
> Erm Loring, you've been working a bit too hard ;) That's the standard
> distro's InputBuffer.... Hmm getting me all interested then upon
diff'ing
> no difference tsk tsk tsk ;P
> 
> Cheers,
> 
> Ric
> -- 
>
-----+++++*****************************************************+++++++++---=
----
>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893755  ----
>
-----+++++*****************************************************+++++++++---=
----
>      Innovation makes enemies of all those who prospered under the old
>    regime, and only lukewarm support is forthcoming from those who would
>                prosper under the new. --- Niccol?? Machiavelli



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jun  9 21:48:44 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Tree-building problem ...
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409AF3F@lnml1.eca-international.local>
References: <C7FE35004D40FD45AA342991B88CE40409AF3F@lnml1.eca-international.local>
Message-ID: <74074105-BA99-11D8-BA82-000393B5606C@codetransform.com>

Your actions are creating nodes but you are not adding them to the  
tree.  They don't get added in automatically like parsed tokens do.

So, for instance, instead of {#[NUMBER_LITERAL,"1"];} you need  
something like {astFactory->addASTChild(currentAST,  
#[NUMBER_LITERAL,"1"]);} (in C++ mode)

Monty

On Jun 8, 2004, at 7:45 AM, Anthony Youngman wrote:

> I'm trying to build a tree. Problem is, I'm trying to create tokens in
> the parser, and can't see how to do it. Here's my parser code ...
>
> //printst : ( PRINT^ (expr (COLON)? )? );
> printst :
> //	( PRINT! {#[IDENT,"!PRINT"]; #[LPAREN, "("];} (expr (COLON!
> {#[NUMBER_LITERAL,"1"];})? )? )
> 	( PRINT! {#printst = #[IDENT,"!PRINT"], #[LPAREN, "("];} (expr
> (COLON! {#[NUMBER_LITERAL,"1"];})? )? )
> 	{ ## = #(#[FUNCTIONCALL,"function-call"], ##); }
> 	;
>
> The first, commented out, version simply returned a root of "PRINT"  
> with
> "expr" and "COLON" as its children. My second attempt - the second
> commented out line, returns the required root of FUNCTIONCALL, but it
> only has one child, namely "expr".
>
> What I'm trying to do is return a tree who's root is FUNCTIONCALL and
> which has, as a minimum, the children "!PRINT", "(" and ")" (and yes,
> I've just realised I've forgotten the ")"). It should also have the
> children "expr" and "1" if they exist.
>
> Cheers,
> Wol
>
>
> *********************************************************************** 
> *****
>
> This transmission is intended for the named recipient only. It may  
> contain private and confidential information. If this has come to you  
> in error you must not act on anything disclosed in it, nor must you  
> copy it, modify it, disseminate it in any way, or show it to anyone.  
> Please e-mail the sender to inform us of the transmission error or  
> telephone ECA International immediately and delete the e-mail from  
> your information system.
>
> Telephone numbers for ECA International offices are: Sydney +61 (0)2  
> 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and  
> New York +1 212 582 2333.
>
> *********************************************************************** 
> *****
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit --  
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From yjargudo at tiscali.es  Thu Jun 10 01:03:35 2004
From: yjargudo at tiscali.es (yjargudo)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] a question
Message-ID: <ca94kn+2j0b@eGroups.com>

hello,


My question perhaps seems stupid, but I don't have many experience in
antlr.

I have the following rules in an antlr grammar:


keyword:
  KEYWORD

;

identifier:
	IDENTIFIER 
;

IDENTIFIER
	:	ALPHA (ALPHA|DIGIT)+
		(COLON {$setType(KEYWORD); })?
	;

COLON
	: ':' (EQUALS | UNDERSCORE{ $setType(KEYWORD); })?
	;


Now I explain the problem. A keyword is an IDENTIFIER followed by ':'.
I also Can have and ASSIGN that is :
   IDENTIFIER := something   or IDENTIFIER _ something.

My question is how can I change the rules to force antlr that when it
found an IDENTIFIER ':',it looks the next token to see if it is '='
and then,I'm doing and assignment and not a KEYWORD? 


Thank you

Yolanda



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Geert-Jan.Laat-de at dsm.com  Thu Jun 10 01:07:57 2004
From: Geert-Jan.Laat-de at dsm.com (Laat-de, Geert-Jan)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Opinion of the professionals, please
Message-ID: <51DF4D0F94E1D511AE9A00508BDF80A2020A73D0@nlurm00ntms001.urm03.dsm-group.com>

Hi,

I'm currently using ANTLR to build a tool to generate analytical partial
derivatives for equations. I successfully implemented the lexer and parser
bit, thanks to all the nice examples supplied with ANTLR. I'm generating the
derivatives by implementing a tree parser. Part of the source code you can
find below. Could you give me some feedback on the way I've implemented
stuff ? 

Thank you very much for the tool and your feedback,

Geert-Jan

[Start of Code snippet]
expr
        :       #(PLUS expr expr)        // Sum Rule: D[u+v] = D[u]+D[v]
        |       #(MINUS expr expr)       // Sum Rule: D[u+v] = D[u]+D[v]
        |!      #(MULT lm:expr rm:expr)  // Product Rule: D[u*v] = u*D[v]
+v*D[u]
                {
                    DerivativeWalker w_lm;
                    DerivativeWalker w_rm;

		        w_lm.setASTFactory(astFactory);
		        w_rm.setASTFactory(astFactory);

                    w_lm.derive_var = derive_var;
                    w_rm.derive_var = derive_var;

                    w_lm.expr( lm);

                    w_rm.expr( rm);

		        ANTLR_USE_NAMESPACE(antlr)RefAST m1 =
astFactory->create(MULT, "*");
		        ANTLR_USE_NAMESPACE(antlr)RefAST m2 =
astFactory->create(MULT, "*");

		        m1->addChild( astFactory->dupTree(lm));
		        m1->addChild( astFactory->dupTree(w_rm.getAST()));
		        m2->addChild( astFactory->dupTree(rm));
		        m2->addChild( astFactory->dupTree(w_lm.getAST()));

		        ANTLR_USE_NAMESPACE(antlr)RefAST p1 =
astFactory->create(PLUS, "+");
		        p1->addChild( m1);
		        p1->addChild( m2);

                    #expr = p1;
                }
	;

This e-mail is for the intended recipient only.
If you have received it by mistake please let us know by reply and then
delete it from your system; access, disclosure, copying, distribution or
reliance on any of it by anyone else is prohibited.
If you as intended recipient have received this e-mail incorrectly, please
notify the sender (via e-mail) immediately.


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From rbencina at iprimus.com.au  Thu Jun 10 01:55:03 2004
From: rbencina at iprimus.com.au (Ross Bencina)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] a question
References: <ca94kn+2j0b@eGroups.com>
Message-ID: <04fe01c44ec8$9f790230$0100a8c0@athlon900>

> My question is how can I change the rules to force antlr that when it
> found an IDENTIFIER ':',it looks the next token to see if it is '='
> and then,I'm doing and assignment and not a KEYWORD?

Hi Yolanda

I think the easiest thing to do is to make a separate ASSIGN token in the
tokeniser for ":="

Ross.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jun 10 02:03:05 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:55 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1086858185.1162.82052.m12@yahoogroups.com>


Hello,

This is an automated email message to let you know that
vukajlo011 <vukajlo@hotmail.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From cb at phoebussoftware.com  Thu Jun 10 02:09:42 2004
From: cb at phoebussoftware.com (Craig Barker)
Date: Mon Dec 20 16:16:55 2004
Subject: [antlr-interest] Line continuation character problem
Message-ID: <E1850C7313E2234DACF5E29B13513DF21473AE@dellserver.phoebussoftware.local>

Hi Folks,
 
I have a small problem that, although trawling all the manuals, examples etc, i can't find an example of (although i'm sure i've read about it somewhere!).
 
I'm trying to analyse a language where each statement appears on a single line, apart from when the '&' character is explicitly used as a line continuation character. 
 
A statement like:
 
and(a>1,b<2) can also be written
 
and (a>1,&
b<2)
 
The only other issue is that a string token can actually be validly split by '& \r \n' so we may have:
 
and(a>"abc",b<"def")
 
written as:
 
and(a>"abc",b<"d&
ef")
 
 
I've tried using a lexer filter and that works fine for the first example but either i'm incorrectly using it in the second example or as the lexer will already be partway through lexing the string (done as per the default java grammer in the distro.) it cannot invoke the filter rule.
 
Is the best way of dealing with this a change in the lexing class to automatically filter out any '&\r\n''s from the character stream before it hits the lexer?
 
If there's another way or if anyone can point me to an example I would be most grateful.
 
Many thanks
 
Craig


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 5422 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040610/a553d4d9/attachment.bin
From Anthony.Youngman at ECA-International.com  Thu Jun 10 02:16:48 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Line continuation character problem
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF48@lnml1.eca-international.local>

Okay.
 
Define a lexer rule as '&' 'linefeed', and mark it with token type
"skip". That should get round your original continuation line problem
(unless you can split in the middle of a token). I do note you say
you've solved this, though ...
 
And look at the example in the manual of lexing ESCape characters inside
of a character string. You'll probably need a different lexer rule
(almost identical to the one above, though). But if this rule is
triggered inside a string, you want to finish it with something like
"token.setlength( token.getlength() - 3)" which will lose the &\r\n
that's just been added ...
 
Cheers,
Wol

________________________________

From: Craig Barker [mailto:cb@phoebussoftware.com] 
Sent: 10 June 2004 10:10
To: antlr-interest@yahoogroups.com
Subject: RE: [antlr-interest] Line continuation character problem


Hi Folks,
 
I have a small problem that, although trawling all the manuals, examples
etc, i can't find an example of (although i'm sure i've read about it
somewhere!).
 
I'm trying to analyse a language where each statement appears on a
single line, apart from when the '&' character is explicitly used as a
line continuation character. 
 
A statement like:
 
and(a>1,b<2) can also be written
 
and (a>1,&
b<2)
 
The only other issue is that a string token can actually be validly
split by '& \r \n' so we may have:
 
and(a>"abc",b<"def")
 
written as:
 
and(a>"abc",b<"d&
ef")
 
 
I've tried using a lexer filter and that works fine for the first
example but either i'm incorrectly using it in the second example or as
the lexer will already be partway through lexing the string (done as per
the default java grammer in the distro.) it cannot invoke the filter
rule.
 
Is the best way of dealing with this a change in the lexing class to
automatically filter out any '&\r\n''s from the character stream before
it hits the lexer?
 
If there's another way or if anyone can point me to an example I would
be most grateful.
 
Many thanks
 
Craig


****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20040610/6dc09498/attachment.html
From cb at phoebussoftware.com  Thu Jun 10 02:48:55 2004
From: cb at phoebussoftware.com (Craig Barker)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Line continuation character problem
Message-ID: <E1850C7313E2234DACF5E29B13513DF21473B0@dellserver.phoebussoftware.local>

Hi Anthony,
 
Thanks for your input to this, it's been doing my head in!
 
Indeed, I've got the following worked out so far:

options {
 exportVocab=PVocab;
 k=3;
filter=AMP;
}
 
protected
AMP
//an & and line break.
 :  '&' '\r' '\n' {System.out.println("& HIT!");newline();}
 ; 
 
STRING_LITERAL
// string literals - the only token that can be split with an '&'.
options {paraphrase = "a string";}
 : '"'! (~('"'))* '"'!
 ;
 
This solves the first problem very well but the second point is that I still want the STRING_LITERAL token to be passed as one token, even when it's been split over 2 or more lines.
 
ie:
 
getrec(tag,"select * from acct,x__ir &
where acct001 = x__ir001 and &
x__ir006 = 'V'")
 
Effectively I need the 3 lines of strings to be treated as 1 single STRING_LITERAL token, eg:
 
getrec(tag,"select * from acct,x__ir where acct001 = x__ir001 and x_ir006 = 'V'")
 
and unfortuately shaving the last 3 characters wouldn't always work.
 
Again many thanks for your help,
 
Cheers
 
Craig

	-----Original Message----- 
	From: Anthony Youngman [mailto:Anthony.Youngman@ECA-International.com] 
	Sent: Thu 10/06/2004 10:16 
	To: antlr-interest@yahoogroups.com 
	Cc: 
	Subject: RE: [antlr-interest] Line continuation character problem
	
	
	Okay.
	 
	Define a lexer rule as '&' 'linefeed', and mark it with token type "skip". That should get round your original continuation line problem (unless you can split in the middle of a token). I do note you say you've solved this, though ...
	 
	And look at the example in the manual of lexing ESCape characters inside of a character string. You'll probably need a different lexer rule (almost identical to the one above, though). But if this rule is triggered inside a string, you want to finish it with something like "token.setlength( token.getlength() - 3)" which will lose the &\r\n that's just been added ...
	 
	Cheers,
	Wol

  _____  

	From: Craig Barker [mailto:cb@phoebussoftware.com] 
	Sent: 10 June 2004 10:10
	To: antlr-interest@yahoogroups.com
	Subject: RE: [antlr-interest] Line continuation character problem
	
	
	Hi Folks,
	 
	I have a small problem that, although trawling all the manuals, examples etc, i can't find an example of (although i'm sure i've read about it somewhere!).
	 
	I'm trying to analyse a language where each statement appears on a single line, apart from when the '&' character is explicitly used as a line continuation character. 
	 
	A statement like:
	 
	and(a>1,b<2) can also be written
	 
	and (a>1,&
	b<2)
	 
	The only other issue is that a string token can actually be validly split by '& \r \n' so we may have:
	 
	and(a>"abc",b<"def")
	 
	written as:
	 
	and(a>"abc",b<"d&
	ef")
	 
	 
	I've tried using a lexer filter and that works fine for the first example but either i'm incorrectly using it in the second example or as the lexer will already be partway through lexing the string (done as per the default java grammer in the distro.) it cannot invoke the filter rule.
	 
	Is the best way of dealing with this a change in the lexing class to automatically filter out any '&\r\n''s from the character stream before it hits the lexer?
	 
	If there's another way or if anyone can point me to an example I would be most grateful.
	 
	Many thanks
	 
	Craig
	
	
	****************************************************************************
	
	This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.
	
	Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.
	
	****************************************************************************
	
	
  _____  

	Yahoo! Groups Links
	

	*	To visit your group on the web, go to:
		http://groups.yahoo.com/group/antlr-interest/
		  
	*	To unsubscribe from this group, send an email to:
		antlr-interest-unsubscribe@yahoogroups.com <mailto:antlr-interest-unsubscribe@yahoogroups.com?subject=Unsubscribe> 
		  
	*	Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service <http://docs.yahoo.com/info/terms/> . 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 10918 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040610/1ce4608d/attachment.bin
From Anthony.Youngman at ECA-International.com  Thu Jun 10 03:08:42 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Line continuation character problem
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF49@lnml1.eca-international.local>

Okay. First things first - you NEED to look up that ESC example in the
manual I gave you. But now let's try to rewrite your rule.
 
STRING_LITERAL
// string literals - the only token that can be split with an '&'.
options {paraphrase = "a string";}
 : '"'! (AMP{token.setlen(token.getlen()-3);}|{greedy=false;}.)* '"'!
 ;
 
What this is doing is first it finds your " to start the string. Then it
looks for either an AMP, or anything that doesn't match your final "
(that's the point of the "greedy = false" - the . won't eat any token
that matches the following token-match). And when it finds an AMP, the
setlen/getlen deletes it from the STRING_LITERAL that it's building.
 
This probably won't compile straight off - I've almost certainly got my
cases wrong, and there's probably other minor faults. But I hope I've
explained clearly what it's doing, and you should be able easily to
clean it up.
 
Cheers,
Wol
 
________________________________

From: Craig Barker [mailto:cb@phoebussoftware.com] 
Sent: 10 June 2004 10:49
To: antlr-interest@yahoogroups.com
Subject: RE: [antlr-interest] Line continuation character problem


Hi Anthony,
 
Thanks for your input to this, it's been doing my head in!
 
Indeed, I've got the following worked out so far:

options {
 exportVocab=PVocab;
 k=3;
filter=AMP;
}
 
protected
AMP
//an & and line break.
 :  '&' '\r' '\n' {System.out.println("& HIT!");newline();}
 ; 
 
STRING_LITERAL
// string literals - the only token that can be split with an '&'.
options {paraphrase = "a string";}
 : '"'! (~('"'))* '"'!
 ;
 
This solves the first problem very well but the second point is that I
still want the STRING_LITERAL token to be passed as one token, even when
it's been split over 2 or more lines.
 
ie:
 
getrec(tag,"select * from acct,x__ir &
where acct001 = x__ir001 and &
x__ir006 = 'V'")
 
Effectively I need the 3 lines of strings to be treated as 1 single
STRING_LITERAL token, eg:
 
getrec(tag,"select * from acct,x__ir where acct001 = x__ir001 and
x_ir006 = 'V'")
 
and unfortuately shaving the last 3 characters wouldn't always work.
 
Again many thanks for your help,
 
Cheers
 
Craig


****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20040610/49590658/attachment.html
From Anthony.Youngman at ECA-International.com  Thu Jun 10 03:14:19 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Line continuation character problem
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF4A@lnml1.eca-international.local>

Actually, following up to myself, you can probably just forget about the
setlen/getlen stuff and say AMP!
 
Cheers,
Wol

________________________________

From: Anthony Youngman 
Sent: 10 June 2004 11:09
To: 'antlr-interest@yahoogroups.com'
Subject: RE: [antlr-interest] Line continuation character problem


Okay. First things first - you NEED to look up that ESC example in the
manual I gave you. But now let's try to rewrite your rule.
 
STRING_LITERAL
// string literals - the only token that can be split with an '&'.
options {paraphrase = "a string";}
 : '"'! (AMP{token.setlen(token.getlen()-3);}|{greedy=false;}.)* '"'!
 ;
 
What this is doing is first it finds your " to start the string. Then it
looks for either an AMP, or anything that doesn't match your final "
(that's the point of the "greedy = false" - the . won't eat any token
that matches the following token-match). And when it finds an AMP, the
setlen/getlen deletes it from the STRING_LITERAL that it's building.
 
This probably won't compile straight off - I've almost certainly got my
cases wrong, and there's probably other minor faults. But I hope I've
explained clearly what it's doing, and you should be able easily to
clean it up.
 
Cheers,
Wol
 
________________________________

From: Craig Barker [mailto:cb@phoebussoftware.com] 
Sent: 10 June 2004 10:49
To: antlr-interest@yahoogroups.com
Subject: RE: [antlr-interest] Line continuation character problem


Hi Anthony,
 
Thanks for your input to this, it's been doing my head in!
 
Indeed, I've got the following worked out so far:

options {
 exportVocab=PVocab;
 k=3;
filter=AMP;
}
 
protected
AMP
//an & and line break.
 :  '&' '\r' '\n' {System.out.println("& HIT!");newline();}
 ; 
 
STRING_LITERAL
// string literals - the only token that can be split with an '&'.
options {paraphrase = "a string";}
 : '"'! (~('"'))* '"'!
 ;
 
This solves the first problem very well but the second point is that I
still want the STRING_LITERAL token to be passed as one token, even when
it's been split over 2 or more lines.
 
ie:
 
getrec(tag,"select * from acct,x__ir &
where acct001 = x__ir001 and &
x__ir006 = 'V'")
 
Effectively I need the 3 lines of strings to be treated as 1 single
STRING_LITERAL token, eg:
 
getrec(tag,"select * from acct,x__ir where acct001 = x__ir001 and
x_ir006 = 'V'")
 
and unfortuately shaving the last 3 characters wouldn't always work.
 
Again many thanks for your help,
 
Cheers
 
Craig


****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20040610/fbe0fa4d/attachment.html
From cb at phoebussoftware.com  Thu Jun 10 03:27:54 2004
From: cb at phoebussoftware.com (Craig Barker)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Line continuation character problem
Message-ID: <E1850C7313E2234DACF5E29B13513DF21473B3@dellserver.phoebussoftware.local>

I've looked at the example and it does make sense. Also I've not tried it yet but I see where your re-write below is going and will let you know how it goes.
 
Many thanks,
 
Craig

	-----Original Message----- 
	From: Anthony Youngman [mailto:Anthony.Youngman@ECA-International.com] 
	Sent: Thu 10/06/2004 11:14 
	To: antlr-interest@yahoogroups.com 
	Cc: 
	Subject: RE: [antlr-interest] Line continuation character problem
	
	
	Actually, following up to myself, you can probably just forget about the setlen/getlen stuff and say AMP!
	 
	Cheers,
	Wol

  _____  

	From: Anthony Youngman 
	Sent: 10 June 2004 11:09
	To: 'antlr-interest@yahoogroups.com'
	Subject: RE: [antlr-interest] Line continuation character problem
	
	
	Okay. First things first - you NEED to look up that ESC example in the manual I gave you. But now let's try to rewrite your rule.
	 
	
	STRING_LITERAL
	// string literals - the only token that can be split with an '&'.
	options {paraphrase = "a string";}
	 : '"'! (AMP{token.setlen(token.getlen()-3);}|{greedy=false;}.)* '"'!
	 ;
	 
	What this is doing is first it finds your " to start the string. Then it looks for either an AMP, or anything that doesn't match your final " (that's the point of the "greedy = false" - the . won't eat any token that matches the following token-match). And when it finds an AMP, the setlen/getlen deletes it from the STRING_LITERAL that it's building.
	 
	This probably won't compile straight off - I've almost certainly got my cases wrong, and there's probably other minor faults. But I hope I've explained clearly what it's doing, and you should be able easily to clean it up.
	 
	Cheers,
	Wol
	 
  _____  

	From: Craig Barker [mailto:cb@phoebussoftware.com] 
	Sent: 10 June 2004 10:49
	To: antlr-interest@yahoogroups.com
	Subject: RE: [antlr-interest] Line continuation character problem
	
	
	Hi Anthony,
	 
	Thanks for your input to this, it's been doing my head in!
	 
	Indeed, I've got the following worked out so far:

	options {
	 exportVocab=PVocab;
	 k=3;
	filter=AMP;
	}
	 
	protected
	AMP
	//an & and line break.
	 :  '&' '\r' '\n' {System.out.println("& HIT!");newline();}
	 ; 
	 
	STRING_LITERAL
	// string literals - the only token that can be split with an '&'.
	options {paraphrase = "a string";}
	 : '"'! (~('"'))* '"'!
	 ;
	 
	This solves the first problem very well but the second point is that I still want the STRING_LITERAL token to be passed as one token, even when it's been split over 2 or more lines.
	 
	ie:
	 
	getrec(tag,"select * from acct,x__ir &
	where acct001 = x__ir001 and &
	x__ir006 = 'V'")
	 
	Effectively I need the 3 lines of strings to be treated as 1 single STRING_LITERAL token, eg:
	 
	getrec(tag,"select * from acct,x__ir where acct001 = x__ir001 and x_ir006 = 'V'")
	 
	and unfortuately shaving the last 3 characters wouldn't always work.
	 
	Again many thanks for your help,
	 
	Cheers
	 
	Craig
	
	
	****************************************************************************
	
	This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.
	
	Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.
	
	****************************************************************************
	
	
  _____  

	Yahoo! Groups Links
	

	*	To visit your group on the web, go to:
		http://groups.yahoo.com/group/antlr-interest/
		  
	*	To unsubscribe from this group, send an email to:
		antlr-interest-unsubscribe@yahoogroups.com <mailto:antlr-interest-unsubscribe@yahoogroups.com?subject=Unsubscribe> 
		  
	*	Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service <http://docs.yahoo.com/info/terms/> . 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 10166 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040610/fe0a4321/attachment.bin
From notify at yahoogroups.com  Thu Jun 10 07:22:01 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:56 2004
Subject: New antlr-interest member
Message-ID: <1086877321.183.64120.w61@yahoogroups.com>


Hello,

This is an automated email message to let you know that
mikemoretti <mikemoretti@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From antlr4 at mordent.com  Thu Jun 10 07:52:32 2004
From: antlr4 at mordent.com (mikemoretti)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Grammar non-determinism problem
Message-ID: <ca9sjg+tccm@eGroups.com>

Hi,

I've written way too many parsers and am soooo tired of the tedious 
task of fixing grammar conflicts (especially in LL(k) parser 
tools! :D ).  In any case, I'm hoping someone can help me with this 
one (just to let you know, this isn't a homework problem, I'm working 
on a compiler for myself to learn more backend stuff since I've been 
doing mostly front end stuff for too long).

Here's a snippet of a grammar that's giving me non-determinism errors 
between end of blocks:

decls
    : ( decl )*
    ;

decl
    : (typedecl)+
    | vardecl
    | funcdecl
    ;

typedecl
    : TYPE ID ...  // don't worry about this ...
                   // it has nothing to do with the problem
    ;

vardecl
    : VAR ID TYPEID
    ;

funcdecl
    : FUNC ID ...
    ;

The non-determinism happens between decl's (typedecl)+ and decls' 
(decl)*.  I can't think of any other way to rewrite this to do what I 
need to do.  The problem is that I need to group typedecls together 
because some of them can be mutually recursive structure types (but 
only those in the same group can be, otherwise I wouldn't group them 
at all because without the + this grammar works!).  I've tried so 
many things, hoisting out stuff, hoisting + predicates, other 
rewritings that I usually try, but nothing seems to make this 
conflict go away.

Thanks!
-Mike M.





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Anthony.Youngman at ECA-International.com  Thu Jun 10 08:23:28 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Grammar non-determinism problem
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF4B@lnml1.eca-international.local>

Try a "greedy = true". I've just stuffed my grammar in my bag so I can't
refer to it, but ...

decls
    : ( option {greedy=true;} : ( decl )* )
    ;

(or whatever the correct syntax is) is likely to fix it. If it doesn't,
try the same with the (typedecl)+ construct in decl. This is typical of
a * or + repeater.

Cheers,
Wol

-----Original Message-----
From: mikemoretti [mailto:antlr4@mordent.com] 
Sent: 10 June 2004 15:53
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Grammar non-determinism problem

Hi,

I've written way too many parsers and am soooo tired of the tedious 
task of fixing grammar conflicts (especially in LL(k) parser 
tools! :D ).  In any case, I'm hoping someone can help me with this 
one (just to let you know, this isn't a homework problem, I'm working 
on a compiler for myself to learn more backend stuff since I've been 
doing mostly front end stuff for too long).

Here's a snippet of a grammar that's giving me non-determinism errors 
between end of blocks:

decls
    : ( decl )*
    ;

decl
    : (typedecl)+
    | vardecl
    | funcdecl
    ;

typedecl
    : TYPE ID ...  // don't worry about this ...
                   // it has nothing to do with the problem
    ;

vardecl
    : VAR ID TYPEID
    ;

funcdecl
    : FUNC ID ...
    ;

The non-determinism happens between decl's (typedecl)+ and decls' 
(decl)*.  I can't think of any other way to rewrite this to do what I 
need to do.  The problem is that I need to group typedecls together 
because some of them can be mutually recursive structure types (but 
only those in the same group can be, otherwise I wouldn't group them 
at all because without the + this grammar works!).  I've tried so 
many things, hoisting out stuff, hoisting + predicates, other 
rewritings that I usually try, but nothing seems to make this 
conflict go away.

Thanks!
-Mike M.





 
Yahoo! Groups Links



 



****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Thu Jun 10 09:26:08 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Updated C++ parser
Message-ID: <20040610162608.GA872@cs.utwente.nl>

Hi,

Once upon a time I was planning to give a talk on Monty's tokenstream
filtering idea. Things went differently a bit but I ended up with a
modified version of the C++ parser David Wigg has been working on.

Let me cut and paste from what I added to the MyReadme.txt in the tar ball:

I Grabbed the C++ grammar as a vehicle to play with tokenstream filtering.
The plan was to attempt to make a drop in C++ preprocessor together with
#include #ifdef support. This to demo tokenstream filtering for a talk.
Just before the deadline I came to the point that I had to redesign things
to keep things nice and concise for the talk. Therefore I had to scratch
using this as a talk vehicle. Yet the added features more or less worked
and can be interesting to look at.

Added features:

- Split up the big monolithic .g file from the original into a separate lexer
  and parser.
- Added a Makefile (GNU Make/Gcc)
- Use of a Custom Token class with line and file information. This needs a
  patch on antlr. It is supplied as antlr.patch in this directory. It's
  probably present in the next snapshot after 2.7.4 release. (Once Terence
  merges the doc changes from 2.7.4 to mainline ;) but that can wait while
  he's engrossed in hacking on antlr 3 :) )
- I used a custom stream multiplexer class that handles closing of streams if
  needed. CPPStreamStack. Antlr's default thing does not handle cleanups
  (read direct java port).
- Added a ugly ancient hash table template to hash the filenames encountered.
  The tokens only store a hash value for filename. It's loosely based on
  a Modula 2 implementation of hash tables in GMD's cocktail (uses the same
  hash function).
- Handling of #line directives with the above (might be off one line here
  and there I did not check that for correctness, proof of concept it works)
- Handling of #include directives with a TokenStream multiplexer.
  this is completely done inside the lexer. To make this nice (conceptually)
  the preprocessor should become the TS multiplexer.
- Handling of simple #define/#ifdef/#ifndef/#else/#endif statements. Nested
  but basically only checking defined or not defined. (good enough for
  #include guards) This works actually quite nice. Should be easy enough to
  implement more functionality.  

As long as the preprocessor stays LL(1) it should be possible to fold the
tokenstream multiplexor and #include handling into the preprocessor, giving
a pretty nice layered design. Although sinning against the no feedback from
parser to lexer mantra.

Releasing this stuff now since I probably won't have much time to make it a
real release. So tinker with it at your own risk. It needs a cleanup. It
contains old code from David's #line handling which I did not prune and
probably there's some more virtual corpses in various virtual closets..

It could be an idea to pass newlines on to the preprocessor. This would
require some more tinkering. It might become necessary to let the
preprocessor patch the line numbers from outgoing tokens.

The result of the few days hacking can be found here:

http://wwwhome.cs.utwente.nl/~klaren/antlr/CPPParser.tar.bz2

This is basically released for the sake of releasing it. It's not a
finished product, more a proof of concept. I probably don't have time to
wrap it up into something presentable soon, so that's why I release it.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Wo das Chaos auf die Ordnung trifft, gewinnt meist das Chaos, weil es
  besser organisiert ist. --- Friedrich Nietzsche



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From jpschewe at mtu.net  Thu Jun 10 11:55:23 2004
From: jpschewe at mtu.net (Jon Schewe)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Bug with HTML output
Message-ID: <20040610185523.GA18700@mtu.net>

I just tried out the -html flag to ANTLR in version 2.7.4 and I think
that's pretty cool.  One problem I do have is that it puts a txt
extension on the output file created for the Lexer when the Lexer and
Recognizer are in the same input file.
-- 
Jon Schewe | http://mtu.net/~jpschewe
GPG signature at http://mtu.net/~jpschewe/gpg.sig.html
For I am convinced that neither death nor life, neither angels 
nor demons, neither the present nor the future, nor any 
powers, neither height nor depth, nor anything else in all 
creation, will be able to separate us from the love of God that 
is in Christ Jesus our Lord. - Romans 8:38-39
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040610/004bbe98/attachment.bin
From wardf at sympatico.ca  Thu Jun 10 12:00:06 2004
From: wardf at sympatico.ca (Ward Flores)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] building ASTs from a C++ grammar
Message-ID: <caab3m+plro@eGroups.com>

As I can see in the C++ grammars, they don't seem to support yet ASTs
buildings. I mean Terence Parr shows in "An Introduction to ANTLR"
that to generate ASTs from a grammar, we should: ... turn on the
buildAST option and add few suffix operators to tell ANTLR what tokens
should be subtree roots.

I didn't see those suffix operators in the C++ grammar available at
antlr.org or in the C++ grammar updated by Ric Klaren. Now,
considering that I'm new to this, I'm not 100% sure of this so could
someone confirm me that those C++ grammars don't support ASTs
buildings please?

Thanks in advance.

Ward



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jun 10 13:39:48 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:56 2004
Subject: New antlr-interest member
Message-ID: <1086899988.162.14487.w43@yahoogroups.com>


Hello,

This is an automated email message to let you know that
ceticobr <ceticobr@yahoo.com.br> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From klaren at cs.utwente.nl  Thu Jun 10 14:20:49 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] building ASTs from a C++ grammar
In-Reply-To: <caab3m+plro@eGroups.com>
References: <caab3m+plro@eGroups.com>
Message-ID: <20040610212048.GA4584@cs.utwente.nl>

Hi,

On Thu, Jun 10, 2004 at 07:00:06PM -0000, Ward Flores wrote:
> As I can see in the C++ grammars, they don't seem to support yet ASTs
> buildings. 
...
> I'm not 100% sure of this so could
> someone confirm me that those C++ grammars don't support ASTs
> buildings please?

Indeed the C++ thing does not build AST's. You could turn on the buildAST
option and see how far that get's you but it probably needs some work to
get something really usable.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 Why don't we just invite them to dinner and massacre them all when they're
  drunk? You heard the man. There's seven hundred thousand of them. Ah? ..
           So it'd have to be something simple with pasta, then.
                 From: Interesting Times by Terry Pratchet



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From ceticobr at yahoo.com.br  Thu Jun 10 14:51:29 2004
From: ceticobr at yahoo.com.br (Marx Gomes)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] C++ Segmentation Fault
Message-ID: <caal51+4c8j@eGroups.com>

Hello, 

I'm starting to use ANTLR to generate C++ output. I've designed a
simple grammar, and everything seems to work well, except that I can't
set "buildAST = true" without getting "Segmentation fault" errors
whenever I run my parser. Neither ANTLR nor the C++ compiler complain
about anything in the source files, it compiles nicely, just does not
work (unless I comment out the "buildAST = true" line, then it runs
perfectly).

I was able to trace the problem back to this line:

RefAST t = nodeFactories[tok->getType()]->second(); 

inside method "RefAST ASTFactory::create(RefToken tok)"
in file "AstFactory.cpp"

Looks like the problem occurs because an invalid index
("tok->getType()") is acessed in "nodeFactories", but that's all I can
say about it, since I'm not very much familiar with the generated
code.

Anybody knows where the problem could be? I could post parts of my
grammar, if it helps.

Thanks in advance,
Marx




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From hombre at gmail.com  Thu Jun 10 15:28:05 2004
From: hombre at gmail.com (Tom Verbeure)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] C++ Segmentation Fault
In-Reply-To: <caal51+4c8j@eGroups.com>
References: <caal51+4c8j@eGroups.com>
Message-ID: <f78963400406101528239280d7@mail.gmail.com>

You need to initialize the AST Factory. Have a look at 

antlr-2.7.4/examples/cpp/exprAST/Main.cpp

to see how it's done.

Tom


On Thu, 10 Jun 2004 21:51:29 -0000, Marx Gomes <ceticobr@yahoo.com.br> wrote:
> 
> Hello,
> 
> I'm starting to use ANTLR to generate C++ output. I've designed a
> simple grammar, and everything seems to work well, except that I can't
> set "buildAST = true" without getting "Segmentation fault" errors
> whenever I run my parser. Neither ANTLR nor the C++ compiler complain
> about anything in the source files, it compiles nicely, just does not
> work (unless I comment out the "buildAST = true" line, then it runs
> perfectly).
> 
> I was able to trace the problem back to this line:
> 
> RefAST t = nodeFactories[tok->getType()]->second();
> 
> inside method "RefAST ASTFactory::create(RefToken tok)"
> in file "AstFactory.cpp"
> 
> Looks like the problem occurs because an invalid index
> ("tok->getType()") is acessed in "nodeFactories", but that's all I can
> say about it, since I'm not very much familiar with the generated
> code.
> 
> Anybody knows where the problem could be? I could post parts of my
> grammar, if it helps.
> 
> Thanks in advance,
> Marx


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jun 10 15:39:46 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:56 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1086907186.396.75265.w74@yahoogroups.com>


Hello,

This is an automated email message to let you know that
ahwkong2000 <anthony.kong@ufjia.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Thu Jun 10 15:39:46 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:56 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1086907186.396.75265.w74@yahoogroups.com>


Hello,

This is an automated email message to let you know that
ahwkong2000 <anthony.kong@ufjia.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From lgc at mail1.jpl.nasa.gov  Thu Jun 10 15:08:20 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Re: C++ Segmentation Fault
In-Reply-To: <caal51+4c8j@eGroups.com>
Message-ID: <caam4k+fm7d@eGroups.com>

This one's pretty common--you need to initialize the AST Factory. 
Look at the ANTLR manual under "Using Heterogeneous AST types" in the
"C++ notes".

--Loring


--- In antlr-interest@yahoogroups.com, "Marx Gomes" <ceticobr@y...> wrote:
> Hello, 
> 
> I'm starting to use ANTLR to generate C++ output. I've designed a
> simple grammar, and everything seems to work well, except that I can't
> set "buildAST = true" without getting "Segmentation fault" errors
> whenever I run my parser. Neither ANTLR nor the C++ compiler complain
> about anything in the source files, it compiles nicely, just does not
> work (unless I comment out the "buildAST = true" line, then it runs
> perfectly).
> 
> I was able to trace the problem back to this line:
> 
> RefAST t = nodeFactories[tok->getType()]->second(); 
> 
> inside method "RefAST ASTFactory::create(RefToken tok)"
> in file "AstFactory.cpp"
> 
> Looks like the problem occurs because an invalid index
> ("tok->getType()") is acessed in "nodeFactories", but that's all I can
> say about it, since I'm not very much familiar with the generated
> code.
> 
> Anybody knows where the problem could be? I could post parts of my
> grammar, if it helps.
> 
> Thanks in advance,
> Marx



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From antlr4 at mordent.com  Thu Jun 10 17:05:46 2004
From: antlr4 at mordent.com (mikemoretti)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Re: Grammar non-determinism problem
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409AF4B@lnml1.eca-international.local>
Message-ID: <caat0q+919p@eGroups.com>

I put the greedy option in the (typedecl)+ rule and it worked great!!!

I've been working on this for a week now and am so glad to have it 
finally work, thanks alot for your help!!

-Mike


--- In antlr-interest@yahoogroups.com, "Anthony Youngman" 
<Anthony.Youngman@E...> wrote:
> Try a "greedy = true". I've just stuffed my grammar in my bag so I 
can't
> refer to it, but ...
> 
> decls
>     : ( option {greedy=true;} : ( decl )* )
>     ;
> 
> (or whatever the correct syntax is) is likely to fix it. If it 
doesn't,
> try the same with the (typedecl)+ construct in decl. This is 
typical of
> a * or + repeater.
> 
> Cheers,
> Wol
> 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Thu Jun 10 20:24:30 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Updated C++ parser
In-Reply-To: <20040610162608.GA872@cs.utwente.nl>
References: <20040610162608.GA872@cs.utwente.nl>
Message-ID: <D9CAA5A5-BB56-11D8-99FF-000393B5606C@codetransform.com>

Thanks for releasing it!  Will make for good discussion at the ANTLR  
Revival.

Monty

On Jun 10, 2004, at 9:26 AM, Ric Klaren wrote:

> Hi,
>
> Once upon a time I was planning to give a talk on Monty's tokenstream
> filtering idea. Things went differently a bit but I ended up with a
> modified version of the C++ parser David Wigg has been working on.
>
> Let me cut and paste from what I added to the MyReadme.txt in the tar  
> ball:
>
> I Grabbed the C++ grammar as a vehicle to play with tokenstream  
> filtering.
> The plan was to attempt to make a drop in C++ preprocessor together  
> with
> #include #ifdef support. This to demo tokenstream filtering for a talk.
> Just before the deadline I came to the point that I had to redesign  
> things
> to keep things nice and concise for the talk. Therefore I had to  
> scratch
> using this as a talk vehicle. Yet the added features more or less  
> worked
> and can be interesting to look at.
>
> Added features:
>
> - Split up the big monolithic .g file from the original into a  
> separate lexer
>   and parser.
> - Added a Makefile (GNU Make/Gcc)
> - Use of a Custom Token class with line and file information. This  
> needs a
>   patch on antlr. It is supplied as antlr.patch in this directory. It's
>   probably present in the next snapshot after 2.7.4 release. (Once  
> Terence
>   merges the doc changes from 2.7.4 to mainline ;) but that can wait  
> while
>   he's engrossed in hacking on antlr 3 :) )
> - I used a custom stream multiplexer class that handles closing of  
> streams if
>   needed. CPPStreamStack. Antlr's default thing does not handle  
> cleanups
>   (read direct java port).
> - Added a ugly ancient hash table template to hash the filenames  
> encountered.
>   The tokens only store a hash value for filename. It's loosely based  
> on
>   a Modula 2 implementation of hash tables in GMD's cocktail (uses the  
> same
>   hash function).
> - Handling of #line directives with the above (might be off one line  
> here
>   and there I did not check that for correctness, proof of concept it  
> works)
> - Handling of #include directives with a TokenStream multiplexer.
>   this is completely done inside the lexer. To make this nice  
> (conceptually)
>   the preprocessor should become the TS multiplexer.
> - Handling of simple #define/#ifdef/#ifndef/#else/#endif statements.  
> Nested
>   but basically only checking defined or not defined. (good enough for
>   #include guards) This works actually quite nice. Should be easy  
> enough to
>   implement more functionality.
>
> As long as the preprocessor stays LL(1) it should be possible to fold  
> the
> tokenstream multiplexor and #include handling into the preprocessor,  
> giving
> a pretty nice layered design. Although sinning against the no feedback  
> from
> parser to lexer mantra.
>
> Releasing this stuff now since I probably won't have much time to make  
> it a
> real release. So tinker with it at your own risk. It needs a cleanup.  
> It
> contains old code from David's #line handling which I did not prune and
> probably there's some more virtual corpses in various virtual closets..
>
> It could be an idea to pass newlines on to the preprocessor. This would
> require some more tinkering. It might become necessary to let the
> preprocessor patch the line numbers from outgoing tokens.
>
> The result of the few days hacking can be found here:
>
> http://wwwhome.cs.utwente.nl/~klaren/antlr/CPPParser.tar.bz2
>
> This is basically released for the sake of releasing it. It's not a
> finished product, more a proof of concept. I probably don't have time  
> to
> wrap it up into something presentable soon, so that's why I release it.
>
> Cheers,
>
> Ric
> --
> ----- 
> +++++*****************************************************+++++++++---- 
> ---
>     ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755   
> ----
> ----- 
> +++++*****************************************************+++++++++---- 
> ---
>   Wo das Chaos auf die Ordnung trifft, gewinnt meist das Chaos, weil es
>   besser organisiert ist. --- Friedrich Nietzsche
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit --  
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Fri Jun 11 06:10:25 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Updated C++ parser
In-Reply-To: <D9CAA5A5-BB56-11D8-99FF-000393B5606C@codetransform.com>
References: <20040610162608.GA872@cs.utwente.nl> <D9CAA5A5-BB56-11D8-99FF-000393B5606C@codetransform.com>
Message-ID: <20040611131025.GA14347@cs.utwente.nl>

On Thu, Jun 10, 2004 at 08:24:30PM -0700, Monty Zukowski wrote:
> Thanks for releasing it!  Will make for good discussion at the ANTLR  
> Revival.

The preproc.g file contains a load pretty extensive comments about 'funny'
stuff I encountered. Especially the exception handling between the
different layers can lead to pretty strange things. It looks like throwing
recognition exceptions from the filter is not advisable (at least it could
lead the inputbuffer of the actual C++ parser in a bad state, I did not
completely diagnose this yet, it was an interaction between the inputbuffer
stuff and default errorhandlers (the consumeUntil fried stuff by reading
from an empty tokenbuffer))

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  There are 10 kinds of people - those that understand binary and
  those that don't. --- Unknown



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Anthony.Youngman at ECA-International.com  Fri Jun 11 07:52:58 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Installing C++ Antlr
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF4D@lnml1.eca-international.local>

I've just downloaded 2.7.4 and am trying to install it.

I've untarred it, done the configure, and run make. It falls over :-(

It's gone into lib/cpp/src and successfully compiled ANTLRUtil.o. But
when it goes to compile ASTFActory.o, I get the error

ASTFactory.cpp:15: istream: No such file or directory

This is SuSE 7.1 I think (probably ought to upgrade it!). And while I
compile C stuff a fair bit, this is my first attempt at anything C++.
Any idea what the problem is?

Cheers,
Wol


****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Fri Jun 11 08:30:00 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Installing C++ Antlr
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409AF4D@lnml1.eca-international.local>
References: <C7FE35004D40FD45AA342991B88CE40409AF4D@lnml1.eca-international.local>
Message-ID: <20040611153000.GB14347@cs.utwente.nl>

On Fri, Jun 11, 2004 at 03:52:58PM +0100, Anthony Youngman wrote:
> ASTFactory.cpp:15: istream: No such file or directory

Smells like a very old gcc. The problem is that it probably only has
istream.h and not the standard compliant istream include usually one can
work around this by symlinking the file x.h to x.

Another workaround is to grab a newer gcc and use that one for the complete
project (mixing C++ code of different gcc's is usually a bad idea due to a
load of ABI changes). If this suse still has 2.95.2/3 as compiler than
you'll love gcc 3 since it has a lot better error messages.

The latest 3.3 release gcc is a good one. 3.4 also does well but has more
trouble with 'old' code. (also error messages are a bit wackier, mostly I
guess due to the new frontend for C++ compiling is my guess)

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Chaos always defeats order because it is better organized.
  --- Terry Pratchet



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From atripp at comcast.net  Fri Jun 11 08:47:05 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Re: Software Transformation Systems Workshop
In-Reply-To: <61812749-AF49-11D8-8352-000393B5606C@codetransform.com>
Message-ID: <cack5p+ac1e@eGroups.com>

--- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> wrote:
> Hi folks,
> 
> 	I'm writing a position paper for this conference about real-world 
> translation projects.  I get lots of inquiries about doing such 
> projects, so I've learned a bit about what people think they can and 
> can't do, etc.  But I could use more tales too, so---
> 
> Anyone do a real translator with ANTLR out there?
> 
> Anyone consider it but decided against it?

I've written a C-to-Java translator called "Jazillian".
It will be going live "any day now".
See http://www.jazillian.com

No C++ yet, just C.

I initially tried AST-to-AST transformation, but found it
too cumbersome. I now use your C grammar for lexing, but
not parsing (although I do use it for some expression parsing).
The choice here was a big design decision between walking
a C AST and generating a Java AST from it vs. doing a high-level
pattern-matching scheme. You can find more details on my website.

I may try to write up more details on my approach, maybe
even submit it to this conference. Not a day goes by that
I don't wonder which approach is better.

Andy

> 
> For instance, Larry White recently posted asking about doing C++ to 
> Java translation.  In the end he and his comrades decided that the easy 
> stuff to translate was trivial, the hard stuff was too hard to 
> automate, and they decided to do it by hand.
> 
> Thanks for any responses!
> 
> Monty Zukowski
> 
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit -- 
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
> 
> 
> On May 26, 2004, at 10:14 AM, Terence Parr wrote:
> 
> > Hi Gang,
> >
> > Co-located with OOPSLA this year (October in Vancouver I believe), is
> > the  Generative Programming and Component Engineering (GPCE'04)
> > conference.  Within that is a workshop:  Software Transformation
> > Systems Workshop:
> >
> > http://www.program-transformation.org/Gpce/STS/
> >
> >  From the website:
> >
> > "The workshop will have a small number of participants, around 20,
> > selected on the basis of short position papers submitted to the
> > organisers. The aim is to let people with different perspectives meet
> > in order to allow fruitful interaction. The workshop will start with
> > short presentations of the background of the participants. Then
pointed
> > presentations of the various generative techniques, followed up with
> > discussions on how software transformation systems may aid in
> > supporting the techniques. If the discussions converge, a small
> > collection of joint papers may be written as a result of the
workshop."
> >
> > I will be there for sure.
> >
> > Also, don't forget we'll be settling on an ANTLR workshop date
(here in
> > San Francisco) fairly soon.
> >
> > Ter
> > --
> > Professor Comp. Sci., University of San Francisco
> > Creator, ANTLR Parser Generator, http://www.antlr.org
> > Cofounder, http://www.jguru.com
> > Cofounder, http://www.knowspam.net enjoy email again!
> > Cofounder, http://www.peerscope.com pure link sharing
> >



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From markl at glyphic.com  Fri Jun 11 15:37:01 2004
From: markl at glyphic.com (Mark Lentczner)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] 2004 Dr. T's Traveling Parsing Revival and Beer Tasting Festival
In-Reply-To: <9418A6B0-A446-11D8-AD9F-000A95891192@cs.usfca.edu>
References: <0B519B1F-A152-11D8-81A2-000A95891192@cs.usfca.edu> <20040512094450.GA26266@cs.utwente.nl> <9418A6B0-A446-11D8-AD9F-000A95891192@cs.usfca.edu>
Message-ID: <DB2BC696-BBF7-11D8-9B40-000393A56BB6@glyphic.com>

Summer's upon us and enquiring minds want to schedule....

Do we have proposed dates and times for the revival?

	- Mark



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From lgc at mail1.jpl.nasa.gov  Fri Jun 11 16:57:39 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Re: 2004 Dr. T's Traveling Parsing Revival and Beer Tasting Festival
In-Reply-To: <DB2BC696-BBF7-11D8-9B40-000393A56BB6@glyphic.com>
Message-ID: <cadgtj+q3el@eGroups.com>

The latest from Ter is Oct. 7-8.  That may change, but expect it to be
some time in the fall.

--Loring


--- In antlr-interest@yahoogroups.com, Mark Lentczner <markl@g...> wrote:
> Summer's upon us and enquiring minds want to schedule....
> 
> Do we have proposed dates and times for the revival?
> 
> 	- Mark



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Matthew.Ford at forward.com.au  Fri Jun 11 18:59:42 2004
From: Matthew.Ford at forward.com.au (matthew ford)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Re: Software Transformation Systems Workshop
References: <cack5p+ac1e@eGroups.com>
Message-ID: <000701c45020$edcc20d0$0400a8c0@NOTEBOOK>

Hi Monty,

I have written an Algorithmic Differentiation program for GAUSS
(www.aptech.com  see below).
It uses Antlr to parse a GAUSS procedure and then three tree walkers to
translate and optimize the
Algorithmic derivative procedure.

Due to the limitations of AST tree creation syntax (see my previous posts on
a suggested revised syntax),
 most of the tree building (and rebuilding) is done by hand coded
proceedures, having used
the tree walker to identify a particular type of branch.

The parser is a little unusual because GAUSS changes to being white space
significant inside matrix
indexing expressions, [ .. ].

I have also used Antlr to build a translator between a user friendly
language and a time dependent (non-SQL) data base language.
(http://www.beaconit.com.au/Beacon_timeframe.htm).

As for other methods, I have built a number of translators by hand
previously (in C), for example
SimGauss uses a hand build translator to turn pseudo GAUSS code into
derivative procedures for the
integration procedures.
(http://www.forward.com.au/products/simgauss/index.htm and
http://www.aptech.com/AS_prodMF.html  see below)

If I was doing this again now, I would used Antlr because it is faster to
develope with and easier to maintain.

All my Antlr work is done in Java.
matthew

AD 1.0 (Algorithmic Derivatives)

The GAUSS AD 1.0 module is an application program for generating GAUSS
procedures for computing algorithmic derivatives. A major achievement of AD
is improved accuracy for optimization. Numerical derivatives invariably
produce a loss of precision. The loss of precision is greater for standard
errors than it is for estimates. At the default tolerance, Constrained
Maximum Likelihood (CML) and Maximum Likelihood (Maxlik) can be expected
generally to have four or five places of accuracy, whereas standard errors
will have about two places. Accuracy essentially doubles with AD.

For some types of optimization problems, convergence is accelerated.
Iterations are faster and fewer of them are needed to achieve convergence.
The types of problems that will see the most improvement are those with a
large amount of computation.


SimGauss v2.1
Nonlinear simulation
Forward Computing and Control Pty. Ltd.


A fully interactive nonlinear simulation module written in GAUSS, SimGauss
provides a fast and easy way to simulate nonlinear differential equations
and state-space systems, such as vehicle dynamics, biological systems and
economic models. The module features extensive user control. GAUSS's
Publication Quality Graphics provide exceptional ways to visualize your
results. Comprehensive documentation and on-line help complete the package.



The model simulation code is written in GAUSS. You can use GAUSS' high level
mathematical functions such as probability density functions, FFTs, matrix
inverse, eigenvalue/eigenvector and SVD functions to quickly simulate
complex models and control algorithms.




> --- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> wrote:
> > Hi folks,
> >
> > I'm writing a position paper for this conference about real-world
> > translation projects.  I get lots of inquiries about doing such
> > projects, so I've learned a bit about what people think they can and
> > can't do, etc.  But I could use more tales too, so---
> >
> > Anyone do a real translator with ANTLR out there?
> >
> > Anyone consider it but decided against it?

> >
> > For instance, Larry White recently posted asking about doing C++ to
> > Java translation.  In the end he and his comrades decided that the easy
> > stuff to translate was trivial, the hard stuff was too hard to
> > automate, and they decided to do it by hand.
> >
> > Thanks for any responses!
> >
> > Monty Zukowski
> >
> > ANTLR & Java Consultant -- http://www.codetransform.com
> > ANSI C/GCC transformation toolkit -- 
> > http://www.codetransform.com/gcc.html
> > Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
> >
> >
> > On May 26, 2004, at 10:14 AM, Terence Parr wrote:
> >
> > > Hi Gang,
> > >
> > > Co-located with OOPSLA this year (October in Vancouver I believe), is
> > > the  Generative Programming and Component Engineering (GPCE'04)
> > > conference.  Within that is a workshop:  Software Transformation
> > > Systems Workshop:
> > >
> > > http://www.program-transformation.org/Gpce/STS/
> > >
> > >  From the website:
> > >
> > > "The workshop will have a small number of participants, around 20,
> > > selected on the basis of short position papers submitted to the
> > > organisers. The aim is to let people with different perspectives meet
> > > in order to allow fruitful interaction. The workshop will start with
> > > short presentations of the background of the participants. Then
> pointed
> > > presentations of the various generative techniques, followed up with
> > > discussions on how software transformation systems may aid in
> > > supporting the techniques. If the discussions converge, a small
> > > collection of joint papers may be written as a result of the
> workshop."
> > >
> > > I will be there for sure.
> > >
> > > Also, don't forget we'll be settling on an ANTLR workshop date
> (here in
> > > San Francisco) fairly soon.
> > >
> > > Ter
> > > --
> > > Professor Comp. Sci., University of San Francisco
> > > Creator, ANTLR Parser Generator, http://www.antlr.org
> > > Cofounder, http://www.jguru.com
> > > Cofounder, http://www.knowspam.net enjoy email again!
> > > Cofounder, http://www.peerscope.com pure link sharing
> > >



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sat Jun 12 09:16:11 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] 2004 Dr. T's Traveling Parsing Revival and Beer Tasting Festival
In-Reply-To: <DB2BC696-BBF7-11D8-9B40-000393A56BB6@glyphic.com>
References: <0B519B1F-A152-11D8-81A2-000A95891192@cs.usfca.edu> <20040512094450.GA26266@cs.utwente.nl> <9418A6B0-A446-11D8-AD9F-000A95891192@cs.usfca.edu> <DB2BC696-BBF7-11D8-9B40-000393A56BB6@glyphic.com>
Message-ID: <D1B240F3-BC8B-11D8-88CB-000393BB647E@cs.usfca.edu>

Hi,

yep, i'm waiting to hear back from the university about parking etc...  
I am working on ACM "in cooperation status", which I will formally 
request on Monday after talking to the university of SF.  So, looks 
like we want to have it during the school year; better for lots of 
reasons including people won't be on vacation so much.  I'm thinking 
Oct 7-8 Th/Fr.

Terence

On Jun 11, 2004, at 3:37 PM, Mark Lentczner wrote:

> Summer's upon us and enquiring minds want to schedule....
>
> Do we have proposed dates and times for the revival?
>
> 	- Mark





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sun Jun 13 14:32:58 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] alternative prediction mechanism for 3.0
Message-ID: <3D83CE9A-BD81-11D8-BE22-000A95891192@cs.usfca.edu>

Howdy,

Concerning the new parsers and lexers generated by ANTLR 3.0, I'm 
trying to decide how to encode the prediction DFAs.  If you have an 
opinion on what the generated parsers/lexers should look like, please 
take a quick look at the latest code gen blog entry:

http://www.antlr.org/blog/antlr3/codegen.tml

and let me know what you think.

Thanks,
Terence
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Sun Jun 13 15:19:45 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:56 2004
Subject: New antlr-interest member
Message-ID: <1087165185.160.81337.w87@yahoogroups.com>


Hello,

This is an automated email message to let you know that
jpsc986_hj <jpsc986_hj@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From monty at codetransform.com  Sun Jun 13 20:57:52 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] alternative prediction mechanism for 3.0
In-Reply-To: <3D83CE9A-BD81-11D8-BE22-000A95891192@cs.usfca.edu>
References: <3D83CE9A-BD81-11D8-BE22-000A95891192@cs.usfca.edu>
Message-ID: <0269666C-BDB7-11D8-80D0-000393B5606C@codetransform.com>

> My main question revolves around readability. One of the big draws of 
> ANTLR is its readability and I don't want to screw that up. One could 
> argue that just the notion of a DFA is less readable, but from my own 
> experience the key is being able to watch the parser route control 
> flow in the debugger--not necessarily verifying the prediction 
> expressions. In fact, the expressions are often references to sets 
> that are totally opaque to the programmer.

I tend to agree, though I also routinely turn the bitsets off during 
development so that I can see what the lookahead decisions are.  If I 
could see a comment that tells me exactly what the DFA is doing there 
then I'd be happy.

Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Sun Jun 13 21:22:47 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:56 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1087186967.636.77347.m11@yahoogroups.com>


Hello,

This is an automated email message to let you know that
rajakswamy <rajakswamy@yahoo.co.in> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From Anthony.Youngman at ECA-International.com  Sun Jun 13 23:58:06 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Installing C++ Antlr
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF4F@lnml1.eca-international.local>

Thanks. I was worried that might be it :-(

So I've got to update my system to 9.1 (that implies 7.2 is about 2-3
years old - I can't remember).

Oh well, I was hoping to avoid that.

Cheers,
Wol

-----Original Message-----
From: Ric Klaren [mailto:klaren@cs.utwente.nl] 
Sent: 11 June 2004 16:30
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] Installing C++ Antlr

On Fri, Jun 11, 2004 at 03:52:58PM +0100, Anthony Youngman wrote:
> ASTFactory.cpp:15: istream: No such file or directory

Smells like a very old gcc. The problem is that it probably only has
istream.h and not the standard compliant istream include usually one can
work around this by symlinking the file x.h to x.

Another workaround is to grab a newer gcc and use that one for the
complete
project (mixing C++ code of different gcc's is usually a bad idea due to
a
load of ABI changes). If this suse still has 2.95.2/3 as compiler than
you'll love gcc 3 since it has a lot better error messages.

The latest 3.3 release gcc is a good one. 3.4 also does well but has
more
trouble with 'old' code. (also error messages are a bit wackier, mostly
I
guess due to the new frontend for C++ compiling is my guess)

Cheers,

Ric
--
-----+++++*****************************************************+++++++++
-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++
-------
  Chaos always defeats order because it is better organized.
  --- Terry Pratchet



 
Yahoo! Groups Links



 



****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From antlr-interest at yahoogroups.com  Mon Jun 14 03:09:20 2004
From: antlr-interest at yahoogroups.com (antlr-interest@yahoogroups.com)
Date: Mon Dec 20 16:16:56 2004
Subject: Mail Delivery (failure parrt@jguru.com)
Message-ID: <20040614104017.2F9EE1CF6CF@lobby.jguru.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: audio/x-wav
Size: 29568 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040614/01185476/attachment.wav
From klaren at cs.utwente.nl  Mon Jun 14 04:01:03 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] alternative prediction mechanism for 3.0
In-Reply-To: <3D83CE9A-BD81-11D8-BE22-000A95891192@cs.usfca.edu>
References: <3D83CE9A-BD81-11D8-BE22-000A95891192@cs.usfca.edu>
Message-ID: <20040614110102.GA24525@cs.utwente.nl>

Hi,

On Sun, Jun 13, 2004 at 02:32:58PM -0700, Terence Parr wrote:
> Concerning the new parsers and lexers generated by ANTLR 3.0, I'm
> trying to decide how to encode the prediction DFAs.  If you have an
> opinion on what the generated parsers/lexers should look like, please
> take a quick look at the latest code gen blog entry:
>
> http://www.antlr.org/blog/antlr3/codegen.tml

> DFA decision = dfaFactory.get("...DFA description...");

You mean to have a 'high' level ASCII DFA specification of
states/transitions etc. between the ".." or just an id for that specific
DFA?

Why not encode the DFA in static tables (that can be 'run' directly without
first processing them)? There's lot's of ways to do that if I recall right.
It also offers the possibility to dump the tables in separate class files
(if size becomes an issue). (I'm always a bit itchy when people suggest
building stuff on the run, when at first glance it looks like something
you'd put in static tables)

a) it's faster

b) it gives more consistent runtime behavior (some input will parse fast,
	some input will parse slow depending on if it takes a worst case path
	through the generated parser).

c) The runtime memory usage pattern will be more predictable (this can be
	very important for people wanting to use antlr in embedded
	environments). Ok you could generate code to calculate the DFA's at
	parser instantiation.

The DFA will do a 'highlevel' choice anyway (as I understood it). Much like
a bitset.isMember(LA(x)) in the current codegen. As long as there's a way
to see what the DFA does I'm happy, being it a comment or some form of
tracing. (heck put a piece of .dot input (AT&T graphviz) in a comment for
the DFA) Or put an extra textfield in the dfa table that gets printed in
trace mode. Or combine the two: put .dot input near the table and put in
the table the necessary curses to make dot recolor the DFA previously
generated. So you can even see what the DFA does at runtime, this would be
a near trivial bit of code in Tcl/Tk.

Another point is that these DFA's get generated by ANTLR. The average ANTLR
user will probably not want to look inside these DFA's anyway. Looking into
a bitset is different from looking into a DFA. Also putting a clear
description of the automaton in a comment is probably a lot more helpfull
then a somewhat obscure though human 'readable' format in a text string. A
plain table with transitions is a lot harder to grok than something that
dot spits out for one (even if you have to run an external program to get a
nice picture).

> ..
> but the more complicated DFAs should be handled not with
> hard-coded DFAs but with DFAs dynamically created from simple
> Human-readable descriptions.
> ..

For some reason this statement really itches me. Ok I got it out of context
but even in context. I recall statements about making antlr 3 a speed
freak. This is kindoff orthogonal to that. Ok it will probably be not that
bad with caching of the generated automata but anyway ;)

To sum up let's keep the generated code readable but within reason. At
least that would be what I'd do personally.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Xander: "Buffy, we need to do something *now*"
  Angel: "We need a distraction."
  Buffy: "Right."
  Angel: "What are you going to do?"
  Buffy: "I'm going to kill them all. That oughtta distract 'em..."



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Mon Jun 14 08:47:55 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:56 2004
Subject: New antlr-interest member
Message-ID: <1087228075.189.88416.w8@yahoogroups.com>


Hello,

This is an automated email message to let you know that
kdaling71 <kdaling@uos.de> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Mon Jun 14 09:12:37 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:56 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1087229557.919.36200.m16@yahoogroups.com>


Hello,

This is an automated email message to let you know that
robvanderleek <robvanderleek@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Mon Jun 14 12:40:01 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] ANTLR 3.0 code gen using static DFA objects
Message-ID: <A07311A4-BE3A-11D8-BE22-000A95891192@cs.usfca.edu>

After getting slapped by Loring yesterday and Ric today, I have added a 
new code gen blog entry

http://www.antlr.org/blog/antlr3/codegen.tml

that shows a (working) example using static objects that is more 
satisfying. :)

The singleton DFA object I demonstrate aren't thread safe in that the 
alt instance variable would get clobbered by multiple threads...i 
believe I could remove that restriction and keep the 
static/singleton-ness of them.

Terence
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From lgc at mail1.jpl.nasa.gov  Mon Jun 14 13:19:47 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Re: ANTLR 3.0 code gen using static DFA objects
In-Reply-To: <A07311A4-BE3A-11D8-BE22-000A95891192@cs.usfca.edu>
Message-ID: <cal193+udas@eGroups.com>

--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
> After getting slapped by Loring yesterday and Ric today, I have added a 

Hey!  Both Ric and I are non-violent sorts.  We just have no
compunctions about expressing technical opinions!

--Loring

> new code gen blog entry
> 
> http://www.antlr.org/blog/antlr3/codegen.tml
> 
> that shows a (working) example using static objects that is more 
> satisfying. :)
> 
> The singleton DFA object I demonstrate aren't thread safe in that the 
> alt instance variable would get clobbered by multiple threads...i 
> believe I could remove that restriction and keep the 
> static/singleton-ness of them.
> 
> Terence
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Mon Jun 14 19:17:58 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:56 2004
Subject: New antlr-interest member
Message-ID: <1087265878.100.40552.w29@yahoogroups.com>


Hello,

This is an automated email message to let you know that
dldavid58 <dldavid58@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From antlr-interest at yahoogroups.com  Tue Jun 15 00:18:13 2004
From: antlr-interest at yahoogroups.com (antlr-interest@yahoogroups.com)
Date: Mon Dec 20 16:16:56 2004
Subject: Mail Delivery (failure parrt@jguru.com)
Message-ID: <20040615075344.69B001CF9E8@lobby.jguru.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: audio/x-wav
Size: 29568 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040615/0b2e5453/attachment.wav
From notify at yahoogroups.com  Tue Jun 15 02:16:05 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:56 2004
Subject: New antlr-interest member
Message-ID: <1087290965.84.75073.w70@yahoogroups.com>


Hello,

This is an automated email message to let you know that
rogerbeardsworth <rogerbeardsworth@yahoo.co.uk> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Tue Jun 15 05:06:37 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:56 2004
Subject: New antlr-interest member
Message-ID: <1087301197.68.1069.w65@yahoogroups.com>


Hello,

This is an automated email message to let you know that
r.e.j.degroot@student.utwente.nl joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From r.e.j.degroot at student.utwente.nl  Tue Jun 15 05:30:25 2004
From: r.e.j.degroot at student.utwente.nl (Jogchem de Groot)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Problem with keeping data associated with AST nodes in antlr transform
 mode
Message-ID: <40CEEBE1.5090908@student.utwente.nl>

Good afternoon,

I'm working on a translater using ANTLR which uses several
transformation phases (implemented
as tree walkers). Frequently i'd like to associate data with AST nodes
in the transformation phases
which can be used in later phases.

The problem is that data i associate with some AST does keep associated
with the equivalent AST nodes
in the resulting transformed AST. I looked a little into the problem at
it seems to me that ANTLR
generates AST generation code which constructs the new AST just after
the nodes have been matched.
So even though you can create your own initialize() methode in your own
AST node class, which can copy
all extended data fields from an existing AST node in a new AST node,
this wont have any effect as
updates done the old AST node will not be reflected in the new AST node.

For example:

#(b:blah) { b.setData(data); }

This will associate 'data' with the old AST node (b), but not with the
newly generated equivalent AST node for
the transformed tree, because that AST node has been constructed before
the 'b.setData(..)' code has executed.

Is there anyway to get around this problem?

Thanks in advance!

Regards,
    Jogchem






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Tue Jun 15 08:51:42 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:56 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1087314702.233.17041.w21@yahoogroups.com>


Hello,

This is an automated email message to let you know that
mahesh_monu <mahesh_monu@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From tineo at ac.uma.es  Tue Jun 15 09:28:06 2004
From: tineo at ac.uma.es (Adrian Tineo)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Problem with keeping data associated with AST nodes in antlr transform mode
In-Reply-To: <40CEEBE1.5090908@student.utwente.nl>
References: <40CEEBE1.5090908@student.utwente.nl>
Message-ID: <200406151828.06468.tineo@ac.uma.es>

I think you need to have your own factory subclassed from ASTFactory 
overriding the create() and make() methods. Then in your main class you would 
do:

parser.setASTNodeClass(package.Class);

Check http://www.antlr.org/doc/trees.html#_bb11

Adrian Tineo


El Martes, 15 de Junio de 2004 14:30, Jogchem de Groot escribi?:
> Good afternoon,
>
> I'm working on a translater using ANTLR which uses several
> transformation phases (implemented
> as tree walkers). Frequently i'd like to associate data with AST nodes
> in the transformation phases
> which can be used in later phases.
>
> The problem is that data i associate with some AST does keep associated
> with the equivalent AST nodes
> in the resulting transformed AST. I looked a little into the problem at
> it seems to me that ANTLR
> generates AST generation code which constructs the new AST just after
> the nodes have been matched.
> So even though you can create your own initialize() methode in your own
> AST node class, which can copy
> all extended data fields from an existing AST node in a new AST node,
> this wont have any effect as
> updates done the old AST node will not be reflected in the new AST node.
>
> For example:
>
> #(b:blah) { b.setData(data); }
>
> This will associate 'data' with the old AST node (b), but not with the
> newly generated equivalent AST node for
> the transformed tree, because that AST node has been constructed before
> the 'b.setData(..)' code has executed.
>
> Is there anyway to get around this problem?
>
> Thanks in advance!
>
> Regards,
>     Jogchem
>
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From r.e.j.degroot at student.utwente.nl  Tue Jun 15 10:14:54 2004
From: r.e.j.degroot at student.utwente.nl (Jogchem de Groot)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Problem with keeping data associated with AST
 nodes in antlr transform mode
In-Reply-To: <200406151828.06468.tineo@ac.uma.es>
References: <40CEEBE1.5090908@student.utwente.nl> <200406151828.06468.tineo@ac.uma.es>
Message-ID: <40CF2E8E.5040305@student.utwente.nl>

Hello,

I dont think that is the solution as the current factory is "good 
enough". The new AST
nodes are created from the old nodes with the ASTFactory.create(AST tr) 
method
which has the following code:

    public AST create(AST tr) {
        if (tr == null) return null;            // create(null) == null
        AST t = create(tr.getType());
                if ( t!=null ) {
                        t.initialize(tr);
                }
        return t;
    }

As you can see it calls an initialize method on the newly allocated AST 
which allows it
to initialize itself from an old AST. (My initialize() method copies all 
the data members
associated with an AST over to itself).

The problem is the timeline in which this happens, given the rule i 
showed before:

#(b:blah) { b.setData(data); }

Very roughly, this will first match the 'blah' node, after this matched 
it will create
a new new AST node for the transformed AST. It will use the older AST 
node (b)
for this. And only after that, it will call setData() on the old b AST 
node. In psuedocode:

<First>
b = match(blah)
AST new_b = ASTFactory.create(b);
astFactory.addASTChild(currentAST, new_b);
...
b.setData(data);
<End>

I hope this gives some more insight on the problem.

Regards,
    Jogchem


Adrian Tineo wrote:

>I think you need to have your own factory subclassed from ASTFactory 
>overriding the create() and make() methods. Then in your main class you would 
>do:
>
>parser.setASTNodeClass(package.Class);
>
>Check http://www.antlr.org/doc/trees.html#_bb11
>
>Adrian Tineo
>  
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jun 15 10:55:14 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Problem with keeping data associated with AST nodes in antlr transform mode
In-Reply-To: <40CF2E8E.5040305@student.utwente.nl>
References: <40CEEBE1.5090908@student.utwente.nl> <200406151828.06468.tineo@ac.uma.es> <40CF2E8E.5040305@student.utwente.nl>
Message-ID: <276E16A3-BEF5-11D8-BE22-000A95891192@cs.usfca.edu>

Hi,

Fortunately, there is an easy answer!  You need to refer to the tree 
created by antlr not the "input" tree.  Use #b.setData(data) and your 
whole world looks better. :)  The key diff is:

			b_AST.setType(VAR);

vs

			b.setType(VAR);

when you use #b vs b.  #b operates like it does in a regular parser: it 
refers to the output tree.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From gluon at earthlink.net  Tue Jun 15 12:41:23 2004
From: gluon at earthlink.net (eric_2074)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] ParseView for C#
Message-ID: <canjd3+cudk@eGroups.com>

First, is/has anyone attempted to convert ParseView to C#?

If not, how do I get in touch with Micheal Jordan, Kunle Odutola and 
Anthony Oguntimehin concerning the C# runtime, to discuss some 
changes I have made to the runtime with regards to converting 
ParseView?

I don't have a complete version yet, for some reason, the trees are 
not displaying. Could be missing events, my conversion of the tree  
control, or something else. 

Thanks

Eric




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Tue Jun 15 13:50:13 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:56 2004
Subject: New antlr-interest member
Message-ID: <1087332613.80.3379.w53@yahoogroups.com>


Hello,

This is an automated email message to let you know that
gregphaling <gregphaling@comcast.net> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From open.zone at virgin.net  Wed Jun 16 01:22:00 2004
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:16:56 2004
Subject: [antlr-interest] Re: ParseView for C#
In-Reply-To: <canjd3+cudk@eGroups.com>
Message-ID: <caovv8+5avh@eGroups.com>

--- In antlr-interest@yahoogroups.com, "eric_2074" <gluon@e...> wrote:
> First, is/has anyone attempted to convert ParseView to C#?
> 
> If not, how do I get in touch with Micheal Jordan, Kunle Odutola and 
> Anthony Oguntimehin concerning the C# runtime, to discuss some 
> changes I have made to the runtime with regards to converting 
> ParseView?

You just did ;-)

> I don't have a complete version yet, for some reason, the trees are 
> not displaying. Could be missing events, my conversion of the tree  
> control, or something else. 

What kind of help (if any) do you need?

Cheers,

Micheal




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Wed Jun 16 02:18:34 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:57 2004
Subject: New antlr-interest member
Message-ID: <1087377514.83.21597.w44@yahoogroups.com>


Hello,

This is an automated email message to let you know that
tcurdt <tcurdt@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From klaren at cs.utwente.nl  Wed Jun 16 04:45:08 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] Bug with HTML output
In-Reply-To: <20040610185523.GA18700@mtu.net>
References: <20040610185523.GA18700@mtu.net>
Message-ID: <20040616114508.GB27337@cs.utwente.nl>

On Thu, Jun 10, 2004 at 02:55:23PM -0400, Jon Schewe wrote:
> I just tried out the -html flag to ANTLR in version 2.7.4 and I think
> that's pretty cool.  One problem I do have is that it puts a txt
> extension on the output file created for the Lexer when the Lexer and
> Recognizer are in the same input file.

Thanks for the report! Apply the following to fix it:

==== //depot/code/org.antlr/main/main/antlr/HTMLCodeGenerator.java#14 - /home/fmg/klaren/Antlr/code/org.antlr/main/main/antlr/HTMLCodeGenerator.java ====
--- /tmp/tmp.28401.0    2004-06-16 13:44:31.000000000 +0200
+++ /home/fmg/klaren/Antlr/code/org.antlr/main/main/antlr/HTMLCodeGenerator.java2004-06-16 13:43:24.000000000 +0200
@@ -135,8 +135,8 @@ public class HTMLCodeGenerator extends C
     /** Generate the lexer HTML file */
     public void gen(LexerGrammar g) throws IOException {
         setGrammar(g);
-        antlrTool.reportProgress("Generating " + grammar.getClassName() + TokenTypesFileExt);
-        currentOutput = antlrTool.openOutputFile(grammar.getClassName() + TokenTypesFileExt);
+        antlrTool.reportProgress("Generating " + grammar.getClassName() + ".html");
+        currentOutput = antlrTool.openOutputFile(grammar.getClassName() + ".html");
         //SAS: changed for proper text file io
 
         tabs = 0;

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Chaos always defeats order because it is better organized.
  --- Terry Pratchet



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From tcurdt at yahoo.com  Wed Jun 16 02:46:36 2004
From: tcurdt at yahoo.com (tcurdt)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] token context information
Message-ID: <cap4ts+nd8q@eGroups.com>

This is maybe a pretty general question but...

I've run into the following problem. I have
a file with key value pairs like this:

 key1 : value1
 key2 : value2


Now what I'd like have is a token stream
of

 KEY COLON VALUE
 KEY COLON VALUE

but the KEY and the VALUE tokens are pretty
much the same. Except that the KEY token is
more restricted on particular chars. So the
only way I got this working was to have it

 LITERAL COLON LITERAL
 LITERAL COLON LITERAL

Which is bad and gives me some headaches due
to the character restrictions in the key.

If the lexer would have the context information
as the parser has he would "know" that after
COLON there is supposed to be a VALUE and only
needs to test that. But I don't know how to do
that with a grammar.

I also tried with fixed KEY tokens. So all
KEYs are known by the grammar. But as soon
as I write:

key1 : key1

The lexer recognizes the KEY1 token twice

 KEY1 COLON KEY1

But I still wanna have

 KEY1 COLON VALUE

What am I missing here?
Any pointers appreciated!

TIA
--
Torsten




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jun 16 09:28:07 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] token context information
In-Reply-To: <cap4ts+nd8q@eGroups.com>
References: <cap4ts+nd8q@eGroups.com>
Message-ID: <264E55B0-BFB2-11D8-A078-000393B5606C@codetransform.com>

Look at "lexical states" in the documentation.  
http://www.antlr.org/doc/lexer.html#Lexical_States

Monty

On Jun 16, 2004, at 2:46 AM, tcurdt wrote:

> This is maybe a pretty general question but...
>
> I've run into the following problem. I have
> a file with key value pairs like this:
>
>  key1 : value1
>  key2 : value2
>
>
> Now what I'd like have is a token stream
> of
>
>  KEY COLON VALUE
>  KEY COLON VALUE
>
> but the KEY and the VALUE tokens are pretty
> much the same. Except that the KEY token is
> more restricted on particular chars. So the
> only way I got this working was to have it
>
>  LITERAL COLON LITERAL
>  LITERAL COLON LITERAL
>
> Which is bad and gives me some headaches due
> to the character restrictions in the key.
>
> If the lexer would have the context information
> as the parser has he would "know" that after
> COLON there is supposed to be a VALUE and only
> needs to test that. But I don't know how to do
> that with a grammar.
>
> I also tried with fixed KEY tokens. So all
> KEYs are known by the grammar. But as soon
> as I write:
>
> key1 : key1
>
> The lexer recognizes the KEY1 token twice
>
>  KEY1 COLON KEY1
>
> But I still wanna have
>
>  KEY1 COLON VALUE
>
> What am I missing here?
> Any pointers appreciated!
>
> TIA
> --
> Torsten
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jun 17 02:21:15 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:57 2004
Subject: New antlr-interest member
Message-ID: <1087464075.82.64535.w37@yahoogroups.com>


Hello,

This is an automated email message to let you know that
jay_ayliff <jay_ayliff@compuserve.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Thu Jun 17 03:10:23 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:57 2004
Subject: New antlr-interest member
Message-ID: <1087467023.429.39692.m18@yahoogroups.com>


Hello,

This is an automated email message to let you know that
gcpa-antlr-interest@m.gmane.org joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From jay_ayliff at compuserve.com  Thu Jun 17 02:35:33 2004
From: jay_ayliff at compuserve.com (jay_ayliff)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] Re: How to use antlr
In-Reply-To: <c76ucg+ecei@eGroups.com>
Message-ID: <carol5+bf4b@eGroups.com>

Hi Brad,

I too am a bit confused about what ANTLR actually is and does. The 
docs say it "does" C# as well as Java. But is it still a Java app? 

What I want to do is end up with C# that will help me analyse and 
parse Cach? Objectscript (descendant of MUMPS). Am I right in 
thinking I need to:
a) Create a grammar file (.G) for Cach? ObjectScript,
b) Give that file to the ANTLR Java program
c) ANTLR Java program gives me back some C# files (.CS) - the ones 
that are missing from the sample solution that came with the 
download.
d) I create a .NET application incorporating those files,
e) That application will analyse and parse the Cach? Objectscript.

If not, then what? 

Still confused,

Jay Ayliff




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From clocKwize at blueyonder.co.uk  Thu Jun 17 03:39:53 2004
From: clocKwize at blueyonder.co.uk (clocKwize)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] Re: How to use antlr
In-Reply-To: <carol5+bf4b@eGroups.com>
Message-ID: <ECOWS02MkWUl5GC2Q7x00016025@smtp-out2.blueyonder.co.uk>

That?s right, looking in the getting started section of the website, I think
there is probably something that will help with c#, though I personally
don't use it.

-----Original Message-----
From: jay_ayliff [mailto:jay_ayliff@compuserve.com] 
Sent: 17 June 2004 10:36
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: How to use antlr

Hi Brad,

I too am a bit confused about what ANTLR actually is and does. The 
docs say it "does" C# as well as Java. But is it still a Java app? 

What I want to do is end up with C# that will help me analyse and 
parse Cach? Objectscript (descendant of MUMPS). Am I right in 
thinking I need to:
a) Create a grammar file (.G) for Cach? ObjectScript,
b) Give that file to the ANTLR Java program
c) ANTLR Java program gives me back some C# files (.CS) - the ones 
that are missing from the sample solution that came with the 
download.
d) I create a .NET application incorporating those files,
e) That application will analyse and parse the Cach? Objectscript.

If not, then what? 

Still confused,

Jay Ayliff




 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From jay_ayliff at compuserve.com  Thu Jun 17 04:04:17 2004
From: jay_ayliff at compuserve.com (jay_ayliff)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] Re: How to use antlr
In-Reply-To: <ECOWS02MkWUl5GC2Q7x00016025@smtp-out2.blueyonder.co.uk>
Message-ID: <cartrh+41j1@eGroups.com>

Thanks for the clarification. If only I can get it to work. Just now 
I've spent three hours at the "Exception in thread "main" 
java.lang.NoClassDefFoundError: Antlr/Tool" ...hurdle, which appears 
to be some kind of initiation rite. 

ANTLR is in F:\antlr-2.7.3, and I've set my path environment 
variable to: 

%SystemRoot%\system32;%SystemRoot%;%SystemRoot%\system32
\WBEM;f:\antlr-2.7.3;f:\antlr-2.7.3/antlr.jar; 

But I still get the error when I run java antlr.Tool from the 
command line. I put a little .BAT file in the f:\antlr-2.7.3 folder 
and the command line finds that. Is there something wrong in the way 
I'm referring to the JAR file? 

Jay



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From pete.forman at westerngeco.com  Thu Jun 17 04:16:00 2004
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] Re: How to use antlr
In-Reply-To: <cartrh+41j1@eGroups.com>
References: <ECOWS02MkWUl5GC2Q7x00016025@smtp-out2.blueyonder.co.uk>
Message-ID: <5.1.1.1.2.20040617121330.03203e08@wgmail2.gatwick.eur.slb.com>

At 2004-06-17 11:04 +0000, jay_ayliff wrote:
>Thanks for the clarification. If only I can get it to work. Just now
>I've spent three hours at the "Exception in thread "main"
>java.lang.NoClassDefFoundError: Antlr/Tool" ...hurdle, which appears
>to be some kind of initiation rite.
>
>ANTLR is in F:\antlr-2.7.3, and I've set my path environment
>variable to:
>
>%SystemRoot%\system32;%SystemRoot%;%SystemRoot%\system32
>\WBEM;f:\antlr-2.7.3;f:\antlr-2.7.3/antlr.jar;
>
>But I still get the error when I run java antlr.Tool from the
>command line. I put a little .BAT file in the f:\antlr-2.7.3 folder
>and the command line finds that. Is there something wrong in the way
>I'm referring to the JAR file?

Yes, it needs to be in CLASSPATH rather than PATH.  (There are other
ways to do this.)

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Thu Jun 17 04:27:55 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] Re: How to use antlr
In-Reply-To: <cartrh+41j1@eGroups.com>
References: <ECOWS02MkWUl5GC2Q7x00016025@smtp-out2.blueyonder.co.uk> <cartrh+41j1@eGroups.com>
Message-ID: <20040617112754.GB6349@cs.utwente.nl>

On Thu, Jun 17, 2004 at 11:04:17AM -0000, jay_ayliff wrote:
> %SystemRoot%\system32;%SystemRoot%;%SystemRoot%\system32
> \WBEM;f:\antlr-2.7.3;f:\antlr-2.7.3/antlr.jar;

You need to add the jar file to the CLASSPATH variable. Or specify them on
the commandline to to the java program something like:

java -classpath f:\antlr-2.7.3/antlr.jar antlr.Tool yourfile.g

If your classpath already contains some packages you might have to use:

java -classpath %CLASSPATH%;f:\antlr-2.7.3/antlr.jar antlr.Tool yourfile.g

(Not 100% sure if -classpath is used on windows it might have a slightly
different name to make things easier... I also recall a -jar option that
might be near equivalent)

Another option if you want to get rid of the java part is to download a
binary gcj compiled version of the tool from the files section of antlr.org
(I'm not sure wether you need a working/partial gcj install next to the
binary though since I didn't make these binaries).

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Chaos often breeds life, when order breeds habit.
  --- Henry B. Adams, The Education of Henry Adams



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From clocKwize at blueyonder.co.uk  Thu Jun 17 04:47:56 2004
From: clocKwize at blueyonder.co.uk (clocKwize)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] Re: How to use antlr
In-Reply-To: <cartrh+41j1@eGroups.com>
Message-ID: <ECOWS05Mg2y81C1IcNE0000c8d4@smtp-out5.blueyonder.co.uk>

My enviroment variables:

CLASSPATH=C:\antlr-2.7.4\antlr.jar;C:\antlr-2.7.4
PATH=%SystemRoot%\system32;%SystemRoot%;%SystemRoot%\System32\Wbem;C:\antlr-
2.7.4

-----Original Message-----
From: jay_ayliff [mailto:jay_ayliff@compuserve.com] 
Sent: 17 June 2004 12:04
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: How to use antlr

Thanks for the clarification. If only I can get it to work. Just now 
I've spent three hours at the "Exception in thread "main" 
java.lang.NoClassDefFoundError: Antlr/Tool" ...hurdle, which appears 
to be some kind of initiation rite. 

ANTLR is in F:\antlr-2.7.3, and I've set my path environment 
variable to: 

%SystemRoot%\system32;%SystemRoot%;%SystemRoot%\system32
\WBEM;f:\antlr-2.7.3;f:\antlr-2.7.3/antlr.jar; 

But I still get the error when I run java antlr.Tool from the 
command line. I put a little .BAT file in the f:\antlr-2.7.3 folder 
and the command line finds that. Is there something wrong in the way 
I'm referring to the JAR file? 

Jay



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From jay_ayliff at compuserve.com  Thu Jun 17 06:04:22 2004
From: jay_ayliff at compuserve.com (jay_ayliff)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] Re: How to use antlr
In-Reply-To: <20040617112754.GB6349@cs.utwente.nl>
Message-ID: <cas4sm+hvd6@eGroups.com>

Ah, that did it. I thought CLASSPATH was a *NIX version of PATH. Now 
I find that the HTML.G file will compile, but when I run ANTLR 
against the csharp\java\java.g file I get this:

F:\antlr-2.7.3\examples\csharp\java>java antlr.Tool java.g
ANTLR Parser Generator   Version 2.7.3   1989-2004 jGuru.com
error: Token stream error reading grammar(s):
java.g:1627:17: unexpected char: ')'
java.g:1627:17: rule classDef trapped:
java.g:1627:17: expecting SEMI, found ')'
error: aborting grammar 'JavaRecognizer' due to errors
Exiting due to errors.

I've probably got enough to be going on with in the HTML.G file if 
there's no obvious answer to the JAVA.G.

Thanks for the help so far.

Regards

Jay Ayliff



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Thu Jun 17 06:16:43 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] Re: How to use antlr
In-Reply-To: <cas4sm+hvd6@eGroups.com>
References: <20040617112754.GB6349@cs.utwente.nl> <cas4sm+hvd6@eGroups.com>
Message-ID: <20040617131643.GC6349@cs.utwente.nl>

On Thu, Jun 17, 2004 at 01:04:22PM -0000, jay_ayliff wrote:
> Ah, that did it. I thought CLASSPATH was a *NIX version of PATH. Now 
> I find that the HTML.G file will compile, but when I run ANTLR 
> against the csharp\java\java.g file I get this:
> 
> F:\antlr-2.7.3\examples\csharp\java>java antlr.Tool java.g
> ANTLR Parser Generator   Version 2.7.3   1989-2004 jGuru.com
> error: Token stream error reading grammar(s):
> java.g:1627:17: unexpected char: ')'
> java.g:1627:17: rule classDef trapped:
> java.g:1627:17: expecting SEMI, found ')'
> error: aborting grammar 'JavaRecognizer' due to errors
> Exiting due to errors.

It might help to use the version of java.g and friends in the examples of
2.7.4 I think that should be the most current version. (Actually this is
not an error I'd expect from java.g)

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Chaos often breeds life, when order breeds habit.
  --- Henry B. Adams, The Education of Henry Adams



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From mbo.tech at spree.de  Thu Jun 17 08:42:27 2004
From: mbo.tech at spree.de (michaelbouschen)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] ant antlr task
Message-ID: <case53+q3v@eGroups.com>

Hi,

ant has an optional antlr task. I'm running ant 1.5.4 on RedHat Linux
3.0 and it cannot find the 'antlr' task. Any idea?

Regards Michael



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Thu Jun 17 08:52:05 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] ant antlr task
In-Reply-To: <case53+q3v@eGroups.com>
Message-ID: <000001c45483$0a1f2a00$03020a0a@starthis.com>

Hi Michael,

What do you mean by "cannot find antlr task"? I have a xml build file (ant
task) and one of my targets looks like this:

<target name="antlr">
    <antlr target="grammar.g" outputdirectory = "${src}" />
</target>

Where $src is my project folder. Are you getting an error with just the
antlr target or are you unable to run the whole ant task? 

Bharath.

-----Original Message-----
From: michaelbouschen [mailto:mbo.tech@spree.de] 
Sent: Thursday, June 17, 2004 10:42 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] ant antlr task


Hi,

ant has an optional antlr task. I'm running ant 1.5.4 on RedHat Linux 3.0
and it cannot find the 'antlr' task. Any idea?

Regards Michael



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From open.zone at virgin.net  Thu Jun 17 09:11:03 2004
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] Re: How to use antlr
In-Reply-To: <cas4sm+hvd6@eGroups.com>
Message-ID: <casfqn+u85f@eGroups.com>

--- In antlr-interest@yahoogroups.com, "jay_ayliff" <jay_ayliff@c...>
wrote:
> Ah, that did it. I thought CLASSPATH was a *NIX version of PATH. Now 
> I find that the HTML.G file will compile, but when I run ANTLR 
> against the csharp\java\java.g file I get this:
> 
> F:\antlr-2.7.3\examples\csharp\java>java antlr.Tool java.g
> ANTLR Parser Generator   Version 2.7.3   1989-2004 jGuru.com
> error: Token stream error reading grammar(s):
> java.g:1627:17: unexpected char: ')'
> java.g:1627:17: rule classDef trapped:
> java.g:1627:17: expecting SEMI, found ')'
> error: aborting grammar 'JavaRecognizer' due to errors
> Exiting due to errors.
> 
> I've probably got enough to be going on with in the HTML.G file if 
> there's no obvious answer to the JAVA.G.

The C# java.g supplied with the 'java grammar' example in v2.7.3 had
an extra semicolon on line 1627. You can either remove it or upgrade
and use ANTLR v2.7.4

Cheers,

Micheal




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From mbo.tech at spree.de  Thu Jun 17 09:31:59 2004
From: mbo.tech at spree.de (michaelbouschen)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] Re: ant antlr task
In-Reply-To: <000001c45483$0a1f2a00$03020a0a@starthis.com>
Message-ID: <cash1v+fnkh@eGroups.com>

Hi Bharath,

its a problem with the antlr task. The error message is:
build.xml:179: Could not create task or type of type: antlr.
Ant could not find the task or a class this task relies upon. 
...

Regards Michael

--- In antlr-interest@yahoogroups.com, "Bharath Sundararaman"
<bharath@s...> wrote:
> Hi Michael,
> 
> What do you mean by "cannot find antlr task"? I have a xml build
file (ant
> task) and one of my targets looks like this:
> 
> <target name="antlr">
>     <antlr target="grammar.g" outputdirectory = "${src}" />
> </target>
> 
> Where $src is my project folder. Are you getting an error with just
the
> antlr target or are you unable to run the whole ant task? 
> 
> Bharath.
> 
> -----Original Message-----
> From: michaelbouschen [mailto:mbo.tech@s...] 
> Sent: Thursday, June 17, 2004 10:42 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] ant antlr task
> 
> 
> Hi,
> 
> ant has an optional antlr task. I'm running ant 1.5.4 on RedHat
Linux 3.0
> and it cannot find the 'antlr' task. Any idea?
> 
> Regards Michael
> 
> 
> 
>  
> Yahoo! Groups Links



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jun 17 10:31:12 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:57 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1087493472.946.21184.w9@yahoogroups.com>


Hello,

This is an automated email message to let you know that
brainlessbill <brainlessbill@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From bharath at starthis.com  Thu Jun 17 11:55:47 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] Re: ant antlr task
In-Reply-To: <cash1v+fnkh@eGroups.com>
Message-ID: <000201c4549c$b403dd40$03020a0a@starthis.com>

Hi Michael,

Do you have antlr.jar on your classpath? I'm running ANTLR on Eclipse 3.0
(Open source IDE) and I had the same problem until I added it to the
classpath.

Good luck.

-----Original Message-----
From: michaelbouschen [mailto:mbo.tech@spree.de] 
Sent: Thursday, June 17, 2004 11:32 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: ant antlr task


Hi Bharath,

its a problem with the antlr task. The error message is:
build.xml:179: Could not create task or type of type: antlr. Ant could not
find the task or a class this task relies upon. 
...

Regards Michael

--- In antlr-interest@yahoogroups.com, "Bharath Sundararaman" <bharath@s...>
wrote:
> Hi Michael,
> 
> What do you mean by "cannot find antlr task"? I have a xml build
file (ant
> task) and one of my targets looks like this:
> 
> <target name="antlr">
>     <antlr target="grammar.g" outputdirectory = "${src}" /> </target>
> 
> Where $src is my project folder. Are you getting an error with just
the
> antlr target or are you unable to run the whole ant task?
> 
> Bharath.
> 
> -----Original Message-----
> From: michaelbouschen [mailto:mbo.tech@s...]
> Sent: Thursday, June 17, 2004 10:42 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] ant antlr task
> 
> 
> Hi,
> 
> ant has an optional antlr task. I'm running ant 1.5.4 on RedHat
Linux 3.0
> and it cannot find the 'antlr' task. Any idea?
> 
> Regards Michael
> 
> 
> 
>  
> Yahoo! Groups Links



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From antlr4 at mordent.com  Thu Jun 17 13:40:03 2004
From: antlr4 at mordent.com (mikemoretti)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] Re: ant antlr task
In-Reply-To: <000201c4549c$b403dd40$03020a0a@starthis.com>
Message-ID: <casvj3+jokl@eGroups.com>

You can also dump a copy of antlr.jar in your ant/lib directory 
(which is what I did to get it to work for me).

-mm

--- In antlr-interest@yahoogroups.com, "Bharath Sundararaman" 
<bharath@s...> wrote:
> Hi Michael,
> 
> Do you have antlr.jar on your classpath? I'm running ANTLR on 
Eclipse 3.0
> (Open source IDE) and I had the same problem until I added it to the
> classpath.
> 
> Good luck.
> 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From jay_ayliff at compuserve.com  Fri Jun 18 01:01:58 2004
From: jay_ayliff at compuserve.com (jay_ayliff)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] Re: How to use antlr
In-Reply-To: <casfqn+u85f@eGroups.com>
Message-ID: <cau7hm+rp55@eGroups.com>

Excellent!

I'll whip out that semicolon then.

One wonders how it got in there, and how no-one else noticed it 
before. Is C# such a minority interest that I'm the only one using 
it?

Jay



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Fri Jun 18 01:08:16 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:57 2004
Subject: New antlr-interest member
Message-ID: <1087546096.103.9181.w26@yahoogroups.com>


Hello,

This is an automated email message to let you know that
loboflyfree <loboflyfree@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From tcurdt at yahoo.com  Fri Jun 18 04:36:17 2004
From: tcurdt at yahoo.com (Mr Torsten Curdt)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] token context information
In-Reply-To: <264E55B0-BFB2-11D8-A078-000393B5606C@codetransform.com>
Message-ID: <20040618113617.45259.qmail@web90009.mail.scd.yahoo.com>

> Look at "lexical states" in the documentation.  
> http://www.antlr.org/doc/lexer.html#Lexical_States

Thanks for the pointer!

..but I am still figuring out how this could help.

It's all about: I have two tokens, both are almost
the same. The lexer will give me a warning because
they are ambiguous. Whether it is token A or token
B depends on the previous token.

I cannot see how to do that.

cheers
--
Torsten


	
		
__________________________________
Do you Yahoo!?
New and Improved Yahoo! Mail - 100MB free storage!
http://promotions.yahoo.com/new_mail 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From tcurdt at yahoo.com  Fri Jun 18 04:41:12 2004
From: tcurdt at yahoo.com (Mr Torsten Curdt)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] tree walker skipping nodes
Message-ID: <20040618114112.55284.qmail@web90006.mail.scd.yahoo.com>

Is there any way of not hard coding the
"ifBlock_AST_in"?

ifBlock
  {
    boolean b;
  }
  : #(IF b=expression
  {
    if (!b) {
      _retTree = ifBlock_AST_in.getNextSibling();
      return;
    }
  } 
  (pair|ifBlock)*
  )
  ;

cheers
--
Torsten


		
__________________________________
Do you Yahoo!?
Yahoo! Mail - You care about security. So do we.
http://promotions.yahoo.com/new_mail


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From pete.forman at westerngeco.com  Fri Jun 18 07:00:22 2004
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] token context information
In-Reply-To: <20040618113617.45259.qmail@web90009.mail.scd.yahoo.com>
References: <264E55B0-BFB2-11D8-A078-000393B5606C@codetransform.com>
Message-ID: <5.1.1.1.2.20040618143432.0373e368@wgmail2.gatwick.eur.slb.com>

At 2004-06-18 04:36 -0700, Mr Torsten Curdt wrote:
>It's all about: I have two tokens, both are almost
>the same. The lexer will give me a warning because
>they are ambiguous. Whether it is token A or token
>B depends on the previous token.

Generally lexers should be concentrating on converting sequences of
characters into tokens, with little or no account of context.  A
question to ask is whether inspecting a LITERAL itself can always
classify it as a KEY or VALUE.  If not then it may be better for the
lexer to only return LITERALs and to add actions like setType(KEY)
and setType(VALUE) in the parser rules.  The parser should run checks
for valid keys and values over and above the constraints of literal.

The alternative is for the lexer to do some of the parsing.  The rule
for LITERAL would look ahead for a colon (and perhaps value after
that) to see whether to setType(KEY).  The rule for COLON would set a
state to indicate that the next LITERAL should setType(VALUE).  This
might improve efficiency at the expense of muddier code.

A question to guide your choice is what happens when you read

   foo : bar

where foo is okay as a literal but fails to meet the rules for a key.
Can that be interpreted as some other grammatical construct or is that
an error that should issue a diagnostic and bail out?

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From tcurdt at yahoo.com  Fri Jun 18 07:59:19 2004
From: tcurdt at yahoo.com (Mr Torsten Curdt)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] token context information
In-Reply-To: <5.1.1.1.2.20040618143432.0373e368@wgmail2.gatwick.eur.slb.com>
Message-ID: <20040618145919.9058.qmail@web90006.mail.scd.yahoo.com>

> >It's all about: I have two tokens, both are almost
> >the same. The lexer will give me a warning because
> >they are ambiguous. Whether it is token A or token
> >B depends on the previous token.
> 
> Generally lexers should be concentrating on
> converting sequences of
> characters into tokens, with little or no account of
> context.  A
> question to ask is whether inspecting a LITERAL
> itself can always
> classify it as a KEY or VALUE.

Not from their content itself. Only through
their context/position ...that's probably
the reason why the token definition might
not be right. Maybe I need to have more fine
grained definition. Maybe I need to split up
a general LITERAL and provide WORD and NUMBER
tokens. Not sure. ...it just feels a bit to
overcomplicated for a simple

 key : value

matching where I want to have some restrictions
on the key syntax and almost free form values.

> If not then it may
> be better for the
> lexer to only return LITERALs and to add actions
> like setType(KEY)
> and setType(VALUE) in the parser rules.  The parser
> should run checks
> for valid keys and values over and above the
> constraints of literal.

That's interesting! Can I still use the ANTLR
machinery to check whether the LITERAL is a KEY
or a VALUE?

> The alternative is for the lexer to do some of the
> parsing.

...which breaks SoC :-/

> The rule
> for LITERAL would look ahead for a colon (and
> perhaps value after
> that) to see whether to setType(KEY).  The rule for
> COLON would set a
> state to indicate that the next LITERAL should
> setType(VALUE).  This
> might improve efficiency at the expense of muddier
> code.

:-/

> A question to guide your choice is what happens when
> you read
> 
>    foo : bar
> 
> where foo is okay as a literal but fails to meet the
> rules for a key.
> Can that be interpreted as some other grammatical
> construct or is that
> an error that should issue a diagnostic and bail
> out?

Well, it should give me a VALUE COLON VALUE instead
of a KEY COLON VALUE and the parser should bail out.

Or what do you mean?

Thanks!
--
Torsten


		
__________________________________
Do you Yahoo!?
Read only the mail you want - Yahoo! Mail SpamGuard.
http://promotions.yahoo.com/new_mail 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From tcurdt at yahoo.com  Fri Jun 18 08:11:07 2004
From: tcurdt at yahoo.com (Mr Torsten Curdt)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] customize the AST
Message-ID: <20040618151107.16709.qmail@web90001.mail.scd.yahoo.com>

I have the following rule and want to create
a customized AST

instruction!
  : k:LITERAL COLON! v:(LITERAL|QLITERAL) NEWLINE!
  | kk:LITERAL COLON! k1:(LITERAL|QLITERAL) ASSIGN!
v1:(LITERAL|QLITERAL) (SEMICOLON!
k2:(LITERAL|QLITERAL) (ASSIGN!
v2:(LITERAL|QLITERAL))?)* NEWLINE!  
  ;

The first match should become

  instruction --> k --> v

And the second match

  instruction --> kk --> k1 -> v1
                     --> k2 -> v2
                     ...

I had a look into http://www.antlr.org/doc/trees.html
but still don't understand how to do it.

Any help appreciated!

cheers
--
Torsten


		
__________________________________
Do you Yahoo!?
New and Improved Yahoo! Mail - Send 10MB messages!
http://promotions.yahoo.com/new_mail 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From pete.forman at westerngeco.com  Fri Jun 18 08:25:20 2004
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] token context information
In-Reply-To: <20040618145919.9058.qmail@web90006.mail.scd.yahoo.com>
References: <5.1.1.1.2.20040618143432.0373e368@wgmail2.gatwick.eur.slb.com>
Message-ID: <5.1.1.1.2.20040618160601.0366a608@wgmail2.gatwick.eur.slb.com>

At 2004-06-18 07:59 -0700, Mr Torsten Curdt wrote:
> > If not then it may be better for the
> > lexer to only return LITERALs and to add actions
> > like setType(KEY) and setType(VALUE) in the parser rules.
> > The parser should run checks
> > for valid keys and values over and above the
> > constraints of literal.
>
>That's interesting! Can I still use the ANTLR
>machinery to check whether the LITERAL is a KEY
>or a VALUE?

Sure.  At its simplest

pair: k:LITERAL COLON v:LITERAL
   {#k.setType(KEY); #v:setType(VALUE);};

> > A question to guide your choice is what happens when
> > you read
> >
> >    foo : bar
> >
> > where foo is okay as a literal but fails to meet the
> > rules for a key.
> > Can that be interpreted as some other grammatical
> > construct or is that
> > an error that should issue a diagnostic and bail
> > out?
>
>Well, it should give me a VALUE COLON VALUE instead
>of a KEY COLON VALUE and the parser should bail out.
>
>Or what do you mean?

In the above rewrite the first action clause.

if (isKey(#k.getText()) {
   #k.setType(KEY);
} else {
   handleError();
}

My question was whether VALUE COLON VALUE might mean, say, assign
values if it turned out that the first VALUE was not a key.  But you
say that you want to bail out, so the question is answered.  Were you
to go the other way then a semantic predicate would have allowed you
to handle the grammar.

The example code above is untested.

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Fri Jun 18 17:49:57 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
Message-ID: <96555F4C-C18A-11D8-8CE2-000A95891192@cs.usfca.edu>

Gang,

I thought I was going to be able to get away with 16bit unicode values 
as Java seems to encode the "supplemental" crud via UTF-16 in char 
arrays / strings.  But, now I see in Character that they are adding 
methods with int not char arguments to handle the beyond 16bit stuff.

My analysis algorithms use pure int so there is no trouble with that, 
however, I do encode token types in the upper 16 bits of a 32 int and 
have all chars in the lower 16 bits.  This is purely programming 
convenience as I know how to print out a token type by it's value 
range.  I don't want to go to 64-bit ints as most CPUs are still 32bits 
natively.  If I use 21-bit unicode values, that leaves 2^11 or 2048 
token type values, which makes me a bit nervous.

I want to do unicode "right" this time.  Anybody have a strong opinion 
about the new supplemental (beyond 16bit unicode) char values and/or 
whether 2048 is a serious token type limitation?

The new system will be cool.  You'll be able to use 
Character.UnicodeBlock stuff such as vocabulary=BENGALI;

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From tmoog at polhode.com  Fri Jun 18 18:21:13 2004
From: tmoog at polhode.com (Tom Moog)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <96555F4C-C18A-11D8-8CE2-000A95891192@cs.usfca.edu>
References: <96555F4C-C18A-11D8-8CE2-000A95891192@cs.usfca.edu>
Message-ID: <Pine.NEB.4.58.0406182115160.8949@panix5.panix.com>


If you want full xml compatibility you need to go to 0x10ffff.


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From johnm-antlr at non.net  Fri Jun 18 18:22:02 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <96555F4C-C18A-11D8-8CE2-000A95891192@cs.usfca.edu>
References: <96555F4C-C18A-11D8-8CE2-000A95891192@cs.usfca.edu>
Message-ID: <16595.38202.943498.649905@despot.non.net>

>>>>> "Terence" == Terence Parr <parrt@cs.usfca.edu> writes:
[...]

> I want to do unicode "right" this time.  Anybody have a strong opinion
> about the new supplemental (beyond 16bit unicode) char values and/or
> whether 2048 is a serious token type limitation?

Do Unicode right!  I.e., yes, we need to support the "astral" planes.

Alas, 2K token types is definitely too low.


> The new system will be cool.  You'll be able to use
> Character.UnicodeBlock stuff such as vocabulary=BENGALI;

Yea!

I've always wanted to write a Klingon-based translator.  :-? :-)

Take care,
	John


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From lists at lischke-online.de  Sat Jun 19 06:55:44 2004
From: lists at lischke-online.de (Mike Lischke)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <16595.38202.943498.649905@despot.non.net>
Message-ID: <20040619135523.593AA57C001@h4866.serverkompetenz.net>


> I've always wanted to write a Klingon-based translator.  :-? :-)

LOL, but Klingon was rejected by the Unicode consortium. Didn't you know that ;-)

Mike
--
www.soft-gems.net



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From lists at lischke-online.de  Sat Jun 19 07:03:09 2004
From: lists at lischke-online.de (Mike Lischke)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <96555F4C-C18A-11D8-8CE2-000A95891192@cs.usfca.edu>
Message-ID: <20040619140244.2940E57C001@h4866.serverkompetenz.net>

Hi Terence, 

> This is purely programming convenience as I know how to print 
> out a token type by it's value range.  I don't want to go to 
> 64-bit ints as most CPUs are still 32bits natively.  If I use 
> 21-bit unicode values, that leaves 2^11 or 2048 token type 
> values, which makes me a bit nervous.

I also think this is too few. I think going 64 bit (or separating character and token information into two variables)
would be the right choice if want to do it right.
 
> I want to do unicode "right" this time.  Anybody have a 
> strong opinion about the new supplemental (beyond 16bit 
> unicode) char values and/or whether 2048 is a serious token 
> type limitation?

AFAIK some of the new planes contain more mathematical characters, which could be important for extended expression
parsers.

Mike
--
www.soft-gems.net



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From johnm-antlr at non.net  Sat Jun 19 08:11:50 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <20040619135523.593AA57C001@h4866.serverkompetenz.net>
References: <16595.38202.943498.649905@despot.non.net>
	<20040619135523.593AA57C001@h4866.serverkompetenz.net>
Message-ID: <16596.22454.467908.708265@despot.non.net>

>>>>> "Mike" == Mike Lischke <lists@lischke-online.de> writes:
[...]

>> I've always wanted to write a Klingon-based translator.  :-? :-)

> LOL, but Klingon was rejected by the Unicode consortium. Didn't you know
> that ;-)

Dammit, Jim!  I'm just a doctor!

:-),
	John


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sat Jun 19 10:09:34 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <20040619140244.2940E57C001@h4866.serverkompetenz.net>
References: <20040619140244.2940E57C001@h4866.serverkompetenz.net>
Message-ID: <701AF7F4-C213-11D8-8CE2-000A95891192@cs.usfca.edu>


On Jun 19, 2004, at 7:03 AM, Mike Lischke wrote:

> Hi Terence,
>
>> This is purely programming convenience as I know how to print
>> out a token type by it's value range.  I don't want to go to
>> 64-bit ints as most CPUs are still 32bits natively.  If I use
>> 21-bit unicode values, that leaves 2^11 or 2048 token type
>> values, which makes me a bit nervous.
>
> I also think this is too few. I think going 64 bit (or separating 
> character and token information into two variables)
> would be the right choice if want to do it right.

I'm secretly planning to allow all sorts of cool stuff like parsers 
that can handle single char tokens w/o going to the lexer and so on.  
Having the parser at runtime be able to distinguish char from token 
type just by looking at the value was going to be mighty handy.

In the previous version, I made a number of decisions based upon the 
current state of the art in CPU speed / architecture, which of course 
changes pretty damn fast.  I wonder if we shouldn't just go 64 bit for 
the token types leaving a full 32-bits for characters and for token 
types all within the same value.  Who knows, this may also make some 
other things convenient.  What if we could encode the TokenStream 
channel in the token type so we can "tune" to only certain channels?  
What if we had special tokens other than EOF?  Perhaps there will be a 
need.

Hmm...I wonder how fast 64-bit processors will become the norm (G5s are 
there and AMD is too, right?)?  How horrible does Java do 64-bit ints 
now for comparison and other rot?  ANTLR 3.0 won't be available for a 
while...perhaps 64 bits ain't that bad an idea.  BTW, passing around 
another variable is unwieldly coding wise and will just be two 32-bit 
ints anyway, right?

Too bad I don't have #define or a typename I could use so the actual 
type could be changed later.  Would be nice to see LabelType instead of 
int.

Thanks for the ideas...

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From lists at lischke-online.de  Sat Jun 19 11:09:59 2004
From: lists at lischke-online.de (Mike Lischke)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <701AF7F4-C213-11D8-8CE2-000A95891192@cs.usfca.edu>
Message-ID: <20040619180933.E272557C004@h4866.serverkompetenz.net>

Hi Terence, 


> I'm secretly planning to allow all sorts of cool stuff like 
> parsers that can handle single char tokens w/o going to the 
> lexer and so on.  
> Having the parser at runtime be able to distinguish char from 
> token type just by looking at the value was going to be mighty handy.

How's that going to work? Will you let the parser take over some of the lexer functionality? How often do you expect is
it that one needs to recognise single character tokens? Isn't it usually so that entire words are being tokenized? Well,
right, there are the symbols used for example in expressions. But then you'd need a separate path in the parser a la "is
it a single char token then use it now, if not ask the lexer what it really is". Doesn't sound like a big speed
improvement to me.

What I rather would like is that the lexer would more work so that I could use tokens with overlapping definitions. For
instance currently I have to make

  INPUT_CHARACTER: ~('\n' | '\r' | '\u2028' | '\u2029');

protected, otherwise it conflicts with almost anything in my grammar. Currently I cannot define:

  DIGIT:           '0'..'9';
  HEX_DIGIT:       DIGIT | 'a'..'f';
  OCTAL_DIGIT:     '0'..'7';
 
Without making all three rules protected. I think you got the pattern.

> In the previous version, I made a number of decisions based 
> upon the current state of the art in CPU speed / 
> architecture, which of course changes pretty damn fast.  I 
> wonder if we shouldn't just go 64 bit for the token types 
> leaving a full 32-bits for characters and for token types all 
> within the same value.  

I think ANTLR is pretty damn fast and going 64 bit wouldn't hurt that much (can't speak for C++, though). I believe you
will much more gain than you loose when going that route.

> Hmm...I wonder how fast 64-bit processors will become the 
> norm (G5s are there and AMD is too, right?)?  

I read Intel will make their 64 bit variant earlier public than they planned originally and with Linux and other OSes
already 64 bit capable I believe 64 bit will soon also come to the desktop. Don't argue about the sense for the average
user having then 32 bits more about they don't know where to spend them, but they will come quite soon.

>How horrible 
> does Java do 64-bit ints now for comparison and other rot?  

Can't tell, I have not yet used Java on a 64 bit platform.

> ANTLR 3.0 won't be available for a while...perhaps 64 bits 
> ain't that bad an idea.  

Sure, and don't forgot the headlines: "ANTLR, the first native 64 bit compiler generator in the world" ;-)

> Too bad I don't have #define or a typename I could use so the 
> actual type could be changed later.  Would be nice to see 
> LabelType instead of int.

This would make a decision much easier, indeed. And neither generics nor wrapper classes would help, so even in the
future there seem to be no alternatives.

Mike
--
www.soft-gems.net



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Sat Jun 19 11:15:46 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:57 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1087668946.556.88308.m11@yahoogroups.com>


Hello,

This is an automated email message to let you know that
francofraaalesi <fmarot@esil.univ-mrs.fr> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Sat Jun 19 11:42:57 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <20040619180933.E272557C004@h4866.serverkompetenz.net>
References: <20040619180933.E272557C004@h4866.serverkompetenz.net>
Message-ID: <7B85C4A8-C220-11D8-8CE2-000A95891192@cs.usfca.edu>


On Jun 19, 2004, at 11:09 AM, Mike Lischke wrote:
>> I'm secretly planning to allow all sorts of cool stuff like
>> parsers that can handle single char tokens w/o going to the
>> lexer and so on.
>> Having the parser at runtime be able to distinguish char from
>> token type just by looking at the value was going to be mighty handy.
>
> How's that going to work? Will you let the parser take over some of 
> the lexer functionality? How often do you expect is
> it that one needs to recognise single character tokens? Isn't it 
> usually so that entire words are being tokenized? Well,
> right, there are the symbols used for example in expressions. But then 
> you'd need a separate path in the parser a la "is
> it a single char token then use it now, if not ask the lexer what it 
> really is". Doesn't sound like a big speed
> improvement to me

Well, SEMI and LPAREN etc... come to mind, but I guess you're 
right--I'm not sure how much the parser will be able to optimize out of 
this.  I do like the channels idea, however. :)

> .What I rather would like is that the lexer would more work so that I 
> could use tokens with overlapping definitions. For
> instance currently I have to make
>
>   INPUT_CHARACTER: ~('\n' | '\r' | '\u2028' | '\u2029');
>
> protected, otherwise it conflicts with almost anything in my grammar. 
> Currently I cannot define:
>
>   DIGIT:           '0'..'9';
>   HEX_DIGIT:       DIGIT | 'a'..'f';
>   OCTAL_DIGIT:     '0'..'7';
> Without making all three rules protected. I think you got the pattern.

The DIGIT isn't a token by itself though is it?  It should be protected.

The LL-star algorithm will gladly predict anything we throw at it now, 
but at the cost of possibly examining the chars for some token twice in 
the worst case.  I expect that we will be able to optimize this out in 
many cases, but the exact algorithm is still being developed as a 
background process in my head. ;)  It is essentially related to the 
idea that most lexer rules have no actions and are inherently regular: 
let the DFA predictor simply set the token type and return w/o ever 
calling the rule.  For example, if you have INT and FLOAT as tokens but 
both have no actions and are clearly regular (no recursion), the DFA 
predictor would match either and then immediately return the token w/o 
calling method mINT() or mFLOAT().  In summary, it builds a DFA like 
all other scanner generators like flex unless you happen to stick an 
action in the middle of a rule or you use recursion in the lexer.  So, 
we get the speed *and* power. :)  Woohoo!

> I think ANTLR is pretty damn fast and going 64 bit wouldn't hurt that 
> much (can't speak for C++, though). I believe you
> will much more gain than you loose when going that route.

I should look at the bytecodes for a simple lexer to see what long vs 
int looks like.

>> Too bad I don't have #define or a typename I could use so the
>> actual type could be changed later.  Would be nice to see
>> LabelType instead of int.
>
> This would make a decision much easier, indeed. And neither generics 
> nor wrapper classes would help, so even in the
> future there seem to be no alternatives.

Oh well.  Every language has it's issues. ;)

PS: The level 1 (just lex/parse, no trees etc...) code generator for 
ANTLR 3.0 is going extremely well.  Literally every single character of 
output for the java code generator is in a template file.  The code 
generator has absolutely no idea what language it is generating.  Swap 
out the template file with another and you will generate a different 
language. :)  I'm probably going to do LISP next just to see how far I 
can stretch this concept. ;)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Sat Jun 19 13:30:50 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:57 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1087677050.866.69153.m10@yahoogroups.com>


Hello,

This is an automated email message to let you know that
kuboaki2001 <kuboaki@cityfujisawa.ne.jp> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From markl at glyphic.com  Sat Jun 19 15:36:46 2004
From: markl at glyphic.com (Mark Lentczner)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <96555F4C-C18A-11D8-8CE2-000A95891192@cs.usfca.edu>
References: <96555F4C-C18A-11D8-8CE2-000A95891192@cs.usfca.edu>
Message-ID: <259BCE00-C241-11D8-AA48-000393A56BB6@glyphic.com>

Seems to me that you can still encode chars and tokens in the same 32 
bit int:
	any value <= 0x10FFFF is Unicode
	any value >  0x10FFFF is a Token type

Or am I missing something?

As for doing Unicode "right" - Yes, you have to do all 2^11 characters 
- it's not just the stuff people make fun of: There are real languages 
whose characters got up stuck above 16 bits.

As for 64-bit ints: My code is going to have to run on legions of aging 
32 bit hardware for years to come - I'd avoid 64 ints if you can.


> The new system will be cool.  You'll be able to use  
> Character.UnicodeBlock stuff such as vocabulary=BENGALI;
I doubt this will be useful to anyone.  You should check if anyone 
would use it.  The Unicode blocks rarely correspond to semantically 
useful subsets for parsing.  It is highly unlikely that any grammar 
would want to have "vocabulary=BENGALI" - there would be no punctuation 
in such a language.  As for character class tests - one usually can't 
include whole blocks.  Many, if not all, blocks have characters that 
for parsing would need to be excepted out of any grammar character 
class.

Much more useful would access to the Unicode character classes and 
character property sets like identifier_start, identifier_extend, L, Nd 
and such.

	- Mark



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sat Jun 19 16:00:08 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <259BCE00-C241-11D8-AA48-000393A56BB6@glyphic.com>
References: <96555F4C-C18A-11D8-8CE2-000A95891192@cs.usfca.edu> <259BCE00-C241-11D8-AA48-000393A56BB6@glyphic.com>
Message-ID: <69264FB6-C244-11D8-9AF8-000A95891192@cs.usfca.edu>


On Jun 19, 2004, at 3:36 PM, Mark Lentczner wrote:

> Seems to me that you can still encode chars and tokens in the same 32
> bit int:
> 	any value <= 0x10FFFF is Unicode
> 	any value >  0x10FFFF is a Token type
>
> Or am I missing something?

Heh, you're right.  I was focused on only 11 bits left, but if I treat 
it as a 32-bit int not 2 smaller ints, then the values work out great!. 
  We have 0x10FFFF+1 .. 0xFFFFFFFF to mess with.  That's um...lots. ;)  
Thanks!

> As for doing Unicode "right" - Yes, you have to do all 2^11 characters
> - it's not just the stuff people make fun of: There are real languages
> whose characters got up stuck above 16 bits.

Roger that.

> As for 64-bit ints: My code is going to have to run on legions of aging
> 32 bit hardware for years to come - I'd avoid 64 ints if you can.

Ok, makes sense.  SOunds like we good to go though.

>> The new system will be cool.  You'll be able to use
>> Character.UnicodeBlock stuff such as vocabulary=BENGALI;
> I doubt this will be useful to anyone.  You should check if anyone
> would use it.  The Unicode blocks rarely correspond to semantically
> useful subsets for parsing.  It is highly unlikely that any grammar
> would want to have "vocabulary=BENGALI" - there would be no punctuation
> in such a language.  As for character class tests - one usually can't
> include whole blocks.  Many, if not all, blocks have characters that
> for parsing would need to be excepted out of any grammar character
> class.

Ah.  Well, I was going to allow sets like DIGIT | BENGALI

but I'm not sure how to handle the DIGIT "block" as it's context 
sensitive, right?  I.e., wouldn't we want DIGIT to only allow BENGALI 
digits?

> Much more useful would access to the Unicode character classes and
> character property sets like identifier_start, identifier_extend, L, Nd
> and such.

Yep, all that will be allowed.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From tcurdt at yahoo.com  Sun Jun 20 07:39:12 2004
From: tcurdt at yahoo.com (Mr Torsten Curdt)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] customize the AST
In-Reply-To: <20040618151107.16709.qmail@web90001.mail.scd.yahoo.com>
Message-ID: <20040620143912.23329.qmail@web90009.mail.scd.yahoo.com>

> I have the following rule and want to create
> a customized AST
> 
> instruction!
>   : k:LITERAL COLON! v:(LITERAL|QLITERAL) NEWLINE!
>   | kk:LITERAL COLON! k1:(LITERAL|QLITERAL) ASSIGN!
> v1:(LITERAL|QLITERAL) (SEMICOLON!
> k2:(LITERAL|QLITERAL) (ASSIGN!
> v2:(LITERAL|QLITERAL))?)* NEWLINE!  

I know figured out that the #([..]) syntax can
also be nested. So customizing the AST tree is
no longer a problem.

But I found that "v:(LITERAL|QLITERAL)" is
not working. I had to split this into

 (l:LITERAL|q:QLITERAL)

and then check with code

 if (l!=null) {
   ...
 }
 if (q!=null) {
   ...
 }

Is there a more elegant way of doing this?
The null-check really bloats the code section.
Especially if you have to do it more than just
once.

cheers
--
Torsten


		
__________________________________
Do you Yahoo!?
New and Improved Yahoo! Mail - Send 10MB messages!
http://promotions.yahoo.com/new_mail 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From tcurdt at yahoo.com  Sun Jun 20 11:18:40 2004
From: tcurdt at yahoo.com (Mr Torsten Curdt)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unexpected end of subtree
Message-ID: <20040620181840.94974.qmail@web90007.mail.scd.yahoo.com>

Can someone please explain why the following
snippet generates an "unexpected end of subtree"
warning? Everything else seem to be fine.

keyvalue returns [ Object o ]
  {
    o = null;
    String kn;
    Object kv;
  }
  : { java.util.HashMap map = new java.util.HashMap();
o = map; }
    ( 
      #(KEY kn=literal kv=literal) {
        map.put(kn,kv);        
      }
    )+
  | #(VALUE kv=literal) {
      o = kv;
    }
  ;

Is it because (#KEY)+ is unbound? I assume
I get the warning when the end of the childs
are reached.

cheers
--
Torsten


	
		
__________________________________
Do you Yahoo!?
New and Improved Yahoo! Mail - 100MB free storage!
http://promotions.yahoo.com/new_mail 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From johnm-antlr at non.net  Sun Jun 20 11:37:15 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <69264FB6-C244-11D8-9AF8-000A95891192@cs.usfca.edu>
References: <96555F4C-C18A-11D8-8CE2-000A95891192@cs.usfca.edu>
	<259BCE00-C241-11D8-AA48-000393A56BB6@glyphic.com>
	<69264FB6-C244-11D8-9AF8-000A95891192@cs.usfca.edu>
Message-ID: <16597.55643.892773.470662@despot.non.net>

>>>>> "Terence" == Terence Parr <parrt@cs.usfca.edu> writes:
>>>>>> On Jun 19, 2004, at 3:36 PM, Mark Lentczner writes:
[...]

>> Seems to me that you can still encode chars and tokens in the same 32
>> bit int: any value <= 0x10FFFF is Unicode any value > 0x10FFFF is a
>> Token type

>> Or am I missing something?

> Heh, you're right.  I was focused on only 11 bits left, but if I treat it
> as a 32-bit int not 2 smaller ints, then the values work out great!.  We
> have 0x10FFFF+1 .. 0xFFFFFFFF to mess with.  That's um...lots. ;) Thanks!

Hmm... Is my senility setting in?  I thought I recalled that you had some
reason you needed them separated?

If not then rock on.

Thanks,
	John



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From johnm-antlr at non.net  Sun Jun 20 11:49:27 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <701AF7F4-C213-11D8-8CE2-000A95891192@cs.usfca.edu>
References: <20040619140244.2940E57C001@h4866.serverkompetenz.net>
	<701AF7F4-C213-11D8-8CE2-000A95891192@cs.usfca.edu>
Message-ID: <16597.56375.591489.708326@despot.non.net>

>>>>> "Terence" == Terence Parr <parrt@cs.usfca.edu> writes:
[...]

> I'm secretly planning to allow all sorts of cool stuff like parsers that
> can handle single char tokens w/o going to the lexer and so on.  Having
> the parser at runtime be able to distinguish char from token type just by
> looking at the value was going to be mighty handy.

What does that mean?  That there wouldn't be any, independent lexer?  Or
are you talking about some sort of coordination between the lexer and the
parser?


[...]

> What if we could encode the TokenStream channel in the token type so we
> can "tune" to only certain channels?

So is the idea would be to have multiple parsers, each tuning into different
channels or is it to have a single parser decide which set of channels it's
interested in or what?

> What if we had special tokens other than EOF?  Perhaps there will be a
> need.

Yes, if it was clean, I'd like to have a separate "meta" channel.  However,
if you're making the whole "channel" notion general, isn't this just e.g.,
channel zero?

Take care,
	John


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sun Jun 20 11:55:55 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <16597.55643.892773.470662@despot.non.net>
References: <96555F4C-C18A-11D8-8CE2-000A95891192@cs.usfca.edu> <259BCE00-C241-11D8-AA48-000393A56BB6@glyphic.com> <69264FB6-C244-11D8-9AF8-000A95891192@cs.usfca.edu> <16597.55643.892773.470662@despot.non.net>
Message-ID: <75A5002B-C2EB-11D8-9AF8-000A95891192@cs.usfca.edu>


On Jun 20, 2004, at 11:37 AM, John D. Mitchell wrote:

>>>>>> "Terence" == Terence Parr <parrt@cs.usfca.edu> writes:
>>>>>>> On Jun 19, 2004, at 3:36 PM, Mark Lentczner writes:
> [...]
>
>>> Seems to me that you can still encode chars and tokens in the same 32
>>> bit int: any value <= 0x10FFFF is Unicode any value > 0x10FFFF is a
>>> Token type
>
>>> Or am I missing something?
>
>> Heh, you're right.  I was focused on only 11 bits left, but if I 
>> treat it
>> as a 32-bit int not 2 smaller ints, then the values work out great!.  
>> We
>> have 0x10FFFF+1 .. 0xFFFFFFFF to mess with.  That's um...lots. ;) 
>> Thanks!
>
> Hmm... Is my senility setting in?  I thought I recalled that you had 
> some
> reason you needed them separated?
>
> If not then rock on.

Well, they are still separated by < or > operator.  For a second there, 
I thought I was masking out the upper 16 bits and then treating as a 
short 11-bit int, but I'm not.  I'm doing a simple comparison, which 
leaves like 2^11 * unicode-size token types. :)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sun Jun 20 11:58:36 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <16597.56375.591489.708326@despot.non.net>
References: <20040619140244.2940E57C001@h4866.serverkompetenz.net> <701AF7F4-C213-11D8-8CE2-000A95891192@cs.usfca.edu> <16597.56375.591489.708326@despot.non.net>
Message-ID: <D5A54CB2-C2EB-11D8-9AF8-000A95891192@cs.usfca.edu>


On Jun 20, 2004, at 11:49 AM, John D. Mitchell wrote:

>>>>>> "Terence" == Terence Parr <parrt@cs.usfca.edu> writes:
> [...]
>
>> I'm secretly planning to allow all sorts of cool stuff like parsers 
>> that
>> can handle single char tokens w/o going to the lexer and so on.  
>> Having
>> the parser at runtime be able to distinguish char from token type 
>> just by
>> looking at the value was going to be mighty handy.
>
> What does that mean?  That there wouldn't be any, independent lexer?  
> Or
> are you talking about some sort of coordination between the lexer and 
> the
> parser?

I'm not sure...my intuition says there is something there.  For sure, 
I'm ultimately going to have a context-sensitive lexer where it is 
goal-oriented unlike existing lexers.  I.e., if your parser can match 
either an INT or a SEMI at a spot, it asks the lexer to match one of 
those two only--not the entire possible set.

>> What if we could encode the TokenStream channel in the token type so 
>> we
>> can "tune" to only certain channels?
>
> So is the idea would be to have multiple parsers, each tuning into 
> different
> channels or is it to have a single parser decide which set of channels 
> it's
> interested in or what?

Mostly the latter, but could be both.  Could have a parser for javadoc 
and a parser for java code running in parallel :)

>> What if we had special tokens other than EOF?  Perhaps there will be a
>> need.
>
> Yes, if it was clean, I'd like to have a separate "meta" channel.  
> However,
> if you're making the whole "channel" notion general, isn't this just 
> e.g.,
> channel zero?

Yup...the channel is probably best handled as it is now with 
TokenStream, but ya never know :)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sun Jun 20 11:52:36 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode strings using supplemental char range
Message-ID: <FEC7ABAE-C2EA-11D8-9AF8-000A95891192@cs.usfca.edu>

Ok, another question about unicode and strings.  With 16-bit unicode 
and 16-bit chars in Java, strings are easy to interpret: "abc\u0FF0def" 
is 7 char long with one non-Latin char, '\u0FF0'.  When you walk an 
index down the string, each index is exactly one char.

Now on to Java 1.5 and this fun UNICODE stuff where we have to do 
UTF-16 in strings.  According to the java api for Character:

   "The Java  2 platform uses the UTF-16 representation in char  arrays 
and in the String and StringBuffer  classes.  In this representation, 
supplementary characters are represented as a pair of char values, the 
first from the high-surrogates range, (\uD800-\uDBFF), the  second from 
the low-surrogates range  (\uDC00-\uDFFF)."

One could make a string like "abc\uD800\uDFF0def", but that is 
ambiguous.  It could easily be 7 or 8 characters depending on how you 
interpret the string.  The two char unicode sequence could actually be 
UTF-16 representation for 1 char.

Given this ambiguity, I have a problem when building a lexer.  If I see 
the above string, I normally need to match each character against the 
input.  I have the input character as a full int and the Reader will 
take care of pulling stuff off the disk, properly but what about how I 
should interpret the string to do the matching????  Right now I walk an 
index from 0..n-1 down the String asking for each 16-bit char.

Please tell me we don't have to have a mechanism for people to specify 
the format of their strings in their grammars!!! Ugh.  We are right 
back to 1980's where in C we had to do our own UTF-8 or whatever 
interpretations.  Java will now do just about nothing for us as we have 
the same exact situation, albeit with 16bits not 8.  Booooooo!

Can anybody correct my misunderstanding?  If I'm understanding this 
correctly, can anybody suggest how to deal with UTF-16 in strings?  Are 
strings now int[]?  Ick.  Right back to C.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From johnm-antlr at non.net  Sun Jun 20 12:12:09 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <75A5002B-C2EB-11D8-9AF8-000A95891192@cs.usfca.edu>
References: <96555F4C-C18A-11D8-8CE2-000A95891192@cs.usfca.edu>
	<259BCE00-C241-11D8-AA48-000393A56BB6@glyphic.com>
	<69264FB6-C244-11D8-9AF8-000A95891192@cs.usfca.edu>
	<16597.55643.892773.470662@despot.non.net>
	<75A5002B-C2EB-11D8-9AF8-000A95891192@cs.usfca.edu>
Message-ID: <16597.57737.529135.872018@despot.non.net>

>>>>> "Terence" == Terence Parr <parrt@cs.usfca.edu> writes:
>>>>>> On Jun 20, 2004, at 11:37 AM, John D. Mitchell writes:
[...]

>> Hmm... Is my senility setting in?  I thought I recalled that you had
>> some reason you needed them separated?

>> If not then rock on.

> Well, they are still separated by < or > operator.  For a second there, I
> thought I was masking out the upper 16 bits and then treating as a short
> 11-bit int, but I'm not.  I'm doing a simple comparison,

Cool.

> which leaves like 2^11 * unicode-size token types. :)

So you can e.g., fold the channels into that large space.

Have fun,
	John


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From johnm-antlr at non.net  Sun Jun 20 12:15:30 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <D5A54CB2-C2EB-11D8-9AF8-000A95891192@cs.usfca.edu>
References: <20040619140244.2940E57C001@h4866.serverkompetenz.net>
	<701AF7F4-C213-11D8-8CE2-000A95891192@cs.usfca.edu>
	<16597.56375.591489.708326@despot.non.net>
	<D5A54CB2-C2EB-11D8-9AF8-000A95891192@cs.usfca.edu>
Message-ID: <16597.57938.671226.697796@despot.non.net>

>>>>> "Terence" == Terence Parr <parrt@cs.usfca.edu> writes:
>>>>>> On Jun 20, 2004, at 11:49 AM, John D. Mitchell writes:
[...]

>> What does that mean?  That there wouldn't be any, independent lexer?
>> Or are you talking about some sort of coordination between the lexer and
>> the parser?

> I'm not sure...my intuition says there is something there.  For sure, I'm
> ultimately going to have a context-sensitive lexer where it is
> goal-oriented unlike existing lexers.  I.e., if your parser can match
> either an INT or a SEMI at a spot, it asks the lexer to match one of
> those two only--not the entire possible set.

Ah, I see.  So rather than having a passive lexer eating input and
providing it to the parser, the lexer is actually directed by the parser.

Go wild,
	John


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sun Jun 20 12:50:06 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <16597.57938.671226.697796@despot.non.net>
References: <20040619140244.2940E57C001@h4866.serverkompetenz.net> <701AF7F4-C213-11D8-8CE2-000A95891192@cs.usfca.edu> <16597.56375.591489.708326@despot.non.net> <D5A54CB2-C2EB-11D8-9AF8-000A95891192@cs.usfca.edu> <16597.57938.671226.697796@despot.non.net>
Message-ID: <074328FF-C2F3-11D8-9AF8-000A95891192@cs.usfca.edu>


On Jun 20, 2004, at 12:15 PM, John D. Mitchell wrote:
> Ah, I see.  So rather than having a passive lexer eating input and
> providing it to the parser, the lexer is actually directed by the 
> parser.

Yep.  This makes it handle nasty things like the C++ template vs ">>" 
token problem simply disappear.  I.e., when lexing

List<List<int>> a;

you'll see that the nested template has ">>" in it.  The lexer, without 
context, cannot know which to pick.  Only the parser knows that it 
expects ">" followed by ">" not ">>" token. :)

The beauty of this is that the new lexer mechanism will deal with this 
easily.  Just create a new lexer rule for each parser context that is a 
set of alternatives.  The parser calls 
lexer.mySpecificContextTokenSet() rather than lexer.nextToken().  There 
are some issues such as ID vs literals and any other set of 
ambiguous/subset tokens, but I won't go into that at the moment.  
Whitespace can be tricky too.

This also seems to be a reasonable solution for keywords that can be 
variables.  When the parser must see it as a keyword, it asks for the 
keyword not an ID. :)

Woohoo!

This will be attacked after the core system is working as it is a 
direct extension and doesn't affect the underlying engine.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Sun Jun 20 15:54:15 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:57 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1087772055.297.59567.m23@yahoogroups.com>


Hello,

This is an automated email message to let you know that
r.e.j.degroot@student.utwente.nl unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From tmoog at polhode.com  Sun Jun 20 16:37:21 2004
From: tmoog at polhode.com (Tom Moog)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] utf-16 vs. ucs-2
In-Reply-To: <9FE5123E-C306-11D8-9AF8-000A95891192@cs.usfca.edu>
References: <200406202018.i5KKI1be002045@basm.cerias.purdue.edu>
 <9FE5123E-C306-11D8-9AF8-000A95891192@cs.usfca.edu>
Message-ID: <Pine.NEB.4.58.0406201935540.25460@panix5.panix.com>


utf-16 can be distinguished from ucs-2. With utf-16
it is required to have a bom (byte order mark) in
the first two bytes unless the encoding is specified
externally (e.g. via http content-type/media-type
header).





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From flack at cs.purdue.edu  Sun Jun 20 17:13:38 2004
From: flack at cs.purdue.edu (flack@cs.purdue.edu)
Date: Mon Dec 20 16:16:57 2004
Subject: unicode strings using supplemental char range 
In-Reply-To: Message from Terence Parr <parrt@cs.usfca.edu> 
   of "Sun, 20 Jun 2004 15:10:22 MST." <9FE5123E-C306-11D8-9AF8-000A95891192@cs.usfca.edu> 
Message-ID: <200406210013.i5L0DctB007829@basm.cerias.purdue.edu>

> Actually, I just had an idea.  First, thanks to your help, I know that 
> UTF-16 encoded in a string is unambiguously UTF-16.  Now, the only 
> question is, how do we match a 21-bit char against it?  What if we just 
> specified that the input must be UTF-16 also?  Then, ANTLR can pretend 
> everything is 16 bits, right?

The underlying idea here seems fine to me: pre-encode your user input into
UTF-16 and then do the matching in the UTF-16 domain.  It's analogous to the
'provincial-safe' programming style I described in
http://www.gjt.org/javadoc/org/gjt/cuspy/ByteString.html , only even safer
as the careful construction of UTF-16 ensures that
no matter where you jump into a string you can never mistake either a high
or a low surrogate for a plane-0 code point.  Probably have to do something
messy for things like . and [] that expect to match a single character; you
can probably judge better than I how much of an algorithmic complication
that would be.

As a possible downside the scheme might not promptly detect mispaired
surrogates in the input, as going through a UnicodeBuffer would.  But then
again, it might: if all your pre-encoded user input is ensured well-formed,
then perhaps you can prove that no recognizer you can build would be able
to match mispaired surrogates in the input, so they would always be errors.
Conjecture from me cos I'm too lazy at the moment to try to prove it.

A superficial part of the idea I would quibble with: yes, the user's input
should be pre-encoded into UTF-16, but no, don't make the poor HUMAN do the
mechanical encoding.  When the user is talking about a single character,
s/he shouldn't have to go figure out how to encode it as a pair of
surrogates.  So let the user say '\u1039f' or 'UGARITIC WORD DIVIDER';
don't make the user pull out a calculator just to write "\ud800\udf9f",
which would be bad anyway because you probably wouldn't accept it anyway
in [] or some other context where you expect a single character.  Let the
computer do the pre-encoding of the user's strings, and keep the mechanics
of surrogate-pair encoding out of the user's view.  Of course the pre-encoding
also has to work if the user has a Unicode editor and just types a UGARITIC
WORD DIVIDER right in the source, which you would see as \ud800\udf9f coming
from the Reader, and you still have to treat it as a single character.

Of course that's easy if you still use a UnicodeBuffer at least to look
at the stuff in the user's grammar file, so you would simply see the character
as a single character without knowing how it came in, and then you just
process the explicit things like 'UGARITIC WORD DIVIDER' and encode
everything to UTF-16 and generate the UTF-16 recognizer.

Btw, did any of my suggestions about composable input filters I wrote up,
hmm, maybe a few years ago now, have any appeal at the time?  UTF-16 could
probably provide additional example use cases for them....

-Chap

From notify at yahoogroups.com  Sun Jun 20 20:30:20 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:57 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1087788620.400.76305.m2@yahoogroups.com>


Hello,

This is an automated email message to let you know that
matematico999 <jgleeson@suburbanbroadband.net> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From klaren at cs.utwente.nl  Mon Jun 21 02:53:01 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <96555F4C-C18A-11D8-8CE2-000A95891192@cs.usfca.edu>
References: <96555F4C-C18A-11D8-8CE2-000A95891192@cs.usfca.edu>
Message-ID: <20040621095301.GA23737@cs.utwente.nl>

Hi,

On Fri, Jun 18, 2004 at 05:49:57PM -0700, Terence Parr wrote:
> My analysis algorithms use pure int so there is no trouble with that,
> however, I do encode token types in the upper 16 bits of a 32 int and
> have all chars in the lower 16 bits.  This is purely programming
> convenience as I know how to print out a token type by it's value
> range.

Erm.. sorry.. erm but why? Why use some C-style encoding scheme from an
ancient time where a struct (or class in java) can do the trick and give
you the value added bonus that a compiler (byte code compiler?) that's
smart enough can encode the struct in some way for you and you don't have
to bother about the shifting yourself (and e.g. use a 64-bit value when
it's possible). Well anyway if it's only in the analysis I don't care, if
it ends up in the support lib I'd be somewhat carefull in doing 'hacks'
like this...

> I don't want to go to 64-bit ints as most CPUs are still 32bits
> natively.  If I use 21-bit unicode values, that leaves 2^11 or 2048
> token type values, which makes me a bit nervous.

I would not welcome going 64 bits on the C++ side. This is all pretty new
tech and I already saw some things float about in bugtrackers here and
there about 64 bit issues with some compilers/support libraries.
Furthermore it probably slows down 32 bitters (current majority of systems
I don't expect 64 bit going to be mainstream soon, there's very little
benefit to it as of yet).

> I want to do unicode "right" this time.  Anybody have a strong opinion
> about the new supplemental (beyond 16bit unicode) char values and/or
> whether 2048 is a serious token type limitation?

Why use a data-structure that limits you from the outset??? Is a
struct/class that much slower in analysis that you're using an encoding
scheme like this. (I'd expect seeing this kindoff stuff in old C programs
where people are trying to squeeze extra cycles/memory out of something)
Remember premature optimization is the root of all evil....

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 Time what is time - I wish I knew how to tell You why - It hurts to know -
          Aren't we machines - Time what is time - Unlock the door
               - And see the truth - Then time is time again
                From: 'Time what is Time' by Blind Guardian


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From birmanstefan at yahoo.com  Mon Jun 21 03:03:54 2004
From: birmanstefan at yahoo.com (birmanstefan)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] StringTemplate issue
Message-ID: <cb6bqa+mhe0@eGroups.com>

Hello Ter,
  
    I used a jarred app, which includes a library of templates, and 
run in a "Can't load template" error. It seems that it tries to load 
template from an illegal path. I put a testcase in group's files 
directory called test4tp.jar (includes all you need to reproduce the 
issue). 

    The fix was to create a group without a root directory and include 
all the templates in the root of the jar. The bad thing is that it 
doesn't preserve the hierarchy in jar file and have to modify in 
original code (=> two versions : for jarred and un-jarred app).

    I took a look in the  StringTemplateGroup.loadTemplate() and I saw 
that it uses some classLoader stuff to load the template. Enlarging 
this mechanism in order to be able to load templates from dir 
structure in a jar file (JAR URL) should fix the issue. I'm not very 
familiar with this mechanism, so I must ask : am I looking in the 
wrong direction?
    
    On the other hand, are there any news on StringTemplates 2.0?

Thanks,
       Stefan.




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Mon Jun 21 03:05:35 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:57 2004
Subject: New file uploaded to antlr-interest
Message-ID: <1087812335.413.44648.w29@yahoogroups.com>


Hello,

This email message is a notification to let you know that
a file has been uploaded to the Files area of your antlr-interest 
group.

  File        : /test4tp.jar 
  Uploaded by : birmanstefan <birmanstefan@yahoo.com> 
  Description : StringTemplate : testcase for jar issue 

You can access the file at the URL

http://groups.yahoo.com/group/antlr-interest/files/test4tp.jar 

Your group is currently configured to send you email
notification whenever a member uploads a file.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From klaren at cs.utwente.nl  Mon Jun 21 03:36:12 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <701AF7F4-C213-11D8-8CE2-000A95891192@cs.usfca.edu>
References: <20040619140244.2940E57C001@h4866.serverkompetenz.net> <701AF7F4-C213-11D8-8CE2-000A95891192@cs.usfca.edu>
Message-ID: <20040621103612.GB23737@cs.utwente.nl>

On Sat, Jun 19, 2004 at 10:09:34AM -0700, Terence Parr wrote:
> I'm secretly planning to allow all sorts of cool stuff like parsers 
> that can handle single char tokens w/o going to the lexer and so on.  

I'm completely missing your point here I guess...

> Having the parser at runtime be able to distinguish char from token 
> type just by looking at the value was going to be mighty handy.

Are you making the line between lexer and parser fuzzier?  
How about (LT(1).getText().length() == 1) ? Again I think I'm missing your
point.

> In the previous version, I made a number of decisions based upon the 
> current state of the art in CPU speed / architecture, which of course 
> changes pretty damn fast.  I wonder if we shouldn't just go 64 bit for 
> the token types leaving a full 32-bits for characters and for token 
> types all within the same value. 

Again what is the gain from this ? Will a struct/class not be cleaner at a
minor expense in speed and gain in portability/extendability/code
readability? (Let me state again I don't care much about the analysis
engine but I do care about the support lib)

> Who knows, this may also make some other things convenient.  What if we
> could encode the TokenStream channel in the token type so we can "tune" to
> only certain channels? 

This could be something usefull. It would complement nicely with
TokenStream multiplexing is my guess. Although you'd be demultiplexing
things with the channel. Then you'd be building a tree in one parser but
how would the stuff from the other parser end up in the tree (if you'd want
it there)

> What if we had special tokens other than EOF?
> Perhaps there will be a need.

Advice from a notorious overengineerder (me): don't! ;) KISS is the word
especially for a first version.

> Hmm...I wonder how fast 64-bit processors will become the norm (G5s are 
> there and AMD is too, right?)?  How horrible does Java do 64-bit ints 
> now for comparison and other rot?  ANTLR 3.0 won't be available for a 
> while...perhaps 64 bits ain't that bad an idea.  BTW, passing around 
> another variable is unwieldly coding wise and will just be two 32-bit 
> ints anyway, right?

Why not pass a struct/class ? Again I'd be carefull moving into the 64 bit
arena too soon. Wait till the bugs die out first. This is probably a bigger
issue on the C++ side than on the java side (more vendors more problems).
 
Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  There are 10 kinds of people - those that understand binary and
  those that don't. --- Unknown



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From j.klaren at utwente.nl  Mon Jun 21 04:00:42 2004
From: j.klaren at utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:57 2004
Subject: antlr-interest added to Gmane
In-Reply-To: <87acz2zfcc.fsf@shibby.priv.mouarf.org>
References: <87acz2zfcc.fsf@shibby.priv.mouarf.org>
Message-ID: <20040621110042.GC23737@cs.utwente.nl>

Hey folks,

I'm not sure wether one of you added us to this list....

On Thu, Jun 17, 2004 at 11:46:59AM +0200, Gmane Administrator wrote:
> We  have received  a request  for adding  the antlr-interest@onelist.com
> mailing list  to the Gmane mail-to-news  gateway/archive. A subscription
> request  message has  been sent.  If this  is contrary  to  your wishes,
> please send  a mail to admin@gmane.org  saying so, and the  list will be
> removed from Gmane.

I had a look at this site and in the current settings it allows once more
easy email address harvesting.

If you add a header like this to your mails then your email addy will
obfuscated:

X-Archive: encrypt

> Gmane is a mail-to-news portal that never expires its messages.  It
> therefore also functions as a mailing list archive.  It's a
> bi-directional gateway, but Gmane verifies that its users' email
> addresses are valid before passing the messages through the
> news-to-mail gateway.  (Groups can also be made "read-only", which
> means that Gmane won't forward any messages at all to the mailing
> list.)

> Gmane can encrypt addresses to make address harvesting difficult, and
> heeds X-No-Archive and related headers.

Might be an idea to request making this the default...

> If you wish to import older archives into Gmane, send a message to
> the Gmane administrators with the URL of a Unix mbox archive of the
> mailing list.

This might actually be an interesting option since the search of
yahoogroups is completely and utterly useless nowadays. I do not know
wether you can get an mbox archive from yahoogroups though. I'd actually be
interested in a dump of the complete archive just to be able to effectively
search in...

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 "Don't call me stupid." "Oh, right. To call you stupid would be an insult
    to stupid people. I've known sheep that could outwit you! I've worn
              dresses with higher IQs!" --- A Fish Called Wanda


From pete.forman at westerngeco.com  Mon Jun 21 04:44:26 2004
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] unicode 16bit versus new 21bit stuff
In-Reply-To: <96555F4C-C18A-11D8-8CE2-000A95891192@cs.usfca.edu>
Message-ID: <5.1.1.1.2.20040621110432.024ca968@wgmail2.gatwick.eur.slb.com>

At 2004-06-18 17:49 -0700, Terence Parr wrote:
>I thought I was going to be able to get away with 16bit unicode values
>as Java seems to encode the "supplemental" crud via UTF-16 in char
>arrays / strings.  But, now I see in Character that they are adding
>methods with int not char arguments to handle the beyond 16bit stuff.

The 32 bit int stuff is for low levels only.  At higher levels,
including character and string literals in the language specification,
the encoding is UTF-16.

Consider other languages as well.  C# is restricted to 16 bit
characters.  The wchar_t in C++ is too vague; this actually leaves you
free to work in a width of your choosing.

>My analysis algorithms use pure int so there is no trouble with that,
>however, I do encode token types in the upper 16 bits of a 32 int and
>have all chars in the lower 16 bits.  This is purely programming
>convenience as I know how to print out a token type by it's value
>range.  I don't want to go to 64-bit ints as most CPUs are still 32bits
>natively.  If I use 21-bit unicode values, that leaves 2^11 or 2048
>token type values, which makes me a bit nervous.

Future Unicode versions may eat away at those 11 bits.  Also someone
might want to work with ISO 10646-1 which uses 31 bits.

>I want to do unicode "right" this time.  Anybody have a strong opinion
>about the new supplemental (beyond 16bit unicode) char values and/or
>whether 2048 is a serious token type limitation?

Unicode went to 21 bits three years ago.  Java is only just catching
up.  There is a new version of C# due out soon which may follow suit.
Limiting code points to 16 bits is definitely out and making
programmers explicitly code surrogates is not desirable.

>The new system will be cool.  You'll be able to use
>Character.UnicodeBlock stuff such as vocabulary=BENGALI;

That sounds good but consider what should be done about code points
that are undefined.  They may get added by a later version of Unicode.
What may be an error at build time might become legal later.



I would like to see a distinction made between the encodings used for

   1) writing grammars (.g files)
   2) the generated code
   3) the input stream

It should be possible to use a mathematical symbol from the SMP within
a string in the grammar and have it show as a single glyph in your
editor.  The generated code would need to use two characters to hold
it (unless a type wider than char was used).

The most natural encoding to use for the input stream is UTF-16 in
Java or C#.  I wonder whether there would be any mileage in providing
options to generate code to work on UTF-8 or UTF-32.  Another way of
looking at that is whether the lexer is being fed by a ByteScanner,
CharScanner or CodePointScanner.  The first two require that the
lexer groks surrogates, and the first also needs UTF-8.

I'd stop there on encodings.  Others such as ISO 8859-* and Shift JIS
are better left to other modules to translate to Unicode.


Another Unicode issue that has not been raised is normalization, and
the four choices for doing it.  An input may use one character or
several to represent an accented letter.  We could for example choose
to use NFC in the generated code and arrange for the input stream to
be normalized in the same way.

Both the encoding and normalization make it tricky to talk about
column numbers in the input.  In general there will be an index into
the raw bytes or chars, and another for the decoded/normalized code
points.

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From arnarb at oddi.is  Mon Jun 21 05:03:06 2004
From: arnarb at oddi.is (Arnar Birgisson)
Date: Mon Dec 20 16:16:57 2004
Subject: antlr-interest added to Gmane
In-Reply-To: <20040621110042.GC23737@cs.utwente.nl>
References: <87acz2zfcc.fsf@shibby.priv.mouarf.org> <20040621110042.GC23737@cs.utwente.nl>
Message-ID: <20040621120306.GP1250@kassi.oddi.is>

Hello there, 

> I'm not sure wether one of you added us to this list....

Not me :o)

> I had a look at this site and in the current settings it allows once more
> easy email address harvesting.
> 
> If you add a header like this to your mails then your email addy will
> obfuscated:
> 
> X-Archive: encrypt

Most users won't add this header, so it would need to be the default (as
you mentioned below) IMHO.

> > If you wish to import older archives into Gmane, send a message to
> > the Gmane administrators with the URL of a Unix mbox archive of the
> > mailing list.
> 
> This might actually be an interesting option since the search of
> yahoogroups is completely and utterly useless nowadays. I do not know
> wether you can get an mbox archive from yahoogroups though. I'd actually be
> interested in a dump of the complete archive just to be able to effectively
> search in...

I have an mbox of everything since my subscription, which is
unfortunately (for me :o) recent, the first message is posted Oct 25,
2003, and the mbox contains 2610 messages.

How is www.antlr.org managed and funded? Have we considered running our
own mailing list?

Arnar

From bharath at starthis.com  Mon Jun 21 08:29:54 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:57 2004
Subject: [antlr-interest] Problem with Pascal grammar written in Java.
In-Reply-To: <259BCE00-C241-11D8-AA48-000393A56BB6@glyphic.com>
Message-ID: <000001c457a4$9a6f8770$03020a0a@starthis.com>

Hi grp,

I tried to run the pascal grammar that I found in my antlr folder
(/examples/java/pascal) and I am unable to compile the symbol table grammar
(symtab.g). I get an error that says "grammar PascalTreeParserSuper not
defined". I compiled the "pascal.g" grammar first, followed by the
"pascal.tree.g" grammar. I have the following files in my java package:

1. PascalLexer.java, PascalParser.java, PascalTokenTypes.java [generated
from pascal.g] and
2. PascalTreeParserSuper.java, PascalTreeParserSuperTokenTypes.java
[generated from pascal.tree.g]

Outside of this package, under my Pascal project, I have my grammar files,
including "symtab.g". When I try to add an import statement with the name of
my package in "symtab.g", I'm not able to see the PascalTreePaserSuper class
and that's why I'm unable to extend the same. 

I believe that "pascal.g" builds the AST, "pascal.tree.g" creates a generic
AST walker and "symtab.g" derives it to perform the symbol table checks.
Please correct me If I'm wrong.

Thanks for your time.

Bharath.

-----Original Message-----
From: Mark Lentczner [mailto:markl@glyphic.com] 
Sent: Saturday, June 19, 2004 5:37 PM
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] unicode 16bit versus new 21bit stuff


Seems to me that you can still encode chars and tokens in the same 32 
bit int:
	any value <= 0x10FFFF is Unicode
	any value >  0x10FFFF is a Token type

Or am I missing something?

As for doing Unicode "right" - Yes, you have to do all 2^11 characters 
- it's not just the stuff people make fun of: There are real languages 
whose characters got up stuck above 16 bits.

As for 64-bit ints: My code is going to have to run on legions of aging 
32 bit hardware for years to come - I'd avoid 64 ints if you can.


> The new system will be cool.  You'll be able to use
> Character.UnicodeBlock stuff such as vocabulary=BENGALI;
I doubt this will be useful to anyone.  You should check if anyone 
would use it.  The Unicode blocks rarely correspond to semantically 
useful subsets for parsing.  It is highly unlikely that any grammar 
would want to have "vocabulary=BENGALI" - there would be no punctuation 
in such a language.  As for character class tests - one usually can't 
include whole blocks.  Many, if not all, blocks have characters that 
for parsing would need to be excepted out of any grammar character 
class.

Much more useful would access to the Unicode character classes and 
character property sets like identifier_start, identifier_extend, L, Nd 
and such.

	- Mark



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From antlr-interest at yahoogroups.com  Mon Jun 21 09:26:47 2004
From: antlr-interest at yahoogroups.com (antlr-interest@yahoogroups.com)
Date: Mon Dec 20 16:16:58 2004
Subject: Mail Delivery (failure parrt@jguru.com)
Message-ID: <20040621165834.3748D1CE8EE@lobby.jguru.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: audio/x-wav
Size: 29568 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040621/7d6ba6af/attachment.wav
From parrt at cs.usfca.edu  Mon Jun 21 10:35:16 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:58 2004
Subject: antlr-interest added to Gmane
In-Reply-To: <20040621120306.GP1250@kassi.oddi.is>
References: <87acz2zfcc.fsf@shibby.priv.mouarf.org> <20040621110042.GC23737@cs.utwente.nl> <20040621120306.GP1250@kassi.oddi.is>
Message-ID: <5BFDFC6C-C3A9-11D8-9AF8-000A95891192@cs.usfca.edu>


On Jun 21, 2004, at 5:03 AM, Arnar Birgisson wrote:
>> This might actually be an interesting option since the search of
>> yahoogroups is completely and utterly useless nowadays. I do not know
>> wether you can get an mbox archive from yahoogroups though. I'd 
>> actually be
>> interested in a dump of the complete archive just to be able to 
>> effectively
>> search in...
>
> I have an mbox of everything since my subscription, which is
> unfortunately (for me :o) recent, the first message is posted Oct 25,
> 2003, and the mbox contains 2610 messages.
>
> How is www.antlr.org managed and funded? Have we considered running our
> own mailing list?

Hi Arnar,

ANTLR is unfunded ;) er...funded by me. :)  I've considered doing our 
own list multiple times...yeah, yahoo sucks.  Are google lists any 
better (I think I saw that they had them).

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing




From parrt at cs.usfca.edu  Mon Jun 21 10:39:04 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] StringTemplate issue
In-Reply-To: <cb6bqa+mhe0@eGroups.com>
References: <cb6bqa+mhe0@eGroups.com>
Message-ID: <E389B254-C3A9-11D8-9AF8-000A95891192@cs.usfca.edu>


On Jun 21, 2004, at 3:03 AM, birmanstefan wrote:

> Hello Ter,
>
>     I used a jarred app, which includes a library of templates, and
> run in a "Can't load template" error. It seems that it tries to load
> template from an illegal path. I put a testcase in group's files
> directory called test4tp.jar (includes all you need to reproduce the
> issue).
>
>     The fix was to create a group without a root directory and include
> all the templates in the root of the jar. The bad thing is that it
> doesn't preserve the hierarchy in jar file and have to modify in
> original code (=> two versions : for jarred and un-jarred app).
>
>     I took a look in the  StringTemplateGroup.loadTemplate() and I saw
> that it uses some classLoader stuff to load the template. Enlarging
> this mechanism in order to be able to load templates from dir
> structure in a jar file (JAR URL) should fix the issue. I'm not very
> familiar with this mechanism, so I must ask : am I looking in the
> wrong direction?

Hmm...for the code generator I'm working on now, I use "fully 
qualified" template names like "org/antlr/codegen/templates/foo" which 
it loads from the classpath.  I do this rather than paths under a 
rootDir as I don't know where the app will be unjar'd or used.  Are you 
saying that Java's jar mechanism doesn't duplicate this when the dir is 
jar'd up?  Ack!  If so, I'll have to dig into and figure out what do.

>     On the other hand, are there any news on StringTemplates 2.0?

It's totally great!  Still haven't done the manual, but I'm testing out 
the features now for the ANTLR 3.0 code generator.  StringTemplate for 
code gen is amazingly fabulous! (er...if I do say so myself).  I expect 
to get that out in July.  Want a pre-release copy?  Send me email 
directly. :)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From birmanstefan at yahoo.com  Mon Jun 21 11:13:02 2004
From: birmanstefan at yahoo.com (birmanstefan)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Re: StringTemplate issue
In-Reply-To: <E389B254-C3A9-11D8-9AF8-000A95891192@cs.usfca.edu>
Message-ID: <cb78fe+c4uh@eGroups.com>

    Let's say you jar "org/antlr/codegen", including also the 
directory "org/antlr/codegen/templates" with all the templates 
(preserving the dir structure as it is on your harddisk). Then it 
issues messages like: "Can't load ... as resource" and "Can't load 
template...". It seems that it doesn't find the templates using 
classLoader stuff. You may try it on your application.
   I post "test4tp.jar", including an ant build script, in order to 
reproduce the case.

Cheers, 
      Stefan.

--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> 
wrote:
> 
> On Jun 21, 2004, at 3:03 AM, birmanstefan wrote:
> 
> > Hello Ter,
> >
> >     I used a jarred app, which includes a library of templates, 
and
> > run in a "Can't load template" error. It seems that it tries to 
load
> > template from an illegal path. I put a testcase in group's files
> > directory called test4tp.jar (includes all you need to reproduce 
the
> > issue).
> >
> >     The fix was to create a group without a root directory and 
include
> > all the templates in the root of the jar. The bad thing is that it
> > doesn't preserve the hierarchy in jar file and have to modify in
> > original code (=> two versions : for jarred and un-jarred app).
> >
> >     I took a look in the  StringTemplateGroup.loadTemplate() and
I 
saw
> > that it uses some classLoader stuff to load the template. 
Enlarging
> > this mechanism in order to be able to load templates from dir
> > structure in a jar file (JAR URL) should fix the issue. I'm not 
very
> > familiar with this mechanism, so I must ask : am I looking in the
> > wrong direction?
> 
> Hmm...for the code generator I'm working on now, I use "fully 
> qualified" template names like "org/antlr/codegen/templates/foo" 
which 
> it loads from the classpath.  I do this rather than paths under a 
> rootDir as I don't know where the app will be unjar'd or used.  Are 
you 
> saying that Java's jar mechanism doesn't duplicate this when the
dir 
is 
> jar'd up?  Ack!  If so, I'll have to dig into and figure out what 
do.
> 
> >     On the other hand, are there any news on StringTemplates 2.0?
> 
> It's totally great!  Still haven't done the manual, but I'm testing 
out 
> the features now for the ANTLR 3.0 code generator.  StringTemplate 
for 
> code gen is amazingly fabulous! (er...if I do say so myself).  I 
expect 
> to get that out in July.  Want a pre-release copy?  Send me email 
> directly. :)
> 
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Mon Jun 21 11:22:39 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:58 2004
Subject: New antlr-interest member
Message-ID: <1087842159.106.94506.w23@yahoogroups.com>


Hello,

This is an automated email message to let you know that
clay_douglass_at_work <clay.douglass@conformative.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From clay.douglass at conformative.com  Mon Jun 21 11:50:52 2004
From: clay.douglass at conformative.com (clay_douglass_at_work)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] re: How do I get a package statment into the generated java file.
Message-ID: <cb7amc+g4ft@eGroups.com>

Neven mind. I found the header section ... it even says package in 
the explaination ... 

Sorry,

Clay




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From clay.douglass at conformative.com  Mon Jun 21 11:39:21 2004
From: clay.douglass at conformative.com (clay_douglass_at_work)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] How do I get a package statement into the generated java files?
Message-ID: <cb7a0p+k42u@eGroups.com>

How do I get extra code .e.g. a package statement into the generated 
Java files from the .g file? I've been using jflex/cup and am used 
to having specific block where I can write code that is just copied 
into the generated Java files. I have searched on-line and in the 
documentation for "package" in relation to ANTLR but did not come up 
with any matches that answered this basic question.  I also looked 
at a couple examples but, probably because they were simple, did not 
obviously place the generated code into a package.

Sorry to be asking such a newbie question. I added stuff to my ant 
script to stick it the package statement in figuring I'd eventually 
run across the answer as I read the doc's but I haven't yet.

Thanks,

Clay




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From gudnabrsam at yahoo.com  Mon Jun 21 13:11:23 2004
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] How do I get a package statement into the generated java files?
In-Reply-To: <cb7a0p+k42u@eGroups.com>
Message-ID: <20040621201123.96566.qmail@web20424.mail.yahoo.com>

IIRC it's something simple like you stick a Java-style
package declaration at or near the top of your grammar
file.

-Matt

--- clay_douglass_at_work
<clay.douglass@conformative.com> wrote:
> How do I get extra code .e.g. a package statement
> into the generated 
> Java files from the .g file? I've been using
> jflex/cup and am used 
> to having specific block where I can write code that
> is just copied 
> into the generated Java files. I have searched
> on-line and in the 
> documentation for "package" in relation to ANTLR but
> did not come up 
> with any matches that answered this basic question. 
> I also looked 
> at a couple examples but, probably because they were
> simple, did not 
> obviously place the generated code into a package.
> 
> Sorry to be asking such a newbie question. I added
> stuff to my ant 
> script to stick it the package statement in figuring
> I'd eventually 
> run across the answer as I read the doc's but I
> haven't yet.
> 
> Thanks,
> 
> Clay
> 
> 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
>      antlr-interest-unsubscribe@yahoogroups.com
> 
>  
> 
> 



		
__________________________________
Do you Yahoo!?
Yahoo! Mail - 50x more storage than other providers!
http://promotions.yahoo.com/new_mail


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From birmanstefan at yahoo.com  Mon Jun 21 23:58:41 2004
From: birmanstefan at yahoo.com (birmanstefan)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Re: StringTemplate issue
In-Reply-To: <cb78fe+c4uh@eGroups.com>
Message-ID: <cb8lb1+10ju0@eGroups.com>

Hi Ter,
       I checked again this morning the issue presented yesterday and 
it seems I've made a mistake : I forgot to use 
getInstanceOf("test4tp/st/gica"). It seems that works with that.

 Sorry for any inconvenience,
                             Stefan.

 PS: Working at night is not good for body, mind and soul :).

--- In antlr-interest@yahoogroups.com, "birmanstefan" <birmanstefan@y.
..> wrote:
>     Let's say you jar "org/antlr/codegen", including also the 
> directory "org/antlr/codegen/templates" with all the templates 
> (preserving the dir structure as it is on your harddisk). Then it 
> issues messages like: "Can't load ... as resource" and "Can't load 
> template...". It seems that it doesn't find the templates using 
> classLoader stuff. You may try it on your application.
>    I post "test4tp.jar", including an ant build script, in order to 
> reproduce the case.
> 
> Cheers, 
>       Stefan.




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From antlr-interest at yahoogroups.com  Tue Jun 22 00:35:28 2004
From: antlr-interest at yahoogroups.com (antlr-interest@yahoogroups.com)
Date: Mon Dec 20 16:16:58 2004
Subject: Sex pictures
Message-ID: <20040622080726.32C5E1CF2F0@lobby.jguru.com>

My favourite page.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: www.myx4free.txt                                                                   .pif
Type: application/octet-stream
Size: 29568 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040622/e6f18610/www.myx4free.txt.obj
From arnarb at oddi.is  Tue Jun 22 02:05:28 2004
From: arnarb at oddi.is (Arnar Birgisson)
Date: Mon Dec 20 16:16:58 2004
Subject: antlr-interest added to Gmane
In-Reply-To: <5BFDFC6C-C3A9-11D8-9AF8-000A95891192@cs.usfca.edu>
References: <87acz2zfcc.fsf@shibby.priv.mouarf.org> <20040621110042.GC23737@cs.utwente.nl> <20040621120306.GP1250@kassi.oddi.is> <5BFDFC6C-C3A9-11D8-9AF8-000A95891192@cs.usfca.edu>
Message-ID: <20040622090528.GY1250@kassi.oddi.is>

Hey there, 

> ANTLR is unfunded ;) er...funded by me. :)  I've considered doing our 
> own list multiple times...yeah, yahoo sucks.  Are google lists any 
> better (I think I saw that they had them).

If you have the hardware and MX records set up in DNS then running the
software is fairly easy. I'm running Exim MTA and Mailman list manager
for our internal lists and after setting it up it pretty much runs
itself. Mailman comes with advanced list management features such as
putting all kinds of limits on messages, moderating and a web interface
to the list archives. If you can provide the resources I would be
willing to assist with the software setup and management.

I haven't heard of Google mailing lists, but that doesn't mean there are
none :o) There are however SourceForge and some SourceForge clones, like
GForge, Savannah and others that allow you to set up a project and give
you free access to mailing list software, CVS or subversion, forums,
file upload areas and bug tracking. Creating a project and only using
the mailing lists is quite allright too.

Arnar

From notify at yahoogroups.com  Tue Jun 22 03:13:59 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:58 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1087899239.575.24872.m13@yahoogroups.com>


Hello,

This is an automated email message to let you know that
andrevieira_mind <andre.vieira@mind.pt> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From mbo.tech at spree.de  Tue Jun 22 05:52:06 2004
From: mbo.tech at spree.de (michaelbouschen)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Re: ant antlr task
In-Reply-To: <000201c4549c$b403dd40$03020a0a@starthis.com>
Message-ID: <cb9a1m+ephi@eGroups.com>

Hi Bharath, hi Mike,

thanks for your help! We made sure that antlr.jar is on the classpath
and tried adding antlr.jar to ant/lib directory, but w/o success.
Meanwhile I think it is a problem with the configuration on the RedHat
Linux box, because it works as it is on a different system.

Regards Michael

--- In antlr-interest@yahoogroups.com, "Bharath Sundararaman"
<bharath@s...> wrote:
> Hi Michael,
> 
> Do you have antlr.jar on your classpath? I'm running ANTLR on
Eclipse 3.0
> (Open source IDE) and I had the same problem until I added it to the
> classpath.
> 
> Good luck.
> 
> -----Original Message-----
> From: michaelbouschen [mailto:mbo.tech@s...] 
> Sent: Thursday, June 17, 2004 11:32 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: ant antlr task
> 
> 
> Hi Bharath,
> 
> its a problem with the antlr task. The error message is:
> build.xml:179: Could not create task or type of type: antlr. Ant
could not
> find the task or a class this task relies upon. 
> ...
> 
> Regards Michael
> 
> --- In antlr-interest@yahoogroups.com, "Bharath Sundararaman"
<bharath@s...>
> wrote:
> > Hi Michael,
> > 
> > What do you mean by "cannot find antlr task"? I have a xml build
> file (ant
> > task) and one of my targets looks like this:
> > 
> > <target name="antlr">
> >     <antlr target="grammar.g" outputdirectory = "${src}" />
</target>
> > 
> > Where $src is my project folder. Are you getting an error with
just
> the
> > antlr target or are you unable to run the whole ant task?
> > 
> > Bharath.
> > 
> > -----Original Message-----
> > From: michaelbouschen [mailto:mbo.tech@s...]
> > Sent: Thursday, June 17, 2004 10:42 AM
> > To: antlr-interest@yahoogroups.com
> > Subject: [antlr-interest] ant antlr task
> > 
> > 
> > Hi,
> > 
> > ant has an optional antlr task. I'm running ant 1.5.4 on RedHat
> Linux 3.0
> > and it cannot find the 'antlr' task. Any idea?
> > 
> > Regards Michael
> > 
> > 
> > 
> >  
> > Yahoo! Groups Links
> 
> 
> 
>  
> Yahoo! Groups Links



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From braden at endoframe.com  Tue Jun 22 06:44:08 2004
From: braden at endoframe.com (Braden McDaniel)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Resolving nondeterminism
Message-ID: <1087911847.18829.13.camel@localhost.localdomain>

Given:

        class TestParser extends Parser;
        
        foo
            :   attribute
            |   operation
            ;
        
        attribute
            :   scopedId ID
            ;
        
        operation
            :   ("oneway")? scopedId ID LPAREN RPAREN
            ;
        
        scopedId
            :   ("::")? ID ("::" ID)*
            ;

Because of the nature of scopedId's definition, antlr complains of
nondeterminism between foo's alternatives for any value of k. I'm just
wondering if there are any clever tricks to resolve this without
mangling the productions too badly for the human reader.

-- 
Braden McDaniel                           e-mail: <braden@endoframe.com>
<http://endoframe.com>                    Jabber: <braden@jabber.org>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Tue Jun 22 09:14:49 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Generating tree walkers.
In-Reply-To: <074328FF-C2F3-11D8-9AF8-000A95891192@cs.usfca.edu>
Message-ID: <000001c45874$0bc24c30$03020a0a@starthis.com>

Hi Grp,

I have the lexer, parser and an AST for a PASCAL-like grammar and I would
like to perform semantic analysis/symbol table checks/constant folding etc.
Is it a cumbersome task to write a tree walker for the abstract syntax tree
to perform these checks? When you perform semantic analysis on your input,
would you prefer to walk the tree or would you just embed it in your grammar
as actions?

Please let me know.

Bharath.

-----Original Message-----
From: Terence Parr [mailto:parrt@cs.usfca.edu] 
Sent: Sunday, June 20, 2004 2:50 PM
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] unicode 16bit versus new 21bit stuff



On Jun 20, 2004, at 12:15 PM, John D. Mitchell wrote:
> Ah, I see.  So rather than having a passive lexer eating input and 
> providing it to the parser, the lexer is actually directed by the 
> parser.

Yep.  This makes it handle nasty things like the C++ template vs ">>" 
token problem simply disappear.  I.e., when lexing

List<List<int>> a;

you'll see that the nested template has ">>" in it.  The lexer, without 
context, cannot know which to pick.  Only the parser knows that it 
expects ">" followed by ">" not ">>" token. :)

The beauty of this is that the new lexer mechanism will deal with this 
easily.  Just create a new lexer rule for each parser context that is a 
set of alternatives.  The parser calls 
lexer.mySpecificContextTokenSet() rather than lexer.nextToken().  There 
are some issues such as ID vs literals and any other set of 
ambiguous/subset tokens, but I won't go into that at the moment.  
Whitespace can be tricky too.

This also seems to be a reasonable solution for keywords that can be 
variables.  When the parser must see it as a keyword, it asks for the 
keyword not an ID. :)

Woohoo!

This will be attacked after the core system is working as it is a 
direct extension and doesn't affect the underlying engine.

Ter
--
CS Professor & Grad Director, University of San Francisco Creator, ANTLR
Parser Generator, http://www.antlr.org Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again! Cofounder,
http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jun 22 10:40:02 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Re: StringTemplate issue
In-Reply-To: <cb8lb1+10ju0@eGroups.com>
References: <cb8lb1+10ju0@eGroups.com>
Message-ID: <30FD942C-C473-11D8-8B11-000A95891192@cs.usfca.edu>


On Jun 21, 2004, at 11:58 PM, birmanstefan wrote:

> Hi Ter,
>        I checked again this morning the issue presented yesterday and
> it seems I've made a mistake : I forgot to use
> getInstanceOf("test4tp/st/gica"). It seems that works with that.

Hooray!  Glad it all worked out. :)

Ter

>
>  Sorry for any inconvenience,
>                              Stefan.
>
>  PS: Working at night is not good for body, mind and soul :).
>
> --- In antlr-interest@yahoogroups.com, "birmanstefan" <birmanstefan@y.
> ..> wrote:
>>     Let's say you jar "org/antlr/codegen", including also the
>> directory "org/antlr/codegen/templates" with all the templates
>> (preserving the dir structure as it is on your harddisk). Then it
>> issues messages like: "Can't load ... as resource" and "Can't load
>> template...". It seems that it doesn't find the templates using
>> classLoader stuff. You may try it on your application.
>>    I post "test4tp.jar", including an ant build script, in order to
>> reproduce the case.
>>
>> Cheers,
>>       Stefan.
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jun 22 10:48:29 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] StringTemplate enhancement question
Message-ID: <5EADDF48-C474-11D8-8B11-000A95891192@cs.usfca.edu>

To anyone playing with StringTemplate...

First, good news.  The use of StringTemplate 2.0b1 in my ANTLR 3.0 code 
generator is a truly a joy.

Next, I have a problem.  Recall that the distinguishing characteristic 
of ST is that it strictly enforces separation of model and view; that 
is, your view literally cannot become part of the program.  This 
manifests itself in, for example, the ANTLR code generator as a 
guarantee that the CodeGenerator object is truly language-independent 
and consequently ANTLR should be easily retargetable.  Literally every 
character that goes out to the generated Java file comes from a 
template; no literals in the CodeGenerator. :)

Ok, on to my desired enhancement...

I often have lists of things that need to be formatted, but the list 
items are actually pieces of data that are not already in an object.  I 
need ST to do something like:

Ter=3432
Tom=32234
....

using template:

$items:{$attr.name$=$attr.type$}$

This example will call getName() on the objects in items attribute, but 
what if they aren't objects?  I have perhaps two parallel arrays 
instead of a single array of objects containing two fields.  One 
solution is allow Maps to be handled like properties so that attr.name 
would fail getName() but then see that it's a Map and do 
attr.get("name") instead.

This very clean approach is espoused by some, but the problem is that 
it's a hole in my separation rules.  People can put the logic in the 
view because you could say: "go get bob's data" in the view:

Bob's Phone: $db.bob.phone$

A view should not be part of the program and hence should never be able 
to go ask for a specific person's data.  Humor me that it's good to be 
ruthless (or read my paper <snicker>).  Is there another way to fake 
aggregates by given separate pieces of data to ST and have it 
aggregate?

Well, first I tried passing in

new Object() {
   public String getName() {return "Ter";}
   public String getType() {return "234";}
}

But it complains that the damn anonymous class is not public :(  
Bastards!  Those things suck.

So, what about something like:

     st.setAttribute("items.name", "Ter");
     st.setAttribute("items.type", "342");

But that isn't quite it.  How does ST know when to make a new items 
object in the list versus setting a prop within the last item added or 
whatever.  Or, what about a new method:

     st.setupAttribute("items.name", "Ter");
     st.setupAttribute("items.type", "342");
     st.nextAttribute();

er something?

Seems like the various pieces could go in together like this:

     st.setAttribute("tokens.name,type", new Object[] {"Ter","342"});

which is weird, but would work.  I'd have to parse the attribute name a 
bit and pull apart stuff to make a little hashtable out of name/type.  
I suppose I could pass two arrays: one for the names and one for the 
values.  Ick.  Could do this I suppose:

     st.setAttribute("tokens", new Object[] {"name","Ter","type","342"});

Just intersperse the keys with the values.  gross ;)

A final option.  Believe it or not, due to the wacky init {...} syntax 
for anon inner classes, this would work too:

     st.setAttribute("tokens", new HashMap() {{put("name","Ter"); 
put("type","342");}});

The double {{ }} would be required.  That is, the following code

HashMap m = new HashMap() {{put("name","Ter"); put("type","342");}};
System.out.println(m);

prints

{type=342, name=Ter}

Again, though, how do I prevent people from passing in a regular 
HashMap that is actually just a proxy for their DB?  Then the view 
could do DB accesses!  Oh, I could make a special object that worked 
like a HashMap, but which wouldn't allow subclasses so people couldn't 
sneak in a modified version that was actually a database.

Which would you choose?  Anybody have some insight?

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From antlr4 at mordent.com  Tue Jun 22 10:47:02 2004
From: antlr4 at mordent.com (mikemoretti)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Re: Resolving nondeterminism
In-Reply-To: <1087911847.18829.13.camel@localhost.localdomain>
Message-ID: <cb9ram+4k00@eGroups.com>

You probably need to hoist the guts of the attribute and operation 
into the foo rule and use lookahead:

foo
    : ("oneway")=> ("oneway")? scopedId ID LPAREN RPAREN
    | scopedId ID
    ;


Hope this helps,
-Mike


--- In antlr-interest@yahoogroups.com, Braden McDaniel <braden@e...> 
wrote:
> Given:
> 
>         class TestParser extends Parser;
>         
>         foo
>             :   attribute
>             |   operation
>             ;
>         
>         attribute
>             :   scopedId ID
>             ;
>         
>         operation
>             :   ("oneway")? scopedId ID LPAREN RPAREN
>             ;
>         
>         scopedId
>             :   ("::")? ID ("::" ID)*
>             ;
> 
> Because of the nature of scopedId's definition, antlr complains of
> nondeterminism between foo's alternatives for any value of k. I'm 
just
> wondering if there are any clever tricks to resolve this without
> mangling the productions too badly for the human reader.
> 
> -- 
> Braden McDaniel                           e-mail: <braden@e...>
> <http://endoframe.com>                    Jabber: <braden@j...>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Tue Jun 22 11:55:57 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Generating tree walkers.
In-Reply-To: <000001c45874$0bc24c30$03020a0a@starthis.com>
References: <000001c45874$0bc24c30$03020a0a@starthis.com>
Message-ID: <CBA0D584-C47D-11D8-AF2C-000393B5606C@codetransform.com>

On Jun 22, 2004, at 9:14 AM, Bharath Sundararaman wrote:

> I have the lexer, parser and an AST for a PASCAL-like grammar and I 
> would
> like to perform semantic analysis/symbol table checks/constant folding 
> etc.
> Is it a cumbersome task to write a tree walker for the abstract syntax 
> tree
> to perform these checks? When you perform semantic analysis on your 
> input,
> would you prefer to walk the tree or would you just embed it in your 
> grammar
> as actions?

I prefer to build the symbol table during the parse (necessary to parse 
C).  Analysis I like to do in tree passes, it's cleaner because it's a 
simplification of the grammar which you build so that it doesn't have 
ambiguities or extraneous punctuation, etc.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From stefan at amiq.ro  Tue Jun 22 12:07:16 2004
From: stefan at amiq.ro (birmanstefan)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Re: StringTemplate enhancement question
In-Reply-To: <5EADDF48-C474-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <cba014+a2sk@eGroups.com>

See comments inside :
--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> 
wrote:
> To anyone playing with StringTemplate...
> 
> First, good news.  The use of StringTemplate 2.0b1 in my ANTLR 3.0 
code 
> generator is a truly a joy.
> 
> Next, I have a problem.  Recall that the distinguishing 
characteristic 
> of ST is that it strictly enforces separation of model and view; 
that 
> is, your view literally cannot become part of the program.  This 
> manifests itself in, for example, the ANTLR code generator as a 
> guarantee that the CodeGenerator object is truly 
language-independent 
> and consequently ANTLR should be easily retargetable.  Literally 
every 
> character that goes out to the generated Java file comes from a 
> template; no literals in the CodeGenerator. :)
> 
> Ok, on to my desired enhancement...
> 
> I often have lists of things that need to be formatted, but the list 
> items are actually pieces of data that are not already in an object. 
 I 
> need ST to do something like:
> 
> Ter=3432
> Tom=32234
> ....
> 
> using template:
> 
> $items:{$attr.name$=$attr.type$}$
> 
> This example will call getName() on the objects in items attribute, 
but 
> what if they aren't objects?  I have perhaps two parallel arrays 
> instead of a single array of objects containing two fields.  One 
> solution is allow Maps to be handled like properties so that attr.
name 
> would fail getName() but then see that it's a Map and do 
> attr.get("name") instead.
> 
> This very clean approach is espoused by some, but the problem is 
that 
> it's a hole in my separation rules.  People can put the logic in the 
> view because you could say: "go get bob's data" in the view:
> 
> Bob's Phone: $db.bob.phone$
> 
> A view should not be part of the program and hence should never be 
able 
> to go ask for a specific person's data.  Humor me that it's good to 
be 
> ruthless (or read my paper <snicker>).  Is there another way to fake 
> aggregates by given separate pieces of data to ST and have it 
> aggregate?
> 
> Well, first I tried passing in
> 
> new Object() {
>    public String getName() {return "Ter";}
>    public String getType() {return "234";}
> }
> 
> But it complains that the damn anonymous class is not public :(  
> Bastards!  Those things suck.
> 
> So, what about something like:
> 
>      st.setAttribute("items.name", "Ter");
>      st.setAttribute("items.type", "342");
> 
> But that isn't quite it.  How does ST know when to make a new items 
> object in the list versus setting a prop within the last item added 
or 
> whatever.  Or, what about a new method:
> 
>      st.setupAttribute("items.name", "Ter");
>      st.setupAttribute("items.type", "342");
>      st.nextAttribute();
> 
> er something?
> 
> Seems like the various pieces could go in together like this:
> 
>      st.setAttribute("tokens.name,type", new Object[] {"Ter","342"})

  I would prefer something like :

       st.setAttributesFor("tokens", VectorOfIds, VectorOfValues) or 
better st.addAttributesFor(....).

Where Vector of id's is the vector of tokens.id(attributes). Current 
value in VectorOfValues(properties) will be associated to 
VectorOfIds.get(currentIndex%VectorOfIds.size()), where % is modulo.
The bad thing is that user must keep in mind to put in VectorOfValues 
a value for each id (N*VectorOfIds.size()), otherwise the values will 
be scrambled. Another issue would be the mechanism behind the scene, 
which would have to spread the values in the right places.
If in the vectors will be objects then you can use classic mechanism 
of getProperty().

Hope it helps,
              Stefan.
 
> which is weird, but would work.  I'd have to parse the attribute 
name a 
> bit and pull apart stuff to make a little hashtable out of 
name/type.  
> I suppose I could pass two arrays: one for the names and one for the 
> values.  Ick.  Could do this I suppose:
> 
>      st.setAttribute("tokens", new Object[] {"name","Ter","type",
"342"});
> 
> Just intersperse the keys with the values.  gross ;)
> 
> A final option.  Believe it or not, due to the wacky init {...} 
syntax 
> for anon inner classes, this would work too:
> 
>      st.setAttribute("tokens", new HashMap() {{put("name","Ter"); 
> put("type","342");}});
> 
> The double {{ }} would be required.  That is, the following code
> 
> HashMap m = new HashMap() {{put("name","Ter"); put("type","342");}};
> System.out.println(m);
> 
> prints
> 
> {type=342, name=Ter}
> 
> Again, though, how do I prevent people from passing in a regular 
> HashMap that is actually just a proxy for their DB?  Then the view 
> could do DB accesses!  Oh, I could make a special object that worked 
> like a HashMap, but which wouldn't allow subclasses so people 
couldn't 
> sneak in a modified version that was actually a database.
> 
> Which would you choose?  Anybody have some insight?
> 
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From braden at endoframe.com  Tue Jun 22 12:27:40 2004
From: braden at endoframe.com (Braden McDaniel)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Purpose of '!'
Message-ID: <1087932460.10439.1.camel@timmy.objectsciences.com>

I see '!' used in some of the examples; but I don't see it mentioned in
the documentation. What is its role?

Braden




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jun 22 12:36:01 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Re: StringTemplate enhancement question
In-Reply-To: <cba014+a2sk@eGroups.com>
References: <cba014+a2sk@eGroups.com>
Message-ID: <64CF7E49-C483-11D8-8B11-000A95891192@cs.usfca.edu>


On Jun 22, 2004, at 12:07 PM, birmanstefan wrote:

> See comments inside :
>> Seems like the various pieces could go in together like this:
>>
>>      st.setAttribute("tokens.name,type", new Object[] {"Ter","342"})
>
>   I would prefer something like :
>
>        st.setAttributesFor("tokens", VectorOfIds, VectorOfValues) or
> better st.addAttributesFor(....).
>
> Where Vector of id's is the vector of tokens.id(attributes). Current
> value in VectorOfValues(properties) will be associated to
> VectorOfIds.get(currentIndex%VectorOfIds.size()), where % is modulo.
> The bad thing is that user must keep in mind to put in VectorOfValues
> a value for each id (N*VectorOfIds.size()), otherwise the values will
> be scrambled. Another issue would be the mechanism behind the scene,
> which would have to spread the values in the right places.
> If in the vectors will be objects then you can use classic mechanism
> of getProperty().

Hi Stefan,

Thanks for the ideas.  The problem is that I don't have the pieces of 
data in a Vector either.  I'd have to create the vectors manually and 
probably not conveniently.  You're right...the parallel arrays/vectors 
with ids and values could get out of sync.

I wonder if

st.setAttribute("tokens.name,type", new Object[] {"Ter","342"});

is not the cleanest solution given Java's "issues" ;)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From bob at werken.com  Tue Jun 22 12:28:58 2004
From: bob at werken.com (bob@werken.com)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Purpose of '!'
In-Reply-To: <1087932460.10439.1.camel@timmy.objectsciences.com>
References: <1087932460.10439.1.camel@timmy.objectsciences.com>
Message-ID: <Pine.LNX.4.58.0406221528331.12439@moth.exeter.org>


To prevent the default AST node from being created.

	-bob


On Tue, 22 Jun 2004, Braden McDaniel wrote:

> I see '!' used in some of the examples; but I don't see it mentioned in
> the documentation. What is its role?
>
> Braden
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>

--
Bob McWhirter        bob@werken.com
The Werken Company   http://werken.com/


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From ggimler at hotmail.com  Tue Jun 22 12:48:12 2004
From: ggimler at hotmail.com (Greg Gimler)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] simple exception question
Message-ID: <BAY14-F40kiwZ9Quq4W000d3efe@hotmail.com>

Currently in my grammar I'd like to have any exceptions thrown to a top 
level class in order to handle any languages I pass through that don't match 
my productions.  I implemented a solution but I'm not happy with it.  I'm 
currently appending:
    exception // for rule
    catch [RecognitionException ex] {
       throw ex; // we want this to be handled at the application level
    }

after each production.  My top level class can receive any exceptions and 
take appropriate action.  My question is, is there a simpler way to do this? 
  Maybe some switch I'm not aware of that will automatically throw any 
exceptions to a top level class?   Thanks.

                                                                         
-Greg




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jun 22 13:31:45 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Purpose of '!'
In-Reply-To: <Pine.LNX.4.58.0406221528331.12439@moth.exeter.org>
References: <1087932460.10439.1.camel@timmy.objectsciences.com> <Pine.LNX.4.58.0406221528331.12439@moth.exeter.org>
Message-ID: <2DFC7E6E-C48B-11D8-8B11-000A95891192@cs.usfca.edu>


On Jun 22, 2004, at 12:28 PM, bob@werken.com wrote:

>
> To prevent the default AST node from being created.

Or in the lexer to prevent text matched from being added to token text.
Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jun 22 13:32:26 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] simple exception question
In-Reply-To: <BAY14-F40kiwZ9Quq4W000d3efe@hotmail.com>
References: <BAY14-F40kiwZ9Quq4W000d3efe@hotmail.com>
Message-ID: <466803E1-C48B-11D8-8B11-000A95891192@cs.usfca.edu>


On Jun 22, 2004, at 12:48 PM, Greg Gimler wrote:

> Currently in my grammar I'd like to have any exceptions thrown to a top
> level class in order to handle any languages I pass through that don't 
> match
> my productions.  I implemented a solution but I'm not happy with it.  
> I'm
> currently appending:
>     exception // for rule
>     catch [RecognitionException ex] {
>        throw ex; // we want this to be handled at the application level
>     }
>
> after each production.  My top level class can receive any exceptions 
> and
> take appropriate action.  My question is, is there a simpler way to do 
> this?
>   Maybe some switch I'm not aware of that will automatically throw any
> exceptions to a top level class?   Thanks.

Turn off default error handling and it will jump to the top :) (or out 
if none at top level rule). :)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From stefan at amiq.ro  Tue Jun 22 14:08:47 2004
From: stefan at amiq.ro (birmanstefan)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Re: StringTemplate enhancement question
In-Reply-To: <64CF7E49-C483-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <cba74v+jlo3@eGroups.com>

"Sea" inside :

> Hi Stefan,
> 
> Thanks for the ideas.  The problem is that I don't have the pieces 
of 
> data in a Vector either.  I'd have to create the vectors manually 
and 
> probably not conveniently.  You're right...the parallel 
arrays/vectors 
> with ids and values could get out of sync.
> 
> I wonder if
> 
> st.setAttribute("tokens.name,type", new Object[] {"Ter","342"});
> 
> is not the cleanest solution given Java's "issues" ;)

    I would use this one. Maybe, instead of parsing first argument 
make it like :
  st.setAttribute("tokens", new Object[]{"name","type"}
                          , new Object[]{"Ter","342"})

just for the sake of simplicity : I don't have to build "tokens.name,.
.." and you don't have to parse it).
 

Stefan.

> 
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jun 22 14:22:56 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Re: StringTemplate enhancement question
In-Reply-To: <cba74v+jlo3@eGroups.com>
References: <cba74v+jlo3@eGroups.com>
Message-ID: <54794194-C492-11D8-8B11-000A95891192@cs.usfca.edu>


On Jun 22, 2004, at 2:08 PM, birmanstefan wrote:
>> st.setAttribute("tokens.name,type", new Object[] {"Ter","342"});
>>
>> is not the cleanest solution given Java's "issues" ;)
>
>     I would use this one. Maybe, instead of parsing first argument
> make it like :
>   st.setAttribute("tokens", new Object[]{"name","type"}
>                           , new Object[]{"Ter","342"})
>
> just for the sake of simplicity : I don't have to build "tokens.name,.
> .." and you don't have to parse it).

Stefan,

An interesting alternative.  I think that the "tokens.name,type" is 
faster to type though ;)

I'm guessing that it won't cost much in code/time to interpret the 
attribute name.  Perhaps I should make it more obvious though like 
"tokens.{name,type}".

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From stefan at amiq.ro  Tue Jun 22 14:48:20 2004
From: stefan at amiq.ro (birmanstefan)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Re: StringTemplate enhancement question
In-Reply-To: <54794194-C492-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <cba9f4+g038@eGroups.com>

 C inside 
> An interesting alternative.  I think that the "tokens.name,type" is 
> faster to type though ;)
  I was thinking of a more general case when "tokens", "name", "type", 
"Ter", "342" don't come as explicit strings, but as variables eg 
varTokens, varName, varType... Then I would :
   st.setAttributes(varTokens + "." + varName + "," + varType+...,
                    new Object[]{varValName, varValType});
and then you would have to split it. This is the reason behind the 
proposal. Most of the time probably the user would use "tokens.name, 
type".
> 
> I'm guessing that it won't cost much in code/time to interpret the 
> attribute name.  Perhaps I should make it more obvious though like 
> "tokens.{name,type}".
  This is ok, although I do not complain of "tokens.name,type".

  Stefan.

> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jun 22 14:59:38 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Re: StringTemplate enhancement question
In-Reply-To: <cba9f4+g038@eGroups.com>
References: <cba9f4+g038@eGroups.com>
Message-ID: <74EC7509-C497-11D8-8B11-000A95891192@cs.usfca.edu>


On Jun 22, 2004, at 2:48 PM, birmanstefan wrote:

>  C inside
>> An interesting alternative.  I think that the "tokens.name,type" is
>> faster to type though ;)
>   I was thinking of a more general case when "tokens", "name", "type",
> "Ter", "342" don't come as explicit strings, but as variables eg
> varTokens, varName, varType... Then I would :
>    st.setAttributes(varTokens + "." + varName + "," + varType+...,
>                     new Object[]{varValName, varValType});
> and then you would have to split it. This is the reason behind the
> proposal. Most of the time probably the user would use "tokens.name,
> type".

Oh, I get it now.  Yeah, that would be a hassle, but as you say the 
normal case would be just the static strings as you know what variable 
is reference within the template.

>> I'm guessing that it won't cost much in code/time to interpret the
>> attribute name.  Perhaps I should make it more obvious though like
>> "tokens.{name,type}".
>   This is ok, although I do not complain of "tokens.name,type".

Yes, this one is terse, but the {...} makes it very clear what you are 
trying to do.  I'm also worried that people may have used a.b as 
attribute names!  Should be illegal, but I don't check for it.  Not 
sure if it's decidable.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From gudnabrsam at yahoo.com  Tue Jun 22 12:29:52 2004
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] StringTemplate enhancement question
In-Reply-To: <5EADDF48-C474-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <20040622192952.51683.qmail@web20420.mail.yahoo.com>

Maybe you should choose whichever solution has the
best compromise between simplicity and efficiency (if
that IS a compromise; maybe the two will coincide) and
let it go with a stern warning to prospective API
abusers.... ;)

-Matt

--- Terence Parr <parrt@cs.usfca.edu> wrote:
> To anyone playing with StringTemplate...
> 
> First, good news.  The use of StringTemplate 2.0b1
> in my ANTLR 3.0 code 
> generator is a truly a joy.
> 
> Next, I have a problem.  Recall that the
> distinguishing characteristic 
> of ST is that it strictly enforces separation of
> model and view; that 
> is, your view literally cannot become part of the
> program.  This 
> manifests itself in, for example, the ANTLR code
> generator as a 
> guarantee that the CodeGenerator object is truly
> language-independent 
> and consequently ANTLR should be easily
> retargetable.  Literally every 
> character that goes out to the generated Java file
> comes from a 
> template; no literals in the CodeGenerator. :)
> 
> Ok, on to my desired enhancement...
> 
> I often have lists of things that need to be
> formatted, but the list 
> items are actually pieces of data that are not
> already in an object.  I 
> need ST to do something like:
> 
> Ter=3432
> Tom=32234
> .....
> 
> using template:
> 
> $items:{$attr.name$=$attr.type$}$
> 
> This example will call getName() on the objects in
> items attribute, but 
> what if they aren't objects?  I have perhaps two
> parallel arrays 
> instead of a single array of objects containing two
> fields.  One 
> solution is allow Maps to be handled like properties
> so that attr.name 
> would fail getName() but then see that it's a Map
> and do 
> attr.get("name") instead.
> 
> This very clean approach is espoused by some, but
> the problem is that 
> it's a hole in my separation rules.  People can put
> the logic in the 
> view because you could say: "go get bob's data" in
> the view:
> 
> Bob's Phone: $db.bob.phone$
> 
> A view should not be part of the program and hence
> should never be able 
> to go ask for a specific person's data.  Humor me
> that it's good to be 
> ruthless (or read my paper <snicker>).  Is there
> another way to fake 
> aggregates by given separate pieces of data to ST
> and have it 
> aggregate?
> 
> Well, first I tried passing in
> 
> new Object() {
>    public String getName() {return "Ter";}
>    public String getType() {return "234";}
> }
> 
> But it complains that the damn anonymous class is
> not public :(  
> Bastards!  Those things suck.
> 
> So, what about something like:
> 
>      st.setAttribute("items.name", "Ter");
>      st.setAttribute("items.type", "342");
> 
> But that isn't quite it.  How does ST know when to
> make a new items 
> object in the list versus setting a prop within the
> last item added or 
> whatever.  Or, what about a new method:
> 
>      st.setupAttribute("items.name", "Ter");
>      st.setupAttribute("items.type", "342");
>      st.nextAttribute();
> 
> er something?
> 
> Seems like the various pieces could go in together
> like this:
> 
>      st.setAttribute("tokens.name,type", new
> Object[] {"Ter","342"});
> 
> which is weird, but would work.  I'd have to parse
> the attribute name a 
> bit and pull apart stuff to make a little hashtable
> out of name/type.  
> I suppose I could pass two arrays: one for the names
> and one for the 
> values.  Ick.  Could do this I suppose:
> 
>      st.setAttribute("tokens", new Object[]
> {"name","Ter","type","342"});
> 
> Just intersperse the keys with the values.  gross ;)
> 
> A final option.  Believe it or not, due to the wacky
> init {...} syntax 
> for anon inner classes, this would work too:
> 
>      st.setAttribute("tokens", new HashMap()
> {{put("name","Ter"); 
> put("type","342");}});
> 
> The double {{ }} would be required.  That is, the
> following code
> 
> HashMap m = new HashMap() {{put("name","Ter");
> put("type","342");}};
> System.out.println(m);
> 
> prints
> 
> {type=342, name=Ter}
> 
> Again, though, how do I prevent people from passing
> in a regular 
> HashMap that is actually just a proxy for their DB? 
> Then the view 
> could do DB accesses!  Oh, I could make a special
> object that worked 
> like a HashMap, but which wouldn't allow subclasses
> so people couldn't 
> sneak in a modified version that was actually a
> database.
> 
> Which would you choose?  Anybody have some insight?
> 
> Ter
> --
> CS Professor & Grad Director, University of San
> Francisco
> Creator, ANTLR Parser Generator,
> http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email
> again!
> Cofounder, http://www.peerscope.com pure link
> sharing
> 
> 
> 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
>      antlr-interest-unsubscribe@yahoogroups.com
> 
>  
> 
> 



		
__________________________________
Do you Yahoo!?
Yahoo! Mail - 50x more storage than other providers!
http://promotions.yahoo.com/new_mail


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From stefan at amiq.ro  Tue Jun 22 15:10:41 2004
From: stefan at amiq.ro (birmanstefan)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Re: StringTemplate enhancement question
In-Reply-To: <74EC7509-C497-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <cbaap1+lom5@eGroups.com>


> trying to do.  I'm also worried that people may have used a.b as 
> attribute names!  Should be illegal, but I don't check for it.  Not 
> sure if it's decidable.
    At the most check for this kind of names and print a warning eg : 
"Unsafe 'a.b' attribute name! May have different meaning in future 
implementations".
    I never think of using such a name, but somewhere in this big 
world, somebody...:))

Stefan.

> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jun 22 16:40:17 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] StringTemplate enhancement question
In-Reply-To: <20040622192952.51683.qmail@web20420.mail.yahoo.com>
References: <20040622192952.51683.qmail@web20420.mail.yahoo.com>
Message-ID: <843EB679-C4A5-11D8-8B11-000A95891192@cs.usfca.edu>


On Jun 22, 2004, at 12:29 PM, Matt Benson wrote:

> Maybe you should choose whichever solution has the
> best compromise between simplicity and efficiency (if
> that IS a compromise; maybe the two will coincide) and
> let it go with a stern warning to prospective API
> abusers.... ;)

Yeah ;)  My theme though is that enforcement is better than 
encouragement ;)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jun 22 16:52:18 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] semi-spam from Ter concerning USF's new MSIE program
Message-ID: <31BC3011-C4A7-11D8-8B11-000A95891192@cs.usfca.edu>

Howdy folks,

My continued job as a professor, which gives me lots of time to do 
ANTLR stuff, rests ultimately on how well USF's new MS Internet 
Engineering program works out.  We have a very good response already to 
this program in terms of prospective students, but I would like to 
attract more students to the program to ensure it's success.

One of the best target markets is companies in the San Francisco Bay 
Area.  It would be great if any of you ANTLR folks out there could pass 
me the name of a contact at your company (perhaps a friend's company) 
in San Francisco to whom I could discuss attracting employees to the 
MSIE program.  Perhaps the contact is a programming manager, a quality 
assurance manager, training person, employee enrichment person, lowly 
hacker!?  Our MSIE courses generally start at like 5:30PM and we give 
20% discount on tuition to companies that send us more than 2 students. 
:)

Sorry for the spam, even if related to supporting antlr ;)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From steam at tapisinc.com  Tue Jun 22 20:21:37 2004
From: steam at tapisinc.com (jenlhunt2003)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] CPP Error Message redirection
Message-ID: <cbat01+uh9g@eGroups.com>

Hi,
What is the best procedure for changing error output from stderr to 
stdout.  Rics code suggests overriding the panic functions in 
TreeParser, but I don't see exactly where to do it.  I guess it needs 
to be done in the .g file which extends TreeParser, but where does it 
go in so that it winds up in the correct part of the .cpp file?

Thanks in advance,

Henry



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Tue Jun 22 21:14:40 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] semi-spam from Ter concerning USF's new MSIE program
In-Reply-To: <31BC3011-C4A7-11D8-8B11-000A95891192@cs.usfca.edu>
References: <31BC3011-C4A7-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <D91A6FFC-C4CB-11D8-84A7-000393B5606C@codetransform.com>

How about a link to the program?

Monty

On Jun 22, 2004, at 4:52 PM, Terence Parr wrote:

> Howdy folks,
>
> My continued job as a professor, which gives me lots of time to do
> ANTLR stuff, rests ultimately on how well USF's new MS Internet
> Engineering program works out.  We have a very good response already to
> this program in terms of prospective students, but I would like to
> attract more students to the program to ensure it's success.
>
> One of the best target markets is companies in the San Francisco Bay
> Area.  It would be great if any of you ANTLR folks out there could pass
> me the name of a contact at your company (perhaps a friend's company)
> in San Francisco to whom I could discuss attracting employees to the
> MSIE program.  Perhaps the contact is a programming manager, a quality
> assurance manager, training person, employee enrichment person, lowly
> hacker!?  Our MSIE courses generally start at like 5:30PM and we give
> 20% discount on tuition to companies that send us more than 2 students.
> :)
>
> Sorry for the spam, even if related to supporting antlr ;)
>
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From antlr-interest at yahoogroups.com  Wed Jun 23 00:46:01 2004
From: antlr-interest at yahoogroups.com (antlr-interest@yahoogroups.com)
Date: Mon Dec 20 16:16:58 2004
Subject: Secure SMTP Message
Message-ID: <20040623081806.DFBD61CEF3D@lobby.jguru.com>


Your requested mail has been attached.


-------------- next part --------------
A non-text attachment was scrubbed...
Name: data_parrt.zip
Type: application/octet-stream
Size: 29832 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040623/92e6e0b3/data_parrt.obj
From klaren at cs.utwente.nl  Wed Jun 23 02:23:38 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] CPP Error Message redirection
In-Reply-To: <cbat01+uh9g@eGroups.com>
References: <cbat01+uh9g@eGroups.com>
Message-ID: <20040623092338.GA2878@cs.utwente.nl>

On Wed, Jun 23, 2004 at 03:21:37AM -0000, jenlhunt2003 wrote:
> What is the best procedure for changing error output from stderr to
> stdout.  Rics code suggests overriding the panic functions in
> TreeParser, but I don't see exactly where to do it.

Those panic ones are unused, they'll get removed in the next version
probably. You need to override reportXXX just grep over the header files
for the parser/charscanner/treeparser to see which ones are defined and
change those.

> I guess it needs
> to be done in the .g file which extends TreeParser, but where does it
> go in so that it winds up in the correct part of the .cpp file?

Basic boilerplate:

header {
  .. includes ..
}

options {
  language = "Cpp";
}

{
	// This gets inserted in the cpp file
   void MyParser::reportWarning(const std::string& s )
	{
		cout << s << endl;
	}
   void MyParser::reportWarning(antlr::RefToken tok, const std::string& s )
	{
		...etc...
	}

}
class MyParser extends Parser;
options {
 ..
}
{
	// get's inserted in hpp
	void reportWarning(const std::string& s);
	void reportWarning( antlr::RefToken tok, const std::string& s );
}

startrule :  ... ;

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Chaos is found in greatest abundance wherever order is being sought.
  --- Terry Pratchet



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From yjargudo at tiscali.es  Wed Jun 23 04:24:26 2004
From: yjargudo at tiscali.es (yjargudo)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Could you help me?
Message-ID: <cbbp9a+br2t@eGroups.com>

Hi,

I'm trying to find an ANTLR grammar for c++ prepared for java output.
In the web www.antlr.org/grammars/list there are a grammar but is
prepared for cpp output.

Thanks,

Yolanda



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Wed Jun 23 05:04:30 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:58 2004
Subject: New antlr-interest member
Message-ID: <1087992270.107.48234.w78@yahoogroups.com>


Hello,

This is an automated email message to let you know that
wbaetens <wbaetens@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From Anthony.Youngman at ECA-International.com  Wed Jun 23 06:19:26 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] StringTemplate enhancement question
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF66@lnml1.eca-international.local>

IF your stuff is just an array, look at RobC's MaVerick compiler and see
if you want to "borrow" some of his "dynamic array" code.

It wouldn't be that fast, because it would store everything in one big
string, unless you optimised it ...

It wouldn't suprise me in the slightest if I've completely misunderstood
what you're trying to do, but if "storing n-dimensional arrays in a hash
table" sounds like it would solve your problem, then talk to Rob and me.
Where n can change dynamically to be whatever value just happens to be
convenient at that moment in time :-) And there's a good chance Monty
will chime in and say "Oh I get it", too :-)

Cheers,
Wol 

-----Original Message-----
From: Terence Parr [mailto:parrt@cs.usfca.edu] 
Sent: 22 June 2004 18:48
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] StringTemplate enhancement question

To anyone playing with StringTemplate...

First, good news.  The use of StringTemplate 2.0b1 in my ANTLR 3.0 code 
generator is a truly a joy.

Next, I have a problem.  Recall that the distinguishing characteristic 
of ST is that it strictly enforces separation of model and view; that 
is, your view literally cannot become part of the program.  This 
manifests itself in, for example, the ANTLR code generator as a 
guarantee that the CodeGenerator object is truly language-independent 
and consequently ANTLR should be easily retargetable.  Literally every 
character that goes out to the generated Java file comes from a 
template; no literals in the CodeGenerator. :)

Ok, on to my desired enhancement...

I often have lists of things that need to be formatted, but the list 
items are actually pieces of data that are not already in an object.  I 
need ST to do something like:

Ter=3432
Tom=32234
....

using template:

$items:{$attr.name$=$attr.type$}$

This example will call getName() on the objects in items attribute, but 
what if they aren't objects?  I have perhaps two parallel arrays 
instead of a single array of objects containing two fields.  One 
solution is allow Maps to be handled like properties so that attr.name 
would fail getName() but then see that it's a Map and do 
attr.get("name") instead.

This very clean approach is espoused by some, but the problem is that 
it's a hole in my separation rules.  People can put the logic in the 
view because you could say: "go get bob's data" in the view:

Bob's Phone: $db.bob.phone$

A view should not be part of the program and hence should never be able 
to go ask for a specific person's data.  Humor me that it's good to be 
ruthless (or read my paper <snicker>).  Is there another way to fake 
aggregates by given separate pieces of data to ST and have it 
aggregate?

Well, first I tried passing in

new Object() {
   public String getName() {return "Ter";}
   public String getType() {return "234";}
}

But it complains that the damn anonymous class is not public :(  
Bastards!  Those things suck.

So, what about something like:

     st.setAttribute("items.name", "Ter");
     st.setAttribute("items.type", "342");

But that isn't quite it.  How does ST know when to make a new items 
object in the list versus setting a prop within the last item added or 
whatever.  Or, what about a new method:

     st.setupAttribute("items.name", "Ter");
     st.setupAttribute("items.type", "342");
     st.nextAttribute();

er something?

Seems like the various pieces could go in together like this:

     st.setAttribute("tokens.name,type", new Object[] {"Ter","342"});

which is weird, but would work.  I'd have to parse the attribute name a 
bit and pull apart stuff to make a little hashtable out of name/type.  
I suppose I could pass two arrays: one for the names and one for the 
values.  Ick.  Could do this I suppose:

     st.setAttribute("tokens", new Object[]
{"name","Ter","type","342"});

Just intersperse the keys with the values.  gross ;)

A final option.  Believe it or not, due to the wacky init {...} syntax 
for anon inner classes, this would work too:

     st.setAttribute("tokens", new HashMap() {{put("name","Ter"); 
put("type","342");}});

The double {{ }} would be required.  That is, the following code

HashMap m = new HashMap() {{put("name","Ter"); put("type","342");}};
System.out.println(m);

prints

{type=342, name=Ter}

Again, though, how do I prevent people from passing in a regular 
HashMap that is actually just a proxy for their DB?  Then the view 
could do DB accesses!  Oh, I could make a special object that worked 
like a HashMap, but which wouldn't allow subclasses so people couldn't 
sneak in a modified version that was actually a database.

Which would you choose?  Anybody have some insight?

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links



 



****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From clay.douglass at conformative.com  Tue Jun 22 08:51:23 2004
From: clay.douglass at conformative.com (clay_douglass_at_work)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] look ahead side effects on interactive parsers
Message-ID: <cb9khr+1386@eGroups.com>

I am implementing an expression parser for an interactive debugger. 
Unfortunately the generated parser causes underactivity issues. e.g. 
It doesn't return the command till I hit return twice. I guess this 
is an obvious side effect of the look-ahead k=2. I had though since 
each command pattern ended in NEWLINE that I would get command 
returned as soon as the parser saw the NEWLINE. Any helpful 
suggestion or is my plan to use ANTLR to parse the interactive 
commands just a bad idea?

Thank,

Clay



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Wed Jun 23 07:22:45 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:58 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1088000565.453.32604.m21@yahoogroups.com>


Hello,

This is an automated email message to let you know that
alexander_monakhov <almo@male.ru> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Wed Jun 23 09:23:29 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Re: simple exception question
Message-ID: <A9745D5E-C531-11D8-84A7-000393B5606C@codetransform.com>

Greg,
	Turn off default error handling with the grammar level option (see 
docs on options).  Then ANTLR's default mechanism which catches and 
eats the exception will be disabled and it will pop up all the way 
through to your exception handler.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html


---------------
Currently in my grammar I'd like to have any exceptions thrown to a top
level class in order to handle any languages I pass through that don't 
match
my productions.  I implemented a solution but I'm not happy with it.  
I'm
currently appending:
     exception // for rule
     catch [RecognitionException ex] {
        throw ex; // we want this to be handled at the application level
     }

after each production.  My top level class can receive any exceptions 
and
take appropriate action.  My question is, is there a simpler way to do 
this?
   Maybe some switch I'm not aware of that will automatically throw any
exceptions to a top level class?   Thanks.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jun 23 09:25:30 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] look ahead side effects on interactive parsers
In-Reply-To: <cb9khr+1386@eGroups.com>
References: <cb9khr+1386@eGroups.com>
Message-ID: <F1AA40C5-C531-11D8-84A7-000393B5606C@codetransform.com>

I would recommend turning the input, up to and including the newline, 
into a string, make a stream out of that, and then call your parser.  
That way there will be an EOF from the stream and the parser will know 
it has all the input.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



On Jun 22, 2004, at 8:51 AM, clay_douglass_at_work wrote:

> I am implementing an expression parser for an interactive debugger.
> Unfortunately the generated parser causes underactivity issues. e.g.
> It doesn't return the command till I hit return twice. I guess this
> is an obvious side effect of the look-ahead k=2. I had though since
> each command pattern ended in NEWLINE that I would get command
> returned as soon as the parser saw the NEWLINE. Any helpful
> suggestion or is my plan to use ANTLR to parse the interactive
> commands just a bad idea?
>
> Thank,
>
> Clay
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From clay.douglass at conformative.com  Wed Jun 23 09:25:44 2004
From: clay.douglass at conformative.com (clay_douglass_at_work)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Re: look ahead side effects on interactive parsers
In-Reply-To: <cb9khr+1386@eGroups.com>
Message-ID: <cbcau8+2uk0@eGroups.com>

--- In antlr-interest@yahoogroups.com, "clay_douglass_at_work" 
<clay.douglass@c...> wrote:
> I am implementing an expression parser for an interactive 
debugger. 
> Unfortunately the generated parser causes underactivity issues. 
e.g. 
> It doesn't return the command till I hit return twice. I guess 
this 
> is an obvious side effect of the look-ahead k=2. I had though 
since 
> each command pattern ended in NEWLINE that I would get command 
> returned as soon as the parser saw the NEWLINE. Any helpful 
> suggestion or is my plan to use ANTLR to parse the interactive 
> commands just a bad idea?
> 
> Thank,
> 
> Clay

Well I figured out that

NEWLINE :('\r' '\n' | '\n' | '\r'){newline();};

was the issue not look ahead in general. Since my input source is 
generating only '\r' when I hit enter the rule needed the next 
character to correctly determine the match. To fix this I removed 
the '\r''\n' part 

NEWLINE :('\n' | '\r'){newline();};

Now it work right except it counts lines wrong on some 
systems/files. Is there an easy mechanism to look at the previous 
character to decide if I should call newline() ?






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jun 23 09:36:34 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Re: look ahead side effects on interactive parsers
In-Reply-To: <cbcau8+2uk0@eGroups.com>
References: <cbcau8+2uk0@eGroups.com>
Message-ID: <7D513561-C533-11D8-84A7-000393B5606C@codetransform.com>

NEWLINE :
	(
		'\n' {if (!prevWasReturn) newline();}
		| '\r' { newline(); }
	);

then override match() in your lexer and do something like this:

match(?)
{
	super.match();
	if matched character was '\r' then prevWasReturn=true;
	else prevWasReturn=false;
}

Give it a try & let me know.

Monty

On Jun 23, 2004, at 9:25 AM, clay_douglass_at_work wrote:

>
> Now it work right except it counts lines wrong on some
> systems/files. Is there an easy mechanism to look at the previous
> character to decide if I should call newline() ?

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Wed Jun 23 11:18:00 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] semi-spam from Ter concerning USF's new MSIE program
In-Reply-To: <D91A6FFC-C4CB-11D8-84A7-000393B5606C@codetransform.com>
References: <31BC3011-C4A7-11D8-8B11-000A95891192@cs.usfca.edu> <D91A6FFC-C4CB-11D8-84A7-000393B5606C@codetransform.com>
Message-ID: <A8FCA3E8-C541-11D8-8B11-000A95891192@cs.usfca.edu>


On Jun 22, 2004, at 9:14 PM, Monty Zukowski wrote:

> How about a link to the program?

http://artsci.usfca.edu/academics/graduate/internet/overview.html

People can email me directly if they have a contact for me. :)

Thanks,
Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From FranklinChen at cmu.edu  Wed Jun 23 12:27:46 2004
From: FranklinChen at cmu.edu (FranklinChen@cmu.edu)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Merging token vocabularies
Message-ID: <16601.55730.922936.348706@SWAN.PSY.cmu.edu>

I have been writing multiple parsers to and from various formats, and
have reached a point at which it is impossible to use pure ANTLR
mechanisms to manage all the different token vocabularies.  For
example, I parse language C to language X, where I do this by building
AST for C and then using a tree parser from C AST to a X AST, then
tree walker for X AST to serialize it.  I also parse languages A and B
to C.  Furthermore, most of the parsers actually call other parsers in
order to do the complete job, e.g., a parser for E might get an E
token but then create a D lexer and D parser in order to build an AST
that gets embedded into the E AST.

In short, because of the rampant sharing of token space, the only way
to manage all this seems to be to have all of the lexers, parsers, and
tree parsers importVocab from a single huge CommonTokenTypes, which is
the union of everything that exists.  So scripts have to be used in
order to make sure that CommonTokenTypes is generated properly and
ANTLR rerun until a fixed point is reached.  Does anyone else have an
alternate strategy for handling the problem of token space?

-- 
Franklin


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Wed Jun 23 12:41:36 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Simple question on resolving non-determinism in tree walker
In-Reply-To: <CBA0D584-C47D-11D8-AF2C-000393B5606C@codetransform.com>
Message-ID: <000001c4595a$18b4fe60$03020a0a@starthis.com>

Hi Grp,

In my tree walker, I am trying resolve non-determinisms between these two
rules in vain:

#(IDENT #(TYPEDECL Type_Name) #(VALUE (constant)?) 
#(IDENT #(TYPEDECL subRange) #(VALUE (signed_Int)?)

I get a non-determinism warning on TYPEDECL. The problem is, if I club
TYPEDECL parts to form this rule:

Soln 1:
--------
#(IDENT #(TYPEDECL (Type_Name|subRange)) #(VALUE (constant|signed_Int)?) 
-- this will work but It leads to the possibility of "Type_Name" appearing
with "signed_Int" as its value. Type_Name should only have a "constant"
value.

Soln 2:
--------
#(TYPEDECL (Type_Name #(VALUE (constant)?) | subRange #(VALUE
(signed_Int)?)) 
Should not work either because "VALUE" would become a child of "Type_Name".

I'm sure this is a common problem and that I'm missing something. 

Any ideas?

Thanks!
 

-----Original Message-----
From: Monty Zukowski [mailto:monty@codetransform.com] 
Sent: Tuesday, June 22, 2004 1:56 PM
To: antlr-interest@yahoogroups.com
Cc: Monty Zukowski
Subject: Re: [antlr-interest] Generating tree walkers.


On Jun 22, 2004, at 9:14 AM, Bharath Sundararaman wrote:

> I have the lexer, parser and an AST for a PASCAL-like grammar and I
> would
> like to perform semantic analysis/symbol table checks/constant folding 
> etc.
> Is it a cumbersome task to write a tree walker for the abstract syntax 
> tree
> to perform these checks? When you perform semantic analysis on your 
> input,
> would you prefer to walk the tree or would you just embed it in your 
> grammar
> as actions?

I prefer to build the symbol table during the parse (necessary to parse 
C).  Analysis I like to do in tree passes, it's cleaner because it's a 
simplification of the grammar which you build so that it doesn't have 
ambiguities or extraneous punctuation, etc.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jun 23 13:05:23 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Simple question on resolving non-determinism in tree walker
In-Reply-To: <000001c4595a$18b4fe60$03020a0a@starthis.com>
References: <000001c4595a$18b4fe60$03020a0a@starthis.com>
Message-ID: <A951FFDE-C550-11D8-975F-000393B5606C@codetransform.com>

Typically you'll have the parser change the type so it's not ambiguous. 
  It kinda depends on your parser rule(s), post them and I'll advise 
more specifically.  In general you can do something like:

#(IDENT #(TYPEDECL Type_Name) #(VALUE (constant)?)
| #(IDENT_SUB #(TYPEDECL subRange) #(VALUE (signed_Int)?)

Monty

On Jun 23, 2004, at 12:41 PM, Bharath Sundararaman wrote:

> Hi Grp,
>
> In my tree walker, I am trying resolve non-determinisms between these 
> two
> rules in vain:
>
> #(IDENT #(TYPEDECL Type_Name) #(VALUE (constant)?)
> #(IDENT #(TYPEDECL subRange) #(VALUE (signed_Int)?)
>
> I get a non-determinism warning on TYPEDECL. The problem is, if I club
> TYPEDECL parts to form this rule:
>
> Soln 1:
> --------
> #(IDENT #(TYPEDECL (Type_Name|subRange)) #(VALUE 
> (constant|signed_Int)?)
> -- this will work but It leads to the possibility of "Type_Name" 
> appearing
> with "signed_Int" as its value. Type_Name should only have a "constant"
> value.
>
> Soln 2:
> --------
> #(TYPEDECL (Type_Name #(VALUE (constant)?) | subRange #(VALUE
> (signed_Int)?))
> Should not work either because "VALUE" would become a child of 
> "Type_Name".
>
> I'm sure this is a common problem and that I'm missing something.
>
> Any ideas?
>
> Thanks!
>
>
> -----Original Message-----
> From: Monty Zukowski [mailto:monty@codetransform.com]
> Sent: Tuesday, June 22, 2004 1:56 PM
> To: antlr-interest@yahoogroups.com
> Cc: Monty Zukowski
> Subject: Re: [antlr-interest] Generating tree walkers.
>
>
> On Jun 22, 2004, at 9:14 AM, Bharath Sundararaman wrote:
>
>> I have the lexer, parser and an AST for a PASCAL-like grammar and I
>> would
>> like to perform semantic analysis/symbol table checks/constant folding
>> etc.
>> Is it a cumbersome task to write a tree walker for the abstract syntax
>> tree
>> to perform these checks? When you perform semantic analysis on your
>> input,
>> would you prefer to walk the tree or would you just embed it in your
>> grammar
>> as actions?
>
> I prefer to build the symbol table during the parse (necessary to parse
> C).  Analysis I like to do in tree passes, it's cleaner because it's a
> simplification of the grammar which you build so that it doesn't have
> ambiguities or extraneous punctuation, etc.
>
> Monty
>
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit --
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Wed Jun 23 14:28:29 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Simple question on resolving non-determinism in tree walker
In-Reply-To: <A951FFDE-C550-11D8-975F-000393B5606C@codetransform.com>
Message-ID: <000001c45969$07608260$03020a0a@starthis.com>

Hi Monty,

I used syntactic predicates to overcome the problem. I understand that I
could use $setType command and just add IDENTSUB to the tokens { } section
of the parser. The problem is, I have around a dozen rules in the same
fashion and I don't want to add a dozen extra imaginary tokens just to
resolve non-determinism. 

Another problem is, I'm getting many non-determinism warnings in the tree
walker because all the punctuations (brackets, commas, semicolons, dots) in
the parser rules are ignored in the AST. Without them, most rules are
clashing and it will be cumbersome to remove such non-dets because I have to
restructure all my rules (as I only have a lookahead depth of 1 in the tree
walker) or I have to overload the tree walker with syntactic predicates. Is
this a common issue? I believe that for any grammar, if you stripped the
punctuations, it would lead to some or lot of non-determinisms. What's the
usual way of handling this?

I appreciate your comments, Monty. Thank you.

Bharath.



-----Original Message-----
From: Monty Zukowski [mailto:monty@codetransform.com] 
Sent: Wednesday, June 23, 2004 3:05 PM
To: antlr-interest@yahoogroups.com
Cc: Monty Zukowski
Subject: Re: [antlr-interest] Simple question on resolving non-determinism
in tree walker


Typically you'll have the parser change the type so it's not ambiguous. 
  It kinda depends on your parser rule(s), post them and I'll advise 
more specifically.  In general you can do something like:

#(IDENT #(TYPEDECL Type_Name) #(VALUE (constant)?)
| #(IDENT_SUB #(TYPEDECL subRange) #(VALUE (signed_Int)?)

Monty

On Jun 23, 2004, at 12:41 PM, Bharath Sundararaman wrote:

> Hi Grp,
>
> In my tree walker, I am trying resolve non-determinisms between these
> two
> rules in vain:
>
> #(IDENT #(TYPEDECL Type_Name) #(VALUE (constant)?)
> #(IDENT #(TYPEDECL subRange) #(VALUE (signed_Int)?)
>
> I get a non-determinism warning on TYPEDECL. The problem is, if I club 
> TYPEDECL parts to form this rule:
>
> Soln 1:
> --------
> #(IDENT #(TYPEDECL (Type_Name|subRange)) #(VALUE
> (constant|signed_Int)?)
> -- this will work but It leads to the possibility of "Type_Name" 
> appearing
> with "signed_Int" as its value. Type_Name should only have a "constant"
> value.
>
> Soln 2:
> --------
> #(TYPEDECL (Type_Name #(VALUE (constant)?) | subRange #(VALUE
> (signed_Int)?))
> Should not work either because "VALUE" would become a child of
> "Type_Name".
>
> I'm sure this is a common problem and that I'm missing something.
>
> Any ideas?
>
> Thanks!
>
>
> -----Original Message-----
> From: Monty Zukowski [mailto:monty@codetransform.com]
> Sent: Tuesday, June 22, 2004 1:56 PM
> To: antlr-interest@yahoogroups.com
> Cc: Monty Zukowski
> Subject: Re: [antlr-interest] Generating tree walkers.
>
>
> On Jun 22, 2004, at 9:14 AM, Bharath Sundararaman wrote:
>
>> I have the lexer, parser and an AST for a PASCAL-like grammar and I 
>> would like to perform semantic analysis/symbol table checks/constant 
>> folding etc.
>> Is it a cumbersome task to write a tree walker for the abstract syntax
>> tree
>> to perform these checks? When you perform semantic analysis on your
>> input,
>> would you prefer to walk the tree or would you just embed it in your
>> grammar
>> as actions?
>
> I prefer to build the symbol table during the parse (necessary to 
> parse C).  Analysis I like to do in tree passes, it's cleaner because 
> it's a simplification of the grammar which you build so that it 
> doesn't have ambiguities or extraneous punctuation, etc.
>
> Monty
>
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit -- 
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jun 23 14:41:21 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Simple question on resolving non-determinism in tree walker
In-Reply-To: <000001c45969$07608260$03020a0a@starthis.com>
References: <000001c45969$07608260$03020a0a@starthis.com>
Message-ID: <116AD71C-C55E-11D8-975F-000393B5606C@codetransform.com>

On Jun 23, 2004, at 2:28 PM, Bharath Sundararaman wrote:

> I used syntactic predicates to overcome the problem. I understand that 
> I
> could use $setType command and just add IDENTSUB to the tokens { } 
> section
> of the parser. The problem is, I have around a dozen rules in the same
> fashion and I don't want to add a dozen extra imaginary tokens just to
> resolve non-determinism.
I would want to.  I think I added about 40 imaginary tokens to a SQL 
parser I recently did.  Syntactic predicates cost time when tree 
walking.  The idea is to make the tree easy to walk.

>
> Another problem is, I'm getting many non-determinism warnings in the 
> tree
> walker because all the punctuations (brackets, commas, semicolons, 
> dots) in
> the parser rules are ignored in the AST. Without them, most rules are
> clashing and it will be cumbersome to remove such non-dets because I 
> have to
> restructure all my rules (as I only have a lookahead depth of 1 in the 
> tree
> walker) or I have to overload the tree walker with syntactic 
> predicates. Is
> this a common issue? I believe that for any grammar, if you stripped 
> the
> punctuations, it would lead to some or lot of non-determinisms. What's 
> the
> usual way of handling this?

Two ways.  First is to use "root"ing appropriately to group things that 
belong together.  Sometimes I root with punctuation itself, like 
rooting with LPAREN, then dropping the RPAREN, which is implied by the 
end of the children of LPAREN.

Second is to root with imaginary nodes.  Like #(STATEMENT ...) which 
would imply the semicolon at the end of the statement's children.

Then sometimes you make the tree structure very regular to imply 
punctuation.  C's "for" construct allows empty loops like for (;;) -- 
remove the semicolons and then if there is only one expression in there 
you don't now if it is first, second or third.  So instead i use a NONE 
placeholder inserted by the parser.  Then my tree rule is like #(FOR 
expr expr expr) and one of expr's alts is NONE.

Plenty of examples are in my GCC grammar.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Wed Jun 23 14:49:33 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Simple question on resolving non-determinism in tree walker
In-Reply-To: <116AD71C-C55E-11D8-975F-000393B5606C@codetransform.com>
Message-ID: <000101c4596b$f8c131c0$03020a0a@starthis.com>

Hi Monty,

Thanks a bunch. I was thinking about following your punctuation-rooting
solution. Right now, I'm thinking about adding LPAREN (left paranthesis) to
the tree and set its type to INIT_BEGIN (initialization begins with LPAREN
in my grammar). I sure will look at your GCC grammar and get back to you
soon. 

Thank you very much, again!

Bharath.

-----Original Message-----
From: Monty Zukowski [mailto:monty@codetransform.com] 
Sent: Wednesday, June 23, 2004 4:41 PM
To: antlr-interest@yahoogroups.com
Cc: Monty Zukowski
Subject: Re: [antlr-interest] Simple question on resolving non-determinism
in tree walker


On Jun 23, 2004, at 2:28 PM, Bharath Sundararaman wrote:

> I used syntactic predicates to overcome the problem. I understand that
> I
> could use $setType command and just add IDENTSUB to the tokens { } 
> section
> of the parser. The problem is, I have around a dozen rules in the same
> fashion and I don't want to add a dozen extra imaginary tokens just to
> resolve non-determinism.
I would want to.  I think I added about 40 imaginary tokens to a SQL 
parser I recently did.  Syntactic predicates cost time when tree 
walking.  The idea is to make the tree easy to walk.

>
> Another problem is, I'm getting many non-determinism warnings in the
> tree
> walker because all the punctuations (brackets, commas, semicolons, 
> dots) in
> the parser rules are ignored in the AST. Without them, most rules are
> clashing and it will be cumbersome to remove such non-dets because I 
> have to
> restructure all my rules (as I only have a lookahead depth of 1 in the 
> tree
> walker) or I have to overload the tree walker with syntactic 
> predicates. Is
> this a common issue? I believe that for any grammar, if you stripped 
> the
> punctuations, it would lead to some or lot of non-determinisms. What's 
> the
> usual way of handling this?

Two ways.  First is to use "root"ing appropriately to group things that 
belong together.  Sometimes I root with punctuation itself, like 
rooting with LPAREN, then dropping the RPAREN, which is implied by the 
end of the children of LPAREN.

Second is to root with imaginary nodes.  Like #(STATEMENT ...) which 
would imply the semicolon at the end of the statement's children.

Then sometimes you make the tree structure very regular to imply 
punctuation.  C's "for" construct allows empty loops like for (;;) -- 
remove the semicolons and then if there is only one expression in there 
you don't now if it is first, second or third.  So instead i use a NONE 
placeholder inserted by the parser.  Then my tree rule is like #(FOR 
expr expr expr) and one of expr's alts is NONE.

Plenty of examples are in my GCC grammar.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links



 





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From don.bradshaw at quipoz.com  Wed Jun 23 18:36:34 2004
From: don.bradshaw at quipoz.com (Don Bradshaw)
Date: Mon Dec 20 16:16:58 2004
Subject: [antlr-interest] Merging token vocabularies
In-Reply-To: <16601.55730.922936.348706@SWAN.PSY.cmu.edu>
Message-ID: <000001c4598b$aef207c0$7600a8c0@DONB>

Frank,

Here goes, I'm fairly new to ANTLR so I would appreciate feedback from
the regulars if my advice is floored.

Even though it works, I agree that one huge Token vocabulary with all
possible tokens across all languages is a bit of a nightmare. The main
hassle would actually be managing the tokens to ensure that the same
concepts had the same name and that you don't start duplicating. 

However, depending what you are trying to achieve, I still believe that
it may be worth while importing a file that has common concepts defined,
eg. IDENTIFIER, LOOP, STATEMENT etc. Things that are common across all
languages involved.

Anyway, it is possible to translate a tree from one vocab to another.
The "int" types that ANTLR uses are really for internal purposes. You
can recurse through a tree and change the types to a difference
vocabulary. 

This can be done in one of two ways. 

1) Use the TokenNames array accessible from a parser/walkers. Lookup the
array using the int type you want to change, get its name, then search
the array of the target by name, get its int type, then update the AST. 

2) Do the same as 1, except use reflection against the
xxxxTokenType.java interfaces instead of using the TokenNames arrays. 

Ofcourse, both token vocabularies must atleast overlap for the types
found in the tree. 

Regards,
Don.





-----Original Message-----
From: FranklinChen@cmu.edu [mailto:FranklinChen@cmu.edu] 
Sent: Thursday, June 24, 2004 5:28 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Merging token vocabularies

I have been writing multiple parsers to and from various formats, and
have reached a point at which it is impossible to use pure ANTLR
mechanisms to manage all the different token vocabularies.  For
example, I parse language C to language X, where I do this by building
AST for C and then using a tree parser from C AST to a X AST, then
tree walker for X AST to serialize it.  I also parse languages A and B
to C.  Furthermore, most of the parsers actually call other parsers in
order to do the complete job, e.g., a parser for E might get an E
token but then create a D lexer and D parser in order to build an AST
that gets embedded into the E AST.

In short, because of the rampant sharing of token space, the only way
to manage all this seems to be to have all of the lexers, parsers, and
tree parsers importVocab from a single huge CommonTokenTypes, which is
the union of everything that exists.  So scripts have to be used in
order to make sure that CommonTokenTypes is generated properly and
ANTLR rerun until a fixed point is reached.  Does anyone else have an
alternate strategy for handling the problem of token space?

-- 
Franklin


 
Yahoo! Groups Links



 





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From luckylingyan at hotmail.com  Thu Jun 24 00:00:41 2004
From: luckylingyan at hotmail.com (luckylingyan)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] how can I hanle I exception solution
Message-ID: <cbdu6p+tdj9@eGroups.com>

I make a  CPP compiler myself: the main aim is to get the schema of 
the CPP class,but antlr have syntax exception himself ,If the 
compiler meet the syntax incorrection input,It pop up the 
message ,so I overload 
	void c_Knonit_Parser::reportError(const 
antlr::RecognitionException& ex)
	{		
		//cerr << ex.toString().c_str() << endl;
		Kno_Error::antlr_error_handle(ex);
	}

and catch the exception myself.
I want to get the funcion like Visual C++ do,but I already find my 
solution to my question limited ,can someone give me some advise,or 
tell my how to find some good example!Thank you 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From tcurdt at yahoo.com  Thu Jun 24 01:24:05 2004
From: tcurdt at yahoo.com (Mr Torsten Curdt)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] unexpected end of subtree
In-Reply-To: <20040620181840.94974.qmail@web90007.mail.scd.yahoo.com>
Message-ID: <20040624082405.50380.qmail@web90008.mail.scd.yahoo.com>

I really don't understand why the end of the
subtree is being unexspected. And I need to
get rid of the System.out message.

Other than that everything seems to work
just fine.

Anyone a pointer?

--- Mr Torsten Curdt <tcurdt@yahoo.com> wrote:
> Can someone please explain why the following
> snippet generates an "unexpected end of subtree"
> warning? Everything else seem to be fine.
> 
> keyvalue returns [ Object o ]
>   {
>     o = null;
>     String kn;
>     Object kv;
>   }
>   : { java.util.HashMap map = new
> java.util.HashMap();
> o = map; }
>     ( 
>       #(KEY kn=literal kv=literal) {
>         map.put(kn,kv);        
>       }
>     )+
>   | #(VALUE kv=literal) {
>       o = kv;
>     }
>   ;
> 
> Is it because (#KEY)+ is unbound? I assume
> I get the warning when the end of the childs
> are reached.
> 
> cheers
> --
> Torsten
> 
> 
> 	
> 		
> __________________________________
> Do you Yahoo!?
> New and Improved Yahoo! Mail - 100MB free storage!
> http://promotions.yahoo.com/new_mail 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
>      antlr-interest-unsubscribe@yahoogroups.com
> 
>  
> 
> 



		
__________________________________
Do you Yahoo!?
Take Yahoo! Mail with you! Get it on your mobile phone.
http://mobile.yahoo.com/maildemo 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Thu Jun 24 05:52:09 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] unexpected end of subtree
In-Reply-To: <20040624082405.50380.qmail@web90008.mail.scd.yahoo.com>
References: <20040624082405.50380.qmail@web90008.mail.scd.yahoo.com>
Message-ID: <4E24E344-C5DD-11D8-AC89-000393B5606C@codetransform.com>

On Jun 24, 2004, at 1:24 AM, Mr Torsten Curdt wrote:

> I really don't understand why the end of the
> subtree is being unexspected. And I need to
> get rid of the System.out message.
>
> Other than that everything seems to work
> just fine.
>
> Anyone a pointer?

Use the -traceTreeParser option to antlr.Tool and watch what it is 
doing.  Usually "unexpected end of subtree" means you forgot to make 
something a root in the parser.  I don't think it is from your ()+ 
closure.  Another help is to print the tree using tree.toStringList() 
to see what its structure is.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From FranklinChen at cmu.edu  Thu Jun 24 12:52:51 2004
From: FranklinChen at cmu.edu (FranklinChen@cmu.edu)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Merging token vocabularies
In-Reply-To: <000001c4598b$aef207c0$7600a8c0@DONB>
References: <16601.55730.922936.348706@SWAN.PSY.cmu.edu>
	<000001c4598b$aef207c0$7600a8c0@DONB>
Message-ID: <16603.12563.9617.727906@SWAN.PSY.cmu.edu>

I think I need one huge token vocabulary in order to avoid overloading
integers when embedding ASTs, as I mentioned.

Suppose (for illustration only; this is nothing like what I'm actually
doing) I want to process a file that looks like

===
This is a document with C code and Java code:
<c>
class Bar {};
</c>
Java is here.
<java>
public class Foo {};
</java>
===

Presumably, I want to build an AST that looks like
(DOCUMENT (TEXT "This is a document with C code and Java code:\n")
  (C (CLASS (NAME "Bar") ...))
  (TEXT "\nJava is here.\n")
  (JAVA (CLASS (NAME "Foo") ...)))

and then use a tree walker to do my work.

Assume that I have an independently created C parser and Java parser
that I want to just use.  I can't just use in my own parser

options {
  importVocab = CParser;
  importVocab = JavaParser;
}

so I have to do something else.  As I mentioned, what I am doing is
generating a CommonTokenTypes.txt by parsing the CParserTokenTypes.txt
and JavaParserTokenTypes.txt and merging the vocabularies, and then
importing Common back into CParser and JavaParser and regenerating.
This seems to be exactly what you are proposing:  ensuring that a
Common vocabulary be imported!  Or am I misunderstanding you?


"Don Bradshaw" <don.bradshaw@quipoz.com> writes:
> Here goes, I'm fairly new to ANTLR so I would appreciate feedback from
> the regulars if my advice is floored.
> 
> Even though it works, I agree that one huge Token vocabulary with all
> possible tokens across all languages is a bit of a nightmare. The main
> hassle would actually be managing the tokens to ensure that the same
> concepts had the same name and that you don't start duplicating. 
> 
> However, depending what you are trying to achieve, I still believe that
> it may be worth while importing a file that has common concepts defined,
> eg. IDENTIFIER, LOOP, STATEMENT etc. Things that are common across all
> languages involved.
> 
> Anyway, it is possible to translate a tree from one vocab to another.
> The "int" types that ANTLR uses are really for internal purposes. You
> can recurse through a tree and change the types to a difference
> vocabulary. 
> 
> This can be done in one of two ways. 
> 
> 1) Use the TokenNames array accessible from a parser/walkers. Lookup the
> array using the int type you want to change, get its name, then search
> the array of the target by name, get its int type, then update the AST. 
> 
> 2) Do the same as 1, except use reflection against the
> xxxxTokenType.java interfaces instead of using the TokenNames arrays. 
> 
> Ofcourse, both token vocabularies must atleast overlap for the types
> found in the tree. 
> 
> Regards,
> Don.

-- 
Franklin


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jun 24 13:00:31 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:59 2004
Subject: New antlr-interest member
Message-ID: <1088107231.478.48330.w13@yahoogroups.com>


Hello,

This is an automated email message to let you know that
safion_web <safion_web@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Thu Jun 24 13:17:54 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:59 2004
Subject: New antlr-interest member
Message-ID: <1088108274.222.77279.w22@yahoogroups.com>


Hello,

This is an automated email message to let you know that
ryanlayer <ryanlayer@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From safion_web at yahoo.com  Thu Jun 24 13:08:49 2004
From: safion_web at yahoo.com (safion_web)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] How i convert class or java program in  SSA form
Message-ID: <cbfcch+5eqq@eGroups.com>

Respected All, 
 
Example:  
How i convert java conventional code in SSA form like this is under 
as example. 
 
public int  testSSA 
{ 
int x; 
int y; 
 
x = 4; 
y = 5; 
x = x + y; 
y = y + x; 
   
  if (x > 5) 
    return x; 
  else 
    return y; 
} 
 
(Now it is in SSA form) 
 
public int  testSSA 
{ 
int x0; 
int y0; 
 
x0 = 4; 
y0 = 5; 
x1 = x0 + y0; 
y1 = y1 + x1; 
   
  if (x1 > 5) 
    return x1; 
  else 
    return y1; 
} 
 
 
This conversion is said to in SSA form means that intermediate 
representation in which every variable is assigned once. Existing 
variable in the original IR are split into versions, new variables 
typically indicated by the original name with a subscript, so every 
defination gets its own version. 
 
About this conversion that i want to say that if any one know how i 
can read a line from any method just x = x + 1 then i will scatter 
the line in small pieces then convert like x1 = x0 + 1; then i can 
solve my problem. 
 
also pl give me ANTLR AST documentation because when i using Parser 
it will parse my program but now i want that i want to change that 
parse tree in SSA form. 
 
This is like this which i want if u can help me then please send me 
some stuff about this problem. 
 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jun 24 14:14:34 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:59 2004
Subject: New antlr-interest member
Message-ID: <1088111674.116.60018.w17@yahoogroups.com>


Hello,

This is an automated email message to let you know that
adonis_vagabond <adonis_vagabond@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From markl at glyphic.com  Thu Jun 24 15:20:46 2004
From: markl at glyphic.com (Mark Lentczner)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] unicode strings using supplemental char range
In-Reply-To: <FEC7ABAE-C2EA-11D8-9AF8-000A95891192@cs.usfca.edu>
References: <FEC7ABAE-C2EA-11D8-9AF8-000A95891192@cs.usfca.edu>
Message-ID: <BD170C58-C62C-11D8-BDAA-000393A56BB6@glyphic.com>

[ Sorry this is a few days behind, I've been involved in horrible IETF 
land... ]

> One could make a string like "abc\uD800\uDFF0def", but that is
> ambiguous.  It could easily be 7 or 8 characters depending on how you
> interpret the string.  The two char unicode sequence could actually be
> UTF-16 representation for 1 char.
No, this isn't ambiguous.  It is 7 characters long.  The two char (Java 
type) sequence are two 16-bit units in the UTF-16 sequence for 1 code 
point (Unicode character).

> Right now I walk an index from 0..n-1 down the String asking for each 
> 16-bit char.
You can't do that anymore.  I believe that Java 1.5 will have alternate 
indexing operations: 1) The char (Java type) version takes an index 
from 0..c-1 and returns a char (Java type) which is really a 16-bit 
unit of UTF-16.  2) The int (Java type) version takes an index from 
0..n-1 (where n <= c) and returns an int (Java type) which is a Unicode 
code-point.

If you could rely on having Java 1.5, then you could simply use the int 
versions of the String methods.  Since you probably can't, you'll have 
to write your own string wrapper.

> Please tell me we don't have to have a mechanism for people to specify
> the format of their strings in their grammars!!!
No, I think 3.0 should state unequivocally that String (Java type) 
objects used for input are in accordance with the Java 1.5 
understanding - that is, they are char (Java type) arrays that contain 
UTF-16 16-bit units.  Since the surrogate pair area has always been 
illegal as Unicode characters, there is no backward compatibility 
problem with other Strings.

The only problem you will have is people who wrote grammars knowing 
that their input was UTF-16, and knowing that Antlr scanned chars (Java 
type) not characters (Unicode) - these folks will break if the encoded 
lexer or parser rules with things like "\uD800\uDFF0" in them.  Oh 
well...

> Java will now do just about nothing for us as we have
> the same exact situation, albeit with 16bits not 8.  Booooooo!
Yup.

> Actually, I just had an idea.  First, thanks to your help, I know that
> UTF-16 encoded in a string is unambiguously UTF-16.  Now, the only
> question is, how do we match a 21-bit char against it?  What if we just
> specified that the input must be UTF-16 also?  Then, ANTLR can pretend
> everything is 16 bits, right?
Well, as you pointed out, this is like my hack of lexing UTF-8 for my 
parsers in C++.  Operative word is HACK.  The other problem is that 
this will fall apart as soon as you want to put in the other cool 
Unicode class based checkes (isIdentifierStart, isLowerCase, etc...).

Sorry Terrence, suck it up and change all Strings to UnicodeArray which 
is a class wrapper around int[].  Better yet, make it a protocol, and 
then supply implementations that scan over String, over int[], and 
perhaps over UTF-8 encoded byte[]...

	- Mark


Mark Lentczner
markl@wheatfarm.org
http://www.wheatfarm.org/



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Thu Jun 24 15:59:22 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Re: Merging token vocabularies; Ter adds grammar composition
In-Reply-To: <16603.12563.9617.727906@SWAN.PSY.cmu.edu>
References: <16601.55730.922936.348706@SWAN.PSY.cmu.edu> <000001c4598b$aef207c0$7600a8c0@DONB> <16603.12563.9617.727906@SWAN.PSY.cmu.edu>
Message-ID: <22174E0B-C632-11D8-8B11-000A95891192@cs.usfca.edu>

On Jun 24, 2004, at 12:52 PM, FranklinChen@cmu.edu wrote:
> I think I need one huge token vocabulary in order to avoid overloading
> integers when embedding ASTs, as I mentioned.
>
> Suppose (for illustration only; this is nothing like what I'm actually
> doing) I want to process a file that looks like
>
> ===
> This is a document with C code and Java code:
> <c>
> class Bar {};
> </c>
> Java is here.
> <java>
> public class Foo {};
> </java>
> ===
>
> Presumably, I want to build an AST that looks like
> (DOCUMENT (TEXT "This is a document with C code and Java code:\n")
>   (C (CLASS (NAME "Bar") ...))
>   (TEXT "\nJava is here.\n")
>   (JAVA (CLASS (NAME "Foo") ...)))
>
> and then use a tree walker to do my work.
>
> Assume that I have an independently created C parser and Java parser
> that I want to just use.  I can't just use in my own parser
>
> options {
>   importVocab = CParser;
>   importVocab = JavaParser;
> }
>
> so I have to do something else.  As I mentioned, what I am doing is
> generating a CommonTokenTypes.txt by parsing the CParserTokenTypes.txt
> and JavaParserTokenTypes.txt and merging the vocabularies, and then
> importing Common back into CParser and JavaParser and regenerating.
> This seems to be exactly what you are proposing:  ensuring that a
> Common vocabulary be imported!  Or am I misunderstanding you?

Hi Gang,

[warning: this got long] ;)

Good question / interesting problem.  Since I'm working on the vocab 
stuff for 3.0 at the moment, perhaps I'll think about this for a 
paragraph or two or ten.

The problem you have is that both a C and a Java grammar will export 
the same token, say, IF with different token types.  Moreover, the 
parsers have generated constant defs that say IF=342 and IF=2 or 
something.  Seems like it would be pretty hard to get a single lexer to 
generate two different values.  Ok, so that means one needs to have 
separate lexers for both C and for Java.  No problems as the token 
"spaces" are then totally independent.  One simply needs an overall 
"controller" (could be a higher-level grammar) that invokes the C or 
Java parser.  Problem is the trees of course...

Second choice is as you did: create a merged vocab and have both C and 
Java parsers/lexers import that merged vocab.  Only trouble is that the 
vocab files needed to merge are created after ANTLR has generated the 
parsers so one needs to run ANTLR again on the C and Java parser to get 
their token types in sync.

One could have the Java parser import the C parser's vocab then the 
output vocab of the Java parser would be the combined one.  The C 
parser would have to be regenerated though.  This is a drag.  I wonder 
if we shouldn't change the problem around.  You are really saying that 
you want to build a new grammar composed of other grammars.  That is, 
you want to import the grammar not the vocabulary really.  I plan on 
*not* allowing inheritance ala ANTLR 2.x.  It will become grammar 
composition or I may leave it to an IDE tool living above ANTLR to do 
the composition, but for now let's look at what it might look like:

grammar combined;

import C; // include all rules from C
import Java.expr; // include rule expr and all rules invoked by expr

In this way, the token type issue is resolved because I don't have to 
rely on two different recognizers generated with independent token 
types.  I would literally cut/paste (like I did with inheritance) the 
appropriate rules into the new combined grammar.  Yes, i have to 
cut/paste because rules are not independent.  If I override a rule in 
combined that is invoked by a rule in Java or C grammars then every 
rule could change it's lookahead (this is very unlike method 
inheritance).

Now on to trees.  Problem is solved because ID for both input grammars 
is now the single ID of combined grammar.  Any trees created have the 
unique ID token type value. :)

There are systems such as Visser's SDF that allow grammars to be reused 
when they are placed in so-called "modules".  You can import whatever 
rules you want or whole grammars.  You can set parameters too.  I can 
imagine a generic rule for a list of IDs that could handle 
comma-separated, colon-separated, or whatever lists.  You could define 
the grammar like a template:

grammar commonStuff;
idList<separator> : ID (<separator> ID)* ;

Then in another grammar, you could do this:

grammar whatever;

import commonStuff.idList<COMMA> as idList;

decl : "int" idList SEMI ;

Something like that.  Looks cool, but you know every time I try to 
think of a really great example of re-usage with parameterized rule 
imports, I get stuck.  Seems like just plain "import a bunch of rules" 
is what we want.  The normal usage would be to import an existing 
grammar and then change a few rules (for syntax or action changes) or 
to import rules from a few grammars to make a new one.  The latter case 
is the only time it's more "powerful" than plain single inheritance.

Still I question whether even this is that useful (ignoring tree 
walkers for now).  Are you really ever going to build a new grammar by 
grabbing the Java expr rule set and the C statement set and then 
somehow hope the merged grammar will work?  Perhaps if we made smaller 
grammars that were really just grammar subsets that were useful.  
Hmm...even then, I've never ever been in a situation where I felt I 
could wholesale grab large chunks of another grammar and reuse without 
serious modifications (read that cut/paste and modify).  Now, I start 
most grammars by having to type or cut/paste lexer rules such as ID, 
WS, INT, and so on.  I can see importing lexer rules as they are 
independent of each other, but an IDE could simply let you pick from a 
list of standard lexical rules to get you started.  Seems hardly worth 
complicating the tool for this simple application.

Back to trees with vocab not grammar imports...I'd like to hear from 
Monty to hear more about his use of combined vocabs in his tree walkers 
and his use of inheritance.  I think Monty made a tree supergrammar 
that had all the tokens in it and then each tree walker phase of the 
translator subclassed that grammar to get all the tokens.  That is 
basically the same as doing an importVocab on a combined vocab you 
built.

In summary, i have no good solution ;)  Can anybody add to this 
conversation about importing grammars and such?

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Thu Jun 24 16:19:06 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] ANTLR 3.0 error reporting and recovery
Message-ID: <E392636A-C634-11D8-8B11-000A95891192@cs.usfca.edu>

Folks

Just added a new "blog" on ANTLR 3 error handling:

http://www.antlr.org/blog/antlr3/error.handling.tml

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Thu Jun 24 16:26:42 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] unicode strings using supplemental char range
In-Reply-To: <BD170C58-C62C-11D8-BDAA-000393A56BB6@glyphic.com>
References: <FEC7ABAE-C2EA-11D8-9AF8-000A95891192@cs.usfca.edu> <BD170C58-C62C-11D8-BDAA-000393A56BB6@glyphic.com>
Message-ID: <F331AC9D-C635-11D8-8B11-000A95891192@cs.usfca.edu>


On Jun 24, 2004, at 3:20 PM, Mark Lentczner wrote:
>> Actually, I just had an idea.  First, thanks to your help, I know that
>> UTF-16 encoded in a string is unambiguously UTF-16.  Now, the only
>> question is, how do we match a 21-bit char against it?  What if we 
>> just
>> specified that the input must be UTF-16 also?  Then, ANTLR can pretend
>> everything is 16 bits, right?
> Well, as you pointed out, this is like my hack of lexing UTF-8 for my
> parsers in C++.  Operative word is HACK.  The other problem is that
> this will fall apart as soon as you want to put in the other cool
> Unicode class based checkes (isIdentifierStart, isLowerCase, etc...).

Well, I was going to say that UTF-16 is the way I'll leave until you 
said this last thing.  isLowerCase, for example, simply won't work if 
we have UTF-16 strings.  I'll have to take your word for it that real 
languages will use codes above 16 bits, btw. ;)

> Sorry Terrence, suck it up and change all Strings to UnicodeArray which

Shite.  Rats.  Argh!  That means I'm back to the days of C/C++ where I 
have to define String.  Crap.  Anybody have any idea what the speed hit 
will be for us LATIN encoded people?

> is a class wrapper around int[].  Better yet, make it a protocol, and
> then supply implementations that scan over String, over int[], and
> perhaps over UTF-8 encoded byte[]...

;)

Thanks a bunch for the clarifications...

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Thu Jun 24 16:29:14 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Re: Merging token vocabularies; Ter adds grammar composition
In-Reply-To: <22174E0B-C632-11D8-8B11-000A95891192@cs.usfca.edu>
References: <16601.55730.922936.348706@SWAN.PSY.cmu.edu> <000001c4598b$aef207c0$7600a8c0@DONB> <16603.12563.9617.727906@SWAN.PSY.cmu.edu> <22174E0B-C632-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <4DF18951-C636-11D8-AC89-000393B5606C@codetransform.com>

On Jun 24, 2004, at 3:59 PM, Terence Parr wrote:

> Back to trees with vocab not grammar imports...I'd like to hear from
> Monty to hear more about his use of combined vocabs in his tree walkers
> and his use of inheritance.  I think Monty made a tree supergrammar
> that had all the tokens in it and then each tree walker phase of the
> translator subclassed that grammar to get all the tokens.  That is
> basically the same as doing an importVocab on a combined vocab you
> built.
>

You got it right.  I started from one language, not two, but added all 
the second language's tokens to the "super" tree grammar.  This tree 
grammar had the rules for both AREV trees and VB trees.  The tree 
grammars for both languages were essentially orthogonal because the 
token types were distinct, or when shared they had identical meaning.  
But I couldn't even share ID because of naming rules.  I think INT was 
shared :)

So the cool thing was that after every pass (which subclassed the 
"super" tree grammar), even though the resulting tree was a mixture of 
AREV and VB trees my "super" tree grammar could walk that tree and 
validate the structure (handy during development to know my resulting 
trees were ok).  I joined the languages at places like "statement" and 
"expression", meaning roughly "statement: arevStatement | vbStatement;" 
  After the last pass my trees were completely VB, but still I 
subclassed the "super" tree grammar for the code emitter.  I suppose I 
could have overridden the AREV rules to throw an exception if I 
encountered them in that last phase if I wanted to be safe.

More details on the AREV->VB translator are at 
http://www.codetransform.com/fun_with_antlr.html

If you look at the "metamorphic syntax macro" stuff they show stuff 
like adding a new expression type or a new statement.  Most people 
don't want to muck with the syntax of, say, the case statement or array 
initializer.  I emphasize that because the metamorphic guys make it 
"safe" to add a new statement by not letting you do something that 
introduces ambiguities language wide.  I think that is quite handy for 
folks in the Domain Specific Language world.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jun 24 16:53:32 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:59 2004
Subject: New antlr-interest member
Message-ID: <1088121212.102.1092.w70@yahoogroups.com>


Hello,

This is an automated email message to let you know that
whateverfitstoday <lists@surfmy.net> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From lgc at mail1.jpl.nasa.gov  Thu Jun 24 17:09:42 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Re: Merging token vocabularies; Ter adds grammar composition
In-Reply-To: <22174E0B-C632-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <cbfqg6+verl@eGroups.com>

Ter

There are a few tricks that can be applied to ANTLR implementation. 
One is simply to sort token types by name before numbering them; it
might also be desirable to add an aliasing option to go along with
this, and to make the "=<number>" part of the <tokens>.txt entries
optional (number assigned by sequence, as in "C" enums) to support
merges and use of diff'ed output.  Back-translating items such as
LITERAL_if (to "if") might be useful, as well.

Another approach at the application level is to support a renumbering
"visitor" pass that translates between two token mappings.

I've worried at this issue off and on because I think that it may be
practical to use parse trees as an output formatting device.  Parse
tree grammars can be automatically generated for any input grammar; by
transforming another language into that parse tree format, it might be
possible to quickly develop a language translator for paradigmatically
similar languages.  More flexible token numbering support is worth
considering for ANTLR 3.

--Loring


--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
> On Jun 24, 2004, at 12:52 PM, FranklinChen@c... wrote:
> > I think I need one huge token vocabulary in order to avoid overloading
> > integers when embedding ASTs, as I mentioned.
> >
> > Suppose (for illustration only; this is nothing like what I'm actually
> > doing) I want to process a file that looks like
> >
> > ===
> > This is a document with C code and Java code:
> > <c>
> > class Bar {};
> > </c>
> > Java is here.
> > <java>
> > public class Foo {};
> > </java>
> > ===
> >
> > Presumably, I want to build an AST that looks like
> > (DOCUMENT (TEXT "This is a document with C code and Java code:\n")
> >   (C (CLASS (NAME "Bar") ...))
> >   (TEXT "\nJava is here.\n")
> >   (JAVA (CLASS (NAME "Foo") ...)))
> >
> > and then use a tree walker to do my work.
> >
> > Assume that I have an independently created C parser and Java parser
> > that I want to just use.  I can't just use in my own parser
> >
> > options {
> >   importVocab = CParser;
> >   importVocab = JavaParser;
> > }
> >
> > so I have to do something else.  As I mentioned, what I am doing is
> > generating a CommonTokenTypes.txt by parsing the CParserTokenTypes.txt
> > and JavaParserTokenTypes.txt and merging the vocabularies, and then
> > importing Common back into CParser and JavaParser and regenerating.
> > This seems to be exactly what you are proposing:  ensuring that a
> > Common vocabulary be imported!  Or am I misunderstanding you?
> 
> Hi Gang,
> 
> [warning: this got long] ;)
> 
> Good question / interesting problem.  Since I'm working on the vocab 
> stuff for 3.0 at the moment, perhaps I'll think about this for a 
> paragraph or two or ten.
> 
> The problem you have is that both a C and a Java grammar will export 
> the same token, say, IF with different token types.  Moreover, the 
> parsers have generated constant defs that say IF=342 and IF=2 or 
> something.  Seems like it would be pretty hard to get a single lexer to 
> generate two different values.  Ok, so that means one needs to have 
> separate lexers for both C and for Java.  No problems as the token 
> "spaces" are then totally independent.  One simply needs an overall 
> "controller" (could be a higher-level grammar) that invokes the C or 
> Java parser.  Problem is the trees of course...
> 
> Second choice is as you did: create a merged vocab and have both C and 
> Java parsers/lexers import that merged vocab.  Only trouble is that the 
> vocab files needed to merge are created after ANTLR has generated the 
> parsers so one needs to run ANTLR again on the C and Java parser to get 
> their token types in sync.
> 
> One could have the Java parser import the C parser's vocab then the 
> output vocab of the Java parser would be the combined one.  The C 
> parser would have to be regenerated though.  This is a drag.  I wonder 
> if we shouldn't change the problem around.  You are really saying that 
> you want to build a new grammar composed of other grammars.  That is, 
> you want to import the grammar not the vocabulary really.  I plan on 
> *not* allowing inheritance ala ANTLR 2.x.  It will become grammar 
> composition or I may leave it to an IDE tool living above ANTLR to do 
> the composition, but for now let's look at what it might look like:
> 
> grammar combined;
> 
> import C; // include all rules from C
> import Java.expr; // include rule expr and all rules invoked by expr
> 
> In this way, the token type issue is resolved because I don't have to 
> rely on two different recognizers generated with independent token 
> types.  I would literally cut/paste (like I did with inheritance) the 
> appropriate rules into the new combined grammar.  Yes, i have to 
> cut/paste because rules are not independent.  If I override a rule in 
> combined that is invoked by a rule in Java or C grammars then every 
> rule could change it's lookahead (this is very unlike method 
> inheritance).
> 
> Now on to trees.  Problem is solved because ID for both input grammars 
> is now the single ID of combined grammar.  Any trees created have the 
> unique ID token type value. :)
> 
> There are systems such as Visser's SDF that allow grammars to be reused 
> when they are placed in so-called "modules".  You can import whatever 
> rules you want or whole grammars.  You can set parameters too.  I can 
> imagine a generic rule for a list of IDs that could handle 
> comma-separated, colon-separated, or whatever lists.  You could define 
> the grammar like a template:
> 
> grammar commonStuff;
> idList<separator> : ID (<separator> ID)* ;
> 
> Then in another grammar, you could do this:
> 
> grammar whatever;
> 
> import commonStuff.idList<COMMA> as idList;
> 
> decl : "int" idList SEMI ;
> 
> Something like that.  Looks cool, but you know every time I try to 
> think of a really great example of re-usage with parameterized rule 
> imports, I get stuck.  Seems like just plain "import a bunch of rules" 
> is what we want.  The normal usage would be to import an existing 
> grammar and then change a few rules (for syntax or action changes) or 
> to import rules from a few grammars to make a new one.  The latter case 
> is the only time it's more "powerful" than plain single inheritance.
> 
> Still I question whether even this is that useful (ignoring tree 
> walkers for now).  Are you really ever going to build a new grammar by 
> grabbing the Java expr rule set and the C statement set and then 
> somehow hope the merged grammar will work?  Perhaps if we made smaller 
> grammars that were really just grammar subsets that were useful.  
> Hmm...even then, I've never ever been in a situation where I felt I 
> could wholesale grab large chunks of another grammar and reuse without 
> serious modifications (read that cut/paste and modify).  Now, I start 
> most grammars by having to type or cut/paste lexer rules such as ID, 
> WS, INT, and so on.  I can see importing lexer rules as they are 
> independent of each other, but an IDE could simply let you pick from a 
> list of standard lexical rules to get you started.  Seems hardly worth 
> complicating the tool for this simple application.
> 
> Back to trees with vocab not grammar imports...I'd like to hear from 
> Monty to hear more about his use of combined vocabs in his tree walkers 
> and his use of inheritance.  I think Monty made a tree supergrammar 
> that had all the tokens in it and then each tree walker phase of the 
> translator subclassed that grammar to get all the tokens.  That is 
> basically the same as doing an importVocab on a combined vocab you 
> built.
> 
> In summary, i have no good solution ;)  Can anybody add to this 
> conversation about importing grammars and such?
> 
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Anthony.Youngman at ECA-International.com  Fri Jun 25 00:15:25 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Merging token vocabularies
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF68@lnml1.eca-international.local>

Hmmm...

Suggestion for Ter. I don't know whether he uses a 16- or 32-bit integer
for his tokens, but might it not be possible to add a "token-space"
directive?

The idea basically being that either Antlr uses a 32-bit integer, which
is initialised with the high 16 set to the "token space" value, or you
can tell Antlr where to start counting for user-space tokens (don't
forget 0-3 is reserved or something).

If you need to merge token lists, that would probably be a good way to
do it ...

Cheers,
Wol 

-----Original Message-----
From: FranklinChen@cmu.edu [mailto:FranklinChen@cmu.edu] 
Sent: 24 June 2004 20:53
To: antlr-interest@yahoogroups.com
Subject: RE: [antlr-interest] Merging token vocabularies

I think I need one huge token vocabulary in order to avoid overloading
integers when embedding ASTs, as I mentioned.

Suppose (for illustration only; this is nothing like what I'm actually
doing) I want to process a file that looks like

===
This is a document with C code and Java code:
<c>
class Bar {};
</c>
Java is here.
<java>
public class Foo {};
</java>
===

Presumably, I want to build an AST that looks like
(DOCUMENT (TEXT "This is a document with C code and Java code:\n")
  (C (CLASS (NAME "Bar") ...))
  (TEXT "\nJava is here.\n")
  (JAVA (CLASS (NAME "Foo") ...)))

and then use a tree walker to do my work.

Assume that I have an independently created C parser and Java parser
that I want to just use.  I can't just use in my own parser

options {
  importVocab = CParser;
  importVocab = JavaParser;
}

so I have to do something else.  As I mentioned, what I am doing is
generating a CommonTokenTypes.txt by parsing the CParserTokenTypes.txt
and JavaParserTokenTypes.txt and merging the vocabularies, and then
importing Common back into CParser and JavaParser and regenerating.
This seems to be exactly what you are proposing:  ensuring that a
Common vocabulary be imported!  Or am I misunderstanding you?


"Don Bradshaw" <don.bradshaw@quipoz.com> writes:
> Here goes, I'm fairly new to ANTLR so I would appreciate feedback from
> the regulars if my advice is floored.
> 
> Even though it works, I agree that one huge Token vocabulary with all
> possible tokens across all languages is a bit of a nightmare. The main
> hassle would actually be managing the tokens to ensure that the same
> concepts had the same name and that you don't start duplicating. 
> 
> However, depending what you are trying to achieve, I still believe
that
> it may be worth while importing a file that has common concepts
defined,
> eg. IDENTIFIER, LOOP, STATEMENT etc. Things that are common across all
> languages involved.
> 
> Anyway, it is possible to translate a tree from one vocab to another.
> The "int" types that ANTLR uses are really for internal purposes. You
> can recurse through a tree and change the types to a difference
> vocabulary. 
> 
> This can be done in one of two ways. 
> 
> 1) Use the TokenNames array accessible from a parser/walkers. Lookup
the
> array using the int type you want to change, get its name, then search
> the array of the target by name, get its int type, then update the
AST. 
> 
> 2) Do the same as 1, except use reflection against the
> xxxxTokenType.java interfaces instead of using the TokenNames arrays. 
> 
> Ofcourse, both token vocabularies must atleast overlap for the types
> found in the tree. 
> 
> Regards,
> Don.

-- 
Franklin


 
Yahoo! Groups Links



 



****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Christoph.Wedler at sap.com  Fri Jun 25 00:55:19 2004
From: Christoph.Wedler at sap.com (Christoph.Wedler@sap.com)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Mail Delivery (failure antlr-interest@yahoogroups.com)
Message-ID: <20040625075425.1DD65740C7@nexus.cs.usfca.edu>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: audio/x-wav
Size: 29568 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040625/33624316/attachment.wav
From Christoph.Wedler at sap.com  Fri Jun 25 00:55:24 2004
From: Christoph.Wedler at sap.com (Christoph.Wedler@sap.com)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Re: Extended Mail
Message-ID: <20040625075436.276AA740C7@nexus.cs.usfca.edu>


For further details see the attachment.




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: message.pif
Type: application/octet-stream
Size: 29568 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040625/60fb7752/message.obj
From klaren at cs.utwente.nl  Fri Jun 25 02:08:29 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Could you help me?
In-Reply-To: <cbbp9a+br2t@eGroups.com>
References: <cbbp9a+br2t@eGroups.com>
Message-ID: <20040625090827.GA18787@cs.utwente.nl>

On Wed, Jun 23, 2004 at 11:24:26AM -0000, yjargudo wrote:
> I'm trying to find an ANTLR grammar for c++ prepared for java output.
> In the web www.antlr.org/grammars/list there are a grammar but is
> prepared for cpp output.

There's only the C++ one afaik. But it shouldn't be too hard to convert the
few C++ bits to java.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  "Of all the things I've lost I miss my mind the most --- Ozzy Osbourne



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Fri Jun 25 02:55:04 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Antlr lexer vs. flex lexer speed (C++)
Message-ID: <20040625095504.GE18787@cs.utwente.nl>

Ran a small test for a question that entered via private mail but the
result is interesting enough to forward to the list as well...

A comparison of the flex lexer java parser versus the complete antlr java
parser.

Input a subset of the java files from antlr:

lines: 124509 words:  621304 bytes: 5282790

With antlr's lexer:

real    0m21.702s
user    0m21.255s
sys     0m0.211s

With flex as lexer:

real    0m12.008s
user    0m11.780s
sys     0m0.156s

These are the 'average-ish' values after running the parsers a few times
should be dependable enough to give an indication. Note that the flex lexer
is not as good as the java one: it lacks lexer states to handle escaped
strings properly, but if I recall right the overhead of adding those will
be neglectible. (anyone better into flex can shed some light on that, I'm a
bit on the lazy side to look up how to add them to the flexLexer example)

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Quidquid latine dictum sit, altum viditur.
                 (Whatever is said in Latin sounds profound.)


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Matthew.Ford at forward.com.au  Thu Jun 24 15:16:16 2004
From: Matthew.Ford at forward.com.au (matthew ford)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] StringTemplate enhancement question
References: <5EADDF48-C474-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <000001c45a9c$67f2a610$0400a8c0@NOTEBOOK>

Hi Ter,
As you know WebStringTemplates is heavily influenced by your WebTemplates.
WebStringTemplates V2 is diverging but
the basic concepts of separation still apply.

>
> I often have lists of things that need to be formatted, but the list
> items are actually pieces of data that are not already in an object.  I
> need ST to do something like:
>
> Ter=3432
> Tom=32234
> ....
>
> using template:
>
> $items:{$attr.name$=$attr.type$}$
>
> This example will call getName() on the objects in items attribute, but
> what if they aren't objects?  I have perhaps two parallel arrays
> instead of a single array of objects containing two fields.  One
> solution is allow Maps to be handled like properties so that attr.name
> would fail getName() but then see that it's a Map and do
> attr.get("name") instead.
>
> This very clean approach is espoused by some, but the problem is that
> it's a hole in my separation rules.  People can put the logic in the
> view because you could say: "go get bob's data" in the view:
>
> Bob's Phone: $db.bob.phone$
>
> A view should not be part of the program and hence should never be able
> to go ask for a specific person's data.  Humor me that it's good to be
> ruthless (or read my paper <snicker>).  Is there another way to fake
> aggregates by given separate pieces of data to ST and have it
> aggregate?

WebStringTemplates does just that.
Given db.bob.phone
it tries to get db from the attributes map.
if db is a map then it uses get("bob") to get the next level object
if db is an object it tries db.getBob() to get the next level object
and so on recursively.

Now you can only ask for a specific person's data if  you know it is  there.
One thing WebStringTemplates has that StringTemplates does not is the
concept of a Data Interface Definition file.

This DID is an html file that defines all the attributes that will be
available to the template and gives some sample data values.

The template designer uses it to design and test his template independent of
the server.
The server programmer uses it a the specification of the output he is
required
to produce.
Neither the template designer nor the server programmer cares what the
other is doing as long as they are both working to the same DID.

WebStringTemplates has methods for loading a attribute map from a DID
and for saving an attribute map as a DID

For the template designer the rule is
If db.bob.phone is in the DID, then you can use it.
If it is not, don't expect it to be available.
For the server programmer the rule is
If db.bob.phone is in the DID, then you need to make it available.
If it is not, then you don't.

I think you real problem is you want to supply a two lists of data that are
synchronized.
In WebStringTemplates (and StringTemplates) this is achieved by creating a
list of objects
that have attributes of Name and Type

It seems you are looking for a way to short cut creating the objects.
A list of  Maps seems the easiest.

ArrayList items = new ArrayList();
items.add(new HashMap() {{put("name","Ter"); put("type","342");}});
items.add(new HashMap() {{put("name","Tom"); put("type","1342");}});
items.add(new HashMap() {{put("name","Fred"); put("type","42");}});
attributeMap.add("items",items);

Then in the template use
$items:{$attr.name$=$attr.type$}$

WebStringTemplates V2 will use the syntax
$[list items]$
    $[name]$=$[type]$
$[endlist]$

a la PHP. Which is more readable (IMHO :-) )

>
> Again, though, how do I prevent people from passing in a regular
> HashMap that is actually just a proxy for their DB?  Then the view
> could do DB accesses!  Oh, I could make a special object that worked
> like a HashMap, but which wouldn't allow subclasses so people couldn't
> sneak in a modified version that was actually a database.
>
> Which would you choose?  Anybody have some insight?

Nothing wrong with passing a proxy to a DB.  As long as the DB conforms to
the
Data Interface Definition, the template does not care and does not know.
The template can only access data it knows about from the DID.  The template
cannot do general db accesses as it does not know anything about the other
fields that may be available.

As for  attributes like  "a.b"
WebStringTemplates will never
retrieve a single "a.b" attribute, WST will always get object "a" and then
from object "a" try and get  object "b".

As an asside I use  attributes like
items.comment in the
Data Interface Definition file to insert comments about the type of data to
expect for items
eg
 items.comment   a list of items and types to be defined

see http://webstringtemplates.com for more details on the DID html format
or http://www.forward.com.au/webstringtemplatese

all the best
matthew



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Fri Jun 25 04:29:13 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:59 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1088162953.311.53006.w79@yahoogroups.com>


Hello,

This is an automated email message to let you know that
wdpartain <mlistguy@verilab.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From Matthew.Ford at forward.com.au  Fri Jun 25 06:46:25 2004
From: Matthew.Ford at forward.com.au (matthew ford)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] StringTemplate enhancement question
References: <5EADDF48-C474-11D8-8B11-000A95891192@cs.usfca.edu> <000001c45a9c$67f2a610$0400a8c0@NOTEBOOK>
Message-ID: <001801c45aba$d56305f0$0400a8c0@NOTEBOOK>

If you want to be really parinoid about separation
you could always get the server to first write the Data Interface Definition
to a file or string buffer
and then have the template processor read it back in

No chance of the programmer slipping in some overloaded object.

>
> This DID is an html file that defines all the attributes that will be
> available to the template and gives some sample data values.
>
matthew



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From alexsedow at mail.ru  Fri Jun 25 10:03:55 2004
From: alexsedow at mail.ru (Alex Sedow)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Antlr lexer vs. flex lexer speed (C++)
References: <20040625095504.GE18787@cs.utwente.nl>
Message-ID: <00a701c45ad6$8e0cef10$fd80763e@home>

Ric,

1. The result will be better if you replace antlr or flex lexer with
re2c-based lexer.

  Generated lexers:
  antlr 2.x - procedure-driven lexer (slowest)
  flex - table-driven
  re2c - case-statement-driven (fastest)

  In any case 5282790 bytes / 11.780s = 0.45 Mb/sec - is slow.

2. Whether ANTLR 3.x will use std::string, or will replace it with special
string class?

Alex.

> Ran a small test for a question that entered via private mail but the
> result is interesting enough to forward to the list as well...
>
> A comparison of the flex lexer java parser versus the complete antlr java
> parser.
>
> Input a subset of the java files from antlr:
>
> lines: 124509 words:  621304 bytes: 5282790
>
> With antlr's lexer:
>
> real    0m21.702s
> user    0m21.255s
> sys     0m0.211s
>
> With flex as lexer:
>
> real    0m12.008s
> user    0m11.780s
> sys     0m0.156s
>
> These are the 'average-ish' values after running the parsers a few times
> should be dependable enough to give an indication. Note that the flex
lexer
> is not as good as the java one: it lacks lexer states to handle escaped
> strings properly, but if I recall right the overhead of adding those will
> be neglectible. (anyone better into flex can shed some light on that, I'm
a
> bit on the lazy side to look up how to add them to the flexLexer example)
>
> Cheers,
>
> Ric



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Fri Jun 25 12:45:01 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Merging token vocabularies
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409AF68@lnml1.eca-international.local>
References: <C7FE35004D40FD45AA342991B88CE40409AF68@lnml1.eca-international.local>
Message-ID: <25B11E1C-C6E0-11D8-8B11-000A95891192@cs.usfca.edu>


On Jun 25, 2004, at 12:15 AM, Anthony Youngman wrote:

> Hmmm...
>
> Suggestion for Ter. I don't know whether he uses a 16- or 32-bit  
> integer
> for his tokens, but might it not be possible to add a "token-space"
> directive?

Possibly.

> The idea basically being that either Antlr uses a 32-bit integer, which
> is initialised with the high 16 set to the "token space" value, or you
> can tell Antlr where to start counting for user-space tokens (don't
> forget 0-3 is reserved or something).
>
> If you need to merge token lists, that would probably be a good way to
> do it ...

Might be able to simply do it with token spaces at the ID level like  
Java.FOR and C.FOR or something.

Ter

>
> Cheers,
> Wol
>
> -----Original Message-----
> From: FranklinChen@cmu.edu [mailto:FranklinChen@cmu.edu]
> Sent: 24 June 2004 20:53
> To: antlr-interest@yahoogroups.com
> Subject: RE: [antlr-interest] Merging token vocabularies
>
> I think I need one huge token vocabulary in order to avoid overloading
> integers when embedding ASTs, as I mentioned.
>
> Suppose (for illustration only; this is nothing like what I'm actually
> doing) I want to process a file that looks like
>
> ===
> This is a document with C code and Java code:
> <c>
> class Bar {};
> </c>
> Java is here.
> <java>
> public class Foo {};
> </java>
> ===
>
> Presumably, I want to build an AST that looks like
> (DOCUMENT (TEXT "This is a document with C code and Java code:\n")
>   (C (CLASS (NAME "Bar") ...))
>   (TEXT "\nJava is here.\n")
>   (JAVA (CLASS (NAME "Foo") ...)))
>
> and then use a tree walker to do my work.
>
> Assume that I have an independently created C parser and Java parser
> that I want to just use.  I can't just use in my own parser
>
> options {
>   importVocab = CParser;
>   importVocab = JavaParser;
> }
>
> so I have to do something else.  As I mentioned, what I am doing is
> generating a CommonTokenTypes.txt by parsing the CParserTokenTypes.txt
> and JavaParserTokenTypes.txt and merging the vocabularies, and then
> importing Common back into CParser and JavaParser and regenerating.
> This seems to be exactly what you are proposing:  ensuring that a
> Common vocabulary be imported!  Or am I misunderstanding you?
>
>
> "Don Bradshaw" <don.bradshaw@quipoz.com> writes:
>> Here goes, I'm fairly new to ANTLR so I would appreciate feedback from
>> the regulars if my advice is floored.
>>
>> Even though it works, I agree that one huge Token vocabulary with all
>> possible tokens across all languages is a bit of a nightmare. The main
>> hassle would actually be managing the tokens to ensure that the same
>> concepts had the same name and that you don't start duplicating.
>>
>> However, depending what you are trying to achieve, I still believe
> that
>> it may be worth while importing a file that has common concepts
> defined,
>> eg. IDENTIFIER, LOOP, STATEMENT etc. Things that are common across all
>> languages involved.
>>
>> Anyway, it is possible to translate a tree from one vocab to another.
>> The "int" types that ANTLR uses are really for internal purposes. You
>> can recurse through a tree and change the types to a difference
>> vocabulary.
>>
>> This can be done in one of two ways.
>>
>> 1) Use the TokenNames array accessible from a parser/walkers. Lookup
> the
>> array using the int type you want to change, get its name, then search
>> the array of the target by name, get its int type, then update the
> AST.
>>
>> 2) Do the same as 1, except use reflection against the
>> xxxxTokenType.java interfaces instead of using the TokenNames arrays.
>>
>> Ofcourse, both token vocabularies must atleast overlap for the types
>> found in the tree.
>>
>> Regards,
>> Don.
>
> --  
> Franklin
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
> *********************************************************************** 
> *****
>
> This transmission is intended for the named recipient only. It may  
> contain private and confidential information. If this has come to you  
> in error you must not act on anything disclosed in it, nor must you  
> copy it, modify it, disseminate it in any way, or show it to anyone.  
> Please e-mail the sender to inform us of the transmission error or  
> telephone ECA International immediately and delete the e-mail from  
> your information system.
>
> Telephone numbers for ECA International offices are: Sydney +61 (0)2  
> 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and  
> New York +1 212 582 2333.
>
> *********************************************************************** 
> *****
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Fri Jun 25 12:48:17 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] StringTemplate enhancement question
In-Reply-To: <000001c45a9c$67f2a610$0400a8c0@NOTEBOOK>
References: <5EADDF48-C474-11D8-8B11-000A95891192@cs.usfca.edu> <000001c45a9c$67f2a610$0400a8c0@NOTEBOOK>
Message-ID: <9A99B87A-C6E0-11D8-8B11-000A95891192@cs.usfca.edu>


On Jun 24, 2004, at 3:16 PM, matthew ford wrote:
>> Bob's Phone: $db.bob.phone$
>>
>> A view should not be part of the program and hence should never be 
>> able
>> to go ask for a specific person's data.  Humor me that it's good to be
>> ruthless (or read my paper <snicker>).  Is there another way to fake
>> aggregates by given separate pieces of data to ST and have it
>> aggregate?
>
> WebStringTemplates does just that.
> Given db.bob.phone
> it tries to get db from the attributes map.
> if db is a map then it uses get("bob") to get the next level object
> if db is an object it tries db.getBob() to get the next level object
> and so on recursively.
>
> Now you can only ask for a specific person's data if  you know it is  
> there.
> One thing WebStringTemplates has that StringTemplates does not is the
> concept of a Data Interface Definition file.
>
> This DID is an html file that defines all the attributes that will be
> available to the template and gives some sample data values.

Yes, with another file that limits or explicitly states what is 
available, I think I might be able to concur with this. :)

> I think you real problem is you want to supply a two lists of data 
> that are
> synchronized.
> In WebStringTemplates (and StringTemplates) this is achieved by 
> creating a
> list of objects
> that have attributes of Name and Type
>
> It seems you are looking for a way to short cut creating the objects.
> A list of  Maps seems the easiest.
>
> ArrayList items = new ArrayList();
> items.add(new HashMap() {{put("name","Ter"); put("type","342");}});
> items.add(new HashMap() {{put("name","Tom"); put("type","1342");}});
> items.add(new HashMap() {{put("name","Fred"); put("type","42");}});
> attributeMap.add("items",items);

Yep, 'cept the HashMap thing I don't want to allow as an attribute.

> Then in the template use
> $items:{$attr.name$=$attr.type$}$
>
> WebStringTemplates V2 will use the syntax
> $[list items]$
>     $[name]$=$[type]$
> $[endlist]$
>
> a la PHP. Which is more readable (IMHO :-) )

Some people like loops and some don't ;)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From kibab at icehouse.net  Fri Jun 25 14:58:11 2004
From: kibab at icehouse.net (Kaleb Pederson)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] newline() -> parser
Message-ID: <200406251458.11501.kibab@icehouse.net>

I'm successfully calling newline in my lexer actions, and my lines and columns 
are getting correctly set.

However, I want all the token information available to me in the parser.  When 
I call getLine() or getColumn(), I get 0 and 0 returned.

My basic structure is as follows (Java):

// run
parser.goal();
// get AST
antlr.CommonAST ast = (antlr.CommonAST)parser.getAST();

// perform semantic analysis
Semant sem = new Semant(ast);
if (sem.validate()) {
	// valid	
}
...

The getLine and getColumn never return anything useful to my validate 
function, so I'm having a hard time getting good error information.  I'm 
calling them as follows:

System.out.println("Undefined symbol " + name + " at " +
	((CommonAST)undefinedSymbols.get(name)).getLine() + ":" +
	((CommonAST)undefinedSymbols.get(name)).getColumn());

undefinedSymbols contains a HashMap of names to AST Nodes.

What do I need to do to get the error information in the Lexer's token object 
to carry down to the token available in the AST?

Thanks.

--Kaleb


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Fri Jun 25 15:03:14 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] newline() -> parser
In-Reply-To: <200406251458.11501.kibab@icehouse.net>
References: <200406251458.11501.kibab@icehouse.net>
Message-ID: <74A1536C-C6F3-11D8-B4F8-000393B5606C@codetransform.com>

What AST class are you using for your AST factory?

Monty

On Jun 25, 2004, at 2:58 PM, Kaleb Pederson wrote:

> I'm successfully calling newline in my lexer actions, and my lines and 
> columns
> are getting correctly set.
>
> However, I want all the token information available to me in the 
> parser.  When
> I call getLine() or getColumn(), I get 0 and 0 returned.
>
> My basic structure is as follows (Java):
>
> // run
> parser.goal();
> // get AST
> antlr.CommonAST ast = (antlr.CommonAST)parser.getAST();
>
> // perform semantic analysis
> Semant sem = new Semant(ast);
> if (sem.validate()) {
> 	// valid	
> }
> ...
>
> The getLine and getColumn never return anything useful to my validate
> function, so I'm having a hard time getting good error information.  
> I'm
> calling them as follows:
>
> System.out.println("Undefined symbol " + name + " at " +
> 	((CommonAST)undefinedSymbols.get(name)).getLine() + ":" +
> 	((CommonAST)undefinedSymbols.get(name)).getColumn());
>
> undefinedSymbols contains a HashMap of names to AST Nodes.
>
> What do I need to do to get the error information in the Lexer's token 
> object
> to carry down to the token available in the AST?
>
> Thanks.
>
> --Kaleb
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From FranklinChen at cmu.edu  Fri Jun 25 16:01:11 2004
From: FranklinChen at cmu.edu (FranklinChen@cmu.edu)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] newline() -> parser
In-Reply-To: <200406251458.11501.kibab@icehouse.net>
References: <200406251458.11501.kibab@icehouse.net>
Message-ID: <16604.44727.456359.565160@SWAN.PSY.cmu.edu>

Kaleb Pederson writes:
> I'm successfully calling newline in my lexer actions, and my lines and columns 
> are getting correctly set.
> 
> However, I want all the token information available to me in the parser.  When 
> I call getLine() or getColumn(), I get 0 and 0 returned.

Since I heavily use ASTs, and delay a lot of semantic checks to the
AST level (simplifying parsing), I use the following class.  

[To the ANTLR developers:  I suggest that something like this be made
a standard part of the ANTLR distribution, since it is to useful.]


import antlr.*;
import antlr.collections.AST;


/**
 * AST with location information.
 */
public class LocationAST extends CommonAST {
    private int line = 0;
    private int column = 0;

    /** Override. */
    public int getLine() {
        return this.line;
    }

    /** Override. */
    public int getColumn() {
        return this.column;
    }

    public void setLine(int line) {
        this.line = line;
    }

    public void setColumn(int column) {
        this.column = column;
    }

    /** Override. */
    public void initialize(Token tok) {
        super.initialize(tok);
        setLine(tok.getLine());
        setColumn(tok.getColumn());
    }

    /** Override. */
    public void initialize(AST t) {
        super.initialize(t);
        if (t instanceof LocationAST) {
            LocationAST actual = (LocationAST) t;
            setLine(actual.getLine());
            setColumn(actual.getColumn());
        }
    }
}

-- 
Franklin


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Matthew.Ford at forward.com.au  Fri Jun 25 17:44:30 2004
From: Matthew.Ford at forward.com.au (matthew ford)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] StringTemplate enhancement question
References: <5EADDF48-C474-11D8-8B11-000A95891192@cs.usfca.edu> <000001c45a9c$67f2a610$0400a8c0@NOTEBOOK> <9A99B87A-C6E0-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <002301c45b16$bde6e390$0400a8c0@NOTEBOOK>

From: "Terence Parr" <parrt@cs.usfca.edu>
To: <antlr-interest@yahoogroups.com>
Sent: Saturday, June 26, 2004 5:48 AM
Subject: Re: [antlr-interest] StringTemplate enhancement question


>
> On Jun 24, 2004, at 3:16 PM, matthew ford wrote:
> > One thing WebStringTemplates has that StringTemplates does not is the
> > concept of a Data Interface Definition file.
> >
> > This DID is an html file that defines all the attributes that will be
> > available to the template and gives some sample data values.
>
> Yes, with another file that limits or explicitly states what is
> available, I think I might be able to concur with this. :)
>

Hey I like this.  You could have "strict" mode in which the DID is
loaded and then when processing the  template, before looking up
the string data, the  DID map is checked to see that this attribute is
valid
eg
Given db.bob.phone   in "strict"mode
First check DID that contains  db.bob.phone, if not return an error string
or error message as appropiate,
then get db.bob.phone  from the attributes map.

Actually this is how it works in WebStringTemplates in design mode, I just
did not realize it before.
In the design stage, the web designer only has the DID to work with and if
the DID
does not contain any sample data for an attribute path, the web designer
will get an
 error message on processing. (Note the web designer designs the template
without
using any kind of server.)  So by definition an error free template in
design mode will only
access attributes contained in the Data Interface Definition file.

In deployment mode,  this check is dispensed with (usually).

> > It seems you are looking for a way to short cut creating the objects.
> > A list of  Maps seems the easiest.
> >
> > ArrayList items = new ArrayList();
> > items.add(new HashMap() {{put("name","Ter"); put("type","342");}});
> > items.add(new HashMap() {{put("name","Tom"); put("type","1342");}});
> > items.add(new HashMap() {{put("name","Fred"); put("type","42");}});
> > attributeMap.add("items",items);
>
> Yep, 'cept the HashMap thing I don't want to allow as an attribute.
>

You seem to be tieing your hands behind you back.

As I understand it, in StringTemplates, the top level is already a HashMap.

In WebStringTemplates V2, the top level (in fact any level) can be any
object
but typically only Lists, Maps, or Beans will be any use, except at the
lowest
level where  object.toString() is called to return the actual string data
for this
attribute.

matthew



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Matthew.Ford at forward.com.au  Fri Jun 25 17:52:14 2004
From: Matthew.Ford at forward.com.au (matthew ford)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] newline() -> parser
References: <200406251458.11501.kibab@icehouse.net> <16604.44727.456359.565160@SWAN.PSY.cmu.edu>
Message-ID: <003501c45b17$d2ce5710$0400a8c0@NOTEBOOK>

> [To the ANTLR developers:  I suggest that something like this be made
> a standard part of the ANTLR distribution, since it is to useful.]

I agree.  Handline line and columns should be automatic in AST creation.

----- Original Message ----- 
From: <FranklinChen@cmu.edu>
To: <antlr-interest@yahoogroups.com>
Sent: Saturday, June 26, 2004 9:01 AM
Subject: Re: [antlr-interest] newline() -> parser


> Kaleb Pederson writes:
> > I'm successfully calling newline in my lexer actions, and my lines and
columns
> > are getting correctly set.
> >
> > However, I want all the token information available to me in the parser.
When
> > I call getLine() or getColumn(), I get 0 and 0 returned.
>
> Since I heavily use ASTs, and delay a lot of semantic checks to the
> AST level (simplifying parsing), I use the following class.
>
> [To the ANTLR developers:  I suggest that something like this be made
> a standard part of the ANTLR distribution, since it is to useful.]
>
>
> import antlr.*;
> import antlr.collections.AST;
>
>
> /**
>  * AST with location information.
>  */
> public class LocationAST extends CommonAST {
>     private int line = 0;
>     private int column = 0;
>
>     /** Override. */
>     public int getLine() {
>         return this.line;
>     }
>
>     /** Override. */
>     public int getColumn() {
>         return this.column;
>     }
>
>     public void setLine(int line) {
>         this.line = line;
>     }
>
>     public void setColumn(int column) {
>         this.column = column;
>     }
>
>     /** Override. */
>     public void initialize(Token tok) {
>         super.initialize(tok);
>         setLine(tok.getLine());
>         setColumn(tok.getColumn());
>     }
>
>     /** Override. */
>     public void initialize(AST t) {
>         super.initialize(t);
>         if (t instanceof LocationAST) {
>             LocationAST actual = (LocationAST) t;
>             setLine(actual.getLine());
>             setColumn(actual.getColumn());
>         }
>     }
> }
>
> -- 
> Franklin
>
>
>
> Yahoo! Groups Links
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Matthew.Ford at forward.com.au  Fri Jun 25 17:59:13 2004
From: Matthew.Ford at forward.com.au (matthew ford)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] ANTLR 3.0 error reporting and recovery
References: <E392636A-C634-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <004001c45b18$cc423410$0400a8c0@NOTEBOOK>

Consistent setting of file names in the lexer would be nice.
At present the contructors do not encouage setting a file name as they use
streams.

matthew
----- Original Message ----- 
From: "Terence Parr" <parrt@cs.usfca.edu>
To: <antlr-interest@yahoogroups.com>
Sent: Friday, June 25, 2004 9:19 AM
Subject: [antlr-interest] ANTLR 3.0 error reporting and recovery


> Folks
>
> Just added a new "blog" on ANTLR 3 error handling:
>
> http://www.antlr.org/blog/antlr3/error.handling.tml
>
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From scott.case at ca.com  Fri Jun 25 18:39:19 2004
From: scott.case at ca.com (Case, Scott A)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] unicode strings using supplemental char range
Message-ID: <842DECC949168D4CADABE042DF46AECC0898EE1B@usilms24.ca.com>

 

> -----Original Message-----
> From: Terence Parr [mailto:parrt@cs.usfca.edu] 
> Sent: Thursday, June 24, 2004 7:27 PM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] unicode strings using 
> supplemental char range
> 
> 
> On Jun 24, 2004, at 3:20 PM, Mark Lentczner wrote:
> >> Actually, I just had an idea.  First, thanks to your help, I know 
> >> that
> >> UTF-16 encoded in a string is unambiguously UTF-16.  Now, the only 
> >> question is, how do we match a 21-bit char against it?  What if we 
> >> just specified that the input must be UTF-16 also?  Then, 
> ANTLR can 
> >> pretend everything is 16 bits, right?
> > Well, as you pointed out, this is like my hack of lexing 
> UTF-8 for my 
> > parsers in C++.  Operative word is HACK.  The other problem is that 
> > this will fall apart as soon as you want to put in the other cool 
> > Unicode class based checkes (isIdentifierStart, 
> isLowerCase, etc...).
> 
> Well, I was going to say that UTF-16 is the way I'll leave 
> until you said this last thing.  isLowerCase, for example, 
> simply won't work if we have UTF-16 strings.  I'll have to 
> take your word for it that real languages will use codes 
> above 16 bits, btw. ;)
> 

There is nothing preventing an implementation of 'isLowerCase' using
UTF-16
that I am aware of.  The real issue is that it is a lot of work (just 
working with Unicode).  That is why the ICU library is popular - it 
has done much of the tedious work. It is unfortunate that many/most of
the 
comments on the list indicate a desire to not use such a library - it 
contains a lot of useful functionality. 

There are comments in some Unicode docs that indicate that a number of
Unicode users use UTF-16 strings but for APIs handling individual 
Characters - the characters use UTF-32. This is what ICU4C appears to
do.

Regarding what languages reside outside 16-bits, 
according to the Unicode FAQ: http://www.unicode.org/faq/utf_bom.html#34
Under the UTF-16 section, I quote:
 "What is UTF-16?
A: UTF-16 uses a single 16-bitcode unit to encode the most common 63K
characters,
 and a pair of 16-bit code unites, called surrogates, to encode the 1M
less 
commonly used characters in Unicode."

If you want to get a better idea of what falls into the various unicode
ranges,
Check this out: http://www.unicode.org/charts/
An example of what requires surrogates is the 
"CJK Compatibility Ideographs Supplement".  It looks like a number of 
symbols (math/music) require surrogates.  


FYI - I am a very happy user of Antlr but I am feeling concerned about
the 
future Unicode support in C++ parsers created from Antlr 3.  We are
currently 
looking to internationalize a number of our components.  Some of those
are using
support libraries which use Antlr 2.6.1, 2.7.1 & Flex/Bison which is
looking 
a bit messy right now.  I am really hoping that Antlr 3 can "save the
day" 
for me like Antlr 2 did in the past.

> > Sorry Terrence, suck it up and change all Strings to UnicodeArray 
> > which
> 
> Shite.  Rats.  Argh!  That means I'm back to the days of 
> C/C++ where I have to define String.  Crap.  Anybody have any 
> idea what the speed hit will be for us LATIN encoded people?
> 
> > is a class wrapper around int[].  Better yet, make it a 
> protocol, and 
> > then supply implementations that scan over String, over int[], and 
> > perhaps over UTF-8 encoded byte[]...


We use UTF-16 exclusively in the middle-tier of our application(s).  
The reason we chose UTF-16 was that a number of other libraries and
tools 
use UTF-16 (or UCS-2) internally so by using it as well we had fewer 
encoding changes to deal with, less data movement in memory and somewhat

easier memory management.  I, unfortunately, don't have any benchmarks 
to indicate a speed differential. Most of our application logic *seems*
to
make a larger difference than the use of 16-bit character units.

> 
> ;)
> 
> Thanks a bunch for the clarifications...
> 
> Ter
> --
> CS Professor & Grad Director, University of San Francisco 
> Creator, ANTLR Parser Generator, http://www.antlr.org 
> Cofounder, http://www.jguru.com Cofounder, 
> http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing
> 
> 
> 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
> 
>  
> 
> 
> 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From kibab at icehouse.net  Fri Jun 25 21:32:27 2004
From: kibab at icehouse.net (Kaleb Pederson)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] newline() -> parser
In-Reply-To: <16604.44727.456359.565160@SWAN.PSY.cmu.edu>
References: <200406251458.11501.kibab@icehouse.net> <16604.44727.456359.565160@SWAN.PSY.cmu.edu>
Message-ID: <200406252132.33389.kibab@icehouse.net>

On Friday 25 June 2004 4:01 pm, FranklinChen@cmu.edu wrote:
> Kaleb Pederson writes:
> > However, I want all the token information available to me in the parser. 
> > When I call getLine() or getColumn(), I get 0 and 0 returned.
>
> Since I heavily use ASTs, and delay a lot of semantic checks to the
> AST level (simplifying parsing), I use the following class.
>
> [To the ANTLR developers:  I suggest that something like this be made
> a standard part of the ANTLR distribution, since it is to useful.]

Thanks for the quick responses!  That makes perfect sense now; I was just 
using CommonAST as I didn't have an immediate need to subclass it.

Not being an Antlr expert, I find it totally counterintuitive that the 
functions getLine() and getColumn() exist, but, as far as I can tell, aren't 
immediately useful.  I would definitely expect the values to be defined when 
they are so readily available -- I would also expect functions without an 
implementation (ok, not technically correct) to be abstract.

Maybe there should be a small note in the sections on line and column numbers 
in the Lexer section.  That would have been sufficient to get me going in the 
right direction.  That said, I don't know why I didn't see it sooner.

Thanks again for the help.

--Kaleb


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Fri Jun 25 22:20:14 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:59 2004
Subject: New antlr-interest member
Message-ID: <1088227214.115.80352.w1@yahoogroups.com>


Hello,

This is an automated email message to let you know that
i_am_prasi <sumesh.e@rediffmail.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From klaren at cs.utwente.nl  Sat Jun 26 02:38:55 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] unicode strings using supplemental char range
In-Reply-To: <842DECC949168D4CADABE042DF46AECC0898EE1B@usilms24.ca.com>
References: <842DECC949168D4CADABE042DF46AECC0898EE1B@usilms24.ca.com>
Message-ID: <20040626093855.GA24235@cs.utwente.nl>

Hi,

On Fri, Jun 25, 2004 at 09:39:19PM -0400, Case, Scott A wrote:
> FYI - I am a very happy user of Antlr but I am feeling concerned about the 
> future Unicode support in C++ parsers created from Antlr 3.  We are
> currently looking to internationalize a number of our components.  Some of
> those are using support libraries which use Antlr 2.6.1, 2.7.1 & Flex/Bison
> which is looking a bit messy right now.  I am really hoping that Antlr 3
> can "save the day" for me like Antlr 2 did in the past.

For unicode and C++ I'll definitely be looking at ICU (actually have been
looking at it already) Come to think of it hearing the latest discussions
it might definitely be an idea for the java side too. At least they already
figured out the icky bits for several java versions, so maybe it's an idea
to not reinvent stuff (although I hate the extra dependency)

For C++ we'll probably see some templates so ICU or std:string can be
plugged in, and/or maybe some lightweight own thing that can deal with some
simpler uses. (like just UTF8/16)

For ANTLR3 I'll probably also try to drop support for some older compilers.
E.g. ones not supporting template members and namespaces.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 Why don't we just invite them to dinner and massacre them all when they're
  drunk? You heard the man. There's seven hundred thousand of them. Ah? ..
           So it'd have to be something simple with pasta, then.
                 From: Interesting Times by Terry Pratchet



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sat Jun 26 12:42:28 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] unicode strings using supplemental char range
In-Reply-To: <20040626093855.GA24235@cs.utwente.nl>
References: <842DECC949168D4CADABE042DF46AECC0898EE1B@usilms24.ca.com> <20040626093855.GA24235@cs.utwente.nl>
Message-ID: <F4BCAF50-C7A8-11D8-8B11-000A95891192@cs.usfca.edu>


On Jun 26, 2004, at 2:38 AM, Ric Klaren wrote:
> For unicode and C++ I'll definitely be looking at ICU (actually have 
> been
> looking at it already) Come to think of it hearing the latest 
> discussions
> it might definitely be an idea for the java side too. At least they 
> already
> figured out the icky bits for several java versions, so maybe it's an 
> idea
> to not reinvent stuff (although I hate the extra dependency)

Yeah, dependency is bad.  Perhaps templates will help as you say.

> For C++ we'll probably see some templates so ICU or std:string can be
> plugged in, and/or maybe some lightweight own thing that can deal with 
> some
> simpler uses. (like just UTF8/16)
>
> For ANTLR3 I'll probably also try to drop support for some older 
> compilers.
> E.g. ones not supporting template members and namespaces.

Good idea.  Should make stuff cleaner.

Ric, how will going to IntString from String in ANTLR affect you do you 
think in terms of code generation?  I want to have the min Java version 
to be low like 1.1 optimally, but realistically it will be 1.3 to get 
collections.  That implies though that all this 1.5 UNICODE "fixing" 
won't be available to ANTLR itself nor the output parsers.  That 
implies that none of the supplemental codes will work for isUpperCase 
or isDigit etc...  I'm really at a loss to figure out how to proceed 
here.  I really appreciate all the feedback from people; eventually 
we'll figure this out.  Ugh.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From lgc at mail1.jpl.nasa.gov  Sat Jun 26 13:16:56 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Re: unicode strings using supplemental char range
In-Reply-To: <F4BCAF50-C7A8-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <cbkljo+htil@eGroups.com>

Ter--

I have to say that I am not a fan of the "cave man" approach.  ANTLR
2.x is available for backwards compatibility; there is no point in not
requiring 1.4 or maybe even 1.5 and figure out a clean way to
implement the ANTLR runtime with generics.  I've discovered that
unnecessarily reinventing the wheel is usually a waste of effort, and
focusing on backwards compatibility guarantees that you do a lot of
wheel reinvention.  Make it easy on yourself!

--Loring


--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
> 
> On Jun 26, 2004, at 2:38 AM, Ric Klaren wrote:
> > For unicode and C++ I'll definitely be looking at ICU (actually have 
> > been
> > looking at it already) Come to think of it hearing the latest 
> > discussions
> > it might definitely be an idea for the java side too. At least they 
> > already
> > figured out the icky bits for several java versions, so maybe it's an 
> > idea
> > to not reinvent stuff (although I hate the extra dependency)
> 
> Yeah, dependency is bad.  Perhaps templates will help as you say.
> 
> > For C++ we'll probably see some templates so ICU or std:string can be
> > plugged in, and/or maybe some lightweight own thing that can deal
with 
> > some
> > simpler uses. (like just UTF8/16)
> >
> > For ANTLR3 I'll probably also try to drop support for some older 
> > compilers.
> > E.g. ones not supporting template members and namespaces.
> 
> Good idea.  Should make stuff cleaner.
> 
> Ric, how will going to IntString from String in ANTLR affect you do you 
> think in terms of code generation?  I want to have the min Java version 
> to be low like 1.1 optimally, but realistically it will be 1.3 to get 
> collections.  That implies though that all this 1.5 UNICODE "fixing" 
> won't be available to ANTLR itself nor the output parsers.  That 
> implies that none of the supplemental codes will work for isUpperCase 
> or isDigit etc...  I'm really at a loss to figure out how to proceed 
> here.  I really appreciate all the feedback from people; eventually 
> we'll figure this out.  Ugh.
> 
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sat Jun 26 13:39:15 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Re: unicode strings using supplemental char range
In-Reply-To: <cbkljo+htil@eGroups.com>
References: <cbkljo+htil@eGroups.com>
Message-ID: <E3920282-C7B0-11D8-8B11-000A95891192@cs.usfca.edu>


On Jun 26, 2004, at 1:16 PM, lgcraymer wrote:

> Ter--
>
> I have to say that I am not a fan of the "cave man" approach.  ANTLR
> 2.x is available for backwards compatibility; there is no point in not
> requiring 1.4 or maybe even 1.5 and figure out a clean way to
> implement the ANTLR runtime with generics.  I've discovered that
> unnecessarily reinventing the wheel is usually a waste of effort, and
> focusing on backwards compatibility guarantees that you do a lot of
> wheel reinvention.  Make it easy on yourself!

Understood, but just from a practical point of view, I won't be able to 
code in 1.5 for a long time ;)  (til after I'm hoping to finish 
probably). :(

You have a point about 2.x being available for lower versions of Java.  
Using the NIO in 1.4 would be nice to speed up the lexers chewing on 
char streams...  1.5 is pretty much out of the picture though I'm 
guessing. :(

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sat Jun 26 13:40:22 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] newline() -> parser
In-Reply-To: <200406252132.33389.kibab@icehouse.net>
References: <200406251458.11501.kibab@icehouse.net> <16604.44727.456359.565160@SWAN.PSY.cmu.edu> <200406252132.33389.kibab@icehouse.net>
Message-ID: <0B7DF182-C7B1-11D8-8B11-000A95891192@cs.usfca.edu>

Kaleb,

I plan on making the trees remember precisely where in the input they 
were created. :)  The errors messages for tree parsers are pathetic as 
they stand...mea culpa mea culpa ;)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From kibab at icehouse.net  Sat Jun 26 14:45:12 2004
From: kibab at icehouse.net (Kaleb Pederson)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] newline() -> parser
In-Reply-To: <0B7DF182-C7B1-11D8-8B11-000A95891192@cs.usfca.edu>
References: <200406251458.11501.kibab@icehouse.net> <200406252132.33389.kibab@icehouse.net> <0B7DF182-C7B1-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <200406261445.14937.kibab@icehouse.net>

On Saturday 26 June 2004 1:40 pm, Terence Parr wrote:
> I plan on making the trees remember precisely where in the input they
> were created. :)  The errors messages for tree parsers are pathetic as
> they stand...mea culpa mea culpa ;)

Sounds great!  I'm soooo looking forward to Antlr-3!

Thanks.

--Kaleb


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From richard at exaflop.org  Sat Jun 26 15:12:04 2004
From: richard at exaflop.org (Richard Matthias)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Code generation error?
In-Reply-To: <0B7DF182-C7B1-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <000001c45bca$9d2efc00$286d2252@BOB>

Hi, 

I've got a problem here with the code generated by antlr (just downloaded the
latest - 2.7.4). If I have a tokens section:-

tokens {
	TRUE="true"<AST=mynamespace.iASTValue>;
	FALSE="false"<AST=mynamespace.iASTValue>;
}

According to the docs this is allowable and antlr doesn't produce any errors,
but the code generated is thus:

	static public void initializeASTFactory( ASTFactory factory )
	{
...
		factory.setTokenTypeASTNodeType("true",
"mynamespace.iASTValue");
		factory.setTokenTypeASTNodeType("false",
"mynamespace.iASTValue");
	}

This is for the C# code generator btw. if you hadn't already worked that out
:)

This doesn't compile because setTokenTypeASTNodeType() only takes int as its
first parameter. I'm guessing that the step that adds those string literals
to the hashtable used by the testliterals thingy has been left out (as you
can guess I'm not really an expert on antlr internals :)

I can get around this for now by using the <AST=> option on the token
reference in the rule where it's used instead.

Richard



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sat Jun 26 15:53:47 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] newline() -> parser; Ter adds 3.0 status report
In-Reply-To: <200406261445.14937.kibab@icehouse.net>
References: <200406251458.11501.kibab@icehouse.net> <200406252132.33389.kibab@icehouse.net> <0B7DF182-C7B1-11D8-8B11-000A95891192@cs.usfca.edu> <200406261445.14937.kibab@icehouse.net>
Message-ID: <AF23EEF3-C7C3-11D8-8B11-000A95891192@cs.usfca.edu>

On Jun 26, 2004, at 2:45 PM, Kaleb Pederson wrote:
> Sounds great!  I'm soooo looking forward to Antlr-3!

Me too ;)

I just today got (...)+ (...)* (...)? and wildcard code generation 
working (for Java).  Woohoo!

I had to think really really hard about the precise behavior we want 
from + and * loops.  Further, how does greedy affect them and how does 
it get implemented in the analysis.  Turns out it's all verrrrrry 
smooth.  The new DFA-based lookahead just always seems to do the right 
thing magically.  I'm doing the happy dance.

My goal is to get ANTLR 3 together enough to handle the (upgraded) java 
lexer/parser/treeparser and then build a C code generator as it's 
pretty different (non-OO, header files, ...).  Then error 
reporting/recovery for generated parsers and more importantly tool 
nondeterminism warning stuff.  Then attributes, trees, templates, and 
other goodies.

All the while I have to be writing specs, papers, and doc. ;)

Oh, I've completed separated the antlr java runtime into its own 
package.  It's currently only a measly 350 lines and is enough to 
lex/parse some simple stuff.  Entire project is only 17k lines so far 
and it has full analysis including semantic predicate hoisting and the 
core of the code generator.  The java string template file is 250 lines 
(it describes what the Java output should look like).  For example, 
here is how I know what a parser looks like in Java:

parser(name, tokens, rules, DFAs) ::= <<
class <name> extends Parser {
     <tokens:{public static final int <attr.name>=<attr.type>;}; 
separator="\n">
     public <name>(TokenStream input) {
         super(input);
     }
     <rules; separator="\n">

     <DFAs>
}
 >>

The arguments and this file format are new for StringTemplate 2.0. :)

Ter
PS	Yes, i make backups of this stuff constantly in case my box goes to 
the "big network in the sky" ;)
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From jasonriz at yahoo.com  Sat Jun 26 16:56:32 2004
From: jasonriz at yahoo.com (Jason)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Re: unicode strings using supplemental char range
In-Reply-To: <E3920282-C7B0-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <20040626235632.64305.qmail@web12702.mail.yahoo.com>

--- Terence Parr <parrt@cs.usfca.edu> wrote:
> 
> On Jun 26, 2004, at 1:16 PM, lgcraymer wrote:
> 
> > Ter--
> >
> > I have to say that I am not a fan of the "cave
> man" approach.  ANTLR
> > 2.x is available for backwards compatibility;
> there is no point in not
> > requiring 1.4 or maybe even 1.5 and figure out a
> clean way to
> > implement the ANTLR runtime with generics.  I've
> discovered that
> > unnecessarily reinventing the wheel is usually a
> waste of effort, and
> > focusing on backwards compatibility guarantees
> that you do a lot of
> > wheel reinvention.  Make it easy on yourself!
> 
> Understood, but just from a practical point of view,
> I won't be able to 
> code in 1.5 for a long time ;)  (til after I'm
> hoping to finish 
> probably). :(
> 
> You have a point about 2.x being available for lower
> versions of Java.  
> Using the NIO in 1.4 would be nice to speed up the
> lexers chewing on 
> char streams...  1.5 is pretty much out of the
> picture though I'm 
> guessing. :(

There's definitely no point in supporting the pre
Java2 stuff, but a significant portion of the
installed java base still runs 1.2.x (which of course
includes support for the Java2 Collections).  In my
opinion there should be a compelling reason not to
support 1.2 or it doesn't make sense.  Support for the
unicode surrogate pairs might arguably be compelling
enough but requiring jdk1.5 would severely limit the
pool of potential users for at least the next two or
three years.

-jason


		
__________________________________
Do you Yahoo!?
Yahoo! Mail - You care about security. So do we.
http://promotions.yahoo.com/new_mail


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Matthew.Ford at forward.com.au  Sat Jun 26 17:03:51 2004
From: Matthew.Ford at forward.com.au (matthew ford)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Re: unicode strings using supplemental char range
References: <cbkljo+htil@eGroups.com> <E3920282-C7B0-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <001e01c45bda$3a7fd1f0$0400a8c0@NOTEBOOK>

I have tried V1.5 beta and found it un-usable.
A project (Parallel) that runs fine in V1.4, dies in funny ways in
multi-threaded sync methods
in V1.5
I also found NetBeans was not stable under V1.5 and then found that NetBeans
recommends
not using V1.5 but sticking to V1.4.

matthew

----- Original Message ----- 
From: "Terence Parr" <parrt@cs.usfca.edu>
To: <antlr-interest@yahoogroups.com>
Sent: Sunday, June 27, 2004 6:39 AM
Subject: Re: [antlr-interest] Re: unicode strings using supplemental char
range


>
> On Jun 26, 2004, at 1:16 PM, lgcraymer wrote:
>
> > Ter--
> >
> > I have to say that I am not a fan of the "cave man" approach.  ANTLR
> > 2.x is available for backwards compatibility; there is no point in not
> > requiring 1.4 or maybe even 1.5 and figure out a clean way to
> > implement the ANTLR runtime with generics.  I've discovered that
> > unnecessarily reinventing the wheel is usually a waste of effort, and
> > focusing on backwards compatibility guarantees that you do a lot of
> > wheel reinvention.  Make it easy on yourself!
>
> Understood, but just from a practical point of view, I won't be able to
> code in 1.5 for a long time ;)  (til after I'm hoping to finish
> probably). :(
>
> You have a point about 2.x being available for lower versions of Java.
> Using the NIO in 1.4 would be nice to speed up the lexers chewing on
> char streams...  1.5 is pretty much out of the picture though I'm
> guessing. :(
>
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Sat Jun 26 20:27:24 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:59 2004
Subject: New antlr-interest member
Message-ID: <1088306844.123.6680.w81@yahoogroups.com>


Hello,

This is an automated email message to let you know that
sofa_chef <jes_quintana@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From markl at glyphic.com  Sat Jun 26 20:48:34 2004
From: markl at glyphic.com (Mark Lentczner)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] unicode strings using supplemental char range
In-Reply-To: <F4BCAF50-C7A8-11D8-8B11-000A95891192@cs.usfca.edu>
References: <842DECC949168D4CADABE042DF46AECC0898EE1B@usilms24.ca.com> <20040626093855.GA24235@cs.utwente.nl> <F4BCAF50-C7A8-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <DD772E05-C7EC-11D8-BDAA-000393A56BB6@glyphic.com>

> ...That implies though that all this 1.5 UNICODE "fixing"
> won't be available to ANTLR itself nor the output parsers.  That
> implies that none of the supplemental codes will work for isUpperCase
> or isDigit etc...  I'm really at a loss to figure out how to proceed
> here.  I really appreciate all the feedback from people; eventually
> we'll figure this out.

I think the problem is much simpler than all this gnashing of teeth is 
making things out to be.

Ignoring for the moment Unicode specific extensions to Antlr, Antlr has 
very modest needs to be fully Unicode compliant:

[ Terminology: "char" = Java type, 16-bits, "character" = Unicode 
character in range 0..0x10FFFF, "String" = Java type, "unicode string" 
= a sequence of zero or more characters. ]

	- the ability to read a stream of characters
	- the ability to take a String written in a grammar file (i.e. 
"abc\u20ac123") and produce a unicode string from it (i.e. [ 97, 98, 
99, 8364, 49, 50, 41 ] - or if you mailer can handle it: [ 'a', 'b', 
'c', '?', '1, '2', '3' ])

Supporting these requirements hardly needs something as heavy weight as 
ICU for either Java or C++ parsers.  (ICU has things like calendar 
handling, regex matching, and number formatting in it!)  A simple class 
for the unicode string, an interface for the streaming protocol, a few 
implementations of the streaming interface, and a utility for 
de-escaping user written strings is all that is needed.

Note: The escape syntax for Antlr will probably need to be redesigned.  
"\u" followed by four hex digits doesn't cut it, though could be kept 
for backward compatibility.  It is probably best to bite the bullet and 
have a delimited escape sequence: "\U" followed by hex digits followed 
by ";".  Or if you want to look like the Unicode documentation 
standards, "\U+"...

Other features that have been discussed fall into two camps:

Features that are really not logically part of a lexer/parser package:
	- transcoding the input from a some encoding byte stream into a stream 
of characters
	- character sequence normalization
None of these should be part of Antlr (IMHO) and are easily handled as 
needed via re-implementing the streaming interface.

Features that might be possible nice utilities to have in a 
lexer/parser package:
	- case folding
	- Unicode character classes as pre-defined (or algorithmically 
defined) lexer rules
	- Unicode character blocks as pre-defined (or algorithmically defined) 
lexer rules
These may be nice, though Antlr has gotten along just fine until now 
without them.  I would heavily caution implementing these, or basing 
implementation issues on them until someone speaks up who would 
actually use them.  And even then, I caution adding large library needs 
to Antlr just to support optional features.

[ Personally, I might like to see some of the Unicode character classes 
(though, by no means all of them).  The Unicode blocks are useless to 
me, as is case folding.  I suspect for real world language parsing 
needs, unless a format is actually defined in terms of the Unicode 
properties, a grammar writer might prefer to explicitly declare their 
character sets in their lexer anyway. ]

	- Mark

Mark Lentczner
markl@wheatfarm.org
http://www.wheatfarm.org/



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From jes_quintana at yahoo.com  Sat Jun 26 20:43:09 2004
From: jes_quintana at yahoo.com (sofa_chef)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Using two parsers within the same process
Message-ID: <cblfod+a1li@eGroups.com>

Hi,
I have quite a few grammar files that I compile using PCCTS 1.33. A 
major issue which is very annoying to me is that I can't use two 
different parsers in the same application. I believe it's related to 
several global definitions that collide.
Did anyone else come upon this problem? Is there a way which I'm not 
aware of to use two parsers in the same app? Also, will moving to 
ANTLR solve my problem?
Thanks,
Yoav Noon.





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Sat Jun 26 22:30:58 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:16:59 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1088314258.1860.7023.m22@yahoogroups.com>


Hello,

This is an automated email message to let you know that
myzhaoxh <myzhaoxh@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From markl at glyphic.com  Sun Jun 27 06:41:19 2004
From: markl at glyphic.com (Mark Lentczner)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Re: Ter adds 3.0 status report
In-Reply-To: <AF23EEF3-C7C3-11D8-8B11-000A95891192@cs.usfca.edu>
References: <200406251458.11501.kibab@icehouse.net> <200406252132.33389.kibab@icehouse.net> <0B7DF182-C7B1-11D8-8B11-000A95891192@cs.usfca.edu> <200406261445.14937.kibab@icehouse.net> <AF23EEF3-C7C3-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <AB8E1E26-C83F-11D8-BDAA-000393A56BB6@glyphic.com>


On Jun 26, 2004, at 3:53 PM, Terence Parr wrote:

> My goal is to get ANTLR 3 together enough to handle the (upgraded) java
> lexer/parser/treeparser and then build a C code generator as it's
> pretty different (non-OO, header files, ...).

Ack!  Does anyone really want C code generation?  Surely in this day 
and age, anyone building something with Antlr has C++ available...

	- Mark



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Matthew.Ford at forward.com.au  Sun Jun 27 08:36:37 2004
From: Matthew.Ford at forward.com.au (matthew ford)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Re: Ter adds 3.0 status report
References: <200406251458.11501.kibab@icehouse.net> <200406252132.33389.kibab@icehouse.net> <0B7DF182-C7B1-11D8-8B11-000A95891192@cs.usfca.edu> <200406261445.14937.kibab@icehouse.net> <AF23EEF3-C7C3-11D8-8B11-000A95891192@cs.usfca.edu> <AB8E1E26-C83F-11D8-BDAA-000393A56BB6@glyphic.com>
Message-ID: <000f01c45c5c$890e2a10$0400a8c0@NOTEBOOK>

I would not dispense with C just yet.
Imbedded systems don't usually run C++ and I could see a use for Antlr
translations to
imbedded systems.
matthew
----- Original Message ----- 
From: "Mark Lentczner" <markl@glyphic.com>
To: <antlr-interest@yahoogroups.com>
Sent: Sunday, June 27, 2004 11:41 PM
Subject: [antlr-interest] Re: Ter adds 3.0 status report


>
> On Jun 26, 2004, at 3:53 PM, Terence Parr wrote:
>
> > My goal is to get ANTLR 3 together enough to handle the (upgraded) java
> > lexer/parser/treeparser and then build a C code generator as it's
> > pretty different (non-OO, header files, ...).
>
> Ack!  Does anyone really want C code generation?  Surely in this day
> and age, anyone building something with Antlr has C++ available...
>
> - Mark
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sun Jun 27 09:25:45 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] unicode strings using supplemental char range
In-Reply-To: <DD772E05-C7EC-11D8-BDAA-000393A56BB6@glyphic.com>
References: <842DECC949168D4CADABE042DF46AECC0898EE1B@usilms24.ca.com> <20040626093855.GA24235@cs.utwente.nl> <F4BCAF50-C7A8-11D8-8B11-000A95891192@cs.usfca.edu> <DD772E05-C7EC-11D8-BDAA-000393A56BB6@glyphic.com>
Message-ID: <A4799386-C856-11D8-AA3E-000393BB647E@cs.usfca.edu>


On Jun 26, 2004, at 8:48 PM, Mark Lentczner wrote:
> I think the problem is much simpler than all this gnashing of teeth is
> making things out to be.

Hi Mark,

Thanks a million for cutting this down to the essentials.  At the very 
least your suggestion is a fabulous starting place that would not 
preclude future enhancements.

> Ignoring for the moment Unicode specific extensions to Antlr, Antlr has
> very modest needs to be fully Unicode compliant:
>
> [ Terminology: "char" = Java type, 16-bits, "character" = Unicode
> character in range 0..0x10FFFF, "String" = Java type, "unicode string"
> = a sequence of zero or more characters. ]
>
> 	- the ability to read a stream of characters
> 	- the ability to take a String written in a grammar file (i.e.
> "abc\u20ac123") and produce a unicode string from it (i.e. [ 97, 98,
> 99, 8364, 49, 50, 41 ] - or if you mailer can handle it: [ 'a', 'b',
> 'c', '?', '1, '2', '3' ])

So, I need to make IntString or some such and then use it to represent 
all string literals found in a grammar, all of which are assumed to be 
UTF-16 unless they use "\u+..." character notation (but I would convert 
to IntString after reading it in).  My dictionary of string literals 
would go to a dictionary of IntString.  When generating code, I would 
convert my match(String) to be match(IntString) and IntString would 
move to org.antlr.runtime package (or perhaps int[] is good enough at 
that point).  All input symbols would be ints as per my IntegerStream 
now (that is the thing that sucks from a CharSource) and has methods 
for lookahead like:

int LA(int i);

For lexer errors and such, I would have to have support code to print 
IntString back out character by character (full unicode), right?  But, 
what if the terminal can't handle it?  Won't I have to allow people to 
specify the encoding?  Doesn't this start to get messy?  Can you go a 
little further and tell me at runtime what support you think we'd need? 
  match() will be easy, but how do I print: "expecting foo found bar"?

> Note: The escape syntax for Antlr will probably need to be redesigned.
> "\u" followed by four hex digits doesn't cut it, though could be kept
> for backward compatibility.  It is probably best to bite the bullet and
> have a delimited escape sequence: "\U" followed by hex digits followed
> by ";".  Or if you want to look like the Unicode documentation
> standards, "\U+"...

Yeah, i'm leaning towards to \uxxxx for 16-bit char and \u+10xxxx 
format for full character range notation.  Can even be in the same 
string.

> Other features that have been discussed fall into two camps:
>
> Features that are really not logically part of a lexer/parser package:
> 	- transcoding the input from a some encoding byte stream into a stream
> of characters

I'll leave that to Java or a developer's own implementation of 
IntegerStream.

> 	- character sequence normalization

yeah, no way ;)

> None of these should be part of Antlr (IMHO) and are easily handled as
> needed via re-implementing the streaming interface.
>
> Features that might be possible nice utilities to have in a
> lexer/parser package:
> 	- case folding

Well, I want to support a simple "ignore case" feature, which literally 
just upper cases all char in '...' and "..." before putting them in a 
hash table or in a DFA.  Then, I'd have LA(i) return the uppercase 
equivalent, while retaining the actual case to be put into the token 
text etc...  Does Character.toUpperCase() usually just do this 
correctly and across all languages or is it encoding sensitive (ick)?

> 	- Unicode character classes as pre-defined (or algorithmically
> defined) lexer rules

Yep, I want stuff like LETTER and DIGIT.  I *hope* there is a 
noncontext-sensitive definition.  I have deleted the charVocabulary 
option for 3.0 and simply made it all UNICODE. :)  Wildcard is just a 
big range of characters now.  So, even if you're doing LATIN, DIGIT 
will contain digits for other languages, but that should be ok, right?  
Can anybody think of a reason to limit the char vocabulary?  Certainly 
any bizarre character that comes in will get an error the minute it 
doesn't match anything (even when lexing plain old binary data files).

Wait, is DIGIT a predefined set or is it a "function" that must operate 
on the character?  Wouldn't that suck!  How would I translate DIGIT if 
it is a computation?  I need to compute lookahead on DIGIT (i.e., it 
needs to yield a set of char), which is pretty tough if it's a 
function.

> 	- Unicode character blocks as pre-defined (or algorithmically defined)
> lexer rules

I might as well allow stuff in Character.UnicodeBlock as it's just a 
simple lookup via reflection into the Character.UnicodeBlock class. :)

OTOH, how does all this Java capability work when generating C or LISP? 
  In other words, is it sufficient for me to allow

lexer grammar test(language=C);

a : "\u0020blort" ;
INT : (DIGIT)+ ;

ID : (KOREAN)+ 'LATIN CHAR SPEC WRITTEN ALL THE WAY OUT' ;

and then convert all of the strings, characters to IntString and the 
DIGIT, KOREAN to sets of characters?  Everything would be normalized at 
that point and ANTLR could proceed as if it were all just a bunch of 
ints and sets of ints as it does now.

> These may be nice, though Antlr has gotten along just fine until now
> without them.  I would heavily caution implementing these, or basing
> implementation issues on them until someone speaks up who would
> actually use them.  And even then, I caution adding large library needs
> to Antlr just to support optional features.

Yes, please speak up if you know about what you'd need for BENGALI and 
classes like DIGIT, TITLECASE, etc...

> [ Personally, I might like to see some of the Unicode character classes
> (though, by no means all of them).  The Unicode blocks are useless to
> me, as is case folding.  I suspect for real world language parsing
> needs, unless a format is actually defined in terms of the Unicode
> properties, a grammar writer might prefer to explicitly declare their
> character sets in their lexer anyway. ]

Well, judging from the SableCC grammar that defines all the JavaID sets 
manually, I'd say that some predefined blocks would be useful, though 
just how many people are doing Java parsers ;)

heh, we might actually be converging on a solution!  I'd like to decide 
soon so that I can refactor to have IntString rather than String in the 
right places.

Ter





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sun Jun 27 09:30:08 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:16:59 2004
Subject: [antlr-interest] Re: Ter adds 3.0 status report
In-Reply-To: <AB8E1E26-C83F-11D8-BDAA-000393A56BB6@glyphic.com>
References: <200406251458.11501.kibab@icehouse.net> <200406252132.33389.kibab@icehouse.net> <0B7DF182-C7B1-11D8-8B11-000A95891192@cs.usfca.edu> <200406261445.14937.kibab@icehouse.net> <AF23EEF3-C7C3-11D8-8B11-000A95891192@cs.usfca.edu> <AB8E1E26-C83F-11D8-BDAA-000393A56BB6@glyphic.com>
Message-ID: <412612D8-C857-11D8-AA3E-000393BB647E@cs.usfca.edu>


On Jun 27, 2004, at 6:41 AM, Mark Lentczner wrote:

>
> On Jun 26, 2004, at 3:53 PM, Terence Parr wrote:
>
>> My goal is to get ANTLR 3 together enough to handle the (upgraded) 
>> java
>> lexer/parser/treeparser and then build a C code generator as it's
>> pretty different (non-OO, header files, ...).
>
> Ack!  Does anyone really want C code generation?  Surely in this day
> and age, anyone building something with Antlr has C++ available...

I have actual requests for C-based recognizers :)  It should be pretty 
easy as I'll use struct to mimic classes.  Fortunately, all (and I mean 
all) code gen logic is encapsulated in the CodeGenerator class.  All 
output is encapsulated in the template file (currently I only have 
Java.stg).  So, adding C should be relatively straightforward, though 
it will require upgrades to the CodeGenerator (that may be useful for 
other languages) to handle generating more than one file (headers).

Ter





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From antlr-interest at yahoogroups.com  Mon Jun 28 00:36:14 2004
From: antlr-interest at yahoogroups.com (antlr-interest@yahoogroups.com)
Date: Mon Dec 20 16:17:00 2004
Subject: Mail Delivery (failure parrt@jguru.com)
Message-ID: <20040628081347.074051CEDB7@lobby.jguru.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: audio/x-wav
Size: 29568 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040628/adc7c377/attachment.wav
From notify at yahoogroups.com  Mon Jun 28 04:20:13 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:00 2004
Subject: New antlr-interest member
Message-ID: <1088421613.330.67417.w6@yahoogroups.com>


Hello,

This is an automated email message to let you know that
vladimir_karter <karter@rambler.ru> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From tcurdt at yahoo.com  Mon Jun 28 04:32:03 2004
From: tcurdt at yahoo.com (Mr Torsten Curdt)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] unexpected end of subtree
In-Reply-To: <4E24E344-C5DD-11D8-AC89-000393B5606C@codetransform.com>
Message-ID: <20040628113203.12510.qmail@web90008.mail.scd.yahoo.com>

> > Anyone a pointer?

Thanks for the pointer, Monty

> Use the -traceTreeParser option to antlr.Tool and
> watch what it is 
> doing.

Did that:

 > parse(ROOT)
  > instruction(INSTRUCTION)
   > literal(Format)
   < literal(PARAMETER)
   > literal(5.1)
   < literal(null)
   > literal(null)
<AST>:0:0: unexpected end of subtree
   < literal(<ASTNULL>)
  < instruction(INSTRUCTION)
  > instruction(INSTRUCTION)
   > literal(Application)
   < literal(PARAMETER)
   > literal(somepackage)
   < literal(null)
   > literal(null)
<AST>:0:0: unexpected end of subtree
   < literal(<ASTNULL>)
  < instruction(INSTRUCTION)
  > instruction(INSTRUCTION)
  ...

For the following grammar:

instruction
  : #(INSTRUCTION inst=literal
    (#(PARAMETER kn=literal kv=literal))+
   ...


literal returns [ String s ]
  : l:LITERAL { ... }
  | ql:QLITERAL { ... }
  ;

> Usually "unexpected end of subtree" means
> you forgot to make something a root in the
> parser.

Not totally sure what you mean by that. All
nodes are in the AST as expected (see below)
But please have a look at the above grammar.

> I don't think it is from your ()+  closure.

Hm.. but looking at the trace output
it seems like the treeparser is exspecting
literals, but gets nulls instead. ...which
is because of the ()+ closure. And unfortunately
it complains about it.

>  Another help is to print the tree using
> tree.toStringList() 
> to see what its structure is.

The structure looks exactly like I
would exspect it.

  ROOT
    INSTRUCTION
      "name"
      PARAMETER
         "key"
         "value"
      PARAMETER
         "key"
         "value"
    INSTRUCTION
      "name"
      PARAMETER
         "key"
         "value"

So what am I doing wrong?

cheers
--
Torsten


		
__________________________________
Do you Yahoo!?
New and Improved Yahoo! Mail - Send 10MB messages!
http://promotions.yahoo.com/new_mail 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Mon Jun 28 04:39:30 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] unicode strings using supplemental char range
In-Reply-To: <F4BCAF50-C7A8-11D8-8B11-000A95891192@cs.usfca.edu>
References: <842DECC949168D4CADABE042DF46AECC0898EE1B@usilms24.ca.com> <20040626093855.GA24235@cs.utwente.nl> <F4BCAF50-C7A8-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <20040628113929.GC3163@cs.utwente.nl>

On Sat, Jun 26, 2004 at 12:42:28PM -0700, Terence Parr wrote:
> Yeah, dependency is bad.  Perhaps templates will help as you say.

If correctly done I think we can gain a lot with it.

> Ric, how will going to IntString from String in ANTLR affect you do you
> think in terms of code generation?

Won't be much of an issue I think. At the moment I'm dequoting java
strings, checking the values and requoting them (*ick* *yuck* *barf*
*grumble*). Going from ints sounds like a good improvement ;) As long as
the frontend of antlr supplies concise and clear structures then I'm a
happy camper. I'd really see as little of java bleed through as possible
(where it would hamper implementing the codegen for another language as is
now with strings supplied by antlr). Having the frontend supply plain
values for the char's that should be output is good then all backends can
decide on their own quoting requirements without having to worry about how
to unquote what's coming from the frontend.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
     "Never argue with an idiot, for they will bring you down to their
              level and beat you with experience." --- Unknown



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Mon Jun 28 05:08:50 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:00 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1088424530.1071.20354.m3@yahoogroups.com>


Hello,

This is an automated email message to let you know that
somhalikhede <somhalikhede@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From j.klaren at utwente.nl  Mon Jun 28 05:20:12 2004
From: j.klaren at utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] unicode strings using supplemental char range
In-Reply-To: <DD772E05-C7EC-11D8-BDAA-000393A56BB6@glyphic.com>
References: <842DECC949168D4CADABE042DF46AECC0898EE1B@usilms24.ca.com> <20040626093855.GA24235@cs.utwente.nl> <F4BCAF50-C7A8-11D8-8B11-000A95891192@cs.usfca.edu> <DD772E05-C7EC-11D8-BDAA-000393A56BB6@glyphic.com>
Message-ID: <20040628122012.GD3163@cs.utwente.nl>

On Sat, Jun 26, 2004 at 08:48:34PM -0700, Mark Lentczner wrote:
> [ Terminology: "char" = Java type, 16-bits, "character" = Unicode
> character in range 0..0x10FFFF, "String" = Java type, "unicode string"
> = a sequence of zero or more characters. ]
>
> 	- the ability to read a stream of characters
> 	- the ability to take a String written in a grammar file (i.e.
> "abc\u20ac123") and produce a unicode string from it (i.e. [ 97, 98,
> 99, 8364, 49, 50, 41 ] - or if you mailer can handle it: [ 'a', 'b',
> 'c', '?', '1, '2', '3' ])
>
> Supporting these requirements hardly needs something as heavy weight as
> ICU for either Java or C++ parsers.  (ICU has things like calendar
> handling, regex matching, and number formatting in it!)

It's a pity they don't have a 'light' version indeed. That's also why I'm
contemplating making some lightweight classes for some aspects we need
inside ANTLR for the C++ side.

> A simple class for the unicode string, an interface for the streaming
> protocol, a few implementations of the streaming interface, and a utility
> for de-escaping user written strings is all that is needed.
>
> Note: The escape syntax for Antlr will probably need to be redesigned.
> "\u" followed by four hex digits doesn't cut it, though could be kept
> for backward compatibility.  It is probably best to bite the bullet and
> have a delimited escape sequence: "\U" followed by hex digits followed
> by ";".  Or if you want to look like the Unicode documentation
> standards, "\U+"...

Guess I'd prefer the \U[0-9]+; syntax since it has a closing char (didn't
notice one in the \u+ syntax although I did not look to well for it).

> Other features that have been discussed fall into two camps:
>
> Features that are really not logically part of a lexer/parser package:
> 	- transcoding the input from a some encoding byte stream into a stream
> of characters
> 	- character sequence normalization
> None of these should be part of Antlr (IMHO) and are easily handled as
> needed via re-implementing the streaming interface.

I'm not sure but don't we need this on the C++ side? We have no java to
this stuff for us. So at least I'd like to be able to feed a UTF-8 string
to ANTLR out of the box without deriving some custom classes. Live is a lot
easier on the lexer side if it only has to deal with unicode characters. So
some input stream decoding will be necessary. On second thought this
probably does not need transcoding/normalization just the decoding for
UTF-xx.

Question: How to deal with the unicode characters that are beyond 32 bits
they'd need a more expensive struct to have all bits or do we have to make
the lexers operate on UTF-32.

Question: How do we deal with this codegen wise? Can this choice be delayed
until the codegen or does it need to be resolved at analysis time?

> Features that might be possible nice utilities to have in a
> lexer/parser package:
> 	- case folding
> 	- Unicode character classes as pre-defined (or algorithmically
> defined) lexer rules
> 	- Unicode character blocks as pre-defined (or algorithmically defined)
> lexer rules
> These may be nice, though Antlr has gotten along just fine until now
> without them.  I would heavily caution implementing these, or basing
> implementation issues on them until someone speaks up who would
> actually use them.  And even then, I caution adding large library needs
> to Antlr just to support optional features.

It's probably an idea to have some include file mechanism in which we can
define and import these classes/blocks/encodings. That way we can just
start with a bare minimum and people can submit their added versions
lateron for distro inclusion. Or with some luck we can generate these
include files from some stuff from ICU (I recall seeing some tables or
something in their distro)

On a general note it be nice if antlr 3 supported some character range
macro's definition syntax. Doing things via protected rules is sometimes a
bit 'overkill' (e.g. it implies extra function calls where they just could
have been included in a switch).

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 "Don't call me stupid." "Oh, right. To call you stupid would be an insult
    to stupid people. I've known sheep that could outwit you! I've worn
              dresses with higher IQs!" --- A Fish Called Wanda

From klaren at cs.utwente.nl  Mon Jun 28 05:20:12 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] unicode strings using supplemental char range
In-Reply-To: <DD772E05-C7EC-11D8-BDAA-000393A56BB6@glyphic.com>
References: <842DECC949168D4CADABE042DF46AECC0898EE1B@usilms24.ca.com> <20040626093855.GA24235@cs.utwente.nl> <F4BCAF50-C7A8-11D8-8B11-000A95891192@cs.usfca.edu> <DD772E05-C7EC-11D8-BDAA-000393A56BB6@glyphic.com>
Message-ID: <20040628122012.GD3163@cs.utwente.nl>

On Sat, Jun 26, 2004 at 08:48:34PM -0700, Mark Lentczner wrote:
> [ Terminology: "char" = Java type, 16-bits, "character" = Unicode
> character in range 0..0x10FFFF, "String" = Java type, "unicode string"
> = a sequence of zero or more characters. ]
>
> 	- the ability to read a stream of characters
> 	- the ability to take a String written in a grammar file (i.e.
> "abc\u20ac123") and produce a unicode string from it (i.e. [ 97, 98,
> 99, 8364, 49, 50, 41 ] - or if you mailer can handle it: [ 'a', 'b',
> 'c', '?', '1, '2', '3' ])
>
> Supporting these requirements hardly needs something as heavy weight as
> ICU for either Java or C++ parsers.  (ICU has things like calendar
> handling, regex matching, and number formatting in it!)

It's a pity they don't have a 'light' version indeed. That's also why I'm
contemplating making some lightweight classes for some aspects we need
inside ANTLR for the C++ side.

> A simple class for the unicode string, an interface for the streaming
> protocol, a few implementations of the streaming interface, and a utility
> for de-escaping user written strings is all that is needed.
>
> Note: The escape syntax for Antlr will probably need to be redesigned.
> "\u" followed by four hex digits doesn't cut it, though could be kept
> for backward compatibility.  It is probably best to bite the bullet and
> have a delimited escape sequence: "\U" followed by hex digits followed
> by ";".  Or if you want to look like the Unicode documentation
> standards, "\U+"...

Guess I'd prefer the \U[0-9]+; syntax since it has a closing char (didn't
notice one in the \u+ syntax although I did not look to well for it).

> Other features that have been discussed fall into two camps:
>
> Features that are really not logically part of a lexer/parser package:
> 	- transcoding the input from a some encoding byte stream into a stream
> of characters
> 	- character sequence normalization
> None of these should be part of Antlr (IMHO) and are easily handled as
> needed via re-implementing the streaming interface.

I'm not sure but don't we need this on the C++ side? We have no java to
this stuff for us. So at least I'd like to be able to feed a UTF-8 string
to ANTLR out of the box without deriving some custom classes. Live is a lot
easier on the lexer side if it only has to deal with unicode characters. So
some input stream decoding will be necessary. On second thought this
probably does not need transcoding/normalization just the decoding for
UTF-xx.

Question: How to deal with the unicode characters that are beyond 32 bits
they'd need a more expensive struct to have all bits or do we have to make
the lexers operate on UTF-32.

Question: How do we deal with this codegen wise? Can this choice be delayed
until the codegen or does it need to be resolved at analysis time?

> Features that might be possible nice utilities to have in a
> lexer/parser package:
> 	- case folding
> 	- Unicode character classes as pre-defined (or algorithmically
> defined) lexer rules
> 	- Unicode character blocks as pre-defined (or algorithmically defined)
> lexer rules
> These may be nice, though Antlr has gotten along just fine until now
> without them.  I would heavily caution implementing these, or basing
> implementation issues on them until someone speaks up who would
> actually use them.  And even then, I caution adding large library needs
> to Antlr just to support optional features.

It's probably an idea to have some include file mechanism in which we can
define and import these classes/blocks/encodings. That way we can just
start with a bare minimum and people can submit their added versions
lateron for distro inclusion. Or with some luck we can generate these
include files from some stuff from ICU (I recall seeing some tables or
something in their distro)

On a general note it be nice if antlr 3 supported some character range
macro's definition syntax. Doing things via protected rules is sometimes a
bit 'overkill' (e.g. it implies extra function calls where they just could
have been included in a switch).

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 "Don't call me stupid." "Oh, right. To call you stupid would be an insult
    to stupid people. I've known sheep that could outwit you! I've worn
              dresses with higher IQs!" --- A Fish Called Wanda



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Mon Jun 28 05:45:35 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] unexpected end of subtree
In-Reply-To: <20040628113203.12510.qmail@web90008.mail.scd.yahoo.com>
References: <4E24E344-C5DD-11D8-AC89-000393B5606C@codetransform.com> <20040628113203.12510.qmail@web90008.mail.scd.yahoo.com>
Message-ID: <20040628124533.GE3163@cs.utwente.nl>

Hi,

On Mon, Jun 28, 2004 at 04:32:03AM -0700, Mr Torsten Curdt wrote:
>  > parse(ROOT)
>   > instruction(INSTRUCTION)
>    > literal(Format)
>    < literal(PARAMETER)
>    > literal(5.1)
>    < literal(null)
>    > literal(null)
> <AST>:0:0: unexpected end of subtree
>    < literal(<ASTNULL>)
>   < instruction(INSTRUCTION)
>   > instruction(INSTRUCTION)
>    > literal(Application)
>    < literal(PARAMETER)
>    > literal(somepackage)
>    < literal(null)
>    > literal(null)
> <AST>:0:0: unexpected end of subtree
>    < literal(<ASTNULL>)
>   < instruction(INSTRUCTION)
>   > instruction(INSTRUCTION)
>   ...

>
> For the following grammar:
>
> instruction
>   : #(INSTRUCTION inst=literal
>     (#(PARAMETER kn=literal kv=literal))+

By the look of the trace the kv literal is missing in your trees.... I find
it helpfull for debugging this stuff to put a custom error handler on the
rule giving trouble with a toStringList() on the #rule_in tree. That way
you can directly see the structure of the input to the rule.

> Hm.. but looking at the trace output
> it seems like the treeparser is exspecting
> literals, but gets nulls instead. ...which
> is because of the ()+ closure. And unfortunately
> it complains about it.

My guess is that you've forgotten something when building the tree for the
parameter part. The trace only shows PARAMETER and the 'kn'-literal. So it
does not even get to do a loop for the ()+ closure.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
     "Never argue with an idiot, for they will bring you down to their
              level and beat you with experience." --- Unknown



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Mon Jun 28 06:01:22 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] unexpected end of subtree
In-Reply-To: <20040628113203.12510.qmail@web90008.mail.scd.yahoo.com>
References: <20040628113203.12510.qmail@web90008.mail.scd.yahoo.com>
Message-ID: <411E8BBB-C903-11D8-82DD-000393B5606C@codetransform.com>

Still hard to tell what is wrong.  Please print out the actual tree 
that the tree parser is trying to parse using toStringList(), and then 
the trace output.  Those two together may be enough for me to eyeball 
it.  From what you posted it seems to me you have PARAMETER trees with 
only one child, not two.  Could it be that your "value" is a child of 
"key" instead of a sibling?

Monty

On Jun 28, 2004, at 4:32 AM, Mr Torsten Curdt wrote:

> The structure looks exactly like I
> would exspect it.
>
>   ROOT
>     INSTRUCTION
>       "name"
>       PARAMETER
>          "key"
>          "value"
>       PARAMETER
>          "key"
>          "value"
>     INSTRUCTION
>       "name"
>       PARAMETER
>          "key"
>          "value"
>
> So what am I doing wrong?



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Mon Jun 28 07:18:15 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:00 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1088432295.1078.64032.m22@yahoogroups.com>


Hello,

This is an automated email message to let you know that
safion_web <safion_web@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From klaren at cs.utwente.nl  Mon Jun 28 07:41:46 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] Antlr lexer vs. flex lexer speed (C++)
In-Reply-To: <00a701c45ad6$8e0cef10$fd80763e@home>
References: <20040625095504.GE18787@cs.utwente.nl> <00a701c45ad6$8e0cef10$fd80763e@home>
Message-ID: <20040628144146.GH3163@cs.utwente.nl>

On Fri, Jun 25, 2004 at 09:03:55PM +0400, Alex Sedow wrote:
> 2. Whether ANTLR 3.x will use std::string, or will replace it with special
> string class?

I'll investigate making the string class a template parameter to
parsers/lexers this to ensure the right class for the job can be used (e.g.
one for unicode or something simpler where needed)

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Before they invented drawing boards, what did they go back to?



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From sk at z.pl  Mon Jun 28 07:46:28 2004
From: sk at z.pl (Sebastian Kaliszewski)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] unicode strings using supplemental char range
In-Reply-To: <20040628122012.GD3163@cs.utwente.nl>
References: <842DECC949168D4CADABE042DF46AECC0898EE1B@usilms24.ca.com> <20040626093855.GA24235@cs.utwente.nl> <F4BCAF50-C7A8-11D8-8B11-000A95891192@cs.usfca.edu> <DD772E05-C7EC-11D8-BDAA-000393A56BB6@glyphic.com> <20040628122012.GD3163@cs.utwente.nl>
Message-ID: <40E02F44.3050805@softax.pl>

Hello!
2 cents from (probably) typical ANTLR/C++ user...

I'm writting an interpreter of not too complicated OO language. But even at 
the early stage when I've just basic interpreter working but with 
minimalistic run-time support the UPX compressed statically linked stripped 
executable is already above 600KB and uncompressed dynamically linked debug 
executable is above 3MB (and most of that is ANTLR generated stuff). I'm 
affraid of including yet another heavy library will add too much weight.


Ric Klaren wrote:
> On Sat, Jun 26, 2004 at 08:48:34PM -0700, Mark Lentczner wrote:
> 
>>[ Terminology: "char" = Java type, 16-bits, "character" = Unicode
>>character in range 0..0x10FFFF, "String" = Java type, "unicode string"
>>= a sequence of zero or more characters. ]
>>
>>	- the ability to read a stream of characters
>>	- the ability to take a String written in a grammar file (i.e.
>>"abc\u20ac123") and produce a unicode string from it (i.e. [ 97, 98,
>>99, 8364, 49, 50, 41 ] - or if you mailer can handle it: [ 'a', 'b',
>>'c', '?', '1, '2', '3' ])
>>
>>Supporting these requirements hardly needs something as heavy weight as
>>ICU for either Java or C++ parsers.  (ICU has things like calendar
>>handling, regex matching, and number formatting in it!)
> 
> 
> It's a pity they don't have a 'light' version indeed. That's also why I'm
> contemplating making some lightweight classes for some aspects we need
> inside ANTLR for the C++ side.

Well, if you accept that users of ANTLR must have standard compliant C++ 
library (as standard is now 5 years old I don't think it's requiring too 
much, and for those using ancient stuff there is free STLport as well as few 
commercial offerings to use) then getting basic stuff done is not much more 
than making char_traits class for 32bit integers + some simple, 
non-normalizing utf-8 decoder (in a streambuf?).

If you need/want a volunteer to do such an skeleton stuff, I'm here.

[snip]
> I'm not sure but don't we need this on the C++ side? We have no java to
> this stuff for us. So at least I'd like to be able to feed a UTF-8 string
> to ANTLR out of the box without deriving some custom classes. Live is a lot
> easier on the lexer side if it only has to deal with unicode characters. So
> some input stream decoding will be necessary. On second thought this
> probably does not need transcoding/normalization just the decoding for
> UTF-xx.
> 
> Question: How to deal with the unicode characters that are beyond 32 bits
> they'd need a more expensive struct to have all bits or do we have to make
> the lexers operate on UTF-32.

???
Well, it's in the Unicode FAQ, taht they're even not going beyond 21bits, so 
32bit's seems safe for a foreseable future.

> 
[snip]
> 


rgds
-- 
Sebastian Kaliszewski
inForma


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Mon Jun 28 08:12:56 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] unicode strings using supplemental char range
In-Reply-To: <40E02F44.3050805@softax.pl>
References: <842DECC949168D4CADABE042DF46AECC0898EE1B@usilms24.ca.com> <20040626093855.GA24235@cs.utwente.nl> <F4BCAF50-C7A8-11D8-8B11-000A95891192@cs.usfca.edu> <DD772E05-C7EC-11D8-BDAA-000393A56BB6@glyphic.com> <20040628122012.GD3163@cs.utwente.nl> <40E02F44.3050805@softax.pl>
Message-ID: <20040628151256.GI3163@cs.utwente.nl>

On Mon, Jun 28, 2004 at 04:46:28PM +0200, Sebastian Kaliszewski wrote:
> I'm writting an interpreter of not too complicated OO language. But even at
> the early stage when I've just basic interpreter working but with
> minimalistic run-time support the UPX compressed statically linked stripped
> executable is already above 600KB and uncompressed dynamically linked debug
> executable is above 3MB (and most of that is ANTLR generated stuff). I'm
> affraid of including yet another heavy library will add too much weight.

I would not want to make ICU a default thing. It's just plain too much
bagage, at least I don't want to see it end up in my projects where the
input is plain ASCII. But for some cases it might be desirable to be able
to plug some ICU classes into a lexer/parser chain.

Note: You can probably cut off 100k from the support lib by removing the
'hidden' versions of some classes (on x86). The generated code you can
probably tinker a bit with the bitset gen options and see what produces
smaller code if it really becomes an issue.

> Well, if you accept that users of ANTLR must have standard compliant C++
> library (as standard is now 5 years old I don't think it's requiring too
> much, and for those using ancient stuff there is free STLport as well as few
> commercial offerings to use) then getting basic stuff done is not much more
> than making char_traits class for 32bit integers + some simple,
> non-normalizing utf-8 decoder (in a streambuf?).

I hope so :)

> If you need/want a volunteer to do such an skeleton stuff, I'm here.

Adding you to the list :)

> > I'm not sure but don't we need this on the C++ side? We have no java to
> > this stuff for us. So at least I'd like to be able to feed a UTF-8 string
> > to ANTLR out of the box without deriving some custom classes. Live is a lot
> > easier on the lexer side if it only has to deal with unicode characters. So
> > some input stream decoding will be necessary. On second thought this
> > probably does not need transcoding/normalization just the decoding for
> > UTF-xx.
> >
> > Question: How to deal with the unicode characters that are beyond 32 bits
> > they'd need a more expensive struct to have all bits or do we have to make
> > the lexers operate on UTF-32.
>
> ???
> Well, it's in the Unicode FAQ, taht they're even not going beyond 21bits, so
> 32bit's seems safe for a foreseable future.

/Add's coffee /hits himself for the head ;) I was babbling nonsense there.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Before they invented drawing boards, what did they go back to?



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Mon Jun 28 08:42:37 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:00 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1088437357.2858.85711.m20@yahoogroups.com>


Hello,

This is an automated email message to let you know that
ramyasivadas <ramyasivadas@yahoo.co.in> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From lists at surfmy.net  Mon Jun 28 08:40:41 2004
From: lists at surfmy.net (Sean Walker)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] Noob question about HTML.g
Message-ID: <40E03BF9.1060201@surfmy.net>

I'm a complete noob and I'm trying to get a handle on ANTLR. The docs 
are great, but a bit overwhelming and I'm looking for a place to start 
to find out how to do the following.

I've read through the HTML.g C# example that comes with the tarball and 
found that it is very similar to what I need. Basically, I need to 
examine an HTML file, break it down into a logical tree that I can 
manipulate, adding, deleting, and altering content on the fly. If I have 
<div class="test">Stuff here</div> I would want to replace "Stuff here" 
with something else depending upon the name given to "class". This 
requires that I get at the values of ATTR in HTML.g at the parser level, 
if I am correct. This also requires building a tree that contains all 
these nodes. I have looked at the tree docs and can't understand them, 
so I don't even know if I'm heading in the wrong direction or not. I 
basically understand the syntax of a grammar, but much of it eludes me 
as of yet.

Oh, I've never worked with any tools of this sort before. I mean it when 
I say complete noob. ;)

Thanks!

-- 
Sean Walker
http://sean.surfmy.net/
http://sacwifi.net/




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From alexsedow at mail.ru  Mon Jun 28 10:45:47 2004
From: alexsedow at mail.ru (Alex Sedow)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] Antlr lexer vs. flex lexer speed (C++)
References: <20040625095504.GE18787@cs.utwente.nl> <00a701c45ad6$8e0cef10$fd80763e@home> <20040628144146.GH3163@cs.utwente.nl>
Message-ID: <00d701c45d37$df0d6d00$4582763e@home>

> On Fri, Jun 25, 2004 at 09:03:55PM +0400, Alex Sedow wrote:
> > 2. Whether ANTLR 3.x will use std::string, or will replace it with
special
> > string class?
>
> I'll investigate making the string class a template parameter to
> parsers/lexers this to ensure the right class for the job can be used
(e.g.
> one for unicode or something simpler where needed)
>
> Cheers,
>
> Ric

1. Maybe just use typedef?

2. String or pointer to string? Smart pointer to string faster. For example
std::string (MSVC, 32-bit) for char defined as:

class std::string
{
    Allocator *pAllocator;

    enum
    { // length of internal buffer
        _BUF_SIZE = 16
    };

    union _Bxty
    { // storage for small buffer or pointer to larger one
        _Elem _Buf[_BUF_SIZE];
        _Elem *_Ptr;
    } _Bx;

    size_type _Mysize; // current length of string
    size_type _Myres; // current storage reserved for string
};

Totally 28 bytes. It is a big memory usage penalty for lexer. Let's consider
a penalties which arise at transfer of a string as function argument:
1. When std::string transfers as pointer.
a) minimal transfer penalty (4 bytes).
b) additional penalty for access to string (2 pointers access): read pointer
to char * from std::string + access with pointer.
2. When std::string transfers as value.
a) big transfer penalty (28 bytes).
b) minimal access penalty(?).

To reduce these penalties for lexer I use special class "Pointer to const
hash string".
//--------------------------------------------------------------------------
----
// hash string in memory:
//
// bytes:
// 4 - reference count <- pointer
// 4 - unsigned hash code (evaluates one time for identifiers when string
created)
// 4 - [string length (not aligned)]
// N - ASCIIZ string
// NA-N - ( NA = aligned ( N ) ) - not used
// where NA is power of 2 big enough to contain
(4+4+4+sizeof(string+trailing '\0'))
//--------------------------------------------------------------------------
----
To reduce increasing/decreasing reference counter penalty I use another
(parallel) pointer to string (to transfer string to functions that could not
potentialy store string. For example bool isExist(key) const function in
hash table not store value).

Alex.

P.S. If somebody knows how to speed up the given variant of a string, please
let me know.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Mon Jun 28 11:05:06 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] Using two parsers within the same process
In-Reply-To: <cblfod+a1li@eGroups.com>
References: <cblfod+a1li@eGroups.com>
Message-ID: <AF6636C1-C92D-11D8-AD98-000393B5606C@codetransform.com>

ANTLR 2 supports multiple parsers.  PCCTS is discussed on the usenet 
group comp.compilers.tools.pccts and you may get more answers to your 
other questions there.

Monty


ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html


On Jun 26, 2004, at 8:43 PM, sofa_chef wrote:

> Hi,
> I have quite a few grammar files that I compile using PCCTS 1.33. A
> major issue which is very annoying to me is that I can't use two
> different parsers in the same application. I believe it's related to
> several global definitions that collide.
> Did anyone else come upon this problem? Is there a way which I'm not
> aware of to use two parsers in the same app? Also, will moving to
> ANTLR solve my problem?
> Thanks,
> Yoav Noon.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Mon Jun 28 18:05:46 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] yet more thoughts on error handling / recovery
Message-ID: <73CEE9FB-C968-11D8-8B11-000A95891192@cs.usfca.edu>

Howdy,

Got some interesting details written down for error recovery and 
reporting (thinking about auto insertion/deletion for token mismatches, 
dynamic paraphrases, and dynamic resync token sets).

http://www.antlr.org/blog/antlr3/error.handling.tml

I would love the following (particularly for debugging grammars):

line 20:12: expecting ID found LPAREN
         at: methodDef : (access)* returnType @ ID (<args>)? "{" ...
      input: ... public static void @ ( int x ) { float ...

where the @ indicates the position.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Mon Jun 28 18:32:51 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:00 2004
Subject: New antlr-interest member
Message-ID: <1088472771.317.33534.w63@yahoogroups.com>


Hello,

This is an automated email message to let you know that
lonchu <lonchu@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From lonchu at yahoo.com  Mon Jun 28 19:13:38 2004
From: lonchu at yahoo.com (lonchu)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] Help on error message java.lang.NoClassDefFoundError: antlr/Tool
Message-ID: <cbqj8i+9dpr@eGroups.com>


Hi;

I try to compile the calc.g and I got this error message
   "java.lang.NoClassDefFoundError: antlr/Tool"
Can anyone show me how to resolve this error message?  Your 
information would be greatly appreciated!

P.S. I have include the "C:\antlr-2.7.4" into both the CLASSPATH and 
the PATH environment variables.


Best Regards,
Lon Chu




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Mon Jun 28 21:19:31 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] yet more thoughts on error handling / recovery
In-Reply-To: <73CEE9FB-C968-11D8-8B11-000A95891192@cs.usfca.edu>
References: <73CEE9FB-C968-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <8509E20E-C983-11D8-B442-000393B5606C@codetransform.com>

>
> Rather than print the grammar out as a string for use by the error 
> reporting, perhaps the entire tree structure (i.e., the processed 
> grammar) should be made available to the running parser. The grammar 
> position would map to an actual AST node. The cost would be a slightly 
> larger string (flattened AST as string) compared to the original 
> grammar, but would potentially provide more grammar information to a 
> reporting facility. Hmm...actually, since the trees have down/right 
> pointers (not up/left) it would be hard to walk backwards to print out 
> a larger portion of the grammar. Ok, forget that.

It's not _that_ big a deal to implement up/left pointers.  See my GCC 
grammar :)  Just jump up to the enclosing alt and you're set.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From ewbankb at yahoo.com  Tue Jun 29 02:29:31 2004
From: ewbankb at yahoo.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] Re: C code generation
References: <200406251458.11501.kibab@icehouse.net> <200406252132.33389.kibab@icehouse.net> <0B7DF182-C7B1-11D8-8B11-000A95891192@cs.usfca.edu> <200406261445.14937.kibab@icehouse.net> <AF23EEF3-C7C3-11D8-8B11-000A95891192@cs.usfca.edu> <AB8E1E26-C83F-11D8-BDAA-000393A56BB6@glyphic.com>
Message-ID: <005701c45dbb$95d1aaf0$0300a8c0@attic>

Two words:

Legacy System.

I can't use ANTLR at work precisely because it does not generate C.  In the
world picture, very few people know how to use C++ (don't even ask about
using it *well* :-).

> Ack!  Does anyone really want C code generation?  Surely in this day
> and age, anyone building something with Antlr has C++ available...




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From Matthew.Ford at forward.com.au  Tue Jun 29 02:26:05 2004
From: Matthew.Ford at forward.com.au (matthew ford)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] yet more thoughts on error handling / recovery
References: <73CEE9FB-C968-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <003501c45dbb$1ac03c50$0400a8c0@NOTEBOOK>

Hi Ter,
Here is what I am currently using for missing )

argList
 : l:LPAREN! (WS!)*
  (  (
        RPAREN!
     | (endArgs)=>a:attributePathOrLiteralOrKeyword (WS!)*
         (RPAREN!
          | EOF
          { throw new RecognitionException("Missing closing ) ",

                       wstLexer.getFileName(),l.getLine(),l.getColumn()+1 );
          }
         )
    )
  | EOF
   {
      throw new RecognitionException("Missing closing ) ",
                    wstLexer.getFileName(),l.getLine(),l.getColumn()+1 );
    }
   )
 ;

It would be nice to automate this a little but I think I would like control
over where
except perhaps for a general premature EOF handling.
matthew
----- Original Message ----- 
From: "Terence Parr" <parrt@cs.usfca.edu>
To: <antlr-interest@yahoogroups.com>
Sent: Tuesday, June 29, 2004 11:05 AM
Subject: [antlr-interest] yet more thoughts on error handling / recovery


> Howdy,
>
> Got some interesting details written down for error recovery and
> reporting (thinking about auto insertion/deletion for token mismatches,
> dynamic paraphrases, and dynamic resync token sets).
>
> http://www.antlr.org/blog/antlr3/error.handling.tml
>
> I would love the following (particularly for debugging grammars):
>
> line 20:12: expecting ID found LPAREN
>          at: methodDef : (access)* returnType @ ID (<args>)? "{" ...
>       input: ... public static void @ ( int x ) { float ...
>
> where the @ indicates the position.
>
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From tcurdt at yahoo.com  Tue Jun 29 08:07:17 2004
From: tcurdt at yahoo.com (Mr Torsten Curdt)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] unexpected end of subtree
In-Reply-To: <411E8BBB-C903-11D8-82DD-000393B5606C@codetransform.com>
Message-ID: <20040629150717.42848.qmail@web90008.mail.scd.yahoo.com>

> From what you posted it seems to me you have
> PARAMETER trees with only one child, not two.

Bummer! I forgot to tell: yes, some PARAMETERS
do have only a single child. So basically this
rule

  #(PARAMETER kn=literal kv=literal)

was not good enough. I had to add

  #(PARAMETER kn=literal (kv=literal)? )

Thanks for your help!

cheers
--
Torsten


	
		
__________________________________
Do you Yahoo!?
New and Improved Yahoo! Mail - 100MB free storage!
http://promotions.yahoo.com/new_mail 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Tue Jun 29 09:08:35 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] yet more thoughts on error handling / recovery
In-Reply-To: <73CEE9FB-C968-11D8-8B11-000A95891192@cs.usfca.edu>
References: <73CEE9FB-C968-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <930658EE-C9E6-11D8-AFF7-000393B5606C@codetransform.com>


> I don't like burdening all calls to match() with an extra parameter, 
> but users of ANTLR can optimize by simply changing the code generator 
> to not include this position parameter and then provide a different 
> match() method. I just looked at the C output (non exception handling 
> version) to see how many parameters there were to the match 
> routine...lots! Check this out:
> _zzmatch(3, &zzBadText, &zzMissText, &zzMissTok, &zzBadTok, &zzMissSet)

Remember the possibility of having this all in a struct, possibly 
including the parse stack to be able to make re-entrant parsers.  
Wouldn't that be handy for UI's if you could save off the parse to a 
certain point and then just pick up there repeatedly to interactively 
parse?  Man, I hope I get some serious time to play with that.  
Continuations for parsers.  With C actions.  Oh yeah!

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From gudnabrsam at yahoo.com  Tue Jun 29 09:25:11 2004
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] yet more thoughts on error handling / recovery
In-Reply-To: <930658EE-C9E6-11D8-AFF7-000393B5606C@codetransform.com>
Message-ID: <20040629162511.8438.qmail@web20423.mail.yahoo.com>

--- Monty Zukowski <monty@codetransform.com> wrote:
> Remember the possibility of having this all in a
> struct, possibly 
> including the parse stack to be able to make
> re-entrant parsers.  
> Wouldn't that be handy for UI's if you could save
> off the parse to a 
> certain point and then just pick up there repeatedly
> to interactively 
> parse?  Man, I hope I get some serious time to play
> with that.  
> Continuations for parsers.  With C actions.  Oh
> yeah!

Let me take this time to just say... PLEASE :) .  I'm
sure Bogdan would vote for this feature as well...

-Matt


		
__________________________________
Do you Yahoo!?
New and Improved Yahoo! Mail - Send 10MB messages!
http://promotions.yahoo.com/new_mail 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Tue Jun 29 13:09:17 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:00 2004
Subject: New antlr-interest member
Message-ID: <1088539757.110.51813.w43@yahoogroups.com>


Hello,

This is an automated email message to let you know that
j_jere <j_jere@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From parrt at cs.usfca.edu  Tue Jun 29 14:05:06 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] yet more thoughts on error handling / recovery
In-Reply-To: <8509E20E-C983-11D8-B442-000393B5606C@codetransform.com>
References: <73CEE9FB-C968-11D8-8B11-000A95891192@cs.usfca.edu> <8509E20E-C983-11D8-B442-000393B5606C@codetransform.com>
Message-ID: <FF8FC216-CA0F-11D8-8B11-000A95891192@cs.usfca.edu>


On Jun 28, 2004, at 9:19 PM, Monty Zukowski wrote:

>>
>> Rather than print the grammar out as a string for use by the error
>> reporting, perhaps the entire tree structure (i.e., the processed
>> grammar) should be made available to the running parser. The grammar
>> position would map to an actual AST node. The cost would be a slightly
>> larger string (flattened AST as string) compared to the original
>> grammar, but would potentially provide more grammar information to a
>> reporting facility. Hmm...actually, since the trees have down/right
>> pointers (not up/left) it would be hard to walk backwards to print out
>> a larger portion of the grammar. Ok, forget that.
>
> It's not _that_ big a deal to implement up/left pointers.  See my GCC
> grammar :)  Just jump up to the enclosing alt and you're set.

Doing in a general way for arbitrary tree construction when you have 
actions involved can be tricky ;)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jun 29 14:05:56 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] yet more thoughts on error handling / recovery
In-Reply-To: <930658EE-C9E6-11D8-AFF7-000393B5606C@codetransform.com>
References: <73CEE9FB-C968-11D8-8B11-000A95891192@cs.usfca.edu> <930658EE-C9E6-11D8-AFF7-000393B5606C@codetransform.com>
Message-ID: <1D190B4F-CA10-11D8-8B11-000A95891192@cs.usfca.edu>


On Jun 29, 2004, at 9:08 AM, Monty Zukowski wrote:
>> I don't like burdening all calls to match() with an extra parameter,
>> but users of ANTLR can optimize by simply changing the code generator
>> to not include this position parameter and then provide a different
>> match() method. I just looked at the C output (non exception handling
>> version) to see how many parameters there were to the match
>> routine...lots! Check this out:
>> _zzmatch(3, &zzBadText, &zzMissText, &zzMissTok, &zzBadTok, 
>> &zzMissSet)
>
> Remember the possibility of having this all in a struct, possibly
> including the parse stack to be able to make re-entrant parsers.
> Wouldn't that be handy for UI's if you could save off the parse to a
> certain point and then just pick up there repeatedly to interactively
> parse?  Man, I hope I get some serious time to play with that.
> Continuations for parsers.  With C actions.  Oh yeah!

Yep, for the interpreted version this is very possible.  A very nice 
idea for the IDE :)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From FranklinChen at cmu.edu  Tue Jun 29 14:03:26 2004
From: FranklinChen at cmu.edu (FranklinChen@cmu.edu)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] ANTLR 2.7.4 inefficiency
Message-ID: <16609.55582.393501.718818@SWAN.PSY.cmu.edu>

I was wondering why, upon ast.toStringList() seemed so inefficient
when called upon a huge AST.  It turns out that ANTLR is still
littered with quadratic string concatenations, i.e.,

String s = "";
s += stuff;
s += moreStuff;
...

which is equivalent to the incredibly inefficient (in object
allocation as well as quadratic rather than linear time)

String s = "";
StringBuffer tmp1 = new StringBuffer(s);
tmp1.append(stuff);
s = new String(tmp1);
StringBuffer tmp2 = new StringBuffer(s);
tmp2.append(moreStuff);
s = new String(tmp2);
...

These should all be cleaned up to

StringBuffer buf = new StringBuffer();
buf.append(stuff);
buf.append(moreStuff);
...
String s = buf.toString();

-- 
Franklin


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From open.zone at virgin.net  Tue Jun 29 14:45:19 2004
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] Re: yet more thoughts on error handling / recovery
In-Reply-To: <FF8FC216-CA0F-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <cbsntf+8ogb@eGroups.com>

--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
> 
> On Jun 28, 2004, at 9:19 PM, Monty Zukowski wrote:
> 
> >>
> >> Rather than print the grammar out as a string for use by the error
> >> reporting, perhaps the entire tree structure (i.e., the processed
> >> grammar) should be made available to the running parser. The grammar
> >> position would map to an actual AST node. The cost would be a
slightly
> >> larger string (flattened AST as string) compared to the original
> >> grammar, but would potentially provide more grammar information to a
> >> reporting facility. Hmm...actually, since the trees have down/right
> >> pointers (not up/left) it would be hard to walk backwards to
print out
> >> a larger portion of the grammar. Ok, forget that.
> >
> > It's not _that_ big a deal to implement up/left pointers.  See my GCC
> > grammar :)  Just jump up to the enclosing alt and you're set.
> 
> Doing in a general way for arbitrary tree construction when you have 
> actions involved can be tricky ;)

Not sure I agree. In one of my projects I found that most of the
issues {with tree-construction/tree-parsing} can be resolved with a
custom ASTFactory that understands that the custom ASTNode class had
parent/previousSibling links too.

I seem to remember needing a addChildEx() method. Can't quite remember
if this was due to a shortcoming in the ASTFactory model or was just
to keep some legacy code - that used addChild() - tickling along fine.

Cheers,

Micheal



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jun 29 15:23:07 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] ANTLR 2.7.4 inefficiency
In-Reply-To: <16609.55582.393501.718818@SWAN.PSY.cmu.edu>
References: <16609.55582.393501.718818@SWAN.PSY.cmu.edu>
Message-ID: <E59C6E10-CA1A-11D8-8B11-000A95891192@cs.usfca.edu>


On Jun 29, 2004, at 2:03 PM, FranklinChen@cmu.edu wrote:

> I was wondering why, upon ast.toStringList() seemed so inefficient
> when called upon a huge AST.  It turns out that ANTLR is still
> littered with quadratic string concatenations, i.e.,
>
> String s = "";
> s += stuff;
> s += moreStuff;
> ...
>
> which is equivalent to the incredibly inefficient (in object
> allocation as well as quadratic rather than linear time)
>
> String s = "";
> StringBuffer tmp1 = new StringBuffer(s);
> tmp1.append(stuff);
> s = new String(tmp1);
> StringBuffer tmp2 = new StringBuffer(s);
> tmp2.append(moreStuff);
> s = new String(tmp2);
> ...
>
> These should all be cleaned up to
>
> StringBuffer buf = new StringBuffer();
> buf.append(stuff);
> buf.append(moreStuff);
> ...
> String s = buf.toString();

Hi Franklin,

What version of Java and was it interpreted mode or hotspot compiled?  
I was told recently that they had made this more efficient somehow.  We 
should still change it sometime, though, you're right.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From FranklinChen at cmu.edu  Tue Jun 29 16:06:15 2004
From: FranklinChen at cmu.edu (FranklinChen@cmu.edu)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] ANTLR 2.7.4 inefficiency
In-Reply-To: <E59C6E10-CA1A-11D8-8B11-000A95891192@cs.usfca.edu>
References: <16609.55582.393501.718818@SWAN.PSY.cmu.edu>
	<E59C6E10-CA1A-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <16609.62951.438489.483868@SWAN.PSY.cmu.edu>

Terence Parr writes:
> 
> On Jun 29, 2004, at 2:03 PM, FranklinChen@cmu.edu wrote:
> 
> > I was wondering why, upon ast.toStringList() seemed so inefficient
> > when called upon a huge AST.  It turns out that ANTLR is still
> > littered with quadratic string concatenations, i.e.,
> >
> > String s = "";
> > s += stuff;
> > s += moreStuff;
> > ...
> >
> > which is equivalent to the incredibly inefficient (in object
> > allocation as well as quadratic rather than linear time)
> >
> > String s = "";
> > StringBuffer tmp1 = new StringBuffer(s);
> > tmp1.append(stuff);
> > s = new String(tmp1);
> > StringBuffer tmp2 = new StringBuffer(s);
> > tmp2.append(moreStuff);
> > s = new String(tmp2);
> > ...
> >
> > These should all be cleaned up to
> >
> > StringBuffer buf = new StringBuffer();
> > buf.append(stuff);
> > buf.append(moreStuff);
> > ...
> > String s = buf.toString();
> 
> Hi Franklin,
> 
> What version of Java and was it interpreted mode or hotspot compiled?  
> I was told recently that they had made this more efficient somehow.  We 
> should still change it sometime, though, you're right.

I'm using the Java that comes with Mac OS X (Panther).  By default it
uses hotspot ("client"), but I tried it with "server" also.

-- 
Franklin


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jun 29 15:21:30 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] Re: yet more thoughts on error handling / recovery
In-Reply-To: <cbsntf+8ogb@eGroups.com>
References: <cbsntf+8ogb@eGroups.com>
Message-ID: <ABAD7F86-CA1A-11D8-8B11-000A95891192@cs.usfca.edu>


On Jun 29, 2004, at 2:45 PM, micheal_jor wrote:

> --- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
>>> It's not _that_ big a deal to implement up/left pointers.  See my GCC
>>> grammar :)  Just jump up to the enclosing alt and you're set.
>>
>> Doing in a general way for arbitrary tree construction when you have
>> actions involved can be tricky ;)
>
> Not sure I agree. In one of my projects I found that most of the
> issues {with tree-construction/tree-parsing} can be resolved with a
> custom ASTFactory that understands that the custom ASTNode class had
> parent/previousSibling links too.
>
> I seem to remember needing a addChildEx() method. Can't quite remember
> if this was due to a shortcoming in the ASTFactory model or was just
> to keep some legacy code - that used addChild() - tickling along fine.

Roger that.  I'll keep this in mind.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Tue Jun 29 16:29:32 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] Re: yet more thoughts on error handling / recovery
In-Reply-To: <ABAD7F86-CA1A-11D8-8B11-000A95891192@cs.usfca.edu>
References: <cbsntf+8ogb@eGroups.com> <ABAD7F86-CA1A-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <2C778417-CA24-11D8-B647-000393B5606C@codetransform.com>

On Jun 29, 2004, at 3:21 PM, Terence Parr wrote:

> On Jun 29, 2004, at 2:45 PM, micheal_jor wrote:
>
>> --- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> 
>> wrote:
>>>> It's not _that_ big a deal to implement up/left pointers.  See my 
>>>> GCC
>>>> grammar :)  Just jump up to the enclosing alt and you're set.
>>>
>>> Doing in a general way for arbitrary tree construction when you have
>>> actions involved can be tricky ;)
>>
>> Not sure I agree. In one of my projects I found that most of the
>> issues {with tree-construction/tree-parsing} can be resolved with a
>> custom ASTFactory that understands that the custom ASTNode class had
>> parent/previousSibling links too.
>>
>> I seem to remember needing a addChildEx() method. Can't quite remember
>> if this was due to a shortcoming in the ASTFactory model or was just
>> to keep some legacy code - that used addChild() - tickling along fine.
>
> Roger that.  I'll keep this in mind.

Yeah, or like in the C grammar you don't even set parent/previous until 
the tree is complete, then you fire through the tree and set them in 
one pass.

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Tue Jun 29 16:50:25 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:00 2004
Subject: New antlr-interest member
Message-ID: <1088553025.963.23249.w65@yahoogroups.com>


Hello,

This is an automated email message to let you know that
edmont_cu <edmont_cu@yahoo.es> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From edmont_cu at yahoo.es  Tue Jun 29 17:06:44 2004
From: edmont_cu at yahoo.es (edmont_cu)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] =?iso-8859-1?q?Problems_with_'=E1','=E9',,....'=F1'_recognition?=
Message-ID: <cbt06k+tq17@eGroups.com>

In the lexer y have the following segment of code:

options 
{
    charVocabulary ='\3'..'\377'; // allow unicode
....

protected 
LETTER : 'a'..'z' | 'A'..'Z'
         | '?' | '?' | '?' | '?' | '?' | '?' | '?'
         |'?' | '?' | '?' | '?' | '?' | '?' | '?';
ID
options
{
	testLiterals = true;
} 
       : ((LETTER (LETTER | DIGIT | '_')*) | (('_')+ LETTER (LETTER 
| DIGIT | '_')*));

the problem is that when I make semantic analysis all the IDs miss 
the '?','?',..,'?' characters. For example: from "ni?o" I get "nio".

Any suggestions?

S,


Ediber Montoya Moreira






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Tue Jun 29 23:14:56 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:00 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1088576096.157.48315.w6@yahoogroups.com>


Hello,

This is an automated email message to let you know that
masinchen77 <masinchen77@yahoo.de> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Wed Jun 30 01:36:54 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:00 2004
Subject: New antlr-interest member
Message-ID: <1088584614.86.65145.w22@yahoogroups.com>


Hello,

This is an automated email message to let you know that
rvescan <rvescan@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Wed Jun 30 02:08:10 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:00 2004
Subject: New antlr-interest member
Message-ID: <1088586490.108.42877.w64@yahoogroups.com>


Hello,

This is an automated email message to let you know that
ma_weida <ma_weida@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From klaren at cs.utwente.nl  Wed Jun 30 02:47:10 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] Problems =?utf-8?Q?wi?=
	=?utf-8?B?dGggJ8OhJywnw6knLCwuLi4uJ8OxJw==?= recognition
In-Reply-To: <cbt06k+tq17@eGroups.com>
References: <cbt06k+tq17@eGroups.com>
Message-ID: <20040630094710.GB23151@cs.utwente.nl>

Hi,

Java? C++? C#?
Antlr version?

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  "I think we better split up."
  "Good idea. We can do more damage that way."
  --- Ghostbusters



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From rvescan at yahoo.com  Wed Jun 30 03:51:07 2004
From: rvescan at yahoo.com (rvescan)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] Re: Help on error message java.lang.NoClassDefFoundError: antlr/Tool
In-Reply-To: <cbqj8i+9dpr@eGroups.com>
Message-ID: <cbu5ur+nupc@eGroups.com>

The way I did it, and it seems to me the simplest way: using Winzip, 
decompress the antlr.jar file into the main directoy. That will put 
all the class files along with thr java files, so the -cp ../../.. 
option in the java comand line will work by default.

hope it works,

Radu



--- In antlr-interest@yahoogroups.com, "lonchu" <lonchu@y...> wrote:
> 
> Hi;
> 
> I try to compile the calc.g and I got this error message
>    "java.lang.NoClassDefFoundError: antlr/Tool"
> Can anyone show me how to resolve this error message?  Your 
> information would be greatly appreciated!
> 
> P.S. I have include the "C:\antlr-2.7.4" into both the CLASSPATH 
and 
> the PATH environment variables.
> 
> 
> Best Regards,
> Lon Chu




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From rvescan at yahoo.com  Wed Jun 30 01:44:58 2004
From: rvescan at yahoo.com (rvescan)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] how to use ANTLR 2
Message-ID: <cbtuia+qkoc@eGroups.com>

Hy,
i'n veeeery green in the lexer/parser business, but I need a MS SQL 
parser (in C#).

I found the grammar posted by Tomasz Jastrzebski, got the antlr, 
read all the antlr site, got it goind, passed the antlr/tool 
problem, compiled the grammar file, got the lexer and parser c# code 
files, put them in a project, run it succesfully.

And now what? How can I know if it parsed succesfully? Where is the 
result of the parsing? How can i be sure I'm using the correct 
entrypoint?



problems:
1. I delegated ALL the events from the lexer and parser object. No 
event ever fired! 
2. The grammar file does not contain a AST (TreeParser) definition 
(the option BuildAST = true results in an error) so the parser.getAST
() returns null. Is there another way to see the results of a 
parsing without the AST? (i am incapable to write a treeparser for 
SQL as it is)


thanx for the help,
Radu




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Wed Jun 30 04:37:26 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:00 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1088595446.1045.4295.m22@yahoogroups.com>


Hello,

This is an automated email message to let you know that
celikmelih <celikmelih@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From antlr-interest at yahoogroups.com  Wed Jun 30 04:50:48 2004
From: antlr-interest at yahoogroups.com (antlr-interest@yahoogroups.com)
Date: Mon Dec 20 16:17:00 2004
Subject: Mail Delivery (failure parrt@jguru.com)
Message-ID: <20040630122730.AB3C71D06D0@lobby.jguru.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: audio/x-wav
Size: 29568 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040630/c57f08ab/attachment.wav
From Christoph.Wedler at sap.com  Wed Jun 30 04:52:31 2004
From: Christoph.Wedler at sap.com (Christoph.Wedler@sap.com)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] Mail Delivery (failure antlr-interest@yahoogroups.com)
Message-ID: <20040630115531.708E174370@nexus.cs.usfca.edu>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: audio/x-wav
Size: 29568 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040630/dec1f541/attachment.wav
From Christoph.Wedler at sap.com  Wed Jun 30 04:53:57 2004
From: Christoph.Wedler at sap.com (Christoph.Wedler@sap.com)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] News
Message-ID: <20040630115719.7151174370@nexus.cs.usfca.edu>

Monthly news report.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: report01.zip
Type: application/octet-stream
Size: 29840 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040630/727daed6/report01.obj
From anakreonmejdi at yahoo.gr  Wed Jun 30 14:55:55 2004
From: anakreonmejdi at yahoo.gr (Anakreon)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] News
Message-ID: <40E336EB.8040701@yahoo.gr>

Christoph.Wedler@sap.com wrote:
> Monthly news report.
> 
What is this?
the file command says it is a Win32 or an OS/2 executable!!!


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From edmont_cu at yahoo.es  Wed Jun 30 15:00:22 2004
From: edmont_cu at yahoo.es (=?iso-8859-1?q?Edmont=20Edmont?=)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] Problems with '','',,....'' recognition
In-Reply-To: <20040630094710.GB23151@cs.utwente.nl>
Message-ID: <20040630220022.14734.qmail@web25209.mail.ukl.yahoo.com>

Is for the C# version.

S,

Ediber Montoya Moreira

--- Ric Klaren <klaren@cs.utwente.nl> escribi?: > Hi,
> 
> Java? C++? C#?
> Antlr version?
> 
> Cheers,
> 
> Ric
> --
>
-----+++++*****************************************************+++++++++-------
>     ---- Ric Klaren ----- j.klaren@utwente.nl -----
> +31 53 4893755  ----
>
-----+++++*****************************************************+++++++++-------
>   "I think we better split up."
>   "Good idea. We can do more damage that way."
>   --- Ghostbusters
> 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
>      antlr-interest-unsubscribe@yahoogroups.com
> 
>  
> 
>  


		
______________________________________________
Renovamos el Correo Yahoo!: ?100 MB GRATIS!
Nuevos servicios, m?s seguridad
http://correo.yahoo.es


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Wed Jun 30 15:02:19 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:00 2004
Subject: New antlr-interest member
Message-ID: <1088632939.220.26873.w41@yahoogroups.com>


Hello,

This is an automated email message to let you know that
minnaxiao <minnaxiao@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Wed Jun 30 15:06:13 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:00 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1088633173.453.46230.w14@yahoogroups.com>


Hello,

This is an automated email message to let you know that
radup_ro <radup_ro@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From lists at surfmy.net  Wed Jun 30 15:09:37 2004
From: lists at surfmy.net (Sean Walker)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] News
In-Reply-To: <40E336EB.8040701@yahoo.gr>
References: <40E336EB.8040701@yahoo.gr>
Message-ID: <40E33A21.5070009@surfmy.net>

Anakreon wrote:

>Christoph.Wedler@sap.com wrote:
>  
>
>>Monthly news report.
>>
>>    
>>
>What is this?
>the file command says it is a Win32 or an OS/2 executable!!!
>  
>
Spam virus. Whoever sent it has a virus on their system. Just a word of 
warning.
Virus details:
W32.Netsky.P@mm
Category 2 threat
http://securityresponse.symantec.com/avcenter/venc/data/w32.netsky.p@mm.html

-- 
Sean Walker
http://sean.surfmy.net/
http://sacwifi.net/



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From rbo at acm.org  Wed Jun 30 15:30:11 2004
From: rbo at acm.org (Rodrigo B. de Oliveira)
Date: Mon Dec 20 16:17:00 2004
Subject: =?iso-8859-1?Q?Re:_=5Bantlr-interest=5D_Problems_with_'=E1'=2C'?=
	=?iso-8859-1?Q?=E9'=2C=2C....'=F1'_recognition?=
References: <20040630220022.14734.qmail@web25209.mail.ukl.yahoo.com>
Message-ID: <008f01c45ef1$ceeb8f90$4100a8c0@bambook>

Have you checked you are reading (and writing) the files with the correct
encoding?

Anyways, I use charVocabulary='\u0003'..'\uFFFE' and it works for me.

Rodrigo

----- Original Message ----- 
From: "Edmont Edmont" <edmont_cu@yahoo.es>
To: <antlr-interest@yahoogroups.com>
Sent: Wednesday, June 30, 2004 7:00 PM
Subject: Re: [antlr-interest] Problems with '?','?',,....'?' recognition


> Is for the C# version.
>
> S,
>
> Ediber Montoya Moreira



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Wed Jun 30 15:49:47 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:00 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1088635787.1012.83939.m10@yahoogroups.com>


Hello,

This is an automated email message to let you know that
pablobrasero <pablobrasero@yahoo.es> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



