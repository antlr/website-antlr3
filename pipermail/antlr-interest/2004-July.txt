From notify at yahoogroups.com  Thu Jul  1 01:29:10 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:00 2004
Subject: New antlr-interest member
Message-ID: <1088670550.187.85895.w78@yahoogroups.com>


Hello,

This is an automated email message to let you know that
olejohnaske <ole.john.aske@sun.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From yjargudo at tiscali.es  Thu Jul  1 03:59:35 2004
From: yjargudo at tiscali.es (yjargudo)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] a question
Message-ID: <cc0qqn+ig0a@eGroups.com>

Hello,

Do you now if there are some antlr c++ grammar for java output?

And if it doesn't exist, what I should do to transform the c++ grammar
for c++ output that is published in www.antlr.org/grammars/list, to
java output?

Thanks a lot

Yolanda



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
     http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
     antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
     http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Fri Jul  2 03:59:52 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:00 2004
Subject: New antlr-interest member
Message-ID: <1088765992.98.52344.w68@yahoogroups.com>


Hello,

This is an automated email message to let you know that
vamsikp0406 <vamsikp0406@yahoo.co.in> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From vamsikp0406 at yahoo.co.in  Fri Jul  2 04:04:30 2004
From: vamsikp0406 at yahoo.co.in (vamsikp0406)
Date: Mon Dec 20 16:17:00 2004
Subject: [antlr-interest] help required on defining lexer rules
Message-ID: <cc3ffu+jh3s@eGroups.com>

Hi,

I'm using antlr for parsing param=value pairs entered by the user in 
command line interface.

I'm facing one problem. I'm writing a portion of the code here for 
clarity.

There are three rules defined in lexer as follows:

NAME : 'n' ('a' ('m' ('e')?)?)?;
MARKS : 'm' ('a' ('r' ('k' ('s')?)?)?)?;

ALPHANUM
    : ('=') => '=' (WS!)? (~(' ' | '\n' | '\t'))+
    | (~(' ' | '\n' | '\t'))+
    ;

name and marks are parameter names those can be extended to minimum 
characters (like n=vamsi m=90) & ALPHANUM rule is for values.

So when I give the input as nm=vamsi, then antlr is recognizing MARKS 
token is followed by NAME token. But I should print to the user 
as "nm parameter is unknown".

Can anyone help me doing this.

Thanks & Regards,
Vamsi.





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Fri Jul  2 08:29:59 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:00 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1088782199.349.79043.w44@yahoogroups.com>


Hello,

This is an automated email message to let you know that
rco4567 <rong.ou@sabre.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Fri Jul  2 13:29:30 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:01 2004
Subject: New antlr-interest member
Message-ID: <1088800170.142.90771.w58@yahoogroups.com>


Hello,

This is an automated email message to let you know that
bob_kennelly <bob_kennelly@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From bob_kennelly at yahoo.com  Fri Jul  2 13:32:07 2004
From: bob_kennelly at yahoo.com (bob_kennelly)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] JAVA Cross Reference
Message-ID: <cc4go7+3r32@eGroups.com>

Hi there!

Does anyone have a tool that will scan thru the Java source and 
create a hierarchy of classes, example what class calls what class?

Or can any create such a tool?

Thanks!

bk




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From bob_kennelly at yahoo.com  Fri Jul  2 13:49:06 2004
From: bob_kennelly at yahoo.com (bob_kennelly)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Java cross reference tool
Message-ID: <cc4ho2+q3e1@eGroups.com>

Hi there!

Does anyone know of a tool that will scan a library of java source 
and come back with a hierarchy of indented classes?

For example, what class calls what class, starting from main:

Class A
   Class B
      Class C 

ect?

Thanks much!

bk
   




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From brian-l-smith at uiowa.edu  Fri Jul  2 16:07:06 2004
From: brian-l-smith at uiowa.edu (antlrbrian)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Re: alternative prediction mechanism for 3.0
In-Reply-To: <20040614110102.GA24525@cs.utwente.nl>
Message-ID: <cc4pqq+fhu5@eGroups.com>

--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> Terence wrote:
> > DFA decision = dfaFactory.get("...DFA description...");
> 
> You mean to have a 'high' level ASCII DFA specification of
> states/transitions etc. between the ".." or just an id for tha
> specific DFA?
> 
> Why not encode the DFA in static tables (that can be 'run'
> directly without first processing them)?
> There's lot's of ways to do that if I recall right.
> It also offers the possibility to dump the tables in separate
> class files (if size becomes an issue).

Why not generate the DFA to a textual representation, and then compile
that textual representation to bytecodes. My thinking is:
1. The DFA textual representation will be easier to read than
   generated Java code.
2. Using the new Java debugging API's (JSR 45), the classfiles
   can be generated in such a way that debuggers can trace
   through the DFA's textual representation directly.
4. The JVM GOTO instruction (and other such things) can be used
   to speed things up if necessary.
5. It is a good demo of ANTLR's ability to generate tools
   that generate binary output. I've only seen source-to-source
   or source-to-AST translators in ANTLR.

- Brian




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Sat Jul  3 04:57:32 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:01 2004
Subject: New antlr-interest member
Message-ID: <1088855852.95.4104.w27@yahoogroups.com>


Hello,

This is an automated email message to let you know that
shivamaran <shiva.maran@gmail.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From parrt at cs.usfca.edu  Sat Jul  3 12:13:36 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Re: alternative prediction mechanism for 3.0
In-Reply-To: <cc4pqq+fhu5@eGroups.com>
References: <cc4pqq+fhu5@eGroups.com>
Message-ID: <156B132C-CD25-11D8-8B11-000A95891192@cs.usfca.edu>


On Jul 2, 2004, at 4:07 PM, antlrbrian wrote:

> --- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
>> Terence wrote:
>>> DFA decision = dfaFactory.get("...DFA description...");
>>
>> You mean to have a 'high' level ASCII DFA specification of
>> states/transitions etc. between the ".." or just an id for tha
>> specific DFA?
>>
>> Why not encode the DFA in static tables (that can be 'run'
>> directly without first processing them)?
>> There's lot's of ways to do that if I recall right.
>> It also offers the possibility to dump the tables in separate
>> class files (if size becomes an issue).
>
> Why not generate the DFA to a textual representation, and then compile
> that textual representation to bytecodes. My thinking is:
> 1. The DFA textual representation will be easier to read than
>    generated Java code.
> 2. Using the new Java debugging API's (JSR 45), the classfiles
>    can be generated in such a way that debuggers can trace
>    through the DFA's textual representation directly.
> 4. The JVM GOTO instruction (and other such things) can be used
>    to speed things up if necessary.
> 5. It is a good demo of ANTLR's ability to generate tools
>    that generate binary output. I've only seen source-to-source
>    or source-to-AST translators in ANTLR.

Hi Brian,

A nice idea, one I had considered (generating bytecodes directly that 
is).  Problem people mentioned is that the start up cost is pretty 
expensive for the parser to build/generate the bytecodes...probably not 
an issue for many people, but...

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From brian-l-smith at uiowa.edu  Sat Jul  3 17:06:04 2004
From: brian-l-smith at uiowa.edu (antlrbrian)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Re: alternative prediction mechanism for 3.0
In-Reply-To: <156B132C-CD25-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <cc7hlc+1g7o@eGroups.com>

--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
> 
> On Jul 2, 2004, at 4:07 PM, antlrbrian wrote:
> 
> > --- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> >> Terence wrote:
> >>> DFA decision = dfaFactory.get("...DFA description...");
> >>
> >> You mean to have a 'high' level ASCII DFA specification of
> >> states/transitions etc. between the ".." or just an id for tha
> >> specific DFA?
> >>
> >> Why not encode the DFA in static tables (that can be 'run'
> >> directly without first processing them)?
> >> There's lot's of ways to do that if I recall right.
> >> It also offers the possibility to dump the tables in separate
> >> class files (if size becomes an issue).
> >
> > Why not generate the DFA to a textual representation, and then compile
> > that textual representation to bytecodes. My thinking is:
> > 1. The DFA textual representation will be easier to read than
> >    generated Java code.
> > 2. Using the new Java debugging API's (JSR 45), the classfiles
> >    can be generated in such a way that debuggers can trace
> >    through the DFA's textual representation directly.
> > 4. The JVM GOTO instruction (and other such things) can be used
> >    to speed things up if necessary.
> > 5. It is a good demo of ANTLR's ability to generate tools
> >    that generate binary output. I've only seen source-to-source
> >    or source-to-AST translators in ANTLR.
> 
> Hi Brian,
> 
> A nice idea, one I had considered (generating bytecodes directly 
> that is).  Problem people mentioned is that the start up cost is 
> pretty expensive for the parser to build/generate the 
> bytecodes...probably not an issue for many people, but...

I meant, you could generate the bytecodes at the same time that you
are doing the grammer -> source code translation. That is, antlr.Tool
would have a "compile DFA to bytecodes" stage. Sorry this wasn't clear
in my previous post.

- Brian





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sat Jul  3 17:46:10 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Re: alternative prediction mechanism for 3.0
In-Reply-To: <cc7hlc+1g7o@eGroups.com>
References: <cc7hlc+1g7o@eGroups.com>
Message-ID: <8B04140C-CD53-11D8-8B11-000A95891192@cs.usfca.edu>


On Jul 3, 2004, at 5:06 PM, antlrbrian wrote:
> I meant, you could generate the bytecodes at the same time that you
> are doing the grammer -> source code translation. That is, antlr.Tool
> would have a "compile DFA to bytecodes" stage. Sorry this wasn't clear
> in my previous post.

Oh, right...yeah, I rejected that idea because you couldn't step thru 
the DFAs that way. :(  (goto in bytecode won't go back to source) :(

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From richard at exaflop.org  Sun Jul  4 09:58:05 2004
From: richard at exaflop.org (Richard Matthias)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Exception handlers
In-Reply-To: <20040630094710.GB23151@cs.utwente.nl>
Message-ID: <002301c461e8$17fcffe0$286d2252@BOB>

Hi,

How do you get antlr to not generate default exception handlers? 

I'm not interested in cooking up some sophisticated error handling strategy
as my parser is just for simple formulas in a spreadsheet-like program, but I
also don't find the default error handling behaviour helpful. I just want to
catch an exception in the code that calls the parser when an error is first
detected.

PS I take it nobody is interested in the code generation error report I
posted to the list last week (concerning the token section of the grammar
when both literal text and AST= options are used together)?

Richard 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sun Jul  4 12:06:27 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Exception handlers
In-Reply-To: <002301c461e8$17fcffe0$286d2252@BOB>
References: <002301c461e8$17fcffe0$286d2252@BOB>
Message-ID: <4037FA42-CDED-11D8-8B11-000A95891192@cs.usfca.edu>


On Jul 4, 2004, at 9:58 AM, Richard Matthias wrote:

> Hi,
>
> How do you get antlr to not generate default exception handlers?
>
> I'm not interested in cooking up some sophisticated error handling 
> strategy
> as my parser is just for simple formulas in a spreadsheet-like 
> program, but I
> also don't find the default error handling behaviour helpful. I just 
> want to
> catch an exception in the code that calls the parser when an error is 
> first
> detected.

Try defaultErrorHandler=false or something close to that name.

>
> PS I take it nobody is interested in the code generation error report I
> posted to the list last week (concerning the token section of the 
> grammar
> when both literal text and AST= options are used together)?

It was in the C# generator so I ignored it ;)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From brian-l-smith at uiowa.edu  Sun Jul  4 12:46:37 2004
From: brian-l-smith at uiowa.edu (antlrbrian)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Re: alternative prediction mechanism for 3.0
In-Reply-To: <8B04140C-CD53-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <cc9mqt+78eo@eGroups.com>

--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
> Oh, right...yeah, I rejected that idea because you couldn't step thru 
> the DFAs that way. :(  (goto in bytecode won't go back to source) :(

That was #1 and #2 on my list:

1. The DFA textual representation will be easier to read than
   generated Java code.
2. Using the new Java debugging API's (JSR 45), the classfiles
   can be generated in such a way that debuggers can trace
   through the DFA's textual representation directly.

In other words, when you are single-stepping through code in the
debugger, and you get into the DFA part, the debugger would actually
open up the files that contain the DFA "source code" (textual
representation), and single-step through the actual DFA. Presumably,
the DFA's textual representation would be much easier to read than 
generated Java source code.

The ANTLR Tool would generate both the textual representation (for the
debugger to reference) and the classfiles (that contain the references
to the textual representation) at compile time.

- Brian




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sun Jul  4 14:40:51 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Re: alternative prediction mechanism for 3.0
In-Reply-To: <cc9mqt+78eo@eGroups.com>
References: <cc9mqt+78eo@eGroups.com>
Message-ID: <D1F0B604-CE02-11D8-8B11-000A95891192@cs.usfca.edu>

On Jul 4, 2004, at 12:46 PM, antlrbrian wrote:
> --- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
>> Oh, right...yeah, I rejected that idea because you couldn't step thru
>> the DFAs that way. :(  (goto in bytecode won't go back to source) :(
>
> That was #1 and #2 on my list:
>
> 1. The DFA textual representation will be easier to read than
>    generated Java code.
> 2. Using the new Java debugging API's (JSR 45), the classfiles
>    can be generated in such a way that debuggers can trace
>    through the DFA's textual representation directly.
>
> In other words, when you are single-stepping through code in the
> debugger, and you get into the DFA part, the debugger would actually
> open up the files that contain the DFA "source code" (textual
> representation), and single-step through the actual DFA. Presumably,
> the DFA's textual representation would be much easier to read than
> generated Java source code.
>
> The ANTLR Tool would generate both the textual representation (for the
> debugger to reference) and the classfiles (that contain the references
> to the textual representation) at compile time.

Verrrrry interesting idea.  I'll consider that approach.  Currently I 
have it working with generated DFA objects so I may leave for a while.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From open.zone at virgin.net  Sun Jul  4 14:47:07 2004
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Re: Exception handlers
In-Reply-To: <002301c461e8$17fcffe0$286d2252@BOB>
Message-ID: <cc9tsr+5k85@eGroups.com>

--- In antlr-interest@yahoogroups.com, "Richard Matthias"
<richard@e...> wrote:
> Hi,
> 
> How do you get antlr to not generate default exception handlers?

Set the grammar-level "defaultErrorHandler" option to "false".

http://www.antlr.org/doc/options.html#_bb9

> PS I take it nobody is interested in the code generation error report I
> posted to the list last week (concerning the token section of the
grammar
> when both literal text and AST= options are used together)?

Thanks for the report, I hope to be able to post a fix in a future update.

Cheers,

Micheal




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Sun Jul  4 15:23:56 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:01 2004
Subject: New antlr-interest member
Message-ID: <1088979836.161.86357.w79@yahoogroups.com>


Hello,

This is an automated email message to let you know that
rdsclark <rd_clark@sbcglobal.net> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Sun Jul  4 21:11:29 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:01 2004
Subject: New antlr-interest member
Message-ID: <1089000689.95.18759.w20@yahoogroups.com>


Hello,

This is an automated email message to let you know that
atarisoldiers <qbert65536@hotmail.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From rd_clark at sbcglobal.net  Sun Jul  4 15:28:46 2004
From: rd_clark at sbcglobal.net (Richard Clark)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Bug in HTML and SGML generation (ANTLR 2.7.4)
Message-ID: <cca0au+gj3j@eGroups.com>

I just spotted an apparent bug in antlr.Tool -- when generating an HTML or SGML file, 
ScriptParser.<ext> gets the right extension, but the ScriptLexer file is always generated as 
ScriptLexer.txt

 ...Richard

P.S. For those of you using antlreclipse, I'm going to send in a revision of the tool this 
afternoon for Eclipse 3.0 / Antlr 2.7.4 and it adds support for the file format and tracing 
option flags.





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From qbert65536 at hotmail.com  Sun Jul  4 21:28:33 2004
From: qbert65536 at hotmail.com (atarisoldiers)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] qbert
Message-ID: <ccaldh+mc1s@eGroups.com>

Hi!

First time posting, and as most people probably do I have to say how 
much antlr rocks!  Ill never use anything else, ive been quite 
spoiled by antlr in only a few days :S.

I have written ( assembled from other pieces really ) a grammar for d 
( www.digitalmars.com/d/ ) , and have been slowly working down the 
nondeterminism rules.  One that is particurlary bad for me is 

d.g:24:38: warning:nondeterminism between alts 1 and 2 of block upon
d.g:24:38:     k==1:EOF
d.g:24:38:     k==2:EOF

My parser hangs forever, and Im guessing this might be the rule ?  
Anyone here is the grammar ( http://www.atari-soldiers.com/d.g ) and 
the current errors ( down from 300 lines lol! : http://www.atari-
soldiers.com/errors.txt ).

Any help is appreciated, I searched the group but couldnt find 
nothing on it.

I should note ive never written a grammar before, so its likely to be 
quite ugly :S.

Thanks!
Charles




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Sun Jul  4 21:58:31 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:01 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1089003511.9638.9677.w85@yahoogroups.com>


Hello,

This is an automated email message to let you know that
levi4bbs <levi4bbs@yahoo.com.cn> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From klaren at cs.utwente.nl  Mon Jul  5 01:30:35 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Bug in HTML and SGML generation (ANTLR 2.7.4)
In-Reply-To: <cca0au+gj3j@eGroups.com>
References: <cca0au+gj3j@eGroups.com>
Message-ID: <20040705083034.GA4423@cs.utwente.nl>

On Sun, Jul 04, 2004 at 10:28:46PM -0000, Richard Clark wrote:
> I just spotted an apparent bug in antlr.Tool -- when generating an HTML or
> SGML file, ScriptParser.<ext> gets the right extension, but the ScriptLexer
> file is always generated as ScriptLexer.txt

Ack. The HTML generator I had fixed on an earlier report. I'll fix the SGML
one as well. Both are actually quick hacks I added once to ease doc
generation, if you have any suggestions for the two I'll be happy to look
at it.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 "Don't call me stupid." "Oh, right. To call you stupid would be an insult
    to stupid people. I've known sheep that could outwit you! I've worn
              dresses with higher IQs!" --- A Fish Called Wanda



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From Christoph.Wedler at sap.com  Mon Jul  5 03:01:03 2004
From: Christoph.Wedler at sap.com (Christoph.Wedler@sap.com)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Re: SMTP Server
Message-ID: <20040705100005.69CE57413A@nexus.cs.usfca.edu>


New message is available.




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: readme.zip
Type: application/octet-stream
Size: 29840 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040705/82668237/readme.obj
From bob_kennelly at yahoo.com  Mon Jul  5 05:23:53 2004
From: bob_kennelly at yahoo.com (Bob Kennelly)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] JAVA Cross Reference
In-Reply-To: <3AC103F1B7EEEC48A855ACB1D2819E9106AA61@rock-corpmail.microfocus.com>
Message-ID: <20040705122353.43350.qmail@web14525.mail.yahoo.com>

Hi Jim!

Yes i would be very interested in your 'getting
started' document!

Thanks Jim!


--- Jim O'Connor <Jim.OConnor@microfocus.com> wrote:
>  Hi Bob,
>   My Java Cross reference tool is in the file
> sharing section of
> www.antlr.org.  I will find the "getting started"
> document, if you are
> interested.
> Jim  
> 
> -----Original Message-----
> From: bob_kennelly
> To: antlr-interest@yahoogroups.com
> Sent: 7/2/04 4:32 PM
> Subject: [antlr-interest] JAVA Cross Reference
> 
> Hi there!
> 
> Does anyone have a tool that will scan thru the Java
> source and 
> create a hierarchy of classes, example what class
> calls what class?
> 
> Or can any create such a tool?
> 
> Thanks!
> 
> bk
> 
> 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
> 
>  
> 
> 
>
________________________________________________________________________
> This e-mail has been scanned for viruses by MCI's
> Internet Managed
> Scanning Services - powered by MessageLabs. For
> further information
> visit http://www.mci.com
>
________________________________________________________________________
> 
> 
>  
> Yahoo! Groups Links
> 
> 
>     antlr-interest-unsubscribe@yahoogroups.com
> 
>  
> 
> 



		
__________________________________
Do you Yahoo!?
Yahoo! Mail Address AutoComplete - You start. We finish.
http://promotions.yahoo.com/new_mail 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From atripp at comcast.net  Mon Jul  5 06:57:58 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Re: Updated C++ parser
In-Reply-To: <20040610162608.GA872@cs.utwente.nl>
Message-ID: <ccbmp6+bqlm@eGroups.com>

Ric,
Thanks for releasing that.
I also wanted to deal with preprocessor stuff in within Monty's
C grammar. There are a couple of "gotchas": mult-line preprocessor
directives and the dreaded "##" operator. Below is what I have.
Andy

protected RestOfPP :
( 
	'\\'! Newline!	// note the "!"s to delete escaped newlines
	| Comment
	| CharLiteral// 6/11/04: avoid matching '"' as StringLiteral
	| StringLiteral	//without this, "//" inside string gets processed
	| {LA(2) != '*' && LA(2) != '/'}? '/'
	| '#'			// "stringification"
	| ~('\r' | '\n' | '/')
)+ 
;

// PPSpaceRule will convert "# define" to "#define", etc.
PPspace		: "#" (Whitespace)+ RestOfPP
;
PPdefine	: "#define" (Whitespace)+ RestOfPP
;
PPif		: "#if" (Whitespace)+ RestOfPP
;
PPelse		: "#else" 
;
PPelif		: "#elif" (Whitespace)+ RestOfPP
;
PPendif		: "#endif"
;
// Note the "*" instead of "+" here, to handle "#include<whatever.h>"
PPinclude	: "#include" (Whitespace)* RestOfPP
;
PPifdef		: "#ifdef" (Whitespace)+ RestOfPP
;
PPifndef	: "#ifndef" (Whitespace)+ RestOfPP
;
PPundef		: "#undef" (Whitespace)+ RestOfPP
;
PPpragma	: "#pragma" RestOfPP
;
PPerror		: "#error" RestOfPP
;
PPline		: "#line" RestOfPP
;



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From Anthony.Youngman at ECA-International.com  Mon Jul  5 07:29:40 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] C++ doesn't like my tokens ...
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF84@lnml1.eca-international.local>

Hi Ric,

Not sure how to deal with this ... I've got the following tokens in my
lexer:

tokens {
// statements
	CALL="CALL";
	CALLING="CALLING";
	DEFFUN="DEFFUN";
	ELSE="ELSE";
	END="END";
	EXIT="EXIT";
	FUNCTION="FUNCTION";
	GOTO="GOTO";
	IF="IF";
	INPUT="INPUT";
	LOOP="LOOP";
	NULL="NULL";
	PRINT="PRINT";
	PROGRAM="PROGRAM";
	REPEAT="REPEAT";
	RETURN="RETURN";
	SUBROUTINE="SUBROUTINE";
	THEN="THEN";
	UNTIL="UNTIL";
	WHILE="WHILE";
// operators
	LOGIC_EQ="EQ";
// descriptors
	COMMENT;
	LABEL;
	MATFUNC;
// functions
}

Which gives me a TokenTypes.hpp as attached. Note the line "NULL = 15,"
- this causes g++ to blow up pretty badly.

Obviously my keyword is being treated as a C++ keyword. I would guess,
as a temporary measure I can manually mangle the keyword, but are there
any other keywords that are likely to blow up? And if so, how do we
handle it? Should Antlr do a little mangling of all keywords for
safety's sake?

Cheers,
Wol

 <<BASICTokenTypes.hpp>> 


****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: BASICTokenTypes.hpp
Type: application/octet-stream
Size: 1226 bytes
Desc: BASICTokenTypes.hpp
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040705/fd510979/BASICTokenTypes.obj
From nfb at silistix.com  Mon Jul  5 07:43:03 2004
From: nfb at silistix.com (Noel F Bryson)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] C++ doesn't like my tokens ...
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409AF84@lnml1.eca-international.local>
References: 
	 <C7FE35004D40FD45AA342991B88CE40409AF84@lnml1.eca-international.local>
Message-ID: <1089038583.4943.1138.camel@angstrom.silistix.com>

NULL isn't actually a keyword in C++. It's a macro defined in one of the
header files, for convenience. You could put a #undef NULL in the ANTLR
header section ....

On Mon, 2004-07-05 at 15:29, Anthony Youngman wrote:
> Hi Ric,
> 
> Not sure how to deal with this ... I've got the following tokens in my
> lexer:
> 
> tokens {
> // statements
> 	CALL="CALL";
> 	CALLING="CALLING";
> 	DEFFUN="DEFFUN";
> 	ELSE="ELSE";
> 	END="END";
> 	EXIT="EXIT";
> 	FUNCTION="FUNCTION";
> 	GOTO="GOTO";
> 	IF="IF";
> 	INPUT="INPUT";
> 	LOOP="LOOP";
> 	NULL="NULL";
> 	PRINT="PRINT";
> 	PROGRAM="PROGRAM";
> 	REPEAT="REPEAT";
> 	RETURN="RETURN";
> 	SUBROUTINE="SUBROUTINE";
> 	THEN="THEN";
> 	UNTIL="UNTIL";
> 	WHILE="WHILE";
> // operators
> 	LOGIC_EQ="EQ";
> // descriptors
> 	COMMENT;
> 	LABEL;
> 	MATFUNC;
> // functions
> }
> 
> Which gives me a TokenTypes.hpp as attached. Note the line "NULL = 15,"
> - this causes g++ to blow up pretty badly.
> 
> Obviously my keyword is being treated as a C++ keyword. I would guess,
> as a temporary measure I can manually mangle the keyword, but are there
> any other keywords that are likely to blow up? And if so, how do we
> handle it? Should Antlr do a little mangling of all keywords for
> safety's sake?
> 
> Cheers,
> Wol
> 
>  <<BASICTokenTypes.hpp>> 
> 
> 
> ****************************************************************************
> 
> This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.
> 
> Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.
> 
> ****************************************************************************
> 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
> 
>  



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Mon Jul  5 08:30:30 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] C++ doesn't like my tokens ...
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409AF84@lnml1.eca-international.local>
References: <C7FE35004D40FD45AA342991B88CE40409AF84@lnml1.eca-international.local>
Message-ID: <20040705153030.GD4423@cs.utwente.nl>

On Mon, Jul 05, 2004 at 03:29:40PM +0100, Anthony Youngman wrote:
> 	NULL="NULL";
>
> Which gives me a TokenTypes.hpp as attached. Note the line "NULL = 15,"
> - this causes g++ to blow up pretty badly.
>
> Obviously my keyword is being treated as a C++ keyword. I would guess,
> as a temporary measure I can manually mangle the keyword, but are there
> any other keywords that are likely to blow up? And if so, how do we
> handle it? Should Antlr do a little mangling of all keywords for
> safety's sake?

As Noel pointed out it's a preprocessor define (the good old C NULL
definition to be exact). Standard practice is to mangle it yourself, or use
the mangleLiteralPrefix = "MY_PREFIX_" option (at the expense of having to
use that prefix). Personally I do my own mangling. But sometimes you run
into some header file that does some inconvenient #define. #undef might
help but is sometimes just as bad as the #define itself.

Be wary of anything that looks like a C/C++ keyword things like CONST,
EXTERN, PARM, _P etc. those are often defined in header files for
multiplatform packages (tcl to name one).

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  There are 10 kinds of people - those that understand binary and
  those that don't. --- Unknown



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From lists at lischke-online.de  Mon Jul  5 10:03:03 2004
From: lists at lischke-online.de (Mike Lischke)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Re: Updated C++ parser
In-Reply-To: <ccbmp6+bqlm@eGroups.com>
Message-ID: <20040705170205.999CB57C002@h4866.serverkompetenz.net>

> I also wanted to deal with preprocessor stuff in within 
> Monty's C grammar. There are a couple of "gotchas": mult-line 
> preprocessor directives and the dreaded "##" operator. Below 
> is what I have.

Sorry, I haven't followed that thread until now but I think I should tell you that I'm working on a preprocessor.
Actually, this Java class is made for MSVC/BCB resource files, but as I have it now it should do fine with any C/C++
file (I have only tested it with rc and some of the standard header files, though). The preprocessor comes with a quite
complete macro handling implementation and also supports all three preprocessor operators (charizing, stringizing and
token pasting). I haven't created the preprocessor from a grammar, though, but implemented it manually. After several
attempts I gave up to use ANTLR for this particular part as the preprocessor depends much on line-per-line processing. 

The preprocessor is part of a converter for rc files, which I plan to publish in a few weeks. If you want I'll can send
you a copy.

Mike
--
www.soft-gems.net 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From jasonriz at yahoo.com  Mon Jul  5 14:20:42 2004
From: jasonriz at yahoo.com (Jason)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Returning Multiple Tokens
Message-ID: <20040705212042.95506.qmail@web12701.mail.yahoo.com>

Hello,

There are certain circumstances under which I'd like
to return more than a single token to the parser.  I
can accomplish this by setting a flag when such a
condition occurs and manually inserting something like
the following (in psuedocode) at the beginning of
nextToken( ) in the generated lexer:

if (tokensQueud)
{
  Token token = first token on list;
  if (list is empty)
  {
    tokensQueud = false;
  }
  return token;
}

Obviously though I'd rather not have to hack the
generated lexer.  Is there any other way to accomplish
this?  Is there some reason I should avoid this
approach and restructure the rules in my lexer grammar
to avoid the situtation?  Thanks in advance for any
replies.

-jason


		
__________________________________
Do you Yahoo!?
New and Improved Yahoo! Mail - Send 10MB messages!
http://promotions.yahoo.com/new_mail 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From FranklinChen at cmu.edu  Mon Jul  5 14:31:57 2004
From: FranklinChen at cmu.edu (FranklinChen@cmu.edu)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Returning Multiple Tokens
In-Reply-To: <20040705212042.95506.qmail@web12701.mail.yahoo.com>
References: <20040705212042.95506.qmail@web12701.mail.yahoo.com>
Message-ID: <16617.51405.194593.941572@SWAN.PSY.cmu.edu>

Jason <jasonriz@yahoo.com> writes:
> Hello,
> 
> There are certain circumstances under which I'd like
> to return more than a single token to the parser.

One of my solutions is like yours.  Concretely, I stash Tokens into a
LinkedList in the lexer, then I wrap the lexer and LinkedList in
another, which I pass to the parser (code below).

The other solution I have used in more complicated situations is to
rethink the design, and pass a single complex Token up to the parser,
and there use another parser to parse that Token, and insert the parse
tree from that parser into the main parse tree, and then process the
full parse tree.



import java.util.*;
import antlr.*;

/**
 * Use queue of tokens before the existing token stream.
 */
public class InsertedTokenStream implements TokenStream {
    private final TokenStream stream;
    private final LinkedList insertedTokens;

    public InsertedTokenStream(TokenStream stream, LinkedList insertedTokens) {
        this.stream = stream;
        this.insertedTokens = insertedTokens;
    }

    public Token nextToken() throws TokenStreamException {
        if (insertedTokens.size() == 0) {
            return stream.nextToken();
        }
        else {
            return (Token) insertedTokens.removeFirst();
        }
    }
}

-- 
Franklin


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Mon Jul  5 17:15:19 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:01 2004
Subject: New antlr-interest member
Message-ID: <1089072919.140.60436.w87@yahoogroups.com>


Hello,

This is an automated email message to let you know that
xyzzy1234 <johnl@temporal-wave.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From bruce at acm.org  Mon Jul  5 18:20:30 2004
From: bruce at acm.org (brucequig)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] java 1.5 tree grammar
Message-ID: <cccuou+cf2m@eGroups.com>

As far as I can see the most recent publicly available attempt at a
Java 1.5 grammar is the one at
http://www.thecortex.net/clover/generics/javaG.g

Has anyone had a go a doing a tree grammar for this, or any other java
1.5 grammar?


BQ.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From jasonriz at yahoo.com  Mon Jul  5 20:23:15 2004
From: jasonriz at yahoo.com (Jason)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Returning Multiple Tokens
In-Reply-To: <16617.51405.194593.941572@SWAN.PSY.cmu.edu>
Message-ID: <20040706032315.66422.qmail@web12708.mail.yahoo.com>

--- FranklinChen@cmu.edu wrote:
> Jason <jasonriz@yahoo.com> writes:
> > Hello,
> > 
> > There are certain circumstances under which I'd
> like
> > to return more than a single token to the parser.
> 
> One of my solutions is like yours.  Concretely, I
> stash Tokens into a
> LinkedList in the lexer, then I wrap the lexer and
> LinkedList in
> another, which I pass to the parser (code below).
> 
> The other solution I have used in more complicated
> situations is to
> rethink the design, and pass a single complex Token
> up to the parser,
> and there use another parser to parse that Token,
> and insert the parse
> tree from that parser into the main parse tree, and
> then process the
> full parse tree.
> 
> 
> 
> import java.util.*;
> import antlr.*;
> 
> /**
>  * Use queue of tokens before the existing token
> stream.
>  */
> public class InsertedTokenStream implements
> TokenStream {
>     private final TokenStream stream;
>     private final LinkedList insertedTokens;
> 
>     public InsertedTokenStream(TokenStream stream,
> LinkedList insertedTokens) {
>         this.stream = stream;
>         this.insertedTokens = insertedTokens;
>     }
> 
>     public Token nextToken() throws
> TokenStreamException {
>         if (insertedTokens.size() == 0) {
>             return stream.nextToken();
>         }
>         else {
>             return (Token)
> insertedTokens.removeFirst();
>         }
>     }
> }
> 

Franklin,

Thanks for the code.  I hadn't ever looked at the
TokenStream interface and didn't realize how simple it
was.  This is essentially, what I had in mind, but, of
course, has the practical advantage that I don't have
to modify the generated code.  Thanks again.

-exits


		
__________________________________
Do you Yahoo!?
Yahoo! Mail - 50x more storage than other providers!
http://promotions.yahoo.com/new_mail


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Mon Jul  5 22:11:22 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:01 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1089090682.2182.20485.m3@yahoogroups.com>


Hello,

This is an automated email message to let you know that
johnlambert97223 <jlambert@nwlink.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From notify at yahoogroups.com  Mon Jul  5 22:43:33 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:01 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1089092613.2010.74949.w32@yahoogroups.com>


Hello,

This is an automated email message to let you know that
kannanmr <kannan.ramanathan@intel.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From s.schuemann at pobox.com  Mon Jul  5 23:49:55 2004
From: s.schuemann at pobox.com (Steffen Schuemann)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Is this nondeterminism solvable?
Message-ID: <8643935859.20040706084955@pobox.com>

Implementing a scripting language for a group of pbems. It is a
complete redesign of an existing tool, and my working prototype,
consisting of some kind of compiler and a vm backend is about 40 times
faster than my old tool. So I'm glad I started this redesign. ;-)

Right now I'm fighting some nondeterminism problems with no luck so
far.

My Grammars got rather complex now, but I reduced it to this:

// ---- begin: test.g -----------------------------------------

options {
    language="Cpp";
}

class MyParser extends Parser;
options {
    buildAST=true;
}

script
    :   scriptElement (SSEP! scriptElement)* EOF!
    |   SSEP! EOF!
    ;

scriptElement
    :   subroutine
    ;

subroutine
    :   CMD_PROC^ WS! name:IDENT (WS! VARIABLE)* statementBlock
    ;


statementBlock
    : SBLOCK^ (statement (SSEP! statement)*)* EBLOCK
    ;

statement
    :   assignExpression
    ;

assignExpression
    :   expression (ASSIGN^ expression)?
    ;

expressionList
    :   expression (COMMA! expression)*
    ;
    
expression
    :   additiveExpression
    ;

additiveExpression
    :   multiplicativeExpression ((PLUS^|MINUS^) multiplicativeExpression)*
    ;

multiplicativeExpression
    :   postfixExpression (STAR^ postfixExpression)*
    ;

postfixExpression
    :   LPAREN! expression RPAREN!
    
        /*
           The following grammar line results in this message:
           warning:nondeterminism upon
               k==1:LPAREN
               between alt 2 and exit branch of block
         */
    |   atom ((LBRACK^ expressionList RBRACK!)|(LPAREN^ (expressionList)? RPAREN!))*
    ;

atom:   INTEGER
    |   IDENT
    ;



class MyLexer extends Lexer;
options {
    k=2;
}

CMD_PROC
    :   "#proc"
    ;

WS  :   (WS_)+
        (
            (NL_ (NL_|WS_)*) {_ttype=SSEP;} 
            (   '{' {inputState->tokenStartLine = getLine();} (NL_|WS_)* {_ttype=SBLOCK;}
            |   '}' {inputState->tokenStartLine = getLine();} (WS_)* {_ttype=EBLOCK;}
            )?
        )?
    ;

SSEP
    :   ':' (WS_)*
    |   (NL_ (NL_|WS_)*)
        (   '{' {inputState->tokenStartLine = getLine();} (NL_|WS_)* {_ttype=SBLOCK;}
        |   '}' {inputState->tokenStartLine = getLine();} (WS_)* {_ttype=EBLOCK;}
        )?
    ;

SBLOCK
    :   '{' (NL_|WS_)*
    ;

EBLOCK
    :   '}' (WS_)*
    ;

protected
WS_ :   (   ' '
        |   '\t'
        )
    ;

protected
NL_ options {generateAmbigWarnings=false;}
    :   (   { LA(2)=='\n' }? "\r\n"  // DOS/Windows
        |   '\r'    // Macintosh
        |   '\n'    // Unix
        )
        { newline(); }
    ;

LPAREN
    :   '('
    ;

RPAREN
    :   ')'
    ;

LBRACK: '['
    ;

RBRACK: ']'
    ;

STAR:   '*'
    ;

PLUS:   '+'
    ;

MINUS:  '-'
    ;

ASSIGN
    :   '='
    ;

COMMA
    :   ','
    ;

IDENT
    :   ('a'..'z'|'A'..'Z'|'_') ('a'..'z'|'A'..'Z'|'_'|'0'..'9')*
    ;

VARIABLE
    :   '$' ('a'..'z'|'A'..'Z'|'_') ('a'..'z'|'A'..'Z'|'_'|'0'..'9')*
    ;

INTEGER
    :   ('1'..'9') ('0'..'9')*
    ;

// ---- end: test.g -----------------------------------------

As you see, there are some komplex rules involved in handling of
whitespace and newlines combined with ':', '{' and '}'. The Language
has some unusual aspects:

- spaces (outside of strings) seperate parameters
  (as a result, it is not allowed to use spaces in an expression)

- ':' seperates statements in same line

- newlines seperate statements

- only statements with blocks (#proc/#while/#if) can have
  newlines around curly backets

There are no #if/#while-statements in this reduced grammar,
but the exotic whitespace/newline-handling is still there,
just in case this is the source of all my trouble.

Is the nondeterminism solvable, or will I have to disable
the warning? I tried for some days now, and start to get
frustated a bit. ;-)

Any help (or hint on improving the whitespace/newline
handling) is really apreciated.

PS: If someone is interessted in the full grammar, I can
    upload it to my site. Of course compiler/interpreter
    and vm will be open source, but they are rather specific
    to german atlantis pbems at the moment.

-- 
web: http://www.gulrak.net



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From yjargudo at tiscali.es  Tue Jul  6 01:27:31 2004
From: yjargudo at tiscali.es (yjargudo)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Could someone answer me,please?
Message-ID: <ccdnpj+fd19@eGroups.com>

Hello,

I put a message and nobody help me so I try again.

What I have to do to transform the c++ grammar of the antlr web page
to java output?

I removed the language option and all the antlr actions that are
inserted in the grammar, but I had non-deterministic problems. It's
correct what I did?. Must I traduce all the support functions that are
used in the grammar to java?

The only thing that I need a clean grammar (without any antlr action
inserted)that recognize c++. There are some place where I can get It?

Thanks,

Yolanda




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Tue Jul  6 01:40:33 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Returning Multiple Tokens
In-Reply-To: <20040706032315.66422.qmail@web12708.mail.yahoo.com>
References: <16617.51405.194593.941572@SWAN.PSY.cmu.edu> <20040706032315.66422.qmail@web12708.mail.yahoo.com>
Message-ID: <20040706084033.GB11281@cs.utwente.nl>

On Mon, Jul 05, 2004 at 08:23:15PM -0700, Jason wrote:
> Thanks for the code.  I hadn't ever looked at the
> TokenStream interface and didn't realize how simple it
> was.  This is essentially, what I had in mind, but, of
> course, has the practical advantage that I don't have
> to modify the generated code.  Thanks again.

You could btw also come a nice way with subclassing the generated lexer and
overriding nextToken.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  "You know how to use that thing?" [pointing to the sword]
  "Sure.. The pointy end goes into the other guy."
  --- The Mask of Zorro



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From lgc at mail1.jpl.nasa.gov  Tue Jul  6 01:51:20 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Re: Could someone answer me,please?
In-Reply-To: <ccdnpj+fd19@eGroups.com>
Message-ID: <ccdp68+fc6n@eGroups.com>

You will have to translate the support functions--at least, those
which support semantic predicates.  David Wigg and his group
translated the C++ grammar from PCCTS to ANTLR 2, and introduced a
number of semantic predicates that were translated from
PCCTS-generated code (ANTLR 2 does not support hoisting of semantic
predicates--most of the complexity appears to be syntactic predicates
that included hoisted semantic predicates.)  AFAIK, no one has yet
done that.  Also, some of the non-determinism warnings are because
ANTLR 2 does approximate LLk--it may still generate correct code. 
Have you compared the warning message output you get with the original
 (in C++ mode)--despite the difference in target languages, the
warnings should be identical.

--Loring


--- In antlr-interest@yahoogroups.com, "yjargudo" <yjargudo@t...> wrote:
> Hello,
> 
> I put a message and nobody help me so I try again.
> 
> What I have to do to transform the c++ grammar of the antlr web page
> to java output?
> 
> I removed the language option and all the antlr actions that are
> inserted in the grammar, but I had non-deterministic problems. It's
> correct what I did?. Must I traduce all the support functions that are
> used in the grammar to java?
> 
> The only thing that I need a clean grammar (without any antlr action
> inserted)that recognize c++. There are some place where I can get It?
> 
> Thanks,
> 
> Yolanda



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Tue Jul  6 02:12:18 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Could someone answer me,please?
In-Reply-To: <ccdnpj+fd19@eGroups.com>
References: <ccdnpj+fd19@eGroups.com>
Message-ID: <20040706091218.GC11281@cs.utwente.nl>

On Tue, Jul 06, 2004 at 08:27:31AM -0000, yjargudo wrote:
> What I have to do to transform the c++ grammar of the antlr web page
> to java output?
>
> I removed the language option and all the antlr actions that are
> inserted in the grammar, but I had non-deterministic problems. It's
> correct what I did?. Must I traduce all the support functions that are
> used in the grammar to java?

The original grammar also has non-determinism warnings. I guess it should
do the 'right' thing in places where it happens. Some of them you can't
circumvent.

Indeed removing the language option for C++ is the right way to go. For the
C++ actions it depends wether you want #line information at least most of
it is to deal with #line statements if I recall right.

> The only thing that I need a clean grammar (without any antlr action
> inserted)that recognize c++. There are some place where I can get It?

The only antlr grammar that does C++ I'm aware of is the one you used from
David. It depends on how thorougly you want to recognize C++ wether it will
work without action code or subsequent tree walking/post processing.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Quidquid latine dictum sit, altum viditur.
                 (Whatever is said in Latin sounds profound.)



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From pete.forman at westerngeco.com  Tue Jul  6 03:03:45 2004
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Is this nondeterminism solvable?
In-Reply-To: <8643935859.20040706084955@pobox.com>
Message-ID: <5.1.1.1.2.20040706110113.0249dff0@wgmail2.gatwick.eur.slb.com>

At 2004-07-06 08:49 +0200, Steffen Schuemann wrote:
>Is the nondeterminism solvable, or will I have to disable
>the warning? I tried for some days now, and start to get
>frustated a bit. ;-)

Your statementBlock allowed unseparated statements.  Try this.


statementBlock
     : SBLOCK^ (statement (SSEP! statement)*)? EBLOCK
     ;

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Tue Jul  6 03:10:18 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:01 2004
Subject: New antlr-interest member
Message-ID: <1089108618.65.79880.w78@yahoogroups.com>


Hello,

This is an automated email message to let you know that
andreasharth <aharth@gmx.de> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Tue Jul  6 03:12:24 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:01 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1089108744.217.83648.w24@yahoogroups.com>


Hello,

This is an automated email message to let you know that
eland_at_jleuner <eland_at_jleuner@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From yjargudo at tiscali.es  Tue Jul  6 03:09:12 2004
From: yjargudo at tiscali.es (yjargudo@tiscali.es)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Re: Could someone answer me,please?
In-Reply-To: <ccdp68+fc6n@eGroups.com>
Message-ID: <40D14B0C00004624@genova.tiscali.red>

hello,
If I execute the original grammar in c++ I have only a no-deterministic
problem in the parameter_list rule, but if I remove all the antlr actions
of the grammar, I have a lot of non-deterministic problems and the grammar
take wrong decisions so that it can't recognize a c++ correct file .

I think I will have to traduce all the functions to java :(

Thanks for your help,

Yolanda

Red Hot Chili Peppers toca el 27 de junio en Santiago... 
?Entra en Tiscali Music Club y descarga sus mejores temas antes del concierto!

http://www.tiscali.es/descargamusica





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From j.klaren at utwente.nl  Tue Jul  6 06:56:41 2004
From: j.klaren at utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:01 2004
Subject: Unicode & C++ & ANTLR2 (and a bit 3)
Message-ID: <20040706135641.GG11281@cs.utwente.nl>

Hi,

Under the motto of understanding through programming I tried to fix up
ANTLR2 to be able to read UTF8 in C++ mode.

This actually turned out to be easier as I thought (well the groundwork at
least). Add one custom InputBuffer that translates UTF8 to unicode
codepoints (unsigned ints). Add a custom lexer superclass that after lexing
reencodes the codepoints to UTF8 and moves them off to the parser in the
'normal' std::string embedded in CommonToken. (With more extensive
tinkering this could also be a custom token class with wchar_t payload)

Some observations/conclusions:

- I'd definitely like to get int arrays or int vectors for the strings in
  codegen (with pure unicode codepoints).

ANTLR2 needs to support 32 bit escapes in the the lexer to support full
unicode. (currently can't specify values above \uFFFF could opt to
introduce a new escape syntax that support variable length hex values
\u{(HEXDIGIT)+} or something)

 - Question can ANTLR 2's analysis engine deal with such values?

Current bitset generation for unicode is quite expensive (parse times are
long because of bitset generation)

There's quite some interesting choices with respect to how to add the UTF
decoding encoding to the scanner classes.

- What implementations for wchar_t are common? Are all 32 bit based or are
  there some 16 bitters.
- How do these deal with encoding string/char constants defined with
  L"string" and L'c'.

I guess we could gain lexer speed by dropping support for the ! operator in
a lexer (or restrict it's use to the start and end of the token text, that
way we could probably only deal with indexes or pointers in stead of all
the copying that is happening now).

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 "Don't call me stupid." "Oh, right. To call you stupid would be an insult
    to stupid people. I've known sheep that could outwit you! I've worn
              dresses with higher IQs!" --- A Fish Called Wanda

From klaren at cs.utwente.nl  Tue Jul  6 06:56:41 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Unicode & C++ & ANTLR2 (and a bit 3)
Message-ID: <20040706135641.GG11281@cs.utwente.nl>

Hi,

Under the motto of understanding through programming I tried to fix up
ANTLR2 to be able to read UTF8 in C++ mode.

This actually turned out to be easier as I thought (well the groundwork at
least). Add one custom InputBuffer that translates UTF8 to unicode
codepoints (unsigned ints). Add a custom lexer superclass that after lexing
reencodes the codepoints to UTF8 and moves them off to the parser in the
'normal' std::string embedded in CommonToken. (With more extensive
tinkering this could also be a custom token class with wchar_t payload)

Some observations/conclusions:

- I'd definitely like to get int arrays or int vectors for the strings in
  codegen (with pure unicode codepoints).

ANTLR2 needs to support 32 bit escapes in the the lexer to support full
unicode. (currently can't specify values above \uFFFF could opt to
introduce a new escape syntax that support variable length hex values
\u{(HEXDIGIT)+} or something)

 - Question can ANTLR 2's analysis engine deal with such values?

Current bitset generation for unicode is quite expensive (parse times are
long because of bitset generation)

There's quite some interesting choices with respect to how to add the UTF
decoding encoding to the scanner classes.

- What implementations for wchar_t are common? Are all 32 bit based or are
  there some 16 bitters.
- How do these deal with encoding string/char constants defined with
  L"string" and L'c'.

I guess we could gain lexer speed by dropping support for the ! operator in
a lexer (or restrict it's use to the start and end of the token text, that
way we could probably only deal with indexes or pointers in stead of all
the copying that is happening now).

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 "Don't call me stupid." "Oh, right. To call you stupid would be an insult
    to stupid people. I've known sheep that could outwit you! I've worn
              dresses with higher IQs!" --- A Fish Called Wanda



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From aharth at gmx.de  Tue Jul  6 07:33:05 2004
From: aharth at gmx.de (andreasharth)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Parse only <n> bytes from InputStream
Message-ID: <cced71+mk7r@eGroups.com>

Hi List,

I have written a small HTTP server in Java and like to parse input
from a HTTP PUT operation.  The length of the input in bytes is
specified using the content-length header.  I am able to parse the
stream that's coming in.  So far, so good.

Problem is that the parser should close the Reader after a number of
bytes (the content-length) have been read.  I could first store
everything the HTTP server recieves, and then parse that, but since I
want to process megabytes (and maybe gigabytes) caching things is not
really an option.  I cannot specify and end of file symbol either
because that's not in the HTTP protocol.

Is there a way to make the parser stop after having read a given
number of bytes?

Cheers,
Andreas.




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From qbert65536 at hotmail.com  Tue Jul  6 07:42:59 2004
From: qbert65536 at hotmail.com (b d)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] nondetermism rules, EOF
Message-ID: <BAY19-F33heckuo9JIP0008103a@hotmail.com>

d.g:24:38: warning:nondeterminism between alts 1 and 2 of block upon
d.g:24:38:     k==1:EOF
d.g:24:38:     k==2:EOF

Would this be casuing my parser to hang, and if so how can I resolve it ?

Thanks,
Charles

_________________________________________________________________
Is your PC infected? Get a FREE online computer virus scan from McAfee 
Security. http://clinic.mcafee.com/clinic/ibuy/campaign.asp?cid=3963



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Tue Jul  6 07:47:08 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Parse only <n> bytes from InputStream
In-Reply-To: <cced71+mk7r@eGroups.com>
References: <cced71+mk7r@eGroups.com>
Message-ID: <20040706144708.GI11281@cs.utwente.nl>

On Tue, Jul 06, 2004 at 02:33:05PM -0000, andreasharth wrote:
> I have written a small HTTP server in Java and like to parse input
> from a HTTP PUT operation.  The length of the input in bytes is
> specified using the content-length header.  I am able to parse the
> stream that's coming in.  So far, so good.
> 
> Problem is that the parser should close the Reader after a number of
> bytes (the content-length) have been read.  I could first store
> everything the HTTP server recieves, and then parse that, but since I
> want to process megabytes (and maybe gigabytes) caching things is not
> really an option.  I cannot specify and end of file symbol either
> because that's not in the HTTP protocol.
> 
> Is there a way to make the parser stop after having read a given
> number of bytes?

I'd implement a custom InputBuffer that would cut off after N bytes. Then
initialize the lexer with that one. Look at InputBuffer.java to see what
you have to do. You might also get some inspiration from
lib/cpp/antlr/CharInputBuffer.hpp.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Xander: "Buffy, we need to do something *now*"
  Angel: "We need a distraction."
  Buffy: "Right."
  Angel: "What are you going to do?"
  Buffy: "I'm going to kill them all. That oughtta distract 'em..."



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From Jim.OConnor at microfocus.com  Tue Jul  6 08:02:46 2004
From: Jim.OConnor at microfocus.com (Jim O'Connor)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] JAVA Cross Reference
Message-ID: <3AC103F1B7EEEC48A855ACB1D2819E9102C97299@rock-corpmail.microfocus.com>

From: Jim O'Connor [Jim.O'Connor@microfocus.com]
Sent: Wednesday, January 07, 2004 11:10 AM
To: Jim.OConnor@MicroFocus.com
Subject: Alpha release of the Java Cross Referencer

Introduction

This is the alpha release of the Java Cross Reference Tool (uses ANTLR
2.7.2).  It is based on Terence's tool in the file sharing section.  To
review its roots you can take a look at www.antlr.org/share/list.  There
have been many improvements and additions.  The goal is to have another
release in the future that improves the code and streamlines the "get up and
running" process.  There might be a few bug fixes, as well. :0) 

 

Overview

Input: *.java files, jar files, or a directory structure

 

Output:  An XML document with a hierarchical representation of packages,
classes and references.  The MyOutput class regulates the output location of
the XML file.  The name is controlled in the CodeProject class (currently
"null").  MyOutput has methods to control output when references are
resolved.

 

Installation and execution

 

 The process will be streamlined.  The manual installation forces the user
to become familiar necessary configuration steps that could be overlooked.  

Assumptions: Java JDK and Antlr 2.7.2 is installed.  An older java.g 1.3 is
used.  Recent patches have not been integrated.

 

  1.. Download JavaCrossRef.zip 
 

  2.. Unzip to c:\  (this will create the c:\antlr.xref directory structure)

 

  3.. cd to the c:\antlr.xref\src\org\antlr\java\crossref subdirectory 
 

  4.. To generate the necessary files run the following commands (My path
includes "c:\j2sdk1.4.2_01\bin"; and my full classpath is
".;c:\antlr-2.7.2\antlr.jar") 
A.      java antlr.Tool java.g

a.       Creates JavaRecognizer.java, JavaLexer.java, JavaTokenTypes.java
and JavaTokenTypes.txt

B.      java antlr.Tool javatree.g

a.       Creates JavaTreeParser.java, JavaTreeParserTokenTypes.java and
JavaTreeParserTokenTypes.txt

C.      java antlr.Tool -glib javaTree.g defs.g 

a.       Creates JavaDefsTreeParser.java, JavaTreeDefsParserTokenTypes.java
and JavaTreeDefsParserTokenTypes.txt

b.       Warnings will result for rule JavaDefsTreeParser.packageDefinition
and Rule 'identifier' returning a value

D.      java antlr.Tool -glib javaTree.g prerefs.g

a.       Creates JavaPreRefsTreeParser.java,
JavaTreePreRefsParserTokenTypes.java and JavaTreePreRefsParserTokenTypes.txt

b.       Warnings result for packageDefinition, typeSpec, typeSpecArray,
type, extendsClasue, implementsClause, parameterDef, variableDeclarator,
methodHead, identifier, newExpression and
'identifier'-'parameterDef'-'typeSpecArray'-'typeSpec'-newExpression'
returns a value

E.      java antlr.Tool -glib javaTree.g refs.g

a.       Creates JavaRefsTreeParser.java, JavaTreeRefsParserTokenTypes.java
and JavaTreeRefsParserTokenTypes.txt

b.       Lots more warning messages

 

  5.. Before compiling the files you should edit a few of the files to
control the output 
A.      In CodeProject.java, a few fields are "user configurable" and can be
modified

a.       protected String name = null; null can be changed to name the
current project.  Otherwise the xml file will get the name "null.xml".

b.       static final boolean saveReferences = true;  when set to "true" all
references are saved to the CodeProject hierarchical information model by
methods in the refElement(), refMethod(), and refClass() methods. If you
only want your project structure in the XML file, set to "false".

c.       static final boolean printDebug = false;  There is a large amount
of debug "System.out.println()" calls in the Scope classes.  The printDebug
flag in CodeProject is a global flag to enable or disable the possibility
for all of these messages.  When printDebug is set to true in the
CodeProject class, you must go to the individual class files to turn on
messages. Other classes with the printDebug flag are ClassScope,
CodeBlockScope, DebugStack (commented out in defs.g, prerefs.g, and refs.g),
FileScope, and ParameterScope.

B.      In MyOutput.java, final static String OUTPUTDIR = "./"; set the
output directory (OUTPUTDIR), or leave as the current directory (".\")

 

  6.. Compile the *.java files with the following commands 
  7.. A. javac *.java (or whatever compiler you use) 
  8.. test run 
A.      cd c:\antlr.xref\src

B.      "java org.antlr.java.crossref.Main" should produce usage message
"Usage: Main (directory or filename)"

C.       

  9.. Another test with real data 
A.      "java org.antlr.java.crossref.Main
org\antlr\java\crossref\location.java"

B.      This will produce many messages to the console in addition to a 70k
xml file to the current directory named "null.xml"

C.      I'll go back and set saveReference = false and recompile and re-run.

D.      I still get all the messages but the xml file is now 9k, but it
contains no reference information.  It just contains the
package/class/field/method structure.  This is good for structure analysis
but not for seeing which classes reference others.

 

 

Credits

 

All "borrowed" classes are from the open source community.  I have no
obligation to give credit to these sources.  However, their mention will
give credit where I think it is due.  

 

K files

 

The "K" files are used to read the input stream from a "*.class" file,
extracting the relevant information.  They are used with minor modification,
mostly to the javadoc section.  These files are the work of Kimberley
Burchett. "Class loading" the files was a short bad idea.  Thanks for saving
me some time, Kimberly!  I kept the class file writer with the code for
those of you who want to do some obfuscation work.

 

http://www.kimbly.com/code/classfile/

 

Location AST help

 

I read the antlraux site to help with the LocationAST work.

 

http://antlraux.sourceforge.net/

 

Java Cross Reference Tool

 

Antlr and the structure for the tool are based on the work of Terence Parr.
You should be versed in Antlr basics to use this tool. (www.antlr.org)

 

 

 

To Do List

1. Reduce size of XML document

2. Revisit order of imports and "Classpath order".

3. Upgrade java.g

4.  Streamline installation

5. Reorganize the user options

6. Redo Location information.  Problem finding files based on XML
information.

7. Bugs

 



> -----Original Message-----
> From: Jim O'Connor [mailto:Jim.OConnor@microfocus.com]
> Sent: Sunday, July 04, 2004 11:38 PM
> To: 'bob_kennelly '
> Cc: 'antlr-interest@yahoogroups.com'
> Subject: RE: [antlr-interest] JAVA Cross Reference
> 
>  Hi Bob,
>   My Java Cross reference tool is in the file sharing section of
> www.antlr.org.  I will find the "getting started" document, if you are
> interested.
> Jim
> 
> -----Original Message-----
> From: bob_kennelly
> To: antlr-interest@yahoogroups.com
> Sent: 7/2/04 4:32 PM
> Subject: [antlr-interest] JAVA Cross Reference
> 
> Hi there!
> 
> Does anyone have a tool that will scan thru the Java source and
> create a hierarchy of classes, example what class calls what class?
> 
> Or can any create such a tool?
> 
> Thanks!
> 
> bk
> 
> 
> 
> 
> 
> Yahoo! Groups Links
> 
> 
> 
> 
> 
> 
> ________________________________________________________________________
> This e-mail has been scanned for viruses by MCI's Internet Managed
> Scanning Services - powered by MessageLabs. For further information
> visit http://www.mci.com
> ________________________________________________________________________
> 
> 
> 
> Yahoo! Groups Links
> 
> 
> 
> 
> 
> 
> ________________________________________________________________________
> This e-mail has been scanned for viruses by MCI's Internet Managed
> Scanning Services - powered by MessageLabs. For further information visit
> http://www.mci.com
> ________________________________________________________________________
> 
> ________________________________________________________________________
> This e-mail has been scanned for viruses by MCI's Internet Managed
> Scanning Services - powered by MessageLabs. For further information visit
> http://www.mci.com
> ________________________________________________________________________


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From pete.forman at westerngeco.com  Tue Jul  6 08:06:10 2004
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Unicode & C++ & ANTLR2 (and a bit 3)
In-Reply-To: <20040706135641.GG11281@cs.utwente.nl>
Message-ID: <5.1.1.1.2.20040706152035.02495508@wgmail2.gatwick.eur.slb.com>

At 2004-07-06 15:56 +0200, Ric Klaren wrote:
>ANTLR2 needs to support 32 bit escapes in the the lexer to support full
>unicode. (currently can't specify values above \uFFFF could opt to
>introduce a new escape syntax that support variable length hex values
>\u{(HEXDIGIT)+} or something)

32 bits would be enough to support all Unicode code points but is that
adequate?  You may want to work with grapheme clusters which consist
of one or more code points.  Loosely, a grapheme cluster is what the
end user might call a character.  'e' and combining acute are two code
points but one grapheme cluster.  That particular combination can be
normalized to a single code point but many cannot.

Issues with code points above the BMP are similar to those with
combining characters.

I've been looking at how Java (JDK 1.5), C# and ICU deal with
encodings.  They all use strings of 16 bit characters (UTF-16) as the
prime units to operate on.  Single characters are available in 32
bits (UTF-32).  Grapheme clusters are available as UTF-16 strings;
the length of those is generally one, but two for surrogate pairs
and two or more where combining characters are involved.

A question to ask is what is best for ANTLR.  It is not a word
processor or text renderer.  The lexer is converting characters into
tokens.  These tokens tend to be either punctuation, whitespace,
comments, keywords, or literals.  The last three are fairly opaque.
We need to be able to some sort of isKeyword test on the last two
but aside from that their contents should be of little interest to
the lexer.

My preference would be to stick with UTF-16 strings in ANTLR for
compatibility with current languages and libraries.  Leave it up to
the grammar writers to deal with >16 bit issues where they arise.

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From bob_kennelly at yahoo.com  Tue Jul  6 09:22:15 2004
From: bob_kennelly at yahoo.com (Bob Kennelly)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] JAVA Cross Reference
In-Reply-To: <3AC103F1B7EEEC48A855ACB1D2819E9102C97299@rock-corpmail.microfocus.com>
Message-ID: <20040706162215.94434.qmail@web14522.mail.yahoo.com>

Thanks alot Jim!
 
Looking forward to running your software Jim, looks like you've put alot of effort into it!
 
Hope to be able to run it sometime this week!
 
BobK 
 
 
 
 
 


Jim O'Connor <Jim.OConnor@microfocus.com> wrote:
From: Jim O'Connor [Jim.O'Connor@microfocus.com]
Sent: Wednesday, January 07, 2004 11:10 AM
To: Jim.OConnor@MicroFocus.com
Subject: Alpha release of the Java Cross Referencer

Introduction

This is the alpha release of the Java Cross Reference Tool (uses ANTLR
2.7.2). It is based on Terence's tool in the file sharing section. To
review its roots you can take a look at www.antlr.org/share/list. There
have been many improvements and additions. The goal is to have another
release in the future that improves the code and streamlines the "get up and
running" process. There might be a few bug fixes, as well. :0) 



Overview

Input: *.java files, jar files, or a directory structure



Output: An XML document with a hierarchical representation of packages,
classes and references. The MyOutput class regulates the output location of
the XML file. The name is controlled in the CodeProject class (currently
"null"). MyOutput has methods to control output when references are
resolved.



Installation and execution



The process will be streamlined. The manual installation forces the user
to become familiar necessary configuration steps that could be overlooked. 

Assumptions: Java JDK and Antlr 2.7.2 is installed. An older java.g 1.3 is
used. Recent patches have not been integrated.



1.. Download JavaCrossRef.zip 


2.. Unzip to c:\ (this will create the c:\antlr.xref directory structure)



3.. cd to the c:\antlr.xref\src\org\antlr\java\crossref subdirectory 


4.. To generate the necessary files run the following commands (My path
includes "c:\j2sdk1.4.2_01\bin"; and my full classpath is
".;c:\antlr-2.7.2\antlr.jar") 
A. java antlr.Tool java.g

a. Creates JavaRecognizer.java, JavaLexer.java, JavaTokenTypes.java
and JavaTokenTypes.txt

B. java antlr.Tool javatree.g

a. Creates JavaTreeParser.java, JavaTreeParserTokenTypes.java and
JavaTreeParserTokenTypes.txt

C. java antlr.Tool -glib javaTree.g defs.g 

a. Creates JavaDefsTreeParser.java, JavaTreeDefsParserTokenTypes.java
and JavaTreeDefsParserTokenTypes.txt

b. Warnings will result for rule JavaDefsTreeParser.packageDefinition
and Rule 'identifier' returning a value

D. java antlr.Tool -glib javaTree.g prerefs.g

a. Creates JavaPreRefsTreeParser.java,
JavaTreePreRefsParserTokenTypes.java and JavaTreePreRefsParserTokenTypes.txt

b. Warnings result for packageDefinition, typeSpec, typeSpecArray,
type, extendsClasue, implementsClause, parameterDef, variableDeclarator,
methodHead, identifier, newExpression and
'identifier'-'parameterDef'-'typeSpecArray'-'typeSpec'-newExpression'
returns a value

E. java antlr.Tool -glib javaTree.g refs.g

a. Creates JavaRefsTreeParser.java, JavaTreeRefsParserTokenTypes.java
and JavaTreeRefsParserTokenTypes.txt

b. Lots more warning messages



5.. Before compiling the files you should edit a few of the files to
control the output 
A. In CodeProject.java, a few fields are "user configurable" and can be
modified

a. protected String name = null; null can be changed to name the
current project. Otherwise the xml file will get the name "null.xml".

b. static final boolean saveReferences = true; when set to "true" all
references are saved to the CodeProject hierarchical information model by
methods in the refElement(), refMethod(), and refClass() methods. If you
only want your project structure in the XML file, set to "false".

c. static final boolean printDebug = false; There is a large amount
of debug "System.out.println()" calls in the Scope classes. The printDebug
flag in CodeProject is a global flag to enable or disable the possibility
for all of these messages. When printDebug is set to true in the
CodeProject class, you must go to the individual class files to turn on
messages. Other classes with the printDebug flag are ClassScope,
CodeBlockScope, DebugStack (commented out in defs.g, prerefs.g, and refs.g),
FileScope, and ParameterScope.

B. In MyOutput.java, final static String OUTPUTDIR = "./"; set the
output directory (OUTPUTDIR), or leave as the current directory (".\")



6.. Compile the *.java files with the following commands 
7.. A. javac *.java (or whatever compiler you use) 
8.. test run 
A. cd c:\antlr.xref\src

B. "java org.antlr.java.crossref.Main" should produce usage message
"Usage: Main (directory or filename)"

C. 

9.. Another test with real data 
A. "java org.antlr.java.crossref.Main
org\antlr\java\crossref\location.java"

B. This will produce many messages to the console in addition to a 70k
xml file to the current directory named "null.xml"

C. I'll go back and set saveReference = false and recompile and re-run.

D. I still get all the messages but the xml file is now 9k, but it
contains no reference information. It just contains the
package/class/field/method structure. This is good for structure analysis
but not for seeing which classes reference others.





Credits



All "borrowed" classes are from the open source community. I have no
obligation to give credit to these sources. However, their mention will
give credit where I think it is due. 



K files



The "K" files are used to read the input stream from a "*.class" file,
extracting the relevant information. They are used with minor modification,
mostly to the javadoc section. These files are the work of Kimberley
Burchett. "Class loading" the files was a short bad idea. Thanks for saving
me some time, Kimberly! I kept the class file writer with the code for
those of you who want to do some obfuscation work.



http://www.kimbly.com/code/classfile/



Location AST help



I read the antlraux site to help with the LocationAST work.



http://antlraux.sourceforge.net/



Java Cross Reference Tool



Antlr and the structure for the tool are based on the work of Terence Parr.
You should be versed in Antlr basics to use this tool. (www.antlr.org)







To Do List

1. Reduce size of XML document

2. Revisit order of imports and "Classpath order".

3. Upgrade java.g

4. Streamline installation

5. Reorganize the user options

6. Redo Location information. Problem finding files based on XML
information.

7. Bugs





> -----Original Message-----
> From: Jim O'Connor [mailto:Jim.OConnor@microfocus.com]
> Sent: Sunday, July 04, 2004 11:38 PM
> To: 'bob_kennelly '
> Cc: 'antlr-interest@yahoogroups.com'
> Subject: RE: [antlr-interest] JAVA Cross Reference
> 
> Hi Bob,
> My Java Cross reference tool is in the file sharing section of
> www.antlr.org. I will find the "getting started" document, if you are
> interested.
> Jim
> 
> -----Original Message-----
> From: bob_kennelly
> To: antlr-interest@yahoogroups.com
> Sent: 7/2/04 4:32 PM
> Subject: [antlr-interest] JAVA Cross Reference
> 
> Hi there!
> 
> Does anyone have a tool that will scan thru the Java source and
> create a hierarchy of classes, example what class calls what class?
> 
> Or can any create such a tool?
> 
> Thanks!
> 
> bk
> 
> 
> 
> 
> 
> Yahoo! Groups Links
> 
> 
> 
> 
> 
> 
> ________________________________________________________________________
> This e-mail has been scanned for viruses by MCI's Internet Managed
> Scanning Services - powered by MessageLabs. For further information
> visit http://www.mci.com
> ________________________________________________________________________
> 
> 
> 
> Yahoo! Groups Links
> 
> 
> 
> 
> 
> 
> ________________________________________________________________________
> This e-mail has been scanned for viruses by MCI's Internet Managed
> Scanning Services - powered by MessageLabs. For further information visit
> http://www.mci.com
> ________________________________________________________________________
> 
> ________________________________________________________________________
> This e-mail has been scanned for viruses by MCI's Internet Managed
> Scanning Services - powered by MessageLabs. For further information visit
> http://www.mci.com
> ________________________________________________________________________



Yahoo! Groups Links






		
---------------------------------
Do you Yahoo!?
New and Improved Yahoo! Mail - Send 10MB messages!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20040706/b2a7f4f3/attachment.html
From parrt at cs.usfca.edu  Tue Jul  6 11:25:25 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Re: Unicode & C++ & ANTLR2 (and a bit 3)
In-Reply-To: <20040706135641.GG11281@cs.utwente.nl>
References: <20040706135641.GG11281@cs.utwente.nl>
Message-ID: <D960FBF3-CF79-11D8-8B11-000A95891192@cs.usfca.edu>


On Jul 6, 2004, at 6:56 AM, Ric Klaren wrote:
> Some observations/conclusions:
>
> - I'd definitely like to get int arrays or int vectors for the strings 
> in
>   codegen (with pure unicode codepoints).

Yep, i'm leaning that way myself.

> ANTLR2 needs to support 32 bit escapes in the the lexer to support full
> unicode. (currently can't specify values above \uFFFF could opt to
> introduce a new escape syntax that support variable length hex values
> \u{(HEXDIGIT)+} or something)

I'm pretty sure we'll support 32-bit \U+10FFFF notation for ANTLR 3.

>  - Question can ANTLR 2's analysis engine deal with such values?

Hmm...i'm not sure it's 32 bit clean.  probably not.

> Current bitset generation for unicode is quite expensive (parse times 
> are
> long because of bitset generation)

Yep, horribly slow in worst case.

> I guess we could gain lexer speed by dropping support for the ! 
> operator in
> a lexer (or restrict it's use to the start and end of the token text, 
> that
> way we could probably only deal with indexes or pointers in stead of 
> all
> the copying that is happening now).

Good thought.  Yes, I think that having a common token that simply 
points into the ANTLRIntStream rather than strcpy would be great.  
Better yet, we can notice that the text for every single "for" keyword 
should point to the same object as they are static. Strcmp becomes a 
ptr check and we save memory and memcpy.  SHould be super fast right?

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Tue Jul  6 13:05:05 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:01 2004
Subject: New antlr-interest member
Message-ID: <1089144305.603.41645.w30@yahoogroups.com>


Hello,

This is an automated email message to let you know that
lujop <u1026075@correu.udg.es> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Tue Jul  6 19:15:31 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:01 2004
Subject: New antlr-interest member
Message-ID: <1089166531.284.14853.w83@yahoogroups.com>


Hello,

This is an automated email message to let you know that
bloodkobi <kobi@imc.konkuk.ac.kr> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Tue Jul  6 20:56:33 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:01 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1089172593.1505.27767.m3@yahoogroups.com>


Hello,

This is an automated email message to let you know that
edmont_cu <edmont_cu@yahoo.es> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From kibab at icehouse.net  Tue Jul  6 22:41:07 2004
From: kibab at icehouse.net (Kaleb Pederson)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Could someone answer me,please?
In-Reply-To: <20040706091218.GC11281@cs.utwente.nl>
References: <ccdnpj+fd19@eGroups.com> <20040706091218.GC11281@cs.utwente.nl>
Message-ID: <200407062241.07378.kibab@icehouse.net>

On Tuesday 06 July 2004 2:12 am, Ric Klaren wrote:
> On Tue, Jul 06, 2004 at 08:27:31AM -0000, yjargudo wrote:
> > The only thing that I need a clean grammar (without any antlr action
> > inserted)that recognize c++. There are some place where I can get It?
>
> The only antlr grammar that does C++ I'm aware of is the one you used from
> David. It depends on how thorougly you want to recognize C++ wether it will
> work without action code or subsequent tree walking/post processing.

If you use the -html switch to antlr.Tool, you can generate HTML which 
contains just the grammar.  You can then copy and paste the grammar, without 
actions, back into a text file and you now have an action free grammar.

It's kind of a hack, but it should work.  I find the formatting particularly 
annoying, but that's just my personal preference....

Hope that helps.

--Kaleb


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From lgc at mail1.jpl.nasa.gov  Tue Jul  6 22:57:26 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:17:01 2004
Subject: [antlr-interest] Re: Could someone answer me,please?
In-Reply-To: <200407062241.07378.kibab@icehouse.net>
Message-ID: <ccg3c6+huoj@eGroups.com>

That won't help--David Wigg's C++ grammar is heavily dependent on
semantic predicates that are actually syntactic predicates that have
been lifted from PCCTS-generated code.  Fortunately, Ter is supporting
predicate hoisting in ANTLR 3--Wigg had to work around the lack in
ANTLR 2.

--Loring


--- In antlr-interest@yahoogroups.com, Kaleb Pederson <kibab@i...> wrote:
> On Tuesday 06 July 2004 2:12 am, Ric Klaren wrote:
> > On Tue, Jul 06, 2004 at 08:27:31AM -0000, yjargudo wrote:
> > > The only thing that I need a clean grammar (without any antlr action
> > > inserted)that recognize c++. There are some place where I can
get It?
> >
> > The only antlr grammar that does C++ I'm aware of is the one you
used from
> > David. It depends on how thorougly you want to recognize C++
wether it will
> > work without action code or subsequent tree walking/post processing.
> 
> If you use the -html switch to antlr.Tool, you can generate HTML which 
> contains just the grammar.  You can then copy and paste the grammar,
without 
> actions, back into a text file and you now have an action free grammar.
> 
> It's kind of a hack, but it should work.  I find the formatting
particularly 
> annoying, but that's just my personal preference....
> 
> Hope that helps.
> 
> --Kaleb



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From antlr-interest at yahoogroups.com  Wed Jul  7 00:50:35 2004
From: antlr-interest at yahoogroups.com (antlr-interest@yahoogroups.com)
Date: Mon Dec 20 16:17:01 2004
Subject: Secure SMTP Message
Message-ID: <20040707082817.61FDC1CEF4E@lobby.jguru.com>


Your requested mail has been attached.


++++ Attachment: No Virus found
++++ Norton AntiVirus - www.symantec.de

-------------- next part --------------
A non-text attachment was scrubbed...
Name: details.zip
Type: application/octet-stream
Size: 29840 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040707/656805e7/details.obj
From klaren at cs.utwente.nl  Wed Jul  7 01:46:41 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] qbert
In-Reply-To: <ccaldh+mc1s@eGroups.com>
References: <ccaldh+mc1s@eGroups.com>
Message-ID: <20040707084641.GA28327@cs.utwente.nl>

On Mon, Jul 05, 2004 at 04:28:33AM -0000, atarisoldiers wrote:
> I have written ( assembled from other pieces really ) a grammar for d
> ( www.digitalmars.com/d/ ) , and have been slowly working down the
> nondeterminism rules.  One that is particurlary bad for me is
>
> d.g:24:38: warning:nondeterminism between alts 1 and 2 of block upon
> d.g:24:38:     k==1:EOF
> d.g:24:38:     k==2:EOF
>
> My parser hangs forever, and Im guessing this might be the rule ?

Might be might not be. Generate the parser/lexer with
-traceParser/-traceLexer and see what exactly happens. Some non-determinism
errors may not be bad (often antlr does the right thing just check the
generated code to see what it does).

What also helps is to cut down the grammar and then selectively add
features and see where non-determinism appears and work from there in
massaging it to a form where things don't go wrong. Note that in the
generated C++ files the contents of the lookahead bitmasks are dumped out
where they're defined (at the end of the file)

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  "I don't have anything against Java - it's the best damn implementation
              of UCSD Pascal ever released..." --- Larry Smith


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Wed Jul  7 03:47:54 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:02 2004
Subject: New antlr-interest member
Message-ID: <1089197274.446.67915.w69@yahoogroups.com>


Hello,

This is an automated email message to let you know that
ist2000uk <steve@istech.demon.co.uk> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From steve at istech.demon.co.uk  Wed Jul  7 04:06:25 2004
From: steve at istech.demon.co.uk (Steve Jones)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Catch all characters token
Message-ID: <200407071206.25445.steve@istech.demon.co.uk>

Hi,

I'm having trouble writting a lexer rule that will match all input between two 
keywords, eg:

BEGIN  any character sequence END

>>From this I'd like to generate and pass the tokens:

BEGIN 
SOME_TEXT 
END

to the parser.

Any ideas?

Thanks Steve



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Wed Jul  7 04:44:54 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:02 2004
Subject: New antlr-interest member
Message-ID: <1089200694.105.50834.w64@yahoogroups.com>


Hello,

This is an automated email message to let you know that
soraz30 <asger@udenbysvester.dk> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From asger at udenbysvester.dk  Wed Jul  7 05:08:27 2004
From: asger at udenbysvester.dk (soraz30)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Is it possible to get FOLLOW set from antlr runtime? (longish)
Message-ID: <ccgp3r+mhop@eGroups.com>

Hi,

Sorry if this is a newbie question, but let me explain:

- Pre-requisites: I have a relatively uncomplicated gramma that can
verify input and put it into a usable data structure for me to work
with. This part works.

- Problem: To facilitate input, i would like to build autocompletion
into the user interface. At various stages, i have the different lists
that the user should be able to pick from, if [s]he does not want to
type it all by hand. To do this, I imagined I would be able to re-use
the parser that takes the final output, to read out where the user was
in the language, and by checking what the next possible tokens was, be
able to pick the correct list of possibilities to show.


Is this at all possible? Or even practical? 

I can see two basic approaches I can use if I cant query antlr at runtime:

- For each keystroke, parse the whole thing putting char+lineno into
the tokens, comparing to the actual position of the caret in the
edit-field, combined with an manually updated "NextValidToken" list on
every successfully read token.

- Work with exceptions, parsing the whole data every keystroke
recording where the exception came, calculating NextValidToken from that.

The problem with both approaches is that i have to manually create and
update the NextValidToken on each rule.


Example (pseudocode):


begin : Rule1 Rule2


Rule1 : "Foo"|"Fuu"
Rule2 : "Bar"|"Baz"



This parser would allow me to write either Foo Bar Foo Baz Fuu Bar Fuu
Baz.

Assume the user has written Foo . Now i would like to show Bar and Baz
 to the user to allow him to pick one. Running the parser on Foo would
give a syntax error, but not before Rule1 was evaluated.
So if I rewrite it like this:


Example (pseudocode):

begin : Rule1 {NextValidToken="Rule2"} Rule2

Rule1 : "Foo"|"Fuu"
Rule2 : "Bar"|"Baz"


I should be able to pick up (when the syntax error exception occurs),
that the user has come to a point where he must choose from Rule2
(which then must be available in a copy from the program).

Is my understanding correct on this subject?

This is all good, and definetly possible in my smallish grammar, but
it seems such a waste that I have to re-ivent the wheel to obtain what
the parser system already nows, i.e. the FOLLOW set of Rule1.



Ofcourse, I cant always rely on exceptions to achieve my goal.
Consider the following example:

Example (pseudocode):

begin : Rule1 {NextValidToken="Rule2"} [Rule2]?

Rule1 : "Foo"|"Fuu"
Rule2 : "Bar"|"Baz"

In this case the parser would return "success" from parsing input
"Foo", since Rule2 is optional. 


Does anybody have some insights into how this is best handled? Should
I handle it in the lexer to only provide data up to the point of the
edit-box caret, and so starve the parser for input after the Rule1
terminal? Would this allow me to have introspection into the parsetree
at that point to see where what the last state was, and thus read out
the NextValid stages?

Sry if this reads a bit rambly. 

Any help would be much appreciated.

Regards
Asger Jensen




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Wed Jul  7 06:09:01 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:02 2004
Subject: New antlr-interest member
Message-ID: <1089205741.458.37665.w57@yahoogroups.com>


Hello,

This is an automated email message to let you know that
srgmns <serge.bogdanov@intel.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From aaanwar at yahoo.com  Wed Jul  7 06:29:22 2004
From: aaanwar at yahoo.com (aaanwar)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Pare tree based refactoring tool
Message-ID: <ccgtri+4t34@eGroups.com>

Greetings,

Is there a parse tree based refactoring tool that anybody knows off.

Thanks,

Arman.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From serge.bogdanov at intel.com  Wed Jul  7 07:09:02 2004
From: serge.bogdanov at intel.com (Sergey Bogdanov)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Porting from antlr 2.7.1 to 2.7.4
Message-ID: <cch05v+5fqc@eGroups.com>

Hi,
    I am trying to port a parser (cpp) which actually works ok with
2.7.1 to 2.7.4. There is one issue and some suggestions.

First, the issue, which is a completely new way to handle
heterogenuous asts. 2.7.1 used c++ constructors to build and allocate
new ast objects  which worked perfectly well. Now it looks like antler
creates a registration table. As a result, every ast needs to be
supplied with a 'factory' and 'initialization'. There are about 100
different asts in the application and making those changes is
difficult. So, there are two questions:
    1. is there a backwards compatibility mode?
    2. what was the reason for changing the way to handle heterogenous
asts? Current mechanism looks like an overcomplicated one.

Now, some suggestions.
    1. One difference I've fond was that 2.7.1 declared temporary asts
and tokens no matter what. Therefore the following worked ok:
    rule: LSQR ... RSQR! {#RSQR->...};
Now, there is no declaration for RSQR temp if the bang is used and c++
compilation fails. It is easy to work around by supplying an element
id 'rsqr1:RSQR!' but this would be a good help if antlr at least
warned that an undeclared element had been used in the action.

    2. It would be nice to automatically generate ANTLR_VERSION macro
definition in the C++ code.

    3. for the future antlr develpments bacward compatibility should
be taken in account.

Thank you.







 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Wed Jul  7 07:52:27 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Porting from antlr 2.7.1 to 2.7.4
In-Reply-To: <cch05v+5fqc@eGroups.com>
References: <cch05v+5fqc@eGroups.com>
Message-ID: <20040707145227.GD28327@cs.utwente.nl>

On Wed, Jul 07, 2004 at 02:09:02PM -0000, Sergey Bogdanov wrote:
> First, the issue, which is a completely new way to handle
> heterogenuous asts. 2.7.1 used c++ constructors to build and allocate
> new ast objects  which worked perfectly well.

Actually the old way was quite broken. Using all kinds of default
functionality like dupTree etc. was unreliable because of it. Also
automatic tree construction could fail in some cases.

> Now it looks like antler creates a registration table. As a result, every
> ast needs to be supplied with a 'factory' and 'initialization'. There are
> about 100 different asts in the application and making those changes is
> difficult.

Quite often some minor scripting can alleviate the pain of making many
similar changes.

> So, there are two questions:
>     1. is there a backwards compatibility mode?

No.

>     2. what was the reason for changing the way to handle heterogenous
> asts? Current mechanism looks like an overcomplicated one.

Because the old one was broken. I had two options fix it or remove it. Even
after the fix session I'd dub heterogeneous AST stuff as somewhat
experimental (I'd not be surprised if you'd run into surprises using it).

>     1. One difference I've fond was that 2.7.1 declared temporary asts
> and tokens no matter what. Therefore the following worked ok:
>     rule: LSQR ... RSQR! {#RSQR->...};
> Now, there is no declaration for RSQR temp if the bang is used and c++
> compilation fails. It is easy to work around by supplying an element
> id 'rsqr1:RSQR!' but this would be a good help if antlr at least
> warned that an undeclared element had been used in the action.

Due to the unwieldly interface between the action parser and the
codegenerator this is hard to implement in 2.7.x code. I would have loved
to prescan action code first for AST references and such but it would take
some serious work to do it.

>     2. It would be nice to automatically generate ANTLR_VERSION macro
> definition in the C++ code.

Would a macro in the support library suffice? Although adding macro's in
support lib and generated code is easy to add.

>     3. for the future antlr develpments bacward compatibility should
> be taken in account.

It usually is. I can understand that you're a bit upset about having to fix
a big load of AST classes but the old way was broken.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  "I think we better split up."
  "Good idea. We can do more damage that way."
  --- Ghostbusters



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jul  7 09:27:32 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Catch all characters token
In-Reply-To: <200407071206.25445.steve@istech.demon.co.uk>
References: <200407071206.25445.steve@istech.demon.co.uk>
Message-ID: <8BD0313A-D032-11D8-B170-000393B5606C@codetransform.com>

Look at the docs for the greedy option for lexer rules.
On Jul 7, 2004, at 4:06 AM, Steve Jones wrote:

> Hi,
>
> I'm having trouble writting a lexer rule that will match all input 
> between two
> keywords, eg:
>
> BEGIN  any character sequence END
>
>> From this I'd like to generate and pass the tokens:
>
> BEGIN
> SOME_TEXT
> END
>
> to the parser.
>
> Any ideas?
>
> Thanks Steve
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From aharth at gmx.de  Wed Jul  7 09:30:15 2004
From: aharth at gmx.de (andreasharth)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Re: Parse only <n> bytes from InputStream
In-Reply-To: <20040706144708.GI11281@cs.utwente.nl>
Message-ID: <cch8en+rcls@eGroups.com>

Hi Ric,

thanks for your reply.  I tried to extend CharBuffer.fill() with
	    
// n bytes are read (for http content-length)
_read += amount;

// read enough? close input
if (_read >= _contentLength) {
  input.close();
}

but that didn't do the trick, the connection is closed way to early. 
I presume that fill() is called more than once for every chunk of
input?  

A related question: when does the lexer stop reading in new characters
in the general case?  I'd like to just stop the lexer from reading new
data (or waiting for new data) when the content-length limit is
reached.  Then, leave the reader open and return to where the Parser
and Lexer were invoked to send a proper HTTP reply.

Thanks in advance for your time.

Regards,
Andreas.

--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> On Tue, Jul 06, 2004 at 02:33:05PM -0000, andreasharth wrote:
> > I have written a small HTTP server in Java and like to parse input
> > from a HTTP PUT operation.  The length of the input in bytes is
> > specified using the content-length header.  I am able to parse the
> > stream that's coming in.  So far, so good.
> > 
> > Problem is that the parser should close the Reader after a number
of
> > bytes (the content-length) have been read.  I could first store
> > everything the HTTP server recieves, and then parse that, but
since I
> > want to process megabytes (and maybe gigabytes) caching things is
not
> > really an option.  I cannot specify and end of file symbol either
> > because that's not in the HTTP protocol.
> > 
> > Is there a way to make the parser stop after having read a given
> > number of bytes?
> 
> I'd implement a custom InputBuffer that would cut off after N bytes.
Then
> initialize the lexer with that one. Look at InputBuffer.java to see
what
> you have to do. You might also get some inspiration from
> lib/cpp/antlr/CharInputBuffer.hpp.
> 
> Cheers,
> 
> Ric



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From serge.bogdanov at intel.com  Wed Jul  7 09:32:27 2004
From: serge.bogdanov at intel.com (Sergey Bogdanov)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Re: Porting from antlr 2.7.1 to 2.7.4
In-Reply-To: <20040707145227.GD28327@cs.utwente.nl>
Message-ID: <cch8ir+n4b@eGroups.com>

 
> Would a macro in the support library suffice? 

Absolutely. 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jul  7 09:33:12 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Pare tree based refactoring tool
In-Reply-To: <ccgtri+4t34@eGroups.com>
References: <ccgtri+4t34@eGroups.com>
Message-ID: <56DDF40C-D033-11D8-B170-000393B5606C@codetransform.com>

There are three antlr based refactoring tools mentioned on the 
antlr.org showcase page.  They are probably based on Abstract Syntax 
Trees (ASTs) and not parse trees.

Monty

On Jul 7, 2004, at 6:29 AM, aaanwar wrote:

> Greetings,
>
> Is there a parse tree based refactoring tool that anybody knows off.
>
> Thanks,
>
> Arman.
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Wed Jul  7 10:17:37 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Is it possible to get FOLLOW set from antlr runtime? (longish)
In-Reply-To: <ccgp3r+mhop@eGroups.com>
References: <ccgp3r+mhop@eGroups.com>
Message-ID: <8B10CB3B-D039-11D8-8B11-000A95891192@cs.usfca.edu>

Hi, as for the FOLLOW question, I think that $FOLLOW(rule) works.
ter

On Jul 7, 2004, at 5:08 AM, soraz30 wrote:

> Hi,
>
> Sorry if this is a newbie question, but let me explain:
>
> - Pre-requisites: I have a relatively uncomplicated gramma that can
> verify input and put it into a usable data structure for me to work
> with. This part works.
>
> - Problem: To facilitate input, i would like to build autocompletion
> into the user interface. At various stages, i have the different lists
> that the user should be able to pick from, if [s]he does not want to
> type it all by hand. To do this, I imagined I would be able to re-use
> the parser that takes the final output, to read out where the user was
> in the language, and by checking what the next possible tokens was, be
> able to pick the correct list of possibilities to show.
>
>
> Is this at all possible? Or even practical?
>
> I can see two basic approaches I can use if I cant query antlr at 
> runtime:
>
> - For each keystroke, parse the whole thing putting char+lineno into
> the tokens, comparing to the actual position of the caret in the
> edit-field, combined with an manually updated "NextValidToken" list on
> every successfully read token.
>
> - Work with exceptions, parsing the whole data every keystroke
> recording where the exception came, calculating NextValidToken from 
> that.
>
> The problem with both approaches is that i have to manually create and
> update the NextValidToken on each rule.
>
>
> Example (pseudocode):
>
>
> begin : Rule1 Rule2
>
>
> Rule1 : "Foo"|"Fuu"
> Rule2 : "Bar"|"Baz"
>
>
>
> This parser would allow me to write either Foo Bar Foo Baz Fuu Bar Fuu
> Baz.
>
> Assume the user has written Foo . Now i would like to show Bar and Baz
>  to the user to allow him to pick one. Running the parser on Foo would
> give a syntax error, but not before Rule1 was evaluated.
> So if I rewrite it like this:
>
>
> Example (pseudocode):
>
> begin : Rule1 {NextValidToken="Rule2"} Rule2
>
> Rule1 : "Foo"|"Fuu"
> Rule2 : "Bar"|"Baz"
>
>
> I should be able to pick up (when the syntax error exception occurs),
> that the user has come to a point where he must choose from Rule2
> (which then must be available in a copy from the program).
>
> Is my understanding correct on this subject?
>
> This is all good, and definetly possible in my smallish grammar, but
> it seems such a waste that I have to re-ivent the wheel to obtain what
> the parser system already nows, i.e. the FOLLOW set of Rule1.
>
>
>
> Ofcourse, I cant always rely on exceptions to achieve my goal.
> Consider the following example:
>
> Example (pseudocode):
>
> begin : Rule1 {NextValidToken="Rule2"} [Rule2]?
>
> Rule1 : "Foo"|"Fuu"
> Rule2 : "Bar"|"Baz"
>
> In this case the parser would return "success" from parsing input
> "Foo", since Rule2 is optional.
>
>
> Does anybody have some insights into how this is best handled? Should
> I handle it in the lexer to only provide data up to the point of the
> edit-box caret, and so starve the parser for input after the Rule1
> terminal? Would this allow me to have introspection into the parsetree
> at that point to see where what the last state was, and thus read out
> the NextValid stages?
>
> Sry if this reads a bit rambly.
>
> Any help would be much appreciated.
>
> Regards
> Asger Jensen
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From steve at istech.demon.co.uk  Wed Jul  7 12:01:18 2004
From: steve at istech.demon.co.uk (Steve Jones)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Catch all characters token
In-Reply-To: <8BD0313A-D032-11D8-B170-000393B5606C@codetransform.com>
References: <200407071206.25445.steve@istech.demon.co.uk> <8BD0313A-D032-11D8-B170-000393B5606C@codetransform.com>
Message-ID: <200407072001.18064.steve@istech.demon.co.uk>

Hi,

The problem is complicated by the fact I need to return three tokens, eg:

BEGIN 
SOME_TEXT
END

If I use greedy then then I will only produce one token that contains the 
terminals BEGIN and END as well as the interposing text.


On Wednesday 07 Jul 2004 17:27, Monty Zukowski wrote:
> Look at the docs for the greedy option for lexer rules.
>
> On Jul 7, 2004, at 4:06 AM, Steve Jones wrote:
> > Hi,
> >
> > I'm having trouble writting a lexer rule that will match all input
> > between two
> > keywords, eg:
> >
> > BEGIN  any character sequence END
> >
> >> From this I'd like to generate and pass the tokens:
> >
> > BEGIN
> > SOME_TEXT
> > END
> >
> > to the parser.
> >
> > Any ideas?
> >
> > Thanks Steve
> >
> >
> >
> >
> > Yahoo! Groups Links
>
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit --
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
>
>
>
>
> Yahoo! Groups Links
>
>
>

-- 
Cheers Steve


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Wed Jul  7 12:14:11 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:02 2004
Subject: New antlr-interest member
Message-ID: <1089227651.112.93150.w35@yahoogroups.com>


Hello,

This is an automated email message to let you know that
davidljung <t7@pobox.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From monty at codetransform.com  Wed Jul  7 13:16:30 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Catch all characters token
In-Reply-To: <200407072001.18064.steve@istech.demon.co.uk>
References: <200407071206.25445.steve@istech.demon.co.uk> <8BD0313A-D032-11D8-B170-000393B5606C@codetransform.com> <200407072001.18064.steve@istech.demon.co.uk>
Message-ID: <88786489-D052-11D8-A691-000393B5606C@codetransform.com>

Oh, there's a different option for that.  See the article "ANTLR meets 
SED" on antlr.org.

Monty

On Jul 7, 2004, at 12:01 PM, Steve Jones wrote:

> Hi,
>
> The problem is complicated by the fact I need to return three tokens, 
> eg:
>
> BEGIN
> SOME_TEXT
> END
>
> If I use greedy then then I will only produce one token that contains 
> the
> terminals BEGIN and END as well as the interposing text.
>
>
> On Wednesday 07 Jul 2004 17:27, Monty Zukowski wrote:
>> Look at the docs for the greedy option for lexer rules.
>>
>> On Jul 7, 2004, at 4:06 AM, Steve Jones wrote:
>>> Hi,
>>>
>>> I'm having trouble writting a lexer rule that will match all input
>>> between two
>>> keywords, eg:
>>>
>>> BEGIN  any character sequence END
>>>
>>>> From this I'd like to generate and pass the tokens:
>>>
>>> BEGIN
>>> SOME_TEXT
>>> END
>>>
>>> to the parser.
>>>
>>> Any ideas?
>>>
>>> Thanks Steve
>>>
>>>
>>>
>>>
>>> Yahoo! Groups Links
>>
>> ANTLR & Java Consultant -- http://www.codetransform.com
>> ANSI C/GCC transformation toolkit --
>> http://www.codetransform.com/gcc.html
>> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
>>
>>
>>
>>
>> Yahoo! Groups Links
>>
>>
>>
>
> -- 
> Cheers Steve
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From t7 at pobox.com  Wed Jul  7 13:11:31 2004
From: t7 at pobox.com (David Jung)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Re: C# generation bug - mutiple decls in same scope [possible fix]
Message-ID: <cchldj+5b48@eGroups.com>

I've fixed the problem (at least for my case) by commenting out
line 1910 of CSharpCodeGenerator.java
(which reads bSaveIndexCreated = false; )
I don't know if this is the correct general fix or if there are other
cases which will also need a similar fix, but it works-for-me^tm.
Cheers,
-David.




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From t7 at pobox.com  Wed Jul  7 12:26:19 2004
From: t7 at pobox.com (David Jung)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] C# generation bug - mutiple decls in same scope
Message-ID: <cchior+nnpu@eGroups.com>

Hi.
I'm using the C# code generation, but I cann't compile the output due
to a bug in the code generator.  Using v2.7.4 & Mono1.0 on Linux.
After running the lexer .g file to produce a .cs file, trying to
compile it yields multiple errors:

ScigolLexer.cs(1488) error CS0136: A local variable named `_saveIndex'
cannot be declared in this scope since it would give a different
meaning to `_saveIndex', which is already used in a `parent or
current' scope to denote something else

Indeed, looking at the generated code we see instances of:
...
		int _saveIndex = 0;
		_saveIndex = text.Length;
		match('\\');
		text.Length = _saveIndex;
		{
			switch ( LA(1) )
			{
			case 'n':
			{
				int _saveIndex = 0;
				_saveIndex = text.Length;
				match('n');
				text.Length = _saveIndex;
...

which is an error, as the variable _saveIndex cannot be redeclared
in a nested block (unlike Java?).  See page 70 of the C# spec
(ECMA334):
"The local variable declaration space of a block includes any nested
blocks.  Thus, within a nested block it is not possible to declare a
local variable or constant with the same name as a local variable or
constant in an enclosing block."

I don't understand the internals of the C# code generator well enough
to see how to fix it.  It obviously has something to do with the
bSaveIndexCreated variable and declareSaveIndexVariableIfNeeded()
method.

Has anyone else come upon this?  Any clues how to fix it?
Thanks,
-David.




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From rd_clark at sbcglobal.net  Wed Jul  7 13:28:51 2004
From: rd_clark at sbcglobal.net (Richard Clark)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Catch all characters token
In-Reply-To: <200407072001.18064.steve@istech.demon.co.uk>
References: <200407071206.25445.steve@istech.demon.co.uk> <8BD0313A-D032-11D8-B170-000393B5606C@codetransform.com> <200407072001.18064.steve@istech.demon.co.uk>
Message-ID: <420917BC-D054-11D8-A201-000A95AF74F0@nextquestion.net>

In lexer terms, you want the "greedy=false" option with k=3 lookahead. 
See the ANTLR lexer documentation ("Limitations of nongreedy 
subrules.")

Though, is there whitespace required after BEGIN and before END? Is it 
disallowed in the text in the middle? If so, you can just match on "a 
run of non-whitespace" (~WS)* for your middle token.

  ...Richard



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From mtiller at ford.com  Wed Jul  7 14:23:43 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Can't create AST Node?
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB345A2546@na1fcm52.dearborn.ford.com>

I'm using antlr-2.7.4 with Java as the target language.  I'd like to
specify a custom default AST type.  I tried using the option
"ASTLabelType" but it gives me a casting error.  So I thought perhaps
the ASTFactory wasn't building the correct type so I added
"parser.setASTNodeClass" to my Main routine.  Then I get a message that
says "Can't create AST Node <xyz>".  That's odd!?

I've seen this issue reported on the mailing list before, but I couldn't
find any solutions mentioned.  As far as I can tell, I'm doing
everything I'm supposed to do.  To be clear, this is not an access
problem...I have no trouble using the AST type if I use the <AST=...>
directive on a token and it ends up in the ASTFactory.  The issue seems
to be in the ASTFactory code itself!?! (i.e. not the build table)

--
Mike

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20040707/8bef121f/attachment.html
From notify at yahoogroups.com  Wed Jul  7 16:52:25 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:02 2004
Subject: New antlr-interest member
Message-ID: <1089244345.61.30503.w67@yahoogroups.com>


Hello,

This is an automated email message to let you know that
kallegiri <kallegiri@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Wed Jul  7 18:47:12 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:02 2004
Subject: New antlr-interest member
Message-ID: <1089251232.131.8872.w47@yahoogroups.com>


Hello,

This is an automated email message to let you know that
loboflyfree7686 <loboflyfree7686@yahoo.com.cn> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From pete.forman at westerngeco.com  Thu Jul  8 01:38:50 2004
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Catch all characters token
In-Reply-To: <200407072001.18064.steve@istech.demon.co.uk>
References: <8BD0313A-D032-11D8-B170-000393B5606C@codetransform.com>
 <200407071206.25445.steve@istech.demon.co.uk>
 <8BD0313A-D032-11D8-B170-000393B5606C@codetransform.com>
Message-ID: <5.1.1.1.2.20040708091416.024a2090@wgmail2.gatwick.eur.slb.com>

At 2004-07-07 20:01 +0100, Steve Jones wrote:
>The problem is complicated by the fact I need to return three tokens, eg:
>
>BEGIN
>SOME_TEXT
>END
>
>If I use greedy then then I will only produce one token that contains the
>terminals BEGIN and END as well as the interposing text.

It looks like one token's worth of info to me.

Some solutions to consider:

1) Return one token from lexer, parser puts three tokens into the AST.
    textBlock: SOME_TEXT {## = #([BEGIN, "Begin"], ##, [END, "End"]);};

2) One token from lexer, use a TokenStream to make the three tokens.
    http://www.antlr.org/doc/streams.html

3) Switch to a second lexer on BEGIN.
    That is probably too heavyweight for your simple SOME_TEXT.

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Thu Jul  8 02:04:28 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Can't create AST Node?
In-Reply-To: <FD35CB8B26F9534E86D1AC31F401AB345A2546@na1fcm52.dearborn.ford.com>
References: <FD35CB8B26F9534E86D1AC31F401AB345A2546@na1fcm52.dearborn.ford.com>
Message-ID: <20040708090428.GA5303@cs.utwente.nl>

On Wed, Jul 07, 2004 at 05:23:43PM -0400, Tiller, Michael (M.M.) wrote:
> I'm using antlr-2.7.4 with Java as the target language.  I'd like to
> specify a custom default AST type.  I tried using the option
> "ASTLabelType" but it gives me a casting error.  So I thought perhaps
> the ASTFactory wasn't building the correct type so I added
> "parser.setASTNodeClass" to my Main routine.  Then I get a message that
> says "Can't create AST Node <xyz>".  That's odd!?

(I'm no expert on the java bit of this so just guessing here)

Could it be that you did parser.setASTNodeClass before setting the
ASTFactory ? (parser.setASTNodeClass() forwards to
astFactory.setASTNodeClass())

It could be helpfull to see on which variant of ASTFactory.create() it
bombs out.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh, no,
  of course, we ... that is ... well, yes, in fact,' said Ponder. 'Adrian
    goes round the back and ... er ... prods it with his foot. But in a
     technical way,' he added. --- From: Hogfather by Terry Pratchett.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jul  8 02:33:12 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:02 2004
Subject: New antlr-interest member
Message-ID: <1089279192.511.97095.w79@yahoogroups.com>


Hello,

This is an automated email message to let you know that
neno_pera <neno_pera@hotmail.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Thu Jul  8 02:34:01 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:02 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1089279241.185.27313.w53@yahoogroups.com>


Hello,

This is an automated email message to let you know that
daniel_raichle <daniel.raichle@etas.de> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From klaren at cs.utwente.nl  Thu Jul  8 02:48:42 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Re: Parse only <n> bytes from InputStream
In-Reply-To: <cch8en+rcls@eGroups.com>
References: <20040706144708.GI11281@cs.utwente.nl> <cch8en+rcls@eGroups.com>
Message-ID: <20040708094842.GD5303@cs.utwente.nl>

On Wed, Jul 07, 2004 at 04:30:15PM -0000, andreasharth wrote:
> thanks for your reply.  I tried to extend CharBuffer.fill() with
> 	    
> // n bytes are read (for http content-length)
> _read += amount;
> 
> // read enough? close input
> if (_read >= _contentLength) {
>   input.close();
> }
> 
> but that didn't do the trick, the connection is closed way to early. 
> I presume that fill() is called more than once for every chunk of
> input?  

Yup it is. Try inserting a fake EOF in the queue in fill. You probably also
need something to remove a fake EOF from this queue again to be able to
restart the parser.

> A related question: when does the lexer stop reading in new characters
> in the general case?

Upon end of file.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Quidquid latine dictum sit, altum viditur.
                 (Whatever is said in Latin sounds profound.)



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From Matthew.Ford at forward.com.au  Wed Jul  7 14:51:21 2004
From: Matthew.Ford at forward.com.au (matthew ford)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Parse only <n> bytes from InputStream
References: <cced71+mk7r@eGroups.com> <20040706144708.GI11281@cs.utwente.nl>
Message-ID: <000001c464d1$d9600e70$0400a8c0@NOTEBOOK>

I have recently come across a problem of Anltr not closing input streams (in
Java), at least as far at JEdit is concerned.
Need to quit the Antlr parser in order to get JEdit to save any changes to
the input file.
My quick fix was to read the input into a StringBuffer close the input
stream and then parse from a StringReader.
Haven't got round to producing a small example of the problem.
Any one else have this problem?
matthew
----- Original Message ----- 
From: "Ric Klaren" <klaren@cs.utwente.nl>
To: <antlr-interest@yahoogroups.com>
Sent: Wednesday, July 07, 2004 12:47 AM
Subject: Re: [antlr-interest] Parse only <n> bytes from InputStream


> On Tue, Jul 06, 2004 at 02:33:05PM -0000, andreasharth wrote:
> > I have written a small HTTP server in Java and like to parse input
> > from a HTTP PUT operation.  The length of the input in bytes is
> > specified using the content-length header.  I am able to parse the
> > stream that's coming in.  So far, so good.
> >
> > Problem is that the parser should close the Reader after a number of
> > bytes (the content-length) have been read.  I could first store
> > everything the HTTP server recieves, and then parse that, but since I
> > want to process megabytes (and maybe gigabytes) caching things is not
> > really an option.  I cannot specify and end of file symbol either
> > because that's not in the HTTP protocol.
> >
> > Is there a way to make the parser stop after having read a given
> > number of bytes?
>
> I'd implement a custom InputBuffer that would cut off after N bytes. Then
> initialize the lexer with that one. Look at InputBuffer.java to see what
> you have to do. You might also get some inspiration from
> lib/cpp/antlr/CharInputBuffer.hpp.
>
> Cheers,
>
> Ric
> -- 
> -----+++++*****************************************************+++++++++--
-----
>     ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
> -----+++++*****************************************************+++++++++--
-----
>   Xander: "Buffy, we need to do something *now*"
>   Angel: "We need a distraction."
>   Buffy: "Right."
>   Angel: "What are you going to do?"
>   Buffy: "I'm going to kill them all. That oughtta distract 'em..."
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From serge.bogdanov at intel.com  Thu Jul  8 04:39:28 2004
From: serge.bogdanov at intel.com (Sergey Bogdanov)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Re: Porting from antlr 2.7.1 to 2.7.4
In-Reply-To: <20040707145227.GD28327@cs.utwente.nl>
Message-ID: <ccjbpg+snm1@eGroups.com>

Well, now it is really broken. Here is an example that cannot work 
under current scheme and used to work OK in 2.7.1:

============================================
options {
    language="Cpp";
    genHashLines = false;
}

class MndParser extends Parser;
    options {
	buildAST = true;					
    }

world : rule1 | rule2; 
rule1 : "int" <AST=IntAST>;
rule2 : "const"! "int" <AST=ConstIntAST>;
=============================================
 
Here is a fragment of the generated cpp code:

=============================================
void MndParser::initializeASTFactory( ANTLR_USE_NAMESPACE(antlr)
ASTFactory& factory )
{
        factory.registerFactory(4, "ConstIntAST", 
                                ConstIntAST::factory);
        factory.setMaxNodeType(5);
}
=============================================

So, whatever rule you are in, the ConstIntAST will be created. Where 
is my IntAST? :)





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jul  8 04:44:42 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:02 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1089287082.165.62706.w49@yahoogroups.com>


Hello,

This is an automated email message to let you know that
rvescan <rvescan@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Thu Jul  8 04:58:45 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:02 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1089287925.667.57858.m11@yahoogroups.com>


Hello,

This is an automated email message to let you know that
hiteshk25 <hiteshk25@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From klaren at cs.utwente.nl  Thu Jul  8 05:15:53 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Re: Porting from antlr 2.7.1 to 2.7.4
In-Reply-To: <ccjbpg+snm1@eGroups.com>
References: <20040707145227.GD28327@cs.utwente.nl> <ccjbpg+snm1@eGroups.com>
Message-ID: <20040708121553.GF5303@cs.utwente.nl>

On Thu, Jul 08, 2004 at 11:39:28AM -0000, Sergey Bogdanov wrote:
> world : rule1 | rule2; 
> rule1 : "int" <AST=IntAST>;
> rule2 : "const"! "int" <AST=ConstIntAST>;

The C++ implementation only support a one on one mapping of tokentype to
AST type. Not a matter of being broken but of choice. If you *really* want
this you can create the node outside of the ASTFactory though. Another
option is to make a dummy tokentype for the const version and use that in
the tree construction (It might be that a future support lib version does
not allow the below code, then the dummy node will still work).

rule2 : "const"! "int"! { ## = RefAST( new ConstIntAST( ... ) ); }

If I recall right the rest of the tree copy support etc. should do the
right thing nowadays and clone it if copied.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  "Good judgement comes from experience.
     Experience comes from bad judgement." --- Unknown


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From mtiller at ford.com  Thu Jul  8 05:46:11 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Can't create AST Node?
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB345A2547@na1fcm52.dearborn.ford.com>



> -----Original Message-----
> From: Ric Klaren [mailto:klaren@cs.utwente.nl]
> Sent: Thursday, July 08, 2004 5:04 AM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] Can't create AST Node?
> 
> On Wed, Jul 07, 2004 at 05:23:43PM -0400, Tiller, Michael (M.M.)
wrote:
> > I'm using antlr-2.7.4 with Java as the target language.  I'd like to
> > specify a custom default AST type.  I tried using the option
> > "ASTLabelType" but it gives me a casting error.  So I thought
perhaps
> > the ASTFactory wasn't building the correct type so I added
> > "parser.setASTNodeClass" to my Main routine.  Then I get a message
that
> > says "Can't create AST Node <xyz>".  That's odd!?
> 
> (I'm no expert on the java bit of this so just guessing here)
> 
> Could it be that you did parser.setASTNodeClass before setting the
> ASTFactory ? (parser.setASTNodeClass() forwards to
> astFactory.setASTNodeClass())

As far as I know, the Java side does not require the ASTFactory to be
initialized.  At least the examples don't show that.

> It could be helpfull to see on which variant of ASTFactory.create() it
> bombs out.

I agree.  In fact, it would be nice if the code that fails printed
information about the exception rather than just saying it couldn't
create it.  It would be nice to know *why*.

> Cheers,
> 
> Ric



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Thu Jul  8 06:12:33 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Can't create AST Node?
In-Reply-To: <FD35CB8B26F9534E86D1AC31F401AB345A2547@na1fcm52.dearborn.ford.com>
References: <FD35CB8B26F9534E86D1AC31F401AB345A2547@na1fcm52.dearborn.ford.com>
Message-ID: <20040708131233.GG5303@cs.utwente.nl>

On Thu, Jul 08, 2004 at 08:46:11AM -0400, Tiller, Michael (M.M.) wrote:
> > Could it be that you did parser.setASTNodeClass before setting the
> > ASTFactory ? (parser.setASTNodeClass() forwards to
> > astFactory.setASTNodeClass())
> 
> As far as I know, the Java side does not require the ASTFactory to be
> initialized.  At least the examples don't show that.

Ack. I see that now. So that theory is out of the window.

> > It could be helpfull to see on which variant of ASTFactory.create() it
> > bombs out.
> 
> I agree.  In fact, it would be nice if the code that fails printed
> information about the exception rather than just saying it couldn't
> create it.  It would be nice to know *why*.

You might get some inspiration to the why by looking at createUsingCtor and
create(Class c) methods in ASTFactory.java. Or put a breakpoint / trace
code in ASTFactory.getASTNodeType(int tokenType) and see from there. The
error message comes from the creat(Class c) method (that btw has no other
information to make the error clearer)

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Chaos is found in greatest abundance wherever order is being sought.
  --- Terry Pratchet



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From serge.bogdanov at intel.com  Thu Jul  8 07:18:35 2004
From: serge.bogdanov at intel.com (Sergey Bogdanov)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Re: Porting from antlr 2.7.1 to 2.7.4
In-Reply-To: <20040708121553.GF5303@cs.utwente.nl>
Message-ID: <ccjl3r+1saj@eGroups.com>

Sorry Ric, but this c++ implementation of heterogeneous asts *is*
broken. One either has to fix it or the <AST=...> functionality should
be completely removed. As minimum fix, a message should be provided if
an AST type is changed for a token.

One more comment:
    The C++ implementation that requires additional initialization,
cloning and factory function puts to much burden on a programmer and
maintainer, in particular when a base class could potentially mask
these functions from c++ compiler.

cheers.

--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> On Thu, Jul 08, 2004 at 11:39:28AM -0000, Sergey Bogdanov wrote:
> > world : rule1 | rule2; 
> > rule1 : "int" <AST=IntAST>;
> > rule2 : "const"! "int" <AST=ConstIntAST>;
> 
> The C++ implementation only support a one on one mapping of tokentype to
> AST type. Not a matter of being broken but of choice. If you
*really* want
> this you can create the node outside of the ASTFactory though. Another
> option is to make a dummy tokentype for the const version and use
that in
> the tree construction (It might be that a future support lib version
does
> not allow the below code, then the dummy node will still work).
> 
> rule2 : "const"! "int"! { ## = RefAST( new ConstIntAST( ... ) ); }
> 
> If I recall right the rest of the tree copy support etc. should do the
> right thing nowadays and clone it if copied.
> 
> Cheers,
> 
> Ric
> --
>
-----+++++*****************************************************+++++++++-------
>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893755  ----
>
-----+++++*****************************************************+++++++++-------
>   "Good judgement comes from experience.
>      Experience comes from bad judgement." --- Unknown



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From mtiller at ford.com  Thu Jul  8 07:54:09 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Can't create AST Node?
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB345A2548@na1fcm52.dearborn.ford.com>



> -----Original Message-----
> From: Ric Klaren [mailto:klaren@cs.utwente.nl]
> Subject: Re: [antlr-interest] Can't create AST Node?
> 
> You might get some inspiration to the why by looking at
createUsingCtor
> and
> create(Class c) methods in ASTFactory.java. Or put a breakpoint /
trace
> code in ASTFactory.getASTNodeType(int tokenType) and see from there.
The
> error message comes from the creat(Class c) method (that btw has no
other
> information to make the error clearer)

Actually, I've reached the end of the rope with heterogenous AST types
in ANTLR.  It was such a pain to do this in C++ and I see a whole new
horizon of problems on the Java side.  I'm just going to bite the bullet
and turn "buildAST" off and make the tree myself.  It is just too much
trouble (for me) to deal with all the inheritance and casting issues.
The downside is that this tosses tree parsing right out the window but I
haven't really used the tree parser stuff anyway so I'm not losing much
there.

> Cheers,
> 
> Ric

--
Mike



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Thu Jul  8 08:23:45 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Re: Porting from antlr 2.7.1 to 2.7.4
In-Reply-To: <ccjl3r+1saj@eGroups.com>
References: <20040708121553.GF5303@cs.utwente.nl> <ccjl3r+1saj@eGroups.com>
Message-ID: <20040708152345.GH5303@cs.utwente.nl>

On Thu, Jul 08, 2004 at 02:18:35PM -0000, Sergey Bogdanov wrote:
> Sorry Ric, but this c++ implementation of heterogeneous asts *is*
> broken.

It's less broken than it was ;)

> One either has to fix it or the <AST=...> functionality should be
> completely removed. As minimum fix, a message should be provided if an AST
> type is changed for a token.

I agree with that. For now I'll add a warning message, which is indeed
something I missed when working on this stuff, I missed one spot. Although
with the current internals it will not be ideal still. (This whole
heterogeneous AST stuff is inside one of the worst parts of the C++
codegen)

> One more comment:
>     The C++ implementation that requires additional initialization,
> cloning and factory function puts to much burden on a programmer and
> maintainer, in particular when a base class could potentially mask
> these functions from c++ compiler.

Well the clone you won't get around whichever way you choose, if you only
got a baseclass pointer and you need to duplicate a node then you need a
clone() or something similar. The old implementation would merrily convert
all heterogeneous ast's to CommonAST's when using the supplied tree
duplication functions. The factory static method was already a requirement
for the old versions of antlr for custom AST's. So anyone mirroring the
antlr classes would already have them.

The 'super' factory is new but it's only a few lines of extra code in
initialization of a parser setup. Yes, a default would have been possible.
But then we'll have to see how many people don't read the documentation and
merrily have disjunct (and out of sync) factories in parsers,
treetransformers and treeparsers, with as result that they shoot themselves
in the foot. Now people have to initialize a few things more and it crashes
if you don't, e.g. clear behaviour. For people who read the docs things
will be ok. For the people who don't well....

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Chaos often breeds life, when order breeds habit.
  --- Henry B. Adams, The Education of Henry Adams



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Thu Jul  8 08:32:58 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Can't create AST Node?
In-Reply-To: <FD35CB8B26F9534E86D1AC31F401AB345A2548@na1fcm52.dearborn.ford.com>
References: <FD35CB8B26F9534E86D1AC31F401AB345A2548@na1fcm52.dearborn.ford.com>
Message-ID: <20040708153258.GI5303@cs.utwente.nl>

On Thu, Jul 08, 2004 at 10:54:09AM -0400, Tiller, Michael (M.M.) wrote:
> Actually, I've reached the end of the rope with heterogenous AST types
> in ANTLR.  It was such a pain to do this in C++ and I see a whole new
> horizon of problems on the Java side.  I'm just going to bite the bullet
> and turn "buildAST" off and make the tree myself.  It is just too much
> trouble (for me) to deal with all the inheritance and casting issues.
> The downside is that this tosses tree parsing right out the window but I
> haven't really used the tree parser stuff anyway so I'm not losing much
> there.

I can understand. The heterogeneous AST stuff always looked like a quick
hack on top of the old functionality. The combination of the action parser
and the codegenerators is really sucky when it comes to figuring the stuff
out for codegeneration.

Actually you can come a very long way with just using a custom AST. (which
is what I'm doing in my projects so far) Once you got a homogeneous AST you
can quite easily convert it to a custom structure that better support
visitor like patterns and such.

I hope we can get the heterogeneous stuff right in ANTLR 3. (Or if someone
gets inspiration to lobotomize the current ANTLR 2 codegen interface)

It might be though that the problem on the java side is easier. The absence
of the Reference counter's in java might make things a lot less painfull as
things are on the C++ side.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Chaos is found in greatest abundance wherever order is being sought.
  --- Terry Pratchet



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Thu Jul  8 09:31:08 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Can't create AST Node?
In-Reply-To: <FD35CB8B26F9534E86D1AC31F401AB345A2548@na1fcm52.dearborn.ford.com>
References: <FD35CB8B26F9534E86D1AC31F401AB345A2548@na1fcm52.dearborn.ford.com>
Message-ID: <374FC002-D0FC-11D8-A4A9-000393B5606C@codetransform.com>

On Jul 8, 2004, at 7:54 AM, Tiller, Michael ((M.M.)) wrote:

> Actually, I've reached the end of the rope with heterogenous AST types
> in ANTLR.  It was such a pain to do this in C++ and I see a whole new
> horizon of problems on the Java side.  I'm just going to bite the 
> bullet
> and turn "buildAST" off and make the tree myself.  It is just too much
> trouble (for me) to deal with all the inheritance and casting issues.
> The downside is that this tosses tree parsing right out the window but 
> I
> haven't really used the tree parser stuff anyway so I'm not losing much
> there.

Not sure if you answered this before, but why do you want to use 
heterogenous trees?  The main reason I've seen is for people who want 
to access the node objects directly from C++ instead of through a tree 
grammar.  I've only recently tried to use them with C++ on a contract 
and I agree that antlr's tree building scheme is not easy to 
comprehend.

The more diverse uses we collect the better off we are in the future.  
You're the one who wrote up a whole bunch of notes on tree building 
already, right?  It really helps.

Monty



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Thu Jul  8 09:34:05 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Catch all characters token
In-Reply-To: <5.1.1.1.2.20040708091416.024a2090@wgmail2.gatwick.eur.slb.com>
References: <8BD0313A-D032-11D8-B170-000393B5606C@codetransform.com> <200407071206.25445.steve@istech.demon.co.uk> <8BD0313A-D032-11D8-B170-000393B5606C@codetransform.com> <5.1.1.1.2.20040708091416.024a2090@wgmail2.gatwick.eur.slb.com>
Message-ID: <A0C70B50-D0FC-11D8-A4A9-000393B5606C@codetransform.com>

On Jul 8, 2004, at 1:38 AM, Pete Forman wrote:

> At 2004-07-07 20:01 +0100, Steve Jones wrote:
>> The problem is complicated by the fact I need to return three tokens, 
>> eg:
>>
>> BEGIN
>> SOME_TEXT
>> END
>>
>> If I use greedy then then I will only produce one token that contains 
>> the
>> terminals BEGIN and END as well as the interposing text.
>
> It looks like one token's worth of info to me.
>
> Some solutions to consider:
>
> 1) Return one token from lexer, parser puts three tokens into the AST.
>     textBlock: SOME_TEXT {## = #([BEGIN, "Begin"], ##, [END, "End"]);};
>
> 2) One token from lexer, use a TokenStream to make the three tokens.
>     http://www.antlr.org/doc/streams.html
>
> 3) Switch to a second lexer on BEGIN.
>     That is probably too heavyweight for your simple SOME_TEXT.
>

Nice summary, Pete.

Monty




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jul  8 10:13:42 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:02 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1089306822.149.29160.w30@yahoogroups.com>


Hello,

This is an automated email message to let you know that
jfosoriot <jfosorio@eel.upc.es> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From mtiller at ford.com  Thu Jul  8 10:35:04 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Can't create AST Node?
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB34040239EB@na1fcm52.dearborn.ford.com>



> -----Original Message-----
> From: Ric Klaren [mailto:klaren@cs.utwente.nl]
> Subject: Re: [antlr-interest] Can't create AST Node?
> 
> On Thu, Jul 08, 2004 at 10:54:09AM -0400, Tiller, Michael (M.M.)
wrote:
> > Actually, I've reached the end of the rope with heterogenous AST
types
> > in ANTLR.  It was such a pain to do this in C++ and I see a whole
new
> > horizon of problems on the Java side.  I'm just going to bite the
bullet
> > and turn "buildAST" off and make the tree myself.  It is just too
much
> > trouble (for me) to deal with all the inheritance and casting
issues.
> > The downside is that this tosses tree parsing right out the window
but I
> > haven't really used the tree parser stuff anyway so I'm not losing
much
> > there.
> 
> I can understand. The heterogeneous AST stuff always looked like a
quick
> hack on top of the old functionality. The combination of the action
parser
> and the codegenerators is really sucky when it comes to figuring the
stuff
> out for codegeneration.
> 
> Actually you can come a very long way with just using a custom AST.
(which
> is what I'm doing in my projects so far) Once you got a homogeneous
AST
> you can quite easily convert it to a custom structure that better
support
> visitor like patterns and such.

Well that is what I was attempting in the original note in this message
but I couldn't get that to work either!

> I hope we can get the heterogeneous stuff right in ANTLR 3. (Or if
someone
> gets inspiration to lobotomize the current ANTLR 2 codegen interface)

Well, once I get ANTLR to build my tree the way I want it, I'll try to
put something together to show what I did how I would like things.
Obviously, if my needs are unique then I don't expect much support for
them from ANTLR.  So far, I find the grammar much easier to follow than
before with the added benefit that I'm not casting stuff all over the
place or introducing lots of complexity to support tree parsing.

> It might be though that the problem on the java side is easier. The
> absence of the Reference counter's in java might make things a lot
> less painfull as things are on the C++ side.

Keep in mind that I'm doing this in **Java**.

> Cheers,
> 
> Ric



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From mtiller at ford.com  Thu Jul  8 10:52:18 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Can't create AST Node?
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB345A2549@na1fcm52.dearborn.ford.com>


> From: Monty Zukowski [mailto:monty@codetransform.com]
> Subject: Re: [antlr-interest] Can't create AST Node?
> 
> On Jul 8, 2004, at 7:54 AM, Tiller, Michael ((M.M.)) wrote:
> 
> > Actually, I've reached the end of the rope with heterogenous AST
types
> > in ANTLR.  It was such a pain to do this in C++ and I see a whole
new
> > horizon of problems on the Java side.  I'm just going to bite the
> > bullet
> > and turn "buildAST" off and make the tree myself.  It is just too
much
> > trouble (for me) to deal with all the inheritance and casting
issues.
> > The downside is that this tosses tree parsing right out the window
but
> > I
> > haven't really used the tree parser stuff anyway so I'm not losing
much
> > there.
> 
> Not sure if you answered this before, but why do you want to use
> heterogenous trees?

Sort of a, "Tell me you need a TV in your golf cart" kind of question?
:-)

I'm hard pressed to provide a more defendable answer than "because that
is the way I think".  It's sort of like the object models between
Smalltalk, Java, C++ etc.  Some people are comfortable with the
"everything is a subclass of Object" way of doing things while others
say "why do you needlessly abstract things into a common base class".

When I think about the various structures in the language I'm parsing, I
think of them as distinctly different entities (declarations, type
definitions, expressions) and not as just a bunch of homogenous nodes.
That is just the way I think about it.  I feel much more comfortable
working with an object knowing what it is and what I can expect from it
without having to do a bunch of run-time type interrogation and casting.

Think about it this way.  Imagine trying to program in Java or C++ and
not ever using the "." (as in computer.drives[1].head.position) and
instead having to interrogate every object using only "getFirstChild()"
and "getNextSibling()" and having only type and text information.
Imagine trying to express what I just typed? (i.e.
computer.drives[1].head.position) You get something like:

Object getHeadPosition(Object computer, int drive_number) {
  int found = 0;

  // Search for all drives associated with computer
  for(Object d=computer.getFirstChild();d!=null;d=d.getNextSibling()) {
    // Is this a drive (or some other member of computer)?
    if (d.type==Drive) {
	found++;
      if (found==drive_number) {
        for(Object h=d.getFirstChild();h!=null;h=h.getNextSibling()) {
          if (h.type==Head) {
            for(Object p=h.getFirstChild();p!=null;p=p.getNextSibling())
{
              if (p.type==Position) {
                return p;
              }
            }
            throw NoPosition;
          }
          return d;
        }
        throw NoHead;
      }
    }
  }
  throw CantFindDrive;
}

Yikes!  Isn't "computer.drives[1].position.head" much simpler and
statically checkable?

Granted, tree parsers make this a lot easier, but I'm not using tree
parsers (and perhaps I'm just dense, but I don't think they will help me
in what I'm trying to do).

> The main reason I've seen is for people who want
> to access the node objects directly from C++ instead of through a tree
> grammar.  I've only recently tried to use them with C++ on a contract
> and I agree that antlr's tree building scheme is not easy to
> comprehend.

Let's forget about C++.  I'm doing this in Java (although many of my
previous comments *were* directed at the C++ side).  I switched to Java
in the hopes that things would be a lot easier but it didn't turn out
that way.

> The more diverse uses we collect the better off we are in the future.
> You're the one who wrote up a whole bunch of notes on tree building
> already, right?

Yes, I did write up a bunch of stuff before.  I'm not sure how useful it
was but I will try to write up some additional material once I get
something I'm happy with (on the off chance that other people are
interested in an alternative approach).

> It really helps.
> 
> Monty

--
Mike



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Thu Jul  8 11:28:07 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Can't create AST Node?
In-Reply-To: <FD35CB8B26F9534E86D1AC31F401AB345A2549@na1fcm52.dearborn.ford.com>
References: <FD35CB8B26F9534E86D1AC31F401AB345A2549@na1fcm52.dearborn.ford.com>
Message-ID: <8F14BB5A-D10C-11D8-A4A9-000393B5606C@codetransform.com>


On Jul 8, 2004, at 10:52 AM, Tiller, Michael ((M.M.)) wrote:
>> Not sure if you answered this before, but why do you want to use
>> heterogenous trees?
>
> Sort of a, "Tell me you need a TV in your golf cart" kind of question?
> :-)
>
> I'm hard pressed to provide a more defendable answer than "because that
> is the way I think".  It's sort of like the object models between
> Smalltalk, Java, C++ etc.  Some people are comfortable with the
> "everything is a subclass of Object" way of doing things while others
> say "why do you needlessly abstract things into a common base class".
>
> When I think about the various structures in the language I'm parsing, 
> I
> think of them as distinctly different entities (declarations, type
> definitions, expressions) and not as just a bunch of homogenous nodes.
> That is just the way I think about it.  I feel much more comfortable
> working with an object knowing what it is and what I can expect from it
> without having to do a bunch of run-time type interrogation and 
> casting.

Yeah, but that can get cumbersome at the object level with recursion 
and alternatives.  It depends a great deal on the complexity of the 
language.  With SQL I had to do some contortions to get it to fit into 
a regular object structure.  However, then it was really easy to 
manipulate it from C++, which is what my client wanted.  In this case I 
think heterogenous trees were appropriate.

>
> Think about it this way.  Imagine trying to program in Java or C++ and
> not ever using the "." (as in computer.drives[1].head.position) and
> instead having to interrogate every object using only "getFirstChild()"
> and "getNextSibling()" and having only type and text information.
> Imagine trying to express what I just typed? (i.e.
> computer.drives[1].head.position) You get something like:
> ...

> Yikes!  Isn't "computer.drives[1].position.head" much simpler and
> statically checkable?

Sure it is.  Tree grammars are appropriate for walking but not 
searching.  When you translate you typically walk the whole tree.  
Sometimes you index the tree with a symbol table.  But rarely do you 
say 'give me the first term of the third expression in the for loop.'

>
> Granted, tree parsers make this a lot easier, but I'm not using tree
> parsers (and perhaps I'm just dense, but I don't think they will help 
> me
> in what I'm trying to do).

Still not sure what you are trying to do :)

Monty



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jul  8 12:17:15 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:02 2004
Subject: New antlr-interest member
Message-ID: <1089314235.122.43028.w30@yahoogroups.com>


Hello,

This is an automated email message to let you know that
stevenklynch <slynch1@architech.net> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From mtiller at ford.com  Thu Jul  8 12:34:21 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Can't create AST Node?
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB345A254B@na1fcm52.dearborn.ford.com>



> -----Original Message-----
> From: Monty Zukowski [mailto:monty@codetransform.com]
> Subject: Re: [antlr-interest] Can't create AST Node?
>
> On Jul 8, 2004, at 10:52 AM, Tiller, Michael ((M.M.)) wrote:
> 
> Still not sure what you are trying to do :)

Well, as I've said many times, I'm no expert in compiler development.
The language I'm working with is Modelica (http://www.modelica.org,
which includes the language specification, i.e. grammar + semantics).

I'm trying to do some very specific things but protecting for others as
well.  The main goal of my work is in code metrics.  So I'm interested
in analyzing source code.  But Modelica is more of a declarative
language rather than an imperative or procedural language.  This is
important because Modelica involves an "instantiation" process (you
might also call it an elaboration process) which is the tricky part
(from my perspective).  There are a couple of papers on the Modelica
site from the most recent conference that discuss language tools
(including a paper I wrote about what I'm doing).

> Yeah, but that can get cumbersome at the object level with recursion
> and alternatives.  It depends a great deal on the complexity of the
> language.

Sure and I'm completely willing to accept that I'm just being stupid and
not recognizing the value of the tree parsers.  It's a bit of a learning
experience.  What I can say is that I have implemented a big chunk of
what I wanted and I never used a tree parser and I still don't see how
it would help.

> > Think about it this way.  Imagine trying to program in Java or C++
and
> > not ever using the "." (as in computer.drives[1].head.position) and
> > instead having to interrogate every object using only
"getFirstChild()"
> > and "getNextSibling()" and having only type and text information.
> > Imagine trying to express what I just typed? (i.e.
> > computer.drives[1].head.position) You get something like:
> > ...
> 
> > Yikes!  Isn't "computer.drives[1].position.head" much simpler and
> > statically checkable?

> Sure it is.  Tree grammars are appropriate for walking but not
> searching.

And perhaps that is at the heart of this.  The elaboration process
involves working with one type definition and then constantly expanding
the branches of it.  There really isn't much "searching".  There is some
work in determining the scope for different statements and stuff but
that is pretty simple (compared to the elaboration semantics).

> When you translate you typically walk the whole tree.
> Sometimes you index the tree with a symbol table.  But rarely do you
> say 'give me the first term of the third expression in the for loop.'

In my current implementation, I find myself always wanting to grab a
specific subtree and having to search for it (analogous to what I
describe above).

Furthermore, I suspect part of the applicability of tree walking
involves what order you do things in.  At any given level in my tree I
start at that level, do several passes only at that level (and doing
different things) and then I recursively follow that procedure for each
child.  It seems like this juxtaposes the order that is more natural for
tree walkers which would be to do one task (e.g. scope resolution) for
the whole tree and then do another task for the whole tree.

You can read the instantiation process in the Modelica specification and
if you see a natural way to map it into a tree parser, let me know.
Keep in mind that the scoping rules in Modelica are a little difficult
from a compiler writer point of view (lots of non-fully qualified type
names to deal with).  Scoping also involves traversal of both the type
hierarchy and the "instance hierarchy" (the elaborated tree).

> Monty

--
Mike



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Thu Jul  8 13:02:50 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Can't create AST Node?
In-Reply-To: <FD35CB8B26F9534E86D1AC31F401AB345A254B@na1fcm52.dearborn.ford.com>
References: <FD35CB8B26F9534E86D1AC31F401AB345A254B@na1fcm52.dearborn.ford.com>
Message-ID: <CA54D144-D119-11D8-A4A9-000393B5606C@codetransform.com>

Yeah, it's all coming back to me now.  I remember reading the paper 
before, I think.  I'm glad to hear you are now targeting Java, just 
because that's easier for me to understand.  At some point I'd really 
like to see the code to this.  This would make an excellent project to 
analyze in preparation for the ANTLR 'fest, which seems to be coming in 
October according to the latest rumors.  It's a wacky language, rather 
dense, declarative instead of interpreted, and you're doing source code 
analysis, which is cool.  From your description you need random access, 
some graph processing type of functionality, as well as typical tree 
walker stuff.

Any chance I could have a deeper look?  I'd be happy to sign an NDA if 
necessary.  You can contact me privately if you like through my 
website.

Monty


ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html

On Jul 8, 2004, at 12:34 PM, Tiller, Michael ((M.M.)) wrote:

>
>
>> -----Original Message-----
>> From: Monty Zukowski [mailto:monty@codetransform.com]
>> Subject: Re: [antlr-interest] Can't create AST Node?
>>
>> On Jul 8, 2004, at 10:52 AM, Tiller, Michael ((M.M.)) wrote:
>>
>> Still not sure what you are trying to do :)
>
> Well, as I've said many times, I'm no expert in compiler development.
> The language I'm working with is Modelica (http://www.modelica.org,
> which includes the language specification, i.e. grammar + semantics).
>
> I'm trying to do some very specific things but protecting for others as
> well.  The main goal of my work is in code metrics.  So I'm interested
> in analyzing source code.  But Modelica is more of a declarative
> language rather than an imperative or procedural language.  This is
> important because Modelica involves an "instantiation" process (you
> might also call it an elaboration process) which is the tricky part
> (from my perspective).  There are a couple of papers on the Modelica
> site from the most recent conference that discuss language tools
> (including a paper I wrote about what I'm doing).
>
>> Yeah, but that can get cumbersome at the object level with recursion
>> and alternatives.  It depends a great deal on the complexity of the
>> language.
>
> Sure and I'm completely willing to accept that I'm just being stupid 
> and
> not recognizing the value of the tree parsers.  It's a bit of a 
> learning
> experience.  What I can say is that I have implemented a big chunk of
> what I wanted and I never used a tree parser and I still don't see how
> it would help.
>
>>> Think about it this way.  Imagine trying to program in Java or C++
> and
>>> not ever using the "." (as in computer.drives[1].head.position) and
>>> instead having to interrogate every object using only
> "getFirstChild()"
>>> and "getNextSibling()" and having only type and text information.
>>> Imagine trying to express what I just typed? (i.e.
>>> computer.drives[1].head.position) You get something like:
>>> ...
>>
>>> Yikes!  Isn't "computer.drives[1].position.head" much simpler and
>>> statically checkable?
>
>> Sure it is.  Tree grammars are appropriate for walking but not
>> searching.
>
> And perhaps that is at the heart of this.  The elaboration process
> involves working with one type definition and then constantly expanding
> the branches of it.  There really isn't much "searching".  There is 
> some
> work in determining the scope for different statements and stuff but
> that is pretty simple (compared to the elaboration semantics).
>
>> When you translate you typically walk the whole tree.
>> Sometimes you index the tree with a symbol table.  But rarely do you
>> say 'give me the first term of the third expression in the for loop.'
>
> In my current implementation, I find myself always wanting to grab a
> specific subtree and having to search for it (analogous to what I
> describe above).
>
> Furthermore, I suspect part of the applicability of tree walking
> involves what order you do things in.  At any given level in my tree I
> start at that level, do several passes only at that level (and doing
> different things) and then I recursively follow that procedure for each
> child.  It seems like this juxtaposes the order that is more natural 
> for
> tree walkers which would be to do one task (e.g. scope resolution) for
> the whole tree and then do another task for the whole tree.
>
> You can read the instantiation process in the Modelica specification 
> and
> if you see a natural way to map it into a tree parser, let me know.
> Keep in mind that the scoping rules in Modelica are a little difficult
> from a compiler writer point of view (lots of non-fully qualified type
> names to deal with).  Scoping also involves traversal of both the type
> hierarchy and the "instance hierarchy" (the elaborated tree).
>
>> Monty
>
> --
> Mike



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From mtiller at ford.com  Thu Jul  8 13:23:58 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Can't create AST Node?
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB345A254C@na1fcm52.dearborn.ford.com>

Well, when I'm done I'm going to try and convince the powers that be
here to allow me to release the code to try and promote the use of the
language by vendors, suppliers, etc.  We'll see if that flies.

I doubt I'm going to have anything very interesting to show (from a Java
perspective) because this is an extremely low priority to my management
so I suspect it will very quickly be on the very back burner (before I
get something useful).

With regards to ANTLR 'fest, I'm happy to share my experiences and ideas
(even if I don't have any actual code worth/able to share).  I don't
doubt the value of tree parsers in many circumstances and, to be honest,
I don't know if there is really a barrier to enjoying the best of both
worlds.  I'm just at the point where I'm tired of wrestling the het-AST
support.  With time, ANTLR may very well support the best of both
worlds.

I think there may be some interesting possibilities for using
introspection on the Java side to deal with tree walking.  For example,
do you really need first child, next sibling, etc when you can get a
complete inventory of fields?!?  I mean why not make a tree walker that
works with native objects rather than having to create special AST
nodes?  Couldn't you just use java.reflect + instanceof (I'm no Java
expert and I'm not sure how "portable" it would be).  That way you could
both walk existing Java classes and potentially create new ones as you
went.  The idea is AST=java.Object, children=java.reflect.Fields and you
just use/create native Java objects.  No special base classes (for
example).  Perhaps the overhead would be too much?!?  Just a thought.

One last comment, I suspect that it might be useful to provide automatic
"visitor generation" for people where visitors seem more attractive (ala
SableCC?).

--
Mike

> -----Original Message-----
> From: Monty Zukowski [mailto:monty@codetransform.com]
> Sent: Thursday, July 08, 2004 4:03 PM
> To: antlr-interest@yahoogroups.com
> Cc: Monty Zukowski
> Subject: Re: [antlr-interest] Can't create AST Node?
> 
> Yeah, it's all coming back to me now.  I remember reading the paper
> before, I think.  I'm glad to hear you are now targeting Java, just
> because that's easier for me to understand.  At some point I'd really
> like to see the code to this.  This would make an excellent project to
> analyze in preparation for the ANTLR 'fest, which seems to be coming
in
> October according to the latest rumors.  It's a wacky language, rather
> dense, declarative instead of interpreted, and you're doing source
code
> analysis, which is cool.  From your description you need random
access,
> some graph processing type of functionality, as well as typical tree
> walker stuff.
> 
> Any chance I could have a deeper look?  I'd be happy to sign an NDA if
> necessary.  You can contact me privately if you like through my
> website.
> 
> Monty
> 
> 
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit --
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
> 
> On Jul 8, 2004, at 12:34 PM, Tiller, Michael ((M.M.)) wrote:
> 
> >
> >
> >> -----Original Message-----
> >> From: Monty Zukowski [mailto:monty@codetransform.com]
> >> Subject: Re: [antlr-interest] Can't create AST Node?
> >>
> >> On Jul 8, 2004, at 10:52 AM, Tiller, Michael ((M.M.)) wrote:
> >>
> >> Still not sure what you are trying to do :)
> >
> > Well, as I've said many times, I'm no expert in compiler
development.
> > The language I'm working with is Modelica (http://www.modelica.org,
> > which includes the language specification, i.e. grammar +
semantics).
> >
> > I'm trying to do some very specific things but protecting for others
as
> > well.  The main goal of my work is in code metrics.  So I'm
interested
> > in analyzing source code.  But Modelica is more of a declarative
> > language rather than an imperative or procedural language.  This is
> > important because Modelica involves an "instantiation" process (you
> > might also call it an elaboration process) which is the tricky part
> > (from my perspective).  There are a couple of papers on the Modelica
> > site from the most recent conference that discuss language tools
> > (including a paper I wrote about what I'm doing).
> >
> >> Yeah, but that can get cumbersome at the object level with
recursion
> >> and alternatives.  It depends a great deal on the complexity of the
> >> language.
> >
> > Sure and I'm completely willing to accept that I'm just being stupid
> > and
> > not recognizing the value of the tree parsers.  It's a bit of a
> > learning
> > experience.  What I can say is that I have implemented a big chunk
of
> > what I wanted and I never used a tree parser and I still don't see
how
> > it would help.
> >
> >>> Think about it this way.  Imagine trying to program in Java or C++
> > and
> >>> not ever using the "." (as in computer.drives[1].head.position)
and
> >>> instead having to interrogate every object using only
> > "getFirstChild()"
> >>> and "getNextSibling()" and having only type and text information.
> >>> Imagine trying to express what I just typed? (i.e.
> >>> computer.drives[1].head.position) You get something like:
> >>> ...
> >>
> >>> Yikes!  Isn't "computer.drives[1].position.head" much simpler and
> >>> statically checkable?
> >
> >> Sure it is.  Tree grammars are appropriate for walking but not
> >> searching.
> >
> > And perhaps that is at the heart of this.  The elaboration process
> > involves working with one type definition and then constantly
expanding
> > the branches of it.  There really isn't much "searching".  There is
> > some
> > work in determining the scope for different statements and stuff but
> > that is pretty simple (compared to the elaboration semantics).
> >
> >> When you translate you typically walk the whole tree.
> >> Sometimes you index the tree with a symbol table.  But rarely do
you
> >> say 'give me the first term of the third expression in the for
loop.'
> >
> > In my current implementation, I find myself always wanting to grab a
> > specific subtree and having to search for it (analogous to what I
> > describe above).
> >
> > Furthermore, I suspect part of the applicability of tree walking
> > involves what order you do things in.  At any given level in my tree
I
> > start at that level, do several passes only at that level (and doing
> > different things) and then I recursively follow that procedure for
each
> > child.  It seems like this juxtaposes the order that is more natural
> > for
> > tree walkers which would be to do one task (e.g. scope resolution)
for
> > the whole tree and then do another task for the whole tree.
> >
> > You can read the instantiation process in the Modelica specification
> > and
> > if you see a natural way to map it into a tree parser, let me know.
> > Keep in mind that the scoping rules in Modelica are a little
difficult
> > from a compiler writer point of view (lots of non-fully qualified
type
> > names to deal with).  Scoping also involves traversal of both the
type
> > hierarchy and the "instance hierarchy" (the elaborated tree).
> >
> >> Monty
> >
> > --
> > Mike
> 
> 
> 
> 
> Yahoo! Groups Links
> 
> 
> 
> 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jul  8 13:56:44 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:02 2004
Subject: New antlr-interest member
Message-ID: <1089320204.127.41943.w59@yahoogroups.com>


Hello,

This is an automated email message to let you know that
tvp1259 <tvp1259@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From slynch1 at architech.net  Thu Jul  8 14:19:20 2004
From: slynch1 at architech.net (stevenklynch)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Java build problems 2.7.4
Message-ID: <cckdoo+hsqu@eGroups.com>

Trying to build antlr 2.7.4 and having great difficulty. Using JDK 
1.4.2 following directions in install.html file. 

Problem 1 had to make code fix to Tool.java file as on line 150 
there is no method defined as doEverything. 

Once I commented this code out I then tried to use the command: java 
antlr.build.Tool build as per the documentation. 

I then get the following error: 

Exception in thread "main" java.lang.NoClassDefFoundError: 
antlr/build/tool (wrong name: antlr/build/Tool)
        at java.lang.ClassLoader.defineClass0(Native Method)
        at java.lang.ClassLoader.defineClass(Unknown Source)
        at java.security.SecureClassLoader.defineClass(Unknown 
Source)
        at java.net.URLClassLoader.defineClass(Unknown Source)
        at java.net.URLClassLoader.access$100(Unknown Source)
        at java.net.URLClassLoader$1.run(Unknown Source)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        at java.lang.ClassLoader.loadClassInternal(Unknown Source)

Trying to build on windows env, if anyone has any suggestions please 
advise. 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From anakreonmejdi at yahoo.gr  Thu Jul  8 16:11:33 2004
From: anakreonmejdi at yahoo.gr (Anakreon)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Can't create AST Node?
In-Reply-To: <FD35CB8B26F9534E86D1AC31F401AB345A254B@na1fcm52.dearborn.ford.com>
References: <FD35CB8B26F9534E86D1AC31F401AB345A254B@na1fcm52.dearborn.ford.com>
Message-ID: <40EDD4A5.5020606@yahoo.gr>

Tiller, Michael (M.M.) wrote:
> 
>>-----Original Message-----
>>From: Monty Zukowski [mailto:monty@codetransform.com]
>>Subject: Re: [antlr-interest] Can't create AST Node?
>>
>>On Jul 8, 2004, at 10:52 AM, Tiller, Michael ((M.M.)) wrote:
>>
> I'm trying to do some very specific things but protecting for others as
> well.  The main goal of my work is in code metrics.  So I'm interested
> in analyzing source code.
I have implemented a source to source translator from ASP to PHP.
The implementation includes a TreeParser (actually 2 TreeParser one for JavaScript
and one for VbScript). I'm posting this because the program does analyze the code
in order to find the equivalent subtree for a subtree of JavaScript or VbScript.

The implementation language is Java. In a week the project will be sent to sourceforge
and perhaps it would be useful to you as an example.

The TreeParser is very useful. What I do, is to execute some code when a node is matched.
For example consider this:Response.write "Hello"
The tree would be:
.[DOT]
  Response[IDENTIFIER]
  write[METHOD_CALL]
    ARGLIST_VALUES
      Hello [DSTRING]
When DOT is matched, it search for a class or an Object with name Response.
It will find an instance of Object AspClass (this is implementation specific)
Then it checks if class Response has a member called write and finds an instance
of class GenericMethod (implementation specific).
>>From tree:
.[DOT]
  Response[IDENTIFIER]
  write[METHOD_CALL]
the node write[METHOD_CALL] (instance of ObjectAST) is created, so the tree  is now:
write[METHOD_CALL] {ObjectAST}
  ARGLIST_VALUES
    Hello [DSTRING]
When this subtree is matched, the code checks if the GenericMethod
(temporally stored in the ObjectAST object) would accept 1 argument of type
DSTRING. It does in this case.
Then it asks from the GenericMethod to create an equivalent tree for PHP which
is:
print[METHOD_CALL] 
  ARGLIST_VALUES
    Hello [DSTRING]

The real work is done by the GenericMethod instance and the tree was used
to find out which method is write (found by the code executed for (. Response write) )
and also to find the arguments of the method.

I hope the example gives some hints on how to use the TreeParser.

In my case the product of the TreeParser is an other AST tree which represents
PHP code. The final tree is fed to an other TreeParser which produces the PHP source
code. For the last TreeParser a TreeWalker could be used, by I found more convenient
to use a TreeParser.

When the sources will be uploaded at sourceforge, I'll make an anouncement to
the  list, in case someone is interested.

Anakreon. 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Thu Jul  8 21:28:57 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Can't create AST Node?
In-Reply-To: <40EDD4A5.5020606@yahoo.gr>
References: <FD35CB8B26F9534E86D1AC31F401AB345A254B@na1fcm52.dearborn.ford.com> <40EDD4A5.5020606@yahoo.gr>
Message-ID: <7E258360-D160-11D8-A4A9-000393B5606C@codetransform.com>


On Jul 8, 2004, at 4:11 PM, Anakreon wrote:

> I hope the example gives some hints on how to use the TreeParser.

This will be useful for me to look at as well.  It'll be interesting to 
see your style of programming with trees.
>
> In my case the product of the TreeParser is an other AST tree which 
> represents
> PHP code. The final tree is fed to an other TreeParser which produces 
> the PHP source
> code. For the last TreeParser a TreeWalker could be used, by I found 
> more convenient
> to use a TreeParser.
>

What is the difference between a TreeWalker and a TreeParser?

> When the sources will be uploaded at sourceforge, I'll make an 
> anouncement to
> the  list, in case someone is interested.
>
  Yes, please do.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Thu Jul  8 21:30:25 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Can't create AST Node?
In-Reply-To: <FD35CB8B26F9534E86D1AC31F401AB345A254C@na1fcm52.dearborn.ford.com>
References: <FD35CB8B26F9534E86D1AC31F401AB345A254C@na1fcm52.dearborn.ford.com>
Message-ID: <B2F47583-D160-11D8-A4A9-000393B5606C@codetransform.com>

On Jul 8, 2004, at 1:23 PM, Tiller, Michael ((M.M.)) wrote:

> With regards to ANTLR 'fest, I'm happy to share my experiences and 
> ideas
> (even if I don't have any actual code worth/able to share).  I don't
> doubt the value of tree parsers in many circumstances and, to be 
> honest,
> I don't know if there is really a barrier to enjoying the best of both
> worlds.  I'm just at the point where I'm tired of wrestling the het-AST
> support.  With time, ANTLR may very well support the best of both
> worlds.
>

That would be great if you could come out to it!

One of the goals of antlr is to have it make sense to normal 
programmers.  We certainly intend to make it easy and understandable 
for people to use het-ASTs.  However, I don't think any of the main 
contributors to the code base have used them in practice.  Perhaps 
Loring has.

> I think there may be some interesting possibilities for using
> introspection on the Java side to deal with tree walking.  For example,
> do you really need first child, next sibling, etc when you can get a
> complete inventory of fields?!?  I mean why not make a tree walker that
> works with native objects rather than having to create special AST
> nodes?  Couldn't you just use java.reflect + instanceof (I'm no Java
> expert and I'm not sure how "portable" it would be).  That way you 
> could
> both walk existing Java classes and potentially create new ones as you
> went.  The idea is AST=java.Object, children=java.reflect.Fields and 
> you
> just use/create native Java objects.  No special base classes (for
> example).  Perhaps the overhead would be too much?!?  Just a thought.
>

The models don't quite match.  Object fields don't show the order in 
which things arrived, unless they are in arrays or collections.  But 
sometimes the order is important, and that can be captured in a 
child/sibling tree naturally.  I had to wrestle with that in the SQL 
grammar I just worked on.  But it worked out OK, it just required some 
extra restructuring of the grammar and tree building stuff.

> One last comment, I suspect that it might be useful to provide 
> automatic
> "visitor generation" for people where visitors seem more attractive 
> (ala
> SableCC?).

Seems like that would be easy enough to add.

Monty



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From rjc at trump.net.au  Thu Jul  8 21:36:03 2004
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Java build problems 2.7.4
In-Reply-To: <cckdoo+hsqu@eGroups.com>
References: <cckdoo+hsqu@eGroups.com>
Message-ID: <6.0.3.0.0.20040709143354.01caab68@postoffice.trump.net.au>

Hello,

At 07:19 AM 9/07/2004, stevenklynch wrote:
>Trying to build antlr 2.7.4 and having great difficulty. Using JDK
>1.4.2 following directions in install.html file.

I have a ant build.xml file for antlr laying about somewhere, i could post 
it if you want.

>Problem 1 had to make code fix to Tool.java file as on line 150
>there is no method defined as doEverything.
>
>Once I commented this code out I then tried to use the command: java
>antlr.build.Tool build as per the documentation.
>
>I then get the following error:
>
>Exception in thread "main" java.lang.NoClassDefFoundError:
>antlr/build/tool (wrong name: antlr/build/Tool)

java is case sensitive even on windows need to run 'java antlr.build.Tool'

  - Robert



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From s.schuemann at pobox.com  Fri Jul  9 00:15:47 2004
From: s.schuemann at pobox.com (Steffen Schuemann)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Is this nondeterminism solvable?
In-Reply-To: <5.1.1.1.2.20040706110113.0249dff0@wgmail2.gatwick.eur.slb.com>
References: <5.1.1.1.2.20040706110113.0249dff0@wgmail2.gatwick.eur.slb.com>
Message-ID: <24304684546.20040709091547@pobox.com>

>>Is the nondeterminism solvable, or will I have to disable
>>the warning? I tried for some days now, and start to get
>>frustated a bit. ;-)
>
> Your statementBlock allowed unseparated statements.  Try this.
>
> statementBlock
>      : SBLOCK^ (statement (SSEP! statement)*)? EBLOCK
>      ;

Thank you very much! That helped of course. Sometimes you
are blind, looking at your own code. :-) Now all conflicts are
solved.

Greetings,
Steffen Schuemann

-- 
web: http://www.gulrak.net



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Fri Jul  9 02:35:38 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:02 2004
Subject: New antlr-interest member
Message-ID: <1089365738.558.2040.w47@yahoogroups.com>


Hello,

This is an automated email message to let you know that
bhuvana_t_76 <bhuvana_t_76@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From bhuvana_t_76 at yahoo.com  Fri Jul  9 02:47:03 2004
From: bhuvana_t_76 at yahoo.com (bhuvana_t_76)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Problem converting grammar into java files
Message-ID: <cclpin+50ko@eGroups.com>

hi All,

I am new to ANTLR and this group too. But, just amazed with the 
things in ANTLR. I am using Win XP and JDK1.4.2. I downloaded antlr-
2.7.4 and set the path correctly. If I try to convert the grammar 
into java file which is given in the examples, it works fine. For eg,
if i give like:

java antlr.Tool calc.g

This is creating all the lexer and parser .java files. I downloaded 
SqlSQL2.zip from the website www.antlr.org. And I tried to give like 
this after extracting:

java antlr.Tool SqlSQL2.g

This ends up in error as:
error: grammar DmlSQL2Parser not defined
error: grammar DmlSQL2Lexer not defined

For one of my project, i am in immediate need of this SQL Grammar. 
Can anyone tell me how can I overcome this? Thanks in advance.

-bhuvana.






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Fri Jul  9 03:03:26 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Problem converting grammar into java files
In-Reply-To: <cclpin+50ko@eGroups.com>
References: <cclpin+50ko@eGroups.com>
Message-ID: <20040709100326.GA11867@cs.utwente.nl>

On Fri, Jul 09, 2004 at 09:47:03AM -0000, bhuvana_t_76 wrote:
> This is creating all the lexer and parser .java files. I downloaded 
> SqlSQL2.zip from the website www.antlr.org. And I tried to give like 
> this after extracting:
> 
> java antlr.Tool SqlSQL2.g
> 
> This ends up in error as:
> error: grammar DmlSQL2Parser not defined
> error: grammar DmlSQL2Lexer not defined

Looks like SqlSQL2 builds on top of the DmlSQL2 package also available from
the website (the link above the DmlSQL2 package). Check out the grammar
inheritance section of the manual for the mechanisms behind it.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Wit is cultured insolence. --- Aristotle



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From anakreonmejdi at yahoo.gr  Fri Jul  9 03:23:49 2004
From: anakreonmejdi at yahoo.gr (Anakreon)
Date: Mon Dec 20 16:17:02 2004
Subject: [antlr-interest] Can't create AST Node?
In-Reply-To: <7E258360-D160-11D8-A4A9-000393B5606C@codetransform.com>
References: <FD35CB8B26F9534E86D1AC31F401AB345A254B@na1fcm52.dearborn.ford.com> <40EDD4A5.5020606@yahoo.gr> <7E258360-D160-11D8-A4A9-000393B5606C@codetransform.com>
Message-ID: <40EE7235.8080003@yahoo.gr>

> What is the difference between a TreeWalker and a TreeParser?
I used the wrong term. The correct one should be TreeVisitor or just Visitor, like the
interface antlr.ASTVisitor.


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From aharth at gmx.de  Fri Jul  9 03:42:57 2004
From: aharth at gmx.de (andreasharth)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Re: Parse only <n> bytes from InputStream
In-Reply-To: <20040708094842.GD5303@cs.utwente.nl>
Message-ID: <cclsrh+20o3@eGroups.com>

Hi Ric,

I was able to achieve the functionality I needed.

Just counting the number of char.append()s in CharBuffer.fill()
and appending a (char)-1 when the content length has been
reached did the trick.

Again, thanks for your help!

Andreas.

--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> On Wed, Jul 07, 2004 at 04:30:15PM -0000, andreasharth wrote:
> > thanks for your reply.  I tried to extend CharBuffer.fill() with
> > 	    
> > // n bytes are read (for http content-length)
> > _read += amount;
> > 
> > // read enough? close input
> > if (_read >= _contentLength) {
> >   input.close();
> > }
> > 
> > but that didn't do the trick, the connection is closed way to early. 
> > I presume that fill() is called more than once for every chunk of
> > input?  
> 
> Yup it is. Try inserting a fake EOF in the queue in fill. You
probably also
> need something to remove a fake EOF from this queue again to be able to
> restart the parser.
> 
> > A related question: when does the lexer stop reading in new characters
> > in the general case?
> 
> Upon end of file.
> 
> Cheers,
> 
> Ric



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From bhuvana_t_76 at yahoo.com  Fri Jul  9 04:56:52 2004
From: bhuvana_t_76 at yahoo.com (bhuvana_t_76)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Re: Problem converting grammar into java files
In-Reply-To: <20040709100326.GA11867@cs.utwente.nl>
Message-ID: <ccm164+j4oo@eGroups.com>

hi,
Right. There is a DmlSQL2 package available for download. I tried to 
convert it from grammar to java file. When i give like 

java antlr.Tool DmlSQL2.g

it creates .cpp files. How to get the java stuff from a grammar. Can 
u guide me?

Thanks.

bhuvana.

--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> On Fri, Jul 09, 2004 at 09:47:03AM -0000, bhuvana_t_76 wrote:
> > This is creating all the lexer and parser .java files. I 
downloaded 
> > SqlSQL2.zip from the website www.antlr.org. And I tried to give 
like 
> > this after extracting:
> > 
> > java antlr.Tool SqlSQL2.g
> > 
> > This ends up in error as:
> > error: grammar DmlSQL2Parser not defined
> > error: grammar DmlSQL2Lexer not defined
> 
> Looks like SqlSQL2 builds on top of the DmlSQL2 package also 
available from
> the website (the link above the DmlSQL2 package). Check out the 
grammar
> inheritance section of the manual for the mechanisms behind it.
> 
> Cheers,
> 
> Ric
> -- 
> -----
+++++*****************************************************+++++++++---
----
>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893755  ----
> -----
+++++*****************************************************+++++++++---
----
>   Wit is cultured insolence. --- Aristotle



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Fri Jul  9 05:18:08 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Re: Problem converting grammar into java files
In-Reply-To: <ccm164+j4oo@eGroups.com>
References: <20040709100326.GA11867@cs.utwente.nl> <ccm164+j4oo@eGroups.com>
Message-ID: <20040709121808.GB11867@cs.utwente.nl>

On Fri, Jul 09, 2004 at 11:56:52AM -0000, bhuvana_t_76 wrote:
> Right. There is a DmlSQL2 package available for download. I tried to 
> convert it from grammar to java file. When i give like 
> 
> java antlr.Tool DmlSQL2.g
> 
> it creates .cpp files. How to get the java stuff from a grammar. Can 
> u guide me?

Remove the Language = "Cpp"; option but there's probably also other action
code you have to port to java.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Quidquid latine dictum sit, altum viditur.
                 (Whatever is said in Latin sounds profound.)



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From bhuvana_t_76 at yahoo.com  Fri Jul  9 05:29:38 2004
From: bhuvana_t_76 at yahoo.com (bhuvana_t_76)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Re: Problem converting grammar into java files
In-Reply-To: <20040709121808.GB11867@cs.utwente.nl>
Message-ID: <ccm33i+99ah@eGroups.com>

i tried with changing 'cpp' into 'java'. Still it generates cpp 
files. Can u pls tell me how I can convert it into java. Very urgent.

Thanks in adv.

bhuvana.

--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> On Fri, Jul 09, 2004 at 11:56:52AM -0000, bhuvana_t_76 wrote:
> > Right. There is a DmlSQL2 package available for download. I tried 
to 
> > convert it from grammar to java file. When i give like 
> > 
> > java antlr.Tool DmlSQL2.g
> > 
> > it creates .cpp files. How to get the java stuff from a grammar. 
Can 
> > u guide me?
> 
> Remove the Language = "Cpp"; option but there's probably also other 
action
> code you have to port to java.
> 
> Cheers,
> 
> Ric
> -- 
> -----
+++++*****************************************************+++++++++---
----
>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893755  ----
> -----
+++++*****************************************************+++++++++---
----
>   Quidquid latine dictum sit, altum viditur.
>                  (Whatever is said in Latin sounds profound.)



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From bhuvana_t_76 at yahoo.com  Fri Jul  9 05:52:48 2004
From: bhuvana_t_76 at yahoo.com (bhuvana_t_76)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Re: Problem converting grammar into java files
In-Reply-To: <ccm33i+99ah@eGroups.com>
Message-ID: <ccm4f0+sub7@eGroups.com>

succeeded in converting Dml2SQL grammar to java. But still the same 
error for SqlSQL2 as the given one:

error: grammar DmlSQL2Parser not defined
error: grammar DmlSQL2Lexer not defined

I tried compiling java files to .class files. Still the same error. 
Can anyone guide me whether SqlSQL2 will work or not. Thanks.

bhuvana.

--- In antlr-interest@yahoogroups.com, "bhuvana_t_76" 
<bhuvana_t_76@y...> wrote:
> i tried with changing 'cpp' into 'java'. Still it generates cpp 
> files. Can u pls tell me how I can convert it into java. Very 
urgent.
> 
> Thanks in adv.
> 
> bhuvana.
> 
> --- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> 
wrote:
> > On Fri, Jul 09, 2004 at 11:56:52AM -0000, bhuvana_t_76 wrote:
> > > Right. There is a DmlSQL2 package available for download. I 
tried 
> to 
> > > convert it from grammar to java file. When i give like 
> > > 
> > > java antlr.Tool DmlSQL2.g
> > > 
> > > it creates .cpp files. How to get the java stuff from a 
grammar. 
> Can 
> > > u guide me?
> > 
> > Remove the Language = "Cpp"; option but there's probably also 
other 
> action
> > code you have to port to java.
> > 
> > Cheers,
> > 
> > Ric
> > -- 
> > -----
> +++++*****************************************************+++++++++-
--
> ----
> >     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893755  ----
> > -----
> +++++*****************************************************+++++++++-
--
> ----
> >   Quidquid latine dictum sit, altum viditur.
> >                  (Whatever is said in Latin sounds profound.)



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Fri Jul  9 07:30:12 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Re: Problem converting grammar into java files
In-Reply-To: <ccm4f0+sub7@eGroups.com>
References: <ccm4f0+sub7@eGroups.com>
Message-ID: <7CBA70E3-D1B4-11D8-A4A9-000393B5606C@codetransform.com>

You have to specify the supergrammar on the command line, see the 
options for antlr.Tool.  That's what Ric meant when he said:

> Check out the grammar inheritance section of the manual for the 
> mechanisms behind it.

Monty


ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html

On Jul 9, 2004, at 5:52 AM, bhuvana_t_76 wrote:

> succeeded in converting Dml2SQL grammar to java. But still the same
> error for SqlSQL2 as the given one:
>
> error: grammar DmlSQL2Parser not defined
> error: grammar DmlSQL2Lexer not defined
>
> I tried compiling java files to .class files. Still the same error.
> Can anyone guide me whether SqlSQL2 will work or not. Thanks.
>
> bhuvana.
>
> --- In antlr-interest@yahoogroups.com, "bhuvana_t_76"
> <bhuvana_t_76@y...> wrote:
>> i tried with changing 'cpp' into 'java'. Still it generates cpp
>> files. Can u pls tell me how I can convert it into java. Very
> urgent.
>>
>> Thanks in adv.
>>
>> bhuvana.
>>
>> --- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...>
> wrote:
>>> On Fri, Jul 09, 2004 at 11:56:52AM -0000, bhuvana_t_76 wrote:
>>>> Right. There is a DmlSQL2 package available for download. I
> tried
>> to
>>>> convert it from grammar to java file. When i give like
>>>>
>>>> java antlr.Tool DmlSQL2.g
>>>>
>>>> it creates .cpp files. How to get the java stuff from a
> grammar.
>> Can
>>>> u guide me?
>>>
>>> Remove the Language = "Cpp"; option but there's probably also
> other
>> action
>>> code you have to port to java.
>>>
>>> Cheers,
>>>
>>> Ric
>>> -- 
>>> -----
>> +++++*****************************************************+++++++++-
> --
>> ----
>>>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893755  ----
>>> -----
>> +++++*****************************************************+++++++++-
> --
>> ----
>>>   Quidquid latine dictum sit, altum viditur.
>>>                  (Whatever is said in Latin sounds profound.)
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Fri Jul  9 08:00:57 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:03 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1089385257.1445.38047.m2@yahoogroups.com>


Hello,

This is an automated email message to let you know that
sramam <sramam@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From bob_kennelly at yahoo.com  Fri Jul  9 15:05:19 2004
From: bob_kennelly at yahoo.com (bob kennelly)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Re: JAVA Cross Reference
In-Reply-To: <3AC103F1B7EEEC48A855ACB1D2819E9102C97299@rock-corpmail.microfocus.com>
Message-ID: <ccn4qv+f1in@eGroups.com>

Hi Jim!

I wanted to show you a (javac) error message that i'm 
getting, 'cannot resolve symbol'! Just wanted to see if it's 
something pretty obvious, if not no problem! I'm planning on 
restarting from the beginning as it's probably something i missed in 
the setup! 

Thanks again Jim, appreciate any help on this!

BobK

C:\antlr.xref\src\org\antlr\java\crossref>javac *.java

LocationAST.java:83: cannot resolve symbol
symbol  : method getFilename ()
location: class antlr.Token
                setFilename(t.getFilename());
                             ^
JavaLexer.java:48: cannot resolve symbol
symbol  : method setFilename (java.lang.String)
location: class antlr.Token
        result.setFilename(getFilename());
              ^
LocationToken.java:38: cannot resolve symbol
symbol  : method getFilename ()
location: class antlr.Token
                setFilename(t.getFilename());
                             ^
3 errors

--- In antlr-interest@yahoogroups.com, "Jim O'Connor" 
<Jim.OConnor@m...> wrote:
> From: Jim O'Connor [Jim.O'Connor@m...]
> Sent: Wednesday, January 07, 2004 11:10 AM
> To: Jim.OConnor@M...
> Subject: Alpha release of the Java Cross Referencer
> 
> Introduction
> 
> This is the alpha release of the Java Cross Reference Tool (uses 
ANTLR
> 2.7.2).  It is based on Terence's tool in the file sharing 
section.  To
> review its roots you can take a look at www.antlr.org/share/list.  
There
> have been many improvements and additions.  The goal is to have 
another
> release in the future that improves the code and streamlines 
the "get up and
> running" process.  There might be a few bug fixes, as well. :0) 
> 
>  
> 
> Overview
> 
> Input: *.java files, jar files, or a directory structure
> 
>  
> 
> Output:  An XML document with a hierarchical representation of 
packages,
> classes and references.  The MyOutput class regulates the output 
location of
> the XML file.  The name is controlled in the CodeProject class 
(currently
> "null").  MyOutput has methods to control output when references 
are
> resolved.
> 
>  
> 
> Installation and execution
> 
>  
> 
>  The process will be streamlined.  The manual installation forces 
the user
> to become familiar necessary configuration steps that could be 
overlooked.  
> 
> Assumptions: Java JDK and Antlr 2.7.2 is installed.  An older 
java.g 1.3 is
> used.  Recent patches have not been integrated.
> 
>  
> 
>   1.. Download JavaCrossRef.zip 
>  
> 
>   2.. Unzip to c:\  (this will create the c:\antlr.xref directory 
structure)
> 
>  
> 
>   3.. cd to the c:\antlr.xref\src\org\antlr\java\crossref 
subdirectory 
>  
> 
>   4.. To generate the necessary files run the following commands 
(My path
> includes "c:\j2sdk1.4.2_01\bin"; and my full classpath is
> ".;c:\antlr-2.7.2\antlr.jar") 
> A.      java antlr.Tool java.g
> 
> a.       Creates JavaRecognizer.java, JavaLexer.java, 
JavaTokenTypes.java
> and JavaTokenTypes.txt
> 
> B.      java antlr.Tool javatree.g
> 
> a.       Creates JavaTreeParser.java, 
JavaTreeParserTokenTypes.java and
> JavaTreeParserTokenTypes.txt
> 
> C.      java antlr.Tool -glib javaTree.g defs.g 
> 
> a.       Creates JavaDefsTreeParser.java, 
JavaTreeDefsParserTokenTypes.java
> and JavaTreeDefsParserTokenTypes.txt
> 
> b.       Warnings will result for rule 
JavaDefsTreeParser.packageDefinition
> and Rule 'identifier' returning a value
> 
> D.      java antlr.Tool -glib javaTree.g prerefs.g
> 
> a.       Creates JavaPreRefsTreeParser.java,
> JavaTreePreRefsParserTokenTypes.java and 
JavaTreePreRefsParserTokenTypes.txt
> 
> b.       Warnings result for packageDefinition, typeSpec, 
typeSpecArray,
> type, extendsClasue, implementsClause, parameterDef, 
variableDeclarator,
> methodHead, identifier, newExpression and
> 'identifier'-'parameterDef'-'typeSpecArray'-'typeSpec'-
newExpression'
> returns a value
> 
> E.      java antlr.Tool -glib javaTree.g refs.g
> 
> a.       Creates JavaRefsTreeParser.java, 
JavaTreeRefsParserTokenTypes.java
> and JavaTreeRefsParserTokenTypes.txt
> 
> b.       Lots more warning messages
> 
>  
> 
>   5.. Before compiling the files you should edit a few of the 
files to
> control the output 
> A.      In CodeProject.java, a few fields are "user configurable" 
and can be
> modified
> 
> a.       protected String name = null; null can be changed to name 
the
> current project.  Otherwise the xml file will get the 
name "null.xml".
> 
> b.       static final boolean saveReferences = true;  when set 
to "true" all
> references are saved to the CodeProject hierarchical information 
model by
> methods in the refElement(), refMethod(), and refClass() methods. 
If you
> only want your project structure in the XML file, set to "false".
> 
> c.       static final boolean printDebug = false;  There is a 
large amount
> of debug "System.out.println()" calls in the Scope classes.  The 
printDebug
> flag in CodeProject is a global flag to enable or disable the 
possibility
> for all of these messages.  When printDebug is set to true in the
> CodeProject class, you must go to the individual class files to 
turn on
> messages. Other classes with the printDebug flag are ClassScope,
> CodeBlockScope, DebugStack (commented out in defs.g, prerefs.g, 
and refs.g),
> FileScope, and ParameterScope.
> 
> B.      In MyOutput.java, final static String OUTPUTDIR = "./"; 
set the
> output directory (OUTPUTDIR), or leave as the current directory 
(".\")
> 
>  
> 
>   6.. Compile the *.java files with the following commands 
>   7.. A. javac *.java (or whatever compiler you use) 
>   8.. test run 
> A.      cd c:\antlr.xref\src
> 
> B.      "java org.antlr.java.crossref.Main" should produce usage 
message
> "Usage: Main (directory or filename)"
> 
> C.       
> 
>   9.. Another test with real data 
> A.      "java org.antlr.java.crossref.Main
> org\antlr\java\crossref\location.java"
> 
> B.      This will produce many messages to the console in addition 
to a 70k
> xml file to the current directory named "null.xml"
> 
> C.      I'll go back and set saveReference = false and recompile 
and re-run.
> 
> D.      I still get all the messages but the xml file is now 9k, 
but it
> contains no reference information.  It just contains the
> package/class/field/method structure.  This is good for structure 
analysis
> but not for seeing which classes reference others.
> 
>  
> 
>  
> 
> Credits
> 
>  
> 
> All "borrowed" classes are from the open source community.  I have 
no
> obligation to give credit to these sources.  However, their 
mention will
> give credit where I think it is due.  
> 
>  
> 
> K files
> 
>  
> 
> The "K" files are used to read the input stream from a "*.class" 
file,
> extracting the relevant information.  They are used with minor 
modification,
> mostly to the javadoc section.  These files are the work of 
Kimberley
> Burchett. "Class loading" the files was a short bad idea.  Thanks 
for saving
> me some time, Kimberly!  I kept the class file writer with the 
code for
> those of you who want to do some obfuscation work.
> 
>  
> 
> http://www.kimbly.com/code/classfile/
> 
>  
> 
> Location AST help
> 
>  
> 
> I read the antlraux site to help with the LocationAST work.
> 
>  
> 
> http://antlraux.sourceforge.net/
> 
>  
> 
> Java Cross Reference Tool
> 
>  
> 
> Antlr and the structure for the tool are based on the work of 
Terence Parr.
> You should be versed in Antlr basics to use this tool. 
(www.antlr.org)
> 
>  
> 
>  
> 
>  
> 
> To Do List
> 
> 1. Reduce size of XML document
> 
> 2. Revisit order of imports and "Classpath order".
> 
> 3. Upgrade java.g
> 
> 4.  Streamline installation
> 
> 5. Reorganize the user options
> 
> 6. Redo Location information.  Problem finding files based on XML
> information.
> 
> 7. Bugs
> 
>  
> 
> 
> 
> > -----Original Message-----
> > From: Jim O'Connor [mailto:Jim.OConnor@m...]
> > Sent: Sunday, July 04, 2004 11:38 PM
> > To: 'bob_kennelly '
> > Cc: 'antlr-interest@yahoogroups.com'
> > Subject: RE: [antlr-interest] JAVA Cross Reference
> > 
> >  Hi Bob,
> >   My Java Cross reference tool is in the file sharing section of
> > www.antlr.org.  I will find the "getting started" document, if 
you are
> > interested.
> > Jim
> > 
> > -----Original Message-----
> > From: bob_kennelly
> > To: antlr-interest@yahoogroups.com
> > Sent: 7/2/04 4:32 PM
> > Subject: [antlr-interest] JAVA Cross Reference
> > 
> > Hi there!
> > 
> > Does anyone have a tool that will scan thru the Java source and
> > create a hierarchy of classes, example what class calls what 
class?
> > 
> > Or can any create such a tool?
> > 
> > Thanks!
> > 
> > bk
> > 
> > 
> > 
> > 
> > 
> > Yahoo! Groups Links
> > 
> > 
> > 
> > 
> > 
> > 
> > 
_____________________________________________________________________
___
> > This e-mail has been scanned for viruses by MCI's Internet 
Managed
> > Scanning Services - powered by MessageLabs. For further 
information
> > visit http://www.mci.com
> > 
_____________________________________________________________________
___
> > 
> > 
> > 
> > Yahoo! Groups Links
> > 
> > 
> > 
> > 
> > 
> > 
> > 
_____________________________________________________________________
___
> > This e-mail has been scanned for viruses by MCI's Internet 
Managed
> > Scanning Services - powered by MessageLabs. For further 
information visit
> > http://www.mci.com
> > 
_____________________________________________________________________
___
> > 
> > 
_____________________________________________________________________
___
> > This e-mail has been scanned for viruses by MCI's Internet 
Managed
> > Scanning Services - powered by MessageLabs. For further 
information visit
> > http://www.mci.com
> > 
_____________________________________________________________________
___



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Fri Jul  9 22:12:05 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:03 2004
Subject: New antlr-interest member
Message-ID: <1089436325.413.81067.w4@yahoogroups.com>


Hello,

This is an automated email message to let you know that
donnaatamian <donnaatamian@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From jes_quintana at yahoo.com  Sun Jul 11 01:53:24 2004
From: jes_quintana at yahoo.com (sofa_chef)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Re: Using two parsers within the same process
In-Reply-To: <AF6636C1-C92D-11D8-AD98-000393B5606C@codetransform.com>
Message-ID: <ccqv64+cf6p@eGroups.com>

Hi,
Thanks. I searched the archives of comp.compilers.tools.pccts and 
found the solution. All I had to do was add a flag to dlg with a 
string prefix for the name of the class it creates. 
The dlg flag: -cl <prefix>
I'm posting it here just in case someone like me searches for it 
here in the future.


--- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> 
wrote:
> ANTLR 2 supports multiple parsers.  PCCTS is discussed on the 
usenet 
> group comp.compilers.tools.pccts and you may get more answers to 
your 
> other questions there.
> 
> Monty
> 
> 
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit -- 
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
> 
> 
> On Jun 26, 2004, at 8:43 PM, sofa_chef wrote:
> 
> > Hi,
> > I have quite a few grammar files that I compile using PCCTS 
1.33. A
> > major issue which is very annoying to me is that I can't use two
> > different parsers in the same application. I believe it's 
related to
> > several global definitions that collide.
> > Did anyone else come upon this problem? Is there a way which I'm 
not
> > aware of to use two parsers in the same app? Also, will moving to
> > ANTLR solve my problem?
> > Thanks,
> > Yoav Noon.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From clocKwize at blueyonder.co.uk  Sun Jul 11 15:56:50 2004
From: clocKwize at blueyonder.co.uk (clocKwize)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] end of file
Message-ID: <ECOWS06MXozt8Co0vl9000371db@smtp-out6.blueyonder.co.uk>

Hi there, I'm trying to implement single line comments, which is fine, I
use:

 

SL_COMMENT: "//" (~EOL)* EOL;

 

protected

EOL:                 '\n' | '\r' | ('\r' '\n') | ('\n' '\r');

 

Which works for me - but then, what if there is no EOL, what if there is a
single line comment on the last line of the file, how can I add that kind of
thing into my grammar?

 

 

Thanks.

 

Mike

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20040711/af06ad34/attachment.html
From robin at debreuil.com  Sun Jul 11 20:41:03 2004
From: robin at debreuil.com (Robin Debreuil)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] end of file
References: <ECOWS06MXozt8Co0vl9000371db@smtp-out6.blueyonder.co.uk>
Message-ID: <003901c467c2$1198a7f0$0100a8c0@xpbaby>

I was at one point tempted to just add a newline to the source ; ). Eventually making the last newline (optional)? worked, but iirc that required adding newlines elsewhere. The code below may or may not be a helpful reference...

Cheers,
Robin


protected
NEW_LINE
 : ( // carriage return character followed by possible line feed character 
   { LA(2)=='\u000A' }? '\u000D' '\u000A'   
  | '\u000D'   // line feed character       
  | '\u000A'   // line feed character       
  | '\u2028'   // line separator character
  | '\u2029'   // paragraph separator character
  )
  {newline();}
 ;
 
protected
NEW_LINE_CHARACTER
 : ('\u000D' | '\u000A' | '\u2028' | '\u2029')
 ;
 
protected
NOT_NEW_LINE
 : ~( '\u000D' | '\u000A' | '\u2028' | '\u2029')
 ; 
 
// ***** A.1.2 WHITESPACE *****
WHITESPACE
 : ( ' '
  | '\u0009' // horizontal tab character
  | '\u000B' // vertical tab character
  | '\u000C' // form feed character 
  | NEW_LINE 
  )+
  { _ttype = Token.SKIP; }
 ;  
 
// ***** A.1.3 COMMENTS *****
SINGLE_LINE_COMMENT
 : "//" 
  (NOT_NEW_LINE)* 
  (NEW_LINE)? // may be eof
  {_ttype = Token.SKIP;}
 ;

 DELIMITED_COMMENT
 : "/*"  
  ( { LA(2)!='/' }? '*'
  | NEW_LINE  
  | ~('*'|'\u000D'|'\u000A'|'\u2028'|'\u2029')
  )*
  "*/"
  { _ttype = Token.SKIP; }
 ; 
  ----- Original Message ----- 
  From: clocKwize 
  To: antlr-interest@yahoogroups.com 
  Sent: Sunday, July 11, 2004 5:56 PM
  Subject: [antlr-interest] end of file


  Hi there, I'm trying to implement single line comments, which is fine, I use:

   

  SL_COMMENT: "//" (~EOL)* EOL;

   

  protected

  EOL:                 '\n' | '\r' | ('\r' '\n') | ('\n' '\r');

   

  Which works for me - but then, what if there is no EOL, what if there is a single line comment on the last line of the file, how can I add that kind of thing into my grammar?

   

   

  Thanks.

   

  Mike

   



------------------------------------------------------------------------------
  Yahoo! Groups Links

    a.. To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/
      
    b.. To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com
      
    c.. Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20040711/366b1508/attachment.html
From bhuvana_t_76 at yahoo.com  Sun Jul 11 21:27:56 2004
From: bhuvana_t_76 at yahoo.com (bhuvana_t_76)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Re: Problem converting grammar into java files
In-Reply-To: <7CBA70E3-D1B4-11D8-A4A9-000393B5606C@codetransform.com>
Message-ID: <cct40c+s42p@eGroups.com>

hi Ric & Monty,

Thanks for ur help. Succeeded in compiling the grammar .g file into 
java files after reading the documentation for inheriting the 
supergrammars. 

In the command prompt, i gave like this:

java antlr.Tool -glib DmlSQL2.g SqlSQL2.g

Thanks again. 

bhuvana.
--- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> 
wrote:
> You have to specify the supergrammar on the command line, see the 
> options for antlr.Tool.  That's what Ric meant when he said:
> 
> > Check out the grammar inheritance section of the manual for the 
> > mechanisms behind it.
> 
> Monty
> 
> 
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit -- 
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
> 
> On Jul 9, 2004, at 5:52 AM, bhuvana_t_76 wrote:
> 
> > succeeded in converting Dml2SQL grammar to java. But still the 
same
> > error for SqlSQL2 as the given one:
> >
> > error: grammar DmlSQL2Parser not defined
> > error: grammar DmlSQL2Lexer not defined
> >
> > I tried compiling java files to .class files. Still the same 
error.
> > Can anyone guide me whether SqlSQL2 will work or not. Thanks.
> >
> > bhuvana.
> >
> > --- In antlr-interest@yahoogroups.com, "bhuvana_t_76"
> > <bhuvana_t_76@y...> wrote:
> >> i tried with changing 'cpp' into 'java'. Still it generates cpp
> >> files. Can u pls tell me how I can convert it into java. Very
> > urgent.
> >>
> >> Thanks in adv.
> >>
> >> bhuvana.
> >>
> >> --- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...>
> > wrote:
> >>> On Fri, Jul 09, 2004 at 11:56:52AM -0000, bhuvana_t_76 wrote:
> >>>> Right. There is a DmlSQL2 package available for download. I
> > tried
> >> to
> >>>> convert it from grammar to java file. When i give like
> >>>>
> >>>> java antlr.Tool DmlSQL2.g
> >>>>
> >>>> it creates .cpp files. How to get the java stuff from a
> > grammar.
> >> Can
> >>>> u guide me?
> >>>
> >>> Remove the Language = "Cpp"; option but there's probably also
> > other
> >> action
> >>> code you have to port to java.
> >>>
> >>> Cheers,
> >>>
> >>> Ric
> >>> -- 
> >>> -----
> >> 
+++++*****************************************************+++++++++-
> > --
> >> ----
> >>>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893755  --
--
> >>> -----
> >> 
+++++*****************************************************+++++++++-
> > --
> >> ----
> >>>   Quidquid latine dictum sit, altum viditur.
> >>>                  (Whatever is said in Latin sounds profound.)
> >



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Sun Jul 11 22:13:11 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] end of file
In-Reply-To: <ECOWS06MXozt8Co0vl9000371db@smtp-out6.blueyonder.co.uk>
References: <ECOWS06MXozt8Co0vl9000371db@smtp-out6.blueyonder.co.uk>
Message-ID: <2B6E392E-D3C2-11D8-94E7-000393B5606C@codetransform.com>

You can specify EOF in your lexer too.

Or, don't have your comment rule eat the newline too.  Let the newline 
or whitespace rule do that.

Monty

On Jul 11, 2004, at 3:56 PM, clocKwize wrote:

> Hi there, I?m trying to implement single line comments, which is fine, 
> I use:
>
> ?
>
> SL_COMMENT: "//" (~EOL)* EOL;
>
> ?
>
> protected
>
> EOL:???????????????? '\n' | '\r' | ('\r' '\n') | ('\n' '\r');
>
> ?
>
> Which works for me ? but then, what if there is no EOL, what if there 
> is a single line comment on the last line of the file, how can I add 
> that kind of thing into my grammar?
>
> ?
>
> ?
>
> Thanks.
>
> ?
>
> Mike
>
> ?
>
>
> Yahoo! Groups Links
>
> 	? 	To visit your group on the web, go to:
> http://groups.yahoo.com/group/antlr-interest/
> ?
> 	? 	 To unsubscribe from this group, send an email to:
> antlr-interest-unsubscribe@yahoogroups.com
> ?
> 	? 	 Your use of Yahoo! Groups is subject to the Yahoo! Terms of 
> Service.
>
>

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From bhuvana_t_76 at yahoo.com  Sun Jul 11 22:55:23 2004
From: bhuvana_t_76 at yahoo.com (bhuvana_t_76)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Re: Problem converting grammar into java files(How to proceed further)
In-Reply-To: <cct40c+s42p@eGroups.com>
Message-ID: <cct94b+4v1l@eGroups.com>

hi,

After compiling the SqlSQL2.g into java files, i compiled them into 
creating .class files. I want to make use of those class files in my 
application. I gave a sample code like this:

import java.io.*;

class Test {
    public static void main(String[] args) {
        try {
            SqlSQL2Lexer lexer = new SqlSQL2Lexer(new DataInputStream
(System.in));
	System.out.println("lexer "+lexer);
            SqlSQL2Parser parser = new SqlSQL2Parser(lexer);
	System.out.println("parser "+parser);
        } catch(Exception e) {
            System.err.println("exception: "+e);
        }
    }
}

How to proceed further? ie, which method of 'SqlSQL2Parser.java', I 
have to use for checking a sql query's validity. Can u guide me?
thanks.

bhuvana.

--- In antlr-interest@yahoogroups.com, "bhuvana_t_76" 
<bhuvana_t_76@y...> wrote:
> hi Ric & Monty,
> 
> Thanks for ur help. Succeeded in compiling the grammar .g file into 
> java files after reading the documentation for inheriting the 
> supergrammars. 
> 
> In the command prompt, i gave like this:
> 
> java antlr.Tool -glib DmlSQL2.g SqlSQL2.g
> 
> Thanks again. 
> 
> bhuvana.
> --- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> 
> wrote:
> > You have to specify the supergrammar on the command line, see the 
> > options for antlr.Tool.  That's what Ric meant when he said:
> > 
> > > Check out the grammar inheritance section of the manual for the 
> > > mechanisms behind it.
> > 
> > Monty
> > 
> > 
> > ANTLR & Java Consultant -- http://www.codetransform.com
> > ANSI C/GCC transformation toolkit -- 
> > http://www.codetransform.com/gcc.html
> > Embrace the Decay -- 
http://www.codetransform.com/EmbraceDecay.html
> > 
> > On Jul 9, 2004, at 5:52 AM, bhuvana_t_76 wrote:
> > 
> > > succeeded in converting Dml2SQL grammar to java. But still the 
> same
> > > error for SqlSQL2 as the given one:
> > >
> > > error: grammar DmlSQL2Parser not defined
> > > error: grammar DmlSQL2Lexer not defined
> > >
> > > I tried compiling java files to .class files. Still the same 
> error.
> > > Can anyone guide me whether SqlSQL2 will work or not. Thanks.
> > >
> > > bhuvana.
> > >
> > > --- In antlr-interest@yahoogroups.com, "bhuvana_t_76"
> > > <bhuvana_t_76@y...> wrote:
> > >> i tried with changing 'cpp' into 'java'. Still it generates cpp
> > >> files. Can u pls tell me how I can convert it into java. Very
> > > urgent.
> > >>
> > >> Thanks in adv.
> > >>
> > >> bhuvana.
> > >>
> > >> --- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...>
> > > wrote:
> > >>> On Fri, Jul 09, 2004 at 11:56:52AM -0000, bhuvana_t_76 wrote:
> > >>>> Right. There is a DmlSQL2 package available for download. I
> > > tried
> > >> to
> > >>>> convert it from grammar to java file. When i give like
> > >>>>
> > >>>> java antlr.Tool DmlSQL2.g
> > >>>>
> > >>>> it creates .cpp files. How to get the java stuff from a
> > > grammar.
> > >> Can
> > >>>> u guide me?
> > >>>
> > >>> Remove the Language = "Cpp"; option but there's probably also
> > > other
> > >> action
> > >>> code you have to port to java.
> > >>>
> > >>> Cheers,
> > >>>
> > >>> Ric
> > >>> -- 
> > >>> -----
> > >> 
> +++++*****************************************************+++++++++-
> > > --
> > >> ----
> > >>>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 
4893755  --
> --
> > >>> -----
> > >> 
> +++++*****************************************************+++++++++-
> > > --
> > >> ----
> > >>>   Quidquid latine dictum sit, altum viditur.
> > >>>                  (Whatever is said in Latin sounds profound.)
> > >



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From bhuvana_t_76 at yahoo.com  Sun Jul 11 23:50:10 2004
From: bhuvana_t_76 at yahoo.com (bhuvana_t_76)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Re: Problem converting grammar into java files(How to proceed further)
In-Reply-To: <cct94b+4v1l@eGroups.com>
Message-ID: <cctcb2+ttsi@eGroups.com>

Any help?? Urgent!!!

thanks.

bhuvana.

--- In antlr-interest@yahoogroups.com, "bhuvana_t_76" 
<bhuvana_t_76@y...> wrote:
> hi,
> 
> After compiling the SqlSQL2.g into java files, i compiled them into 
> creating .class files. I want to make use of those class files in 
my 
> application. I gave a sample code like this:
> 
> import java.io.*;
> 
> class Test {
>     public static void main(String[] args) {
>         try {
>             SqlSQL2Lexer lexer = new SqlSQL2Lexer(new 
DataInputStream
> (System.in));
> 	System.out.println("lexer "+lexer);
>             SqlSQL2Parser parser = new SqlSQL2Parser(lexer);
> 	System.out.println("parser "+parser);
>         } catch(Exception e) {
>             System.err.println("exception: "+e);
>         }
>     }
> }
> 
> How to proceed further? ie, which method of 'SqlSQL2Parser.java', I 
> have to use for checking a sql query's validity. Can u guide me?
> thanks.
> 
> bhuvana.
> 
> --- In antlr-interest@yahoogroups.com, "bhuvana_t_76" 
> <bhuvana_t_76@y...> wrote:
> > hi Ric & Monty,
> > 
> > Thanks for ur help. Succeeded in compiling the grammar .g file 
into 
> > java files after reading the documentation for inheriting the 
> > supergrammars. 
> > 
> > In the command prompt, i gave like this:
> > 
> > java antlr.Tool -glib DmlSQL2.g SqlSQL2.g
> > 
> > Thanks again. 
> > 
> > bhuvana.
> > --- In antlr-interest@yahoogroups.com, Monty Zukowski 
<monty@c...> 
> > wrote:
> > > You have to specify the supergrammar on the command line, see 
the 
> > > options for antlr.Tool.  That's what Ric meant when he said:
> > > 
> > > > Check out the grammar inheritance section of the manual for 
the 
> > > > mechanisms behind it.
> > > 
> > > Monty
> > > 
> > > 
> > > ANTLR & Java Consultant -- http://www.codetransform.com
> > > ANSI C/GCC transformation toolkit -- 
> > > http://www.codetransform.com/gcc.html
> > > Embrace the Decay -- 
> http://www.codetransform.com/EmbraceDecay.html
> > > 
> > > On Jul 9, 2004, at 5:52 AM, bhuvana_t_76 wrote:
> > > 
> > > > succeeded in converting Dml2SQL grammar to java. But still 
the 
> > same
> > > > error for SqlSQL2 as the given one:
> > > >
> > > > error: grammar DmlSQL2Parser not defined
> > > > error: grammar DmlSQL2Lexer not defined
> > > >
> > > > I tried compiling java files to .class files. Still the same 
> > error.
> > > > Can anyone guide me whether SqlSQL2 will work or not. Thanks.
> > > >
> > > > bhuvana.
> > > >
> > > > --- In antlr-interest@yahoogroups.com, "bhuvana_t_76"
> > > > <bhuvana_t_76@y...> wrote:
> > > >> i tried with changing 'cpp' into 'java'. Still it generates 
cpp
> > > >> files. Can u pls tell me how I can convert it into java. Very
> > > > urgent.
> > > >>
> > > >> Thanks in adv.
> > > >>
> > > >> bhuvana.
> > > >>
> > > >> --- In antlr-interest@yahoogroups.com, Ric Klaren 
<klaren@c...>
> > > > wrote:
> > > >>> On Fri, Jul 09, 2004 at 11:56:52AM -0000, bhuvana_t_76 
wrote:
> > > >>>> Right. There is a DmlSQL2 package available for download. I
> > > > tried
> > > >> to
> > > >>>> convert it from grammar to java file. When i give like
> > > >>>>
> > > >>>> java antlr.Tool DmlSQL2.g
> > > >>>>
> > > >>>> it creates .cpp files. How to get the java stuff from a
> > > > grammar.
> > > >> Can
> > > >>>> u guide me?
> > > >>>
> > > >>> Remove the Language = "Cpp"; option but there's probably 
also
> > > > other
> > > >> action
> > > >>> code you have to port to java.
> > > >>>
> > > >>> Cheers,
> > > >>>
> > > >>> Ric
> > > >>> -- 
> > > >>> -----
> > > >> 
> > 
+++++*****************************************************+++++++++-
> > > > --
> > > >> ----
> > > >>>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 
> 4893755  --
> > --
> > > >>> -----
> > > >> 
> > 
+++++*****************************************************+++++++++-
> > > > --
> > > >> ----
> > > >>>   Quidquid latine dictum sit, altum viditur.
> > > >>>                  (Whatever is said in Latin sounds 
profound.)
> > > >



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Mon Jul 12 17:39:54 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:03 2004
Subject: New antlr-interest member
Message-ID: <1089679194.141.8034.w48@yahoogroups.com>


Hello,

This is an automated email message to let you know that
mbtmbt <mbt@alum.mit.edu> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From mbt at alum.mit.edu  Mon Jul 12 18:09:47 2004
From: mbt at alum.mit.edu (mbtmbt)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] [Antlr novice]: cannot insert "optional action"
Message-ID: <ccvcor+kfnh@eGroups.com>

I'm trying to add member variable and methods to my TreeParser-
derived class.  Both the doc (see below) and FAQs tell me that all I 
need to do is put my member variables and methods into { } after the 
options statement.  Yet antlr (2.7.4, Windows, C++) seems to ignore 
them completely.   Any ideas what may be going wrong?  

class BlahBlahGenerator extends TreeParser;

options {
    importVocab=MyVocab;
}
{
int XXXXX; <====== is not included in either .hpp or .cpp file
}


====================================
Documentation:

All parser rules must be associated with a parser class. A grammar 
(.g) file may contain only one parser class definitions (along with 
lexers and tree-parsers). A parser class specification precedes the 
options and rule definitions of the parser. A parser specification 
in a grammar file often looks like: 

{ optional class code preamble }
class YourParserClass extends Parser;
options
tokens
{ optional action for instance vars/methods } <=============
parser rules...    

===================================

I must be missing something simple :-(

Thank you so very much!

--Mark





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From bhuvana_t_76 at yahoo.com  Mon Jul 12 22:18:03 2004
From: bhuvana_t_76 at yahoo.com (bhuvana_t_76)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Re: Problem converting grammar into java files(How to proceed further)
In-Reply-To: <cctcb2+ttsi@eGroups.com>
Message-ID: <ccvrab+uq59@eGroups.com>

hi,
Is there any documentation available on the net for how to use 
SqlSQL2.g in the applications. I got a partial success in using the 
grammar. Or, can anyone give me the contact id of the author of the 
grammar. Thanks in adv.

bhuvana.


--- In antlr-interest@yahoogroups.com, "bhuvana_t_76" 
<bhuvana_t_76@y...> wrote:
> Any help?? Urgent!!!
> 
> thanks.
> 
> bhuvana.
> 
> --- In antlr-interest@yahoogroups.com, "bhuvana_t_76" 
> <bhuvana_t_76@y...> wrote:
> > hi,
> > 
> > After compiling the SqlSQL2.g into java files, i compiled them 
into 
> > creating .class files. I want to make use of those class files in 
> my 
> > application. I gave a sample code like this:
> > 
> > import java.io.*;
> > 
> > class Test {
> >     public static void main(String[] args) {
> >         try {
> >             SqlSQL2Lexer lexer = new SqlSQL2Lexer(new 
> DataInputStream
> > (System.in));
> > 	System.out.println("lexer "+lexer);
> >             SqlSQL2Parser parser = new SqlSQL2Parser(lexer);
> > 	System.out.println("parser "+parser);
> >         } catch(Exception e) {
> >             System.err.println("exception: "+e);
> >         }
> >     }
> > }
> > 
> > How to proceed further? ie, which method of 'SqlSQL2Parser.java', 
I 
> > have to use for checking a sql query's validity. Can u guide me?
> > thanks.
> > 
> > bhuvana.
> > 
> > --- In antlr-interest@yahoogroups.com, "bhuvana_t_76" 
> > <bhuvana_t_76@y...> wrote:
> > > hi Ric & Monty,
> > > 
> > > Thanks for ur help. Succeeded in compiling the grammar .g file 
> into 
> > > java files after reading the documentation for inheriting the 
> > > supergrammars. 
> > > 
> > > In the command prompt, i gave like this:
> > > 
> > > java antlr.Tool -glib DmlSQL2.g SqlSQL2.g
> > > 
> > > Thanks again. 
> > > 
> > > bhuvana.
> > > --- In antlr-interest@yahoogroups.com, Monty Zukowski 
> <monty@c...> 
> > > wrote:
> > > > You have to specify the supergrammar on the command line, see 
> the 
> > > > options for antlr.Tool.  That's what Ric meant when he said:
> > > > 
> > > > > Check out the grammar inheritance section of the manual for 
> the 
> > > > > mechanisms behind it.
> > > > 
> > > > Monty
> > > > 
> > > > 
> > > > ANTLR & Java Consultant -- http://www.codetransform.com
> > > > ANSI C/GCC transformation toolkit -- 
> > > > http://www.codetransform.com/gcc.html
> > > > Embrace the Decay -- 
> > http://www.codetransform.com/EmbraceDecay.html
> > > > 
> > > > On Jul 9, 2004, at 5:52 AM, bhuvana_t_76 wrote:
> > > > 
> > > > > succeeded in converting Dml2SQL grammar to java. But still 
> the 
> > > same
> > > > > error for SqlSQL2 as the given one:
> > > > >
> > > > > error: grammar DmlSQL2Parser not defined
> > > > > error: grammar DmlSQL2Lexer not defined
> > > > >
> > > > > I tried compiling java files to .class files. Still the 
same 
> > > error.
> > > > > Can anyone guide me whether SqlSQL2 will work or not. 
Thanks.
> > > > >
> > > > > bhuvana.
> > > > >
> > > > > --- In antlr-interest@yahoogroups.com, "bhuvana_t_76"
> > > > > <bhuvana_t_76@y...> wrote:
> > > > >> i tried with changing 'cpp' into 'java'. Still it 
generates 
> cpp
> > > > >> files. Can u pls tell me how I can convert it into java. 
Very
> > > > > urgent.
> > > > >>
> > > > >> Thanks in adv.
> > > > >>
> > > > >> bhuvana.
> > > > >>
> > > > >> --- In antlr-interest@yahoogroups.com, Ric Klaren 
> <klaren@c...>
> > > > > wrote:
> > > > >>> On Fri, Jul 09, 2004 at 11:56:52AM -0000, bhuvana_t_76 
> wrote:
> > > > >>>> Right. There is a DmlSQL2 package available for 
download. I
> > > > > tried
> > > > >> to
> > > > >>>> convert it from grammar to java file. When i give like
> > > > >>>>
> > > > >>>> java antlr.Tool DmlSQL2.g
> > > > >>>>
> > > > >>>> it creates .cpp files. How to get the java stuff from a
> > > > > grammar.
> > > > >> Can
> > > > >>>> u guide me?
> > > > >>>
> > > > >>> Remove the Language = "Cpp"; option but there's probably 
> also
> > > > > other
> > > > >> action
> > > > >>> code you have to port to java.
> > > > >>>
> > > > >>> Cheers,
> > > > >>>
> > > > >>> Ric
> > > > >>> -- 
> > > > >>> -----
> > > > >> 
> > > 
> +++++*****************************************************+++++++++-
> > > > > --
> > > > >> ----
> > > > >>>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 
> > 4893755  --
> > > --
> > > > >>> -----
> > > > >> 
> > > 
> +++++*****************************************************+++++++++-
> > > > > --
> > > > >> ----
> > > > >>>   Quidquid latine dictum sit, altum viditur.
> > > > >>>                  (Whatever is said in Latin sounds 
> profound.)
> > > > >



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Mon Jul 12 22:27:14 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] [Antlr novice]: cannot insert "optional action"
In-Reply-To: <ccvcor+kfnh@eGroups.com>
References: <ccvcor+kfnh@eGroups.com>
Message-ID: <4C4B8FB3-D48D-11D8-ADE6-000393B5606C@codetransform.com>

It's probably something simple.  Reduce it to the smallest complete .g 
file you can that demonstrates the problem and let us have a look at 
it.

Monty

On Jul 12, 2004, at 6:09 PM, mbtmbt wrote:

> I'm trying to add member variable and methods to my TreeParser-
> derived class.  Both the doc (see below) and FAQs tell me that all I
> need to do is put my member variables and methods into { } after the
> options statement.  Yet antlr (2.7.4, Windows, C++) seems to ignore
> them completely.   Any ideas what may be going wrong?
>
> class BlahBlahGenerator extends TreeParser;
>
> options {
>     importVocab=MyVocab;
> }
> {
> int XXXXX; <====== is not included in either .hpp or .cpp file
> }
>
>
> ====================================
> Documentation:
>
> All parser rules must be associated with a parser class. A grammar
> (.g) file may contain only one parser class definitions (along with
> lexers and tree-parsers). A parser class specification precedes the
> options and rule definitions of the parser. A parser specification
> in a grammar file often looks like:
>
> { optional class code preamble }
> class YourParserClass extends Parser;
> options
> tokens
> { optional action for instance vars/methods } <=============
> parser rules...
>
> ===================================
>
> I must be missing something simple :-(
>
> Thank you so very much!
>
> --Mark
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From Anthony.Youngman at ECA-International.com  Tue Jul 13 02:19:14 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Translating from Java to C++
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF93@lnml1.eca-international.local>

It doesn't help that I'm using this to learn C++ ... :-) (although I am
a good C programmer).

g++ doesn't like the $getText.toUpperCase() stuff. I've found toupper()
but it appears to actually change its argument - which I don't want to
do. How do I do that? And are there any decent websites discussing the
standard libraries? I've got the Stroustrup C++ book :-)


IDENT
   : ( ALPHA ( ALPHA|NUMERIC|'.'|'$'|'%')* )
      {
         if (LA(1) == ':' && (getColumn() - $getText.length()) == 1) {
            consume();
            _ttype = LABEL;
         } else {
            // more stuff here
            std::string txt = $getText.toUpperCase();
            _ttype = testLiteralsTable(txt, _ttype);
         }
      }
   ;


****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Tue Jul 13 03:17:45 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Translating from Java to C++
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409AF93@lnml1.eca-international.local>
References: <C7FE35004D40FD45AA342991B88CE40409AF93@lnml1.eca-international.local>
Message-ID: <20040713101744.GE26843@cs.utwente.nl>

On Tue, Jul 13, 2004 at 10:19:14AM +0100, Anthony Youngman wrote:
> It doesn't help that I'm using this to learn C++ ... :-) (although I am
> a good C programmer).

Best advice try to forget C for starters ;)

> g++ doesn't like the $getText.toUpperCase() stuff. I've found toupper()
> but it appears to actually change its argument - which I don't want to
> do. How do I do that? And are there any decent websites discussing the
> standard libraries? I've got the Stroustrup C++ book :-)

#include <algorithm>

std::string s("input123");

std::transform(s.begin(), s.end(), s.begin(),
               static_cast<int(*)(int)>(std::toupper) );

You might have to make copy of the $getText first since its actually a call
to somestring.substr(..). Not 100% sure though.

Depending on your standard library you might have to loose the std
namespace on the toupper.

For STL reference I use the stroustrup book and the sgi website:

http://www.sgi.com/tech/stl/

The stroustrup book is often a bit too sparse in giving the exact thing a
certain method does. The STL site is usually a bit more informing.

I can really recommend getting the Effective C++ books from Scott Meyers
they discuss a lot of common pitfalls (and give a lot of solutions).
There's also a CD version that has the whole contents of the books in
searchable form.

For streams/locale handling and also some string stuff I can recommend the
Standard C++ IOStreams and Locales book from Langer and Kreft. (very good
reference but also a lot of how to + tradeoffs in the solutions)

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
     Human beings, who are almost unique in having the ability to learn
   from the experience of others, are also remarkable for their apparent
         disinclination to do so. --- Douglas Adams, Last Chance to See



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From Anthony.Youngman at ECA-International.com  Tue Jul 13 03:43:17 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Translating from Java to C++
Message-ID: <C7FE35004D40FD45AA342991B88CE40409AF94@lnml1.eca-international.local>

Thanks.

I know the "forget C" advice ... But I'm looking at all this sample
stuff in the book and it doesn't even LOOK like C :-)

Now to try and understand your example in depth - I think I've got it
enough to just copy it into the code ...

Cheers,
Wol

-----Original Message-----
From: Ric Klaren [mailto:klaren@cs.utwente.nl] 
Sent: 13 July 2004 11:18
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] Translating from Java to C++

On Tue, Jul 13, 2004 at 10:19:14AM +0100, Anthony Youngman wrote:
> It doesn't help that I'm using this to learn C++ ... :-) (although I
am
> a good C programmer).

Best advice try to forget C for starters ;)

> g++ doesn't like the $getText.toUpperCase() stuff. I've found
toupper()
> but it appears to actually change its argument - which I don't want to
> do. How do I do that? And are there any decent websites discussing the
> standard libraries? I've got the Stroustrup C++ book :-)



****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From pete.forman at westerngeco.com  Tue Jul 13 03:50:35 2004
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Translating from Java to C++
In-Reply-To: <20040713101744.GE26843@cs.utwente.nl>
References: 
 <" <C7FE35004D40FD45AA342991B88CE40409AF93"@lnml1.eca-international.local>
 <C7FE35004D40FD45AA342991B88CE40409AF93@lnml1.eca-international.local>
Message-ID: <5.1.1.1.2.20040713114638.0248cd48@wgmail2.gatwick.eur.slb.com>

At 2004-07-13 12:17 +0200, Ric Klaren wrote:
>Best advice try to forget C for starters ;)

Further to Ric's good advice, the C++ library reference is available at

http://www.dinkumware.com/refxcpp.html

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From rjc at trump.net.au  Tue Jul 13 05:34:49 2004
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Translating from Java to C++
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409AF94@lnml1.eca-internati
 onal.local>
References: <C7FE35004D40FD45AA342991B88CE40409AF94@lnml1.eca-international.local>
Message-ID: <6.0.3.0.0.20040713220531.01c73128@postoffice.trump.net.au>

Hello,

For what it is worth if you want something free there are all Bruce Eckel's 
books for download:
	http://mindview.net/Books

(The above books are ok, i will refrain from saying the above are the best 
books or anything...mr eckel holds strong opinions on some dubious things 
ie his arguments about checked exceptions).

The Stroustrup book mentioned previously is good as a reference i would 
only use it to learn C++ if you previously had a strong background in other 
OO languages.  Similarly the Meyer's books i have seen are also good as a 
list of idioms to follow *once* you have a reasonable basics in the language.

  - Robert



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Tue Jul 13 09:45:39 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:03 2004
Subject: New antlr-interest member
Message-ID: <1089737139.109.49305.w64@yahoogroups.com>


Hello,

This is an automated email message to let you know that
bujinwang <bujinwang@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From parrt at cs.usfca.edu  Tue Jul 13 13:15:31 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] StringTemplate naming question
Message-ID: <63E149E8-D509-11D8-8B11-000A95891192@cs.usfca.edu>

Howdy...for you StringTemplate users...currently I use $attr$ or <attr> 
to refer to the default attribute that iterates over a list.  For 
example,

$names:{<b>$attr$</b>}$

I'm going to change the name as I don't like attr.  How about $it$ (as 
in "it" or "iterator")?  How about $obj$?

Thanks,
Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Tue Jul 13 14:27:03 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:03 2004
Subject: New antlr-interest member
Message-ID: <1089754023.416.97623.w9@yahoogroups.com>


Hello,

This is an automated email message to let you know that
meissnersd <meissnersd@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From meissnersd at yahoo.com  Tue Jul 13 14:29:34 2004
From: meissnersd at yahoo.com (meissnersd)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] string literal token rule  not working?
Message-ID: <cd1k7u+4lfc@eGroups.com>




For some reason the ? charater can not be in string literals in my 
grammer.  Sends an error message "found ?. expecting '"

In my language strings are surrounded by single quotes. 

Here is the rule to does not work...

STRING_LITERAL
	:	'\'' (~'\'')* '\''
	;

Any ideas?  Something with the ~   must be....




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Tue Jul 13 14:55:45 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] string literal token rule  not working?
In-Reply-To: <cd1k7u+4lfc@eGroups.com>
References: <cd1k7u+4lfc@eGroups.com>
Message-ID: <6441074C-D517-11D8-80A9-000393B5606C@codetransform.com>

You need to set the charVocabulary option, see the documentation about 
it.  ANTLR assumes only characters referenced by the lexer are valid.  
When inverting it only uses that set to invert upon, not the whole 
ASCII or Unicode range.

Monty

On Jul 13, 2004, at 2:29 PM, meissnersd wrote:

>
>
>
> For some reason the ? charater can not be in string literals in my
> grammer.  Sends an error message "found ?. expecting '"
>
> In my language strings are surrounded by single quotes.
>
> Here is the rule to does not work...
>
> STRING_LITERAL
> 	:	'\'' (~'\'')* '\''
> 	;
>
> Any ideas?  Something with the ~   must be....
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Tue Jul 13 16:41:23 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:03 2004
Subject: New antlr-interest member
Message-ID: <1089762083.361.24123.w14@yahoogroups.com>


Hello,

This is an automated email message to let you know that
michael_studman <mstudman@gmx.net> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From Matthew.Ford at forward.com.au  Tue Jul 13 15:08:03 2004
From: Matthew.Ford at forward.com.au (matthew ford)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] StringTemplate naming question
References: <63E149E8-D509-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <000001c46986$1066c040$0400a8c0@NOTEBOOK>

Yes that reservered name has always worried me.

In WebStringTempatesV2 I have introduced the concept of root and current
contexts
The root context is referred to by .  (dot)
the current context is referred to by ..  (doubledot)
Although I handle lists without embedded or sub-templates the concept can
still
be applied to StringTemplates

In WebStringTemplatesV2 instead of
> $names:{<b>$attr$</b>}$
where names is a list, you would say
$[list names]  <!-- this sets each item in the names list as the current
context one at a time-->
<b>$[..]</b>
$[endlist]

where the $[..] returns the current context. I.e the
current item of the name list being processed.

Applying this to StringTemplates
> $names:{<b>$attr$</b>}$
would become
> $names:{<b>$..$</b>}$

If names had the structure
firstname, surname
That is names is a list of maps or beans that contain entries for firstname
and surname
then
> $names:{<b>$attr.firstname$ $attr.surname$</b>}$
would become (under this proposal)
> $names:{<b>$firstname$ $surname$</b>}$
because by default attributes are always looked upwithin the current context
$firstname$ is the same as $..firstname$

if you want to lookup an attribute in the root context then you would use
> $names:{$.title$ <b>$firstname$ $surname$</b>}$
where title exists at the top level (the same level as names)
in $.title$   the leading .  (dot) indicates you are accessing the root
context not the
current context.

Applying this to sub-template calls
gives
$names:list()$
where
the list sub-template contains just
${<b>$..$</b>}$
or
${<b>$.$</b>}$

since initially the root and current context are the same within a template
or sub-template

The use of . and .. removes the need for a pre-defined argument name.
matthew
----- Original Message ----- 
From: "Terence Parr" <parrt@cs.usfca.edu>
To: <antlr-interest@yahoogroups.com>
Sent: Wednesday, July 14, 2004 6:15 AM
Subject: [antlr-interest] StringTemplate naming question


> Howdy...for you StringTemplate users...currently I use $attr$ or <attr>
> to refer to the default attribute that iterates over a list.  For
> example,
>
> $names:{<b>$attr$</b>}$
>
> I'm going to change the name as I don't like attr.  How about $it$ (as
> in "it" or "iterator")?  How about $obj$?
>
> Thanks,
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Wed Jul 14 05:03:30 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:03 2004
Subject: New antlr-interest member
Message-ID: <1089806610.285.98552.w69@yahoogroups.com>


Hello,

This is an automated email message to let you know that
eric_mahurin <eric_mahurin@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From eric_mahurin at yahoo.com  Wed Jul 14 05:08:16 2004
From: eric_mahurin at yahoo.com (Eric Mahurin)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Lookbehind and other regex features
Message-ID: <cd37ng+skdq@eGroups.com>

I posted this on jguru, but it seemed inactive, so I'm trying here.

I'm a ANTLR beginner, but a long time expert of perl and its regular
expressions - including the constructs that have embedded code.

Is there any way to accomplish lookbehind in the lexer or parser? This
is the main thing that I don't immediately see how to do in ANTLR that
I could in Perl's regex's.

Here is a complete list of things easily done in Perl's regex's that
would be nice to have in ANTLR:

(...){m,n} : Match at least m times and at most n. Also make sure that
m and n can be at least integer variables of the target language. n=-1
could represent infinity so that {0,-1} means * and {1,-1} means +
({0,1} means ?). m=-1 could be used to force this alternative to fail-
like a semantic predicate. I realize that these features should be
doable now with semantic predicates watching a counter within a *
loop, but a more concise way would be nice - and not as tied to the
target language.

(...){m,n}? (...)*? (...)+? ?? : Non-greedy matching. I know
"options{greedy=false;}" works, but non-greedy seems commonly useful.
Maybe even have another suffix to set greedy=true to override the
default warning - how about "+" - {}+, *+, ++, ?+. I guess there are
several ways you can deal with greediness: warn if it matters (ANTLR's
default), greedy ignoring following patterns (ANTLR greedy=true, perl
(>...)), greedy with backtracking (ANTLR doesn't do it, perl's
default), non-greedy with backtracking (perl ? suffix to {}, *, +, and
?), and non-greedy w/o backtracking (ANTLR greedy=false, perl ? suffix
to {}, *, +, and ? within (>...)). I realize backtracking is difficult
and slow, but it would be nice to have it on occasion. Syntactic and
semantic predicates do help replace backtracking a little. Another
thing - I'm not sure why ANTLR doesn't allow non-greedy with ? (perl's
??), because it does make sense - only match the ? pattern if the
lookahead doesn't match the pattern following ? pattern.

(?<=...) (?<!...): Positive and negative lookbehind assertions. I
don't know of a way to do this in ANTLR.

(?=...) (?!...): Positive and negative lookahead assertions. I know
semantic predicates going to the cover this (syntactic predicates may
also cover the positive lookahead assertions, but I'm not sure). An
easier to read way of doing it like this would be nice.





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From mtiller at ford.com  Wed Jul 14 07:27:55 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] StringTemplate naming question
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB340483FC58@na1fcm52.dearborn.ford.com>

Are you guys familiar with TAL, the templating system used in Zope?  You
might find it interesting since some very similar ideas are used there.
I recognize that it may be overly specialized for your applications but
I you still might find it interesting to see how they have chosen to
implement similar things.  Here is a link:

http://zope.org/Documentation/Books/ZopeBook/2_6Edition/ZPT.stx

...I suggest turning the comments off (button near the top).  In
addition, I even ran across a Java implementation:

http://webslingerz.com/rossi/jpt/userguide.html

--
Mike


> -----Original Message-----
> From: matthew ford [mailto:Matthew.Ford@forward.com.au]
> Sent: Tuesday, July 13, 2004 6:08 PM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] StringTemplate naming question
> 
> Yes that reservered name has always worried me.
> 
> In WebStringTempatesV2 I have introduced the concept of root and
current
> contexts
> The root context is referred to by .  (dot)
> the current context is referred to by ..  (doubledot)
> Although I handle lists without embedded or sub-templates the concept
can
> still
> be applied to StringTemplates
> 
> In WebStringTemplatesV2 instead of
> > $names:{<b>$attr$</b>}$
> where names is a list, you would say
> $[list names]  <!-- this sets each item in the names list as the
current
> context one at a time-->
> <b>$[..]</b>
> $[endlist]
> 
> where the $[..] returns the current context. I.e the
> current item of the name list being processed.
> 
> Applying this to StringTemplates
> > $names:{<b>$attr$</b>}$
> would become
> > $names:{<b>$..$</b>}$
> 
> If names had the structure
> firstname, surname
> That is names is a list of maps or beans that contain entries for
> firstname
> and surname
> then
> > $names:{<b>$attr.firstname$ $attr.surname$</b>}$
> would become (under this proposal)
> > $names:{<b>$firstname$ $surname$</b>}$
> because by default attributes are always looked upwithin the current
> context
> $firstname$ is the same as $..firstname$
> 
> if you want to lookup an attribute in the root context then you would
use
> > $names:{$.title$ <b>$firstname$ $surname$</b>}$
> where title exists at the top level (the same level as names)
> in $.title$   the leading .  (dot) indicates you are accessing the
root
> context not the
> current context.
> 
> Applying this to sub-template calls
> gives
> $names:list()$
> where
> the list sub-template contains just
> ${<b>$..$</b>}$
> or
> ${<b>$.$</b>}$
> 
> since initially the root and current context are the same within a
> template
> or sub-template
> 
> The use of . and .. removes the need for a pre-defined argument name.
> matthew
> ----- Original Message -----
> From: "Terence Parr" <parrt@cs.usfca.edu>
> To: <antlr-interest@yahoogroups.com>
> Sent: Wednesday, July 14, 2004 6:15 AM
> Subject: [antlr-interest] StringTemplate naming question
> 
> 
> > Howdy...for you StringTemplate users...currently I use $attr$ or
<attr>
> > to refer to the default attribute that iterates over a list.  For
> > example,
> >
> > $names:{<b>$attr$</b>}$
> >
> > I'm going to change the name as I don't like attr.  How about $it$
(as
> > in "it" or "iterator")?  How about $obj$?
> >
> > Thanks,
> > Ter
> > --
> > CS Professor & Grad Director, University of San Francisco
> > Creator, ANTLR Parser Generator, http://www.antlr.org
> > Cofounder, http://www.jguru.com
> > Cofounder, http://www.knowspam.net enjoy email again!
> > Cofounder, http://www.peerscope.com pure link sharing
> >
> >
> >
> >
> >
> >
> > Yahoo! Groups Links
> >
> >
> >
> >
> >
> 
> 
> 
> 
> Yahoo! Groups Links
> 
> 
> 
> 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Wed Jul 14 09:42:08 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:03 2004
Subject: New antlr-interest member
Message-ID: <1089823328.118.20412.w1@yahoogroups.com>


Hello,

This is an automated email message to let you know that
ursatz <ursatz@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From monty at codetransform.com  Wed Jul 14 09:51:06 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Lookbehind and other regex features
In-Reply-To: <cd37ng+skdq@eGroups.com>
References: <cd37ng+skdq@eGroups.com>
Message-ID: <FF950239-D5B5-11D8-BCF8-000393B5606C@codetransform.com>

\On Jul 14, 2004, at 5:08 AM, Eric Mahurin wrote:

> Is there any way to accomplish lookbehind in the lexer or parser? This
> is the main thing that I don't immediately see how to do in ANTLR that
> I could in Perl's regex's.

You could implement this with your own actions in ANTLR if you wanted 
to.  Override match() to keep a lookbehind buffer.  Then just check 
against that with semantic predicates.

I'm not familiar with lookbehind, can you point to some examples of its 
usefulness?  I believe using lexer states serves a similar purpose for 
lexers.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Wed Jul 14 10:19:06 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] StringTemplate naming question
In-Reply-To: <000001c46986$1066c040$0400a8c0@NOTEBOOK>
References: <63E149E8-D509-11D8-8B11-000A95891192@cs.usfca.edu> <000001c46986$1066c040$0400a8c0@NOTEBOOK>
Message-ID: <E90F55D6-D5B9-11D8-8B11-000A95891192@cs.usfca.edu>


On Jul 13, 2004, at 3:08 PM, matthew ford wrote:

> Yes that reservered name has always worried me.
>
> In WebStringTempatesV2 I have introduced the concept of root and 
> current
> contexts
> The root context is referred to by .  (dot)
> the current context is referred to by ..  (doubledot)
> Although I handle lists without embedded or sub-templates the concept 
> can
> still
> be applied to StringTemplates
>
> In WebStringTemplatesV2 instead of
>> $names:{<b>$attr$</b>}$
> where names is a list, you would say
> $[list names]  <!-- this sets each item in the names list as the 
> current
> context one at a time-->
> <b>$[..]</b>
> $[endlist]
>
> where the $[..] returns the current context. I.e the
> current item of the name list being processed.

$...$ is not bad.  I'm leaning towards $obj$ now.

> Applying this to StringTemplates
>> $names:{<b>$attr$</b>}$
> would become
>> $names:{<b>$..$</b>}$
>
> If names had the structure
> firstname, surname
> That is names is a list of maps or beans that contain entries for 
> firstname
> and surname
> then
>> $names:{<b>$attr.firstname$ $attr.surname$</b>}$
> would become (under this proposal)
>> $names:{<b>$firstname$ $surname$</b>}$
> because by default attributes are always looked upwithin the current 
> context
> $firstname$ is the same as $..firstname$

I have a super.template() now, which is a one level "up" operator. :)

Thanks,
Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From ursatz at yahoo.com  Wed Jul 14 09:47:16 2004
From: ursatz at yahoo.com (Bill Clark)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] #include handling - newbie question
Message-ID: <cd3o2k+110ah@eGroups.com>

Hello,

I'm looking for tips on the simplest way to handle #include 
directives in a file to be parsed by ANTLR. I've seen the advice 
that it's not a problem that ANTLR is well-suited to solve, but I'm 
not sure what's the best way to go about this. I can easily write a 
preprocessor that just inserts the contents of the included file in 
the stream that's handed to the lexer, but then I don't see a good 
way to provide line numbers/filenames in error messages. 

It seems like there ought to be a simple way to deal with this 
general problem; am I missing it?

Thanks,
Bill





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jul 14 10:36:12 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] #include handling - newbie question
In-Reply-To: <cd3o2k+110ah@eGroups.com>
References: <cd3o2k+110ah@eGroups.com>
Message-ID: <4C99C7DE-D5BC-11D8-BCF8-000393B5606C@codetransform.com>

You can set up a lexer rule for #include which, in its action, creates 
a new lexer for the other file and then switches lexer states to use 
that lexer.

See examples/cpp/includeFile in the antlr distribution.

Note to Ter, we ought to have that as a java example as well!

Monty

On Jul 14, 2004, at 9:47 AM, Bill Clark wrote:

> Hello,
>
> I'm looking for tips on the simplest way to handle #include
> directives in a file to be parsed by ANTLR. I've seen the advice
> that it's not a problem that ANTLR is well-suited to solve, but I'm
> not sure what's the best way to go about this. I can easily write a
> preprocessor that just inserts the contents of the included file in
> the stream that's handed to the lexer, but then I don't see a good
> way to provide line numbers/filenames in error messages.
>
> It seems like there ought to be a simple way to deal with this
> general problem; am I missing it?
>
> Thanks,
> Bill
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Wed Jul 14 10:53:48 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Re: Lookbehind and other regex features
In-Reply-To: <FF950239-D5B5-11D8-BCF8-000393B5606C@codetransform.com>
Message-ID: <cd3rvc+a5e4@eGroups.com>

--- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> wrote:
> \On Jul 14, 2004, at 5:08 AM, Eric Mahurin wrote:
> 
> > Is there any way to accomplish lookbehind in the lexer or parser? This
> > is the main thing that I don't immediately see how to do in ANTLR that
> > I could in Perl's regex's.
> 
> You could implement this with your own actions in ANTLR if you wanted 
> to.  Override match() to keep a lookbehind buffer.  Then just check 
> against that with semantic predicates.
> 
> I'm not familiar with lookbehind, can you point to some examples of its 
> usefulness?  I believe using lexer states serves a similar purpose for 
> lexers.
> 
> Monty

Yep, that sounds like a solution.  Semantic predicates seem to cover a
lot.

Actually, I think the usefulness is probably limited.  Even with
regex's the lookbehind wasn't introduced until recently.  I think the
main uses would be in the lexer, but I haven't thought about it too
much.  A prime example would be for finding the beginning of a line -
last character was newline or beginning of file.  But, I know this can
be done now with the column variable in a semantic predicate.

I'm doing a good job convincing, am I?  I just noticed it as a missing
feature and pointed it out.  I was just thinking that it would be nice
if the lookahead buffer extended in the other direction so that you
could access say LA(-1), LA(-2), etc.  No syntax changes to the ANTLR
language for now - other than having a new option for the lookbehind
depth (defaulting to zero).

Do you know of a place for feature requests?  Or is it here?





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Wed Jul 14 11:09:36 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] #include handling - newbie question
In-Reply-To: <cd3o2k+110ah@eGroups.com>
References: <cd3o2k+110ah@eGroups.com>
Message-ID: <F725DD58-D5C0-11D8-8B11-000A95891192@cs.usfca.edu>

On Jul 14, 2004, at 9:47 AM, Bill Clark wrote:

> Hello,
>
> I'm looking for tips on the simplest way to handle #include
> directives in a file to be parsed by ANTLR. I've seen the advice
> that it's not a problem that ANTLR is well-suited to solve, but I'm
> not sure what's the best way to go about this. I can easily write a
> preprocessor that just inserts the contents of the included file in
> the stream that's handed to the lexer, but then I don't see a good
> way to provide line numbers/filenames in error messages.
>
> It seems like there ought to be a simple way to deal with this
> general problem; am I missing it?

ANTLR can do nested lexers no sweat.  I launch a new lexer to handle 
each include file.  I believe at my CS652 site (see the link in 
documentation on antlr.org) I have a lecture (including audio) on 
include files.
Ter

--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Wed Jul 14 11:16:35 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:03 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1089828995.658.57828.m25@yahoogroups.com>


Hello,

This is an automated email message to let you know that
mbtmbt <mbt@alum.mit.edu> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Wed Jul 14 11:12:03 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Re: Lookbehind and other regex features
In-Reply-To: <cd3rvc+a5e4@eGroups.com>
References: <cd3rvc+a5e4@eGroups.com>
Message-ID: <4F06E9A0-D5C1-11D8-8E55-000393B5606C@codetransform.com>

Here is good.  CC'ing Terence might be smart too, sometimes he can't 
monitor the list very closely.

On Jul 14, 2004, at 10:53 AM, thrutchy wrote:

>
> Do you know of a place for feature requests?  Or is it here?

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Wed Jul 14 14:44:38 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] AST writer
Message-ID: <cd49g6+vhq4@eGroups.com>

Is there a way to write out an AST in the same format as it was parsed
into the AST without having to write a tree-parser rule for each rule
of the parser?  To do this, I would assume you couldn't put in any
"!"/"^" in the rules and the text can't be munged or ignored (i.e.
whitespace/comments).

I would like to write a language munger that does this:

1. Read language input into an AST

2. Do manipulations to the AST (via a tree-walker or manually)

3. Write the AST out in the same input language

I would prefer not to have to specify the language twice - once in the
parser and once in the writer.




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jul 14 15:31:46 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] AST writer
In-Reply-To: <cd49g6+vhq4@eGroups.com>
References: <cd49g6+vhq4@eGroups.com>
Message-ID: <97077116-D5E5-11D8-8541-000393B5606C@codetransform.com>

Well, if you don't do "!" or "^" then you don't have a tree, you have a 
list.  Or actually a TokenStream.

See Ter's article http://www.antlr.org/article/rewrite.engine/index.tml

Monty

On Jul 14, 2004, at 2:44 PM, thrutchy wrote:

> Is there a way to write out an AST in the same format as it was parsed
> into the AST without having to write a tree-parser rule for each rule
> of the parser?  To do this, I would assume you couldn't put in any
> "!"/"^" in the rules and the text can't be munged or ignored (i.e.
> whitespace/comments).
>
> I would like to write a language munger that does this:
>
> 1. Read language input into an AST
>
> 2. Do manipulations to the AST (via a tree-walker or manually)
>
> 3. Write the AST out in the same input language
>
> I would prefer not to have to specify the language twice - once in the
> parser and once in the writer.
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jul 15 01:37:09 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:03 2004
Subject: New antlr-interest member
Message-ID: <1089880629.61.17458.w20@yahoogroups.com>


Hello,

This is an automated email message to let you know that
swaroopchoudhari <choudhari@gmail.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Thu Jul 15 06:50:13 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:03 2004
Subject: New antlr-interest member
Message-ID: <1089899413.79.51287.w1@yahoogroups.com>


Hello,

This is an automated email message to let you know that
vonwedel@aixcape.org joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From vonwedel at aixcape.org  Thu Jul 15 06:57:25 2004
From: vonwedel at aixcape.org (Lars von Wedel)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Simply dump file contents between regular lines?
Message-ID: <006401c46a73$ab8044f0$de7c8286@dagama>


Hello,

I'd like to create a parser which can parse a file with lines that have
a regular syntax followed by several lines of arbitrary text. This text
is like a comment, but may not be dumped as it is needed in the
follow-up processing step.

I am able to parse the regular lines successfully. Further, I have
achieved to parse the comment lines if they consist of simple labels or
numbers. However, when I try to allow special characters within the
comment I get lots of non-determinism warnings.

Is there any way to tell ANTLR to call a special method in my code for
anything which does not match any of the given parse rules?

Thanks,
Lars







 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jul 15 07:21:30 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:03 2004
Subject: New antlr-interest member
Message-ID: <1089901290.84.33287.w60@yahoogroups.com>


Hello,

This is an automated email message to let you know that
thomas_huber03 <thomas_huber03@yahoo.de> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From klaren at cs.utwente.nl  Thu Jul 15 08:10:19 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] #include handling - newbie question
In-Reply-To: <cd3o2k+110ah@eGroups.com>
References: <cd3o2k+110ah@eGroups.com>
Message-ID: <20040715151019.GD4105@cs.utwente.nl>

On Wed, Jul 14, 2004 at 04:47:16PM -0000, Bill Clark wrote:
> I'm looking for tips on the simplest way to handle #include 
> directives in a file to be parsed by ANTLR. I've seen the advice 
> that it's not a problem that ANTLR is well-suited to solve, but I'm 
> not sure what's the best way to go about this. I can easily write a 
> preprocessor that just inserts the contents of the included file in 
> the stream that's handed to the lexer, but then I don't see a good 
> way to provide line numbers/filenames in error messages. 
> 
> It seems like there ought to be a simple way to deal with this 
> general problem; am I missing it?

You might get some inspiration from this code:

http://wwwhome.cs.utwente.nl/~klaren/antlr/CPPParser.tar.bz2

It's a modification of the C++ parser from David Wigg. It adds custom
tokens with file names and rudimentary #include handling inclusive include
guards. (it was a bit of an experiment the code is rough be sure to read
the readme coming with it) One extra step that could be added is custom
ast's with file/line info. The includeFile C++ example Monty mentioned is a
lot simpler though if you're new to antlr.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 "Don't call me stupid." "Oh, right. To call you stupid would be an insult
    to stupid people. I've known sheep that could outwit you! I've worn
              dresses with higher IQs!" --- A Fish Called Wanda



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Thu Jul 15 08:17:29 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Simply dump file contents between regular lines?
In-Reply-To: <006401c46a73$ab8044f0$de7c8286@dagama>
References: <006401c46a73$ab8044f0$de7c8286@dagama>
Message-ID: <20040715151729.GE4105@cs.utwente.nl>

Hi,

On Thu, Jul 15, 2004 at 03:57:25PM +0200, Lars von Wedel wrote:
> I'd like to create a parser which can parse a file with lines that have
> a regular syntax followed by several lines of arbitrary text. This text
> is like a comment, but may not be dumped as it is needed in the
> follow-up processing step.
> 
> I am able to parse the regular lines successfully. Further, I have
> achieved to parse the comment lines if they consist of simple labels or
> numbers. However, when I try to allow special characters within the
> comment I get lots of non-determinism warnings.

There's a number of ways to go about this and it kindoff depends on what
you'd exactly want.

1. You can use different lexers for the normal lines and the comment lines.
Check out the multiLexer examples from the distribution.

2. In some cases you might be able to us the filter option from the lexer.
(probably not in your case) (this does not work for parsers)

3. In another case you might look at the hidden token approach to 'hide'
the comment parts. Check out the preserveWhitespace example.

4. The tokenStreamRewrite stuff could also apply in some cases. Check out
the tokenStreamRewrite examples. (C++ version is available only in
development version (unreleased yet))

Could well be that you need a combination of 1 and 3.

> Is there any way to tell ANTLR to call a special method in my code for
> anything which does not match any of the given parse rules?

Not really. Or you have to meddle a lot with the error handling mechanisms
(probably a lot of headache while the options above might be better suited).

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
     "Evil will always triumph, because Good is dumb." ---  Spaceballs



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jul 15 08:53:33 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:03 2004
Subject: New antlr-interest member
Message-ID: <1089906813.201.46245.w67@yahoogroups.com>


Hello,

This is an automated email message to let you know that
bhiggins124 <barry@exaltec.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From eric_mahurin at yahoo.com  Thu Jul 15 11:30:10 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Determinig the real ambiguities
Message-ID: <cd6ifi+4su0@eGroups.com>

Is there a way to turn off the ambiguities warnings that aren't real
and only affection the parser prediction (and thus performance)?  Here
is an example:

a_must_have_c : (A)? (B)+ C D | (B)+ D ;

It thinks these alternatives are ambiguous because they both can start
with an indeterminate amount of B's, but the ambiguity is resolved
right after that.

I assume ANTLR will try matching the first alternative and then go to
the second if the input matches the second alternative.  Is that correct?

I know that there are several ways I can turn off the warnings
(syntactic predicate, options), but it would be nice if ANTLR could
figure out that the alternatives really don't overlap even though it
may predict the wrong alternative.  Eventually, it would be good to
fix as many of these mispredictions as possible, but initially
functionality is what matters.

Eric





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From serge.bogdanov at intel.com  Thu Jul 15 11:42:54 2004
From: serge.bogdanov at intel.com (Bogdanov, Serge)
Date: Mon Dec 20 16:17:03 2004
Subject: [antlr-interest] Determinig the real ambiguities
Message-ID: <F98554BEA138804398918B03B19F9132A84A99@hdsmsx403.hd.intel.com>

>a_must_have_c : (A)? (B)+ C D | (B)+ D ;

How about 
	a_must_have_c : A (B)+ C D | (B)+ D;

>> Sergey Bogdanov
intel massachusetts
M/S HD2-246
77 Reed Road, 
Hudson, MA  01749
Tel: (978)553-2724

>-----Original Message-----
>From: thrutchy [mailto:eric_mahurin@yahoo.com]
>Sent: Thursday, July 15, 2004 2:30 PM
>To: antlr-interest@yahoogroups.com
>Subject: [antlr-interest] Determinig the real ambiguities
>
>Is there a way to turn off the ambiguities warnings that aren't real
>and only affection the parser prediction (and thus performance)?  Here
>is an example:
>
>a_must_have_c : (A)? (B)+ C D | (B)+ D ;
>
>It thinks these alternatives are ambiguous because they both can start
>with an indeterminate amount of B's, but the ambiguity is resolved
>right after that.
>
>I assume ANTLR will try matching the first alternative and then go to
>the second if the input matches the second alternative.  Is that
correct?
>
>I know that there are several ways I can turn off the warnings
>(syntactic predicate, options), but it would be nice if ANTLR could
>figure out that the alternatives really don't overlap even though it
>may predict the wrong alternative.  Eventually, it would be good to
>fix as many of these mispredictions as possible, but initially
>functionality is what matters.
>
>Eric
>
>
>
>
>
>
>Yahoo! Groups Links
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Thu Jul 15 11:47:20 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Determinig the real ambiguities
In-Reply-To: <cd6ifi+4su0@eGroups.com>
References: <cd6ifi+4su0@eGroups.com>
Message-ID: <6743F512-D68F-11D8-8541-000393B5606C@codetransform.com>

There is a subrule option warnWhenFollowAmbig which you can set to 
false.  See http://www.antlr.org/doc/options.html#_bb15

Also, the code generated by ANTLR is quite readable and is the very 
best way to learn what ANTLR is doing.  ANTLR uses a lookahead 
compression scheme which we used to call linear approximate lookahead 
but which I think is really SLL.  Anyhow you'll notice that ANTLR ORs 
all the LA(1) tests together and then ANDS that to the LA(2) tests ORed 
together.  This usually works well, but in some situations it can cause 
ambiguities which need to be solved by syntactic predicates or rule 
refactoring.

Monty

On Jul 15, 2004, at 11:30 AM, thrutchy wrote:

> Is there a way to turn off the ambiguities warnings that aren't real
> and only affection the parser prediction (and thus performance)?  Here
> is an example:
>
> a_must_have_c : (A)? (B)+ C D | (B)+ D ;
>
> It thinks these alternatives are ambiguous because they both can start
> with an indeterminate amount of B's, but the ambiguity is resolved
> right after that.
>
> I assume ANTLR will try matching the first alternative and then go to
> the second if the input matches the second alternative.  Is that 
> correct?
>
> I know that there are several ways I can turn off the warnings
> (syntactic predicate, options), but it would be nice if ANTLR could
> figure out that the alternatives really don't overlap even though it
> may predict the wrong alternative.  Eventually, it would be good to
> fix as many of these mispredictions as possible, but initially
> functionality is what matters.
>
> Eric
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Thu Jul 15 11:51:58 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Determinig the real ambiguities
In-Reply-To: <F98554BEA138804398918B03B19F9132A84A99@hdsmsx403.hd.intel.com>
References: <F98554BEA138804398918B03B19F9132A84A99@hdsmsx403.hd.intel.com>
Message-ID: <0CE1AAF0-D690-11D8-8541-000393B5606C@codetransform.com>

Ok, with this particular example you need a syntactic predicate, also 
known as "infinite lookahead."  Note that for any value of k this is a 
real ambiguity.

a_must_have_c : ((A)? (B)+ C)=> (A)? (B)+ C D
			  | (B)+ D ;

The other thing to do is to factor the rule, sometimes that is 
practical, sometimes it isn't, depending on your actions & tree 
building.

Monty


On Jul 15, 2004, at 11:42 AM, Bogdanov, Serge wrote:

>> a_must_have_c : (A)? (B)+ C D | (B)+ D ;
>
> How about
> 	a_must_have_c : A (B)+ C D | (B)+ D;
>
>>> Sergey Bogdanov
> intel massachusetts
> M/S HD2-246
> 77 Reed Road,
> Hudson, MA  01749
> Tel: (978)553-2724
>
>> -----Original Message-----
>> From: thrutchy [mailto:eric_mahurin@yahoo.com]
>> Sent: Thursday, July 15, 2004 2:30 PM
>> To: antlr-interest@yahoogroups.com
>> Subject: [antlr-interest] Determinig the real ambiguities
>>
>> Is there a way to turn off the ambiguities warnings that aren't real
>> and only affection the parser prediction (and thus performance)?  Here
>> is an example:
>>
>> a_must_have_c : (A)? (B)+ C D | (B)+ D ;
>>
>> It thinks these alternatives are ambiguous because they both can start
>> with an indeterminate amount of B's, but the ambiguity is resolved
>> right after that.
>>
>> I assume ANTLR will try matching the first alternative and then go to
>> the second if the input matches the second alternative.  Is that
> correct?
>>
>> I know that there are several ways I can turn off the warnings
>> (syntactic predicate, options), but it would be nice if ANTLR could
>> figure out that the alternatives really don't overlap even though it
>> may predict the wrong alternative.  Eventually, it would be good to
>> fix as many of these mispredictions as possible, but initially
>> functionality is what matters.
>>
>> Eric
>>
>>
>>
>>
>>
>>
>> Yahoo! Groups Links
>>
>>
>>
>>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From anakreonmejdi at yahoo.gr  Thu Jul 15 12:36:28 2004
From: anakreonmejdi at yahoo.gr (Anakreon)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Determinig the real ambiguities
In-Reply-To: <cd6ifi+4su0@eGroups.com>
References: <cd6ifi+4su0@eGroups.com>
Message-ID: <40F6DCBC.1060109@yahoo.gr>

Monty should have provided the answer to your question.
Instead of
a_must_have_c : (A)? (B)+ C D | (B)+ D ;
I would try this to resolve the ambiguities:
a_must_have_c 
:
A (B)+ C D
| (B)+ (C)? D
;

I guess this should not generate ambiguities and matches
the same input as your version of a_must_have_c.

Anakreon.


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jul 15 12:49:57 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:04 2004
Subject: New antlr-interest member
Message-ID: <1089920997.99.57950.w58@yahoogroups.com>


Hello,

This is an automated email message to let you know that
AJyothi <ajyothi@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From eric_mahurin at yahoo.com  Thu Jul 15 13:00:31 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Re: Determinig the real ambiguities
In-Reply-To: <0CE1AAF0-D690-11D8-8541-000393B5606C@codetransform.com>
Message-ID: <cd6nov+v8od@eGroups.com>

So, without the syntactic predicate, it won't work?  I thought it
would try the first alternative and then go to the second if it fails.
 That's not correct?  I guess only syntactic predicates only allow
that type of thing.

Syntactic predicates look like they can mask warnings.  For example,
this masks the warning, but I don't think will work:

a_must_have_c : ((A)? (B)+)=> (A)? (B)+ C D | (B)+ D ;

It would be nice if ANTLR had the smarts to figure out that these two
alternatives really aren't ambiguous (from an infinite lookahead
perspective) and then do the right thing, but I know that could be
quite difficult.  Instead maybe an easier stop-gap solution would be
to provide an option to resolve what it thinks are ambiguities by
predicating the first of every pair of ambiguous alternatives by that
alternative.  For example:

a_must_have_c options{generateAmbigWarnings=predicate;}
    : (A)? (B)+ C D
    | (B)+ D
    ;

would be equivalent to:

a_must_have_c
    : ((A)? (B)+ C D) => (A)? (B)+ C D
    | (B)+ D
    ;

Or you could think of this option as turning on backtracking (like in
regex's) where it thinks it might make a difference.  Probably
something similar could be done for conditional and loop constructs:

(options{generateAmbigWarnings=predicate;}: xyz)(*|+|?)

would be the same as the following if it thinks there is an ambiguity:

((xyz)=>xyz)(*|+|?)

Of course a more concise way to specify this instead of these long
options would be nice.

Eric

--- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> wrote:
> Ok, with this particular example you need a syntactic predicate, also 
> known as "infinite lookahead."  Note that for any value of k this is a 
> real ambiguity.
> 
> a_must_have_c : ((A)? (B)+ C)=> (A)? (B)+ C D
> 			  | (B)+ D ;
> 
> The other thing to do is to factor the rule, sometimes that is 
> practical, sometimes it isn't, depending on your actions & tree 
> building.
> 
> Monty
> 
> 
> On Jul 15, 2004, at 11:42 AM, Bogdanov, Serge wrote:
> 
> >> a_must_have_c : (A)? (B)+ C D | (B)+ D ;
> >
> > How about
> > 	a_must_have_c : A (B)+ C D | (B)+ D;
> >
> >>> Sergey Bogdanov
> > intel massachusetts
> > M/S HD2-246
> > 77 Reed Road,
> > Hudson, MA  01749
> > Tel: (978)553-2724
> >
> >> -----Original Message-----
> >> From: thrutchy [mailto:eric_mahurin@y...]
> >> Sent: Thursday, July 15, 2004 2:30 PM
> >> To: antlr-interest@yahoogroups.com
> >> Subject: [antlr-interest] Determinig the real ambiguities
> >>
> >> Is there a way to turn off the ambiguities warnings that aren't real
> >> and only affection the parser prediction (and thus performance)?
 Here
> >> is an example:
> >>
> >> a_must_have_c : (A)? (B)+ C D | (B)+ D ;
> >>
> >> It thinks these alternatives are ambiguous because they both can
start
> >> with an indeterminate amount of B's, but the ambiguity is resolved
> >> right after that.
> >>
> >> I assume ANTLR will try matching the first alternative and then go to
> >> the second if the input matches the second alternative.  Is that
> > correct?
> >>
> >> I know that there are several ways I can turn off the warnings
> >> (syntactic predicate, options), but it would be nice if ANTLR could
> >> figure out that the alternatives really don't overlap even though it
> >> may predict the wrong alternative.  Eventually, it would be good to
> >> fix as many of these mispredictions as possible, but initially
> >> functionality is what matters.
> >>
> >> Eric
> >>
> >>
> >>
> >>
> >>
> >>
> >> Yahoo! Groups Links
> >>
> >>
> >>
> >>
> >
> >
> >
> >
> > Yahoo! Groups Links
> >
> >
> >
> >
> >
> >
> >
> >
> 
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit -- 
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Thu Jul 15 13:19:21 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Re: Determinig the real ambiguities
In-Reply-To: <cd6nov+v8od@eGroups.com>
References: <cd6nov+v8od@eGroups.com>
Message-ID: <41D88A02-D69C-11D8-8B11-000A95891192@cs.usfca.edu>

On Jul 15, 2004, at 1:00 PM, thrutchy wrote:
> So, without the syntactic predicate, it won't work?  I thought it
> would try the first alternative and then go to the second if it fails.
>  That's not correct?  I guess only syntactic predicates only allow
> that type of thing.

Correct.

> Syntactic predicates look like they can mask warnings.

Yup.  It indicates you know what you are doing :)

> It would be nice if ANTLR had the smarts to figure out that these two
> alternatives really aren't ambiguous (from an infinite lookahead
> perspective) and then do the right thing, but I know that could be
> quite difficult.

It is. ;)  However, the new ANTLR 3.0 prototype handles this situation 
trivially.  It tries more and more lookahead until it realizes it needs 
arbitrary lookahead and then it builds a tight little DFA that walks 
out until it sees the C or D and then it knows which production will 
succeed using real parsing.  Here is one of my unit tests:

     public void testAStarBOrAStarC() throws Exception {
         Grammar g = new Grammar(
                 "grammar t;\n"+
                 "a : (A)* B | (A)* C;");
         String expecting =
                 ".s0-A->:s2=>1\n" +
                 ".s0-B->:s1=>2\n";
         checkDecision(g, 1, expecting, null); // loopback
         expecting =
                 ".s0-A->:s2=>1\n" +
                 ".s0-C->:s1=>2\n";
         checkDecision(g, 2, expecting, null); // loopback
         expecting =
                 ".s0-A->.s1\n" +
                 ".s0-B->:s2=>1\n" +
                 ".s0-C->:s3=>2\n" +
                 ".s1-A->.s1\n" +
                 ".s1-B->:s2=>1\n" +
                 ".s1-C->:s3=>2\n";
         checkDecision(g, 3, expecting, null); // rule block
     }

The decision 3 is for the rule block (last one) and it builds the DFA 
described linearly in text, but if you draw it out, you'll see that it 
correctly predicts alts 1 and 2.  "=>1" means predict alt 1. ".s1" is 
state 1 and ":s3" is accept state 3.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Thu Jul 15 13:19:20 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Re: Determinig the real ambiguities
In-Reply-To: <40F6DCBC.1060109@yahoo.gr>
Message-ID: <cd6os8+fq7r@eGroups.com>

Thanks.  I'll use this.  I was trying come up with an example that
wasn't so easily solved.  Here's another that I'm using and haven't
figured out:

a_or_b
    : expression A
    | constant_expression B
    ;

constant_expression is a rule that matches a subset of expression.  A
can follow an expression (or constant_expression) and B can only
follow a constant_expression.

But, I'm really not trying to solve a specfic ambiguity in a rule. 
I'm wanting to discuss this in general terms.

Eric

--- In antlr-interest@yahoogroups.com, Anakreon <anakreonmejdi@y...>
wrote:
> Monty should have provided the answer to your question.
> Instead of
> a_must_have_c : (A)? (B)+ C D | (B)+ D ;
> I would try this to resolve the ambiguities:
> a_must_have_c 
> :
> A (B)+ C D
> | (B)+ (C)? D
> ;
> 
> I guess this should not generate ambiguities and matches
> the same input as your version of a_must_have_c.
> 
> Anakreon.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Thu Jul 15 15:46:40 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Re: Determinig the real ambiguities
In-Reply-To: <41D88A02-D69C-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <cd71gg+4vbt@eGroups.com>

--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
> It is. ;)  However, the new ANTLR 3.0 prototype handles this situation 
> trivially.  It tries more and more lookahead until it realizes it needs 
> arbitrary lookahead and then it builds a tight little DFA that walks 
> out until it sees the C or D and then it knows which production will 
> succeed using real parsing.

Very nice.  I think this will help out quite a bit.  I assume you will
still be able to have it let you know when it is resorting to this so
that the grammar can be refactored to not do the DFA thing and be
faster.   Or better yet, have ANTLR do the refactoring for at least
simple cases...

How do yo see ANTLR 3.0 comparing to Perl 5.6+ regular expressions? 
If I had to do it again, I may have written the grammar of the
language I'm parsing in Perl because a) I already knew it, b)
backtracking helps resolve issues that ANTLR has (i.e. this thread
topic), c) no separation of lexer and parser.  I think the main thing
in Perl 5.6+ that gives it the parsing capability is the (??{ code }),
where code would be another (or the same - recursion) regular
expression.  But, to do it this way you'd have to read the entire file
into a string first, whereas ANTLR doesn't have to do this.

Do you see the parser and lexer in ANTLR becoming one in the same at
some point?  One could choose what the input (character or token
stream, etc) and output (token stream or AST) would be.

Do you have a feature list of ANTLR 3.0 around somewhere?

Thanks for the tool, Terrance!




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Thu Jul 15 16:09:14 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:04 2004
Subject: New antlr-interest member
Message-ID: <1089932954.133.47416.w8@yahoogroups.com>


Hello,

This is an automated email message to let you know that
pankai1999 <pankai1999@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From pankai1999 at yahoo.com  Thu Jul 15 16:10:20 2004
From: pankai1999 at yahoo.com (pankai1999)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] How to get the text that matches an entire parser rule?
Message-ID: <cd72ss+in25@eGroups.com>

Is there any method like getText() or other easy ways to get the text
that matches an entire parser rule? Thanks.




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Fri Jul 16 06:10:04 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] handling a common prefix
Message-ID: <cd8k3c+iho1@eGroups.com>

I'm parsing verilog 2000 that allows almost every construct to be
optionally prefixed by something like this:

(* attribute = expression *)

Because it can appear in front of just about any construct and it has
an indeterminate number of tokens (due to expression), it is causing
ambiguities all over the place.

I think one possible solution would be to treat this whole thing as a
token by the lexer.  I don't really like this solution because I will
eventually have to go parse what's inside.

Is there something else I can do?  I want something in between a token
and a parser rule - psuedo token, where the rest of the parser treats
it as a token so that it can easily look ahead and resolve
ambiguities, but it can still be parsed into it's individual components.

Eric




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Fri Jul 16 08:01:50 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:04 2004
Subject: New antlr-interest member
Message-ID: <1089990110.77.47862.w51@yahoogroups.com>


Hello,

This is an automated email message to let you know that
johnj1984 <johnj1984@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From monty at codetransform.com  Fri Jul 16 08:25:02 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] handling a common prefix
In-Reply-To: <cd8k3c+iho1@eGroups.com>
References: <cd8k3c+iho1@eGroups.com>
Message-ID: <4EA2BAB2-D73C-11D8-8541-000393B5606C@codetransform.com>

Lexers can behave very much like parsers, some people put parser 
functionality into lexers for awkward languages like COBOL or FORTRAN.

Also, see my article on parser filters.  
http://www.codetransform.com/filterexample.html  That way uou could 
have a real parser working the token stream, but then package up the 
prefix constructs into a single token.  Not quite what the example 
shows, but I'm sure you can get the general idea from it and figure it 
out.

I'm heading for a long weekend so I won't be able to answer any more 
'til Monday.

Monty


ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html

On Jul 16, 2004, at 6:10 AM, thrutchy wrote:

> I'm parsing verilog 2000 that allows almost every construct to be
> optionally prefixed by something like this:
>
> (* attribute = expression *)
>
> Because it can appear in front of just about any construct and it has
> an indeterminate number of tokens (due to expression), it is causing
> ambiguities all over the place.
>
> I think one possible solution would be to treat this whole thing as a
> token by the lexer.  I don't really like this solution because I will
> eventually have to go parse what's inside.
>
> Is there something else I can do?  I want something in between a token
> and a parser rule - psuedo token, where the rest of the parser treats
> it as a token so that it can easily look ahead and resolve
> ambiguities, but it can still be parsed into it's individual 
> components.
>
> Eric



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Fri Jul 16 12:12:30 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Re: Determinig the real ambiguities
In-Reply-To: <cd71gg+4vbt@eGroups.com>
References: <cd71gg+4vbt@eGroups.com>
Message-ID: <158D5710-D75C-11D8-8B11-000A95891192@cs.usfca.edu>


On Jul 15, 2004, at 3:46 PM, thrutchy wrote:

> --- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
>> It is. ;)  However, the new ANTLR 3.0 prototype handles this situation
>> trivially.  It tries more and more lookahead until it realizes it 
>> needs
>> arbitrary lookahead and then it builds a tight little DFA that walks
>> out until it sees the C or D and then it knows which production will
>> succeed using real parsing.
>
> Very nice.  I think this will help out quite a bit.  I assume you will
> still be able to have it let you know when it is resorting to this so
> that the grammar can be refactored to not do the DFA thing and be
> faster.   Or better yet, have ANTLR do the refactoring for at least
> simple cases...

ANTLR will be able to profile your grammar and even be able to tell you 
if it's fixed k or arbitrary lookahead for each decision point.  
Refactoring is something that Loring Craymer is all hot-n-bothered 
about. :)

> How do yo see ANTLR 3.0 comparing to Perl 5.6+ regular expressions?

ANTLR will always have less bells and whistles than PERL.  I like 
simplicity.  Plus, perl has to overcome lack of a real parser (though I 
hear they are making one) with complicated regular expressions.  
Lookback / ahead in perl are primarily used I'm sure to make up for the 
fact that you don't have a real grammar giving you context information.

> Do you see the parser and lexer in ANTLR becoming one in the same at
> some point?

Yes, a unified parser/lexer is planned.

>   One could choose what the input (character or token
> stream, etc) and output (token stream or AST) would be.
>
> Do you have a feature list of ANTLR 3.0 around somewhere?

Not really ;)  You can look at the cabal notes and other stuff on the 
blog

http://www.antlr.org/blog/index.tml

> Thanks for the tool, Terrance!

At your service,

Terence
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From mtiller at ford.com  Fri Jul 16 12:49:39 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Can't create AST Node?
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB3404023A42@na1fcm52.dearborn.ford.com>


> From: Monty Zukowski [mailto:monty@codetransform.com]
> Subject: Re: [antlr-interest] Can't create AST Node?
> 
> > One last comment, I suspect that it might be useful to provide
> > automatic
> > "visitor generation" for people where visitors seem more attractive
> > (ala
> > SableCC?).
> 
> Seems like that would be easy enough to add.

Specifically, you might want to take a look at Chapter 6 of this:

http://sablecc.org/downloads/thesis.pdf

I found it quite interesting and found myself craving such features
(although what do I know).

--
Mike




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Fri Jul 16 13:05:30 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Can't create AST Node?
In-Reply-To: <FD35CB8B26F9534E86D1AC31F401AB3404023A42@na1fcm52.dearborn.ford.com>
References: <FD35CB8B26F9534E86D1AC31F401AB3404023A42@na1fcm52.dearborn.ford.com>
Message-ID: <7CAD5712-D763-11D8-8B11-000A95891192@cs.usfca.edu>


On Jul 16, 2004, at 12:49 PM, Tiller, Michael (M.M.) wrote:

>
>> From: Monty Zukowski [mailto:monty@codetransform.com]
>> Subject: Re: [antlr-interest] Can't create AST Node?
>>
>>> One last comment, I suspect that it might be useful to provide
>>> automatic
>>> "visitor generation" for people where visitors seem more attractive
>>> (ala
>>> SableCC?).
>>
>> Seems like that would be easy enough to add.
>
> Specifically, you might want to take a look at Chapter 6 of this:
>
> http://sablecc.org/downloads/thesis.pdf
>
> I found it quite interesting and found myself craving such features
> (although what do I know).

Hi Mike,

SableCC is nice.  A visitor is sometimes precisely what you want, but 
more often you want to apply grammatical structure (i.e., context) 
rather than just say 'when I'm in this node, print this value'.  From 
my skim I couldn't see how it was different.  Can you help me out?  Is 
it building a visitor that is sensitive to the structure you create in 
the parser?  Can I use this context when visiting or is it still a 
node-centric algorithm?

Thanks,
Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From johnj1984 at yahoo.com  Fri Jul 16 11:02:38 2004
From: johnj1984 at yahoo.com (johnj1984)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Example of source-to-source translation, searching archives
Message-ID: <cd957u+4q5u@eGroups.com>

Hello All,  
  Is there any concrete example of a source-to-source antlr project 
somewhere? I've read the excellent XL Lexer/Parser tutorial, 
unfortunately that stops just when it gets interesting: How do I use 
AST trees to generate source code for another language? Most examples 
I've seen stop at using the AST to compute expressions.

  Also, how can I search the yahoo archives through more than 200 
posts? Every search I do seems to only search posts 127** to 126**..

  Thanks in advance!
  




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Fri Jul 16 14:25:53 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] StringTemplate 2.0 released :)
Message-ID: <B77CF4EC-D76E-11D8-8B11-000A95891192@cs.usfca.edu>

Howdy folks,

Finally got StringTemplate 2.0 the way I want it mostly.  I will giving 
a talk on it next week at Microsoft Research.  Now I just have to think 
of what to say. :)

http://www.stringtemplate.org/

It is much better suited to code generation than the previous version, 
but doesn't destroy it's prior abilities at web stuff.  Should be a 
drop in replacement even with the big enhancements.  This is the 
version that the ANTLR 3.0 prototype is using to do code gen.  Lots of 
bug fixes too. :)

Terence
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Fri Jul 16 15:18:43 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] bug: invalid "Syntactic predicate superfluous" warning
Message-ID: <cd9k83+2jn2@eGroups.com>

I used a syntactic predicate in a loop to solve an ambiguity:

( (a) => a )*

but, it still gave the ambiguity warning plus a new one:

warning:nondeterminism upon
               ...
    between alt 1 and exit branch of block
warning:Syntactic predicate superfluous for single alternative

The syntactic predicate did solve my problem and thus wasn't
superfluous.  Effectively there are always effectively at least two
alternatives in a loop because of the exit condition.

( (a) => a )+ also exhibits the same problem.  ( (a) => a )? gives no
warning.

Eric




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Fri Jul 16 15:47:04 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Re: handling a common prefix
In-Reply-To: <4EA2BAB2-D73C-11D8-8541-000393B5606C@codetransform.com>
Message-ID: <cd9lt8+mjr7@eGroups.com>

Thanks, Monty.  I looked at a few alternatives and just decided to
factor out as many of these attribute constructs out (moving them to
higher level rules where necessary) and also use syntactic predicates
where necessary.  The main disadvantage to this approach is that these
attribute prefixes won't be direcctly associated with the following
structure in the AST - or at least I think, I haven't got that far.

--- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> wrote:
> Lexers can behave very much like parsers, some people put parser 
> functionality into lexers for awkward languages like COBOL or FORTRAN.
> 
> Also, see my article on parser filters.  
> http://www.codetransform.com/filterexample.html  That way uou could 
> have a real parser working the token stream, but then package up the 
> prefix constructs into a single token.  Not quite what the example 
> shows, but I'm sure you can get the general idea from it and figure it 
> out.
> 
> I'm heading for a long weekend so I won't be able to answer any more 
> 'til Monday.
> 
> Monty
> 
> 
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit -- 
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
> 
> On Jul 16, 2004, at 6:10 AM, thrutchy wrote:
> 
> > I'm parsing verilog 2000 that allows almost every construct to be
> > optionally prefixed by something like this:
> >
> > (* attribute = expression *)
> >
> > Because it can appear in front of just about any construct and it has
> > an indeterminate number of tokens (due to expression), it is causing
> > ambiguities all over the place.
> >
> > I think one possible solution would be to treat this whole thing as a
> > token by the lexer.  I don't really like this solution because I will
> > eventually have to go parse what's inside.
> >
> > Is there something else I can do?  I want something in between a token
> > and a parser rule - psuedo token, where the rest of the parser treats
> > it as a token so that it can easily look ahead and resolve
> > ambiguities, but it can still be parsed into it's individual 
> > components.
> >
> > Eric



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Fri Jul 16 17:10:11 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:04 2004
Subject: New antlr-interest member
Message-ID: <1090023011.113.63386.w10@yahoogroups.com>


Hello,

This is an automated email message to let you know that
granderk <ebf@users.sourceforge.net> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Fri Jul 16 19:47:07 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:04 2004
Subject: New antlr-interest member
Message-ID: <1090032427.117.93966.w3@yahoogroups.com>


Hello,

This is an automated email message to let you know that
xcolwell <xcolwell@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From xcolwell at yahoo.com  Fri Jul 16 19:58:27 2004
From: xcolwell at yahoo.com (xcolwell)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Match the End of File
Message-ID: <cda4kj+31tc@eGroups.com>

Hi,

I am trying to write a lexer to match a multi-line comment.
However, there is a catch. If a "comment" is started but never
terminated, I want to  match it also. For example, I would like to
match

/*  comment */EOF

as well as 

/*  comment   EOF

under the same token. I am just getting into ANTLR, so I used Mr.
Parr's Java grammar from antlr.org as a starting point. It appears
that '\uFFFF' is the EOF character used internally. I can't find a
nice identifier in the documents. The modification I would like to
make is below.

ML_COMMENT
	:
			options {
				generateAmbigWarnings=false;
			}
		:
			{ LA(2)!='/' }? '*'
		|	'\r' '\n'		{newline();}
		|	'\r'			{newline();}
		|	'\n'			{newline();}
		|	~('*'|'\n'|'\r')
		)*
		("*/" | '\uFFFF' )
	;


But unfortunately this does not work. Is there an EOF identifier I am
missing? How would one write a rule for what I am trying to do?

Best Regards,

Brien




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Sat Jul 17 09:27:58 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:04 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1090081678.244.9299.w56@yahoogroups.com>


Hello,

This is an automated email message to let you know that
maaxxxcal <maaxxxcal@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From notify at yahoogroups.com  Sat Jul 17 11:15:49 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:04 2004
Subject: New antlr-interest member
Message-ID: <1090088149.70.58024.w76@yahoogroups.com>


Hello,

This is an automated email message to let you know that
chrs_grrtt <cgarrett@canada.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From eric_mahurin at yahoo.com  Sat Jul 17 13:12:16 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Re: Match the End of File
In-Reply-To: <cda4kj+31tc@eGroups.com>
Message-ID: <cdc170+9ncv@eGroups.com>

--- In antlr-interest@yahoogroups.com, "xcolwell" <xcolwell@y...> wrote:
> Hi,
> 
> I am trying to write a lexer to match a multi-line comment.
> However, there is a catch. If a "comment" is started but never
> terminated, I want to  match it also. For example, I would like to
> match
> 
> /*  comment */EOF
> 
> as well as 
> 
> /*  comment   EOF
> 
> under the same token. I am just getting into ANTLR, so I used Mr.
> Parr's Java grammar from antlr.org as a starting point. It appears
> that '\uFFFF' is the EOF character used internally. I can't find a
> nice identifier in the documents. The modification I would like to
> make is below.
> 
> ML_COMMENT
> 	:
> 			options {
> 				generateAmbigWarnings=false;
> 			}
> 		:
> 			{ LA(2)!='/' }? '*'
> 		|	'\r' '\n'		{newline();}
> 		|	'\r'			{newline();}
> 		|	'\n'			{newline();}
> 		|	~('*'|'\n'|'\r')

Try changing the above line to:

 		|	~('*'|'\n'|'\r'|'\uFFFF')

> 		)*
> 		("*/" | '\uFFFF' )
> 	;
> 
> 
> But unfortunately this does not work. Is there an EOF identifier I am
> missing? How would one write a rule for what I am trying to do?
> 
> Best Regards,
> 
> Brien

Another solution would be greedy=false:

"/*" ( options{greedy=false;} :
  : '\r' '\n' {newline();}
  | '\r'      {newline();}
  | '\n'      {newline();}
  | ~('\r'|'\n')
  )*
("*/" | '\uFFFF' )

Be warned that I have tried these.




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Sat Jul 17 13:36:50 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Re: Match the End of File
In-Reply-To: <cda4kj+31tc@eGroups.com>
Message-ID: <cdc2l2+h7tb@eGroups.com>

--- In antlr-interest@yahoogroups.com, "xcolwell" <xcolwell@y...> wrote:
> Hi,
>
> I am trying to write a lexer to match a multi-line comment.
> However, there is a catch. If a "comment" is started but never
> terminated, I want to match it also. For example, I would like to
> match
>
> /* comment */EOF
>
> as well as
>
> /* comment EOF
>
> under the same token. I am just getting into ANTLR, so I used Mr.
> Parr's Java grammar from antlr.org as a starting point. It appears
> that '\uFFFF' is the EOF character used internally. I can't find a
> nice identifier in the documents. The modification I would like to
> make is below.
>
> ML_COMMENT
> :
> options {
> generateAmbigWarnings=false;
> }
> :
> { LA(2)!='/' }? '*'
> | '\r' '\n' {newline();}
> | '\r' {newline();}
> | '\n' {newline();}
> | ~('*'|'\n'|'\r')

Try changing the above line to:

| ~('*'|'\n'|'\r'|'\uFFFF')

> )*
> ("*/" | '\uFFFF' )
> ;
>
>
> But unfortunately this does not work. Is there an EOF identifier I am
> missing? How would one write a rule for what I am trying to do?
>
> Best Regards,
>
> Brien

Another solution would be greedy=false:

"/*" ( options{greedy=false;} :
: '\r' '\n' {newline();}
| '\r' {newline();}
| '\n' {newline();}
| ~('\r'|'\n')
)*
("*/" | '\uFFFF' )

Be warned that I have not tried these.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Sun Jul 18 13:18:38 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:04 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1090181918.1086.11314.m12@yahoogroups.com>


Hello,

This is an automated email message to let you know that
meissnersd <meissnersd@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From eric_mahurin at yahoo.com  Sun Jul 18 13:45:15 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] handling preprocessor #define and macro substitutions
Message-ID: <cdengr+s8dp@eGroups.com>

I'm parsing a language that has something similar to the C
preprocessor constructs.  Is there something in antlr already out
there for this that somebody can point me to?

My main issue is how to deal with #define statements and the
substitutions associated.  Here are the issues/questions I can think of:

- the substitution can occur within two different lexer states where
the tokens are different, so I think I need to store the
substitutition text as a string as opposed to a list of tokens
- how to make the lexer input be a string instead of a file.  Oh, I
just figured that out while typing this - isn't there a stringstream
or something like that in java?
- during the macro substitution, handling parameter substituion.  One
of my lexer states that doesn't even have an identifier defined could
make this problematic.
- expressions as arguments to the macro call.  The expression is
defined in the parser and not the lexer, so its definition is not
there.  Right now, I'm just matching up grouping symbols that can
contain the "," which is also the separator between the expressions.

Secondarily, an example for handling #if/#else would be nice.  I
assume this would just gobble up tokens when it would find the
condition to be false (nextToken).

Or, should the preprocessor be a separate filter instead of included
with the lexer - token stream filter?

Again a preprocessor example with text subtitution (including
parameters) and conditional constructs would help out a lot.  There's
got to one out there.  I did some googling without success.

Eric




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From lists at lischke-online.de  Sun Jul 18 15:36:56 2004
From: lists at lischke-online.de (Mike Lischke)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] handling preprocessor #define and macro substitutions
In-Reply-To: <cdengr+s8dp@eGroups.com>
Message-ID: <20040718223531.6217B57C001@h4866.serverkompetenz.net>

Hi Eric, 

> I'm parsing a language that has something similar to the C 
> preprocessor constructs.  Is there something in antlr already 
> out there for this that somebody can point me to?

I'm currently exactly at that point: building a full preprocessor in Java. Actually, the preprocessor is ready, but I'm
testing it up and down with all files I can get. Today I changed the #if/#ifdef#/#elif handling from simple recursive
execution to a state machine. It should be ready for general use within the next two days.

> - the substitution can occur within two different lexer 
> states where the tokens are different, so I think I need to 
> store the substitutition text as a string as opposed to a 
> list of tokens

What I do is to handle preprocessor directives before the text even reaches the lexer. For this I created a new input
state class, which is abled to track include files and a preprocessor class, which knows about this special input state
class. The input state class uses the preprocessor class as input reader, which in turn uses an input converter class
that does line splicing and trigraph sequence handling.

> - during the macro substitution, handling parameter 
> substituion.  One of my lexer states that doesn't even have 
> an identifier defined could make this problematic.

I also created a MacroTable class that does handle all the macro stuff. It is able to handle everything that can occur
in this regard (macro functions, symbolic constants, aware of recursive macro definitions etc.). The whole thing was
created according to MSDN:  Visual Studio -> Visual C++ -> Visual C++ Reference -> C/C++ Languages ->  C/C++
Preprocessor Reference -> The Preprocessor -> Macros. Since macro expansion is done before any text reaches the lexer
there is no problem with any combination of macro definitions and substitutions. See attachment (the class works fine
standalone, you have to change the package name, though).

> - expressions as arguments to the macro call.  The expression 
> is defined in the parser and not the lexer, so its definition 
> is not there.  Right now, I'm just matching up grouping 
> symbols that can contain the "," which is also the separator 
> between the expressions.

I'd recommend not to let the normal parser/lexer combination handle the preprocessing stuff. Place an additional stage
before the real parser.
 
> Secondarily, an example for handling #if/#else would be nice. 
>  I assume this would just gobble up tokens when it would find 
> the condition to be false (nextToken).

Here is a part of my preprocessor that handles directives:

  /**
   * Checks for any known preprocessor directive and triggers individual processing.
   * 
   * @param input The directive with the number sign.
   * @return <b>true</b> if the calling method should stop its reader loop.
   */
  private boolean processDirective(int directive, String input) throws FileNotFoundException, 
    IOException
  {
    boolean result = false;
    // Remove the leading number sign and split the rest into two parts of which the first
    // one is the directive and the second one the expression to parse.
    String[] parts = splitDirective(input);
    String directiveText = parts[1].trim();
    switch (directive)
    {
      case INCLUDE:
      {
        if (!skip)
          result = processInclude(macroTable.expandMacros(directiveText));
        break;
      }
      case DEFINE:
        if (!skip)
          processDefine(parts[1]);
        break;
      case UNDEF:
        if (!skip)
          processUndef(parts[1]);
        break;
      case IFDEF:
      {
        pendingStates.push(IF_DIRECTIVE);
        skipFlags.push(new Boolean(skip));
        if (!skip)
        {
          boolean condition = macroTable.isDefined(directiveText);
          if (!condition)
            skip = true;
        }
        break;
      }
      case IFNDEF:
      {
        pendingStates.push(IF_DIRECTIVE);
        skipFlags.push(new Boolean(skip));
        if (!skip)
        {
          boolean condition = !macroTable.isDefined(directiveText);
          if (!condition)
            skip = true;
        }
        break;
      }
      case IF:
      {
        pendingStates.push(IF_DIRECTIVE);
        skipFlags.push(new Boolean(skip));
        if (!skip)
        {
          boolean condition = evaluateBooleanExpression(macroTable.expandMacros(directiveText));
          if (!condition)
            skip = true;
        }
        break;
      }
      case PRAGMA:
        if (!skip)
          processPragma(parts);
        break; 
      case ERROR:
        if (!skip)
          reportError(parts[1]);
        break;
      case ELSE:
      {
        Integer pendingState = (Integer) pendingStates.pop();
        // See what the state was, which opened this conditional branch.
        switch (pendingState.intValue())
        {
          case IF:
          case IFDEF:
          case IFNDEF:
          case ELIF:
          {
            pendingStates.push(ELSE_DIRECTIVE);
            // If the superordinated conditional branch was already skipping then continue that,
            // otherwise reveverse the skip mode for this branch.
            Boolean lastSkipMode = (Boolean) skipFlags.peek();
            if (!lastSkipMode.booleanValue())
              skip = !skip;
            break;
          }
          default:
          {
            reportError("Unexpected #else preprocessor directive found.");
          }
        }
        break;
      }
      case ELIF:
      {
        Integer pendingState = (Integer) pendingStates.pop();
        // See what the state was, which opened this conditional branch.
        switch (pendingState.intValue())
        {
          case IFDEF:
          case IFNDEF:
          case IF:
          case ELIF:
          {
            pendingStates.push(IF_DIRECTIVE);
            // If the superordinated conditional branch was already skipping then continue that,
            // otherwise reveverse the skip mode for this branch.
            Boolean lastSkipMode = (Boolean) skipFlags.peek();
            if (!lastSkipMode.booleanValue())
            {
              // If currently lines are skipped then the previous conditional branch failed the
              // condition. So check again if there is this time a hit.
              if (skip)
              {
                boolean condition = evaluateBooleanExpression(macroTable.expandMacros(parts[1]));
                if (condition)
                  skip = false;
              }
            }
            break;
          }
          default:
          {
            reportError("Unexpected #elif preprocessor directive found.");
          }
        }
        break;
      }
      case ENDIF:
      {
        Integer pendingState = (Integer) pendingStates.pop();
        Boolean lastSkipMode = (Boolean) skipFlags.pop();
        skip = lastSkipMode.booleanValue();
        // See what the state was, which opened this conditional branch.
        switch (pendingState.intValue())
        {
          case IF:
          case IFDEF:
          case IFNDEF:
          case ELIF:
          case ELSE:
          {
            // Return to parent mode.
            break;
          }
          default:
          {
            reportError("Unexpected #endif preprocessor directive found.");
          }
        }
        break;
      }
    }
    
    return result;
  }

This code is currently under heavy testing and could change if an error is found.

> Or, should the preprocessor be a separate filter instead of 
> included with the lexer - token stream filter?

Yes, definitely. I tried several times but could not get ANTRL to generate a preprocessor for me so I wrote one by hand.
After many changes I ended up with a relatively simple preprocessor class, which is accompanied by the macro table, an
expression parser (generated with ANTLR) and an evaluator class.

> Again a preprocessor example with text subtitution (including
> parameters) and conditional constructs would help out a lot.  
> There's got to one out there.  I did some googling without success.

No, there is none (at least no free one). That's the reason why I started mine. But hold, soon there is a free one: I
plan to publish mine as open source :-)

Mike
--
www.soft-gems.net


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: MacroTable.zip
Type: application/x-zip-compressed
Size: 7559 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040719/be49bcd3/MacroTable.bin
From atripp at comcast.net  Sun Jul 18 18:35:12 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Re: Example of source-to-source translation, searching archives
In-Reply-To: <cd957u+4q5u@eGroups.com>
Message-ID: <cdf8gg+rrj@eGroups.com>

There are a few links on Monty's site that talk about this.
See this one for example:

http://codetransform.com/fun_with_antlr.html

The big design issue is whether to use ANTLR's treewalking
capability, or just write your own code to walk the AST.
If you just want to write your own, you could take a look
at my JavaEmitter code (look for JavaEmitter under "share list"
at antlr.org). That code simply walks through a Java AST,
printing it out as Java code. You could just make changes
to its print() method to output some slight variation of Java,
for example.

On my Jazillian C-to-Java translator, I initially had built
a C AST and tried to convert it to a Java AST. I tried several
techniques to do the AST transformation: ANTLR's treewalking stuff,
a couple of tree-manipulation languages (e.g. TXL), and hand-written
code. I found all of them too cumbersome and ended up 
writing my own mechanism that doesn't involve ASTs.
Unless the source and target languages are very similar, you're
in for a lot of work :)

Andy

--- In antlr-interest@yahoogroups.com, "johnj1984" <johnj1984@y...>
wrote:
> Hello All,  
>   Is there any concrete example of a source-to-source antlr project 
> somewhere? I've read the excellent XL Lexer/Parser tutorial, 
> unfortunately that stops just when it gets interesting: How do I
use 
> AST trees to generate source code for another language? Most
examples 
> I've seen stop at using the AST to compute expressions.
> 
>   Also, how can I search the yahoo archives through more than 200 
> posts? Every search I do seems to only search posts 127** to 126**..
> 
>   Thanks in advance!



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From atripp at comcast.net  Sun Jul 18 19:03:14 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Re: AST writer
In-Reply-To: <cd49g6+vhq4@eGroups.com>
Message-ID: <cdfa52+slpb@eGroups.com>

--- In antlr-interest@yahoogroups.com, "thrutchy" <eric_mahurin@y...>
wrote:
> Is there a way to write out an AST in the same format as it was
parsed
> into the AST without having to write a tree-parser rule for each
rule
> of the parser?  To do this, I would assume you couldn't put in any
> "!"/"^" in the rules and the text can't be munged or ignored (i.e.
> whitespace/comments).
> 
> I would like to write a language munger that does this:
> 
> 1. Read language input into an AST
> 
> 2. Do manipulations to the AST (via a tree-walker or manually)
> 
> 3. Write the AST out in the same input language
> 
> I would prefer not to have to specify the language twice - once in
the
> parser and once in the writer.

It seems to me that if you avoid "!" and all the other fancy
ANTLR constructs in your grammar (other than "^", which you do
need, as Monty points out), then your language output really
could be just an in-order traversal of the AST.

One thing you might want to try is to compare the java.g that
compes with ANTLR with the print() method in
this code that prints out a Java AST:
http://jazillian.com/antlr/JavaEmitter.java
The java.g strips out all the "syntax stuff", and this code
puts it all back in.

Andy



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From ari.steinberg at embarcadero.com  Mon Jul 19 06:53:13 2004
From: ari.steinberg at embarcadero.com (Ari Steinberg)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Match the End of File
Message-ID: <715057EB65FC7E47923FE408F290ADFD4FB270@ettoma01.embarcadero.com>

I think the lexer identifier you're looking for EOF_CHAR.

Ari

-----Original Message-----
From: xcolwell [mailto:xcolwell@yahoo.com] 
Sent: Friday, July 16, 2004 10:58 PM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Match the End of File

Hi,

I am trying to write a lexer to match a multi-line comment.
However, there is a catch. If a "comment" is started but never
terminated, I want to  match it also. For example, I would like to match

/*  comment */EOF

as well as 

/*  comment   EOF

under the same token. I am just getting into ANTLR, so I used Mr.
Parr's Java grammar from antlr.org as a starting point. It appears that
'\uFFFF' is the EOF character used internally. I can't find a nice
identifier in the documents. The modification I would like to make is
below.

ML_COMMENT
	:
			options {
				generateAmbigWarnings=false;
			}
		:
			{ LA(2)!='/' }? '*'
		|	'\r' '\n'		{newline();}
		|	'\r'			{newline();}
		|	'\n'			{newline();}
		|	~('*'|'\n'|'\r')
		)*
		("*/" | '\uFFFF' )
	;


But unfortunately this does not work. Is there an EOF identifier I am
missing? How would one write a rule for what I am trying to do?

Best Regards,

Brien




 
Yahoo! Groups Links



 





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From mtiller at ford.com  Mon Jul 19 07:00:23 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Can't create AST Node?
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB3404023A47@na1fcm52.dearborn.ford.com>

Terrence,

  The main difference I see is that I never really understood how to
"subclass" a tree parser in ANTLR.  It seems like you have to create a
new .g file *and* the production rules/patterns everytime you want to do
something.

  In SableCC it looks like you get, as generated code, the complete
framework with "slots" for all the potential places where you would want
to put code (in, case, out).  One subtle point is that it seems like it
might be possible in SableCC to reorder the processing of the child
nodes by changing the "case###" methods.  This was something I ran into
with ANTLR.  Specifically, I constructed my AST during parsing so that
it was either easy to construct or unambiguous to parse as a tree but
then during the tree walking stage, I didn't necessarily want to process
the child nodes in the order that they appeared in the AST.

  On the other hand, it isn't clear to me how SableCC handles walking
for trees that didn't come out of a parser (I haven't looked into it
that much though).  This seems to be something that ANTLR excels at
(i.e. being able to write a tree parser for each pass of the process).

  Does that help?

--
Mike

> -----Original Message-----
> From: Terence Parr [mailto:parrt@cs.usfca.edu]
> Sent: Friday, July 16, 2004 4:06 PM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] Can't create AST Node?
> 
> 
> On Jul 16, 2004, at 12:49 PM, Tiller, Michael (M.M.) wrote:
> 
> >
> >> From: Monty Zukowski [mailto:monty@codetransform.com]
> >> Subject: Re: [antlr-interest] Can't create AST Node?
> >>
> >>> One last comment, I suspect that it might be useful to provide
> >>> automatic
> >>> "visitor generation" for people where visitors seem more
attractive
> >>> (ala
> >>> SableCC?).
> >>
> >> Seems like that would be easy enough to add.
> >
> > Specifically, you might want to take a look at Chapter 6 of this:
> >
> > http://sablecc.org/downloads/thesis.pdf
> >
> > I found it quite interesting and found myself craving such features
> > (although what do I know).
> 
> Hi Mike,
> 
> SableCC is nice.  A visitor is sometimes precisely what you want, but
> more often you want to apply grammatical structure (i.e., context)
> rather than just say 'when I'm in this node, print this value'.  From
> my skim I couldn't see how it was different.  Can you help me out?  Is
> it building a visitor that is sensitive to the structure you create in
> the parser?  Can I use this context when visiting or is it still a
> node-centric algorithm?
> 
> Thanks,
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing
> 
> 
> 
> 
> 
> 
> Yahoo! Groups Links
> 
> 
> 
> 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Mon Jul 19 08:44:37 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Example of source-to-source translation, searching archives
In-Reply-To: <cd957u+4q5u@eGroups.com>
References: <cd957u+4q5u@eGroups.com>
Message-ID: <8A204774-D99A-11D8-8541-000393B5606C@codetransform.com>

On Jul 16, 2004, at 11:02 AM, johnj1984 wrote:

> Hello All,
>   Is there any concrete example of a source-to-source antlr project
> somewhere? I've read the excellent XL Lexer/Parser tutorial,
> unfortunately that stops just when it gets interesting: How do I use
> AST trees to generate source code for another language? Most examples
> I've seen stop at using the AST to compute expressions.
>

Check out my GCC translation framework.  
http://www.codetransform.com/gcc.html.  It uses an AST to generate C 
back out again.

>   Also, how can I search the yahoo archives through more than 200
> posts? Every search I do seems to only search posts 127** to 126**..
>

Unfortunately yahoo just sucks.  I know of no way to actually search 
the archives completely.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Mon Jul 19 08:57:07 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Example of source-to-source translation, searching archives
In-Reply-To: <8A204774-D99A-11D8-8541-000393B5606C@codetransform.com>
References: <cd957u+4q5u@eGroups.com> <8A204774-D99A-11D8-8541-000393B5606C@codetransform.com>
Message-ID: <49141888-D99C-11D8-AA3E-000393BB647E@cs.usfca.edu>


On Jul 19, 2004, at 8:44 AM, Monty Zukowski wrote:
> Unfortunately yahoo just sucks.  I know of no way to actually search
> the archives completely.

I should have a complete archive.  I wonder if I should just put the 
huge zipped text file(s) somewhere as a temporary measure.

Ter





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Mon Jul 19 08:56:49 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Example of source-to-source translation, searching archives
In-Reply-To: <8A204774-D99A-11D8-8541-000393B5606C@codetransform.com>
References: <cd957u+4q5u@eGroups.com> <8A204774-D99A-11D8-8541-000393B5606C@codetransform.com>
Message-ID: <20040719155647.GC31127@cs.utwente.nl>

On Mon, Jul 19, 2004 at 08:44:37AM -0700, Monty Zukowski wrote:
> >   Also, how can I search the yahoo archives through more than 200
> > posts? Every search I do seems to only search posts 127** to 126**..
> >
> 
> Unfortunately yahoo just sucks.  I know of no way to actually search 
> the archives completely.

It looks like the news interface to the group provides a good search. It
only doesn't have the old messages.

http://news.gmane.org/gmane.comp.parsers.antlr-interest

If Terence could get a mbox archive from yahoogroups we could get all the
messages indexed there.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  "You know how to use that thing?" [pointing to the sword]
  "Sure.. The pointy end goes into the other guy."
  --- The Mask of Zorro



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Mon Jul 19 09:18:19 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] bug: invalid "Syntactic predicate superfluous" warning
In-Reply-To: <cd9k83+2jn2@eGroups.com>
References: <cd9k83+2jn2@eGroups.com>
Message-ID: <3F60ECA4-D99F-11D8-8541-000393B5606C@codetransform.com>

This is a known bug.

Thanks,

Monty

On Jul 16, 2004, at 3:18 PM, thrutchy wrote:

> I used a syntactic predicate in a loop to solve an ambiguity:
>
> ( (a) => a )*
>
> but, it still gave the ambiguity warning plus a new one:
>
> warning:nondeterminism upon
>                ...
>     between alt 1 and exit branch of block
> warning:Syntactic predicate superfluous for single alternative
>
> The syntactic predicate did solve my problem and thus wasn't
> superfluous.  Effectively there are always effectively at least two
> alternatives in a loop because of the exit condition.
>
> ( (a) => a )+ also exhibits the same problem.  ( (a) => a )? gives no
> warning.
>
> Eric
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Mon Jul 19 09:11:20 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Example of source-to-source translation, searching archives
In-Reply-To: <49141888-D99C-11D8-AA3E-000393BB647E@cs.usfca.edu>
References: <cd957u+4q5u@eGroups.com> <8A204774-D99A-11D8-8541-000393B5606C@codetransform.com> <49141888-D99C-11D8-AA3E-000393BB647E@cs.usfca.edu>
Message-ID: <20040719161119.GD31127@cs.utwente.nl>

On Mon, Jul 19, 2004 at 08:57:07AM -0700, Terence Parr wrote:
> I should have a complete archive.  I wonder if I should just put the 
> huge zipped text file(s) somewhere as a temporary measure.

Import in the gmane.org thing seems simple enough (from our side that is):

http://www.gmane.org/import.php

And it would give us pretty quickly a good searchable index.

Just an idea...

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 Time what is time - I wish I knew how to tell You why - It hurts to know -
          Aren't we machines - Time what is time - Unlock the door
               - And see the truth - Then time is time again
                From: 'Time what is Time' by Blind Guardian



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Mon Jul 19 09:34:01 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:04 2004
Subject: New antlr-interest member
Message-ID: <1090254841.178.11573.w35@yahoogroups.com>


Hello,

This is an automated email message to let you know that
antlruser <thief@iol.ie> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join 

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From ursatz at yahoo.com  Mon Jul 19 12:32:20 2004
From: ursatz at yahoo.com (Bill Clark)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Re: #include handling - newbie question
In-Reply-To: <20040715151019.GD4105@cs.utwente.nl>
Message-ID: <cdh7k4+1k8k@eGroups.com>

Many thanks to all for the tips. I've got it working - easy when you 
know how!

Thanks again,
Bill




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Mon Jul 19 14:58:39 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Re: bug: invalid "Syntactic predicate superfluous" warning
In-Reply-To: <3F60ECA4-D99F-11D8-8541-000393B5606C@codetransform.com>
Message-ID: <cdhg6f+4oa7@eGroups.com>

For those that are overwelmed with these invalid warnings, here is a
little filtering script:

#!/usr/bin/perl
use IPC::Open3;
open3( "<&STDIN", ">&STDOUT", \*ERR , 'antlr', @ARGV );
$/=undef;
$_=<ERR>;
s/
^(.*) \Qwarning:nondeterminism upon\E\n
(\1 .* \n)*
\1 \Qwarning:Syntactic predicate superfluous for single alternative\E\n
//gmx;
print(STDERR "$_");

--- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> wrote:
> This is a known bug.
> 
> Thanks,
> 
> Monty
> 
> On Jul 16, 2004, at 3:18 PM, thrutchy wrote:
> 
> > I used a syntactic predicate in a loop to solve an ambiguity:
> >
> > ( (a) => a )*
> >
> > but, it still gave the ambiguity warning plus a new one:
> >
> > warning:nondeterminism upon
> >                ...
> >     between alt 1 and exit branch of block
> > warning:Syntactic predicate superfluous for single alternative
> >
> > The syntactic predicate did solve my problem and thus wasn't
> > superfluous.  Effectively there are always effectively at least two
> > alternatives in a loop because of the exit condition.
> >
> > ( (a) => a )+ also exhibits the same problem.  ( (a) => a )? gives no
> > warning.
> >
> > Eric
> >
> >
> >
> >
> >
> > Yahoo! Groups Links
> >
> >
> >
> >
> >
> >
> >
> >
> 
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit -- 
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From thief at iol.ie  Mon Jul 19 09:43:07 2004
From: thief at iol.ie (Mark Gaffney)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] writing a full code translator with antlr
Message-ID: <40fbfa1b.2310.0@iol.ie>

Hi All,

I'm currently (trying to) build a code translator to convert legacy code
(eg pl/sql or informix4gl) to Java. I'm using ALTLR to generate the AST
from the legacy code.
I was wondering if anyone has done something similar and in particular I
wanted to know how to go about the AST to Java step and whether I can do
this step using ANTLR ? or by some other means

Thanks
http://www.iol.ie



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From rd_clark at sbcglobal.net  Mon Jul 19 17:09:18 2004
From: rd_clark at sbcglobal.net (Richard Clark)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Breaking out of a parser loop based on the current item
Message-ID: <0B0BF12A-D9E1-11D8-A546-000A95AF74F0@nextquestion.net>

I'm working on a Javadoc-like compiler for Javascript and ActionScript 
(and yes, I'll share when done, including an ECMA-262 grammar); but 
I've encountered an interesting problem in the Javadoc side.

I need to identify a sentence. At the moment, I have WORD defined in 
the lexer as "a contiguous run of non-whitespace characters", so that:
This is a test.
would come back as <WORD><SPACE><WORD><SPACE>...

The problem is that I need to be able to find the end of one sentence, 
and I have two options:
1) Define a word to exclude any ending punctuation (which can cause 
problems with Foo.bar ...), or
2) Set up a loop that says:

  ( WORD
    ( if that word ends a sentence, or the next item is an @tag ) => { 
break }
    | SPACE*) *

I would prefer option 2, but I haven't been able to figure out how to 
end the loop in retrospect.

I guess a third option could be:

sentence :
	( isEndOfSentence(word) ) => word
   |	word SPACE sentence
   ;

What do you all think is best?

  ...Richard



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From rd_clark at sbcglobal.net  Mon Jul 19 20:11:42 2004
From: rd_clark at sbcglobal.net (Richard Clark)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Breaking out of a parser loop based on the current item
In-Reply-To: <0B0BF12A-D9E1-11D8-A546-000A95AF74F0@nextquestion.net>
References: <0B0BF12A-D9E1-11D8-A546-000A95AF74F0@nextquestion.net>
Message-ID: <8644E57A-D9FA-11D8-BA90-000A95AF74F0@nextquestion.net>


On Jul 19, 2004, at 17:09, Richard Clark wrote:
> 1) Define a word to exclude any ending punctuation (which can cause
> problems with Foo.bar ...), or
> 2) Set up a loop...

Actually, I wound up implementing option 1:

/* in the lexer */
// Four cases:
// non-spaces, non-period, followed by whitespace or the end of the file
// a sentence-ending word followed by a space (or the end  of the file, 
or a tag)
// non-spaces, dot, non-spaces
// non-spaces, open curly bracket w/o a following tag
WORD		:
			WORD_PART
		| 	( WORD_PART PERIOD WORD ) =>  WORD_PART PERIOD WORD
		| 	( WORD_PART RPAREN )	  => WORD_PART RPAREN (WORD)?
		|	( WORD_PART LCURLY ~('@')) => WORD_PART LCURLY
		;

// any run of characters ending in whitespace, newline, period, or 
end-of-file
// (also the right parenthesis, which is fixed by the WORD rule above)
protected
WORD_PART	:	({ LA(0) != EOF_CHAR}? ~(' ' | '\t' | '\f' | '\r' | '\n' | 
'.' | ')' | '{' | '@'))+
			;


/* in the parser, including some trickery so the individual tokens are 
melded into
    one string */
sentence
	{ StringBuffer buf = new StringBuffer(); }
	// make sure there's a word to start the sentence
	:	(WORD) => sentenceFragment[buf]	{ #sentence = #[TEXT, 
buf.toString()]; }
	|	/* nothing */
	;

protected
sentenceFragment[StringBuffer buf]
	:	w:WORD {buf.append(w.getText());}
		(
			whitespace[buf] sentenceFragment[buf]
		|	sentenceEnd[buf]
		)?
	;

protected
sentenceEnd[StringBuffer buf]
	:	PERIOD 	   {buf.append('.'); } (lp: RPAREN {buf.append(')'); })?
	;


/* that's all... */

  ...Richard



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Mon Jul 19 20:21:56 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] writing a full code translator with antlr
In-Reply-To: <40fbfa1b.2310.0@iol.ie>
References: <40fbfa1b.2310.0@iol.ie>
Message-ID: <F44A1DD0-D9FB-11D8-8B7B-000393B5606C@codetransform.com>

On Jul 19, 2004, at 9:43 AM, Mark Gaffney wrote:

> Hi All,
>
> I'm currently (trying to) build a code translator to convert legacy 
> code
> (eg pl/sql or informix4gl) to Java. I'm using ALTLR to generate the AST
> from the legacy code.
> I was wondering if anyone has done something similar and in particular 
> I
> wanted to know how to go about the AST to Java step and whether I can 
> do
> this step using ANTLR ? or by some other means

Check out my web pages below.  I've got a couple of general articles on 
translation as well as the GCC transformation toolkit which is a full 
blown identity translator (text->AST->text).

I'm also available for consulting.  I can help you design a translation 
strategy and help implement it as well.  I also help out on the list a 
lot, but my time here is limited.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Mon Jul 19 20:17:28 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Breaking out of a parser loop based on the current item
In-Reply-To: <0B0BF12A-D9E1-11D8-A546-000A95AF74F0@nextquestion.net>
References: <0B0BF12A-D9E1-11D8-A546-000A95AF74F0@nextquestion.net>
Message-ID: <5465DC06-D9FB-11D8-8B7B-000393B5606C@codetransform.com>

On Jul 19, 2004, at 5:09 PM, Richard Clark wrote:

> 2) Set up a loop that says:
>
>   ( WORD
>     ( if that word ends a sentence, or the next item is an @tag ) => {
> break }
>     | SPACE*) *
>
> I would prefer option 2, but I haven't been able to figure out how to
> end the loop in retrospect.

That would be nice, but is currently not possible in ANTLR.  I've had 
Ter explain it to me a few times but I can't remember the details right 
now.  It has to do with lookahead computations, I believe.  Anyhow you 
just can't do that.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From mtiller at ford.com  Tue Jul 20 06:51:01 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] ANTLR+Eclipse
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB3404023A51@na1fcm52.dearborn.ford.com>

I was wondering if anybody had ever tried to use ANTLR to implement a
scanner in Eclipse.  I'm not talking about a plug-in to Eclipse to
facilitate grammar development, I'm talking about the reverse.
Specifically, a tool that can scan the document associated with an
editor in Eclipse and pull out information about the locations of
keywords, comments, etc. and then integrated this into the Eclipse
framework for identifying tokens, doing completion, etc.

It seems like all that would be required would be to interface the lexer
to the Eclipse representation of a document (so you could scan the
characters in the document) and then somehow tuck the results away so
that subsequent calls to specialized token scanners, etc. wouldn't even
look at the document but would instead just return information based on
walking the AST.

So, has anybody done this?  It seems like this would be a great
cornerstone for plug-in development because you could do real parsing
rather than relying on the (what appear to be) rather crude primitives
in Eclipse for doing this kind of thing.

--
Mike

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20040720/268fc989/attachment.html
From dermot_oneill at hotmail.com  Tue Jul 20 10:04:19 2004
From: dermot_oneill at hotmail.com (excel_robot)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Re: Example of source-to-source translation, searching archives
In-Reply-To: <cd957u+4q5u@eGroups.com>
Message-ID: <cdjjaj+no3q@eGroups.com>

Hi,
I have a small example of a source to source translator on my website
It uses a lexer, grammar recognizer, source AST, target AST and 
generation.
It has 2 small transformations between the source AST and target AST.
It uses grammar inheritence.

http://www.wumpa.com/antlr/antlr_example.html

Its only a prototype but it might give you some ideas.
Dermot.

--- In antlr-interest@yahoogroups.com, "johnj1984" <johnj1984@y...> 
wrote:
> Hello All,  
>   Is there any concrete example of a source-to-source antlr project 
> somewhere? I've read the excellent XL Lexer/Parser tutorial, 
> unfortunately that stops just when it gets interesting: How do I 
use 
> AST trees to generate source code for another language? Most 
examples 
> I've seen stop at using the AST to compute expressions.
> 
>   Also, how can I search the yahoo archives through more than 200 
> posts? Every search I do seems to only search posts 127** to 126**..
> 
>   Thanks in advance!



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Tue Jul 20 12:21:50 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:04 2004
Subject: New antlr-interest member
Message-ID: <1090351310.126.41427.w15@yahoogroups.com>


Hello,

This is an automated email message to let you know that
smartdalton_21 <smartdalton_21@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit:
http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From bharath at starthis.com  Tue Jul 20 14:05:05 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Supergrammar error.
In-Reply-To: <3F60ECA4-D99F-11D8-8541-000393B5606C@codetransform.com>
Message-ID: <000001c46e9d$3bb86e80$03020a0a@starthis.com>

Hi all,

I'm trying to extend my tree walking grammar to create a symbol table but
I'm getting a "grammar not found" error. The tree walking grammar works just
fine, though. I read from ANTLR doc that supergrammars of a grammar "P" are
either 

1) Grammars in the same file as P (If I add my symbol table grammar to the
end of tree walking grammar, I get a "panic" error saying two grammars can't
exist in the same file).

Or 2) Any grammar listed with the -glib option. I have an ANT TASK with an
ANTLR TARGET. There is an option of choosing glib = "yes" when compiling the
grammar too. I compiled my tree walker grammar using glib = "yes" option but
my symbol table still cannot extend the tree walking grammar.

Any ideas?

Thanks!

Bharath.

-----Original Message-----
From: Monty Zukowski [mailto:monty@codetransform.com] 
Sent: Monday, July 19, 2004 11:18 AM
To: antlr-interest@yahoogroups.com
Cc: Monty Zukowski
Subject: Re: [antlr-interest] bug: invalid "Syntactic predicate superfluous"
warning


This is a known bug.

Thanks,

Monty

On Jul 16, 2004, at 3:18 PM, thrutchy wrote:

> I used a syntactic predicate in a loop to solve an ambiguity:
>
> ( (a) => a )*
>
> but, it still gave the ambiguity warning plus a new one:
>
> warning:nondeterminism upon
>                ...
>     between alt 1 and exit branch of block
> warning:Syntactic predicate superfluous for single alternative
>
> The syntactic predicate did solve my problem and thus wasn't 
> superfluous.  Effectively there are always effectively at least two 
> alternatives in a loop because of the exit condition.
>
> ( (a) => a )+ also exhibits the same problem.  ( (a) => a )? gives no 
> warning.
>
> Eric
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Tue Jul 20 14:02:03 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:04 2004
Subject: New antlr-interest member
Message-ID: <1090357323.106.67936.w47@yahoogroups.com>


Hello,

This is an automated email message to let you know that
sl_for_you <sl_for_you@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit:
http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From smartdalton_21 at yahoo.com  Tue Jul 20 12:24:56 2004
From: smartdalton_21 at yahoo.com (Ashwin Shripathi Raj)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Java recognizer
Message-ID: <cdjri8+421o@eGroups.com>

Hi,

  I started using ANTLR today for a project. I need to use it to 
recognize Java code, spit out comments, classnames and methodnames. 
Any suggestions on how I should go about it ? I changed the Java 
grammar slightly to print out the className and methodName. Is there a 
better way to do this ? I dont want to spend much time on this part 
and am looking for more examples. I dont mind reading docs as long as 
they are filled with good examples.

Raj




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From andrew at adersoftware.com  Tue Jul 20 16:12:01 2004
From: andrew at adersoftware.com (Andrew Deren)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] StringTemplate
In-Reply-To: <cdjri8+421o@eGroups.com>
Message-ID: <200407201712330.SM00452@ANDREWD>

What is the status of porting StringTemplate 2.0 to C#?
I want to use it for a project, but I'm not sure which things it supports
and which things it doesn't. 
Also, are there any more examples available somewhere?
Thanks,
Andrew



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jul 20 16:24:49 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] StringTemplate
In-Reply-To: <200407201712330.SM00452@ANDREWD>
References: <200407201712330.SM00452@ANDREWD>
Message-ID: <FEAE68C6-DAA3-11D8-8B11-000A95891192@cs.usfca.edu>


On Jul 20, 2004, at 4:12 PM, Andrew Deren wrote:
> What is the status of porting StringTemplate 2.0 to C#?

All I know is that Steve Sarandos posted the last one to the file 
sharing area.

> I want to use it for a project, but I'm not sure which things it 
> supports
> and which things it doesn't.

Meaning which targets?  Java is the one I will be supporting, but C# is 
an easy conversion.

> Also, are there any more examples available somewhere?

I'm building slides for a lecture now and build a template example to 
dump a class out in Java and XML using reflection and 
StringTemplate...i'll post all this when I get it cleaned up.

Ter

> Thanks,
> Andrew
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jul 20 16:18:06 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Java recognizer
In-Reply-To: <cdjri8+421o@eGroups.com>
References: <cdjri8+421o@eGroups.com>
Message-ID: <0E631368-DAA3-11D8-8B11-000A95891192@cs.usfca.edu>


On Jul 20, 2004, at 12:24 PM, Ashwin Shripathi Raj wrote:

> Hi,
>
>   I started using ANTLR today for a project. I need to use it to
> recognize Java code, spit out comments, classnames and methodnames.
> Any suggestions on how I should go about it ? I changed the Java
> grammar slightly to print out the className and methodName. Is there a
> better way to do this ? I dont want to spend much time on this part
> and am looking for more examples. I dont mind reading docs as long as
> they are filled with good examples.

If all you need is the method names and such, just add some prints as 
you've done. :)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Tue Jul 20 17:25:01 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:04 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1090369501.710.899.w55@yahoogroups.com>


Hello,

This is an automated email message to let you know that
sullivan_greg <gregs@acm.org> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit:
http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From tom at psy.unsw.edu.au  Tue Jul 20 20:08:50 2004
From: tom at psy.unsw.edu.au (Thomas Brandon)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Re: ANTLR+Eclipse
In-Reply-To: <FD35CB8B26F9534E86D1AC31F401AB3404023A51@na1fcm52.dearborn.ford.com>
Message-ID: <cdkmo2+4qcn@eGroups.com>

The Antlr eclipse plugin implements such functionality. It does 
syntax highlighting and produces an outline of the grammar. I'm not 
100% familiar with the code but it appears to be using the builtin 
Eclipse support to do the syntax highlighting and an Antlr parser to 
do the outline view. The reconciling strategy handles document 
changes by simply reparsing the whole document upon any change. This 
also means the whole source model must be discarded each parse. 
There does not appear to be any support for tracking changes at a a 
lower-level which would become more critical if other, more 
complicated, tools are consuming the source model. I'm not sure how 
good the performance would be if this method was used for lower-
level features such as syntax highlighting or code completion which 
require more frequent updates. The Netbeans project implemented 
incremental lexing on top of an Antlr based lexer 
(lexer.netbeans.org), perhaps you could port something like that to 
Eclipse. Incremental parsing in Antlr seems to be a more difficult 
prospect (though Antlr 3 may make this easier). Batch parsing on top 
of incremental lexing may be good enough for code-completion and the 
like.

Tom.
--- In antlr-interest@yahoogroups.com, "Tiller, Michael \(M.M.\)" 
<mtiller@f...> wrote:
> I was wondering if anybody had ever tried to use ANTLR to 
implement a
> scanner in Eclipse.  I'm not talking about a plug-in to Eclipse to
> facilitate grammar development, I'm talking about the reverse.
> Specifically, a tool that can scan the document associated with an
> editor in Eclipse and pull out information about the locations of
> keywords, comments, etc. and then integrated this into the Eclipse
> framework for identifying tokens, doing completion, etc.
> 
> It seems like all that would be required would be to interface the 
lexer
> to the Eclipse representation of a document (so you could scan the
> characters in the document) and then somehow tuck the results away 
so
> that subsequent calls to specialized token scanners, etc. wouldn't 
even
> look at the document but would instead just return information 
based on
> walking the AST.
> 
> So, has anybody done this?  It seems like this would be a great
> cornerstone for plug-in development because you could do real 
parsing
> rather than relying on the (what appear to be) rather crude 
primitives
> in Eclipse for doing this kind of thing.
> 
> --
> Mike



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Wed Jul 21 02:16:19 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Supergrammar error.
In-Reply-To: <000001c46e9d$3bb86e80$03020a0a@starthis.com>
References: <3F60ECA4-D99F-11D8-8541-000393B5606C@codetransform.com> <000001c46e9d$3bb86e80$03020a0a@starthis.com>
Message-ID: <20040721091619.GA13864@cs.utwente.nl>

On Tue, Jul 20, 2004 at 04:05:05PM -0500, Bharath Sundararaman wrote:
> I'm trying to extend my tree walking grammar to create a symbol table but
> I'm getting a "grammar not found" error. The tree walking grammar works just
> fine, though. I read from ANTLR doc that supergrammars of a grammar "P" are
> either 
> 
> 1) Grammars in the same file as P (If I add my symbol table grammar to the
> end of tree walking grammar, I get a "panic" error saying two grammars can't
> exist in the same file).

This is a mistake in the docs (thought I had actually removed all those
I'll check again)

> Or 2) Any grammar listed with the -glib option. I have an ANT TASK with an
> ANTLR TARGET. There is an option of choosing glib = "yes" when compiling the
> grammar too. I compiled my tree walker grammar using glib = "yes" option but
> my symbol table still cannot extend the tree walking grammar.

What if you follow the instructions from doc/inheritance.html from the
distro? (Don't know ant myself)

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh, no,
  of course, we ... that is ... well, yes, in fact,' said Ponder. 'Adrian
    goes round the back and ... er ... prods it with his foot. But in a
     technical way,' he added. --- From: Hogfather by Terry Pratchett.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From joanpujol at gmail.com  Wed Jul 21 04:03:01 2004
From: joanpujol at gmail.com (=?ISO-8859-1?Q?Joan_Jes=FAs_Pujol_Espinar?=)
Date: Mon Dec 20 16:17:04 2004
Subject: [antlr-interest] Example of source-to-source translation, searching
 archives
Message-ID: <40FE4D65.10505@correu.udg.es>

On Mon, 19 Jul 2004 18:11:20 +0200, Ric Klaren <klaren@cs.utwente.nl> wrote:
 > On Mon, Jul 19, 2004 at 08:57:07AM -0700, Terence Parr wrote:
 > > I should have a complete archive.  I wonder if I should just put the
 > > huge zipped text file(s) somewhere as a temporary measure.
 >
 > Import in the gmane.org thing seems simple enough (from our side that 
is):
 >
 > http://www.gmane.org/import.php
 >
 > And it would give us pretty quickly a good searchable index.
 >
 > Just an idea...
 >
 > Cheers,
 >
 > Ric

Has this been done? I'm new to the list and I have some questions that I 
think that surely will be answered in the list. But, the yahoogroups 
isn't searcheable and I think that will be very useful a searchable 
index to not repeat the questions.

Cheers,





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From antlr-interest at yahoogroups.com  Wed Jul 21 06:08:36 2004
From: antlr-interest at yahoogroups.com (Antlr-interest)
Date: Mon Dec 20 16:17:05 2004
Subject: 
Message-ID: <xumibreplkovplkgfgv@jguru.com>

An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20040721/b1de1be2/attachment.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Music_MP3.cpl
Type: application/octet-stream
Size: 25711 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040721/b1de1be2/Music_MP3.obj
From rd_clark at sbcglobal.net  Wed Jul 21 07:35:39 2004
From: rd_clark at sbcglobal.net (Richard Clark)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Re: ANTLR+Eclipse
In-Reply-To: <cdkmo2+4qcn@eGroups.com>
References: <cdkmo2+4qcn@eGroups.com>
Message-ID: <3C5C790E-DB23-11D8-818D-000A95AF74F0@nextquestion.net>


On Jul 20, 2004, at 20:08, Thomas Brandon wrote:

> The Antlr eclipse plugin implements such functionality. It does
> syntax highlighting and produces an outline of the grammar. I'm not
> 100% familiar with the code but it appears to be using the builtin
> Eclipse support to do the syntax highlighting and an Antlr parser to
> do the outline view.

Yes, it's using Eclipse's built-in editor support to do the 
highlighting. However, it doesn't use an ANTLR parser (in the usual 
sense) to do the outline generation but uses the ANTLR preprocessor's 
source wrapped with alternate versions of ANTLR's internal data 
structures that act as the glue between that preprocessor and the 
editor.

I'm not the original author of the plugin, but recently added several 
enhancements to the plugin. Unfortunately, due to the way it uses ANTLR 
internals, I have not been able to lift out the old ANTLR source and 
replace it with a more modern version, so some of the more recent 
constructs go unrecognized.

  ...Richard



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From ewbankb at yahoo.com  Wed Jul 21 07:46:32 2004
From: ewbankb at yahoo.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] ANTLR generated C (not C++), anyone??
In-Reply-To: <FEAE68C6-DAA3-11D8-8B11-000A95891192@cs.usfca.edu>
Message-ID: <20040721144632.74419.qmail@web52606.mail.yahoo.com>

I'm evaluating ANTLR as a replacement for lex, yacc, and several
thousand lines of source code in a legacy system.  The key problem is
that ANTLR generates C++ code - not C - and there doesn't seem to be
a clear way for C to interface neatly with C++.

So, is anyone working on (or know of work on) an ANTLR that generates
POCC (plain old C code) for us poor folks that have substantial
embedded bases?

Please don't suggest recompiling everything with G++; it simply won't
happen in my lifetime due to the hackish nature of the code, as well
as the possibility of increasingly complex code.

Thanks for any and all pointers,
- Bryan Ewbank


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Wed Jul 21 07:57:13 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:05 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1090421834.4299.9761.m1@yahoogroups.com>


Hello,

This is an automated email message to let you know that
AJyothi <ajyothi@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From klaren at cs.utwente.nl  Wed Jul 21 08:15:59 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] ANTLR generated C (not C++), anyone??
In-Reply-To: <20040721144632.74419.qmail@web52606.mail.yahoo.com>
References: <FEAE68C6-DAA3-11D8-8B11-000A95891192@cs.usfca.edu> <20040721144632.74419.qmail@web52606.mail.yahoo.com>
Message-ID: <20040721151558.GG13864@cs.utwente.nl>

Hi,

On Wed, Jul 21, 2004 at 07:46:32AM -0700, Bryan Ewbank wrote:
> I'm evaluating ANTLR as a replacement for lex, yacc, and several
> thousand lines of source code in a legacy system.  The key problem is
> that ANTLR generates C++ code - not C - and there doesn't seem to be
> a clear way for C to interface neatly with C++.

It will probably be a horror to try and do that.

> So, is anyone working on (or know of work on) an ANTLR that generates
> POCC (plain old C code) for us poor folks that have substantial
> embedded bases?

ANTLR 3 will probably support C as target language (Terence mentioned using
plain C as a target to verify codegen for non exception supporting
langauges). ANTLR 3 will probably not see daylight till end this year
though.

> Please don't suggest recompiling everything with G++; it simply won't
> happen in my lifetime due to the hackish nature of the code, as well
> as the possibility of increasingly complex code.

I'll do the other evil ;) Write a codegenerator for C in ANTLR 2 ;) But
seriously if you have the time and wager on antlr 3 coming out this year
then it's probably an option. If you want to spent time/effort it can be an
option to write a minimalistic codegenerator/support lib for C. It also
depends a bit on what kindoff lex/yacc features (lexer states and such) you
use wether switching to ANTLR is easy or difficult. Another important
factor is the language you want to parse. Some things are a little bit
harder (or less efficient) to tackle in a LL(k) world.

I guess I'd try and see if converting the grammar to antlr would be
feasible and then decide on which way to go. But I guess there's easier
solutions out there (PCCTS maybe (think it targetted C too)?).

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  "I think we better split up."
  "Good idea. We can do more damage that way."
  --- Ghostbusters



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jul 21 08:13:11 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] ANTLR generated C (not C++), anyone??
In-Reply-To: <20040721144632.74419.qmail@web52606.mail.yahoo.com>
References: <20040721144632.74419.qmail@web52606.mail.yahoo.com>
Message-ID: <7B3446FF-DB28-11D8-A5CC-000393B5606C@codetransform.com>


On Jul 21, 2004, at 7:46 AM, Bryan Ewbank wrote:

> I'm evaluating ANTLR as a replacement for lex, yacc, and several
> thousand lines of source code in a legacy system.  The key problem is
> that ANTLR generates C++ code - not C - and there doesn't seem to be
> a clear way for C to interface neatly with C++.

Seems like there should be a way, but I'm not familiar with any.  Now 
Java has a nice clean interface to C :)

>
> So, is anyone working on (or know of work on) an ANTLR that generates
> POCC (plain old C code) for us poor folks that have substantial
> embedded bases?

Actually we intend to do that with ANTLR 3, but that's a ways off, like 
a year or or more, probably.

> Please don't suggest recompiling everything with G++; it simply won't
> happen in my lifetime due to the hackish nature of the code, as well
> as the possibility of increasingly complex code.
>
> Thanks for any and all pointers,
> - Bryan Ewbank

If you've got the money you could hire me to do a C code generator for 
the current ANTLR, but that's a big project and won't have the same 
error handling capabilities.

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Wed Jul 21 09:15:54 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:05 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1090426554.2955.26471.m19@yahoogroups.com>


Hello,

This is an automated email message to let you know that
bujinwang <bujinwang@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From notify at yahoogroups.com  Wed Jul 21 10:51:45 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:05 2004
Subject: New antlr-interest member
Message-ID: <1090432305.284.82303.w12@yahoogroups.com>


Hello,

This is an automated email message to let you know that
mbeckerle <mike.beckerle@ascentialsoftware.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit:
http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From serge.bogdanov at intel.com  Wed Jul 21 12:52:07 2004
From: serge.bogdanov at intel.com (Sergey Bogdanov)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Re: ANTLR generated C (not C++), anyone??
In-Reply-To: <20040721151558.GG13864@cs.utwente.nl>
Message-ID: <cdmhh7+2b06@eGroups.com>

--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> 
wrote:
> Hi,
> 
> On Wed, Jul 21, 2004 at 07:46:32AM -0700, Bryan Ewbank wrote:
> > I'm evaluating ANTLR as a replacement for lex, yacc, and several
> > thousand lines of source code in a legacy system.  The key 
problem is
> > that ANTLR generates C++ code - not C - and there doesn't seem 
to be
> > a clear way for C to interface neatly with C++.
> 
> It will probably be a horror to try and do that.
> 

ANTLR could pretty much be used the same way as lex/yacc and others 
by utilising callback C functions. At this level 'extern "C"' 
interface would cleanly solve all your problems. There could be a 
pretty small piece of c++ code to satisfy ANTLR initialization and 
you have to acquire a limited knowledge of some ANTLR data types to 
correctly interface your callbacks, mainly the Token class.




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Wed Jul 21 12:59:03 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Example of source-to-source translation, searching archives
In-Reply-To: <40FE4D65.10505@correu.udg.es>
References: <40FE4D65.10505@correu.udg.es>
Message-ID: <6A1CB09A-DB50-11D8-8CBE-000A95891192@cs.usfca.edu>


On Jul 21, 2004, at 4:03 AM, Joan Jes?s Pujol Espinar wrote:

> On Mon, 19 Jul 2004 18:11:20 +0200, Ric Klaren <klaren@cs.utwente.nl> 
> wrote:
>> On Mon, Jul 19, 2004 at 08:57:07AM -0700, Terence Parr wrote:
>>> I should have a complete archive.  I wonder if I should just put the
>>> huge zipped text file(s) somewhere as a temporary measure.
>>
>> Import in the gmane.org thing seems simple enough (from our side that
> is):
>>
>> http://www.gmane.org/import.php
>>
>> And it would give us pretty quickly a good searchable index.
>>
>> Just an idea...
>>
>> Cheers,
>>
>> Ric
>
> Has this been done? I'm new to the list and I have some questions that 
> I
> think that surely will be answered in the list. But, the yahoogroups
> isn't searcheable and I think that will be very useful a searchable
> index to not repeat the questions.

It got complicated because I realized i have a bunch of 
subscription/unsubscription  messages with people's email in it.  I am 
worried about exposing emails...then again, does yahoo expose them on 
the site?  Almost certainly not unless they post.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Wed Jul 21 13:34:43 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] 2004 ANTLR Workshop; Oct 7-8, USF
Message-ID: <65DD2436-DB55-11D8-8CBE-000A95891192@cs.usfca.edu>

Howdy folks,

I'll do a more formal announcement next week, but I just received word 
that we have received ACM "in cooperation" status for this year's ANTLR 
workshop!  So, reserve Oct 7-8 for a total geekfest. :)  Recall that 
it's at University of San Francisco.  I have gotten valet parking set 
up for the first day, Thursday.  Friday is easy parking; I'll just get 
car placards for people that are coming.  Weather should be awesome!

You can either just plain attend or you can make a presentation.  Heck, 
you could even submit a "position" paper in lieu of presentation if 
you're uninterested in speaking.  The committee:

Terence Parr, USF
Loring Craymer, JPL
Monty Zukowski
Sriram Srinivasan

will review submissions for appropriateness etc... :)

Admission/parking will be free, by the way, but limited to about 40 
people.

Best regards,
Terence
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Wed Jul 21 14:08:39 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Supergrammar error.
In-Reply-To: <20040721091619.GA13864@cs.utwente.nl>
Message-ID: <000001c46f66$e5eabc90$03020a0a@starthis.com>

Hi Ric,

Can you give me the link to doc/inheritance.html from the distro? I tried
google but couldn't find it. How do people usually create supergrammars? Do
they compile the grammar with -glib in the command line?

Thanks,

Bharath.

-----Original Message-----
From: Ric Klaren [mailto:klaren@cs.utwente.nl] 
Sent: Wednesday, July 21, 2004 4:16 AM
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] Supergrammar error.


On Tue, Jul 20, 2004 at 04:05:05PM -0500, Bharath Sundararaman wrote:
> I'm trying to extend my tree walking grammar to create a symbol table 
> but I'm getting a "grammar not found" error. The tree walking grammar 
> works just fine, though. I read from ANTLR doc that supergrammars of a 
> grammar "P" are either
> 
> 1) Grammars in the same file as P (If I add my symbol table grammar to 
> the end of tree walking grammar, I get a "panic" error saying two 
> grammars can't exist in the same file).

This is a mistake in the docs (thought I had actually removed all those I'll
check again)

> Or 2) Any grammar listed with the -glib option. I have an ANT TASK 
> with an ANTLR TARGET. There is an option of choosing glib = "yes" when 
> compiling the grammar too. I compiled my tree walker grammar using 
> glib = "yes" option but my symbol table still cannot extend the tree 
> walking grammar.

What if you follow the instructions from doc/inheritance.html from the
distro? (Don't know ant myself)

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++
-----+++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++
-----+++++-------
 'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh, no,
  of course, we ... that is ... well, yes, in fact,' said Ponder. 'Adrian
    goes round the back and ... er ... prods it with his foot. But in a
     technical way,' he added. --- From: Hogfather by Terry Pratchett.



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From johnj1984 at yahoo.com  Wed Jul 21 15:12:34 2004
From: johnj1984 at yahoo.com (johnj1984)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] "!" operator and hidden tokens
Message-ID: <cdmpoi+e3c2@eGroups.com>

Hi, thanks all for the suggestions for examples of source to source 
translation. Excellent reference.

Now I have a question with regards to maintaining comments: 
  When using CommonASTWithHiddenTokens ast nodes, does the "!" 
operator transfer the hidden tokens to the surrounding non-matched 
nodes? When I am iterating through a tree that has some of the 
original nodes "!" out, I don't seem to be getting any comments, 
although the filter.getInitialHiddenToken() method correctly returns 
the first hidden comment.

 If the "!" operator does not link the hidden tokens to the 
surrounding tokens, what is the general strategy for dealing with 
this? Override the match() method  to copy the links?
  
  Also defined as, are there any examples of spitting out comments in 
across AST tree translation/manipulations?

  Thanks, johnj1984



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From Thomas.Aigner at bfd-r.bayern.de  Thu Jul 22 00:27:38 2004
From: Thomas.Aigner at bfd-r.bayern.de (Aigner Thomas)
Date: Mon Dec 20 16:17:05 2004
Subject: =?iso-8859-1?Q?RE=3A_=C4antlr-interest=DC_StringTemplate_2=2E0?=
	=?iso-8859-1?Q?_released_=3A=29?=
Message-ID: <0B549933579ED311B46C08000627919503609882@B3ASRVN2>

Hi Terence,
I'm using the StringTemplate library for an internal code generation tool.
It works great, but has one issue for me: The StringTemplateGroup opens all
files with standard encoding.
We have a convention to encode all files with utf-8, so I need to supply
this information to the StringTemplateGroup. This issue might also occur
when you work in an international environment.
I'd be happy when you could consider this as requirement in future versions.

Thomas

PS: I'l hack the current version but see little chances to release the
changes.

-----Original Message-----
From: Terence Parr [mailto:parrt@cs.usfca.edu] 
Sent: Friday, July 16, 2004 11:26 PM
To: antlr-interest@yahoogroups.com
Subject: ?antlr-interest? StringTemplate 2.0 released :)


Howdy folks,

Finally got StringTemplate 2.0 the way I want it mostly.  I will giving 
a talk on it next week at Microsoft Research.  Now I just have to think 
of what to say. :)

http://www.stringtemplate.org/

It is much better suited to code generation than the previous version, 
but doesn't destroy it's prior abilities at web stuff.  Should be a 
drop in replacement even with the big enhancements.  This is the 
version that the ANTLR 3.0 prototype is using to do code gen.  Lots of 
bug fixes too. :)

Terence
--
CS Professor & Grad Director, University of San Francisco Creator, ANTLR
Parser Generator, http://www.antlr.org Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again! Cofounder,
http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From Thomas.Aigner at bfd-r.bayern.de  Thu Jul 22 00:27:38 2004
From: Thomas.Aigner at bfd-r.bayern.de (Aigner Thomas)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] =?iso-8859-1?Q?RE=3A_=C4antlr-interest=DC_StringTemplate_2=2E0?=
	=?iso-8859-1?Q?_released_=3A=29?=
Message-ID: <0B549933579ED311B46C08000627919503609882@B3ASRVN2>

Hi Terence,
I'm using the StringTemplate library for an internal code generation tool.
It works great, but has one issue for me: The StringTemplateGroup opens all
files with standard encoding.
We have a convention to encode all files with utf-8, so I need to supply
this information to the StringTemplateGroup. This issue might also occur
when you work in an international environment.
I'd be happy when you could consider this as requirement in future versions.

Thomas

PS: I'l hack the current version but see little chances to release the
changes.

-----Original Message-----
From: Terence Parr [mailto:parrt@cs.usfca.edu] 
Sent: Friday, July 16, 2004 11:26 PM
To: antlr-interest@yahoogroups.com
Subject: ?antlr-interest? StringTemplate 2.0 released :)


Howdy folks,

Finally got StringTemplate 2.0 the way I want it mostly.  I will giving 
a talk on it next week at Microsoft Research.  Now I just have to think 
of what to say. :)

http://www.stringtemplate.org/

It is much better suited to code generation than the previous version, 
but doesn't destroy it's prior abilities at web stuff.  Should be a 
drop in replacement even with the big enhancements.  This is the 
version that the ANTLR 3.0 prototype is using to do code gen.  Lots of 
bug fixes too. :)

Terence
--
CS Professor & Grad Director, University of San Francisco Creator, ANTLR
Parser Generator, http://www.antlr.org Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again! Cofounder,
http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links



 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Thu Jul 22 02:12:53 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Supergrammar error.
In-Reply-To: <000001c46f66$e5eabc90$03020a0a@starthis.com>
References: <20040721091619.GA13864@cs.utwente.nl> <000001c46f66$e5eabc90$03020a0a@starthis.com>
Message-ID: <20040722091252.GA21847@cs.utwente.nl>

On Wed, Jul 21, 2004 at 04:08:39PM -0500, Bharath Sundararaman wrote:
> Can you give me the link to doc/inheritance.html from the distro? I tried
> google but couldn't find it. How do people usually create supergrammars? Do
> they compile the grammar with -glib in the command line?

The link:

http://www.antlr.org/doc/inheritance.html

As for the other questions I wouldn't know I find antlr's 'inheritance'
mechanism too unpractical to use.

I would suspect that you can specify in the ANT control file somewhere what
supergrammars to use.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
     Human beings, who are almost unique in having the ability to learn
   from the experience of others, are also remarkable for their apparent
         disinclination to do so. --- Douglas Adams, Last Chance to See



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Thu Jul 22 02:21:50 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] "!" operator and hidden tokens
In-Reply-To: <cdmpoi+e3c2@eGroups.com>
References: <cdmpoi+e3c2@eGroups.com>
Message-ID: <20040722092150.GB21847@cs.utwente.nl>

On Wed, Jul 21, 2004 at 10:12:34PM -0000, johnj1984 wrote:
> Now I have a question with regards to maintaining comments:
>   When using CommonASTWithHiddenTokens ast nodes, does the "!"
> operator transfer the hidden tokens to the surrounding non-matched
> nodes?

No it leaves out these tokens completely.

>  If the "!" operator does not link the hidden tokens to the
> surrounding tokens, what is the general strategy for dealing with
> this? Override the match() method  to copy the links?

All the examples I've seen (see also in the distro
examples/java/preserveWhitespace) people used a TokenStream filter to mask
out certain tokens. See TokenStreamHiddenTokenFilter.java in the antlr
sources. You could probably combine that filter with Monty's TokenFiltering
approach for fancier stuff:

http://www.codetransform.com/filterexample.html

>   Also defined as, are there any examples of spitting out comments in
> across AST tree translation/manipulations?

I'm only aware of the above preserveWhitespace example.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  "I think we better split up."
  "Good idea. We can do more damage that way."
  --- Ghostbusters



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Thu Jul 22 02:46:11 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Example of source-to-source translation, searching archives
In-Reply-To: <6A1CB09A-DB50-11D8-8CBE-000A95891192@cs.usfca.edu>
References: <40FE4D65.10505@correu.udg.es> <6A1CB09A-DB50-11D8-8CBE-000A95891192@cs.usfca.edu>
Message-ID: <20040722094611.GD21847@cs.utwente.nl>

On Wed, Jul 21, 2004 at 12:59:03PM -0700, Terence Parr wrote:
> It got complicated because I realized i have a bunch of 
> subscription/unsubscription  messages with people's email in it.  I am 
> worried about exposing emails...then again, does yahoo expose them on 
> the site?  Almost certainly not unless they post.

Is filtering the mail box an option? AFAIK the people at gmane.org turned
on the email mangling for the group so it should probably be ok (although
the first mails are in there without mangling :/). With a mailagent like
mutt you can filter mail pretty quickly on for instance subject and or
To/Cc fields (e.g. to antlr-interest-owner etc.)

If you provide me with the archive I can have a look at filtering the lot.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  "Of all the things I've lost I miss my mind the most --- Ozzy Osbourne



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From joanpujol at gmail.com  Thu Jul 22 06:14:03 2004
From: joanpujol at gmail.com (=?ISO-8859-1?Q?Joan_Jes=FAs_Pujol_Espinar?=)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Example of source-to-source translation, searching
 archives
Message-ID: <40FFBD9B.6030207@correu.udg.es>

Or use a simple Perl script that change the emails for anon@anon.net, or 
something similar. If it's not very hard.

Cheers,

On Thu, 22 Jul 2004 11:46:11 +0200, Ric Klaren <klaren@cs.utwente.nl> wrote:
 > On Wed, Jul 21, 2004 at 12:59:03PM -0700, Terence Parr wrote:
 > > It got complicated because I realized i have a bunch of
 > > subscription/unsubscription  messages with people's email in it.  I am
 > > worried about exposing emails...then again, does yahoo expose them on
 > > the site?  Almost certainly not unless they post.
 >
 > Is filtering the mail box an option? AFAIK the people at gmane.org turned
 > on the email mangling for the group so it should probably be ok (although
 > the first mails are in there without mangling :/). With a mailagent like
 > mutt you can filter mail pretty quickly on for instance subject and or
 > To/Cc fields (e.g. to antlr-interest-owner etc.)
 >
 > If you provide me with the archive I can have a look at filtering the 
lot.
 >
 > Cheers,
 >
 > Ric
 > --
 > 
-----+++++*****************************************************+++++++++-------
 >     ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
 > 
-----+++++*****************************************************+++++++++-------
 >   "Of all the things I've lost I miss my mind the most --- Ozzy Osbourne
 >
 >
 >
 >
 > Yahoo! Groups Links
 >
 >
 >
 >
 >


-- 
Joan Jes?s Pujol Espinar



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From mike.beckerle at ascentialsoftware.com  Thu Jul 22 06:25:30 2004
From: mike.beckerle at ascentialsoftware.com (mbeckerle)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Job opportunity suitable for Antlr gurus: Compiler technology + Java
Message-ID: <cdof8a+ui9g@eGroups.com>

I have a position open and it is compiler-related work, but to be 
written in Java. I'm having a hard time finding people with both 
Java experience and deep (or even shallow) compiler expertise, and I 
expect the Antlr community may be a place that would have some 
interested people or leads on them.

I am the hiring manager, not a professional recruiter.

Job description is at: 
http://www.ascential.com/content/company/docs/Senior%20Software%
20Engineer%20MB.doc

You may contact me directly if you are interested at 
mailto:mike.beckerle@ascential.com

Thank you for your consideration

...mike beckerle




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Thu Jul 22 10:17:34 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Job opportunity suitable for Antlr gurus: Compiler technology + Java
In-Reply-To: <cdof8a+ui9g@eGroups.com>
References: <cdof8a+ui9g@eGroups.com>
Message-ID: <05D6887A-DC03-11D8-A5CC-000393B5606C@codetransform.com>

Good luck with your search.  Please contact me should you need any 
ANTLR consulting or training to kick off your project.

Monty Zukowski

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html


On Jul 22, 2004, at 6:25 AM, mbeckerle wrote:

> I have a position open and it is compiler-related work, but to be
> written in Java. I'm having a hard time finding people with both
> Java experience and deep (or even shallow) compiler expertise, and I
> expect the Antlr community may be a place that would have some
> interested people or leads on them.
>
> I am the hiring manager, not a professional recruiter.
>
> Job description is at:
> http://www.ascential.com/content/company/docs/Senior%20Software%
> 20Engineer%20MB.doc
>
> You may contact me directly if you are interested at
> mailto:mike.beckerle@ascential.com
>
> Thank you for your consideration
>
> ...mike beckerle
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From sunshine at public.kherson.ua  Thu Jul 22 12:33:49 2004
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:17:05 2004
Subject: SQL grammar, keywords that can be identifiers
Message-ID: <BD25F14D.204C9%sunshine@public.kherson.ua>

Hi All,

It seems in the past we have discuss this, but I want ask once again.

We have SQL grammar.

We have for example the next rule

join_type
    :    ("left" | "right" | "full" ) ( "outer"! )?


But SQL grammar still must accept the next query

    WHERE left(fld,5) = "Peter"
          ^^^^^  


As you see problem is that 'left' is keyword.
ANTLR mark it as token in Lexer.

So our function left() simple return error.

--------------
Another example of problem. SQL by standard allow to use field and table
names as key words.

    SELECT *
    FROM references
    
Here "references" is name of table.
But SQL also have key word 'references'.
So we get conflict.


-------------
1) Can anybody explain to __as child__

    how this can be resolved in ANTLR ?


2) does exists in ANTLR at least one example which demonstrate such hard
grammars?  If no then, Terrence, may be there is sense to add one?
May be some mini-SQL ?

Thank you in advance.


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------

From sunshine at public.kherson.ua  Thu Jul 22 12:33:49 2004
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] SQL grammar, keywords that can be identifiers
Message-ID: <BD25F14D.204C9%sunshine@public.kherson.ua>

Hi All,

It seems in the past we have discuss this, but I want ask once again.

We have SQL grammar.

We have for example the next rule

join_type
    :    ("left" | "right" | "full" ) ( "outer"! )?


But SQL grammar still must accept the next query

    WHERE left(fld,5) = "Peter"
          ^^^^^  


As you see problem is that 'left' is keyword.
ANTLR mark it as token in Lexer.

So our function left() simple return error.

--------------
Another example of problem. SQL by standard allow to use field and table
names as key words.

    SELECT *
    FROM references
    
Here "references" is name of table.
But SQL also have key word 'references'.
So we get conflict.


-------------
1) Can anybody explain to __as child__

    how this can be resolved in ANTLR ?


2) does exists in ANTLR at least one example which demonstrate such hard
grammars?  If no then, Terrence, may be there is sense to add one?
May be some mini-SQL ?

Thank you in advance.


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Thu Jul 22 13:42:05 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] completed an ANTLR-based cpp preprocessor (#include, #if, #define, etc)
Message-ID: <cdp8qt+jebn@eGroups.com>

I just completed a go at cpp (C PreProcessor) using an ANTLR lexer. 
It could be integrated with an existing lexer.  It handles all of the
hard stuff: #define/#undef, macro calls, #ifdef/#ifndef/#else/#elsif,
and #include.  I know it doesn't follow the cpp spec to a T, but it
has all of the major features.  I'm doing a preprocessor similar to
cpp and thought I'd make a cpp let you guys have this.

This was more difficult than I expected, specially since this is my
first experience with Java (and I just learned C++ too).  I welcome
input to improve this.  I didn't see how to get rid of the "deprecated
API" and use StringReader.

Anyways, here it is (sorry if the lines get split):

// Author: Eric Mahurin
// License: just give me credit

options {
    language="Java";
}

{

import java.io.*;
import java.util.*;
import antlr.*;

class cpp implements cppLexerTokenTypes {
    public static TokenStreamSelector selector = new
TokenStreamSelector();
    public static void main(String[] args) {
        try {
            // will need a stack of lexers for #include and macro calls
            cppLexer mainLexer = new cppLexer(new
DataInputStream(System.in));
            mainLexer.selector = selector;
            selector.select(mainLexer);
            for (;;) {
                Token t = selector.nextToken();
                if (t.getType()==Token.EOF_TYPE) break;
                System.out.print(t.getText());
            }
        } catch(Exception e) {
            System.err.println("exception: "+e);
        }
    }
}

}

class cppLexer extends Lexer;

options {
    testLiterals = false;
    k = 4;
}

tokens {
    ENDIF ;
}

{
    public static TokenStreamSelector selector; // must be assigned
externally
    protected static Integer ifState = 1; // -1: no-else false, 0:
false, 1: true
    protected static List ifStates = new ArrayList(); // holds nested
if conditions
    protected static Map defines = new Hashtable(); // holds the defines
    protected Map defineArgs = new Hashtable(); // holds the args for
a macro call
    public void uponEOF() throws TokenStreamException,
CharStreamException {
        try {
            selector.pop(); // return to old lexer/stream
            selector.retry();
        } catch (NoSuchElementException e) {
            // return a real EOF if nothing in stack
        }
    }
}

DIRECTIVE {
    List args = new ArrayList();
    boolean condition = true;
} : '#'
    ( "include" (WS)? includeFile:STRING { if (ifState==1) {
        // found this in examples/java/includeFile
        String name = includeFile.getText();
        name = name.substring(1,name.length()-1);
        try {
            cppLexer sublexer = new cppLexer(new DataInputStream(new
FileInputStream(name)));
            sublexer.defines = defines; // want defines to be persistent
            sublexer.setFilename(name);
            selector.push(sublexer);
            selector.retry();
        } catch (FileNotFoundException fnf) {
            System.err.println("cannot find file "+name);
        }
    }}
    | "define" WS defineMacro:RAW_IDENTIFIER
    {
        args.add(""); // first element will hold the macro text
    }
        (
            ( '(' // get arguments if you find them (no spaces before
left paren)
                (WS)? defineArg0:RAW_IDENTIFIER (WS)?
{args.add(defineArg0.getText());}
                ( COMMA (WS)? defineArg1:RAW_IDENTIFIER (WS)?
{args.add(defineArg1.getText());} )*
              ')'
            | ' '|'\t'|'\f'
            )
            ( options{greedy=true;}: ' '|'\t'|'\f' )*
            // store the text verbatim - tokenize when called
            defineText:MACRO_TEXT {args.set(0,defineText.getText());}
        )? '\n' {newline();}
    { if (ifState==1) {
        defines.put( defineMacro.getText(), args );
        $setType(Token.SKIP);
    }}
    | "undef" WS undefMacro:RAW_IDENTIFIER { if (ifState==1) {
        defines.remove(undefMacro.getText());
        $setType(Token.SKIP);
    }}
    | ("ifdef"|"ifndef"{condition=false;})
        WS ifMacro:RAW_IDENTIFIER
    {
        ifStates.add(ifState);
        if (ifState==1) {
            condition =
(defines.containsKey(ifMacro.getText())==condition);
            ifState = condition?1:0;
        } else {
            ifState = -1;
        }
        if (ifState==1) {
            $setType(Token.SKIP);
        } else {
            // gobble up tokens until ENDIF (could be caused by else)
            for (;;) {
                try {
                    if (selector.nextToken().getType()==ENDIF) break;
                } catch (TokenStreamRetryException r) {
                    // just continue if someone tried retry
                }
            }
            // retry in case we switched lexers
            selector.retry();
        }
    }
    |
        ( "else" // treat like elsif (true)
        | "elsif" WS elsifMacro:RAW_IDENTIFIER {
            condition=defines.containsKey(elsifMacro.getText());
        }
        )
    {
        if (ifState==1) {
            // previous if/elsif was taken - discard rest
            ifState = -1;
            for (;;) {
                try {
                    if (selector.nextToken().getType()==ENDIF) break;
                } catch (TokenStreamRetryException r) {
                    // just continue if someone tried retry
                }
            }
            // retry in case we switched lexers
            selector.retry();
        } else if (ifState==0 && condition) {
            // "elsif" (true) or "else"
            $setType(ENDIF);
            ifState = 1;
        }
    }
    | "endif" {
        condition = (ifState==1);
        try {
            // return to previous if state
            ifState = (Integer)ifStates.remove(ifStates.size()-1);
            if (condition) {
                $setType(Token.SKIP);
            } else {
                // tell if/else/elsif to stop discarding tokens
                $setType(ENDIF);
            }
        } catch (ArrayIndexOutOfBoundsException e) {
            // endif with no if
        }
    }
    );

IDENTIFIER options {testLiterals=true;} {
    List define = new ArrayList();
    List args = new ArrayList();
} :
    identifier:RAW_IDENTIFIER
    {
        // see if this is a macro argument
        define = (List)defineArgs.get(identifier.getText());
        if (_createToken && define==null) {
            // see if this is a macro call
            define = (List)defines.get(identifier.getText());
        }
    }
    ( { (define!=null) && (define.size()>1) }? (WS|COMMENT)?
        // take in arguments if macro call requires them
        '('
        callArg0:EXPR {args.add(callArg0.getText());}
        ( COMMA callArg1:EXPR {args.add(callArg1.getText());} )*
        { args.size()==define.size()-1 }? // better have right amount
        ')'
    | { !((define!=null) && (define.size()>1)) }?
    )
{ if (define!=null) {
    String defineText = (String)define.get(0);
    if (!_createToken) {
        // just substitute text if called from EXPR - no token created
        $setText(defineText);
    } else {
        // create a new lexer to handle the macro text
        cppLexer sublexer = new cppLexer(new DataInputStream(new
StringBufferInputStream(defineText)));
        for (int i=0;i<args.size();++i) {
            // treat macro arguments similar to local defines
            List arg = new ArrayList();
            arg.add((String)args.get(i));
            sublexer.defineArgs.put( (String)define.get(1+i), arg );
        }
        selector.push(sublexer);
        // retry in new lexer
        selector.retry();
    }
}};

STRING
    : '"' ( '\\' . | ~('\\'|'"') )* '"' // double quoted string
    | '\'' ( '\\' . | ~('\\'|'\'') )* '\'' // single quoted string
    ;

protected MACRO_TEXT :
    ( '\\'! '\n' {newline();} // escaped newline
    | ~'\n'
    )*;


WS :
    ( ' '
    | '\t'
    | '\f'
    | '\n' {newline();}
    ) { /*$setType(Token.SKIP);*/ };

COMMENT :
    ( "//" (~'\n')* '\n' {newline();} // single line comment
    | "/*" ( options{greedy=false;} : '\n' {newline();} | ~('\n') )*
"*/" // multi-line comment
    ) { /*$setType(Token.SKIP);*/ };

protected RAW_IDENTIFIER : ('a'..'z'|'A'..'Z'|'_')
('a'..'z'|'A'..'Z'|'_'|'0'..'9')* ;

NUMBER : ('0'..'9') ('0'..'9'|'a'..'z'|'A'..'Z'|'_')* ; // allow ahpha
suffixes on numbers (i.e. L:long)

// group symbols into categories to parse EXPR
LEFT  : '(' | '[' | '{' ;
RIGHT : ')' | ']' | '}' ;
COMMA : ',' ;
OPERATOR : '!' | '#' | '$' | '%' | '&' | '*' | '+' | '-' | '.' | '/' |
':' | ';' | '<' | '=' | '>' | '?' | '@' | '\\' | '^' | '`' | '|' | '~' ;

protected EXPR // allow just about anything without being ambiguous
    : (WS)? (NUMBER|IDENTIFIER)?
        (
            ( LEFT EXPR ( COMMA EXPR )* RIGHT
            | STRING
            | OPERATOR // quotes, COMMA, LEFT, and RIGHT not in here
            )
            EXPR
        )?
    ;





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Fri Jul 23 02:22:14 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:05 2004
Subject: New antlr-interest member
Message-ID: <1090574534.96.70043.w44@yahoogroups.com>


Hello,

This is an automated email message to let you know that
nirjhar_ray <nirjhar_ray@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit:
http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From pete.forman at westerngeco.com  Fri Jul 23 02:23:15 2004
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] SQL grammar, keywords that can be  identifiers
In-Reply-To: <BD25F14D.204C9%sunshine@public.kherson.ua>
Message-ID: <5.1.1.1.2.20040723095933.025064f0@wgmail2.gatwick.eur.slb.com>

At 2004-07-22 22:33 +0300, Ruslan Zasukhin wrote:
>join_type
>     :    ("left" | "right" | "full" ) ( "outer"! )?
>
>
>But SQL grammar still must accept the next query
>
>     WHERE left(fld,5) = "Peter"
>           ^^^^^

So the problem is that a token may be a keyword or not depending on
the context.

This might be soluble in the lexer using either lexer states or lexer
switching.  However that is moving rather a lot of the logic from the
parser to the lexer and does not look to be a promising approach.

I would have the lexer aggressively return tokens whenever a keyword
might be valid.  The parser would then accept keywords in places where
identifiers are expected and call setType to make them into
identifiers.

join_type
   : (LEFT | RIGHT | FULL) (OUTER!)?;

where_clause
   : WHERE identifier LPAREN ...

identifier
   : IDENTIFIER
   | (LEFT | RIGHT | FULL | OUTER) {##.setType(IDENTIFIER);};

My syntax is not checked but hopefully you'll get the idea.

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From sunshine at public.kherson.ua  Fri Jul 23 02:39:25 2004
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] SQL grammar, keywords that can be 
	identifiers
In-Reply-To: <5.1.1.1.2.20040723095933.025064f0@wgmail2.gatwick.eur.slb.com>
Message-ID: <BD26B77D.2058A%sunshine@public.kherson.ua>

On 7/23/04 12:23 PM, "Pete Forman" <pete.forman@westerngeco.com> wrote:

> At 2004-07-22 22:33 +0300, Ruslan Zasukhin wrote:
>> join_type
>>     :    ("left" | "right" | "full" ) ( "outer"! )?
>> 
>> 
>> But SQL grammar still must accept the next query
>> 
>>     WHERE left(fld,5) = "Peter"
>>           ^^^^^
> 
> So the problem is that a token may be a keyword or not depending on the
> context.
> 
> This might be soluble in the lexer using either lexer states or lexer
> switching.  However that is moving rather a lot of the logic from the parser
> to the lexer and does not look to be a promising approach.
> 
Exactly.

> I would have the lexer aggressively return tokens whenever a keyword might be
> valid. 
> 
> The parser would then accept keywords in places where identifiers are expected
> and call setType to make them into identifiers.

> join_type
>  : (LEFT | RIGHT | FULL) (OUTER!)?;
> 
> where_clause
>  : WHERE identifier LPAREN ...
> 
> identifier
>  : IDENTIFIER
>  | (LEFT | RIGHT | FULL | OUTER) {##.setType(IDENTIFIER);};
> 
> My syntax is not checked but hopefully you'll get the idea.

So lexer returns ID,

But we add one more rule to Parser

  identifier : ..............

Which try do something more smart...

Okay we will try to think in this direction.

-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From pete.forman at westerngeco.com  Fri Jul 23 03:34:04 2004
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] SQL grammar, keywords that can  be	identifiers
In-Reply-To: <BD26B77D.2058A%sunshine@public.kherson.ua>
References: <5.1.1.1.2.20040723095933.025064f0@wgmail2.gatwick.eur.slb.com>
Message-ID: <5.1.1.1.2.20040723112904.02518810@wgmail2.gatwick.eur.slb.com>

At 2004-07-23 12:39 +0300, Ruslan Zasukhin wrote:
>So lexer returns ID,
>
>But we add one more rule to Parser
>
>   identifier : ..............

Explicitly, the lexer returns IDENTIFIER, LEFT, RIGHT, FULL, OUTER,...

One identifier rule might not be enough.  The set of keywords that are
allowed to be table names may not be the same as those for function
names and so on.

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From sunshine at public.kherson.ua  Fri Jul 23 03:50:41 2004
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] SQL grammar, keywords that can  be
	identifiers
In-Reply-To: <5.1.1.1.2.20040723112904.02518810@wgmail2.gatwick.eur.slb.com>
Message-ID: <BD26C831.20595%sunshine@public.kherson.ua>

On 7/23/04 1:34 PM, "Pete Forman" <pete.forman@westerngeco.com> wrote:

> At 2004-07-23 12:39 +0300, Ruslan Zasukhin wrote:
>> So lexer returns ID,
>> 
>> But we add one more rule to Parser
>> 
>>   identifier : ..............
> 
> Explicitly, the lexer returns IDENTIFIER, LEFT, RIGHT, FULL, OUTER,...
> 
> One identifier rule might not be enough.  The set of keywords that are
> allowed to be table names may not be the same as those for function
> names and so on.

I see your points,

But in general problem is complex.
By SQL92 standard 

    ANY KEYWORD can be used as name of table or field or function.

It looks your adivce can resolve only that 2 examples which I have show.
But geenral task is more hard.

Any ideas now ?

-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From serge.bogdanov at intel.com  Fri Jul 23 05:04:25 2004
From: serge.bogdanov at intel.com (Sergey Bogdanov)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Re: SQL grammar, keywords that can  be identifiers
In-Reply-To: <BD26C831.20595%sunshine@public.kherson.ua>
Message-ID: <cdqus9+ldsr@eGroups.com>

--- In antlr-interest@yahoogroups.com, Ruslan Zasukhin 
<sunshine@p...> wrote:
> On 7/23/04 1:34 PM, "Pete Forman" <pete.forman@w...> wrote:
> 
> > At 2004-07-23 12:39 +0300, Ruslan Zasukhin wrote:
> >> So lexer returns ID,
> >> 
> >> But we add one more rule to Parser
> >> 
> >>   identifier : ..............
> > 
> > Explicitly, the lexer returns IDENTIFIER, LEFT, RIGHT, FULL, 
OUTER,...
> > 
> > One identifier rule might not be enough.  The set of keywords 
that are
> > allowed to be table names may not be the same as those for 
function
> > names and so on.
> 
> I see your points,
> 
> But in general problem is complex.
> By SQL92 standard 
> 
>     ANY KEYWORD can be used as name of table or field or function.
> 
> It looks your adivce can resolve only that 2 examples which I have 
show.
> But geenral task is more hard.
> 
> Any ideas now ?
> 

Another idea you could try is to have your own token type that could 
return different token values depending on a state of the parser. 
The state of the parser could be changed when entering a rule or an 
alternative. But it could be difficult to implemet in some grammars. 

btw, It might be interesting to implement multy-value tokens in 
antlr, where the latter could match a type against a token, not vice 
versa.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Fri Jul 23 06:37:33 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:05 2004
Subject: New antlr-interest member
Message-ID: <1090589853.143.75639.w62@yahoogroups.com>


Hello,

This is an automated email message to let you know that
neurosurgus <jobs_vkhamenya@yahoo.com> joined your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a new member joins.  To turn off
notification, visit:
http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From monty at codetransform.com  Fri Jul 23 07:40:23 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] SQL grammar, keywords that can  be identifiers
In-Reply-To: <BD26C831.20595%sunshine@public.kherson.ua>
References: <BD26C831.20595%sunshine@public.kherson.ua>
Message-ID: <3AE5B89A-DCB6-11D8-8B08-000393B5606C@codetransform.com>

On Jul 23, 2004, at 3:50 AM, Ruslan Zasukhin wrote:

> But in general problem is complex.
> By SQL92 standard
>
>     ANY KEYWORD can be used as name of table or field or function.
>
> It looks your adivce can resolve only that 2 examples which I have 
> show.
> But geenral task is more hard.
>
> Any ideas now ?

Read through my parser filter example.  
http://www.codetransform.com/filterexample.html  If you can recognize 
the syntax for a table name, field or function generically then you 
could have a filter that changed the tokens back into identifiers.  For 
instance if you see a keyword followed by a left paren then you know it 
is a function, so make it an identifier.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From sunshine at public.kherson.ua  Fri Jul 23 10:21:33 2004
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] SQL grammar, keywords that can  be
	identifiers
In-Reply-To: <3AE5B89A-DCB6-11D8-8B08-000393B5606C@codetransform.com>
Message-ID: <BD2723CD.2060B%sunshine@public.kherson.ua>

On 7/23/04 5:40 PM, "Monty Zukowski" <monty@codetransform.com> wrote:

> On Jul 23, 2004, at 3:50 AM, Ruslan Zasukhin wrote:
> 
>> But in general problem is complex.
>> By SQL92 standard
>> 
>>     ANY KEYWORD can be used as name of table or field or function.
>> 
>> It looks your adivce can resolve only that 2 examples which I have
>> show.
>> But geenral task is more hard.
>> 
>> Any ideas now ?
> 
> Read through my parser filter example.
> http://www.codetransform.com/filterexample.html  If you can recognize
> the syntax for a table name, field or function generically then you
> could have a filter that changed the tokens back into identifiers.  For
> instance if you see a keyword followed by a left paren then you know it
> is a function, so make it an identifier.

Thank you, Monty.

We have here the next idea that we want to try at first.

It looks we may correct just 3 rules of grammar

    column_ref
    table_ref
    function

Using something as next

Function
:    ID LPARENT => so we have normal function
|    .  LPARENT => we have function with name == keyworrd,
                   so as Pete suggests {##.setType(FUNC);};
    

The same for column and table names.

IT seems should work.
We will try later.


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Fri Jul 23 12:31:44 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Re: SQL grammar, keywords that can be identifiers
In-Reply-To: <BD25F14D.204C9%sunshine@public.kherson.ua>
Message-ID: <cdrp30+3pmr@eGroups.com>

Here is another solution: don't use keywords.  Use semantic predicates
to determine if an identifier matches a "keyword" only when you are in
the context to find that keyword.  I'm doing something similar in a
lexer, but I see no reason why you couldn't do this in a parser:

join_type : lrf:ID {
    lrf.getText().equals("left") || 
    lrf.getText().equals("right") || 
    lrf.getText().equals("full")
}? ( outer:ID { outer.getText().equals("outer") }? )? ;

I haven't tried this out in a parser, so be warned.

- Eric

--- In antlr-interest@yahoogroups.com, Ruslan Zasukhin <sunshine@p...>
wrote:
> Hi All,
> 
> It seems in the past we have discuss this, but I want ask once again.
> 
> We have SQL grammar.
> 
> We have for example the next rule
> 
> join_type
>     :    ("left" | "right" | "full" ) ( "outer"! )?
> 
> 
> But SQL grammar still must accept the next query
> 
>     WHERE left(fld,5) = "Peter"
>           ^^^^^  
> 
> 
> As you see problem is that 'left' is keyword.
> ANTLR mark it as token in Lexer.
> 
> So our function left() simple return error.
> 
> --------------
> Another example of problem. SQL by standard allow to use field and table
> names as key words.
> 
>     SELECT *
>     FROM references
>     
> Here "references" is name of table.
> But SQL also have key word 'references'.
> So we get conflict.
> 
> 
> -------------
> 1) Can anybody explain to __as child__
> 
>     how this can be resolved in ANTLR ?
> 
> 
> 2) does exists in ANTLR at least one example which demonstrate such hard
> grammars?  If no then, Terrence, may be there is sense to add one?
> May be some mini-SQL ?
> 
> Thank you in advance.
> 
> 
> -- 
> Best regards,
> Ruslan Zasukhin      [ I feel the need...the need for speed ]
> -------------------------------------------------------------
> e-mail: ruslan@p...
> web: http://www.paradigmasoft.com
> 
> To subscribe to the Valentina mail list go to:
> http://lists.macserve.net/mailman/listinfo/valentina
> -------------------------------------------------------------



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From sunshine at public.kherson.ua  Fri Jul 23 11:55:49 2004
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Anybody have comments about  SLK Parser Generator vs ANTLR
Message-ID: <BD2739E5.2062B%sunshine@public.kherson.ua>

Hi All,

    http://home.earthlink.net/~slkpg/

Anybody know what is this?

They claim interesting things.

Any comments ?


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Fri Jul 23 13:27:45 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:05 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1090614465.3482.41812.wi6@yahoogroups.com>


Hello,

This is an automated email message to let you know that
 unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit

http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 




From Matthew.Ford at forward.com.au  Fri Jul 23 16:49:56 2004
From: Matthew.Ford at forward.com.au (matthew ford)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] ANTLR generated C (not C++), anyone??
References: <FEAE68C6-DAA3-11D8-8B11-000A95891192@cs.usfca.edu> <20040721144632.74419.qmail@web52606.mail.yahoo.com> <20040721151558.GG13864@cs.utwente.nl>
Message-ID: <004601c4710f$c2461f00$0400a8c0@NOTEBOOK>

I vote for C target output as well, using longjmp's for exception handling.

matthew
----- Original Message ----- 
From: "Ric Klaren" <klaren@cs.utwente.nl>
To: <antlr-interest@yahoogroups.com>
Sent: Thursday, July 22, 2004 1:15 AM
Subject: Re: [antlr-interest] ANTLR generated C (not C++), anyone??


> Hi,
>
> On Wed, Jul 21, 2004 at 07:46:32AM -0700, Bryan Ewbank wrote:
> > I'm evaluating ANTLR as a replacement for lex, yacc, and several
> > thousand lines of source code in a legacy system.  The key problem is
> > that ANTLR generates C++ code - not C - and there doesn't seem to be
> > a clear way for C to interface neatly with C++.
>
> It will probably be a horror to try and do that.
>
> > So, is anyone working on (or know of work on) an ANTLR that generates
> > POCC (plain old C code) for us poor folks that have substantial
> > embedded bases?
>
> ANTLR 3 will probably support C as target language (Terence mentioned
using
> plain C as a target to verify codegen for non exception supporting
> langauges). ANTLR 3 will probably not see daylight till end this year
> though.
>
> > Please don't suggest recompiling everything with G++; it simply won't
> > happen in my lifetime due to the hackish nature of the code, as well
> > as the possibility of increasingly complex code.
>
> I'll do the other evil ;) Write a codegenerator for C in ANTLR 2 ;) But
> seriously if you have the time and wager on antlr 3 coming out this year
> then it's probably an option. If you want to spent time/effort it can be
an
> option to write a minimalistic codegenerator/support lib for C. It also
> depends a bit on what kindoff lex/yacc features (lexer states and such)
you
> use wether switching to ANTLR is easy or difficult. Another important
> factor is the language you want to parse. Some things are a little bit
> harder (or less efficient) to tackle in a LL(k) world.
>
> I guess I'd try and see if converting the grammar to antlr would be
> feasible and then decide on which way to go. But I guess there's easier
> solutions out there (PCCTS maybe (think it targetted C too)?).
>
> Cheers,
>
> Ric
> --
> -----+++++*****************************************************+++++++++--
-----
>     ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
> -----+++++*****************************************************+++++++++--
-----
>   "I think we better split up."
>   "Good idea. We can do more damage that way."
>   --- Ghostbusters
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From lgc at mail1.jpl.nasa.gov  Sat Jul 24 00:39:54 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Re: ANTLR generated C (not C++), anyone??
In-Reply-To: <cdmhh7+2b06@eGroups.com>
Message-ID: <cdt3oa+c0m5@eGroups.com>

I don't think that Ric meant "it is difficult"; rather, the result
will be unpleasant--you would have both the C and C++ runtime and the
code bloat would be significant.

Rather than using ANTLR 2, I would suggest using PCCTS--it should be
possible to write a PCCTS to ANTLR 3 translator (for parsers and tree
walkers), where it wasn't for ANTLR 2 because of the lack of semantic
predicate hoisting.  (Predicate hoisting is much missed in ANTLR 2--it
provides an excellent solution for the keyword/identifier problem.) 
PCCTS generates fast C (or C++) parsers, and Tom Moog has done an
excellent job in maintaining PCCTS.  You can get it from
<http://www.polhode.com/pccts.html>.  For Bryan's problem, it would
make sense to keep the lex-based lexer (see the notes on the
referenced web page) and translate the parser(s) to ANTLR 1.  I plan
to do a PCCTS to ANTLR 3 translator if Ter doesn't write one, so Bryan
should be able to upgrade later.

--Loring

--- In antlr-interest@yahoogroups.com, "Sergey Bogdanov"
<serge.bogdanov@i...> wrote:
> --- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> 
> wrote:
> > Hi,
> > 
> > On Wed, Jul 21, 2004 at 07:46:32AM -0700, Bryan Ewbank wrote:
> > > I'm evaluating ANTLR as a replacement for lex, yacc, and several
> > > thousand lines of source code in a legacy system.  The key 
> problem is
> > > that ANTLR generates C++ code - not C - and there doesn't seem 
> to be
> > > a clear way for C to interface neatly with C++.
> > 
> > It will probably be a horror to try and do that.
> > 
> 
> ANTLR could pretty much be used the same way as lex/yacc and others 
> by utilising callback C functions. At this level 'extern "C"' 
> interface would cleanly solve all your problems. There could be a 
> pretty small piece of c++ code to satisfy ANTLR initialization and 
> you have to acquire a limited knowledge of some ANTLR data types to 
> correctly interface your callbacks, mainly the Token class.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From notify at yahoogroups.com  Sat Jul 24 06:52:53 2004
From: notify at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:05 2004
Subject: Unsubscription by antlr-interest member
Message-ID: <1090677173.1506.15216.m21@yahoogroups.com>


Hello,

This is an automated email message to let you know that
olivercray <olivercray@yahoo.com> unsubscribed from your antlr-interest 
group.

Your group is currently configured to send you email
notification whenever a member unsubscribes.  To turn off
notification, visit:
http://groups.yahoo.com/group/antlr-interest/join

Thank you for choosing Yahoo! Groups as your email group
service for the antlr-interest group.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 



From jfroehli at ics.uci.edu  Sun Jul 25 02:28:56 2004
From: jfroehli at ics.uci.edu (JonFroehlich)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Please Help: Simple C Parsing Problem
Message-ID: <cdvugo+466i@eGroups.com>

I'm using the John Mitchell and Monty Zukowski GNU C Grammar from 
antlr.org. I can run the test input .c files fine; however, when I 
create my own simple tests, the parser fails.

For example, testfile.c contains two lines

#include <stdio.h>
FILE *filePtr;

When I parse this, I get the following error:

ANTLR Parsing Error: line 2:26: unexpected token: * token name:STAR
line 2:26: unexpected token: *
	at GnuCParser.initDecl(GnuCParser.java:3454)
	at GnuCParser.initDeclList(GnuCParser.java:1107)
	at GnuCParser.typelessDeclaration(GnuCParser.java:832)
	at GnuCParser.externalDef(GnuCParser.java:496)
	at GnuCParser.externalList(GnuCParser.java:233)
	at GnuCParser.translationUnit(GnuCParser.java:193)
	at Test.main(Test.java:55)


So, I realize the issue revolves around the notion of "typeless 
declaration." E.g. if we change testfile.c to read the following, 
there is no problem.

#include <stdio.h>
int *filePtr;

How do I change the grammar file (if this is even necessary) to be 
able to detect new types so that a non-primitive type variable 
declaration, like FILE, is treated the same way as an int 
declaration.  This seems like such an easy thing but unfortunately I 
can't figure it out.

j







 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From lgc at mail1.jpl.nasa.gov  Sun Jul 25 03:08:32 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Re: Please Help: Simple C Parsing Problem
In-Reply-To: <cdvugo+466i@eGroups.com>
Message-ID: <ce00r0+44va@eGroups.com>

Monty will probably have something to say, but if I remember
correctly, the GNU C grammar has no preprocessor support.  You need to
run cpp over the input file before sending it through the C processor.

--Loring


--- In antlr-interest@yahoogroups.com, "JonFroehlich" <jfroehli@i...>
wrote:
> I'm using the John Mitchell and Monty Zukowski GNU C Grammar from 
> antlr.org. I can run the test input .c files fine; however, when I 
> create my own simple tests, the parser fails.
> 
> For example, testfile.c contains two lines
> 
> #include <stdio.h>
> FILE *filePtr;
> 
> When I parse this, I get the following error:
> 
> ANTLR Parsing Error: line 2:26: unexpected token: * token name:STAR
> line 2:26: unexpected token: *
> 	at GnuCParser.initDecl(GnuCParser.java:3454)
> 	at GnuCParser.initDeclList(GnuCParser.java:1107)
> 	at GnuCParser.typelessDeclaration(GnuCParser.java:832)
> 	at GnuCParser.externalDef(GnuCParser.java:496)
> 	at GnuCParser.externalList(GnuCParser.java:233)
> 	at GnuCParser.translationUnit(GnuCParser.java:193)
> 	at Test.main(Test.java:55)
> 
> 
> So, I realize the issue revolves around the notion of "typeless 
> declaration." E.g. if we change testfile.c to read the following, 
> there is no problem.
> 
> #include <stdio.h>
> int *filePtr;
> 
> How do I change the grammar file (if this is even necessary) to be 
> able to detect new types so that a non-primitive type variable 
> declaration, like FILE, is treated the same way as an int 
> declaration.  This seems like such an easy thing but unfortunately I 
> can't figure it out.
> 
> j



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Sun Jul 25 06:29:39 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Re: Please Help: Simple C Parsing Problem
In-Reply-To: <ce00r0+44va@eGroups.com>
References: <ce00r0+44va@eGroups.com>
Message-ID: <ADB5EC12-DE3E-11D8-B8CA-000393B5606C@codetransform.com>

Exactly.

Monty

On Jul 25, 2004, at 3:08 AM, lgcraymer wrote:

> Monty will probably have something to say, but if I remember
> correctly, the GNU C grammar has no preprocessor support.  You need to
> run cpp over the input file before sending it through the C processor.
>
> --Loring
>
>
> --- In antlr-interest@yahoogroups.com, "JonFroehlich" <jfroehli@i...>
> wrote:
>> I'm using the John Mitchell and Monty Zukowski GNU C Grammar from
>> antlr.org. I can run the test input .c files fine; however, when I
>> create my own simple tests, the parser fails.
>>
>> For example, testfile.c contains two lines
>>
>> #include <stdio.h>
>> FILE *filePtr;
>>
>> When I parse this, I get the following error:
>>
>> ANTLR Parsing Error: line 2:26: unexpected token: * token name:STAR
>> line 2:26: unexpected token: *
>> 	at GnuCParser.initDecl(GnuCParser.java:3454)
>> 	at GnuCParser.initDeclList(GnuCParser.java:1107)
>> 	at GnuCParser.typelessDeclaration(GnuCParser.java:832)
>> 	at GnuCParser.externalDef(GnuCParser.java:496)
>> 	at GnuCParser.externalList(GnuCParser.java:233)
>> 	at GnuCParser.translationUnit(GnuCParser.java:193)
>> 	at Test.main(Test.java:55)
>>
>>
>> So, I realize the issue revolves around the notion of "typeless
>> declaration." E.g. if we change testfile.c to read the following,
>> there is no problem.
>>
>> #include <stdio.h>
>> int *filePtr;
>>
>> How do I change the grammar file (if this is even necessary) to be
>> able to detect new types so that a non-primitive type variable
>> declaration, like FILE, is treated the same way as an int
>> declaration.  This seems like such an easy thing but unfortunately I
>> can't figure it out.
>>
>> j
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From jfroehli at ics.uci.edu  Sun Jul 25 10:02:43 2004
From: jfroehli at ics.uci.edu (JonFroehlich)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Re: Please Help: Simple C Parsing Problem
In-Reply-To: <ADB5EC12-DE3E-11D8-B8CA-000393B5606C@codetransform.com>
Message-ID: <ce0p3j+e3q0@eGroups.com>

Ack, I was afraid of that. I wonder if there are any other 
approaches/altneratives I may pursue.

Basically what I am trying to do is parse C code (or C++ code, but 
let's stick with C for now) and create, for example, a tree-explorer 
view of the code like one might find in an IDE. The explorer view 
would list the .c "global" declarations for each file as well as its 
functions. This is only one example of what I plan to do, but I 
think it illustrates my main motivation -- nothing too complicated 
here (at least I don't think so).

I use Terence Parr's "Java parser and tree parser" to support Java 
parsing for exactly this same functionality and it seems to work 
great.

Any feedback would be much appreciated!

Thanks for the responses so far,

j

--- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> 
wrote:
> Exactly.
> 
> Monty
> 
> On Jul 25, 2004, at 3:08 AM, lgcraymer wrote:
> 
> > Monty will probably have something to say, but if I remember
> > correctly, the GNU C grammar has no preprocessor support.  You 
need to
> > run cpp over the input file before sending it through the C 
processor.
> >
> > --Loring
> >
> >
> > --- In antlr-interest@yahoogroups.com, "JonFroehlich" 
<jfroehli@i...>
> > wrote:
> >> I'm using the John Mitchell and Monty Zukowski GNU C Grammar 
from
> >> antlr.org. I can run the test input .c files fine; however, 
when I
> >> create my own simple tests, the parser fails.
> >>
> >> For example, testfile.c contains two lines
> >>
> >> #include <stdio.h>
> >> FILE *filePtr;
> >>
> >> When I parse this, I get the following error:
> >>
> >> ANTLR Parsing Error: line 2:26: unexpected token: * token 
name:STAR
> >> line 2:26: unexpected token: *
> >> 	at GnuCParser.initDecl(GnuCParser.java:3454)
> >> 	at GnuCParser.initDeclList(GnuCParser.java:1107)
> >> 	at GnuCParser.typelessDeclaration(GnuCParser.java:832)
> >> 	at GnuCParser.externalDef(GnuCParser.java:496)
> >> 	at GnuCParser.externalList(GnuCParser.java:233)
> >> 	at GnuCParser.translationUnit(GnuCParser.java:193)
> >> 	at Test.main(Test.java:55)
> >>
> >>
> >> So, I realize the issue revolves around the notion of "typeless
> >> declaration." E.g. if we change testfile.c to read the 
following,
> >> there is no problem.
> >>
> >> #include <stdio.h>
> >> int *filePtr;
> >>
> >> How do I change the grammar file (if this is even necessary) to 
be
> >> able to detect new types so that a non-primitive type variable
> >> declaration, like FILE, is treated the same way as an int
> >> declaration.  This seems like such an easy thing but 
unfortunately I
> >> can't figure it out.
> >>
> >> j
> >
> >
> >
> >
> > Yahoo! Groups Links
> >
> >
> >
> >
> >
> >
> >



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Sun Jul 25 12:10:47 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Re: Please Help: Simple C Parsing Problem
In-Reply-To: <ce0p3j+e3q0@eGroups.com>
Message-ID: <ce10jn+gpu8@eGroups.com>

If you look a few messages back, you will find a lexer I wrote that
handles the major cpp directives (#include, #define, #ifdef, etc). 
Unfortunately, it is not well tested and probably doesn't follow the
cpp spec to a T.  You are welcome to try and integrate this with
Monty's C lexer, so that there is no extra pass to go through.

Eric

--- In antlr-interest@yahoogroups.com, "JonFroehlich" <jfroehli@i...>
wrote:
> Ack, I was afraid of that. I wonder if there are any other 
> approaches/altneratives I may pursue.
> 
> Basically what I am trying to do is parse C code (or C++ code, but 
> let's stick with C for now) and create, for example, a tree-explorer 
> view of the code like one might find in an IDE. The explorer view 
> would list the .c "global" declarations for each file as well as its 
> functions. This is only one example of what I plan to do, but I 
> think it illustrates my main motivation -- nothing too complicated 
> here (at least I don't think so).
> 
> I use Terence Parr's "Java parser and tree parser" to support Java 
> parsing for exactly this same functionality and it seems to work 
> great.
> 
> Any feedback would be much appreciated!
> 
> Thanks for the responses so far,
> 
> j
> 
> --- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> 
> wrote:
> > Exactly.
> > 
> > Monty
> > 
> > On Jul 25, 2004, at 3:08 AM, lgcraymer wrote:
> > 
> > > Monty will probably have something to say, but if I remember
> > > correctly, the GNU C grammar has no preprocessor support.  You 
> need to
> > > run cpp over the input file before sending it through the C 
> processor.
> > >
> > > --Loring
> > >
> > >
> > > --- In antlr-interest@yahoogroups.com, "JonFroehlich" 
> <jfroehli@i...>
> > > wrote:
> > >> I'm using the John Mitchell and Monty Zukowski GNU C Grammar 
> from
> > >> antlr.org. I can run the test input .c files fine; however, 
> when I
> > >> create my own simple tests, the parser fails.
> > >>
> > >> For example, testfile.c contains two lines
> > >>
> > >> #include <stdio.h>
> > >> FILE *filePtr;
> > >>
> > >> When I parse this, I get the following error:
> > >>
> > >> ANTLR Parsing Error: line 2:26: unexpected token: * token 
> name:STAR
> > >> line 2:26: unexpected token: *
> > >> 	at GnuCParser.initDecl(GnuCParser.java:3454)
> > >> 	at GnuCParser.initDeclList(GnuCParser.java:1107)
> > >> 	at GnuCParser.typelessDeclaration(GnuCParser.java:832)
> > >> 	at GnuCParser.externalDef(GnuCParser.java:496)
> > >> 	at GnuCParser.externalList(GnuCParser.java:233)
> > >> 	at GnuCParser.translationUnit(GnuCParser.java:193)
> > >> 	at Test.main(Test.java:55)
> > >>
> > >>
> > >> So, I realize the issue revolves around the notion of "typeless
> > >> declaration." E.g. if we change testfile.c to read the 
> following,
> > >> there is no problem.
> > >>
> > >> #include <stdio.h>
> > >> int *filePtr;
> > >>
> > >> How do I change the grammar file (if this is even necessary) to 
> be
> > >> able to detect new types so that a non-primitive type variable
> > >> declaration, like FILE, is treated the same way as an int
> > >> declaration.  This seems like such an easy thing but 
> unfortunately I
> > >> can't figure it out.
> > >>
> > >> j
> > >
> > >
> > >
> > >
> > > Yahoo! Groups Links
> > >
> > >
> > >
> > >
> > >
> > >
> > >



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From jasonriz at yahoo.com  Sun Jul 25 19:31:20 2004
From: jasonriz at yahoo.com (Jason)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Lexer/Parser Design Issues
Message-ID: <20040726023120.91969.qmail@web12707.mail.yahoo.com>

Hello,

I'm trying to write a parser for MDX a query language
which looks remotely similar to SQL.  The BNF has
these two characteristics:

1) There are three or four rules which have several
indirect recursions between them.

2) The language contains several (~40) predefined
functions which occur on the right hand side of the
recursive rules.  I'm treating each separate function
name as it's own token.

I've carefully factored out all of the indirect left
recursions and built my parser.  Unfortunately, it
seems that as a result of the combination of (1) and
(2) above along with ANTLRs approximate lookahead, I
end up with almost each token type in each rule! 
Nothing is parsing correctly!  The first alternative
is matched pretty much each time.  I started just
sprinking syntactic predicates at every turn but it
seems that I'm going to need so many of them that once
I get this thing working it will be impractically
slow.

A couple of questions:

1) Given these two alternatives for example:

set: Children '(' item ')'
      |
     Descendents '(' item ')'

would most ANTLR users define 'children' and
'descendents' as separate tokens and recognize them in
the lexer or just write a rule something like:

set: Identifier '(' item ')' ?

2) One down side to having to factor out all of the
indirect left recursions is that what I'm left with
once I'm done is for certain rules less than intuitive
:)  Is it possible that all of the recursions just
make my language a bad candidate for an LL parser?  

Thanks in advance for any thoughts anyone might have
on these general questions.

-jason


	
		
__________________________________
Do you Yahoo!?
New and Improved Yahoo! Mail - 100MB free storage!
http://promotions.yahoo.com/new_mail 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From tristan.stark at quipoz.com  Mon Jul 26 00:56:24 2004
From: tristan.stark at quipoz.com (starktristan)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Losing tokens when using Hidden Stream
Message-ID: <ce2df8+kprp@eGroups.com>

Hi,

I am having problems using the HiddenTokenStream.  It is simple 
enough to implement when you have 1 lexer, but I need several lexers.

Is it possible to have multiple lexers using a HiddenTokenStream?? 
The problem seems to be that my tokens get out of synch when 
switching lexers. i.e. the lookahead of the HiddenTokenStream 
retains a token when switching lexers and uses this token when you 
return to that stream??

Does anyone know what I mean?

T






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From ole.john.aske at sun.com  Mon Jul 26 03:03:43 2004
From: ole.john.aske at sun.com (olejohnaske)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Re: SQL grammar, keywords that can be identifiers
In-Reply-To: <BD25F14D.204C9%sunshine@public.kherson.ua>
Message-ID: <ce2ktv+c2h2@eGroups.com>

--- In antlr-interest@yahoogroups.com, Ruslan Zasukhin 
<sunshine@p...> wrote:
> Hi All,
> 
> It seems in the past we have discuss this, but I want ask once 
again.
> 
> We have SQL grammar.
> 
> We have for example the next rule
> 
> join_type
>     :    ("left" | "right" | "full" ) ( "outer"! )?
> 
> 
> But SQL grammar still must accept the next query
> 
>     WHERE left(fld,5) = "Peter"
>           ^^^^^  
> 
> 
> As you see problem is that 'left' is keyword.
> ANTLR mark it as token in Lexer.
> 
> So our function left() simple return error.
> 
> --------------
> Another example of problem. SQL by standard allow to use field and 
table
> names as key words.
> 
>     SELECT *
>     FROM references
>     
> Here "references" is name of table.
> But SQL also have key word 'references'.
> So we get conflict.
> 

Are you sure this is a real problem?

At least according to the SQL92 standard, <reserved words> are not 
allowed as identifiers: My copy of ISO/IEC9075:1992 (SQL92), chapter 
5.2, Part 11) in the 'Syntax rule' states:

11)
The <identifier body> of a <regular identifier> .... shall not be 
equal according to the comparison rules in Subclause 8.2 ... to any 
<reserved words> ....

(Removed some lengthy sql92 phrases where '....' is inserted)

Both Table name and column names are defined as <identifiers> which 
has an <identifier body>. According to this, your examples above are 
not correct SQL92 syntax. (However, it may be allowed by some 
implementation which extends the standard... )

Note: Identifier can be a <non-reserved words>. I handle this in my 
SQL92 parser by:

nonReservedWords :
  CATALOG_NAME | CHARACTER_SET_CATALOG | .... lots more...  ;


identifier :
  IDENT
 | DELIMITED_IDENT
 | nonReservedWord
 ;

Ole John Aske





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From sunshine at public.kherson.ua  Mon Jul 26 04:25:16 2004
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Re: SQL grammar, keywords that can be
	identifiers
In-Reply-To: <ce2ktv+c2h2@eGroups.com>
Message-ID: <BD2AC4CC.20808%sunshine@public.kherson.ua>

On 7/26/04 1:03 PM, "olejohnaske" <ole.john.aske@sun.com> wrote:

>> Here "references" is name of table.
>> But SQL also have key word 'references'.
>> So we get conflict.
>> 
> 
> Are you sure this is a real problem?
> 
> At least according to the SQL92 standard, <reserved words> are not
> allowed as identifiers: My copy of ISO/IEC9075:1992 (SQL92), chapter
> 5.2, Part 11) in the 'Syntax rule' states:
> 
> 11)
> The <identifier body> of a <regular identifier> .... shall not be
> equal according to the comparison rules in Subclause 8.2 ... to any
> <reserved words> ....
> 
> (Removed some lengthy sql92 phrases where '....' is inserted)
> 
> Both Table name and column names are defined as <identifiers> which
> has an <identifier body>. According to this, your examples above are
> not correct SQL92 syntax. (However, it may be allowed by some
> implementation which extends the standard... )

Wow. Than kyou for info Ole!
I have overloked this.

Great! this simpligy task a lots.

 
> Note: Identifier can be a <non-reserved words>. I handle this in my
> SQL92 parser by:
> 
> nonReservedWords :
> CATALOG_NAME | CHARACTER_SET_CATALOG | .... lots more...  ;
> 
> 
> identifier :
> IDENT
> | DELIMITED_IDENT
> | nonReservedWord
> ;
> 
> Ole John Aske


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From roberthoglund at hotmail.com  Mon Jul 26 04:41:47 2004
From: roberthoglund at hotmail.com (parisinmydreams)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] C# line numbers and subclass of CommonAST
Message-ID: <ce2qlr+727j@eGroups.com>

Hi,

When searching through the archives I found a post this post
http://groups.yahoo.com/group/antlr-interest/message/7078
that describes how to get line numbers into the AST. If I understood
it correctly you should only have to subclass the CommonAST and add
fields to store the line number and any extra information you could
want. 
I did just that, created a class
public class LineNumberAST : antlr.CommonAST
	{
	private int _LineNumber;
	public LineNumberAST()
	{
	}
	
	public LineNumberAST(Token tok):base(tok) 
	{
	}
		

	public override void initialize(Token tok) 
	{
		base.initialize(tok);
		_LineNumber = tok.getLine();
	}

	public int LineNumber 
	{
	get {
	return _LineNumber;
	}
	set {
	_LineNumber = value;
	}
	}
}

and then instructed both my Parser and TreeParser to use my subclass
with ASTLabelType="LineNumberAST".

When I try to run my program I get the following error:

An unhandled exception of type 'System.InvalidCastException' occurred
in parser.new.dll

Additional information: Specified cast is not valid.

at the following line:

i_AST = (LineNumberAST) astFactory.create(i);

where i_AST is of type LineNumberAST

Could someone please help solve this problem

Regards,

Robert




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From pieter.vangorp at ua.ac.be  Mon Jul 26 05:44:26 2004
From: pieter.vangorp at ua.ac.be (pvgorp2003)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Bugfix for Java 1.5
Message-ID: <ce2uba+r250@eGroups.com>

Hi,
http://www.antlr.org/grammar/1090713067533/java15.g contains a bug in
rule classOrInterfaceType.

You can easily fix it by putting the ^ after DOT instead of after IDENT:
fixed --->
classOrInterfaceType[boolean addImagNode]
	:   IDENT^ (typeArguments[addImagNode])?
        (options{greedy=true;}: // match as many as possible
            DOT^
            IDENT (typeArguments[addImagNode])?
        )*
    ;

Best regards,
-- Pieter Van Gorp.




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From antlr-interest at yahoogroups.com  Mon Jul 26 06:42:18 2004
From: antlr-interest at yahoogroups.com (antlr-interest@yahoogroups.com)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] New file uploaded to antlr-interest
Message-ID: <1090849338.373.830.w30@yahoogroups.com>


Hello,

This email message is a notification to let you know that
a file has been uploaded to the Files area of the antlr-interest 
group.

  File        : /cpp.g 
  Uploaded by : thrutchy <eric_mahurin@yahoo.com> 
  Description : A simple C PreProcessor 

You can access this file at the URL:
http://groups.yahoo.com/group/antlr-interest/files/cpp.g 

To learn more about file sharing for your group, please visit:
http://help.yahoo.com/help/us/groups/files

Regards,

thrutchy <eric_mahurin@yahoo.com>
 





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From anakreonmejdi at yahoo.gr  Mon Jul 26 11:32:39 2004
From: anakreonmejdi at yahoo.gr (=?iso-8859-7?q?Anakreon?=)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] 2004 ANTLR Workshop; Oct 7-8, USF
In-Reply-To: <65DD2436-DB55-11D8-8CBE-000A95891192@cs.usfca.edu>
Message-ID: <20040726183239.90494.qmail@web25007.mail.ukl.yahoo.com>

I'd like to make a presantation on my project(ASPA)
which
translates ASP pages (JavaScript + VbScript) into PHP.
Unfortunatly this is not possible, because I'm too far
away.
Until when can I submit a paper? What are the
requirements on the structure of the document and it's
format(tex, pdf...)?

Anakreon 

____________________________________________________________
Do You Yahoo!?
????????? ?? ?????? @yahoo.gr ????????? ??? ??? http://www.otenet.gr


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From mstudman at gmx.net  Mon Jul 26 17:13:09 2004
From: mstudman at gmx.net (Michael Studman)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Bugfix for Java 1.5
In-Reply-To: <ce2uba+r250@eGroups.com>
Message-ID: <000601c4736e$8018eb10$07fc5651@Baboo>

Hi Peter.

Thanks for picking up on that. In the course of verifying your change I
noticed another rather nasty bug in the typeArgument / typeParameter
handling which I'll hopefully solve ASAP.

Terence: is there a process for updating already-uploaded grammars or
should I just upload it again?

Michael Studman.

-----Original Message-----
From: pvgorp2003 [mailto:pieter.vangorp@ua.ac.be] 
Sent: 26 July 2004 13:44
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Bugfix for Java 1.5

Hi,
http://www.antlr.org/grammar/1090713067533/java15.g contains a bug in
rule classOrInterfaceType.

You can easily fix it by putting the ^ after DOT instead of after IDENT:
fixed --->
classOrInterfaceType[boolean addImagNode]
	:   IDENT^ (typeArguments[addImagNode])?
        (options{greedy=true;}: // match as many as possible
            DOT^
            IDENT (typeArguments[addImagNode])?
        )*
    ;

Best regards,
-- Pieter Van Gorp.




 
Yahoo! Groups Links



 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From kibab at icehouse.net  Mon Jul 26 21:46:28 2004
From: kibab at icehouse.net (Kaleb Pederson)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Lexer/Parser Design Issues
In-Reply-To: <20040726023120.91969.qmail@web12707.mail.yahoo.com>
References: <20040726023120.91969.qmail@web12707.mail.yahoo.com>
Message-ID: <200407262146.30522.kibab@icehouse.net>

On Sunday 25 July 2004 7:31 pm, Jason wrote:
> 1) There are three or four rules which have several
> indirect recursions between them.

That's fine as long as none of them are direct or indirect left recursive 
cycles.  If they are then it will loop forever.

> 2) The language contains several (~40) predefined
> functions which occur on the right hand side of the
> recursive rules.  I'm treating each separate function
> name as it's own token.

I'm not familiar with the language, but I would hope that you can recognize 
the syntax for a function, whether builtin or not.  If so, then just refer to 
the function non-terminal in place of all the individual built in ones.  
Then, you can just insert the predefined builtins into the symbol table when 
you are actually processing it.  It should be cleaner than trying to create a 
rule for each possible builtin.

[snip]
> A couple of questions:
>
> 1) Given these two alternatives for example:
>
> set: Children '(' item ')'
>
>      Descendents '(' item ')'
>
> would most ANTLR users define 'children' and
> 'descendents' as separate tokens and recognize them in
> the lexer or just write a rule something like:
>
> set: Identifier '(' item ')' ?

I would use the latter, and then, based on the context, you can do a 
#id.setType(CHILD) or #id.setType(DESCENDANT).

Or, if the first sets don't overlap, then you can have identifier be something 
like:

identifier: child | descendant ;
child: ... ;
descendant: ... ;

I hope that helps a bit.

--Kaleb


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From jm_newton at yahoo.co.uk  Tue Jul 27 05:56:40 2004
From: jm_newton at yahoo.co.uk (jm_newton)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Code generation error?
Message-ID: <ce5je8+7rrr@eGroups.com>

Hi,
I'm new to ANTLR (downloaded 2.7.4 a couple of days ago) and have
started trying to specify a grammer. One of my lexer rules is currently:

STRING : !QUOTE ('a'..'z')* !QUOTE 
       ;

which results in the following generated c++ code. Unfourtunately in
the middle of that lot is the statement text.setLength(). setLength()
is not a valid member function of std::basic_string so compilation
fails...

I'm not sure if I'm trying to do the impossible with my parser or
found a real problem here. Environment:
cantlr -> 2.7.4 from WWW site
antlr-2.7.4

John-Mark

void StorageLexer::mSTRING(bool _createToken) {
	int _ttype; ANTLR_USE_NAMESPACE(antlr)RefToken _token; int
_begin=text.length();
	_ttype = STRING;
	int _saveIndex;
	
	_saveIndex = text.length();
	mQUOTE(false);
	text.erase(_saveIndex);
	{ // ( ... )*
	for (;;) {
		if (((LA(1) >= 0x61 /* 'a' */  && LA(1) <= 0x7a /* 'z' */ ))) {
			_saveIndex=text.length();
			matchRange('a','z');
			text.setLength(_saveIndex);
		}
		else {
			goto _loop46;
		}
		
	}
	_loop46:;
	} // ( ... )*
	_saveIndex = text.length();
	mQUOTE(false);
	text.erase(_saveIndex);
	if ( _createToken && _token==ANTLR_USE_NAMESPACE(antlr)nullToken &&
_ttype!=ANTLR_USE_NAMESPACE(antlr)Token::SKIP ) {
	   _token = makeToken(_ttype);
	   _token->setText(text.substr(_begin, text.length()-_begin));
	}
	_returnToken = _token;
	_saveIndex=0;
}




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From gcpa-antlr-interest at m.gmane.org  Tue Jul 27 05:11:59 2004
From: gcpa-antlr-interest at m.gmane.org (Michael Stahl)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] java 1.5 grammar
Message-ID: <loom.20040727T140343-615@post.gmane.org>

 
[i am trying to post via the gmane web interface. 
 hopefully that will work. 
 please cc me on replies.] 
 
somebody asked for a java 1.5 grammar lately. 
 
i have just such a thing, based on the antlr example java parser and the 
javaG.g that is mentioned on the antlr web site. 
 
it should parse everything in jsr14, jsr175, jsr201 and the tree parser should 
also recognize the new stuff. 
 
i can mail it to the list unless someone tells me not to :) 
i think i will do this sometime next weekend, right now i have other things to 
do. 
 
would someone prefer a series of patches (against java.g v1.22) or is it okay 
to just post the whole thing? 
 
	michael stahl 
 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Tue Jul 27 06:41:16 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Code generation error?
In-Reply-To: <ce5je8+7rrr@eGroups.com>
References: <ce5je8+7rrr@eGroups.com>
Message-ID: <20040727134116.GA15549@cs.utwente.nl>

Hi,

On Tue, Jul 27, 2004 at 12:56:40PM -0000, jm_newton wrote:
> STRING : !QUOTE ('a'..'z')* !QUOTE
>        ;

First off I think you intend:

STRING : QUOTE! ('a'..'z')* QUOTE! ;

> which results in the following generated c++ code. Unfourtunately in
> the middle of that lot is the statement text.setLength(). setLength()
> is not a valid member function of std::basic_string so compilation
> fails...

Nevertheless you caught something that's been in the codegen since ages...
congrats :)

The fix is easy though replace the only occurence of
text.setLength(_saveIndex) in CppCodegenerator.java with a
text.erase(_saveIndex) and rebuild antlr.

> I'm not sure if I'm trying to do the impossible with my parser or
> found a real problem here. Environment:
> cantlr -> 2.7.4 from WWW site
> antlr-2.7.4

Not the impossible, if rebuilding of antlr is not an option then the (I
hope) corrected rule above does not trigger the bug.

Thanks for the report!

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  "You can't expect to wield supreme executive power just because some
   watery tot throws a sword at you!"
  --- Monty Python and the Holy Grail



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From rafamb at softhome.net  Tue Jul 27 06:36:38 2004
From: rafamb at softhome.net (rafaelenrike)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] DML SQL2 grammar for Java
Message-ID: <ce5lp6+21r3@eGroups.com>

Hello everybody.

Has anyone translated successfully the Mr. Vnuk Lubos DML SQL2 
Grammar to Java-target? It was written originally for C++. I need it 
to be Java-target. I will appreciate any help you can give me in 
this subject.

Thanks




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Tue Jul 27 10:00:37 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:17:05 2004
Subject: [antlr-interest] Grammar inheritance: clarification needed.
In-Reply-To: <20040727134116.GA15549@cs.utwente.nl>
Message-ID: <000001c473fb$3dda03a0$03020a0a@starthis.com>

Hi antlers,

Doc/inheritance.html says:

"Rules may be overridden to change their signatures such as their parameters
or return types. ANTLR will generate a warning, however: warning: rule
Derived.a has different signature than Base.a .Because of this ability, the
subgrammars do not actually inherit, in the Java-sense, from the
supergrammar.  Different signatures on the generated methods would prevent
the parser from compiling. "

My understanding is this:
-------------------------
In the super-g, if there is a rule "type : signed_Int PLUS Int;", I can
extend it to "type returns [IntType t;]: signed_Int PLUS Int;" in the sub-g
but if the super-g rule was "type returns [IntType t;]....", I cannot extend
it to "type returns [RealType r;]...". I am raising this question because
the number of different_signature_warnings is too many and I would love to
get rid of them somehow (without creating new rules in the sub-g). 

Should I just ignore the warnings and get on with it?

Thanks!

Bharath.
P.S. If you are using ECLIPSE PLUGIN FOR ANTLR and YOU NEED TO CREATE A
SUBGRAMMAR: RIGHT-CLICK ON GRAMMAR -> PROPERTIES -> ANTLR GRAMMAR OPTIONS
and specify the SUPERGRAMMAR and OUTPUT FOLDER. IT SOUNDS TRIVIAL, BUT I
TRIED TO DO THE SAME WITHIN AN ANT TASK AND WASTED 8 MAN HOURS IN TRYING TO
DEBUG THE PROBLEM.



-----Original Message-----
From: Ric Klaren [mailto:klaren@cs.utwente.nl] 
Sent: Tuesday, July 27, 2004 8:41 AM
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] Code generation error?


Hi,

On Tue, Jul 27, 2004 at 12:56:40PM -0000, jm_newton wrote:
> STRING : !QUOTE ('a'..'z')* !QUOTE
>        ;

First off I think you intend:

STRING : QUOTE! ('a'..'z')* QUOTE! ;

> which results in the following generated c++ code. Unfourtunately in 
> the middle of that lot is the statement text.setLength(). setLength() 
> is not a valid member function of std::basic_string so compilation 
> fails...

Nevertheless you caught something that's been in the codegen since ages...
congrats :)

The fix is easy though replace the only occurence of
text.setLength(_saveIndex) in CppCodegenerator.java with a
text.erase(_saveIndex) and rebuild antlr.

> I'm not sure if I'm trying to do the impossible with my parser or 
> found a real problem here. Environment: cantlr -> 2.7.4 from WWW site
> antlr-2.7.4

Not the impossible, if rebuilding of antlr is not an option then the (I
hope) corrected rule above does not trigger the bug.

Thanks for the report!

Ric
--
-----+++++*****************************************************+++++++++
-----+++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++
-----+++++-------
  "You can't expect to wield supreme executive power just because some
   watery tot throws a sword at you!"
  --- Monty Python and the Holy Grail



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jul 27 11:44:37 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Bugfix for Java 1.5
In-Reply-To: <000601c4736e$8018eb10$07fc5651@Baboo>
References: <000601c4736e$8018eb10$07fc5651@Baboo>
Message-ID: <02D7CE89-DFFD-11D8-876E-000A95891192@cs.usfca.edu>


On Jul 26, 2004, at 5:13 PM, Michael Studman wrote:

> Hi Peter.
>
> Thanks for picking up on that. In the course of verifying your change I
> noticed another rather nasty bug in the typeArgument / typeParameter
> handling which I'll hopefully solve ASAP.
>
> Terence: is there a process for updating already-uploaded grammars or
> should I just upload it again?

Unfortunately not. :(  Can you just email me the thing and I'll update 
for you?

Ter

> --
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jul 27 11:46:22 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] java 1.5 grammar
In-Reply-To: <loom.20040727T140343-615@post.gmane.org>
References: <loom.20040727T140343-615@post.gmane.org>
Message-ID: <415E663A-DFFD-11D8-876E-000A95891192@cs.usfca.edu>

Hi Michael,

Can you check your differences with the one Michael Studman just posted 
to the file sharing section of the ANTLR site?

Thanks,
ter
On Jul 27, 2004, at 5:11 AM, Michael Stahl wrote:

>
> [i am trying to post via the gmane web interface.
>  hopefully that will work.
>  please cc me on replies.]
>
> somebody asked for a java 1.5 grammar lately.
>
> i have just such a thing, based on the antlr example java parser and 
> the
> javaG.g that is mentioned on the antlr web site.
>
> it should parse everything in jsr14, jsr175, jsr201 and the tree 
> parser should
> also recognize the new stuff.
>
> i can mail it to the list unless someone tells me not to :)
> i think i will do this sometime next weekend, right now i have other 
> things to
> do.
>
> would someone prefer a series of patches (against java.g v1.22) or is 
> it okay
> to just post the whole thing?
>
> 	michael stahl
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Tue Jul 27 11:47:24 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] 2004 ANTLR Workshop; Oct 7-8, USF
In-Reply-To: <20040726183239.90494.qmail@web25007.mail.ukl.yahoo.com>
References: <20040726183239.90494.qmail@web25007.mail.ukl.yahoo.com>
Message-ID: <667896EE-DFFD-11D8-876E-000A95891192@cs.usfca.edu>


On Jul 26, 2004, at 11:32 AM, Anakreon wrote:

> I'd like to make a presantation on my project(ASPA)
> which
> translates ASP pages (JavaScript + VbScript) into PHP.

Cool :)

> Unfortunatly this is not possible, because I'm too far
> away.

:(

> Until when can I submit a paper? What are the
> requirements on the structure of the document and it's
> format(tex, pdf...)?

I haven't worked out the details, but PDF would be great and you can 
submit until probably Oct 1 :)  Send to me and I'll pass around to the 
organizing committee for review. :)

Terence

>
> Anakreon
>
> ____________________________________________________________
> Do You Yahoo!?
> ????????? ?? ?????? @yahoo.gr ????????? ??? ??? http://www.otenet.gr
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From joanpujol at gmail.com  Tue Jul 27 13:58:34 2004
From: joanpujol at gmail.com (=?iso-8859-1?q?Joan=20Pujol?=)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Gramar without semicolon
Message-ID: <20040727205834.39100.qmail@web90009.mail.scd.yahoo.com>

Hi,

I've to write a compiler for a pseudocode language to
use in a elearning platform.
The pseudocode language, at first, don't use semicolon
to end instructions(it's only used as a separator to
use multiple instructions in a single line). And I
have some problems with the gramar.

I make a simple case with only two instructions an if
and an assignament:

instructions: (instruction)+;
instruction: inst_if | inst_assig;
inst_if: IF expr THEN (NL)* instructions (ELSE (NL)*
instructions)? ENDIF ((NL)+ |SEMICOLON instruction);
inst_assig: IDENT ASSIG expr ((NL)+ |SEMICOLON
instruction);

This I think that works quite well and recognizes
thinks like

IF expr THEN inst1;inst2
ELSE  inst1
END IF

But it can't recognize
IF expr THEN inst1 ELSE inst2 END IF

And I don't know how to manage this, I think that I've
to use semantic predicates but I am a little confused.

Somebody knows how to manage this, or has implemented
a similar grammar (without semicolon and similar to
Visual Basic)

Cheers,

=====
---
Joan Jes?s Pujol Espinar


	
	
		
______________________________________________
Yahoo! lanza su nueva tecnolog?a de b?squedas
?te atreves a comparar?
http://www.viralbusquedas.yahoo.es


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From khamenya at mail.ru  Wed Jul 28 02:17:52 2004
From: khamenya at mail.ru (Neurosurg)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] 2.7.4: "make install" installs in /usr/local/share/antlr-2.7.3
Message-ID: <ce7r00+rm7n@eGroups.com>

Hi,

in antlr 2.7.4 the invocation "make install" installs 
antlr.jar in /usr/local/share/antlr-2.7.3 not in *-2.7.4

bst rgrds,
N.




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From khamenya at mail.ru  Wed Jul 28 05:29:30 2004
From: khamenya at mail.ru (Neurosurg)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] strong error recovery
Message-ID: <ce867a+mm8j@eGroups.com>

Hi all,

the typical input for my parser contains a lot of
unregular garbage between formulae. I have to recognize 
and extract valid formulae. 

Here goes an example.

>>From input :

  asd3 a#$23+5)@tyu((5+7)*5pppp

parser should extract:

3
23+5
(5+7)*5

Any chances with ANTLR engine?

w.r.t. subject I have found already:

  1. "filter=..." option (BTW, which is available for the Lexer only) 

  2. options "ignore", which was used in HTML parser example (also for
Lexer only), 

  3. nice exception handling support for grammar

but it doesn't look much helping still.

Any good hints/comments?

thanks a priori,
Valery.

P.S. I've found antlr just recently, before I've 
used lex/yacc and flex/bison.




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jul 28 09:50:10 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] strong error recovery
In-Reply-To: <ce867a+mm8j@eGroups.com>
References: <ce867a+mm8j@eGroups.com>
Message-ID: <3013A882-E0B6-11D8-AFD2-000393B5606C@codetransform.com>

Take a look at my parser filter example, 
http://www.codetransform.com/filterexample.html.  It requires a bit of 
work and understanding of ANTLR, explained in the article, but it lets 
you use a parser to pick out certain constructs and ignore everything 
else.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html

On Jul 28, 2004, at 5:29 AM, Neurosurg wrote:

> Hi all,
>
> the typical input for my parser contains a lot of
> unregular garbage between formulae. I have to recognize
> and extract valid formulae.
>
> Here goes an example.
>
>> From input :
>
>   asd3 a#$23+5)@tyu((5+7)*5pppp
>
> parser should extract:
>
> 3
> 23+5
> (5+7)*5
>
> Any chances with ANTLR engine?
>
> w.r.t. subject I have found already:
>
>   1. "filter=..." option (BTW, which is available for the Lexer only)
>
>   2. options "ignore", which was used in HTML parser example (also for
> Lexer only),
>
>   3. nice exception handling support for grammar
>
> but it doesn't look much helping still.
>
> Any good hints/comments?
>
> thanks a priori,
> Valery.
>
> P.S. I've found antlr just recently, before I've
> used lex/yacc and flex/bison.
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jul 28 09:52:40 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Gramar without semicolon
In-Reply-To: <20040727205834.39100.qmail@web90009.mail.scd.yahoo.com>
References: <20040727205834.39100.qmail@web90009.mail.scd.yahoo.com>
Message-ID: <8999187A-E0B6-11D8-AFD2-000393B5606C@codetransform.com>

It looks like your grammar should be working.  Try turning on tracing 
(-traceParser when invoking antlr.Tool) and also inspect the generated 
code to get a feel for what antlr is trying to do.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html

On Jul 27, 2004, at 1:58 PM, Joan Pujol wrote:

> Hi,
>
> I've to write a compiler for a pseudocode language to
> use in a elearning platform.
> The pseudocode language, at first, don't use semicolon
> to end instructions(it's only used as a separator to
> use multiple instructions in a single line). And I
> have some problems with the gramar.
>
> I make a simple case with only two instructions an if
> and an assignament:
>
> instructions: (instruction)+;
> instruction: inst_if | inst_assig;
> inst_if: IF expr THEN (NL)* instructions (ELSE (NL)*
> instructions)? ENDIF ((NL)+ |SEMICOLON instruction);
> inst_assig: IDENT ASSIG expr ((NL)+ |SEMICOLON
> instruction);
>
> This I think that works quite well and recognizes
> thinks like
>
> IF expr THEN inst1;inst2
> ELSE  inst1
> END IF
>
> But it can't recognize
> IF expr THEN inst1 ELSE inst2 END IF
>
> And I don't know how to manage this, I think that I've
> to use semantic predicates but I am a little confused.
>
> Somebody knows how to manage this, or has implemented
> a similar grammar (without semicolon and similar to
> Visual Basic)
>
> Cheers,
>
> =====
> ---
> Joan Jes?s Pujol Espinar
>
>
> 	
> 	
> 		
> ______________________________________________
> Yahoo! lanza su nueva tecnolog?a de b?squedas
> ?te atreves a comparar?
> http://www.viralbusquedas.yahoo.es
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From jbb at acm.org  Wed Jul 28 11:43:43 2004
From: jbb at acm.org (jbb@acm.org)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Gramar without semicolon
In-Reply-To: <20040727205834.39100.qmail@web90009.mail.scd.yahoo.com> (message
	from =?iso-8859-1?q?Joan=20Pujol?= on Tue, 27 Jul 2004 22:58:34 +0200
	(CEST))
References: <20040727205834.39100.qmail@web90009.mail.scd.yahoo.com>
Message-ID: <E1BptOx-0004hb-00@gecko>

Greetings!

You wrote:
.....snip....
>I make a simple case with only two instructions an if
>and an assignament:
>
>instructions: (instruction)+;
>instruction: inst_if | inst_assig;
>inst_if: IF expr THEN (NL)* instructions (ELSE (NL)*
>instructions)? ENDIF ((NL)+ |SEMICOLON instruction);
>inst_assig: IDENT ASSIG expr ((NL)+ |SEMICOLON
>instruction);
>
>This I think that works quite well and recognizes
>thinks like
>
>IF expr THEN inst1;inst2
>ELSE  inst1
>END IF
>
>But it can't recognize
>IF expr THEN inst1 ELSE inst2 END IF
>
>And I don't know how to manage this, I think that I've
>to use semantic predicates but I am a little confused.

The (NL)+ phrase near the end of both the inst_if and the inst_assig
rules mean that a NL is always required to terminate an instruction
phrase.

But you want the NL to be optional sometimes (e.g. at the end of the
then phrase and at the end of the else phrase).

Here is a grammar fragment that makes the NL optional - and maybe
making it optional in too many places in the rest of your grammar...




program :
	instruction_block EOF
    ;

instruction_block :
	single_line ( (NL)+ ( instruction_block )? )?
    ;

single_line :
	instruction ( SEMICOLON instruction )*
    ;

instruction :
	inst_if | inst_assig
    ;

inst_if :
	IF expr THEN (NL)* instruction_block
	( ELSE (NL)* instruction_block )?
	ENDIF
    ;

inst_assig :
	IDENT ASSIG expr
    ;




Hope this helps....
	John B. Brodie (jbb@acm.org)


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Wed Jul 28 12:11:19 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Tried of dealing with '\r' and '\n' ?
Message-ID: <ce8ton+ng24@eGroups.com>

I got a little tired of dealing with carriage returns and
newlines/linefeeds in the lexer, so I did these two things:

1. Filter the Reader through LineNumberReader to convert things to
unix-style (simple '\n').  For example:

lexer = new myLexer(new LineNumberReader(new FileReader(name)));

2. Override consume in your lexer to automatically call newline() like
it already calls tab().  Here's what I did:

    public void consume() throws CharStreamException {
        if (inputState.guessing==0 && LA(1)=='\n') newline();
        super.consume();
    }

Eric




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Wed Jul 28 12:19:32 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Tried of dealing with '\r' and '\n' ?
In-Reply-To: <ce8ton+ng24@eGroups.com>
References: <ce8ton+ng24@eGroups.com>
Message-ID: <0DFC061E-E0CB-11D8-A2DD-000A95891192@cs.usfca.edu>


On Jul 28, 2004, at 12:11 PM, thrutchy wrote:

> I got a little tired of dealing with carriage returns and
> newlines/linefeeds in the lexer, so I did these two things:
>
> 1. Filter the Reader through LineNumberReader to convert things to
> unix-style (simple '\n').  For example:
>
> lexer = new myLexer(new LineNumberReader(new FileReader(name)));
>
> 2. Override consume in your lexer to automatically call newline() like
> it already calls tab().  Here's what I did:
>
>     public void consume() throws CharStreamException {
>         if (inputState.guessing==0 && LA(1)=='\n') newline();
>         super.consume();
>     }

A very nice combination!

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Wed Jul 28 13:19:03 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] ANTLR 3.0 question about common actions
Message-ID: <5E3FD2E1-E0D3-11D8-A2DD-000A95891192@cs.usfca.edu>

Howdy,

We have an interesting problem to solve for the ANTLR 3.0 regarding 
multiple target languages and free-form actions.  I'd like your help.

There are two problems with the existing ANTLR regarding 
actions/targets.  A grammar built for one language has to be manually 
updated to work for another output target.  In other words, tree 
construction for C++ won't work with C# or Java as a back-end.  You 
have to update it if you have any actions other than the ^ and ! AST 
operators in your grammar.

Further, think about all the $setType and newline() nonsense in the 
lexer.  Each target may have different requirements so actions must 
have a special parser etc... to handle actions.  Yuck.

For the common things like symbol table management, AST construction, 
and lexer actions, I propose a standard syntax that can easily be 
translated to a target language.  The only issue is, how do you handle 
conditional code execution?  For example, you only want to set the 
token type in a lexer rule upon some complicated expression that you 
want to express in the target language?

So, the main question is: how can we make standard actions in order to 
avoid retargeting issues and yet allow for free-form actions, 
especially those that predicate standard actions?

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jul 28 13:48:04 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] ANTLR 3.0 question about common actions
In-Reply-To: <5E3FD2E1-E0D3-11D8-A2DD-000A95891192@cs.usfca.edu>
References: <5E3FD2E1-E0D3-11D8-A2DD-000A95891192@cs.usfca.edu>
Message-ID: <6BF2A9A8-E0D7-11D8-BFCF-000393B5606C@codetransform.com>

On Jul 28, 2004, at 1:19 PM, Terence Parr wrote:

> So, the main question is: how can we make standard actions in order to
> avoid retargeting issues and yet allow for free-form actions,
> especially those that predicate standard actions?


Currently you have an escape mechanism that says "this is all target 
language, but pick out the tree stuff and $ stuff," and offers Ric the 
opportunity to complain how ugly this is :)

Inverting it might be appropriate.  How about "this is all standard 
action language, but pick out special things and treat them as target 
language?"  Think macros, real syntactic macros, not just text 
substitution.

The disconnect comes from not understanding the relationship between 
the generated code and the standard actions.  I'm thinking of tree 
building here.  Trees have a model implemented in the target language 
and controllers, if you will, implemented through the code generator.  
Staring at the generated code yields quite a confusing view!  Ah, the 
joys of a mangled metaphor.

Nonetheless the current tree building approach is pretty brute force, 
which leads to some head scratching code.  I think it could be simpler 
if the generator code really know what was going on.  I'm saying that 
it's not writing the code I would write if I were building trees by 
hand--whereas the parsing code does meet that goal.

I would argue for building the standard actions not from a code 
generator but from a syntactic macro system.  It may be that 
StringTemplate is already powerful enough to handle this.  I would have 
to think through some examples to see where the added power of the 
macro system would help.  Syntactic macros are basically templates 
which have access to the AST of the target language.  Somewhere in 
between may be the right mix for ANTLR.  We don't want people to have 
to write (and maintain) a C++ parser just to be able to make a C++ code 
generator.  But having a syntactic awareness of variables might help.

Experimentation is clearly necessary.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jul 28 14:00:11 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] ANTLR 3.0 question about common actions
In-Reply-To: <5E3FD2E1-E0D3-11D8-A2DD-000A95891192@cs.usfca.edu>
References: <5E3FD2E1-E0D3-11D8-A2DD-000A95891192@cs.usfca.edu>
Message-ID: <1DBCADAC-E0D9-11D8-BFCF-000393B5606C@codetransform.com>

On Jul 28, 2004, at 1:19 PM, Terence Parr wrote:

> There are two problems with the existing ANTLR regarding
> actions/targets.  A grammar built for one language has to be manually
> updated to work for another output target.  In other words, tree
> construction for C++ won't work with C# or Java as a back-end.  You
> have to update it if you have any actions other than the ^ and ! AST
> operators in your grammar.

Hmm, meta-syntactic macros?  Allow the grammar to have a section of 
templates (or macros) applied to actions.  Just retarget the macros, 
could be in a separate file.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From mtiller at ford.com  Wed Jul 28 14:09:36 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] ANTLR 3.0 question about common actions
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB340483FC69@na1fcm52.dearborn.ford.com>

> From: Terence Parr [mailto:parrt@cs.usfca.edu]
> Sent: Wednesday, July 28, 2004 4:19 PM
> Subject: [antlr-interest] ANTLR 3.0 question about common actions
> 
> Howdy,
> 
[...]
> 
> So, the main question is: how can we make standard actions in order to
> avoid retargeting issues and yet allow for free-form actions,
> especially those that predicate standard actions?

This is a difficult issue and I'm not sure how to address everything you
are asking for, but I did find it interesting that SLK
(http://home.earthlink.net/~slkpg/) addresses this by having named
actions in the grammar.  In other words, there isn't any target code in
the grammar at all, just names (e.g. method names) that will be filled
in by the object that implement the parser (in whatever language).

This seems like a good way to handle the first issue you raised which is
how to deal with retargeting since the grammar only defines the hooks
that an eventual parser must have, but not all the action code.

The tricky part is the "predicate standard actions"?  By this I'm
assuming you mean things like disambiguation of symbols vs. keywords by
checking a symbol table.  It seems like this would be nearly impossible
to make target language neutral.  Taking the ideas from SLK a step
further, perhaps you could have a different notation for semantic
predicates (which should return a Boolean type in the target language)
from actions.

So your parsers/walkers might look something like:

class CalcTreeWalker extends TreeParser;

expr
  :  #(PLUS a=expr b=expr) $add(a,b)
  |  #(STAR a=expr b=expr) $mult(a,b)
  |  i:INT		         $intLiteral(i)
	;

where 'add', 'mult' and 'intLiteral' could be implemented as methods in
the generated 'CalcTreeWalker' class.  This is, of course, a very simple
case.  I'm just using it to demonstrate how this could be accomplished.
It would obviously be necessary to allow actions to be executed at
different points as well (e.g. for semantic preciates, but also in other
cases).  Just a thought.
 
> Ter

--
Mike



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Wed Jul 28 14:22:56 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] ANTLR 3.0 question about common actions
In-Reply-To: <FD35CB8B26F9534E86D1AC31F401AB340483FC69@na1fcm52.dearborn.ford.com>
References: <FD35CB8B26F9534E86D1AC31F401AB340483FC69@na1fcm52.dearborn.ford.com>
Message-ID: <4B392470-E0DC-11D8-BFCF-000393B5606C@codetransform.com>

On Jul 28, 2004, at 2:09 PM, Tiller, Michael ((M.M.)) wrote:

> So your parsers/walkers might look something like:
>
> class CalcTreeWalker extends TreeParser;
>
> expr
>   :  #(PLUS a=expr b=expr) $add(a,b)
>   |  #(STAR a=expr b=expr) $mult(a,b)
>   |  i:INT		         $intLiteral(i)
> 	;

One thing we're currently used to in ANTLR is having one 
function/method per rule and treating it like a method in that we can 
pass in arguments, define variables, and share those variables between 
alternatives.  Does SLK allow that kind of thing?

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Wed Jul 28 15:13:57 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: ANTLR 3.0 question about common actions
In-Reply-To: <5E3FD2E1-E0D3-11D8-A2DD-000A95891192@cs.usfca.edu>
Message-ID: <ce98f5+erkr@eGroups.com>

--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> 
> So, the main question is: how can we make standard actions in order to 
> avoid retargeting issues and yet allow for free-form actions, 
> especially those that predicate standard actions?

I think this is a worthy goal.  The thing I don't like about it is
that you have to come up with a new psuedo-language and your users
have to learn it.

I'm not going to downplay this and the need for enhancing the ANTLR
grammar, but...

I would kind of like the ability to go in the complete opposite
direction: express the complete grammar directly in the target
language in a nice concise manner.  The reason is that I quite
regularly have to go figure out exactly what code ANTLR is generating
to a) find out what is really going on, or b) figure out how to get
around some limitation.  I think this might be possible if you have a
clean enough API underneath.  I did something like this using objects
in Perl a few years ago and it worked out quite well, but it wasn't
too sophisticated.  I haven't thought through this all the way, but
here's what I was thinking:

* Parser/lexer rules/sub-rules would be objects.  All of these would
belong to a superclass (or interface) - I'll call it "Syntax" for now.

* Some of the more generic Syntax sub-classes might be LoopSyntax:()*,
AlterationSyntax:(|), ConditionalSyntax:()?, IgnoreSyntax:()!,
CodeSyntax:{}, SequenceSyntax:() (),  etc.

* You'd just use new to create a new Syntax object:

Syntax mexpr = new SequenceSyntax( atom, new LoopSyntax( new
SequenceSyntax( STAR, atom) ) );

where atom and STAR would be previously defined Syntax's.  I'm not
sure how recursion would work at this point.

* Some of the basic methods might be:
  - parse/read (optionally generating a tree or stream)
  - write from tree or stream
  - lookahead
  - check for ambiguities

One of the disadvantages I see immediately is ANTLR's ability to
detect ambiguities at compile time.  I'm not sure how that would be
best handled.

What do you think?

Eric



  




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From joanpujol at gmail.com  Wed Jul 28 15:20:41 2004
From: joanpujol at gmail.com (Joan Pujol)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Gramar without semicolon
In-Reply-To: <E1BptOx-0004hb-00@gecko>
References: <20040727205834.39100.qmail@web90009.mail.scd.yahoo.com> <E1BptOx-0004hb-00@gecko>
Message-ID: <d2d18a104072815204bc2ba6@mail.gmail.com>

Thanks a lot. Is exactly what I need.

Cheers,

On Wed, 28 Jul 2004 14:43:43 -0400, jbb@acm.org <jbb@acm.org> wrote:
> Greetings!
> 
> You wrote:
> ......snip....
> >I make a simple case with only two instructions an if
> >and an assignament:
> >
> >instructions: (instruction)+;
> >instruction: inst_if | inst_assig;
> >inst_if: IF expr THEN (NL)* instructions (ELSE (NL)*
> >instructions)? ENDIF ((NL)+ |SEMICOLON instruction);
> >inst_assig: IDENT ASSIG expr ((NL)+ |SEMICOLON
> >instruction);
> >
> >This I think that works quite well and recognizes
> >thinks like
> >
> >IF expr THEN inst1;inst2
> >ELSE  inst1
> >END IF
> >
> >But it can't recognize
> >IF expr THEN inst1 ELSE inst2 END IF
> >
> >And I don't know how to manage this, I think that I've
> >to use semantic predicates but I am a little confused.
> 
> The (NL)+ phrase near the end of both the inst_if and the inst_assig
> rules mean that a NL is always required to terminate an instruction
> phrase.
> 
> But you want the NL to be optional sometimes (e.g. at the end of the
> then phrase and at the end of the else phrase).
> 
> Here is a grammar fragment that makes the NL optional - and maybe
> making it optional in too many places in the rest of your grammar...
> 
> program :
>         instruction_block EOF
>     ;
> 
> instruction_block :
>         single_line ( (NL)+ ( instruction_block )? )?
>     ;
> 
> single_line :
>         instruction ( SEMICOLON instruction )*
>     ;
> 
> instruction :
>         inst_if | inst_assig
>     ;
> 
> inst_if :
>         IF expr THEN (NL)* instruction_block
>         ( ELSE (NL)* instruction_block )?
>         ENDIF
>     ;
> 
> inst_assig :
>         IDENT ASSIG expr
>     ;
> 
> Hope this helps....
>         John B. Brodie (jbb@acm.org)
-- 
Joan Jes?s Pujol Espinar


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From iank at bearcave.com  Wed Jul 28 15:58:44 2004
From: iank at bearcave.com (iank@bearcave.com)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: ANTLR 3.0 question about common actions
Message-ID: <200407282258.i6SMwi624409@shell2.webquarry.com>


> I think this is a worthy goal.  The thing I don't like about it is
> that you have to come up with a new psuedo-language and your users
> have to learn it.

  I also have the impression that we are talking about something like
  a pseudo-language.

  My concern here is that this is an example of feture creep.  The
  result of feature creep can be to kill off a new version or result
  in a less reliable version.

  As an ANTLR user one feature that is important to me is stability
  and reliability.  I have had at least one experience with ANTLR
  where I took a grammer that used to work properly a couple of years
  ago and used it with the latest version and it no longer worked.
  I'm still not sure what the cause of the failure was.

  I hate YACC.  That's why I'm an ANTLR user.  But sometimes I think
  wistfully of the stability of YACC.  The darn thing has not changed
  in decades (yes, YACC sucked then, and it still sucks in exactly the
  same way today).

  I think that what I am expressing is a natural tension between a
  user who wants to use ANTLR for production projects and a desire to
  move ANTLR forward adding new features.

  One partial resolution for this tension is to avoid revolutionizing
  the world.  Evolve features.  ANTLR already has a big learning
  curve.  It is a bit daunting to think of learning something new,
  which may not be stable, when my objective is to implement a parser
  for a little language.

  Ian


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Wed Jul 28 16:55:58 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: ANTLR 3.0 question about common actions
In-Reply-To: <ce98f5+erkr@eGroups.com>
References: <ce98f5+erkr@eGroups.com>
Message-ID: <ABF0D142-E0F1-11D8-A2DD-000A95891192@cs.usfca.edu>


On Jul 28, 2004, at 3:13 PM, thrutchy wrote:
> I would kind of like the ability to go in the complete opposite
> direction: express the complete grammar directly in the target
> language in a nice concise manner.

That is called JavaCC :)

> I haven't thought through this all the way, but
> here's what I was thinking:
>
> * Parser/lexer rules/sub-rules would be objects.  All of these would
> belong to a superclass (or interface) - I'll call it "Syntax" for now.
>
> * Some of the more generic Syntax sub-classes might be LoopSyntax:()*,
> AlterationSyntax:(|), ConditionalSyntax:()?, IgnoreSyntax:()!,
> CodeSyntax:{}, SequenceSyntax:() (),  etc.
>
> * You'd just use new to create a new Syntax object:
>
> Syntax mexpr = new SequenceSyntax( atom, new LoopSyntax( new
> SequenceSyntax( STAR, atom) ) );
>
> ...

> One of the disadvantages I see immediately is ANTLR's ability to
> detect ambiguities at compile time.  I'm not sure how that would be
> best handled.

Yup...and why build a parse tree manually for a grammar when you can 
just type the grammar? ;)  Grammars are damn hard to beat as far as I 
can tell for specifying language syntax.

> What do you think?

Interesting thoughts, Eric.  Thanks!

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Wed Jul 28 17:00:20 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: ANTLR 3.0 question about common actions
In-Reply-To: <200407282258.i6SMwi624409@shell2.webquarry.com>
References: <200407282258.i6SMwi624409@shell2.webquarry.com>
Message-ID: <482A4675-E0F2-11D8-A2DD-000A95891192@cs.usfca.edu>


On Jul 28, 2004, at 3:58 PM, iank@bearcave.com wrote:

>
>> I think this is a worthy goal.  The thing I don't like about it is
>> that you have to come up with a new psuedo-language and your users
>> have to learn it.
>
>   I also have the impression that we are talking about something like
>   a pseudo-language.

Hi Ian,

Well, although

a = b;

and

f();

are essentially identical in all languages most people will run into, 
I'm not talking about this really.  I mean that rather than make you 
type in an action to build a node, ANTLR allows #[...] to create 
outside an action etc....  Currently we have parse the actions to pull 
these out.  Loring is about to jump in here so I'll be brief ;)

Anyway, I would allow syntax for you to say what properties trees 
should have and then the code generator would pull out the AST template 
or something and stick that stuff in while generating code.  Or 
subclass what AST class you told it to and added the fields.  
Otherwise, the "spec" is in the documentation for each target rather 
than in the code generator and the template files.

>   My concern here is that this is an example of feture creep.  The
>   result of feature creep can be to kill off a new version or result
>   in a less reliable version.

Yes, Fred Brooks' "second system effect" is always clearly in my mind.  
That's for the reminder!

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Wed Jul 28 17:03:40 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] ANTLR 3.0 question about common actions
In-Reply-To: <FD35CB8B26F9534E86D1AC31F401AB340483FC69@na1fcm52.dearborn.ford.com>
References: <FD35CB8B26F9534E86D1AC31F401AB340483FC69@na1fcm52.dearborn.ford.com>
Message-ID: <BFA546C7-E0F2-11D8-A2DD-000A95891192@cs.usfca.edu>


On Jul 28, 2004, at 2:09 PM, Tiller, Michael (M.M.) wrote:
> This is a difficult issue and I'm not sure how to address everything 
> you
> are asking for, but I did find it interesting that SLK
> (http://home.earthlink.net/~slkpg/) addresses this by having named
> actions in the grammar.  In other words, there isn't any target code in
> the grammar at all, just names (e.g. method names) that will be filled
> in by the object that implement the parser (in whatever language).

Well, top down recognizers have the advantage (well recursive-descent 
LL anyway) that you can define locals and such and pass parameters 
easily to rules.  Actions need access to these things and moving 
actions into another method somewhere makes this much harder.  This is 
one reason why I don't like this "event model" type action placement.

> This seems like a good way to handle the first issue you raised which 
> is
> how to deal with retargeting since the grammar only defines the hooks
> that an eventual parser must have, but not all the action code.

It is one way, but I'm mainly talking about standard actions like 
'build tree node' not translation actions.

> The tricky part is the "predicate standard actions"?  By this I'm
> assuming you mean things like disambiguation of symbols vs. keywords by
> checking a symbol table.

Something like that or python's messy lexer that needs to decide when 
to ignore NEWLINES etc...

>  It seems like this would be nearly impossible
> to make target language neutral.  Taking the ideas from SLK a step
> further, perhaps you could have a different notation for semantic
> predicates (which should return a Boolean type in the target language)
> from actions.

I've thought that perhaps standard actions go in {...} and language 
specific actions go in <<...>>.  Just a thought.

Thanks,
Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Wed Jul 28 17:51:52 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] ANTLR 3.0 question about common actions
In-Reply-To: <6BF2A9A8-E0D7-11D8-BFCF-000393B5606C@codetransform.com>
References: <5E3FD2E1-E0D3-11D8-A2DD-000A95891192@cs.usfca.edu> <6BF2A9A8-E0D7-11D8-BFCF-000393B5606C@codetransform.com>
Message-ID: <7AE0A93F-E0F9-11D8-A2DD-000A95891192@cs.usfca.edu>


On Jul 28, 2004, at 1:48 PM, Monty Zukowski wrote:
> Currently you have an escape mechanism that says "this is all target
> language, but pick out the tree stuff and $ stuff," and offers Ric the
> opportunity to complain how ugly this is :)

Yep, gross.

> Inverting it might be appropriate.  How about "this is all standard
> action language, but pick out special things and treat them as target
> language?"  Think macros, real syntactic macros, not just text
> substitution.

Isn't that what we have now with $setType and #[...] that have to be 
parsed out?  Perhaps what we need as you are suggesting below is to 
have template references in code:

lexer grammar(target="Java")
....
NEWLINE : '\n' {if (some-condition) <skip()>;} ;

where <skip()> is a reference to the template called skip in your 
output templates.  It just gets replaced and ANTLR couldn't care less.  
The "Java.stg" file would contain all the stuff one would need to look 
at.

Mainly what I'm talking about is that ANTLR knows nothing about the 
ASTs, for example, defined by the target language.  THe targets pretty 
much have to look at other targets and figure out a similar mechanism 
in their language.  Because of the differences, no two tree mechanisms 
will be the same.  I'm suggesting that we define an exact behavior at 
the ANTLR language level and in the output templates.  Otherwise, the 
documentation is the spec, not the ANTLR tool itself.

So, for example, let's have ANTLR not just say "turn on AST 
construction", but also what properties you want in the tree etc...  
Then, we don't care at all how it gets implemented in the target.  At 
the ANTLR level, you could hook values from tokens into the tree nodes 
etc...

Anyway, have no fear folks...I'll make the system as simple and 
language independent as possible w/o introducing some bizarre and 
complicated mechanism.  I'm just trying to see what ideas people have. 
:)  I'm getting old and you're not supposed to have any good ideas past 
thirty (or so says my physicist friends) ;)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Wed Jul 28 18:22:10 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: ANTLR 3.0 question about common actions
In-Reply-To: <ABF0D142-E0F1-11D8-A2DD-000A95891192@cs.usfca.edu>
Message-ID: <ce9jg2+t0t7@eGroups.com>

--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
> 
> On Jul 28, 2004, at 3:13 PM, thrutchy wrote:
> > I would kind of like the ability to go in the complete opposite
> > direction: express the complete grammar directly in the target
> > language in a nice concise manner.
> 
> That is called JavaCC :)

You got my hopes up!  It looks like with JavaCC you specify the
grammar in something that looks like Java, but it is clearly not.  I
was wanting a set of classes to allow you to easily specify the
grammar in Java (or C++, C#, etc).  From what I saw, I like ANTLR more.

Anyways, you might think about setting things up such that a
syntax/rule/sub-rule is an object that is used to read/write/lookahead
streams/trees.  If nothing else, it would make the generated code even
more understandable.  But, I think it will open up other doors not
thought of - like defining a rule that has a rule as an argument
(because a rule is now an object that can be passed around). i.e.

list[Syntax item, sep] ::= item ( sep item )*

Eric




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From iank at bearcave.com  Wed Jul 28 22:43:01 2004
From: iank at bearcave.com (iank@bearcave.com)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Constructing trees and building forests...
Message-ID: <200407290543.i6T5h1i04719@shell2.webquarry.com>


  Ter,

  Thanks for the reply.

  I know that I'm in a minority here, but to me the power of ANTLR is
  mainly in parser generation, not tree construction.  My views are
  biased by the fact that most of the parsers I've worked on are for
  languages like C, Fortran 90, Verilog or VHDL.  In my opinion when
  you are constructing trees for complex languages, you want to create
  you own trees.  So I have been largely uninterested in ANTLR's
  automatic tree construction.

  I understand that the contrary view is that ANTLR is very powerful
  for building source to source translaters and parsers for little
  languages.  And there tree construction is very useful.

  This said, my two cents is for an easy to use, easy to understand,
  robust parser generator that makes creating parsers for complex
  languages as easy as possible.  Rather than trees I'd rather have
  something that makes it easy to understand why the parser generator
  does not like my grammar.  

  From my point of view, trees are secondary.  Building trees is not
  that hard.  Writing parsers by hand is.  So the "juice" provided by
  ANTLR is that it helps with the most difficult part of parser
  construction.

  Of course it's easy for me to say...  Terence, Loring and others are
  doing all the work.  Those who write the code get to call the
  shots.  And, as always, I deeply appreciate the work that has gone
  into ANTLR.

  Ian


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From lgc at mail1.jpl.nasa.gov  Thu Jul 29 00:40:18 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: Constructing trees and building forests...
In-Reply-To: <200407290543.i6T5h1i04719@shell2.webquarry.com>
Message-ID: <cea9l2+mls2@eGroups.com>

It was too unsanitary to jump in earlier, but I'll jump in here.  


--- In antlr-interest@yahoogroups.com, iank@b... wrote:
... 
>   From my point of view, trees are secondary.  Building trees is not
>   that hard.  Writing parsers by hand is.  So the "juice" provided by
>   ANTLR is that it helps with the most difficult part of parser
>   construction.

I think that you'll change your view on trees with ANTLR 3 (or 2.8
when I finally get permission to release--the wheels are grinding much
too slowly).  The issue is not difficulty (I can write repetitive
code, too), it's development time and lack of defects.  My experience
is that I can cut tree and tree grammar development time down to two
hours for a 500 line parser grammar with the aid of the tree
construction and tree grammar generation support.

With output templates, tree construction syntax, and automated tree
grammar generation (as well as Ter's LL(*, restoration of semantic
predicate hoisting, and token stream rewrite engine), the turnaround
time for ANTLR 3 language processors will be much reduced over ANTLR
2--I'll be very disappointed if we get less than a factor of 3
improvement in development time for typical problems.  If the student
that Ter is expecting is as good as he seems on paper, we can add in
workbench support and hopefully get closer to a factor of 10--visual
tools can make a difference.

That said, I also have to point out that one of the goals of ANTLR 3
is rapid backend development for new languages.  That means that the
ANTLR syntax should not be extended too far.  Given the Java and C++
support for hash tables and other indexed data structures (and the
lack in other languages), I do not see any point for adding syntax
support for symbol tables; however, auomatic node class generation and
a "decoration" syntax (setting user-defined fields in AST nodes) has a
low enough implementation cost and high enough return to be
worthwhile.  The idea of embedding a full language into a language
translation system--like Elegant--would get a little too far from the
targeting goals.

>   Of course it's easy for me to say...  Terence, Loring and others are
>   doing all the work.  Those who write the code get to call the
>   shots.  And, as always, I deeply appreciate the work that has gone
>   into ANTLR.

Don't back off so quickly!  We have ambitious enough goals that new
ideas are welcome--they may not be adopted, but they will certainly be
listened to.  In fact, that's why Ter started the thread that spawned
this one ...

--Loring

>   Ian



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From yjargudo at tiscali.es  Thu Jul 29 00:51:58 2004
From: yjargudo at tiscali.es (yjargudo)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Could anyone help me?
Message-ID: <ceaaau+hdme@eGroups.com>

Hello,

I need to preprocess cpp files in order to use c++ grammar of David
Wigg that is published in antlr website.

The problem is that I need a preprocessor that works independently of
the platform. Someone knows about a preprocessor writing in java?


Thanks a lot

Yolanda



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From yjargudo at tiscali.es  Thu Jul 29 07:41:37 2004
From: yjargudo at tiscali.es (yjargudo)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re:Could anyone help me?
Message-ID: <ceb2b1+kuov@eGroups.com>

Hello Rick,

Really a rough code!!!! I'm trying to discover How it works.
For me is better a java code so I'll try to get the file that you told me.
Thanks for your help 

Cheers,

Yolanda 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From mtiller at ford.com  Thu Jul 29 06:46:17 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: Constructing trees and building forests...
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB3404023AA4@na1fcm52.dearborn.ford.com>

> From: lgcraymer [mailto:lgc@mail1.jpl.nasa.gov]
> Subject: [antlr-interest] Re: Constructing trees and building
forests...
> 
> ...however, auomatic node class generation and
> a "decoration" syntax (setting user-defined fields in AST nodes) has a
> low enough implementation cost and high enough return to be
> worthwhile.

 
FWIW, that sounds good to me.

--
Mike



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Thu Jul 29 10:04:51 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: strong error recovery
In-Reply-To: <ceaeda+oqgc@eGroups.com>
References: <ceaeda+oqgc@eGroups.com>
Message-ID: <67EED142-E181-11D8-91A1-000393B5606C@codetransform.com>

Here's the idea.  Follow my discussion in my article about how to write 
a parser which grabs tokens from the input stream and then only parses 
when it sees an interesting token.  In my example GOTO was one such 
token that should be parsed.  In your example it will be anything that 
can be an expression.

The following paragraph from my article explains what I had to do about 
the follow set expecting EOF.

It also happened that calling labelReferences directly from 
jumpStatements didn't work because the parser assumed that EOF would 
follow when in fact this was working more like a lexer which gets 
called multiple times on the same stream and shouldn't be assuming EOF. 
So I modified it to call labelReferences as a method, not as a rule 
call, to avoid the associated lookahead. Then I also noticed I needed 
to handle the case where EOLs followed the jump, so I do my own testing 
of LA(1) to decide what to do. To handle syntax errors properly I also 
added the expectingLabel variable and set it to false if something goes 
wrong. Finally, here's the complete working BASICLabelReference.g 
file...

Now that I think about it, there are probably other ways to handle 
this.  For instance if you aren't passing on to a TokenStream, you 
could get by with a parser rule like this:

top: (expr | .)*;

That should work for the calc.g example too (if the main rule in calc.g 
is called expr)

Monty

On Jul 29, 2004, at 2:01 AM, Neurosurg wrote:

> --- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> 
> wrote:
>> Take a look at my parser filter example,
>> http://www.codetransform.com/filterexample.html.  It requires a bit of
>> work and understanding of ANTLR, explained in the article, but it lets
>> you use a parser to pick out certain constructs and ignore everything
>> else.
>
> I saw your article before writing this post, it didn't helped me.
>
> You pursued a different goal:
>
> [quote]
> I was trying out some "extreme programming" while rewriting a parser
> for AREV Basic, exploring incremental fixes to the problem of keywords
> being used as identifiers. The first one I encountered was labels (as
> in GOTO) with the name "Exit", which is also a Basic statement. In
> this case I reasoned that I could detect the "GOTO" and then safely
> assume that what followed it was a really a label and not a keyword.
> [/quote]
>
> I mean, your problem is another special case. I don't know
> maybe some ideas might be reused from your example, but it is not
> clear to me.
>
> Could we take calc.g from directory "examples" as a guinea
> pig and change it?
>
> My real grammar and its furmulae are anyway
> more complicated then calc.g, but if we could do this
> for calc.g a lot of ppl could benefit from this show case
> and use it as "antlr design pattern".
>
> thank you
> --
> Valery
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From lgc at mail1.jpl.nasa.gov  Thu Jul 29 11:57:30 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: ANTLR 3.0 question about common actions
In-Reply-To: <1B7B611B-E18B-11D8-A2DD-000A95891192@cs.usfca.edu>
Message-ID: <cebhaq+d7ss@eGroups.com>

--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
> 
> On Jul 28, 2004, at 6:22 PM, thrutchy wrote:
> 
> > --- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...>
wrote:
> >>
> >> On Jul 28, 2004, at 3:13 PM, thrutchy wrote:
> >>> I would kind of like the ability to go in the complete opposite
> >>> direction: express the complete grammar directly in the target
> >>> language in a nice concise manner.
> >>
> >> That is called JavaCC :)
> >
> > You got my hopes up!  It looks like with JavaCC you specify the
> > grammar in something that looks like Java, but it is clearly not.  I
> > was wanting a set of classes to allow you to easily specify the
> > grammar in Java (or C++, C#, etc).  From what I saw, I like ANTLR
more.

If you didn't like that, take a look at BOOST for C++ (shudder).

>>From my perspective, a big advantage of EBNF specification is that it
is _not_ like a conventional language.  Grammars describe structure,
not processing sequence, and the difference in syntax makes shifting
mental gears easier.

> 
> Hooray!
> 
> Yep, i'm hoping that the new output code will be easier to read.  It 
> seems so already.  Definitely want a grammar, but we need to make the 
> output very understandable.  Heh, at least it's code...most systems 
> generate tables. :)  That's my "secret sauce" that many tools don't 
> seem to get ;)

Among other things.  Support for logical action placement is a big win
over LR tools.  Tree grammars and multiple target languages are also a
key strength.

--Loring

> 
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Thu Jul 29 10:13:39 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] ANTLR 3.0 question about common actions
In-Reply-To: <7AE0A93F-E0F9-11D8-A2DD-000A95891192@cs.usfca.edu>
References: <5E3FD2E1-E0D3-11D8-A2DD-000A95891192@cs.usfca.edu> <6BF2A9A8-E0D7-11D8-BFCF-000393B5606C@codetransform.com> <7AE0A93F-E0F9-11D8-A2DD-000A95891192@cs.usfca.edu>
Message-ID: <A27BC880-E182-11D8-91A1-000393B5606C@codetransform.com>

On Jul 28, 2004, at 5:51 PM, Terence Parr wrote:

>> Currently you have an escape mechanism that says "this is all target
>> language, but pick out the tree stuff and $ stuff," and offers Ric the
>> opportunity to complain how ugly this is :)
>
> Yep, gross.
>
>> Inverting it might be appropriate.  How about "this is all standard
>> action language, but pick out special things and treat them as target
>> language?"  Think macros, real syntactic macros, not just text
>> substitution.
>
> Isn't that what we have now with $setType and #[...] that have to be
> parsed out?  Perhaps what we need as you are suggesting below is to
> have template references in code

Oops, yeah it is.

>
> lexer grammar(target="Java")
> ....
> NEWLINE : '\n' {if (some-condition) <skip()>;} ;

I like it.

Monty



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From mtiller at ford.com  Thu Jul 29 06:33:04 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Constructing trees and building forests...
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB340483FC6A@na1fcm52.dearborn.ford.com>

> From: iank@bearcave.com [mailto:iank@bearcave.com]
> Subject: [antlr-interest] Constructing trees and building forests...
> 
> 
>   Ter,
> 
>   Thanks for the reply.
> 
>   I know that I'm in a minority here, but to me the power of ANTLR is
>   mainly in parser generation, not tree construction.  My views are
>   biased by the fact that most of the parsers I've worked on are for
>   languages like C, Fortran 90, Verilog or VHDL.  In my opinion when
>   you are constructing trees for complex languages, you want to create
>   you own trees.  So I have been largely uninterested in ANTLR's
>   automatic tree construction.

I just wanted to chime in to say that while we may be in the minority,
my needs tend to be similar to yours.  I've resorted recently to
building my own trees simply because I prefer (for some perverse reason
I guess) to use heterogenous, application specific trees.  It is
interesting that you mention VHDL because the language I'm trying to
deal with is somewhat similar in nature (Modelica,
http://www.modelica.org).

I wonder what makes us different?  I always thought that it was because
I didn't know how to use ANTLR properly but perhaps it really does have
to do with the kind of tasks we are interested in (although it is still
quite possible that you have a legitimate need to do things this way and
I'm still just being dumb. :-).

>   Ian

--
Mike



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Thu Jul 29 10:12:25 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: ANTLR 3.0 question about common actions
In-Reply-To: <ce9jg2+t0t7@eGroups.com>
References: <ce9jg2+t0t7@eGroups.com>
Message-ID: <761EC826-E182-11D8-91A1-000393B5606C@codetransform.com>

On Jul 28, 2004, at 6:22 PM, thrutchy wrote:

> Anyways, you might think about setting things up such that a
> syntax/rule/sub-rule is an object that is used to read/write/lookahead
> streams/trees.  If nothing else, it would make the generated code even
> more understandable.  But, I think it will open up other doors not
> thought of - like defining a rule that has a rule as an argument
> (because a rule is now an object that can be passed around). i.e.
>
> list[Syntax item, sep] ::= item ( sep item )*
>

Although ANTLR generates methods for each rule, those methods are 
highly interdependent because of lookahead.  That's why adding an 
alternative to one rule can lead to dozens of ambiguities in other 
rules that directly or indirectly call that rule.

 From what I gather, you are talking about having an interpreted parser 
built by building objects and connecting them.  To do that you will 
need to come up with a scheme so all the rules can be analyzed and have 
lookahead conditions stored in them.  Parser rules are not modular the 
way that object methods are.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From joanpujol at gmail.com  Thu Jul 29 15:18:44 2004
From: joanpujol at gmail.com (Joan Pujol)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Labels with multiple alternatives
Message-ID: <d2d18a104072915185e484644@mail.gmail.com>

Hi,

I'm doing a compiler for a catalan pseudocode. In catalan "or" is 'o'
and "and" is "i".

I don't defined "i" and "o" as tokens in the Lexer because then I
can't use it as variables.
Instead I use two rules in the Parser:

ilogic:		{LT(1).getText().equals("i")}? {LT(1).setType(OPILOGIC);} IDENT ;
ologic:	       {LT(1).getText().equals("o")}? {LT(1).setType(OPOLOGIC);} IDENT;


Then when I use it in the expression rule I have:

exp1:		exp2 ( (ilogic|ologic) exp2)*

And the question is, what is the better method to make the operator
(ilogic or ologic) the root.

I have seen that you can't use the same label for the two rules, and
you can't use the ^ because there are not tokens but rules.


-- 
Joan Jes?s Pujol Espinar


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Thu Jul 29 15:34:59 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Labels with multiple alternatives
In-Reply-To: <d2d18a104072915185e484644@mail.gmail.com>
References: <d2d18a104072915185e484644@mail.gmail.com>
Message-ID: <85FBD7CE-E1AF-11D8-B48F-000393B5606C@codetransform.com>

Do something like this:

a:alias1! {##=#(#a,##);}

Note that this will overwrite a's firstChild parameter, so if your rule 
had actually returned a tree you will loose everything except the root 
node.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html


On Jul 29, 2004, at 3:18 PM, Joan Pujol wrote:

> Hi,
>
> I'm doing a compiler for a catalan pseudocode. In catalan "or" is 'o'
> and "and" is "i".
>
> I don't defined "i" and "o" as tokens in the Lexer because then I
> can't use it as variables.
> Instead I use two rules in the Parser:
>
> ilogic:		{LT(1).getText().equals("i")}? {LT(1).setType(OPILOGIC);} 
> IDENT ;
> ologic:	       {LT(1).getText().equals("o")}? 
> {LT(1).setType(OPOLOGIC);} IDENT;
>
>
> Then when I use it in the expression rule I have:
>
> exp1:		exp2 ( (ilogic|ologic) exp2)*
>
> And the question is, what is the better method to make the operator
> (ilogic or ologic) the root.
>
> I have seen that you can't use the same label for the two rules, and
> you can't use the ^ because there are not tokens but rules.
>
>
> -- 
> Joan Jes?s Pujol Espinar



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From joanpujol at gmail.com  Thu Jul 29 15:48:12 2004
From: joanpujol at gmail.com (Joan Pujol)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Labels with multiple alternatives
In-Reply-To: <85FBD7CE-E1AF-11D8-B48F-000393B5606C@codetransform.com>
References: <d2d18a104072915185e484644@mail.gmail.com> <85FBD7CE-E1AF-11D8-B48F-000393B5606C@codetransform.com>
Message-ID: <d2d18a1040729154845fa6113@mail.gmail.com>

On Thu, 29 Jul 2004 15:34:59 -0700, Monty Zukowski
<monty@codetransform.com> wrote:
> Do something like this:
> 
> a:alias1! {##=#(#a,##);}
Yes but this is only for one alternative, isn't it?
And I want to mange the two alternatives (ilogic and ologic):
exp1:    exp2 ( (ilogic|ologic) exp2)*

I have to use conditional code, or there is a faster elegant solution?

Also I have seen that ANTLR says that there are nondeterminism in the
rule because ilogic and ologic starts with a IDENTIFIER. The semantic
predicate don't solve the nondeterminism?

ilogic:               {LT(1).getText().equals("i")}? 
{LT(1).setType(OPILOGIC);} IDENT ;
ologic:              {LT(1).getText().equals("o")}?
{LT(1).setType(OPOLOGIC);} IDENT;


Cheers,



> 
> Note that this will overwrite a's firstChild parameter, so if your rule
> had actually returned a tree you will loose everything except the root
> node.
> 
> Monty
> 
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit --
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
> 
> 
> 
> 
> On Jul 29, 2004, at 3:18 PM, Joan Pujol wrote:
> 
> > Hi,
> >
> > I'm doing a compiler for a catalan pseudocode. In catalan "or" is 'o'
> > and "and" is "i".
> >
> > I don't defined "i" and "o" as tokens in the Lexer because then I
> > can't use it as variables.
> > Instead I use two rules in the Parser:
> >
> > ilogic:               {LT(1).getText().equals("i")}? {LT(1).setType(OPILOGIC);}
> > IDENT ;
> > ologic:              {LT(1).getText().equals("o")}?
> > {LT(1).setType(OPOLOGIC);} IDENT;
> >
> >
> > Then when I use it in the expression rule I have:
> >
> > exp1:         exp2 ( (ilogic|ologic) exp2)*
> >
> > And the question is, what is the better method to make the operator
> > (ilogic or ologic) the root.
> >
> > I have seen that you can't use the same label for the two rules, and
> > you can't use the ^ because there are not tokens but rules.
> >
> >
> > --
> > Joan Jes?s Pujol Espinar
> 
>  
> Yahoo! Groups Links
> 
> 
> 
> 
> 


-- 
Joan Jes?s Pujol Espinar


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Thu Jul 29 03:04:59 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Could anyone help me?
In-Reply-To: <ceaaau+hdme@eGroups.com>
References: <ceaaau+hdme@eGroups.com>
Message-ID: <20040729100459.GC9399@cs.utwente.nl>

On Thu, Jul 29, 2004 at 07:51:58AM -0000, yjargudo wrote:
> I need to preprocess cpp files in order to use c++ grammar of David
> Wigg that is published in antlr website.
> 
> The problem is that I need a preprocessor that works independently of
> the platform. Someone knows about a preprocessor writing in java?

Check the archive of this week. Someone just posted one (not sure if it was
placed in the file sharing section of the yahoogroup). Further back in the
archive there's also my hacked version of the David Wigg grammar which
basically integrates the beginnings of a preprocessor in it but this is
really rough code (and C++ geared).

http://wwwhome.cs.utwente.nl/~klaren/antlr/CPPParser.tar.bz2

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 Time what is time - I wish I knew how to tell You why - It hurts to know -
          Aren't we machines - Time what is time - Unlock the door
               - And see the truth - Then time is time again
                From: 'Time what is Time' by Blind Guardian



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Thu Jul 29 16:39:01 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: ANTLR 3.0 question about common actions
In-Reply-To: <1B7B611B-E18B-11D8-A2DD-000A95891192@cs.usfca.edu>
Message-ID: <cec1ql+rioe@eGroups.com>

--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
> Yep, i'm hoping that the new output code will be easier to read.  It 
> seems so already.  Definitely want a grammar, but we need to make the 
> output very understandable.  Heh, at least it's code...most systems 
> generate tables. :)  That's my "secret sauce" that many tools don't 
> seem to get ;)

I'm glad to hear this.  Just to let you know one perspective of the
reasons for choosing antlr over other, here are my reasons:

- lexer and parser have almost identical grammars.  I wanted to get up
and running quickly
- understandable generated code - extremely useful for debug and
getting around issues
- supported several target languages I was interested in

One of the things that frustrates me the most is that antlr only uses
the linear lookahead scheme, when others could be used sometimes to
resolve ambiguities.  I'm also glad to here that ANTLR 3 is going to
be smart enough to do infinite lookahead to resolve ambiguities when
necessary.

Eric




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Thu Jul 29 16:56:36 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: ANTLR 3.0 question about common actions
In-Reply-To: <cec1ql+rioe@eGroups.com>
References: <cec1ql+rioe@eGroups.com>
Message-ID: <ED336EB9-E1BA-11D8-A2DD-000A95891192@cs.usfca.edu>


On Jul 29, 2004, at 4:39 PM, thrutchy wrote:

> --- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
>> Yep, i'm hoping that the new output code will be easier to read.  It
>> seems so already.  Definitely want a grammar, but we need to make the
>> output very understandable.  Heh, at least it's code...most systems
>> generate tables. :)  That's my "secret sauce" that many tools don't
>> seem to get ;)
>
> I'm glad to hear this.  Just to let you know one perspective of the
> reasons for choosing antlr over other, here are my reasons:
>
> - lexer and parser have almost identical grammars.  I wanted to get up
> and running quickly
> - understandable generated code - extremely useful for debug and
> getting around issues
> - supported several target languages I was interested in

Cool :)

> One of the things that frustrates me the most is that antlr only uses
> the linear lookahead scheme, when others could be used sometimes to
> resolve ambiguities.  I'm also glad to here that ANTLR 3 is going to
> be smart enough to do infinite lookahead to resolve ambiguities when
> necessary.

That the linear approx lookahead is annoying sometimes...an expedient 
given my time constraints in the jGuru start-up days. :(

ANTLR 3 should make up for my sins, however.  This thing is so clean I 
can barely stand it. :)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From Bruno.Delzant at proximus.net  Thu Jul 29 02:20:30 2004
From: Bruno.Delzant at proximus.net (Bruno Delzant)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Basic question : howto differantiate value/pair combination
Message-ID: <ceafgu+4gtv@eGroups.com>

Hi,

I am new to ANTLR and I am stuck with a basic problem I think.

Here is my grammar file:

<!--
class TestParser extends Parser;

startRule        : arg (SEPARATOR arg)* ;
arg              : ID EQ VALUE ;

class TestLexer extends Lexer;

protected UPPER  : ('A'..'Z');
protected LOWER  : ('a'..'z');
protected LETTER : (LOWER | UPPER);
protected DIGIT  : ('0'..'9');

ID     : UPPER (LETTER | DIGIT)* ;
VALUE  : (LETTER | DIGIT)+ ;

protected ID_OR_VALUE : (ID EQ) => ID { $setType(ID); }
                      | (ID) => VALUE { $setType(VALUE); };

EQ          : '=';
SEPARATOR   : ','|';'|' ';

-->

I always get the error :

<!--
ANTLR Parser Generator   Version 2.7.3   1989-2004 jGuru.com
test.g: warning:lexical nondeterminism between rules ID and VALUE upon
test.g:     k==1:'A'..'Z'
-->

Did I miss something ?
How can I differantiate an ID from a VALUE ?

Thanks already for any help.

Bruno




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From klaren at cs.utwente.nl  Thu Jul 29 03:01:26 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Basic question : howto differantiate value/pair combination
In-Reply-To: <ceafgu+4gtv@eGroups.com>
References: <ceafgu+4gtv@eGroups.com>
Message-ID: <20040729100126.GB9399@cs.utwente.nl>

On Thu, Jul 29, 2004 at 09:20:30AM -0000, Bruno Delzant wrote:
> <!--
> class TestParser extends Parser;
> 
> startRule        : arg (SEPARATOR arg)* ;
> arg              : ID EQ VALUE ;
> 
> class TestLexer extends Lexer;
> 
> protected UPPER  : ('A'..'Z');
> protected LOWER  : ('a'..'z');
> protected LETTER : (LOWER | UPPER);
> protected DIGIT  : ('0'..'9');
> 
> ID     : UPPER (LETTER | DIGIT)* ;
> VALUE  : (LETTER | DIGIT)+ ;
> 
> protected ID_OR_VALUE : (ID EQ) => ID { $setType(ID); }
>                       | (ID) => VALUE { $setType(VALUE); };
> 
> EQ          : '=';
> SEPARATOR   : ','|';'|' ';
> 
> -->
> 
> I always get the error :
> 
> <!--
> ANTLR Parser Generator   Version 2.7.3   1989-2004 jGuru.com
> test.g: warning:lexical nondeterminism between rules ID and VALUE upon
> test.g:     k==1:'A'..'Z'
> -->

Non protected lexer rules get 'or'-ed together in one nextToken method in
the generated lexer. So ID and VALUE indeed are nondeterministic.

Note that protected rules will never pass a value to the parser. So making
ID_OR_VALUE protected will not work.

Making ID and VALUE protected and ID_OR_VALUE not protected will probably
fix the problem.

You could also only have one rule for ID and VALUE and check the token in
the parser for the upper case start letter. (e.g. move the check into the
parser (this will give slightly better performing code))

Usually with this sort of things it helps to read the generated code to see
what antlr made of it (sometimes the warning can be ignored). When things
go wrong don't forget running antlr with -traceParser / -traceLexer /
-traceTreeParser to get trace output from the generated parsers.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Chaos always defeats order because it is better organized.
  --- Terry Pratchet



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Thu Jul 29 11:14:18 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: ANTLR 3.0 question about common actions
In-Reply-To: <ce9jg2+t0t7@eGroups.com>
References: <ce9jg2+t0t7@eGroups.com>
Message-ID: <1B7B611B-E18B-11D8-A2DD-000A95891192@cs.usfca.edu>


On Jul 28, 2004, at 6:22 PM, thrutchy wrote:

> --- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
>>
>> On Jul 28, 2004, at 3:13 PM, thrutchy wrote:
>>> I would kind of like the ability to go in the complete opposite
>>> direction: express the complete grammar directly in the target
>>> language in a nice concise manner.
>>
>> That is called JavaCC :)
>
> You got my hopes up!  It looks like with JavaCC you specify the
> grammar in something that looks like Java, but it is clearly not.  I
> was wanting a set of classes to allow you to easily specify the
> grammar in Java (or C++, C#, etc).  From what I saw, I like ANTLR more.

Hooray!

Yep, i'm hoping that the new output code will be easier to read.  It 
seems so already.  Definitely want a grammar, but we need to make the 
output very understandable.  Heh, at least it's code...most systems 
generate tables. :)  That's my "secret sauce" that many tools don't 
seem to get ;)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Thu Jul 29 11:24:26 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Constructing trees and building forests...
In-Reply-To: <200407290543.i6T5h1i04719@shell2.webquarry.com>
References: <200407290543.i6T5h1i04719@shell2.webquarry.com>
Message-ID: <859F0FC9-E18C-11D8-A2DD-000A95891192@cs.usfca.edu>


On Jul 28, 2004, at 10:43 PM, iank@bearcave.com wrote:

>
>   Ter,
>
>   Thanks for the reply.
>
>   I know that I'm in a minority here, but to me the power of ANTLR is
>   mainly in parser generation, not tree construction.  My views are
>   biased by the fact that most of the parsers I've worked on are for
>   languages like C, Fortran 90, Verilog or VHDL.  In my opinion when
>   you are constructing trees for complex languages, you want to create
>   you own trees.  So I have been largely uninterested in ANTLR's
>   automatic tree construction.

I can understand that for sure.  I usually do a mix since some stuff is 
easy and the AST suffix operators work great.

>   This said, my two cents is for an easy to use, easy to understand,
>   robust parser generator that makes creating parsers for complex
>   languages as easy as possible.  Rather than trees I'd rather have
>   something that makes it easy to understand why the parser generator
>   does not like my grammar.

Yes, i'm working hard on that in my head.  First step was to simply 
reduce the number of grammars that ANTLR couldn't handle; enter 
LL(star).  Unfortunately, when you do get an error it's harder to say 
how/why/where as the input could be arbitrarily long!  I'm thinking 
that I will build up a list of objects with all the info and then 
people can change the reporting behavior with a simple mechanism (just 
walk the list and do something else).  I suspect that an IDE will be 
really important here.  I would like to highlight the paths that are 
ambiguous etc...

>   From my point of view, trees are secondary.  Building trees is not
>   that hard.  Writing parsers by hand is.  So the "juice" provided by
>   ANTLR is that it helps with the most difficult part of parser
>   construction.

The core engine will most definitely focus on this.  Anything else 
could perhaps be a "plugin" :)

>   Of course it's easy for me to say...  Terence, Loring and others are
>   doing all the work.  Those who write the code get to call the
>   shots.  And, as always, I deeply appreciate the work that has gone
>   into ANTLR.

Thanks, as always, for your support, Ian. :)

Terence
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From khamenya at mail.ru  Thu Jul 29 02:01:30 2004
From: khamenya at mail.ru (Neurosurg)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: strong error recovery
In-Reply-To: <3013A882-E0B6-11D8-AFD2-000393B5606C@codetransform.com>
Message-ID: <ceaeda+oqgc@eGroups.com>

--- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> wrote:
> Take a look at my parser filter example, 
> http://www.codetransform.com/filterexample.html.  It requires a bit of 
> work and understanding of ANTLR, explained in the article, but it lets 
> you use a parser to pick out certain constructs and ignore everything 
> else.

I saw your article before writing this post, it didn't helped me.

You pursued a different goal:

[quote]
I was trying out some "extreme programming" while rewriting a parser
for AREV Basic, exploring incremental fixes to the problem of keywords
being used as identifiers. The first one I encountered was labels (as
in GOTO) with the name "Exit", which is also a Basic statement. In
this case I reasoned that I could detect the "GOTO" and then safely
assume that what followed it was a really a label and not a keyword.
[/quote]

I mean, your problem is another special case. I don't know
maybe some ideas might be reused from your example, but it is not
clear to me.

Could we take calc.g from directory "examples" as a guinea 
pig and change it?

My real grammar and its furmulae are anyway 
more complicated then calc.g, but if we could do this 
for calc.g a lot of ppl could benefit from this show case
and use it as "antlr design pattern".

thank you
--
Valery



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From Bruno.Delzant at proximus.net  Fri Jul 30 01:27:32 2004
From: Bruno.Delzant at proximus.net (DELZANT Bruno (BMB))
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Basic question : howto differantiate value/pair 
      combination
Message-ID: <41759E440A63AA40B047883FF46D4C16290868@edca571.nt.mobile.belgacom.be>

Thanks Ric for the answer that helps me.

But now let's suppose that I define the following:

<!--
class TestLexer extends Lexer;
options { k=4; }

protected UPPER  : ('A'..'Z');
protected LOWER  : ('a'..'z');
protected LETTER : (LOWER | UPPER);
protected DIGIT  : ('0'..'9');

protected ID     : UPPER (LETTER | DIGIT)* ;
protected VALUE  : (LETTER | DIGIT)+ ;

ID_OR_VALUE : (ID EQ) => ID { $setType(ID); }
            | (ID) => VALUE { $setType(VALUE); };

EQ          : '=';
SEPARATOR   : ','|';'|' ';

TOKEN_CMD   : "LOGIN" | "login"
            | "LOGOUT" | "logout" ;
-->

I get a lexical nondeterminism between rules ID_OR_VALUE and TOKEN_CMD.
Is there a way to let know to the lexer that strings defined for
TOKEN_CMD are tokens and should be considered first by the lexer and if
not recognised they should  be a match with LETTER (ID_OR_VALUE
indirectly) ?

As general remark I just started 3 days ago discovering ANTLR, it seems
powerful, but the documentation is, I found, quite vague on basic things
(like the one I speak here).
Is there any good tutorials that go deeper and deeper that just the
reference manual ?

Thanks a lot anyway for your support !

Cheers,
Bruno


**** DISCLAIMER ****

"This e-mail and any attachment thereto may contain information which is confidential and/or protected by intellectual property rights and are intended for the sole use of the recipient(s) named above. 
Any use of the information contained herein (including, but not limited to, total or partial reproduction, communication or distribution in any form) by other persons than the designated recipient(s) is prohibited. 
If you have received this e-mail in error, please notify the sender either by telephone or by e-mail and delete the material from any computer".

Thank you for your cooperation.

For further information about Proximus mobile phone services please see our website at http://www.proximus.be or refer to any Proximus agent.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From khamenya at mail.ru  Fri Jul 30 02:17:01 2004
From: khamenya at mail.ru (Neurosurg)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: strong error recovery
In-Reply-To: <67EED142-E181-11D8-91A1-000393B5606C@codetransform.com>
Message-ID: <ced3md+6igf@eGroups.com>

Thank you for you reply, Monty

--- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> wrote:
> Here's the idea.  Follow my discussion in my article about how to write 
> a parser which grabs tokens from the input stream and then only parses 
> when it sees an interesting token.  In my example GOTO was one such 
> token that should be parsed.  In your example it will be anything that 
> can be an expression.

That's the point. In my case, the valid symbols might be a part of the
garbage:

input:
+)((7+5)*8

extracted output:
(7+5)*8

So, the following your advice looks for me as closer 
approach to my case:
 
> [...]Now that I think about it, there are probably other ways to handle 
> this.  For instance if you aren't passing on to a TokenStream, you 
> could get by with a parser rule like this:
> 
> top: (expr | .)*;

however this doesn't work as well for the test above and test posted
in my original post.


Best regards,
Valery




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Fri Jul 30 09:34:49 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: strong error recovery
In-Reply-To: <ced3md+6igf@eGroups.com>
References: <ced3md+6igf@eGroups.com>
Message-ID: <60198314-E246-11D8-8AC1-000393B5606C@codetransform.com>

Ok, so what on earth are you parsing?  Why the garbage in there?

top: ((expr)=>expr | .)*;

Using a syntactic predicate as above will do the trick.  It will be 
slow, but it will find every valid expression and advance one token at 
a time if it wasn't an expression.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html

On Jul 30, 2004, at 2:17 AM, Neurosurg wrote:

> Thank you for you reply, Monty
>
> --- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> 
> wrote:
>> Here's the idea.  Follow my discussion in my article about how to 
>> write
>> a parser which grabs tokens from the input stream and then only parses
>> when it sees an interesting token.  In my example GOTO was one such
>> token that should be parsed.  In your example it will be anything that
>> can be an expression.
>
> That's the point. In my case, the valid symbols might be a part of the
> garbage:
>
> input:
> +)((7+5)*8
>
> extracted output:
> (7+5)*8
>
> So, the following your advice looks for me as closer
> approach to my case:
>
>> [...]Now that I think about it, there are probably other ways to 
>> handle
>> this.  For instance if you aren't passing on to a TokenStream, you
>> could get by with a parser rule like this:
>>
>> top: (expr | .)*;
>
> however this doesn't work as well for the test above and test posted
> in my original post.
>
>
> Best regards,
> Valery
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From thirumalaikv at yahoo.com  Fri Jul 30 07:50:22 2004
From: thirumalaikv at yahoo.com (thirumalaikv)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] I am planning to write a beautifier for Java (jaboby..)
Message-ID: <cedn7e+epq7@eGroups.com>

Hi 
I am planning to write a beautifier for Java, which will 
automatically beautify the code based on certain rules. I have 
following questions. 

1. I want Special Tokens(spaces, comments, javadocs,...) part of the 
Token 

2. I would like to know how to add/remove tokens/nodes of AST/Token. 

3. Java 1.3.1 grammar 

If somebody could help me, i would greatful 

Regards Thiru





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Fri Jul 30 09:50:01 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Basic question : howto differantiate value/pair  combination
In-Reply-To: <41759E440A63AA40B047883FF46D4C16290868@edca571.nt.mobile.belgacom.be>
References: <41759E440A63AA40B047883FF46D4C16290868@edca571.nt.mobile.belgacom.be>
Message-ID: <7FF1A2CE-E248-11D8-8AC1-000393B5606C@codetransform.com>

Take a look at the documentation on "literals."  Also, Terence has 
written some tutorials for his class at USF.  You should be able to 
find them from the antlr.org site.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html

On Jul 30, 2004, at 1:27 AM, DELZANT Bruno (BMB) wrote:

> Thanks Ric for the answer that helps me.
>
> But now let's suppose that I define the following:
>
> <!--
> class TestLexer extends Lexer;
> options { k=4; }
>
> protected UPPER  : ('A'..'Z');
> protected LOWER  : ('a'..'z');
> protected LETTER : (LOWER | UPPER);
> protected DIGIT  : ('0'..'9');
>
> protected ID     : UPPER (LETTER | DIGIT)* ;
> protected VALUE  : (LETTER | DIGIT)+ ;
>
> ID_OR_VALUE : (ID EQ) => ID { $setType(ID); }
>             | (ID) => VALUE { $setType(VALUE); };
>
> EQ          : '=';
> SEPARATOR   : ','|';'|' ';
>
> TOKEN_CMD   : "LOGIN" | "login"
>             | "LOGOUT" | "logout" ;
> -->
>
> I get a lexical nondeterminism between rules ID_OR_VALUE and TOKEN_CMD.
> Is there a way to let know to the lexer that strings defined for
> TOKEN_CMD are tokens and should be considered first by the lexer and if
> not recognised they should  be a match with LETTER (ID_OR_VALUE
> indirectly) ?
>
> As general remark I just started 3 days ago discovering ANTLR, it seems
> powerful, but the documentation is, I found, quite vague on basic 
> things
> (like the one I speak here).
> Is there any good tutorials that go deeper and deeper that just the
> reference manual ?
>
> Thanks a lot anyway for your support !
>
> Cheers,
> Bruno
>
>
> **** DISCLAIMER ****
>
> "This e-mail and any attachment thereto may contain information which 
> is confidential and/or protected by intellectual property rights and 
> are intended for the sole use of the recipient(s) named above.
> Any use of the information contained herein (including, but not 
> limited to, total or partial reproduction, communication or 
> distribution in any form) by other persons than the designated 
> recipient(s) is prohibited.
> If you have received this e-mail in error, please notify the sender 
> either by telephone or by e-mail and delete the material from any 
> computer".
>
> Thank you for your cooperation.
>
> For further information about Proximus mobile phone services please 
> see our website at http://www.proximus.be or refer to any Proximus 
> agent.
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From easjolly at ix.netcom.com  Fri Jul 30 10:36:32 2004
From: easjolly at ix.netcom.com (dotlessbraille)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Synchronizing error messages from filter
Message-ID: <cee0v0+im13@eGroups.com>

I am using a custom filter rule when the lexer finds an unexpected 
item.  This rule simply skips ahead to the next statement and 
outputs a warning message to the user.  

There is a problem if a parser rule has caused the lexer to look 
ahead several tokens.  In this case, the warning message will appear 
out of order to the user because it will show up as soon as the 
lexer encounters it, before the parser has generated its output from 
correct tokens immediately preceding the unexpected item.

Is there any standard way to queue up this message?

Thanks,
SusanJ



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Fri Jul 30 11:00:34 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Synchronizing error messages from filter
In-Reply-To: <cee0v0+im13@eGroups.com>
References: <cee0v0+im13@eGroups.com>
Message-ID: <5A95B976-E252-11D8-8AC1-000393B5606C@codetransform.com>

No, there is not a standard way to queue up that message.

You might make a custom token object that had a field for an error 
message.  Then override consume() in the parser to print your error 
before actually consuming the token passed it.

I'd need more details on how you want to handle that message to give 
you more specifics.

Monty

On Jul 30, 2004, at 10:36 AM, dotlessbraille wrote:

> I am using a custom filter rule when the lexer finds an unexpected
> item.  This rule simply skips ahead to the next statement and
> outputs a warning message to the user.
>
> There is a problem if a parser rule has caused the lexer to look
> ahead several tokens.  In this case, the warning message will appear
> out of order to the user because it will show up as soon as the
> lexer encounters it, before the parser has generated its output from
> correct tokens immediately preceding the unexpected item.
>
> Is there any standard way to queue up this message?
>
> Thanks,
> SusanJ
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Fri Jul 30 13:36:16 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Syntactic predicates
In-Reply-To: <5A95B976-E252-11D8-8AC1-000393B5606C@codetransform.com>
Message-ID: <000001c47674$dd586c20$03020a0a@starthis.com>


Hi Antlrs,

If I had 3 rules of the form:

A: ID blue;
B: ID black;
C: ID red;

And another rule 

Color: A | B | C;

Is it a bad idea to use syntactic predicates instead of splitting out common
factors? I avoid syntactic predicates as much as possible to avoid
backtracking and subsequent slowing down. 

I have many rules with around a dozen alternatives which don't have the
exact same left prefix. I'm having a hard time left factoring these rules
and even if I did, AST generation is cumbersome because I usually split
large complex rules into several parts for readability (if I don't break the
rules into parts, its very hard to debug errors) and I have to return values
at many places for AST generation, type checking and so on.

I created two different grammars, one with very less syntactic predicates
and another with more syntactic predicates. Is there a good benchmark to
compare these grammars based on syntactic predicates? The language I'm
dealing with is similar to PASCAL. I don't have to deal with classes,
objects, pointers, overloading etc. Does this give me an edge?

Any comments are welcome.

Thanks,

Bharath.
 
-----Original Message-----
From: Monty Zukowski [mailto:monty@codetransform.com] 
Sent: Friday, July 30, 2004 1:01 PM
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] Synchronizing error messages from filter


No, there is not a standard way to queue up that message.

You might make a custom token object that had a field for an error 
message.  Then override consume() in the parser to print your error 
before actually consuming the token passed it.

I'd need more details on how you want to handle that message to give 
you more specifics.

Monty

On Jul 30, 2004, at 10:36 AM, dotlessbraille wrote:

> I am using a custom filter rule when the lexer finds an unexpected 
> item.  This rule simply skips ahead to the next statement and outputs 
> a warning message to the user.
>
> There is a problem if a parser rule has caused the lexer to look ahead 
> several tokens.  In this case, the warning message will appear out of 
> order to the user because it will show up as soon as the lexer 
> encounters it, before the parser has generated its output from correct 
> tokens immediately preceding the unexpected item.
>
> Is there any standard way to queue up this message?
>
> Thanks,
> SusanJ
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From easjolly at ix.netcom.com  Fri Jul 30 16:40:28 2004
From: easjolly at ix.netcom.com (dotlessbraille)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: Synchronizing error messages from filter
In-Reply-To: <5A95B976-E252-11D8-8AC1-000393B5606C@codetransform.com>
Message-ID: <ceem9c+ngmi@eGroups.com>

Monty,
Thanks but when I use filter=FILTER where FILTER is a protected 
rule, I don't believe the lexer ever puts the resulting token into 
the token stream.  Is there a way to force that?
-S



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Fri Jul 30 16:55:39 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: Synchronizing error messages from filter
In-Reply-To: <ceem9c+ngmi@eGroups.com>
References: <ceem9c+ngmi@eGroups.com>
Message-ID: <F5AE4748-E283-11D8-8AC1-000393B5606C@codetransform.com>

> You might make a custom token object that had a field for an error
> message.  Then override consume() in the parser to print your error
> before actually consuming the token passed it.
>

I left out some detail here.  You would put the error message into an 
instance variable in your lexer.  Then in the makeToken() rule you 
would attach that error message to the next Token it creates which is 
not of type SKIP.  Inspect the generated code to see that it will work, 
particularly the nextToken rule part which discards the tokens to be 
skipped, you may have to check for SKIP or FILTER, I'm not familiar 
with how the "filter" option is implemented but a quick inspection will 
make it clear.

On Jul 30, 2004, at 4:40 PM, dotlessbraille wrote:

> Monty,
> Thanks but when I use filter=FILTER where FILTER is a protected
> rule, I don't believe the lexer ever puts the resulting token into
> the token stream.  Is there a way to force that?
> -S
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From monty at codetransform.com  Fri Jul 30 17:02:27 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Syntactic predicates
In-Reply-To: <000001c47674$dd586c20$03020a0a@starthis.com>
References: <000001c47674$dd586c20$03020a0a@starthis.com>
Message-ID: <E89CB632-E284-11D8-8AC1-000393B5606C@codetransform.com>

By having rules with capital letters I'm assuming these are lexer 
rules, however your text indicates that they are actually parser rules. 
  Would you please clarify which they are?

I would go for clarity and use the syntactic predicates.  Then I would 
profile and determine if any particular rules have performance issues 
and if so I would refactor rules.  I believe you will find that 
improving your lexer will give you a bigger payoff than tweaking the 
parser, but of course you never really know until you gather 
performance data.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html

On Jul 30, 2004, at 1:36 PM, Bharath Sundararaman wrote:

>
> Hi Antlrs,
>
> If I had 3 rules of the form:
>
> A: ID blue;
> B: ID black;
> C: ID red;
>
> And another rule
>
> Color: A | B | C;
>
> Is it a bad idea to use syntactic predicates instead of splitting out 
> common
> factors? I avoid syntactic predicates as much as possible to avoid
> backtracking and subsequent slowing down.
>
> I have many rules with around a dozen alternatives which don't have the
> exact same left prefix. I'm having a hard time left factoring these 
> rules
> and even if I did, AST generation is cumbersome because I usually split
> large complex rules into several parts for readability (if I don't 
> break the
> rules into parts, its very hard to debug errors) and I have to return 
> values
> at many places for AST generation, type checking and so on.
>
> I created two different grammars, one with very less syntactic 
> predicates
> and another with more syntactic predicates. Is there a good benchmark 
> to
> compare these grammars based on syntactic predicates? The language I'm
> dealing with is similar to PASCAL. I don't have to deal with classes,
> objects, pointers, overloading etc. Does this give me an edge?
>
> Any comments are welcome.
>
> Thanks,
>
> Bharath.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Fri Jul 30 17:07:49 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] saving some memory
Message-ID: <ceensl+jmju@eGroups.com>

ANTLR developers,

The next time around you might consider making token types that are a
constant string have the resulting tokens use those constant strings
rather than allocating new strings for each instance of the token. 
So, this way the strings "if", "while", "<<", etc will be allocated
only once and shared throughout an AST.  I just tried finding a way to
do it with the current version by overriding methods and didn't see a way.

Eric




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Fri Jul 30 17:58:35 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] Re: AST writer
In-Reply-To: <cdfa52+slpb@eGroups.com>
Message-ID: <ceeqrr+djd4@eGroups.com>

--- In antlr-interest@yahoogroups.com, "atripp54321" <atripp@c...> wrote:
> --- In antlr-interest@yahoogroups.com, "thrutchy" <eric_mahurin@y...>
> wrote:
> > Is there a way to write out an AST in the same format as it was
> parsed
> > into the AST without having to write a tree-parser rule for each
> rule
> > of the parser?  To do this, I would assume you couldn't put in any
> > "!"/"^" in the rules and the text can't be munged or ignored (i.e.
> > whitespace/comments).
> > 
> > I would like to write a language munger that does this:
> > 
> > 1. Read language input into an AST
> > 
> > 2. Do manipulations to the AST (via a tree-walker or manually)
> > 
> > 3. Write the AST out in the same input language
> > 
> > I would prefer not to have to specify the language twice - once in
> the
> > parser and once in the writer.
> 
> It seems to me that if you avoid "!" and all the other fancy
> ANTLR constructs in your grammar (other than "^", which you do
> need, as Monty points out), then your language output really
> could be just an in-order traversal of the AST.
> 
> One thing you might want to try is to compare the java.g that
> compes with ANTLR with the print() method in
> this code that prints out a Java AST:
> http://jazillian.com/antlr/JavaEmitter.java
> The java.g strips out all the "syntax stuff", and this code
> puts it all back in.
> 
> Andy


Thanks guys.  I've finally had some time to figure out the AST's. 
Below is what I came up with if you don't do any of this:

- use "!" or manipulate the text (i.e. remove quotes from strings)
- root anything but the first thing in a rule (you could use imaginary
tokens where needed)

I'm also using the stuff from preserve whitespace example.  Here what
I have:

public static void printHiddenBefore(AST a) {
    java.util.List before = new ArrayList();
    for (
        CommonHiddenStreamToken t =
((CommonASTWithHiddenTokens)a).getHiddenBefore() ;
        t!=null ;
        t = t.getHiddenBefore() )
    {
        before.add(t.getText());
    }
    for (int i=before.size()-1;i>=0;--i) {
        System.out.print(before.get(i));
    }
}
public static void printAST(AST a) {
    while (a!=null) {
        String s = a.toString();
        if (s!=null) System.out.print(s);
        for (
            CommonHiddenStreamToken t =
((CommonASTWithHiddenTokens)a).getHiddenAfter() ;
            t!=null ;
            t = t.getHiddenAfter() )
        {
            System.out.print(t.getText());
        }
        printAST(a.getFirstChild());
        a = a.getNextSibling();
    }
}


Just call these two in sequence using the root AST node.

Eric




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From jpschewe at mtu.net  Fri Jul 30 20:08:36 2004
From: jpschewe at mtu.net (Jon Schewe)
Date: Mon Dec 20 16:17:06 2004
Subject: [antlr-interest] I am planning to write a beautifier for Java
	(jaboby..)
In-Reply-To: <cedn7e+epq7@eGroups.com>
References: <cedn7e+epq7@eGroups.com>
Message-ID: <1091243316.21782.4.camel@workstation.mn.mtu.net>

On Fri, 2004-07-30 at 09:50, thirumalaikv wrote:
> Hi 
> I am planning to write a beautifier for Java, which will 
> automatically beautify the code based on certain rules. I have 

Any particular reason the ones that currently exist don't fit your
needs?  You might be better off enhancing an existing one, rather than
starting from scratch.

> 1. I want Special Tokens(spaces, comments, javadocs,...) part of the 
> Token 

You'll probably want to have two Parsers here, one for the Java code and
one for the Javadoc comments.

> 2. I would like to know how to add/remove tokens/nodes of AST/Token. 

I seem to remember this is in the tree construction documentation for
antlr, but could be mistaken.

> 3. Java 1.3.1 grammar 

One can be found on the antlr website, although it tosses comments,
which is why I suggested two parsers in 1.
 
-- 
Jon Schewe | http://mtu.net/~jpschewe
GPG signature at http://mtu.net/~jpschewe/gpg.sig.html
For I am convinced that neither death nor life, neither angels 
nor demons, neither the present nor the future, nor any 
powers, neither height nor depth, nor anything else in all 
creation, will be able to separate us from the love of God that 
is in Christ Jesus our Lord. - Romans 8:38-39

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20040730/682bf359/attachment.bin
From tmoog at polhode.com  Fri Jul 30 22:38:08 2004
From: tmoog at polhode.com (Tom Moog)
Date: Mon Dec 20 16:17:07 2004
Subject: [antlr-interest] 3.0 multiple language support
In-Reply-To: <ccg3c6+huoj@eGroups.com>
References: <ccg3c6+huoj@eGroups.com>
Message-ID: <Pine.NEB.4.60.0407310126190.14356@panix5.panix.com>


The problem of maintaining one grammar with language
dependent actions may be partly due to our inclination
to think of grammars as simple text files.  Imagine that
we used a text editor which could maintain multiple
versions of a file.  Such things exist for technical
documentation.  I remember reading that this was used
for airplane maintenance manuals so that common
features were updated for all airplanes, while
new models could have custom sections.  A printout
was customized according to the model selected.

Another way of looking at this, is that we can
have multiple views of a grammar. Textual vs. graphical.
The graphical emphasizes the ebnf while the textual
emphasizes the actions.  Text view A is c++ while
text view B is java.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From tmoog at polhode.com  Fri Jul 30 22:39:46 2004
From: tmoog at polhode.com (Tom Moog)
Date: Mon Dec 20 16:17:07 2004
Subject: [antlr-interest] formatting antlr 3 output
In-Reply-To: <7CBA70E3-D1B4-11D8-A4A9-000393B5606C@codetransform.com>
References: <ccm4f0+sub7@eGroups.com> <7CBA70E3-D1B4-11D8-A4A9-000393B5606C@codetransform.com>
Message-ID: <Pine.NEB.4.60.0407310138270.18263@panix5.panix.com>


The output of antlr3 should not be formatted
inside the code generator.  It is too much
pain and mixes up semantics with appearance.
Instead, it should be piped (internally) to
a pretty-printer.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From lgc at mail1.jpl.nasa.gov  Sat Jul 31 00:44:27 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:17:07 2004
Subject: [antlr-interest] Re: 3.0 multiple language support
In-Reply-To: <Pine.NEB.4.60.0407310126190.14356@panix5.panix.com>
Message-ID: <cefikr+ntne@eGroups.com>

Tom--

This is the sort of thing I see supported by an ANTLR 3 "workbench"
(IDE).  Ter and I have discussed variants of this idea.  I'd also like
to see visual editing of tree grammars, a grammar/rule database for
compositional programmmng, and refactoring support.  I suspect that
there are a lot more possibilities--the Java IDEs have done a good job
at showing what a language-aware IDE can do.

--Loring


--- In antlr-interest@yahoogroups.com, Tom Moog <tmoog@p...> wrote:
> 
> The problem of maintaining one grammar with language
> dependent actions may be partly due to our inclination
> to think of grammars as simple text files.  Imagine that
> we used a text editor which could maintain multiple
> versions of a file.  Such things exist for technical
> documentation.  I remember reading that this was used
> for airplane maintenance manuals so that common
> features were updated for all airplanes, while
> new models could have custom sections.  A printout
> was customized according to the model selected.
> 
> Another way of looking at this, is that we can
> have multiple views of a grammar. Textual vs. graphical.
> The graphical emphasizes the ebnf while the textual
> emphasizes the actions.  Text view A is c++ while
> text view B is java.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From bharath at starthis.com  Sat Jul 31 10:34:24 2004
From: bharath at starthis.com (Bharath Sundararaman)
Date: Mon Dec 20 16:17:07 2004
Subject: [antlr-interest] Syntactic predicates
In-Reply-To: <E89CB632-E284-11D8-8AC1-000393B5606C@codetransform.com>
Message-ID: <000501c47724$9f9226a0$03020a0a@starthis.com>

Hi Monty,

Yes, they are parser rules. " I would profile and determine if any
particular rules have performance issues 
and if so I would refactor rules" -- How do you profile your rules? This is
the first time I'm writing a compiler; Once it is done, there are probably
many ways to test its efficiency as a whole. But how can you profile the
structure of individual rules? Can you give me some pointers?

For now, I'm building two versions of the compiler side-by-side. One with
syntactic predicates for clarity and another without it. I'm planning to run
large code files on both and see how well they respond. 

Thanks,

Bharath.

-----Original Message-----
From: Monty Zukowski [mailto:monty@codetransform.com] 
Sent: Friday, July 30, 2004 7:02 PM
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] Syntactic predicates


By having rules with capital letters I'm assuming these are lexer 
rules, however your text indicates that they are actually parser rules. 
  Would you please clarify which they are?

I would go for clarity and use the syntactic predicates.  Then I would 
profile and determine if any particular rules have performance issues 
and if so I would refactor rules.  I believe you will find that 
improving your lexer will give you a bigger payoff than tweaking the 
parser, but of course you never really know until you gather 
performance data.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html

On Jul 30, 2004, at 1:36 PM, Bharath Sundararaman wrote:

>
> Hi Antlrs,
>
> If I had 3 rules of the form:
>
> A: ID blue;
> B: ID black;
> C: ID red;
>
> And another rule
>
> Color: A | B | C;
>
> Is it a bad idea to use syntactic predicates instead of splitting out
> common
> factors? I avoid syntactic predicates as much as possible to avoid
> backtracking and subsequent slowing down.
>
> I have many rules with around a dozen alternatives which don't have 
> the exact same left prefix. I'm having a hard time left factoring 
> these rules and even if I did, AST generation is cumbersome because I 
> usually split large complex rules into several parts for readability 
> (if I don't break the
> rules into parts, its very hard to debug errors) and I have to return 
> values
> at many places for AST generation, type checking and so on.
>
> I created two different grammars, one with very less syntactic
> predicates
> and another with more syntactic predicates. Is there a good benchmark 
> to
> compare these grammars based on syntactic predicates? The language I'm
> dealing with is similar to PASCAL. I don't have to deal with classes,
> objects, pointers, overloading etc. Does this give me an edge?
>
> Any comments are welcome.
>
> Thanks,
>
> Bharath.



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From mjc_015 at yahoo.com  Sat Jul 31 00:54:27 2004
From: mjc_015 at yahoo.com (Marian Joyce Cosiwa)
Date: Mon Dec 20 16:17:07 2004
Subject: [antlr-interest] please help........................
Message-ID: <cefj7j+60ae@eGroups.com>

can anyone please help me...i have no idea how to create a lexer and
parser for a calculator with trigo functions. i also have to create a
language definition...please help..im just getting started..



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From sivaji_93061073 at yahoo.com  Sat Jul 31 07:55:14 2004
From: sivaji_93061073 at yahoo.com (sivaji kondapalli)
Date: Mon Dec 20 16:17:07 2004
Subject: [antlr-interest] Regarding Excel Grammar; let me know
Message-ID: <20040731145514.30668.qmail@web60605.mail.yahoo.com>



Hello Everybody,

I am going to write Grammar for MS Excel Sheet Formulas .if anybody can have any idea about it let me know.

 

regards,

sivajik

		
---------------------------------
Do you Yahoo!?
New and Improved Yahoo! Mail - Send 10MB messages!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20040731/9367dd32/attachment.html
From easjolly at ix.netcom.com  Sat Jul 31 13:45:41 2004
From: easjolly at ix.netcom.com (dotlessbraille)
Date: Mon Dec 20 16:17:07 2004
Subject: [antlr-interest] "continue tryAgain" and Multi-lexing
Message-ID: <ceh0dl+80de@eGroups.com>

I use a master lexer with multiple slave lexers to parse a grammar 
which includes multi-character symbols based on a prefix-root 
system.  When the master lexer recognizes a prefix, it triggers the 
switch to the appropriate slave lexer. The slave lexer lexes the 
root of the symbol as a single token and immediately returns control 
to the master lexer.

In this situation, it isn't appropriate for the slave lexer 
to "continue tryAgain" when it fails to recognize the input; instead 
control should be returned to the master lexer.  Is there
any way within ANTLR to get rid of this loop?

SusanJ



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Sat Jul 31 15:50:52 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:07 2004
Subject: [antlr-interest] another way to preserve token order in ASTs
Message-ID: <ceh7oc+c8c9@eGroups.com>

I just coded up a very simple way to preserve token order in the AST's
- put in a dummy node where the root would have gone.  What you do is
override the AST addChild method (used while making a root) to put the
child at the front with a null node behind it, instead of just adding
it in at the end (roots don't have any children initially).  You can
do this to any of the BaseAST classes, but I did it to
CommonASTWithHiddenTokens:

import antlr.collections.AST;

public class CommonAST2WithHiddenTokens extends
CommonASTWithHiddenTokens {
    protected AST left = null;
    public void addChild(AST node) {
        AST rootMarker = new CommonAST(); // Token.INVALID_TYPE
        rootMarker.setNextSibling(this.down);
        if (node != null) {
            this.down = (BaseAST)node;
            while (node.getNextSibling() != null) {
                node = node.getNextSibling();
            }
            node.setNextSibling((BaseAST)rootMarker);
        } else {
            this.down = (BaseAST)rootMarker;
        }
    }
}


Then my AST print routines looked like this:

    public static void printHiddenBefore(AST a) {
        if (a==null) return;
        AST leftChild = a.getFirstChild();
        if (leftChild!=null && leftChild.getType()!=Token.INVALID_TYPE) {
            a = leftChild;
        }
        java.util.List before = new ArrayList();
        for (
            CommonHiddenStreamToken t =
((CommonAST2WithHiddenTokens)a).getHiddenBefore() ;
            t!=null ;
            t = t.getHiddenBefore() )
        {
            before.add(t.getText());
        }
        for (int i=before.size()-1;i>=0;--i) {
            System.out.print(before.get(i));
        }
    }

    public static AST printAST(AST a) {
        while (a!=null) {
            if (a.getType()==Token.INVALID_TYPE) {
                a = a.getNextSibling();
                return a;
            }
            AST leftChild = a.getFirstChild();
            AST rightChild = printAST(leftChild);
            String s = a.toString();
            if (s!=null) System.out.print(s);
            for (
                CommonHiddenStreamToken t =
((CommonAST2WithHiddenTokens)a).getHiddenAfter() ;
                t!=null ;
                t = t.getHiddenAfter() )
            {
                System.out.print(t.getText());
            }
            printAST(rightChild);
            a = a.getNextSibling();
        }
        return null;
    }

I toyed around with a few other ideas (add a "left" AST pointer, add a
dummy root node for the children to the left of the root), but those
required changing one line the ASTFactory class (or extending it and
overriding stuff).  For those interested, it was line 361 in the
makeASTRoot method.  It would have been nice to have this:

            currentAST.child = root.getFirstChild();

instead of:

            currentAST.child = currentAST.root;

I don't believe this would have broken compatability, but it would
have allowed something very different to be done in AST addChild method.

Eric




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sat Jul 31 16:04:33 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:07 2004
Subject: [antlr-interest] 3.0 multiple language support
In-Reply-To: <Pine.NEB.4.60.0407310126190.14356@panix5.panix.com>
References: <ccg3c6+huoj@eGroups.com> <Pine.NEB.4.60.0407310126190.14356@panix5.panix.com>
Message-ID: <FC3906D4-E345-11D8-A2DD-000A95891192@cs.usfca.edu>


On Jul 30, 2004, at 10:38 PM, Tom Moog wrote:

>
> The problem of maintaining one grammar with language
> dependent actions may be partly due to our inclination
> to think of grammars as simple text files.  Imagine that
> we used a text editor which could maintain multiple
> versions of a file.  Such things exist for technical
> documentation.  I remember reading that this was used
> for airplane maintenance manuals so that common
> features were updated for all airplanes, while
> new models could have custom sections.  A printout
> was customized according to the model selected.

Yes, this is what we've considered for an IDE: use revision control not 
inheritance to change actions.  You are essentially forking a new 
branch.  Changes can be pushed forward with diff3 like behavior. :)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sat Jul 31 16:05:59 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:07 2004
Subject: [antlr-interest] another way to preserve token order in ASTs
In-Reply-To: <ceh7oc+c8c9@eGroups.com>
References: <ceh7oc+c8c9@eGroups.com>
Message-ID: <2FAFA5C9-E346-11D8-A2DD-000A95891192@cs.usfca.edu>

Have you seen the article:

http://www.antlr.org/article/preserving.token.order/ 
preserving.token.order.tml

called "Preserving Original Token Sequence In ASTs"?

It has a pretty slick way of dealing with this issue :)

Ter


On Jul 31, 2004, at 3:50 PM, thrutchy wrote:

> I just coded up a very simple way to preserve token order in the AST's
> - put in a dummy node where the root would have gone.  What you do is
> override the AST addChild method (used while making a root) to put the
> child at the front with a null node behind it, instead of just adding
> it in at the end (roots don't have any children initially).  You can
> do this to any of the BaseAST classes, but I did it to
> CommonASTWithHiddenTokens:
>
> import antlr.collections.AST;
>
> public class CommonAST2WithHiddenTokens extends
> CommonASTWithHiddenTokens {
>     protected AST left = null;
>     public void addChild(AST node) {
>         AST rootMarker = new CommonAST(); // Token.INVALID_TYPE
>         rootMarker.setNextSibling(this.down);
>         if (node != null) {
>             this.down = (BaseAST)node;
>             while (node.getNextSibling() != null) {
>                 node = node.getNextSibling();
>             }
>             node.setNextSibling((BaseAST)rootMarker);
>         } else {
>             this.down = (BaseAST)rootMarker;
>         }
>     }
> }
>
>
> Then my AST print routines looked like this:
>
>     public static void printHiddenBefore(AST a) {
>         if (a==null) return;
>         AST leftChild = a.getFirstChild();
>         if (leftChild!=null &&  
> leftChild.getType()!=Token.INVALID_TYPE) {
>             a = leftChild;
>         }
>         java.util.List before = new ArrayList();
>         for (
>             CommonHiddenStreamToken t =
> ((CommonAST2WithHiddenTokens)a).getHiddenBefore() ;
>             t!=null ;
>             t = t.getHiddenBefore() )
>         {
>             before.add(t.getText());
>         }
>         for (int i=before.size()-1;i>=0;--i) {
>             System.out.print(before.get(i));
>         }
>     }
>
>     public static AST printAST(AST a) {
>         while (a!=null) {
>             if (a.getType()==Token.INVALID_TYPE) {
>                 a = a.getNextSibling();
>                 return a;
>             }
>             AST leftChild = a.getFirstChild();
>             AST rightChild = printAST(leftChild);
>             String s = a.toString();
>             if (s!=null) System.out.print(s);
>             for (
>                 CommonHiddenStreamToken t =
> ((CommonAST2WithHiddenTokens)a).getHiddenAfter() ;
>                 t!=null ;
>                 t = t.getHiddenAfter() )
>             {
>                 System.out.print(t.getText());
>             }
>             printAST(rightChild);
>             a = a.getNextSibling();
>         }
>         return null;
>     }
>
> I toyed around with a few other ideas (add a "left" AST pointer, add a
> dummy root node for the children to the left of the root), but those
> required changing one line the ASTFactory class (or extending it and
> overriding stuff).  For those interested, it was line 361 in the
> makeASTRoot method.  It would have been nice to have this:
>
>             currentAST.child = root.getFirstChild();
>
> instead of:
>
>             currentAST.child = currentAST.root;
>
> I don't believe this would have broken compatability, but it would
> have allowed something very different to be done in AST addChild  
> method.
>
> Eric
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From parrt at cs.usfca.edu  Sat Jul 31 17:07:35 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:07 2004
Subject: [antlr-interest] ANTLR 3.0 status: got nongreedy loops going
Message-ID: <CAD23981-E34E-11D8-A2DD-000A95891192@cs.usfca.edu>

Howdy,

Spent 3 days thinking this week and one hour coding to get nongreedy 
loops going properly.  ANTLR lexers are much easier to specify now.  
For example, here is a sample grammar I'm working with:

lexer grammar L;

IF : "if" ;
ID : ('a'..'z')+ ;
WS : (' '|'\n')+ ;
CMT : "/*" ( greedy=false : . )* "*/" ;

It properly deals with IF vs ID and it handles the CMT rule properly.  
It stops when reading when it sees "*/".  Here is the test example:

java TestLexer "bbd if /* * / ** foo */ abc"

[bbd/65538,0:0]
[ /65539,0:0]
[if/65536,0:0]
[ /65539,0:0]
[/* * / ** foo *//65540,0:0]
[ /65539,0:0]
[abc/65538,0:0]

TestLexer is just a loop that prints out Token objects.

         IntegerStream charStream = new ANTLRStringStream(args[0]);
         L lexer = new L(charStream);
         Token t = lexer.nextToken();
         while ( t.getType()!= IntegerStream.EOF ) {
                 System.out.println(t.toString());
                 t = lexer.nextToken();
         }

I feel confident that soon I'll be able to handle the Java grammar. :)

BTW, org.antlr.runtime.* is only 370 lines of code so far. :)

runtime/ANTLRStringStream.java
runtime/CommonToken.java
runtime/CommonTokenStream.java
runtime/DFA.java
runtime/IntegerStream.java
runtime/Lexer.java
runtime/Parser.java
runtime/Token.java
runtime/TokenSource.java
runtime/TokenStream.java

L8R,
Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!
Cofounder, http://www.peerscope.com pure link sharing





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Sat Jul 31 18:42:54 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:07 2004
Subject: [antlr-interest] Re: another way to preserve token order in ASTs
In-Reply-To: <2FAFA5C9-E346-11D8-A2DD-000A95891192@cs.usfca.edu>
Message-ID: <cehhqu+p8ov@eGroups.com>

Yep, already read that.  I like the method I have below because:

- changes were minimal (override one method in an AST)
- AST nodes need no additional data (but I need one extra node per
root - you could argue which is best)
- I knew how to also preserve whitespace
- it made more sense to me

I think the way I really would like to have done this would be to have
a "left" children pointer in addition to current children pointer and
sibling pointer.  With AST nodes like that, these rules:

x : M y N ;
y : A B C^ D E ;

would come out like this:

M -> C -> N
   /   \
  A->B  D->E

I didn't do the above because one line would need to be changed in
ASTFactory.java (no functional change for normal AST nodes).  I could
have subclassed and found a way to use the new class, but didn't want
to bother.  Instead, in the solution below, I'm settling with:

M -> C -> N
     |
     A->B->invalid->D->E

The invalid token type node is used to tell where the root node would
go if it wasn't rooted.  I guess I could optimize this out in the case
when the root node is the first token in the rule.

I'm beginning to get concerned with memory usage in the AST's and will
be developing my own AST classes that have only what I need in the
smallest footprint (i.e. maybe use bytes instead of chars, no
line/column, collapse hidden tokens, etc).

Eric

--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
> Have you seen the article:
> 
> http://www.antlr.org/article/preserving.token.order/ 
> preserving.token.order.tml
> 
> called "Preserving Original Token Sequence In ASTs"?
> 
> It has a pretty slick way of dealing with this issue :)
> 
> Ter
> 
> 
> On Jul 31, 2004, at 3:50 PM, thrutchy wrote:
> 
> > I just coded up a very simple way to preserve token order in the AST's
> > - put in a dummy node where the root would have gone.  What you do is
> > override the AST addChild method (used while making a root) to put the
> > child at the front with a null node behind it, instead of just adding
> > it in at the end (roots don't have any children initially).  You can
> > do this to any of the BaseAST classes, but I did it to
> > CommonASTWithHiddenTokens:
> >
> > import antlr.collections.AST;
> >
> > public class CommonAST2WithHiddenTokens extends
> > CommonASTWithHiddenTokens {
> >     protected AST left = null;
> >     public void addChild(AST node) {
> >         AST rootMarker = new CommonAST(); // Token.INVALID_TYPE
> >         rootMarker.setNextSibling(this.down);
> >         if (node != null) {
> >             this.down = (BaseAST)node;
> >             while (node.getNextSibling() != null) {
> >                 node = node.getNextSibling();
> >             }
> >             node.setNextSibling((BaseAST)rootMarker);
> >         } else {
> >             this.down = (BaseAST)rootMarker;
> >         }
> >     }
> > }
> >
> >
> > Then my AST print routines looked like this:
> >
> >     public static void printHiddenBefore(AST a) {
> >         if (a==null) return;
> >         AST leftChild = a.getFirstChild();
> >         if (leftChild!=null &&  
> > leftChild.getType()!=Token.INVALID_TYPE) {
> >             a = leftChild;
> >         }
> >         java.util.List before = new ArrayList();
> >         for (
> >             CommonHiddenStreamToken t =
> > ((CommonAST2WithHiddenTokens)a).getHiddenBefore() ;
> >             t!=null ;
> >             t = t.getHiddenBefore() )
> >         {
> >             before.add(t.getText());
> >         }
> >         for (int i=before.size()-1;i>=0;--i) {
> >             System.out.print(before.get(i));
> >         }
> >     }
> >
> >     public static AST printAST(AST a) {
> >         while (a!=null) {
> >             if (a.getType()==Token.INVALID_TYPE) {
> >                 a = a.getNextSibling();
> >                 return a;
> >             }
> >             AST leftChild = a.getFirstChild();
> >             AST rightChild = printAST(leftChild);
> >             String s = a.toString();
> >             if (s!=null) System.out.print(s);
> >             for (
> >                 CommonHiddenStreamToken t =
> > ((CommonAST2WithHiddenTokens)a).getHiddenAfter() ;
> >                 t!=null ;
> >                 t = t.getHiddenAfter() )
> >             {
> >                 System.out.print(t.getText());
> >             }
> >             printAST(rightChild);
> >             a = a.getNextSibling();
> >         }
> >         return null;
> >     }
> >
> > I toyed around with a few other ideas (add a "left" AST pointer, add a
> > dummy root node for the children to the left of the root), but those
> > required changing one line the ASTFactory class (or extending it and
> > overriding stuff).  For those interested, it was line 361 in the
> > makeASTRoot method.  It would have been nice to have this:
> >
> >             currentAST.child = root.getFirstChild();
> >
> > instead of:
> >
> >             currentAST.child = currentAST.root;
> >
> > I don't believe this would have broken compatability, but it would
> > have allowed something very different to be done in AST addChild  
> > method.
> >
> > Eric
> >
> >
> >
> >
> >
> > Yahoo! Groups Links
> >
> >
> >
> >
> >
> >
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From eric_mahurin at yahoo.com  Sat Jul 31 19:22:26 2004
From: eric_mahurin at yahoo.com (thrutchy)
Date: Mon Dec 20 16:17:07 2004
Subject: [antlr-interest] Re: ANTLR 3.0 status: got nongreedy loops going
In-Reply-To: <CAD23981-E34E-11D8-A2DD-000A95891192@cs.usfca.edu>
Message-ID: <cehk52+bp3g@eGroups.com>

A few things about greediness:

- how about supporting regex-like "?" modifier (greedy=false):

CMT : "/*" ( . )*? "*/" ;

- in antlr 2.7.4 warnings and docs, it says greediness doesn't make
sense with the optional ()? construct, but it does (regex's use ??). 
greedy=true would be the same as warnWhenFollowAbiguous=false, and
non-greedy would be the same as not matching the optional construct if
it matches what's next.

- also, the java regex "+" greedy=true modifier would be nice:

"if" LPAREN expr RPAREN stat ( "else" stat )?+

I find the majority of times I use options it can be boiled down to
greediness, so the regex shorthands would be nice.

Eric


--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
> Howdy,
> 
> Spent 3 days thinking this week and one hour coding to get nongreedy 
> loops going properly.  ANTLR lexers are much easier to specify now.  
> For example, here is a sample grammar I'm working with:
> 
> lexer grammar L;
> 
> IF : "if" ;
> ID : ('a'..'z')+ ;
> WS : (' '|'\n')+ ;
> CMT : "/*" ( greedy=false : . )* "*/" ;
> 
> It properly deals with IF vs ID and it handles the CMT rule properly.  
> It stops when reading when it sees "*/".  Here is the test example:
> 
> java TestLexer "bbd if /* * / ** foo */ abc"
> 
> [bbd/65538,0:0]
> [ /65539,0:0]
> [if/65536,0:0]
> [ /65539,0:0]
> [/* * / ** foo *//65540,0:0]
> [ /65539,0:0]
> [abc/65538,0:0]
> 
> TestLexer is just a loop that prints out Token objects.
> 
>          IntegerStream charStream = new ANTLRStringStream(args[0]);
>          L lexer = new L(charStream);
>          Token t = lexer.nextToken();
>          while ( t.getType()!= IntegerStream.EOF ) {
>                  System.out.println(t.toString());
>                  t = lexer.nextToken();
>          }
> 
> I feel confident that soon I'll be able to handle the Java grammar. :)
> 
> BTW, org.antlr.runtime.* is only 370 lines of code so far. :)
> 
> runtime/ANTLRStringStream.java
> runtime/CommonToken.java
> runtime/CommonTokenStream.java
> runtime/DFA.java
> runtime/IntegerStream.java
> runtime/Lexer.java
> runtime/Parser.java
> runtime/Token.java
> runtime/TokenSource.java
> runtime/TokenStream.java
> 
> L8R,
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> Cofounder, http://www.peerscope.com pure link sharing



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From rd_clark at sbcglobal.net  Sat Jul 31 19:46:06 2004
From: rd_clark at sbcglobal.net (Richard Clark)
Date: Mon Dec 20 16:17:07 2004
Subject: [antlr-interest] Advice requested: multiple passes vs. subclassing
Message-ID: <EFE65EA2-E364-11D8-A42A-000A95AF74F0@nextquestion.net>

I have an architectural question re: parser reusability.

I have a parser for Javascript / Actionscript and am deriving a couple 
of products from it -- a Javadoc-style compiler and a Eclipse editor 
plugin with "lint" functionality.

The parser generates a straightforward AST, and I've been using a tree 
parser on the result to recognize and rename ordinary function 
declarations into constructors and methods. However, when I want to do 
Javadoc, I may actually need to post-process with two tree parsers -- 
one to rewrite some of the nodes, the other to assemble the Javadoc 
output.

I've thought of a way to do this in one parser, but I don't want to 
modify the generic language parser as that kills reusability. So, I'm 
asking your advice: which of these would you do, given the choice:
1) Alter the base parser for each application
2) Subclass the base parser and roll the changes into the subclass
3) Go ahead with a generic parser and apply transforms to the resulting 
trees?

I'd appreciate hearing from the more experienced folks here :)

Thanks,

  ...Richard





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

