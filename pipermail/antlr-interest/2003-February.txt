From ngormley at hotmail.com  Sat Feb  1 12:20:57 2003
From: ngormley at hotmail.com (ngormley1974 <ngormley@hotmail.com>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Re: Tracking absolute Lexer Position
In-Reply-To: <Pine.SOL.4.44.0301301421150.19223-100000@freno.cs.tu-berlin.de>
Message-ID: <b1ha79+gfud@eGroups.com>

Tom,

Thanks,
Would you have a small (Java) example. I thought that lookahead would 
screw up the position in the input.

Regards,
Niall

--- In antlr-interest@yahoogroups.com, Thomas Dudziak <tomdz@c...> 
wrote:
> Have you tried using a special input Reader (java) or fstream 
(C++)? When ......




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From wiggjd at sbu.ac.uk  Sun Feb  2 07:23:09 2003
From: wiggjd at sbu.ac.uk (David Wigg)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] C++ test suite
Message-ID: <3E3D37DD.FF6296D4@sbu.ac.uk>

Could anyone let me know of any C++ compiler/grammar test suite I could
get hold of?

Thanks.

David.

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Sun Feb  2 10:06:36 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Re: C++ test suite
In-Reply-To: <3E3D37DD.FF6296D4@sbu.ac.uk>
Message-ID: <b1jmnc+3uos@eGroups.com>

Hi David,

> Could anyone let me know of any C++ compiler/grammar test suite I 
could
> get hold of?

The suites that I know - PlumHall, Nullstone & Modena - are 
commercial. Of these PlumHall is (was?) the most comprehensive. For 
free/OS suites, I only know of the GCC test-suite. 

http://gcc.gnu.org/testing/

OpenWatcom may have a testsuite:
http://www.openwatcom.org/

As may these guys...
http://www.fnal.gov/docs/working-groups/c++wg/

It might be worth adding the sources of open source projects such as 
BOOST, STLport etc (and of course your own project) to your 
regression suite.

Micheal

PS  I sent a follow-up to one of your earlier messages about your 
project. Pls reply when you've read it.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From kreismeister at yahoo.de  Sun Feb  2 10:29:56 2003
From: kreismeister at yahoo.de (Gunnar Wagenknecht <kreismeister@yahoo.de>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Translate from Bison to ANTLR
Message-ID: <b1jo34+qcv@eGroups.com>

Hi!

I have a grammer file that was written for Bison. Any tips/hints for 
translating it to ANTLR?

I start with a few simple lines but now I'm going deeper and I see 
some infenity recursions and I don't have much experience with antlr.

Example:
sendId
	:	  identName
		| macroVar
		;		
		
objectData
	:	( numValue
		| nilValue
		| literalValue
		| codeBlock
		| selfValue
		| array
		| arrayAt
		| variable
		| aliasVar
		| aliasExpr
		| macroVar
		| macroExpr
		| funCall
		| pareExpList
		| variableAt
		| objectMethod
		| objectData
		| withMethod
		| withData
		) COLON sendId
		;

objectMethod
	:	objectData LPAREN argList RPAREN
		;




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From linkspeed2000 at yahoo.com  Sun Feb  2 13:41:20 2003
From: linkspeed2000 at yahoo.com (X f)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Strange Behavior
In-Reply-To: <b1jo34+qcv@eGroups.com>
Message-ID: <20030202214120.79619.qmail@web40705.mail.yahoo.com>

options {
language = "CSharp";
}

class CSParser extends Parser;
options {
buildAST = true; // uses CommonAST by default
}

identifier : IDENT (DOT^ IDENT)*
;


class CSLexer extends Lexer;

// Whitespace -- ignored
WS : ( ' '
| '\t'
| '\f'
| ( options {generateAmbigWarnings=false;} 
: "\r\n" // Evil DOS
| '\r' // Macintosh
| '\n' // Unix (the right way)
)
{ newline(); }
)+
{ _ttype = Token.SKIP; }
;

DOT : '.' ;

IDENT : ('a'..'z'|'A'..'Z'|'_') ('a'..'z'|'A'..'Z'|'_'|'0'..'9')*
; 
class CSTreeWalker extends TreeParser; 
identifier 
: #(ASDF identifier IDENT) 
; 
This file is to parse string like "aaa.bbb.ccc". The tree should be like (. (. bbb ccc) aaa) 
Please look at second last line. Token ASDF is not defined at all. But this grammar works. 
If I changes ASDF into DOT, or I remove the Treewalker section, it will have IndexOutOfRangeException. 
Can anyone tell me why? 
Thanks




---------------------------------
Do you Yahoo!?
Yahoo! Mail Plus - Powerful. Affordable. Sign up now
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030202/1edbee08/attachment.html
From linkspeed2000 at yahoo.com  Sun Feb  2 13:43:38 2003
From: linkspeed2000 at yahoo.com (linkspeed2000 <linkspeed2000@yahoo.com>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] strange behavior
Message-ID: <b1k3ea+jfdf@eGroups.com>

options {
language = "CSharp";
}

class CSParser extends Parser;
options {
buildAST = true; // uses CommonAST by default
}

identifier : IDENT (DOT^ IDENT)*
;


class CSLexer extends Lexer;

// Whitespace -- ignored
WS : ( ' '
| '\t'
| '\f'
| ( options {generateAmbigWarnings=false;} 
: "\r\n" // Evil DOS
| '\r' // Macintosh
| '\n' // Unix (the right way)
)
{ newline(); }
)+
{ _ttype = Token.SKIP; }
;

DOT : '.' ;

IDENT : ('a'..'z'|'A'..'Z'|'_') ('a'..'z'|'A'..'Z'|'_'|'0'..'9')*
; 
class CSTreeWalker extends TreeParser; 
identifier 
: #(ASDF identifier IDENT) 
; 
This file is to parse string like "aaa.bbb.ccc". The tree should be 
like (. (. bbb ccc) aaa) 

Please look at second last line. Token ASDF is not defined at all. 
But this grammar works. 

If I changes ASDF into DOT, or I remove the Treewalker section, it 
will have IndexOutOfRangeException. 

Can anyone tell me why? 

Thanks




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From r.knight at zoodigitalgroup.com  Sun Feb  2 14:11:34 2003
From: r.knight at zoodigitalgroup.com (Richard Knight <r.knight@zoodigitalgroup.com>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Generating AST trees
Message-ID: <b1k52n+b2c8@eGroups.com>

Hi,

I'm a bit of a newbie at all this, so apologies if this doesn't make 
a lot of sense...

I'm trying to figure out how to use the AST generation stuff to 
generate a parse tree in the way I want (or at least think I 
want!).  Say I have a grammar that looks something like:


expression: left operation right ;

operation: OP1 | OP2 | OP3;

left: ...more grammar...

right: ...more grammar...


So in the rule for expression there are no explicit tokens that have 
come out of the lexer.  I'd like to generate a tree like:

         expression
       /     |      \
      /      |       \
     /       |        \
   left   operation  right

only it seems there's no way to generate nodes in the tree that 
correspond to rules, rather than tokens, unless I'm missing 
something (quite likely !).

I could achieve it by manually by inserting code fragments into the 
grammar, but it seems like a lot of effort when the automagic AST 
generation seems like it might be able to do almost what I want...

Any ideas how I might get around this ?

Thanks !

Rich.

    


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From abreneliere at telys.com  Sun Feb  2 15:33:24 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] TR : Question (or bug alert) : what's the character to append to the end of a string stream ?
Message-ID: <000001c2cb13$7dcd7830$cf00a8c0@lavaserver>

I have the following main function?i my program :

CMainApp::CMainApp(char * szCmdLine)
{
	strstream clinebuf;

	clinebuf << szCmdLine << "\377" << ends;
	/*
		i also tried:
	clinebuf << szCmdLine << "\377";
		or
	clinebuf << szCmdLine << "\377\0";
	*/

	cmdLineLexer lexer(clinebuf);  // <- i insert a string stream as
parameter for the lexer
	// TokenBuffer buffer(lexer);
	cmdLineParser parser(lexer);

	parser.parameter_list();

	cin.get();
}

But the lexer throws an an exception because there is no EOF character
at the end of the stream.

When i append an EOF character at the end of the string (lie the
exemple) stream then it does not even work.

My question is: is there something else i should append to my stream to
make my  lexer working ?

If, in the grammar-generated function cmdLineLexer::nextToken(), i
manually replace..

if (LA(1)==EOF_CHAR)
{
	uponEOF();
	_returnToken =
makeToken(ANTLR_USE_NAMESPACE(antlr)Token::EOF_TYPE);
}

..by..

char _c_ = LA(1);
if (_c_==EOF_CHAR)
{
	uponEOF();
	_returnToken =
makeToken(ANTLR_USE_NAMESPACE(antlr)Token::EOF_TYPE);
}

..then it works !!

So is that could be a bug ?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From abreneliere at telys.com  Sun Feb  2 17:17:28 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Question (or bug alert) .. resolved
Message-ID: <000101c2cb22$05bca190$cf00a8c0@lavaserver>

Ok,

I found the solution, just:

clinebuf << szCmdLine;

..works.

I was too used to   'clinebuf << szCmdLine << ends;' assignments..

Cheers..
Anthony


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From s_mitra8 at yahoo.com  Sun Feb  2 18:01:53 2003
From: s_mitra8 at yahoo.com (sudip mitra)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] why does java write more on the txt files?
In-Reply-To: <000101c2cb22$05bca190$cf00a8c0@lavaserver>
Message-ID: <20030203020153.39339.qmail@web10408.mail.yahoo.com>


I encountered this problem while I was doing simple file i/o to 
extract data from a txt file into another and then replace the "\n"
everywhere ...when i opened this file with wordpad java had additional characters 
between the letters :(
so when i tried antlr to do some  smart stuff it did not recognise these characters ...
it was like this :
original file : somebody
new file : s o m e b o d y
that is now there were spaces between the characters in every word...
n e idea for this ????
 Anthony_Brenelière <abreneliere@telys.com> wrote:Ok,

I found the solution, just:

clinebuf << szCmdLine;

..works.

I was too used to 'clinebuf << szCmdLine << ends;' assignments..

Cheers..
Anthony




Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 






---------------------------------
Do you Yahoo!?
Yahoo! Mail Plus - Powerful. Affordable. Sign up now
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030202/2de32ae2/attachment.html
From alan at oursland.net  Sun Feb  2 20:59:29 2003
From: alan at oursland.net (Alan <alan@oursland.net>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] understanding lexical nondeterminism warnings
Message-ID: <b1ksvh+r2ag@eGroups.com>

I am having some trouble understanding how the antlr lexical analysis 
works. I hope someone can set me straight.

At the bottom of this message is a simplified grammar I am writing.
I am getting the following "lexical nondeterminism" warnings:
	ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
	simplescheme.g: warning:lexical nondeterminism between rules 
IDENTIFIER and NUMBER upon
	simplescheme.g:     k==1:'+','-','.'
	simplescheme.g:     k==2:'.','0'..'9'
	simplescheme.g:     k==3:<end-of-
token>,'.','0'..'9','d'..'f','l','s'
	simplescheme.g:     k==4:<end-of-token>,'+','-
','.','0'..'9','d'..'f','l','s'
	simplescheme.g:     k==5:<end-of-token>,'+','-
','.','0'..'9','d'..'f','l','s'

Consider the string "+.9".
I can see how this could be interpreted two ways:
	IDENTIFIER NUMBER => (PECULIAR_IDENTIFIER) ('.' DIGIT)
or
	NUMBER => (SIGN '.' DIGIT)
I understand that the lexer looks for the longest matching token and 
I would expect it to select the second option (which it in fact does).
If this is the case, I don't understand why the warning is displaying.

The SILLY tokens (adapted from Ashley Mills's tutorial) should have 
the same problem.
"AB" could be tokenized as:
	SILLY3 SILLY4
or
	SILLY1
Again, the second option is returned. However, no warning is 
displayed for these tokens.

What is going on here? Is there any way I can clear the warnings 
(without just hiding them)?

Alan

=====================================================================
class SimpleLexer extends Lexer;
options { k=5; }

SILLY1:             "AB";
SILLY2:             "AC";
SILLY3:             "A";
SILLY4:             "B";

IDENTIFIER:         LETTER (LETTER | DIGIT | SPECIAL)*
    |               PECULIAR
    ;
NUMBER:             SIGN UREAL10;

protected UREAL10:  (DIGIT)+ '.' (DIGIT)* (SUFFIX)?
    |               '.' (DIGIT)+ (SUFFIX)?
    ;
protected SUFFIX:   EXPONENT SIGN (DIGIT)+;
protected EXPONENT: 'e' | 'f' | 's' | 'd' | 'l';
protected LETTER:   'a'..'z';
protected DIGIT:    '0'..'9';
protected SIGN:     ('+' | '-')?;
protected SPECIAL:  '+' | '-' | '.' | '@';
protected PECULIAR: '+' | '-' | "...";



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Feb  2 23:14:00 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] why does java write more on the txt files?
In-Reply-To: <20030203020153.39339.qmail@web10408.mail.yahoo.com>
Message-ID: <113A03C3-3747-11D7-A114-000393BB647E@jguru.com>


On Sunday, February 2, 2003, at 06:01 PM, sudip mitra wrote:

> I?encountered this problem while I was doing simple file i/o to
>
> extract data from a txt file into another and then replace the "\n"
>
> everywhere ...when i opened this file with wordpad java had additional 
> characters
>
> between the letters :(
>
> so when i tried antlr to do some? smart stuff it did not recognise 
> these characters ...
>
> it was like this :
>
> original file : somebody
>
> new file : s o m e b o d y
>
> that is now there were spaces between the characters in every word...
>
> n e idea for this ????
>

Perhaps some unicode characters are being spit out?  Do a hex dump of 
the file to see.

Terence
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From s_mitra8 at yahoo.com  Sun Feb  2 23:38:51 2003
From: s_mitra8 at yahoo.com (sudip mitra)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] why does java write more on the txt files?
In-Reply-To: <113A03C3-3747-11D7-A114-000393BB647E@jguru.com>
Message-ID: <20030203073851.89035.qmail@web10410.mail.yahoo.com>


WHAT IS HEX DUMP????
 Terence Parr <parrt@jguru.com> wrote:
On Sunday, February 2, 2003, at 06:01 PM, sudip mitra wrote:

> I encountered this problem while I was doing simple file i/o to
>
> extract data from a txt file into another and then replace the "\n"
>
> everywhere ...when i opened this file with wordpad java had additional 
> characters
>
> between the letters :(
>
> so when i tried antlr to do some  smart stuff it did not recognise 
> these characters ...
>
> it was like this :
>
> original file : somebody
>
> new file : s o m e b o d y
>
> that is now there were spaces between the characters in every word...
>
> n e idea for this ????
>

Perhaps some unicode characters are being spit out? Do a hex dump of 
the file to see.

Terence
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco




Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 




---------------------------------
Do you Yahoo!?
Yahoo! Mail Plus - Powerful. Affordable. Sign up now
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030202/6aeb6acd/attachment.html
From pete.forman at westerngeco.com  Mon Feb  3 00:33:28 2003
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] C++ test suite
In-Reply-To: <3E3D37DD.FF6296D4@sbu.ac.uk>
Message-ID: <5.1.1.1.2.20030203082704.038a34d0@wgmail2.gatwick.eur.slb.com>

At 2003-02-02 15:23 +0000, David Wigg wrote:
>Could anyone let me know of any C++ compiler/grammar test suite I could
>get hold of?

I wrote a test suite but it is targeted at strict STL conformance rather 
than the language grammar.

     http://petef.port5.com/cpp/stltest.html

You might also try asking on news:comp.std.c++

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dvleonid at land.ru  Mon Feb  3 03:46:24 2003
From: dvleonid at land.ru (Dvoryansky Leonid)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] why does java write more on the txt files?
References: <20030203020153.39339.qmail@web10408.mail.yahoo.com>
Message-ID: <000d01c2cb79$e2000a50$0500a8c0@ZSHIP>


s o m e b o d y ? :)))))

M a y b e   i t ' s   j u s t   U n i c o d e - 1 6   j o k i n g ?

  I encountered this problem while I was doing simple file i/o to 
  extract data from a txt file into another and then replace the "\n" 

  everywhere ...when i opened this file with wordpad java had additional characters 

  between the letters :( 

  so when i tried antlr to do some  smart stuff it did not recognise these characters ... 

  it was like this : 

  original file : somebody 

  new file : s o m e b o d y 

  that is now there were spaces between the characters in every word... 

  n e idea for this ???? 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030203/7a267260/attachment.html
From cintyram at yahoo.com  Mon Feb  3 07:37:11 2003
From: cintyram at yahoo.com (cintyram <cintyram@yahoo.com>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Re: Parsing a TokenStream in piecemeal fashion
In-Reply-To: <b1dund+an6i@eGroups.com>
Message-ID: <b1m2b7+94f4@eGroups.com>

--- In antlr-interest@yahoogroups.com, "micheal_jor <open.zone@v...>"
<open.zone@v...> wrote:
> Hi,
> 
> Any ideas on how to create a Parser instance and use it to parse a 
> few tokens at a time from a TokenStream repeatedly. Obviously there 
> wouldn't be an EOF condition/character most of the time.
> 

may be we can set up a flag at the end of the last rule to say that
one cycle has been completed;
also the first rule can have a check for this flag before going ahead ..


> If it's relevant, each invocation of the Parser builds an AST 
> fragment that is fed to TreeParser(s).

actually , with a little tweaking, we should be able to do this,
also since i have only begun using tree grammars, i think i might be
way off , but any way this sounds like a possibility :
1. now we pass the tree built by the parser by explicitly pulling the
tree by getAst() method ;
2. if getAst can return the tree constructed so far, on every call,
   and we have a mechanism to erase the tree constructed so far and
start a fresh, or give a pointer to the subtree created by this call
to the parser rule ..etc ..
--- plan B ---

if we can call a parser rule other than the start rule, and make it
construct the tree we need, and be able to get the constructed tree ...

associating the parser to one lexer once is enough, the lexer simply
keeps going ahead and parsing the charstream as and when reqd. and the
parser rule can be called in a loop, the ast gotten and processed;
now every time we run the rule we get a brand new tree :) .

========= as an aside .. =========

actually i was thinking about what i called "parallel parse" , ie have
multiple parses parse the input file simultaneously .
but felt that som eone must already have done it .. as frequently
files with records in them have similar structure for each record, but
zillions of records .. so thot some one must already have tried to
speed up the processing of such files by exploiting its ability to be
processed parallely ;


cheers
ram




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tomdz at cs.tu-berlin.de  Mon Feb  3 07:59:18 2003
From: tomdz at cs.tu-berlin.de (Thomas Dudziak)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Re: Tracking absolute Lexer Position
Message-ID: <Pine.SOL.4.44.0302031645330.5864-101000@freno.cs.tu-berlin.de>

Niall, I've attached a modified version of the ExprAST sample in the hope
that it will solve your problem ;-)

Tom

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: antlr-exttoken-example-src.zip
Type: application/zip
Size: 3045 bytes
Desc: 
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20030203/12c39e19/antlr-exttoken-example-src.zip
From dmuller at creativesolutions.com  Mon Feb  3 08:49:09 2003
From: dmuller at creativesolutions.com (Dan Muller)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Updates C++ library, VC7 support
Message-ID: <C3C2C0D32584044FACBFCA005479770206A2201A@exchsrv.creativesol.com>

My priorities changed this morning such that I will not be able to do any
further work with ANTLR for a little while. So I've attached a copy of the
work that I recently mentioned on this list, with the changes that I made to
get a clean build of a C++ DLL with VC7. The attached zip file contains the
files that I changed, and the two new files needed by VC7 (the .sln and
.vcproj files). I have not had a chance to verify that the library works
with ANTLR, however, so I don't know for sure that it's complete and that it
exports everything that it needs to.

 <<antlr-2.7.2-modified.zip>> 

 - Dan Muller


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: antlr-2.7.2-modified.zip
Type: application/octet-stream
Size: 19226 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20030203/0e430a45/antlr-2.7.2-modified.obj
From abreneliere at telys.com  Mon Feb  3 09:06:02 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Questions about recursion...
Message-ID: <002801c2cba6$8814a820$cb646464@lavaserver>

Why is there no recursion in ANLR grammars ?
 
Is it by design or not implemeted yet ?
 
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030203/d6d2aaf6/attachment.html
From abreneliere at telys.com  Mon Feb  3 09:18:44 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Question about recursion
In-Reply-To: <002801c2cba6$8814a820$cb646464@lavaserver>
Message-ID: <002f01c2cba8$4e1f3ed0$cb646464@lavaserver>

I just noticed recursion was rejected when the rule was the first rule
of the right part.
 
expr
            :           MINUS expr
;
 
..is ok
 
expr
            :           expr MINUS 
;
 
..is not okay
 
If there a way to allow the second example in an ANTLR grammar ?
therorically that ahould be accepted, it?s a correct rule of the BNF.
 
-----Message d'origine-----
De : Anthony Breneli?re [mailto:abreneliere@telys.com] 
Envoy? : lundi 3 f?vrier 2003 18:06
? : Antlr Yahoogroups
Objet : [antlr-interest] Questions about recursion...
 
Why is there no recursion in ANLR grammars ?
 
Is it by design or not implemeted yet ?
 
 
 

Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service
<http://docs.yahoo.com/info/terms/> . 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030203/451fe167/attachment.html
From parrt at jguru.com  Mon Feb  3 09:43:12 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] why does java write more on the txt files?
In-Reply-To: <20030203073851.89035.qmail@web10410.mail.yahoo.com>
Message-ID: <F784D2FD-379E-11D7-A114-000393BB647E@jguru.com>

Well, on unix it's "od file.txt" (well octal dump).  Surely on a PC you 
can find a way to see the real bytes in a file...

Ter

On Sunday, February 2, 2003, at 11:38 PM, sudip mitra wrote:

> WHAT IS HEX DUMP????
>
> ?Terence Parr <parrt@jguru.com> wrote:
>
>
> On Sunday, February 2, 2003, at 06:01 PM, sudip mitra wrote:
>
> > I?encountered this problem while I was doing simple file i/o to
> >
> > extract data from a txt file into another and then replace the "\n"
> >
> > everywhere ...when i opened this file with wordpad java had 
> additional
> > characters
> >
> > between the letters :(
> >
> > so when i tried antlr to do some? smart stuff it did not recognise
> > these characters ...
> >
> > it was like this :
> >
> > original file : somebody
> >
> > new file : s o m e b o d y
> >
> > that is now there were spaces between the characters in every word...
> >
> > n e idea for this ????
> >
>
> Perhaps some unicode characters are being spit out? Do a hex dump of
> the file to see.
>
> Terence
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
<image.tiff>
>
> Do you Yahoo!?
> Yahoo! Mail Plus - Powerful. Affordable. Sign up now
> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dvleonid at land.ru  Mon Feb  3 04:10:11 2003
From: dvleonid at land.ru (Dvoryansky Leonid)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] why does java write more on the txt files?
References: <20030203073851.89035.qmail@web10410.mail.yahoo.com>
Message-ID: <000901c2cbb3$3ffffa00$0500a8c0@ZSHIP>

AS YOU CERTAINLY KNOW ALL DATA IN COMPUTER woof... is just a binary code.
So HEX is no more than hexadecimal representation of this code in sixteen base number notation system.
(DEC is common number notation)
DEC:15 = HEX:A
DEC:255 = HEX:FF
You can see your files in HEX representation:
edit /70 filename.ext  (in Windows).

How do you think is that the question that have to be discussed in that forum?
Maybe you have first to read some books like "Computer for dummies."
  WHAT IS HEX DUMP????

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030203/5c14089a/attachment.html
From open.zone at virgin.net  Mon Feb  3 10:56:51 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Question about recursion
In-Reply-To: <002f01c2cba8$4e1f3ed0$cb646464@lavaserver>
Message-ID: <b1me1j+ie0g@eGroups.com>


> I just noticed recursion was rejected when the rule was the first 
rule
> of the right part.
>  
> expr
>             :           MINUS expr
> ;
>  
> ..is ok
>  
> expr
>             :           expr MINUS 
> ;
>  
> ..is not okay

ANTLR is an LL(k) parser. Please the docs on the site for what that 
means and why left-recursive grammars generate errors with ANTLR. 

This might also help:
http://www.csee.umbc.edu/331/fall02/0101/notes/pdf/4parsing.pdf

> If there a way to allow the second example in an ANTLR grammar ?
> therorically that ahould be accepted, it's a correct rule of the 
BNF.

It isn't about BNF/EBNF. It's about leftmost derivation in LL(k) 
parsers.

Cheers,

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From s_mitra8 at yahoo.com  Mon Feb  3 14:14:21 2003
From: s_mitra8 at yahoo.com (sudip mitra)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] why does java write more on the txt files?
In-Reply-To: <000901c2cbb3$3ffffa00$0500a8c0@ZSHIP>
Message-ID: <20030203221421.53528.qmail@web10403.mail.yahoo.com>


what do you think antlr works on honey ???? on characters ...a bit more on character helps surely :-) ... 


THERE IS A COMMON  THING  BETWEEN A SUPERMAN (SAY A PHD ) AND A HUMAN(NOT A PHD)... BOTH THINK THE OTHER IS A SUCKER :-)...


---------------------------------
Do you Yahoo!?
Yahoo! Mail Plus - Powerful. Affordable. Sign up now
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030203/8ca98130/attachment.html
From edcjones at yahoo.com  Mon Feb  3 21:01:02 2003
From: edcjones at yahoo.com (edcjones <edcjones@yahoo.com>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Outputting ASP from tinyc
Message-ID: <b1nhee+f695@eGroups.com>

I would like to get the tinyc example to output ASPs in some lisp-like
notation.

Here is the "Main" part of tinyc.g:

----
import java.io.*;

class Main {
    public static void main(String[] args) {
        try {
            TinyCLexer lexer = new TinyCLexer(new 
                             DataInputStream(System.in));
            TinyCParser parser = new TinyCParser(lexer);
            parser.program();
            antlr.CommonAST ast = (antlr.CommonAST)parser.getAST();
            if (ast != null) {
                System.out.println(ast.toStringList());
            } else {
                System.out.println("null AST");
            }
        } catch(Exception e) {
            System.err.println("exception: "+e);
        }
    }
}
----

Here is the output:

 int i ; int * i ; int f ( char c , char * d ) { int f ; c = '\033' +
'\47' + '\'' + '\\' ; d = " \" '\\' foo" ; i = c + 3 * f ; if ( i ) {
f = c ; } else { f = 1 ; } } null

If I use toStringTree, the output is " int" only.

What am I doing wrong?



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From hushlee83 at yahoo.com.sg  Mon Feb  3 21:52:48 2003
From: hushlee83 at yahoo.com.sg (=?iso-8859-1?q?Sharon=20Li?=)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Meaning error messages
Message-ID: <20030204055248.286.qmail@web40910.mail.yahoo.com>


hi,

I'm working on a program that reads in input from a file. Is it possible to try..catch the exceptions and display meaningful error messages (i.e. "Invalid input! Pls try again! " ) rather than having the program terminate abruptly due to the following error: "at antlr.MismatchedTokenException.toString(MismatchedTokenException.java:193)". 

cheers,
sharon

 Yahoo! Travel
- Valentine surprise deals. Book now!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030204/61fa35eb/attachment.html
From open.zone at virgin.net  Tue Feb  4 01:25:30 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] OFF-TOPIC: Netiquette (was Re: why does java write more on the txt files?)
In-Reply-To: <20030203221421.53528.qmail@web10403.mail.yahoo.com>
Message-ID: <b1o0ua+b41l@eGroups.com>

--- In antlr-interest@yahoogroups.com, sudip mitra <s_mitra8@y...> 
wrote:
> 
> what do you think antlr works on honey ???? on characters ...a bit 
more on character helps surely :-) ... 
> 
> 
> THERE IS A COMMON  THING  BETWEEN A SUPERMAN (SAY A PHD ) AND A 
HUMAN(NOT A PHD)... BOTH THINK THE OTHER IS A SUCKER :-)...
> 
> 
> ---------------------------------
> Do you Yahoo!?
> Yahoo! Mail Plus - Powerful. Affordable. Sign up now

FYI:

http://www.albion.com/netiquette/

http://www.learnthenet.com/english/html/09netiqt.htm


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Tue Feb  4 01:27:30 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Re: Meaning error messages
In-Reply-To: <20030204055248.286.qmail@web40910.mail.yahoo.com>
Message-ID: <b1o122+81ml@eGroups.com>

--- In antlr-interest@yahoogroups.com, Sharon Li <hushlee83@y...> 
wrote:
> 
> hi,
> 
> I'm working on a program that reads in input from a file. Is it 
possible to try..catch the exceptions and display meaningful error 
messages (i.e. "Invalid input! Pls try again! " ) rather than having 
the program terminate abruptly due to the following error: "at 
antlr.MismatchedTokenException.toString
(MismatchedTokenException.java:193)". 

Yes. See: http://www.antlr.org/doc/err.html#_bb1

Cheers,

Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Tue Feb  4 03:31:26 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Is there an ANTLR trick/hack to specify "NEWLINE or EOF" in Lexer
Message-ID: <b1o8ae+10v48@eGroups.com>

In an extension of the "single line comment can be followed by 
NEWLINE or end-of-file" scenario, I need to return a NEWLINE token 
when either an actual end-of-line or the end-of-file condition is 
encountered.

[How] can this be specified in ANTLR?. 

1. Subclassing uponEOF() to somehow persuade nextToken() to fudge and 
return one final NEWLINE token seems to be the "wrong" approach. Will 
it work?

2. Perhaps ANTLR should support a "virtual EOF char" that can be 
matched like any other char in Lexer rules in addition to the current 
[upon]EOF end-of-file condition mechanism?

3. Leaving the decision to a Parser generated errors at end-of-
file "expecting "NEWLINE", found ''":

(a) Matching against the EOF "token"
newlineOrEOF
:   NEWLINE
|!  EOF
;

(b) Checking if LA(1) against EOF_TYPE
newlineOrEOF
{ bool atEndOfFile = true; }
:   ( NEWLINE { atEndOfFile = false; } )?
    { if ( atEndOfFile && (LA(1) != Token.EOF_TYPE) )
         throw new RecognitionException(...);
    }
;

As a side-effect, I have pages full of non-determinism errors with 
method (b)  ;-)


Related Question:
-----------------
Is there a standard inbuilt mechanism for stuffing arbitary Token 
into the Lexer's output TokenStream?

Cheers!,

Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From xdji at mail.ustc.edu.cn  Tue Feb  4 04:05:36 2003
From: xdji at mail.ustc.edu.cn (xdjicn <xdji@mail.ustc.edu.cn>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Problem of building C++ library in VC6
Message-ID: <b1oaag+bhf2@eGroups.com>

While building the C++ library antlr.lib in VC++6.0, I got the 
following errors:
...\BaseAST.cpp(312) : error C2201: 'nullASTptr' : must have external 
linkage in order to be exported/imported
...\Token.cpp(18) : error C2720: 'badToken' : '__declspec
(dllimport ) ' storage-class specifier illegal on members
...\Token.cpp(18) : error C2491: 'Token::badToken' : definition of 
dllimport static data member not allowed
...\TreeParser.cpp(39) : error C2491: 'TreeParser::ASTNULL' : 
definition of dllimport static data member not allowed

I am using antlr 2.7.2,Could someone tell me how to solve it,thanks a 
lot!


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Tue Feb  4 04:46:47 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Re: Problem of building C++ library in VC6
In-Reply-To: <b1oaag+bhf2@eGroups.com>
Message-ID: <b1ocnn+8jb8@eGroups.com>

> While building the C++ library antlr.lib in VC++6.0, I got the 
> following errors:

<SNIPPED>

> I am using antlr 2.7.2,Could someone tell me how to solve it,thanks 
a 
> lot!

GENERAL
-------
Please search the mailing list archive and the FAQ before posting in 
future. Many questions already have documented answers.

Archives : http://groups.yahoo.com/group/antlr-interest/messages
FAQ      : http://www.jguru.com/faq/ANTLR

C++ Library
-----------
There have been extensive discussions about compiling the ANTLR C++ 
runtime for Windows using MSVC++ v6 and v7 (i.e. VS.NET) as a DLL and 
as an import lib very recently.

Msg# 7096, 7106 and 7295 for instance.

Cheers,

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cmain at pps.co.za  Tue Feb  4 07:06:00 2003
From: cmain at pps.co.za (craigmain001 <cmain@pps.co.za>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Embedded Languages
Message-ID: <b1okso+og04@eGroups.com>

Hi,

I need to parse an embedded language. I basically wish to reproduce 
the input to stdout except for delimited sections of the input stream 
which must be parsed, much like the multiplex javadoc sample.

I have tried to combine the SED sample and the javadoc sample to get 
what I need, but I am struggling to get it working.

I have pasted in the four files I have used - modified from the 
javadoc sample.

I am pretty sure that if I just want to reproduce input except for 
certain delimited sections of the text, that I should be able to use 
one lexer and one parser.

I don't actually need to parse the complete input text, just the 
delimited sections.

There must be an easier way to do this. I have attached my attempt in 
case it is of some use.


START OF CODELEX.G
-------------------------------------------------------------------
header {
#include "antlr/TokenStreamSelector.hpp"
#include <iostream>
}

options {

	language="Cpp";
}

class CodeLexer extends Lexer;
options {
	k=2;
	filter=IGNORE;
        importVocab = Common;
	exportVocab = XGEN;
}

{
private:
	ANTLR_USE_NAMESPACE(antlr)TokenStreamSelector* selector;
public:
	void setSelector(ANTLR_USE_NAMESPACE(antlr)
TokenStreamSelector* selector_) {
		selector=selector_;
	}
}

protected
IGNORE
  :  ( "\r\n" /* | '\r' | '\n' */ )
     {newline(); std::cout << std::endl;}
  |  c:. {std::cout << c;}
  ;

XGENCODE_OPEN
	:	"[" {selector->push("doclexer");}
	;
-------------------------------------------------------------------
END OF CODELEX.G
        

START OF CODEPARSE.G
-------------------------------------------------------------------
options {
	language="Cpp";
}

{
#include "XGenParser.hpp"
}

class CodeParser extends Parser;
options {
	importVocab=XGEN;
}

input
	:	(xgencode)*
                
	;

xgencode
	:	XGENCODE_OPEN
		{
		XGenParser xgen(getInputState());
		xgen.content();
		}
		XGENCODE_CLOSE
	;
-------------------------------------------------------------------
END OF CODEPARSE.G

START OF XGENLEX.G
-------------------------------------------------------------------
header {
#include "antlr/TokenStreamSelector.hpp"
}

options {
	language="Cpp";
}

class XGenLexer extends Lexer;
options {
	k=2;
	importVocab = Common;
	exportVocab = XGEN;
	filter=true;
}

{
private:
	ANTLR_USE_NAMESPACE(antlr)TokenStreamSelector* selector;
public:
	void setSelector(ANTLR_USE_NAMESPACE(antlr)
TokenStreamSelector* selector_) {
		selector=selector_;
	}
}

FOREACH
	:	"foreach" ' ' ID
	;

protected
ID	:	('a'..'z'|'A'..'Z')+
	;

/** This rule simply prevents XGENCODE_CLOSE from being
 *  called for every '[' in a comment.  Calling XGENCODE_CLOSE
 *  will fail for simple '[' and cause an exception, which
 *  is slow.  In other words, the grammar will work without
 *  this rule, but is slower.
 */
OPEN:	'[' {$setType(ANTLR_USE_NAMESPACE(antlr)Token::SKIP);}
	;

XGENCODE_CLOSE
	:	"]" {selector->pop();}
	;

/** Ignore whitespace inside xgen code comments */
NEWLINE
	:	(	"\r\n"  // Evil DOS
		|	'\r'    // Macintosh
		|	'\n'    // Unix (the right way)
		)
		{ newline(); $setType(ANTLR_USE_NAMESPACE(antlr)
Token::SKIP); }
	;
-------------------------------------------------------------------
END OF XGENLEX.G

START OF XGENPARSE.G
-------------------------------------------------------------------
options {
	language="Cpp";
}

{
#include <iostream>
}

class XGenParser extends Parser;
options {
	importVocab=XGEN;
}

content
	:	(	p:FOREACH	// includes ID as part of 
PARAM
			{std::cout << "found: " << p->getText() << 
std::endl;}
		)*
	;



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From s_mitra8 at yahoo.com  Tue Feb  4 07:57:38 2003
From: s_mitra8 at yahoo.com (sudip mitra)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] OFF-TOPIC: Netiquette (was Re: why does java write more on the txt files?)
In-Reply-To: <b1o0ua+b41l@eGroups.com>
Message-ID: <20030204155738.14249.qmail@web10412.mail.yahoo.com>


that was interesting and I wish there was more sense of  humor everywhere...:-)
 "micheal_jor <open.zone@virgin.net>" <open.zone@virgin.net> wrote:--- In antlr-interest@yahoogroups.com, sudip mitra 
wrote:
> 
> what do you think antlr works on honey ???? on characters ...a bit 
more on character helps surely :-) ... 
> 
> 
> THERE IS A COMMON THING BETWEEN A SUPERMAN (SAY A PHD ) AND A 
HUMAN(NOT A PHD)... BOTH THINK THE OTHER IS A SUCKER :-)...
> 
> 
> ---------------------------------
> Do you Yahoo!?
> Yahoo! Mail Plus - Powerful. Affordable. Sign up now

FYI:

http://www.albion.com/netiquette/

http://www.learnthenet.com/english/html/09netiqt.htm




Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 




---------------------------------
Do you Yahoo!?
Yahoo! Mail Plus - Powerful. Affordable. Sign up now
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030204/c25ffab2/attachment.html
From klaren at cs.utwente.nl  Tue Feb  4 08:31:35 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Is there an ANTLR trick/hack to specify "NEWLINE or EOF" in Lexer
In-Reply-To: <b1o8ae+10v48@eGroups.com>; from open.zone@virgin.net on Tue, Feb 04, 2003 at 11:31:26AM -0000
References: <b1o8ae+10v48@eGroups.com>
Message-ID: <20030204173135.B18764@cs.utwente.nl>

Hi,

On Tue, Feb 04, 2003 at 11:31:26AM -0000, micheal_jor <open.zone@virgin.net> wrote:
> In an extension of the "single line comment can be followed by 
> NEWLINE or end-of-file" scenario, I need to return a NEWLINE token 
> when either an actual end-of-line or the end-of-file condition is 
> encountered.
> 
> [How] can this be specified in ANTLR?. 
> 
> 1. Subclassing uponEOF() to somehow persuade nextToken() to fudge and 
> return one final NEWLINE token seems to be the "wrong" approach. Will 
> it work?

You might get something going with an extra tokenstreamfilter to do your
extra token fudging... Another option might be subclassing the lexer and
overriding uponEOF and nextToken (the latter only proxy original nextToken
untill the special case arrives)

Notice that uponEOF might be called more than once, not 100% sure if this
is related to me having tracing enabled by default, it might also be a
result of guessing mode.

The trouble with this will probably be to make it play nice when the parser
is in guessing mode.

> 2. Perhaps ANTLR should support a "virtual EOF char" that can be 
> matched like any other char in Lexer rules in addition to the current 
> [upon]EOF end-of-file condition mechanism?

I'd go for that one anytime, uponEOF is very awkward in use. It also allows
to make nicer errormessages for unexpected EOF's, uponEOF is (at least in my
attempts to make use of it) useless.

> 3. Leaving the decision to a Parser generated errors at end-of-
> file "expecting "NEWLINE", found ''":
> 
> (a) Matching against the EOF "token"
> newlineOrEOF
> :   NEWLINE
> |!  EOF
> ;
> 
> (b) Checking if LA(1) against EOF_TYPE
> newlineOrEOF
> { bool atEndOfFile = true; }
> :   ( NEWLINE { atEndOfFile = false; } )?
>     { if ( atEndOfFile && (LA(1) != Token.EOF_TYPE) )
>          throw new RecognitionException(...);
>     }
> ;

Dunno about these conceptually I'd be more inclined to try and stuff it in
the lexer. It also depends on the grammar what might be easiest to
accomplish.

> Related Question:
> -----------------
> Is there a standard inbuilt mechanism for stuffing arbitary Token 
> into the Lexer's output TokenStream?

TokenStream filters would be closest to that. I think you might be able to
find something in the archives related to stuffing extra tokens into the
stream, I recall seeing stuff in the past.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 "Don't call me stupid." "Oh, right. To call you stupid would be an insult
    to stupid people. I've known sheep that could outwit you! I've worn
              dresses with higher IQs!" --- A Fish Called Wanda


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Tue Feb  4 09:39:46 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Is there an ANTLR trick/hack to specify "NEWLINE or EOF" in Lexer
In-Reply-To: <b1o8ae+10v48@eGroups.com>
Message-ID: <A6F54814-3867-11D7-A114-000393BB647E@jguru.com>

Hi Michael,

What if you just made NEWLINE normal and then subclass your lexer and 
override nextToken so that you detect the EOF_TYPE coming in the token 
and replace it with a NEWLINE token?

Ter

On Tuesday, February 4, 2003, at 03:31 AM, micheal_jor 
<open.zone@virgin.net> wrote:

> In an extension of the "single line comment can be followed by
> NEWLINE or end-of-file" scenario, I need to return a NEWLINE token
> when either an actual end-of-line or the end-of-file condition is
> encountered.
>
> [How] can this be specified in ANTLR?.
>
> 1. Subclassing uponEOF() to somehow persuade nextToken() to fudge and
> return one final NEWLINE token seems to be the "wrong" approach. Will
> it work?
>
> 2. Perhaps ANTLR should support a "virtual EOF char" that can be
> matched like any other char in Lexer rules in addition to the current
> [upon]EOF end-of-file condition mechanism?
>
> 3. Leaving the decision to a Parser generated errors at end-of-
> file "expecting "NEWLINE", found ''":
>
> (a) Matching against the EOF "token"
> newlineOrEOF
> :   NEWLINE
> |!  EOF
> ;
>
> (b) Checking if LA(1) against EOF_TYPE
> newlineOrEOF
> { bool atEndOfFile = true; }
> :   ( NEWLINE { atEndOfFile = false; } )?
>     { if ( atEndOfFile && (LA(1) != Token.EOF_TYPE) )
>          throw new RecognitionException(...);
>     }
> ;
>
> As a side-effect, I have pages full of non-determinism errors with
> method (b)  ;-)
>
>
> Related Question:
> -----------------
> Is there a standard inbuilt mechanism for stuffing arbitary Token
> into the Lexer's output TokenStream?
>
> Cheers!,
>
> Micheal
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Tue Feb  4 14:33:08 2003
From: cintyram at yahoo.com (cintyram <cintyram@yahoo.com>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] continuation character
In-Reply-To: <A6F54814-3867-11D7-A114-000393BB647E@jguru.com>
Message-ID: <b1pf34+tn32@eGroups.com>

hi,
 i remember having seen a mail or faq entry on this , but could not
find it again:( ;
how to handle a continuation character like \ENTER or 'ENTER?
also do the line numbers reflext the actual numbers? or is the
continued part considered as belonging to the previous line?
cheers
ram



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ngormley at hotmail.com  Tue Feb  4 15:00:32 2003
From: ngormley at hotmail.com (ngormley1974 <ngormley@hotmail.com>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Re: Tracking absolute Lexer Position
In-Reply-To: <Pine.SOL.4.44.0302031645330.5864-101000@freno.cs.tu-berlin.de>
Message-ID: <b1pgmg+d88l@eGroups.com>

Tom,

Thanks, now I get the idea... Now I see how to know when the Lexer is 
guessing....

Thanks,
Niall

--- In antlr-interest@yahoogroups.com, Thomas Dudziak <tomdz@c...> 
wrote:
> Niall, I've attached a modified version of the ExprAST sample in 
the hope
> that it will solve your problem ;-)
> 
> Tom


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Tue Feb  4 16:29:51 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Re: Is there an ANTLR trick/hack to specify "NEWLINE or EOF" in Lexer
In-Reply-To: <20030204173135.B18764@cs.utwente.nl>
Message-ID: <b1pltv+lk4c@eGroups.com>


> > 1. Subclassing uponEOF() to somehow persuade nextToken() to fudge 
and 
> > return one final NEWLINE token seems to be the "wrong" approach. 
Will 
> > it work?
> 
> You might get something going with an extra tokenstreamfilter to do 
your
> extra token fudging... Another option might be subclassing the 
lexer and
> overriding uponEOF and nextToken (the latter only proxy original 
nextToken
> untill the special case arrives)

Thanks. I was thinking along those lines but I guess it just felt 
wrong somehow.

> Notice that uponEOF might be called more than once, not 100% sure 
if this
> is related to me having tracing enabled by default, it might also 
be a
> result of guessing mode.

I wasn't expecting that...

> The trouble with this will probably be to make it play nice when 
the parser
> is in guessing mode.

...all this is herding me in the "sort it all out in a hand-crafted 
TokenStreamFilter" direction.

> > 2. Perhaps ANTLR should support a "virtual EOF char" that can be 
> > matched like any other char in Lexer rules in addition to the 
current 
> > [upon]EOF end-of-file condition mechanism?
> 
> I'd go for that one anytime, uponEOF is very awkward in use. It 
also allows
> to make nicer errormessages for unexpected EOF's, uponEOF is (at 
least in my
> attempts to make use of it) useless.

Well then, I'll consider it added to the cookie jar for ANTLR v3 ;-)

> > Related Question:
> > -----------------
> > Is there a standard inbuilt mechanism for stuffing arbitary Token 
> > into the Lexer's output TokenStream?
> 
> TokenStream filters would be closest to that. I think you might be 
able to
> find something in the archives related to stuffing extra tokens 
into the
> stream, I recall seeing stuff in the past.

Cool. Thanks, I might think about on-demand code-gen for this. Sort 
of like:
$insertToken(new CustomToken(...))/$appendToken(...)

The codegen would then generate code that uses a Vector/ArrayList in 
nextToken() as appropriate. 

Oh forget it...it's trivial to write. I'll just check that it's 
covered in the FAQ  ;-)

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Tue Feb  4 16:39:06 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Re: Is there an ANTLR trick/hack to specify "NEWLINE or EOF" in Lexer
In-Reply-To: <A6F54814-3867-11D7-A114-000393BB647E@jguru.com>
Message-ID: <b1pmfa+47om@eGroups.com>

--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@j...> 
wrote:
> Hi Michael,
> 
> What if you just made NEWLINE normal and then subclass your lexer 
and 
> override nextToken so that you detect the EOF_TYPE coming in the 
token 
> and replace it with a NEWLINE token?

I did considered this option. At the time I felt it was equivalent to 
simply appending a NEWLINE to all input files automatically. I think 
I'll go with this now since Ric suggested something similar too. 
Thanks guys.

Incidentally, what's your opinion of point (2) below. You know, about 
ANTLR supporting a "virtual EOF char" that Lexers can match in rules.

NEWLINE
:  '\n'
|  '\r' ('\n')?
|  EOF                 // or $EOF or $eof
;

Cheers,

Micheal

> > 2. Perhaps ANTLR should support a "virtual EOF char" that can be
> > matched like any other char in Lexer rules in addition to the 
current
> > [upon]EOF end-of-file condition mechanism?



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cmain at pps.co.za  Tue Feb  4 23:46:53 2003
From: cmain at pps.co.za (craigmain001 <cmain@pps.co.za>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Progess with Embedded Language.
Message-ID: <b1qfhd+furu@eGroups.com>

Hi,

I have made some progress with my attempt to parse an embedded 
language. Unfortunately I cannot get the darn lexer to ignore the 
input outside of the delimiters. I need some help.

I need the lexer to merely reproduce all the input to stdout except 
for sections of the input between '[' and ']'. If these characters 
occur outside the delimiters, they must be escaped \[ and \].

All the text within the delimiters must be parsed like a separate 
language. I have looked at the SED sample, and at the JavaDoc sample, 
but I keep getting unknown characters for all the input text. I have 
not managed to get the lexer to do what I need.

Please help. I have tried myself quite extensively, and am sure there 
must be a simple solution to this.

Regards
Craig




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From craig at palantir.co.za  Wed Feb  5 03:41:29 2003
From: craig at palantir.co.za (craigmain001 <craig@palantir.co.za>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] multilexer
Message-ID: <b1qt99+85gv@eGroups.com>

Hi,

I am using antlr 2.7.2

I have created two lexers, one that merely copies the input to output 
using a filter, and another that reads language statements that are 
contained in delimited sections of the input.

It almost works. I have shown the output below. I have two questions.

Why does the parser recognise if before it recognises foreach?
Why does the selector->pop not work. Why does it stop parsing at that 
point? How do I get the lexer to continue reading????

Please help.
Regards
Craig.

The test input looks as follows.
==========================
this is a test
int i = 0;
procedure pop;
[foreach]
[if]
end
==========================
The output produces is as follows.
==========================
this is a test
int i = 0;
procedure pop;
{ifstatement encountered}
==========================

Here are the files.
xgen.g
==========================================================
header {
#include "antlr/TokenStreamSelector.hpp"
#include <iostream>
}

options
{ language="Cpp"; }

class XGenParser extends Parser;

statement : (forstatement | ifstatement);

             
ifstatement : IF
               { std::cout << "{ifstatement encountered}"; }
            ;
             
forstatement : FOREACH
               { std::cout << "{foreach encountered}"; }
             ;

class XGenLexer extends Lexer;
options {
     k=2;
}


tokens {
        FOREACH="foreach";
        IF="if";
}


{
private:
 ANTLR_USE_NAMESPACE(antlr)TokenStreamSelector* selector;
public:
 void setSelector(ANTLR_USE_NAMESPACE(antlr)TokenStreamSelector* 
selector_) {
  selector=selector_;
 }
}

CODE_END
 : "]" {selector->pop(); }
 ;


WS_ : (' '
 | '\t'
 | '\n'
 | '\r')
  { _ttype = ANTLR_USE_NAMESPACE(antlr)Token::SKIP; }
 ;

==========================================================
code.g
header {
#include "antlr/TokenStreamSelector.hpp"
#include <iostream>
}

options {
        language="Cpp";
}

class CodeLexer extends Lexer;
options {
     k=2;
     filter=IGNORE;
     charVocabulary='\u0000'..'\u007F'; // ASCII
}
{
private:
 ANTLR_USE_NAMESPACE(antlr)TokenStreamSelector* selector;
public:
 void setSelector(ANTLR_USE_NAMESPACE(antlr)TokenStreamSelector* 
selector_) {
  selector=selector_;
 }
}

CODE_BEGIN : "[" {selector->push("xgen"); }
           ;

protected
IGNORE
     :  ( "\r\n" /*| '\r' | '\n'*/ )
         {newline(); std::cout << std::endl;}
     | c:. {std::cout << c;}
     ;
header {
#include "antlr/TokenStreamSelector.hpp"
#include <iostream>
}

options {
        language="Cpp";
}

class CodeLexer extends Lexer;
options {
     k=2;
     filter=IGNORE;
     charVocabulary='\u0000'..'\u007F'; // ASCII
}
{
private:
 ANTLR_USE_NAMESPACE(antlr)TokenStreamSelector* selector;
public:
 void setSelector(ANTLR_USE_NAMESPACE(antlr)TokenStreamSelector* 
selector_) {
  selector=selector_;
 }
}

CODE_BEGIN : "[" {selector->push("xgen"); }
           ;

protected
IGNORE
     :  ( "\r\n" /*| '\r' | '\n'*/ )
         {newline(); std::cout << std::endl;}
     | c:. {std::cout << c;}
     ;

==========================================================



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From craig at palantir.co.za  Wed Feb  5 05:44:17 2003
From: craig at palantir.co.za (craigmain001 <craig@palantir.co.za>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] multilexer - almost, but no cigar.
Message-ID: <b1r4fh+70iv@eGroups.com>

Hi All,

I have got this basic embedded language thing working.
My question is why is foreach encountered twice - what am I missing.

Given the input
++++
this is a test
int i = 0;
[if]
procedure pop;

[foreach]



end
+++++
The output generated is
this is a test
int i = 0;
{foreach encountered}

procedure pop;

{foreach encountered}




end


The grammer declarations are as follows.
header {
#include "antlr/TokenStreamSelector.hpp"
#include <iostream>
}

options
{ language="Cpp"; }

class XGenParser extends Parser;

content : forstatement | ifstatement;

             
ifstatement : "if"
               { std::cout << "{ifstatement encountered}" << 
std::endl; }
            ;
             
forstatement : "foreach"
               { std::cout << "{foreach encountered}" << std::endl; }
             ;

class XGenLexer extends Lexer;
options {
     k=2;
     filter=true;
     importVocab = Common;
}


tokens {
        W_FOREACH="foreach";
        W_IF="if";
}


{
private:
	ANTLR_USE_NAMESPACE(antlr)TokenStreamSelector* selector;
public:
	void setSelector(ANTLR_USE_NAMESPACE(antlr)
TokenStreamSelector* selector_) {
		selector=selector_;
	}
}

CODE_END
	:	"]" {selector->pop(); }
	;


WS_	:	(' '
	|	'\t'
	|	'\n'
	|	'\r')
		{ _ttype = ANTLR_USE_NAMESPACE(antlr)Token::SKIP; }
	;


header {
#include "antlr/TokenStreamSelector.hpp"
#include <iostream>
#include "XGenParser.hpp"
}

options {
        language="Cpp";
}

class CodeParser extends Parser;
options {
        importVocab = Common;
}

content
	:	(xgen)+
	;

xgen
	:	CODE_BEGIN
		{
		XGenParser xgen(getInputState());
		xgen.content();
		}
		
	;


class CodeLexer extends Lexer;
options {
     k=2;
     filter=IGNORE;
     importVocab = Common;
     charVocabulary='\u0000'..'\u007F'; // ASCII
}
{
private:
	ANTLR_USE_NAMESPACE(antlr)TokenStreamSelector* selector;
public:
	void setSelector(ANTLR_USE_NAMESPACE(antlr)
TokenStreamSelector* selector_) {
		selector=selector_;
	}
}

CODE_BEGIN : "[" {selector->push("xgen"); }
           ;

protected
IGNORE
     :  ( "\r\n" | '\r' | '\n' )
         {newline(); std::cout << std::endl;}
     | c:. {std::cout << c;}
     ;



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Wed Feb  5 06:53:57 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Re: multilexer - almost, but no cigar.
In-Reply-To: <b1r4fh+70iv@eGroups.com>
Message-ID: <b1r8i5+jad4@eGroups.com>


> Hi All,
> 
> I have got this basic embedded language thing working.
> My question is why is foreach encountered twice - what am I missing.

1. You defined the strings "if" and "foreach" as tokens in XGenLexer. 
You then define them again as literals in XGenParser. That is 
SmellyANTLRCode IMO.

Try this instead in XGenParser:

ifstatement
: W_IF { std::cout << "{ifstatement encountered}" << std::endl; } 
;

forstatement 
: W_FOREACH { std::cout << "{foreach encountered}" << std::endl; }
;

2. Unless your entire grammar is all in a single file, you need to 
set exportVocab correctly on all four grammars. Pragmatic coders set 
them explicitly regardless.

Cheers!,

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Wed Feb  5 06:58:23 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Re: multilexer - almost, but no cigar. (One more thing...)
In-Reply-To: <b1r4fh+70iv@eGroups.com>
Message-ID: <b1r8qf+4p5d@eGroups.com>

What's in your CommonTokenTypes.txt file? 

[i.e. what tokens are defined in the "Common" vocabulary?]

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From edcjones at yahoo.com  Wed Feb  5 07:25:16 2003
From: edcjones at yahoo.com (edcjones <edcjones@yahoo.com>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Version question
Message-ID: <b1racs+dntu@eGroups.com>

I have installed antlr-2.7.2. on a Linux system. When I run "antlr", I
get a help message that starts with:

Antlr parser generator   Version 1.33MR32   1989-2001

This looks like a version of PCCTS. Is there a problem?



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Wed Feb  5 08:39:32 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Re: Version question
In-Reply-To: <b1racs+dntu@eGroups.com>
Message-ID: <b1reo4+6j9m@eGroups.com>


> I have installed antlr-2.7.2. on a Linux system. When I 
run "antlr", I
> get a help message that starts with:
> 
> Antlr parser generator   Version 1.33MR32   1989-2001
> 
> This looks like a version of PCCTS. Is there a problem?

Perhaps. It seems that you (or your sysadmin or the install process 
for your Linux system) has installed a copy of PCCTS on the box. And 
the PCCTS antlr tool is on your PATH.

Use the "which" command or similar to determine which copy of antlr 
is running. 

To run the copy of antlr you've installed yourelf, use it's full path 
(or "./antlr" if you are in the ANTLR top-level directory).

Cheers,

Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cormier at u-picardie.fr  Wed Feb  5 08:57:34 2003
From: cormier at u-picardie.fr (CC)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] xmlSerialize with 2.7.2 antlr.JAR
Message-ID: <5.2.0.9.0.20030205175454.00acbd10@mailx.u-picardie.fr>

Hi,
Main.java
...
	  Writer w = new OutputStreamWriter(System.out);
	  ast.xmlSerialize(w);
	  w.write("\n");
	  w.flush();
...

With antlr.jar, I have:
Sources\DefOntoAntlr\Main.java:48: cannot resolve symbol
symbol  : method xmlSerialize (java.io.Writer)
location: interface antlr.collections.AST
	  ast.xmlSerialize(w);
                ^
1 error
I certainly missed something!
Thanks a lot for help.




Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/




Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Feb  5 09:27:49 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Progess with Embedded Language.
In-Reply-To: <b1qfhd+furu@eGroups.com>
Message-ID: <25D9E784-392F-11D7-A114-000393BB647E@jguru.com>


On Tuesday, February 4, 2003, at 11:46 PM, craigmain001 
<cmain@pps.co.za> wrote:

> Hi,
>
> I have made some progress with my attempt to parse an embedded
> language. Unfortunately I cannot get the darn lexer to ignore the
> input outside of the delimiters. I need some help.
>
> I need the lexer to merely reproduce all the input to stdout except
> for sections of the input between '[' and ']'. If these characters
> occur outside the delimiters, they must be escaped \[ and \].
>
> All the text within the delimiters must be parsed like a separate
> language. I have looked at the SED sample, and at the JavaDoc sample,
> but I keep getting unknown characters for all the input text. I have
> not managed to get the lexer to do what I need.
>
> Please help. I have tried myself quite extensively, and am sure there
> must be a simple solution to this.

Hi Craig,

Sounds like you have the right approach and those examples should help 
as you say.  Hmm...perhaps the new semantic predicates allowed on left 
edge of lexer rules in 2.7.2 will do the trick.

For example, in my TML (Terence's Markup Language), [...] means table 
and | means next column.  However, | is nothing outside of [...].  I 
use rules like this:

protected
TABLE
     :   '['! {context.inTable=true; captureText(); 
translator.begin_table();}
     ;

protected
END_TABLE
     :   ']'! {context.inTable=false; captureText(); 
translator.end_table();}
     ;

COL_SEP
     :   {context.inTable}? '|'! {captureText(); translator.col();}
     ;

Does this help?

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Feb  5 09:30:37 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:19 2004
Subject: [antlr-interest] Re: Is there an ANTLR trick/hack to specify "NEWLINE or EOF" in Lexer
In-Reply-To: <b1pmfa+47om@eGroups.com>
Message-ID: <8A5407FA-392F-11D7-A114-000393BB647E@jguru.com>


On Tuesday, February 4, 2003, at 04:39 PM, micheal_jor 
<open.zone@virgin.net> wrote:

> --- In antlr-interest@yahoogroups.com, Terence Parr <parrt@j...>
> wrote:
>> Hi Michael,
>>
>> What if you just made NEWLINE normal and then subclass your lexer
> and
>> override nextToken so that you detect the EOF_TYPE coming in the
> token
>> and replace it with a NEWLINE token?
>
> I did considered this option. At the time I felt it was equivalent to
> simply appending a NEWLINE to all input files automatically. I think
> I'll go with this now since Ric suggested something similar too.
> Thanks guys.
>
> Incidentally, what's your opinion of point (2) below. You know, about
> ANTLR supporting a "virtual EOF char" that Lexers can match in rules.
>
> NEWLINE
> :  '\n'
> |  '\r' ('\n')?
> |  EOF                 // or $EOF or $eof
> ;

Hmm....yeah, I'm not sure.  What character would it be?  We already use 
(char)-1 in Java, which I think is wrong since 0xFFFF is a valid char 
in some script.  Any unicode geniuses out there?

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Feb  5 09:33:24 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] xmlSerialize with 2.7.2 antlr.JAR
In-Reply-To: <5.2.0.9.0.20030205175454.00acbd10@mailx.u-picardie.fr>
Message-ID: <EDB82B64-392F-11D7-A114-000393BB647E@jguru.com>

Hi,

The type of ast should be more than plain AST as AST interface does not 
include xmlSerialize.

Terence

On Wednesday, February 5, 2003, at 08:57 AM, CC wrote:

> Hi,
> Main.java
> ...
> 	  Writer w = new OutputStreamWriter(System.out);
> 	  ast.xmlSerialize(w);
> 	  w.write("\n");
> 	  w.flush();
> ...
>
> With antlr.jar, I have:
> Sources\DefOntoAntlr\Main.java:48: cannot resolve symbol
> symbol  : method xmlSerialize (java.io.Writer)
> location: interface antlr.collections.AST
> 	  ast.xmlSerialize(w);
>                 ^
> 1 error
> I certainly missed something!
> Thanks a lot for help.
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Wed Feb  5 10:10:45 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Re: Is there an ANTLR trick/hack to specify "NEWLINE or EOF" in Lexer
In-Reply-To: <8A5407FA-392F-11D7-A114-000393BB647E@jguru.com>
Message-ID: <b1rk35+ik82@eGroups.com>

> > Incidentally, what's your opinion of point (2) below. You know, 
about
> > ANTLR supporting a "virtual EOF char" that Lexers can match in 
rules.
> >
> > NEWLINE
> > :  '\n'
> > |  '\r' ('\n')?
> > |  EOF                 // or $EOF or $eof
> > ;
> 
> Hmm....yeah, I'm not sure.  What character would it be?  We already 
use 
> (char)-1 in Java, which I think is wrong since 0xFFFF is a valid 
char 
> in some script.  Any unicode geniuses out there?

It depends on the datatype used for storing the current, buffered and 
LA "characters" within CharScanner/InputBuffer/CharBuffer et al.

Currently it's an 'int'. int is 32-bits and char is 16-bits [at least 
for Java and C# it is ;-)]. So -1 isn't actually 0xFFFF. It is 
0xFFFFFFFF. 

This allows a few "virtual char" tricks with only a mild cost in 
space (bounded by the size of the buffer/lookahead not the whole 
input stream). Most 32-bit+ CPUs are equally efficient at 16- and 32-
bit operations.

When[1] we decide to support UTF-32, we could move our internal 
representation to 64-bits. The code will then run slower on 32-bit 
CPUs but we will all be running 
Hammers/Itaniums/ExtremelyUltraSupraSparcs by then. in any case, UTF-
32 isn't important for a few weeks yet...  ;-)

Cheers,

Micheal

[1]  32-bit unicode support. Is that a tad presumptious... ;-)



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From abreneliere at telys.com  Wed Feb  5 10:25:40 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] hard to resolve non-determinism
Message-ID: <001301c2cd43$fcd22a90$cb646464@lavaserver>

I?m am converting a working LR grammar to a LL grammar, but i still have
some non-determinism problems.

If have the following rules :

--------------------------------
// root of the rules set:

entSetAttList	// (supplier WHERE name="Telys"):client, service
	:	entSetAtt ( COMMA entSetAtt )*
;

entSetAtt
	:	( entity | attribute ) 
               //  <- i have a non-determinism on these rules
;

attribute	// ::supplier:client.address
	:	entity simpleAttribute 
	|	simpleAttribute 
;

entity // (supplier WHERE name="Telys"):client
	:	entityComponent (COLON entity)?  
               // <- i tried ?entityComponent (COLON entityComponent)*?
too  
;

entityComponent // (supplier WHERE name="Telys")
	:	LPAREN IDENTIFIER clause RPAREN
	|	IDENTIFIER 
;
------------------------------------

C:\CIAO_ANTLR\grammar\_iCIAO.g:34:17: warning:nondeterminism bet
ween alts 1 and 2 of block upon
C:\CIAO_ANTLR\grammar\_iCIAO.g:34:17:     k==1:LPAREN,IDENTIFIER
C:\CIAO_ANTLR\grammar\_iCIAO.g:34:17:     k==2:COLON,IDENTIFIER
C:\CIAO_ANTLR\grammar\_iCIAO.g:34:17:     k==3:LPAREN,IDENTIFIER
,"WHERE"

And the program cannot decide between entity & attribute in the rule
entSetAtt,

Anyone could help me ?

Do you know if a non-determinism must be absolutly resolved ?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From abreneliere at telys.com  Wed Feb  5 10:31:05 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] hard to resolve non-determinism (the entire file)
In-Reply-To: <001301c2cd43$fcd22a90$cb646464@lavaserver>
Message-ID: <001a01c2cd44$be4eca20$cb646464@lavaserver>

options {
	language="Cpp";
}

class CIAOParser extends Parser;

options {
	k = 3;
	buildAST = true;
	exportVocab = CIAO;
}

// Root the the CIAO grammar

ciaoDocument
	{ antlr::DEBUG_PARSER = 1; }
	:	(statements)+
;

statements
	:	"CONSTRAINT" statement "ENDCONSTRAINT"
;

statement
	:	"USE" use 
;

// V - Declaration of uses
use
	:	entSetAttList	// use of 'entSetAttList'
;

entSetAtt
	:	( entity | (simpleAttribute)=> entity simpleAttribute |
simpleAttribute )
;

entSetAttList	// (supplier WHERE name="Telys"):client, service
	:	entSetAtt
	( COMMA entSetAtt )*
;

entity // (supplier WHERE name="Telys"):client
	:	entityComponent (COLON entity)?
;

entityComponent // (supplier WHERE name="Telys")
	:	LPAREN IDENTIFIER clause RPAREN
	|	IDENTIFIER 
;

clause
	:	"WHERE" // conditionalExpression
;
/*
attribute	// ::supplier:client.address
	:	entity simpleAttribute 
	|	simpleAttribute 
;*/

simpleAttribute	// .name
	:	DOT IDENTIFIER 
;

//----------------------------------------------------------------------
------
// The CIAO scanner
//----------------------------------------------------------------------
------
{
#include <string>
}
class CIAOLexer extends Lexer;

options {
	// testLiterals=false;
	exportVocab = CIAO;
	k=4;
	// charVocabulary='\u0003'..'\u00FF';
	charVocabulary='\3'..'\377';
	
	// without inlining some bitset tests, couldn't do unicode;
	// I need to make ANTLR generate smaller bitsets; see
	// bottom of JavaLexer.java
	// codeGenBitsetTestThreshold=20;
}

// Operators
//
QUESTION		:	'?'		;
LPAREN			:	'('		;
RPAREN			:	')'		;
LBRACK			:	'['		;
RBRACK			:	']'		;
LCURLY			:	'{'		;
RCURLY			:	'}'		;
COLON			:	':'		;
DB_COLON		:	"::"	;
COMMA			:	','		;
DOT				:	'.'		;
ASSIGN			:	":="	;
EQUAL			:	"="		;
LNOT			:	'!'		;
BNOT			:	'~'		;
NOT_EQUAL		:	"!="	;
DIV				:	'/'		;
DIV_ASSIGN		:	"/="	;
PLUS			:	'+'		;
PLUS_ASSIGN		:	"+="	;
INC				:	"++"	;
MINUS			:	'-'		;
MINUS_ASSIGN	:	"-="	;
DEC				:	"--"	;
STAR			:	'*'		;
STAR_ASSIGN		:	"*="	;
MOD				:	'%'		;
MOD_ASSIGN		:	"%="	;
SR				:	">>"	;
SR_ASSIGN		:	">>="	;
BSR				:	">>>"	;
BSR_ASSIGN		:	">>>="	;
GE				:	">="	;
GT				:	">"		;
SL				:	"<<"	;
SL_ASSIGN		:	"<<="	;
LE				:	"<="	;
LT_				:	'<'		;
BXOR			:	'^'		;
BXOR_ASSIGN		:	"^="	;
BOR				:	'|'		;
BOR_ASSIGN		:	"|="	;
LOR				:	"||"	;
BAND			:	'&'		;
BAND_ASSIGN		:	"&="	;
LAND			:	"&&"	;
SEMI			:	';'		;
LIN				:	"==>"	;
RIN				:	"<=="	;
REQU			:	"<==>"	;

// Whitespace and new lines characters are ignored
WS
	:	( ' ' | '\t' | '\f' | 
		( options { generateAmbigWarnings=false; } :
			"\r\n" | '\r' | '\n' )	{ newline(); } )+
	{ $setType(ANTLR_USE_NAMESPACE(antlr)Token::SKIP); }
;

IDENTIFIER
	// options { testLiterals=true; }
	: ('a'..'z'|'A'..'Z'|'_') ('a'..'z'|'A'..'Z'|'_'|'0'..'9')*
;

STRING
	:	'"' (~'"')* '"'
	|	'\'' (~'\'')* '\''
;
	
INTEGER
	:	('0'..'9')+
;


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Feb  5 11:56:31 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] MPG videos of my USF lectures?
Message-ID: <EC2E97B8-3943-11D7-A114-000393BB647E@jguru.com>

Howdy,

Should I make an effort to video my language class videos?  I could 
probably post them unedited somewhere...might be able to get someone 
with a fast box to chop them up into logical sections...

Terence
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gudnabrsam at yahoo.com  Wed Feb  5 12:18:56 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] MPG videos of my USF lectures?
In-Reply-To: <EC2E97B8-3943-11D7-A114-000393BB647E@jguru.com>
Message-ID: <20030205201856.97888.qmail@web20421.mail.yahoo.com>

Might be cool.  Do you have a charismatic speaking
presence?  :)  I have worked through the first lecture
and am about to start the next.  I will admit to
having cheated at times by looking at Antlr output. 
Pardon the ignorance, but does anyone know a good
means of quickly archiving the whole html-accessible
directory structure (assuming Ter does not object)?  I
want to make sure I don't miss anything and/or have
the opportunity to revisit this stuff later when my
memory needs refreshing.

Once again a huge heartfelt thanks to you, Terence,
for making these lessons available.  Also, pardon the
question, but does (would) USF have any issues with
any of this?

-Matt

--- Terence Parr <parrt@jguru.com> wrote:
> Howdy,
> 
> Should I make an effort to video my language class
> videos?  I could 
> probably post them unedited somewhere...might be
> able to get someone 
> with a fast box to chop them up into logical
> sections...
> 
> Terence
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator:
> http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Mail Plus - Powerful. Affordable. Sign up now.
http://mailplus.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Feb  5 12:54:59 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] MPG videos of my USF lectures?
In-Reply-To: <20030205201856.97888.qmail@web20421.mail.yahoo.com>
Message-ID: <16E806AB-394C-11D7-A114-000393BB647E@jguru.com>


On Wednesday, February 5, 2003, at 12:18 PM, Matt Benson wrote:

> Might be cool.  Do you have a charismatic speaking
> presence?  :)

I can give a pretty good dog-n-pony show :)

> I have worked through the first lecture
> and am about to start the next.  I will admit to
> having cheated at times by looking at Antlr output.

good; always nice to have a concrete example.

BTW, the theory lecture up there is pretty dry, but better with the 
lecture...haven't finished it either yet.

> Pardon the ignorance, but does anyone know a good
> means of quickly archiving the whole html-accessible
> directory structure (assuming Ter does not object)?  I
> want to make sure I don't miss anything and/or have
> the opportunity to revisit this stuff later when my
> memory needs refreshing.

wget on unix should do it.

>
> Once again a huge heartfelt thanks to you, Terence,
> for making these lessons available.  Also, pardon the
> question, but does (would) USF have any issues with
> any of this?

I think all is cool...for-education and all that rot.  My content 
anyway ;)

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From bob at werken.com  Wed Feb  5 13:32:19 2003
From: bob at werken.com (bob mcwhirter)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Re: Version question
In-Reply-To: <b1reo4+6j9m@eGroups.com>
Message-ID: <Pine.LNX.3.96.1030205163138.25561K-100000@exeter.exeter.org>


Redhat 8.0, at elast, has pccts installed and runnable as 'antlr'
in the default path.  Either remove it, or add the path to the
antlr 2.7.2 to your the head of your PATH.

	-bob



On Wed, 5 Feb 2003, micheal_jor <open.zone@virgin.net> wrote:

> 
> > I have installed antlr-2.7.2. on a Linux system. When I 
> run "antlr", I
> > get a help message that starts with:
> > 
> > Antlr parser generator   Version 1.33MR32   1989-2001
> > 
> > This looks like a version of PCCTS. Is there a problem?
> 
> Perhaps. It seems that you (or your sysadmin or the install process 
> for your Linux system) has installed a copy of PCCTS on the box. And 
> the PCCTS antlr tool is on your PATH.
> 
> Use the "which" command or similar to determine which copy of antlr 
> is running. 
> 
> To run the copy of antlr you've installed yourelf, use it's full path 
> (or "./antlr" if you are in the ANTLR top-level directory).
> 
> Cheers,
> 
> Micheal
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 

--
Bob McWhirter        bob@werken.com
The Werken Company   http://werken.com/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Wed Feb  5 13:40:21 2003
From: cintyram at yahoo.com (cintyram <cintyram@yahoo.com>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Re: MPG videos of my USF lectures?
In-Reply-To: <EC2E97B8-3943-11D7-A114-000393BB647E@jguru.com>
Message-ID: <b1s0c5+4gha@eGroups.com>

That would be great!!
 yeah and dont worry abt editing etc. yoc cna happily avoid headache
;im sure there will be some one out there who will volunteer to edit
it or do  furthur processing ;
i have seen some video lectures on stanford's site, some times the
audio was not very good, please make sure your lectures' audio is also
captured  completely ;

all the best
ram
--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@j...> wrote:
> Howdy,
> 
> Should I make an effort to video my language class videos?  I could 
> probably post them unedited somewhere...might be able to get someone 
> with a fast box to chop them up into logical sections...
> 
> Terence
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From brian-l-smith at uiowa.edu  Wed Feb  5 13:48:33 2003
From: brian-l-smith at uiowa.edu (Brian Smith)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Re: Is there an ANTLR trick/hack to specify
 "NEWLINE or EOF" in Lexer
In-Reply-To: <8A5407FA-392F-11D7-A114-000393BB647E@jguru.com>
References: <8A5407FA-392F-11D7-A114-000393BB647E@jguru.com>
Message-ID: <3E4186B1.1010908@uiowa.edu>

Terence Parr wrote:
> On Tuesday, February 4, 2003, at 04:39 PM, micheal_jor 
> <open.zone@virgin.net> wrote:

> Hmm....yeah, I'm not sure.  What character would it be?  We already use 
> (char)-1 in Java, which I think is wrong since 0xFFFF is a valid char 
> in some script.  Any unicode geniuses out there?

0xFFFF is not an assigned Unicode codepoint. It seems that the intent of 
the Unicode concortium is to have this always be the case, so that the 
two's complement representation of -1 (e.g. 16-bit 0xFFFF, 32-bit 
0xFFFFFFFF, 64-bit 0xFFFFFFFFFFFFFFFF, etc.) never represents a character.

Actually, I believe the two-byte sequence 0xFF 0xFF is not valid UTF-8, 
UCS-2, UTF-16, UTF-32, or UCS-4, but I am not 100% sure about the 32-bit 
representations.

http://oss.software.ibm.com/cgi-bin/icu/ub/utf-8/?scr=86&b=0

- Brian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Feb  5 14:05:47 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Re: Is there an ANTLR trick/hack to specify "NEWLINE or EOF" in Lexer
In-Reply-To: <3E4186B1.1010908@uiowa.edu>
Message-ID: <FAF47FEC-3955-11D7-A114-000393BB647E@jguru.com>

Cool.  Ok, so let's say EOF can be a real char.  What does this mean?

NONSENSE : (EOF)+ ;

Ter

On Wednesday, February 5, 2003, at 01:48 PM, Brian Smith wrote:

> Terence Parr wrote:
>> On Tuesday, February 4, 2003, at 04:39 PM, micheal_jor
>> <open.zone@virgin.net> wrote:
>
>> Hmm....yeah, I'm not sure.  What character would it be?  We already 
>> use
>> (char)-1 in Java, which I think is wrong since 0xFFFF is a valid char
>> in some script.  Any unicode geniuses out there?
>
> 0xFFFF is not an assigned Unicode codepoint. It seems that the intent 
> of
> the Unicode concortium is to have this always be the case, so that the
> two's complement representation of -1 (e.g. 16-bit 0xFFFF, 32-bit
> 0xFFFFFFFF, 64-bit 0xFFFFFFFFFFFFFFFF, etc.) never represents a 
> character.
>
> Actually, I believe the two-byte sequence 0xFF 0xFF is not valid UTF-8,
> UCS-2, UTF-16, UTF-32, or UCS-4, but I am not 100% sure about the 
> 32-bit
> representations.
>
> http://oss.software.ibm.com/cgi-bin/icu/ub/utf-8/?scr=86&b=0
>
> - Brian
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From rmsanjivp at yahoo.com  Wed Feb  5 14:25:08 2003
From: rmsanjivp at yahoo.com (rmsanjivp <rmsanjivp@yahoo.com>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Can we change the input to the same lexer?
Message-ID: <b1s304+cv89@eGroups.com>

Hi!

I have this understanding that once I have instantiated a lexer using

MyLexer lexer(std::cin);

then there is no way for me to specify the lexer to read from 
different input stream.

Is there a way to change the input to lexer while I am parsing?

Thanks,
Sanjiv


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dvleonid at land.ru  Wed Feb  5 14:54:22 2003
From: dvleonid at land.ru (Dvoryansky Leonid)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] MPG videos of my USF lectures?
References: <EC2E97B8-3943-11D7-A114-000393BB647E@jguru.com>
Message-ID: <001501c2cd69$86efd540$0500a8c0@ZSHIP>

> Should I make an effort to video my language class videos?  I could 
> probably post them unedited somewhere...might be able to get someone 
> with a fast box to chop them up into logical sections...
> 
> Terence

Is it possible to get some?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Feb  5 14:57:29 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] MPG videos of my USF lectures?
In-Reply-To: <001501c2cd69$86efd540$0500a8c0@ZSHIP>
Message-ID: <34035DEC-395D-11D7-A114-000393BB647E@jguru.com>


On Wednesday, February 5, 2003, at 02:54 PM, Dvoryansky Leonid wrote:

>> Should I make an effort to video my language class videos?  I could
>> probably post them unedited somewhere...might be able to get someone
>> with a fast box to chop them up into logical sections...
>>
>> Terence
>
> Is it possible to get some?

I think that getting video will be a hassle.  I follow precisely along 
with my lecture notes in class and usually say "on page 4" (I'll do 
everything in PDF to ensure same page) so audio should be enough.

I have a nice sony minidisc recorder, which I can (d/a then a/d) get 
into my mac (stupid thing has a one-way USB from mac to minidisc).

Ter
  --
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From hushlee83 at yahoo.com.sg  Wed Feb  5 15:01:08 2003
From: hushlee83 at yahoo.com.sg (=?iso-8859-1?q?Sharon=20Li?=)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Problem with new lines
Message-ID: <20030205230108.24585.qmail@web40906.mail.yahoo.com>


Hello,

can anyone help me with this? 

1) My lexer can't seem to recognize newlines. Thanks.

/**************************** Lexer class ***************************************/

class ViewLexer extends Lexer;

options { 
    charVocabulary='\3'..'\377'; 
    filter=true;
    k = 4;
    defaultErrorHandler=false;
}

//protected SYMBOL : (SIGN|'%'|'/'|'.'|','|'*');
protected LETTER : ( 'a'..'z' | 'A'..'Z' ) ; 
protected DIGIT  : ( '0'..'9' ) ; 
protected SIGN   : ('-'|'+');

COLON : ':';
DOT     : '.';
COMMA : ',';

NUMERIC : (SIGN)? (DIGIT)+ ((DOT) (d:DIGIT)*)*
                ;

WORD : (LETTER) (LETTER|DIGIT)*
         ;
            
SL_COMMENT
        :       "//"
                (~('\n'|'\r'))* ('\n'|'\r'('\n')?)?
                {$setType(Token.SKIP); newline();}
        ;

//COMMENT : "/*" (options {greedy=false;} :.)* "*/" ;

NEWLINE : ('\r''\n')=> '\r''\n' 
        | '\r'{newline();}
        | '\n'{newline();}                  
        {
     newline(); 
     $setType(Token.SKIP);
    } 
        ;

WS      : (' '|'\t') { $setType(Token.SKIP); } ;

/**************************************** End of lexer *************************************/

2)  How can I check for comments. How do I write a parser rule that allows comments ?

Thanks a lot!!

 Yahoo! Travel
- Valentine surprise deals. Book now!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030206/52b60e16/attachment.html
From abreneliere at telys.com  Wed Feb  5 15:14:23 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] RE :  Problem with new lines
Message-ID: <001d01c2cd6c$58e7e630$cb646464@lavaserver>


Try by adding a ?+? behind?:

NEWLINE
	: ("\r\n" | '\r' | '\n')+
	{ newline(); $setType(Token.SKIP); }
;

WS
	: (' '|'\t')+
	{ $setType(Token.SKIP); }
;


-----Message d'origine-----
De?: Sharon Li [mailto:hushlee83@yahoo.com.sg] 
Envoy??: jeudi 6 f?vrier 2003 00:01
??: Antlr Interest Group
Objet?: [antlr-interest] Problem with new lines

Hello,
can anyone help me with this? 
1) My lexer can't seem to recognize newlines. Thanks.
/**************************** Lexer class
***************************************/
class ViewLexer extends Lexer;
options { 
??? charVocabulary='\3'..'\377'; 
??? filter=true;
??? k = 4;
??? defaultErrorHandler=false;
}
//protected SYMBOL : (SIGN|'%'|'/'|'.'|','|'*');
protected LETTER : ( 'a'..'z' | 'A'..'Z' ) ; 
protected DIGIT? : ( '0'..'9' ) ; 
protected SIGN?? : ('-'|'+');
COLON : ':';
DOT???? : '.';
COMMA : ',';
NUMERIC : (SIGN)? (DIGIT)+ ((DOT) (d:DIGIT)*)*
??????????????? ;
WORD : (LETTER) (LETTER|DIGIT)*
???????? ;
??????????? 
SL_COMMENT
??????? :?????? "//"
??????????????? (~('\n'|'\r'))* ('\n'|'\r'('\n')?)?
??????????????? {$setType(Token.SKIP); newline();}
??????? ;
//COMMENT : "/*" (options {greedy=false;} :.)* "*/" ;
NEWLINE : ('\r''\n')=> '\r''\n' 
??????? | '\r'{newline();}
??????? | '\n'{newline();}????????????????? 
??????? {
?????newline(); 
?????$setType(Token.SKIP);
????} 
??????? ;
WS????? : (' '|'\t') { $setType(Token.SKIP); } ;
/**************************************** End of lexer
*************************************/
2) ?How can I check for comments. How do?I write a parser rule that
allows comments ?
Thanks a lot!!
Yahoo! Travel
- Valentine surprise deals. Book now! 
Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From hushlee83 at yahoo.com.sg  Wed Feb  5 15:31:15 2003
From: hushlee83 at yahoo.com.sg (=?iso-8859-1?q?Sharon=20Li?=)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] RE :  Problem with new lines
In-Reply-To: <001d01c2cd6c$58e7e630$cb646464@lavaserver>
Message-ID: <20030205233115.13540.qmail@web40908.mail.yahoo.com>


hmm..seems like it still doesn't work, but thanks anyway.
angle factor: 10   //--> exception after first line
initial color: 1 5
color increment: 1 10
initial line width: 5 pixels
// another comment
line width increment: 0
..............
An exception occurs straight after the first line. I can't figure where the problem lies. The previous codes works well with this but it doesn't work once I insert a newline after "angle factor:10":

/************ input file with new line inserted *******************/

angle factor: 10


initial color: 1 5
color increment: 1 10
initial line width: 5 pixels
// another comment
line width increment: 0
...............

 Anthony_Breneli?re <abreneliere@telys.com> wrote:
Try by adding a ?+? behind :

NEWLINE
: ("\r\n" | '\r' | '\n')+
{ newline(); $setType(Token.SKIP); }
;

WS
: (' '|'\t')+
{ $setType(Token.SKIP); }
;


-----Message d'origine-----
De : Sharon Li [mailto:hushlee83@yahoo.com.sg] 
Envoy? : jeudi 6 f?vrier 2003 00:01
? : Antlr Interest Group
Objet : [antlr-interest] Problem with new lines

Hello,
can anyone help me with this? 
1) My lexer can't seem to recognize newlines. Thanks.
/**************************** Lexer class
***************************************/
class ViewLexer extends Lexer;
options { 
    charVocabulary='\3'..'\377'; 
    filter=true;
    k = 4;
    defaultErrorHandler=false;
}
//protected SYMBOL : (SIGN|'%'|'/'|'.'|','|'*');
protected LETTER : ( 'a'..'z' | 'A'..'Z' ) ; 
protected DIGIT  : ( '0'..'9' ) ; 
protected SIGN   : ('-'|'+');
COLON : ':';
DOT     : '.';
COMMA : ',';
NUMERIC : (SIGN)? (DIGIT)+ ((DOT) (d:DIGIT)*)*
                ;
WORD : (LETTER) (LETTER|DIGIT)*
         ;
            
SL_COMMENT
        :       "//"
                (~('\n'|'\r'))* ('\n'|'\r'('\n')?)?
                {$setType(Token.SKIP); newline();}
        ;
//COMMENT : "/*" (options {greedy=false;} :.)* "*/" ;
NEWLINE : ('\r''\n')=> '\r''\n' 
        | '\r'{newline();}
        | '\n'{newline();}                  
        {
     newline(); 
     $setType(Token.SKIP);
    } 
        ;
WS      : (' '|'\t') { $setType(Token.SKIP); } ;
/**************************************** End of lexer
*************************************/
2)  How can I check for comments. How do I write a parser rule that
allows comments ?
Thanks a lot!!
Yahoo! Travel
- Valentine surprise deals. Book now! 
Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 




Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 Yahoo! Travel
- Valentine surprise deals. Book now!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030206/9b4cde8a/attachment.html
From open.zone at virgin.net  Wed Feb  5 15:41:59 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Re: Is there an ANTLR trick/hack to specify "NEWLINE or EOF" in Lexer
In-Reply-To: <FAF47FEC-3955-11D7-A114-000393BB647E@jguru.com>
Message-ID: <b1s7g7+2f94@eGroups.com>


> Cool.  Ok, so let's say EOF can be a real char.  What does this 
mean?
> 
> NONSENSE : (EOF)+ ;
> 
> Ter

That we'll be needing new error messages?. And diplomatic[1] skills 
to boot?

Micheal

[1] Unless "Thou qualling hedge-born coxcomb!" qualifies as a good 
error message. If so...http://www.pangloss.com/seidel/Shaker/?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From yhhf_dy at yahoo.com  Wed Feb  5 15:42:35 2003
From: yhhf_dy at yahoo.com (Fan Yang <yhhf_dy@yahoo.com>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Why I can't use getHiddenAfter() function to get Blank,Comments of BuildinType
Message-ID: <b1s7hb+8ode@eGroups.com>

Hi guys,

I'm working on analyzing java source code and doing some sort of java 
code translation by using antlr java parser. I'm using antlr 2.7.1 
and Java 1.3 Recognizer.

First problem:
The problem is how to regenerate source code from AST which antlr 
java parser generated. I only know one solution which is to use 
TokenStreamHiddenTokenFilter to preserve whitespace and comments, 
then walk AST to regenerate sourcecode. Is there another(better) way 
to do that?

Second Problem:
Based on antlr document - Token Streams and preserveWhiteSpace 
example, I have modified java.g and java.tree.g files in order to use 
TokenStreamHiddenTokenFilter. 
every thing works well except some rule involved with BuildinType. I 
use following example to test. Most statements work well such as 
package, import, class and method definition... I do get comment and 
whitespace. but I couldn't get hidden token for variable definition 
statements(in the example I marked them with --- dosen't work). for 
instance:
  int   b; //comment
I got such result
  intb; //comment
for buildintype in the VARIABLE_DEF rule such int, shor, float and 
boolean ..., I couldn't get hidden tokens. 

strange thing is that it works for method definition which include 
variable difinition in the parameter list. For example:
  int  foo(int i, int j)   
for this line I can get blanks both for return type and parameter 
type. 

So in one work, preserving blank and comment dosen't work only for 
buildin type in the VARIABLE_DEF rule. 

I have tried several time, even tried on antlr2.7.2, but I can't find 
solution.

I don't know I have explained the problem clearly or not. If you 
need, I can't send you my test case, java.g and java.tree.g.

thanks a lot.


Test Case:
package org.antlr.tools; // 	comment packege
// comment before import
import java.swing.*; // comment import

public class Test { //class Test
 int   b; //comment            --- dosen't work

 int  foo(int i, int j) {
   int z = 1;                 --- dosen't work
   float f = 0.001;           --- dosen't work
   i = z + 1;			
   String s = (String) "ff";  --- dosen't work
 }
	
 public static void main(String[] args) {
   String[] a = new String[10];	--- dosen't work
   Test obj = new Test();			
   obj.foo(1,2);
 }
}



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From edcjones at yahoo.com  Wed Feb  5 15:51:48 2003
From: edcjones at yahoo.com (edcjones <edcjones@yahoo.com>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Re: Version question
In-Reply-To: <b1racs+dntu@eGroups.com>
Message-ID: <b1s82k+fdll@eGroups.com>

--- In antlr-interest@yahoogroups.com, "edcjones <edcjones@y...>"
<edcjones@y...> wrote:
> I have installed antlr-2.7.2. on a Linux system. When I run "antlr", I
> get a help message that starts with:
> 
> Antlr parser generator   Version 1.33MR32   1989-2001
> 
> This looks like a version of PCCTS. Is there a problem?

I use the Gentoo distribution. pccts was installed. I removed it. Now
"antlr" is not found.



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Wed Feb  5 15:52:13 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Re: RE :  Problem with new lines
In-Reply-To: <20030205233115.13540.qmail@web40908.mail.yahoo.com>
Message-ID: <b1s83d+jroi@eGroups.com>


> hmm..seems like it still doesn't work, but thanks anyway.
> angle factor: 10   //--> exception after first line
> initial color: 1 5
> color increment: 1 10
> initial line width: 5 pixels
> // another comment
> line width increment: 0
> ..............
> An exception occurs straight after the first line.

Is it dependent on the contents of the line?. If you replace 
the "angle factor: 10" line with "initial color: 10" would it work?

> I can't figure where the problem lies. The previous codes works 
well with this but it doesn't work once I insert a newline 
after "angle factor:10":

Look in the example 'java' grammar for a good NEWLINE definition. It 
might be a protected rule but you can change that since you will be 
Token.SKIP-ping it in any case.

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From edcjones at yahoo.com  Wed Feb  5 16:00:12 2003
From: edcjones at yahoo.com (edcjones <edcjones@yahoo.com>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Making the C grammar in cgram.tgz
Message-ID: <b1s8ic+kjfg@eGroups.com>

I have installed Blackdown Java Version 1.4.1-beta (based on Sun's
1.4.1-pre-rc-b17) and antlr-2.7.2 on my Gentoo Linux PC.

In the antlr resources, there is a grammar for C in a file
"cgram.tgz". I have set the classpath to

    /usr/local/src/antlr-2.7.2:../grammars:../examples:.

I am having trouble getting cgram to compile. I cd to "grammars" and
do "make". I get the error message:

    javac StdCParser.java
    ../grammars/TNode.java:9: '.' expected
    import CToken;
             ^
    1 error
    make: *** [StdCParser.class] Error 1

Could this problem be caused by changes in Java or ANTLR since cgram
was written? Is this version of Java compatible with antlr-2.7.2? How
should I handle CLASSPATH? Is there some sort of package name problem?
Or what?




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dvleonid at land.ru  Wed Feb  5 16:02:04 2003
From: dvleonid at land.ru (Dvoryansky Leonid)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] MPG videos of my USF lectures?
References: <34035DEC-395D-11D7-A114-000393BB647E@jguru.com>
Message-ID: <000b01c2cd72$fc496730$0500a8c0@ZSHIP>

> >> Should I make an effort to video my language class videos?  I could
> >> probably post them unedited somewhere...might be able to get someone
> >> with a fast box to chop them up into logical sections...
> >>
> >> Terence
> >
> > Is it possible to get some?
> 
> I think that getting video will be a hassle.  I follow precisely along 
> with my lecture notes in class and usually say "on page 4" (I'll do 
> everything in PDF to ensure same page) so audio should be enough.
> 
> I have a nice sony minidisc recorder, which I can (d/a then a/d) get 
> into my mac (stupid thing has a one-way USB from mac to minidisc).
> 
> Ter

Maybe some beautiful day when i will be in San-Fransico, i come to you to
get this minidisc and to shake your hand :) .....

BTW where to get PDF?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From hushlee83 at yahoo.com.sg  Wed Feb  5 16:12:00 2003
From: hushlee83 at yahoo.com.sg (=?iso-8859-1?q?Sharon=20Li?=)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Re: RE :  Problem with new lines
In-Reply-To: <b1s83d+jroi@eGroups.com>
Message-ID: <20030206001200.27461.qmail@web40912.mail.yahoo.com>


Thanks i will go have a look at that..
replacing "angle factor" with "initial color" still doesn't work. My parser looks something like that:
/************** parser ********************************/
keyword returns [String keyword] {keyword = null;} 
    : "angle" "factor"(COLON) (num : NUMERIC)
     { 
      keyword = "angle factor"; 
      System.out.println("^^angle factor : "+num.getText());
      try{
       double angle = Double.parseDouble(num.getText());
       file.ANGLE_FACTOR = angle;
      }catch(Exception e){
       System.out.println("Invalid value of angle factor entered!");
      }      
     }     
    | "initial" "color" (COLON) (n: NUMERIC) (initialColor:NUMERIC)* {....};
/************* lexer ******************************/
.................
NEWLINE : ('\r''\n')=> '\r''\n' {System.out.println("slash r slash n");}
        | '\r'                  {System.out.println("slash r");}
        | '\n'                  {System.out.println("slash n");}
        { newline(); }
    ;
WS      : (' '|'\t') 
    { $setType(Token.SKIP); } 
    ;
.................................
the input file:
angle factor: 10
initial color: 1 5
color increment: 1 10
initial line width: 5 pixels
line width increment: 0
viewpoint: 0.0,0.0,1.0
view reference point: 0.0,0.0,0.0
twist: 0

/*************************************************************/

And the output I get:

^^angle factor : 10
slash r slash n
slash r slash n
^^initial color : 1 5
slash r slash n
^^color increment : 1 10
slash r slash n
^^initial line width : 5 pixels
^^line width increment : 0
slash r slash n
^^viewpoint : 0.0, 0.0, 1.0
slash r slash n
^^view reference point : 0.0, 0.0, 0.0
slash r slash n
^^twist : 0
slash r slash n
^^projection : parallel

......................
when i insert a newline after angle factor :
^^angle factor : 10
slash r slash n
slash r slash n
Exception occured!
 "micheal_jor <open.zone@virgin.net>" <open.zone@virgin.net> wrote:
> hmm..seems like it still doesn't work, but thanks anyway.
> angle factor: 10 //--> exception after first line
> initial color: 1 5
> color increment: 1 10
> initial line width: 5 pixels
> // another comment
> line width increment: 0
> ..............
> An exception occurs straight after the first line.

Is it dependent on the contents of the line?. If you replace 
the "angle factor: 10" line with "initial color: 10" would it work?

> I can't figure where the problem lies. The previous codes works 
well with this but it doesn't work once I insert a newline 
after "angle factor:10":

Look in the example 'java' grammar for a good NEWLINE definition. It 
might be a protected rule but you can change that since you will be 
Token.SKIP-ping it in any case.

Micheal





Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 Yahoo! Travel
- Valentine surprise deals. Book now!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030206/ae3b5773/attachment.html
From abreneliere at telys.com  Wed Feb  5 17:33:34 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Beginner question, about syntactic predicates.
Message-ID: <002201c2cd7f$ccd5a790$cb646464@lavaserver>

I have the following rules?:

---
entSetAtt
	:	entityComponent (COLON entityComponent)* simpleAttribute
// Alt1
	|	entityComponent (COLON entityComponent)*
// Alt2
;

entityComponent // (supplier WHERE name="Telys")
	:	LPAREN IDENTIFIER CLAUSE RPAREN
	|	IDENTIFIER 
;

simpleAttribute	// .name
	:	DOT IDENTIFIER 
;
---

I have a non-determinism between Alt 1 and Alt2 on the rule entSetAtt.

..but i cannot find a way to predict between alt1 and Alt2, even using
syntactic predictates. The Only difference is the 'simpleAttribute' at
the end of the Alt1.

The following one does not work and i don't know why:
---
entSetAtt
	:	(simpleAttribute)=> entityComponent (COLON
entityComponent)* simpleAttribute
	|	entityComponent (COLON entityComponent)*
;
---

Any answer is welcome,

Cheers,
Anthony!


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Wed Feb  5 17:55:44 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Re: Beginner question, about syntactic predicates.
In-Reply-To: <002201c2cd7f$ccd5a790$cb646464@lavaserver>
Message-ID: <b1sfb1+3c7r@eGroups.com>

> I have the following rules?:
> 
> ---
> entSetAtt
> 	:	entityComponent (COLON entityComponent)* 
simpleAttribute
> // Alt1
> 	|	entityComponent (COLON entityComponent)*
> // Alt2
> ;
> 
> entityComponent // (supplier WHERE name="Telys")
> 	:	LPAREN IDENTIFIER CLAUSE RPAREN
> 	|	IDENTIFIER 
> ;
> 
> simpleAttribute	// .name
> 	:	DOT IDENTIFIER 
> ;
> ---
> 
> I have a non-determinism between Alt 1 and Alt2 on the rule 
entSetAtt.
> 
> ..but i cannot find a way to predict between alt1 and Alt2, even 
using
> syntactic predictates. The Only difference is the 'simpleAttribute' 
at
> the end of the Alt1.

And that is the answer:

entSetAtt
: entityComponent (COLON entityComponent)* (simpleAttribute)?
;

What you are really trying to say is that simpleAttibute may (or may 
not) follow all the other terminal/non-terminals in your grammar.

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From rmsanjivp at yahoo.com  Wed Feb  5 18:17:17 2003
From: rmsanjivp at yahoo.com (rmsanjivp <rmsanjivp@yahoo.com>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Please HELP!!!
Message-ID: <b1sgjd+kgcl@eGroups.com>

Hi!

I have this understanding that once I have instantiated a lexer using

MyLexer lexer(some istream object);

then there is no way for me to specify the lexer to read from 
different input stream.

Is there a way to change the input to lexer while I am parsing? Like 
telling lexer to read from one file initially and then from another 
file without re-instantiating the lexer?

Thanks,
Sanjiv





 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From craig at palantir.co.za  Thu Feb  6 00:11:01 2003
From: craig at palantir.co.za (Craig Main)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Re: multilexer - almost, but no cigar. (One 
	more thing...)
Message-ID: <6903EC41EEB38945915250C57178773104266A6A@exchangecluster.pps.co.za>

Hi Micheal, (and others)

Please could you give me some help?
I am closer, but still not quite there.

This is almost working. I have stuffed up the CODE_BEGIN and CODE_END again
somehow.

At least it is recognising the "if" and "foreach" separately now, but it's
moaning about the '[' characters.

The output looks like this,
----------------------------------------------------------
this is a test
int i = 0;
line 3:2: expecting CODE_END, found 'if'

procedure pop;
line 5:2: expecting CODE_END, found 'foreach'

end
test
test
newitem
line 10:3: expecting CODE_END, found 'if'

new
line 12:2: expecting CODE_END, found 'foreach'

end
----------------------------------------------------------



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
Common
CODE_BEGIN=4
CODE_END=5
-------------- next part --------------
A non-text attachment was scrubbed...
Name: code.g
Type: application/octet-stream
Size: 867 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20030206/e4b45d6b/code.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: xgen.g
Type: application/octet-stream
Size: 950 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20030206/e4b45d6b/xgen.obj
-------------- next part --------------
this is a test
int i = 0;
[if]
procedure pop;
[foreach]
end
test
test
newitem
[ if ]
new
[foreach]
end
-------------- next part --------------
A non-text attachment was scrubbed...
Name: main.cpp
Type: application/octet-stream
Size: 1805 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20030206/e4b45d6b/main.obj
From pete.forman at westerngeco.com  Thu Feb  6 00:20:27 2003
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Please HELP!!!
In-Reply-To: <b1sgjd+kgcl@eGroups.com>
Message-ID: <5.1.1.1.2.20030206080957.04bdada8@wgmail2.gatwick.eur.slb.com>

At 2003-02-06 02:17 +0000, rmsanjivp <rmsanjivp@yahoo.com> wrote:
>Is there a way to change the input to lexer while I am parsing? Like
>telling lexer to read from one file initially and then from another
>file without re-instantiating the lexer?

You might try writing a subclass of istream which handles the
multiplexing of istreams.  Care would be needed to ensure that look
ahead is done in the correct istream.

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From abreneliere at telys.com  Thu Feb  6 01:34:18 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Beginner question, about syntactic predicates. YES but...
In-Reply-To: <b1sfb1+3c7r@eGroups.com>
Message-ID: <002601c2cdc2$ebdf3aa0$cb646464@lavaserver>

The difference between 'attribute' and 'entity' is there is '
simpleAttribute' at the end of 'attribute'.

I would like to keep the attribute rule because i would like to use it
as a not in a tree.

That kind of rules worked fine with a LR grammar, but does not seem to
work in the LL grammar.

So when i test the grammar on a sample code, attributes are not
predicted in the rule entSetAtt, so 'ent1:ent2:ent3.att' is a syntax
error, thought it should be accepted by the grammar.

I tought real LL parsers tried the rule 'entity', and if there was a
syntax error, returned back to the rule 'entSetAtt' to try for other
alternatives, like the 'attribute' rule..

I see no solution for my problem

---

entSetAtt   // HERE IS THE NON-DETERMINISM THAT CAUSE ERRORS WITH VALID
CODE
	:	entity 
	|	attribute
;

entity // (supplier WHERE name="Telys"):client
	:	entityComponent (COLON entity)?
;

attribute	// ::supplier:client.address
	:	entity simpleAttribute 
	|	simpleAttribute 
;

entityComponent // (supplier WHERE name="Telys")
	:	LPAREN IDENTIFIER clause RPAREN
	|	IDENTIFIER 
;

simpleAttribute	// .name
	:	DOT IDENTIFIER 
;

---

Cordially,
Anthony


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From craig at palantir.co.za  Thu Feb  6 05:00:12 2003
From: craig at palantir.co.za (craigmain001 <craig@palantir.co.za>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Multilexer solved... Yahooo.
Message-ID: <b1tm8s+dou4@eGroups.com>

Hi All,

I have finally solved the problem with the multilexer I was using. I 
needed to specifically import and export each and every one of the 
vocabularies I was using (like the javadoc sample). I also had to put 
the lexers before the parsers in each file so that they were exported 
correctly as the file is parsed. The javadoc sample used four grammar 
files - so the vocab imports and exports work regardless.

I still don't know why this was necessary? But Hey... it works. I'll 
figure it out later.

Thanks
Regards
Craig.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From craig at palantir.co.za  Thu Feb  6 05:51:05 2003
From: craig at palantir.co.za (craigmain001 <craig@palantir.co.za>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Language Processor (like ASP)
Message-ID: <b1tp89+ldlf@eGroups.com>

Hi,

I need to get the parser to re-parse sections of the text. My example 
here needs to have the foreach reparse everying when it gets to 
endfor, it needs to reparse whatever is between the for and endfor.

How would one go about achieving this?
Would you re-parse from the foreach again each time?

Given the following.

<a>
  <b>1</b>
  <b>2</b>
  <c>3</c>
</a>

And the input file.
-------------------

[foreach (a\b)]
OUTPUT SOMETHING
ANITEM = [=nodevalue]
[endfor]

I wish to produce
-------------------

OUTPUT SOMETHING
ANITEM = 1
OUTPUT SOMETHING
ANITEM = 2



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From yhhf_dy at yahoo.com  Thu Feb  6 07:16:34 2003
From: yhhf_dy at yahoo.com (Fan Yang <yhhf_dy@yahoo.com>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] How to add SEMI to variable declaration of class?
Message-ID: <b1tu8i+82jb@eGroups.com>

Hi,

I want to preserve all whitespaces and comments for java code, so I 
have to modify java.g and java.tree.g in order to let all SEMI be 
added to the result AST tree.

But I was stuck in how to add SEMI to variable declaration in the 
class(data member declaration). 

Because Variable declarations of class appear in the "field" rule, 
this rule suffixed with "!" means subtree will not link into a result 
tree, so the SEMI in the subrule of "v:variableDefinitions[#mods,#t] 
SEMI" will not incorporate into the result tree. I have tried to add 
SEMI into "variableDefinitions" subrule, but it seems to do a lot 
modification which are beyond my ability to do that.

Would please help me to deal with this problem. Thank you very much.

Good Wishes,

Fan Yang



----  fraction of Java.g ---
classBlock
 : LCURLY!
   ( field | SEMI! )*
   RCURLY!
   {#classBlock = #([OBJBLOCK, "OBJBLOCK"],#classBlock);}
 ;

field!
 : // method, constructor, or variable declaration
          .
          .
          .
   | v:variableDefinitions[#mods,#t] SEMI
     //{#field = #(#[VARIABLE_DEF,"VARIABLE_DEF"], v);}
     {#field = #v;}
          .
          .
          .


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Thu Feb  6 07:34:01 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Advice sought on constructing "tree of token lists"
Message-ID: <b1tv99+ccdq@eGroups.com>

I am attempting to use an ANTLR parser to build an AST in which all 
the nodes are essentially anchors for imposing some structure on the 
input list of Tokens.

The parser is itself a TokenStream and is being used for pre-
validation and pre-simplification of the input stream. All the input 
tokens can potentially pass through or a few may be dropped or 
altered.

I am seeking advice on how to persuade an ANTLR parser to allow 
access to all the original tokens as matched in each rule. I am 
proceeding on the assumption that buildAST must be false and that I 
have to do all the treebuilding manually since ANTLR parsers would 
normally "convert" input tokens into corresponding AST objects.

To clarify:

1. An AST node in the tree is a mechanism for storing a list of 
tokens matched by a rule. The tokens corresponds to the grammar rule 
that constructed the node.

2. An AST node may have one or more such lists of tokens - the list 
of tokens may be partitioned (using action code) depending on the 
rule.

Cheers,

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Thu Feb  6 08:32:11 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Please HELP!!!
In-Reply-To: <b1sgjd+kgcl@eGroups.com>; from rmsanjivp@yahoo.com on Thu, Feb 06, 2003 at 02:17:17AM -0000
References: <b1sgjd+kgcl@eGroups.com>
Message-ID: <20030206173210.A23317@cs.utwente.nl>

Hi,

On Thu, Feb 06, 2003 at 02:17:17AM -0000, rmsanjivp <rmsanjivp@yahoo.com> wrote:
> MyLexer lexer(some istream object);
>
> then there is no way for me to specify the lexer to read from
> different input stream.
>
> Is there a way to change the input to lexer while I am parsing? Like
> telling lexer to read from one file initially and then from another
> file without re-instantiating the lexer?

a) check the includeFile example (if you want include file like behaviour)
b) check LexerSharedInputState.hpp (if you just want to reinitialize after
   a parse run) something like this:

   ifstream file;

	....

   antlr::LexerSharedInputState lex_input = lexer->getInputState();
   lex_input->initialize(file, filename);

   // and reset parser (antlr) internal state
   parser->getInputState()->reset();
   parser->setFilename(filename);

   // start parsing at the 'start' rule
   parser->start();

   setFilename's are necessary to get correct errormessages. The
   inputstates need resets to prevent 'funny' things.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     "Evil will always triumph, because Good is dumb." ---  Spaceballs


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Thu Feb  6 08:43:28 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Multilexer solved... Yahooo.
In-Reply-To: <b1tm8s+dou4@eGroups.com>; from craig@palantir.co.za on Thu, Feb 06, 2003 at 01:00:12PM -0000
References: <b1tm8s+dou4@eGroups.com>
Message-ID: <20030206174328.C23317@cs.utwente.nl>

Hi,

On Thu, Feb 06, 2003 at 01:00:12PM -0000, craigmain001 <craig@palantir.co.za> wrote:
> I have finally solved the problem with the multilexer I was using. I 
> needed to specifically import and export each and every one of the 
> vocabularies I was using (like the javadoc sample). 

Good to hear :)

> I also had to put the lexers before the parsers in each file so that they
> were exported correctly as the file is parsed.

This is probably due to antlr handling the encountered parsers
sequentially. It is usually safer (imho) to have things in separate files.
Then you have real control over the import/export stuff. Though when you do
that you have to honour the right build order.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     Innovation makes enemies of all those who prospered under the old
   regime, and only lukewarm support is forthcoming from those who would
               prosper under the new. --- Niccolò Machiavelli


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Feb  6 09:54:53 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Re: Is there an ANTLR trick/hack to specify "NEWLINE or EOF" in Lexer
In-Reply-To: <b1s7g7+2f94@eGroups.com>
Message-ID: <186CC77A-39FC-11D7-9BC3-000393BB647E@jguru.com>


On Wednesday, February 5, 2003, at 03:41 PM, micheal_jor 
<open.zone@virgin.net> wrote:

>
>> Cool.  Ok, so let's say EOF can be a real char.  What does this
> mean?
>>
>> NONSENSE : (EOF)+ ;
>>
>> Ter
>
> That we'll be needing new error messages?.

Note sure how to detect all cases of this though :(  Perhaps this just 
means "infinite loop" ;)

Ter
> --
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Feb  6 09:56:12 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] MPG videos of my USF lectures?
In-Reply-To: <000b01c2cd72$fc496730$0500a8c0@ZSHIP>
Message-ID: <474B75B4-39FC-11D7-9BC3-000393BB647E@jguru.com>


On Wednesday, February 5, 2003, at 04:02 PM, Dvoryansky Leonid wrote:

>>>> Should I make an effort to video my language class videos?  I could
>>>> probably post them unedited somewhere...might be able to get someone
>>>> with a fast box to chop them up into logical sections...
>>>>
>>>> Terence
>>>
>>> Is it possible to get some?
>>
>> I think that getting video will be a hassle.  I follow precisely along
>> with my lecture notes in class and usually say "on page 4" (I'll do
>> everything in PDF to ensure same page) so audio should be enough.
>>
>> I have a nice sony minidisc recorder, which I can (d/a then a/d) get
>> into my mac (stupid thing has a one-way USB from mac to minidisc).
>>
>> Ter
>
> Maybe some beautiful day when i will be in San-Fransico, i come to you 
> to
> get this minidisc and to shake your hand :) .....

Sure!

> BTW where to get PDF?

I will PDF the formal languages lecture today before class.  I will 
also try to bring my minidisc to class today.

Today is a make-up day as yesterday class was canceled.

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From rmsanjivp at yahoo.com  Thu Feb  6 13:49:40 2003
From: rmsanjivp at yahoo.com (rmsanjivp <rmsanjivp@yahoo.com>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Rnntime Error with Antlr Provided Calc Example  for 2.7.2
Message-ID: <b1ul9k+aplc@eGroups.com>

Hi!

ANy idea why I am getting this error on Windows 2000 platform for VC6?


Debug Assertion Failed!

File: dbgdel.cpp
Line:47

Expression: _BLOCK_TYPE_IS_INVALID(pHead->nBlockUse)

??

Kindly tell me how to get rid of that.

Thanks,
Sanjiv


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From albert.huh at embarcadero-ca.com  Thu Feb  6 14:29:31 2003
From: albert.huh at embarcadero-ca.com (Albert Huh)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Changing look ahead depths?
Message-ID: <0881AC7F2F339C40BC6F7983D1E0BEC97683AB@mail2k.embarcadero-ca.com>

Is it possible to reduce the look ahead depth for specific rules for k>1?

At times I find I only need to look ahead one token, but the parser always tries to look ahead more than that thus generating ambiguities in certain cases.

Any thoughts?  Criticisms?

Albert

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Feb  6 15:55:04 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Changing look ahead depths?
In-Reply-To: <0881AC7F2F339C40BC6F7983D1E0BEC97683AB@mail2k.embarcadero-ca.com>
Message-ID: <69662FBC-3A2E-11D7-9BC3-000393BB647E@jguru.com>


On Thursday, February 6, 2003, at 02:29 PM, Albert Huh wrote:

> Is it possible to reduce the look ahead depth for specific rules for 
> k>1?
>
> At times I find I only need to look ahead one token, but the parser 
> always tries to look ahead more than that thus generating ambiguities 
> in certain cases.
>
> Any thoughts?  Criticisms?

Howdy there.  The first observation is that if there is a problem at 
say k=4, reducing to k=1 will do nothing to fix a nondeterminism.  More 
is better as they say.  However, if you know it's going to work out 
alright (i.e., ANTLR does the right thing), you could in principle set 
k=1 so that it is slightly more efficient.  This is probably 
negligible, however. :)

Good suggestion.

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tom at psy.unsw.edu.au  Thu Feb  6 17:13:28 2003
From: tom at psy.unsw.edu.au (tbrandonau <tom@psy.unsw.edu.au>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Re: Beginner question, about syntactic predicates. YES but...
In-Reply-To: <002601c2cdc2$ebdf3aa0$cb646464@lavaserver>
Message-ID: <b1v17p+41kj@eGroups.com>

Well, Michael's first message solved your problem, then you changed 
the problem by adding the entity\attribute rules.

Don't have Antlr on this machine, so not sure of the syntax. But the 
ideas are hopefully right. Look at syntactic\semantic predicates and 
semantic actions (any code in curlies).

Couple of ways to fix it:

I'm pretty sure this will work, and basically makes Antlr do what you 
want, try entity and if it fails try attribute:
entSetAtt
    :    (entity) => entity 
    |    attribute
    ;

Or you can fix your initial attempt at syntactic predicates (changed 
to rule names to make it shorter):
> entSetAtt
>     :    (simpleAttribute) => attribute
>     |     entity
>     ;
This won't work because Antlr isn't smart enough to know that you 
want simpleAttribute at the end, so you need:
 entSetAtt
     :    (entityComponent (COLON entityComponent)* simpleAttribute) 
=> attribute
     |     entity
     ;

Or you can adapt Michael's example:
> entSetAtt
>     :    entityComponent (COLON entityComponent)* (simpleAttribute)?
>     ;
with a semantic action (which I imagine is the fastest way):
entSetAtt
    :    entityComponent (COLON entityComponent)*
         (
             simpleAttribute { <ASTCodeHere> }
         )?
    ;
With some code to build the proper AST in there.

Basically RTFM, in the ANTLR meta-lang section, the Interpretation of 
semantic actions, Semantic predicates and Syntactic predicates (and 
especially Fixed depth lookahead and syntactic predicates ) (on from 
http://www.antlr.org/doc/metalang.html#_bb18). They basically 
describe your exact question. And there's probably a few FAQ entries.

Once you master these techniques and understand Antlr's approximate 
LL methods which cause problems like this you'll be able to do almost 
anything.

Tom.

--- In antlr-interest@yahoogroups.com, Anthony Breneli?re 
<abreneliere@t...> wrote:
> The difference between 'attribute' and 'entity' is there is '
> simpleAttribute' at the end of 'attribute'.
> 
> I would like to keep the attribute rule because i would like to use 
it
> as a not in a tree.
> 
> That kind of rules worked fine with a LR grammar, but does not seem 
to
> work in the LL grammar.
> 
> So when i test the grammar on a sample code, attributes are not
> predicted in the rule entSetAtt, so 'ent1:ent2:ent3.att' is a syntax
> error, thought it should be accepted by the grammar.
> 
> I tought real LL parsers tried the rule 'entity', and if there was a
> syntax error, returned back to the rule 'entSetAtt' to try for other
> alternatives, like the 'attribute' rule..
> 
> I see no solution for my problem
> 
> ---
> 
> entSetAtt   // HERE IS THE NON-DETERMINISM THAT CAUSE ERRORS WITH 
VALID
> CODE
> 	:	entity 
> 	|	attribute
> ;
> 
> entity // (supplier WHERE name="Telys"):client
> 	:	entityComponent (COLON entity)?
> ;
> 
> attribute	// ::supplier:client.address
> 	:	entity simpleAttribute 
> 	|	simpleAttribute 
> ;
> 
> entityComponent // (supplier WHERE name="Telys")
> 	:	LPAREN IDENTIFIER clause RPAREN
> 	|	IDENTIFIER 
> ;
> 
> simpleAttribute	// .name
> 	:	DOT IDENTIFIER 
> ;
> 
> ---
> 
> Cordially,
> Anthony


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From craig at palantir.co.za  Thu Feb  6 23:40:59 2003
From: craig at palantir.co.za (Craig Main)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Setting Lexer (Was: Please HELP!!!)
Message-ID: <6903EC41EEB38945915250C57178773104266ABA@exchangecluster.pps.co.za>

Hi All,

Is there any way of getting the lexer to restart from a particular point,
and consequently, to get the current position of the lexer.

If I need to parse a section of code several times, how would I do it.

Given 
[foreach 10]
this 
test
[endfor]

I want to parse this section 10 times. I would use some sort of artificial
stack to keep track of the sections for nesting purposes. I need the parser
to remember where it is at [foreach 10] and re-parse from there 10 times
when it gets to [endfor].

Thanks
Regards
Craig

On Thu, Feb 06, 2003 at 02:17:17AM -0000, rmsanjivp <rmsanjivp@yahoo.com>
wrote:
> MyLexer lexer(some istream object);
>
> then there is no way for me to specify the lexer to read from
> different input stream.
>
> Is there a way to change the input to lexer while I am parsing? Like
> telling lexer to read from one file initially and then from another
> file without re-instantiating the lexer?

a) check the includeFile example (if you want include file like behaviour)
b) check LexerSharedInputState.hpp (if you just want to reinitialize after
   a parse run) something like this:

   ifstream file;

	....

   antlr::LexerSharedInputState lex_input = lexer->getInputState();
   lex_input->initialize(file, filename);

   // and reset parser (antlr) internal state
   parser->getInputState()->reset();
   parser->setFilename(filename);

   // start parsing at the 'start' rule
   parser->start();

   setFilename's are necessary to get correct errormessages. The
   inputstates need resets to prevent 'funny' things.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++----
---
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++----
---
     "Evil will always triumph, because Good is dumb." ---  Spaceballs


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Feb  6 23:53:02 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Setting Lexer (Was: Please HELP!!!)
In-Reply-To: <6903EC41EEB38945915250C57178773104266ABA@exchangecluster.pps.co.za>
Message-ID: <2F2ADE26-3A71-11D7-9BC3-000393BB647E@jguru.com>

Hi Craig...if you're walking over the input more than once, it's  
typical to build a tree or some other intermediate form and then walk  
that.

Regards,
Terence

On Thursday, February 6, 2003, at 11:40 PM, Craig Main wrote:

> Hi All,
>
> Is there any way of getting the lexer to restart from a particular  
> point,
> and consequently, to get the current position of the lexer.
>
> If I need to parse a section of code several times, how would I do it.
>
> Given
> [foreach 10]
> this
> test
> [endfor]
>
> I want to parse this section 10 times. I would use some sort of  
> artificial
> stack to keep track of the sections for nesting purposes. I need the  
> parser
> to remember where it is at [foreach 10] and re-parse from there 10  
> times
> when it gets to [endfor].
>
> Thanks
> Regards
> Craig
>
> On Thu, Feb 06, 2003 at 02:17:17AM -0000, rmsanjivp  
> <rmsanjivp@yahoo.com>
> wrote:
>> MyLexer lexer(some istream object);
>>
>> then there is no way for me to specify the lexer to read from
>> different input stream.
>>
>> Is there a way to change the input to lexer while I am parsing? Like
>> telling lexer to read from one file initially and then from another
>> file without re-instantiating the lexer?
>
> a) check the includeFile example (if you want include file like  
> behaviour)
> b) check LexerSharedInputState.hpp (if you just want to reinitialize  
> after
>    a parse run) something like this:
>
>    ifstream file;
>
> 	....
>
>    antlr::LexerSharedInputState lex_input = lexer->getInputState();
>    lex_input->initialize(file, filename);
>
>    // and reset parser (antlr) internal state
>    parser->getInputState()->reset();
>    parser->setFilename(filename);
>
>    // start parsing at the 'start' rule
>    parser->start();
>
>    setFilename's are necessary to get correct errormessages. The
>    inputstates need resets to prevent 'funny' things.
>
> Cheers,
>
> Ric
> --
> ----- 
> +++++*****************************************************+++++++++----
> ---
>     ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722   
> ----
> ----- 
> +++++*****************************************************+++++++++----
> ---
>      "Evil will always triumph, because Good is dumb." ---  Spaceballs
>
>
>
>
> Your use of Yahoo! Groups is subject to  
> http://docs.yahoo.com/info/terms/
>
>
>
>
> Your use of Yahoo! Groups is subject to  
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From craig at palantir.co.za  Fri Feb  7 00:20:55 2003
From: craig at palantir.co.za (Craig Main)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Setting Lexer (Was: Please HELP!!!)
Message-ID: <6903EC41EEB38945915250C57178773104266AC5@exchangecluster.pps.co.za>

Thanks Terrence,

I was thinking about restarting the lexer by saving the input text somehow.
Your suggestion is infinitely better, thanks.

Would a simple stack or queue not work effectively?

Regards
Craig.

-----Original Message-----
From: Terence Parr [mailto:parrt@jguru.com] 
Sent: 07 February 2003 09:53
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] Setting Lexer (Was: Please HELP!!!)

Hi Craig...if you're walking over the input more than once, it's  
typical to build a tree or some other intermediate form and then walk  
that.

Regards,
Terence

On Thursday, February 6, 2003, at 11:40 PM, Craig Main wrote:

> Hi All,
>
> Is there any way of getting the lexer to restart from a particular  
> point,
> and consequently, to get the current position of the lexer.
>
> If I need to parse a section of code several times, how would I do it.
>
> Given
> [foreach 10]
> this
> test
> [endfor]
>
> I want to parse this section 10 times. I would use some sort of  
> artificial
> stack to keep track of the sections for nesting purposes. I need the  
> parser
> to remember where it is at [foreach 10] and re-parse from there 10  
> times
> when it gets to [endfor].
>
> Thanks
> Regards
> Craig
>
> On Thu, Feb 06, 2003 at 02:17:17AM -0000, rmsanjivp  
> <rmsanjivp@yahoo.com>
> wrote:
>> MyLexer lexer(some istream object);
>>
>> then there is no way for me to specify the lexer to read from
>> different input stream.
>>
>> Is there a way to change the input to lexer while I am parsing? Like
>> telling lexer to read from one file initially and then from another
>> file without re-instantiating the lexer?
>
> a) check the includeFile example (if you want include file like  
> behaviour)
> b) check LexerSharedInputState.hpp (if you just want to reinitialize  
> after
>    a parse run) something like this:
>
>    ifstream file;
>
> 	....
>
>    antlr::LexerSharedInputState lex_input = lexer->getInputState();
>    lex_input->initialize(file, filename);
>
>    // and reset parser (antlr) internal state
>    parser->getInputState()->reset();
>    parser->setFilename(filename);
>
>    // start parsing at the 'start' rule
>    parser->start();
>
>    setFilename's are necessary to get correct errormessages. The
>    inputstates need resets to prevent 'funny' things.
>
> Cheers,
>
> Ric
> --
> ----- 
> +++++*****************************************************+++++++++----
> ---
>     ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722   
> ----
> ----- 
> +++++*****************************************************+++++++++----
> ---
>      "Evil will always triumph, because Good is dumb." ---  Spaceballs
>
>
>
>
> Your use of Yahoo! Groups is subject to  
> http://docs.yahoo.com/info/terms/
>
>
>
>
> Your use of Yahoo! Groups is subject to  
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Feb  7 00:27:59 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Setting Lexer (Was: Please HELP!!!)
In-Reply-To: <6903EC41EEB38945915250C57178773104266AC5@exchangecluster.pps.co.za>
Message-ID: <10CEB2D2-3A76-11D7-9BC3-000393BB647E@jguru.com>


On Friday, February 7, 2003, at 12:20 AM, Craig Main wrote:

> Thanks Terrence,
>
> I was thinking about restarting the lexer by saving the input text 
> somehow.
> Your suggestion is infinitely better, thanks.
>
> Would a simple stack or queue not work effectively?

Sure.  any kind of form will work.  Try a TokenStream that queues them 
up, saving them.

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tomdz at cs.tu-berlin.de  Fri Feb  7 01:58:46 2003
From: tomdz at cs.tu-berlin.de (Thomas Dudziak)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Rnntime Error with Antlr Provided Calc Example
  for 2.7.2
Message-ID: <Pine.SOL.4.44.0302071052400.27669-100000@freno.cs.tu-berlin.de>

This seems to be memory related (always hard-to-find errors). You could
check
* that the library and the application are linked against the same variant
of the runtime (e.g. Multithreaded Debug DLL)
* that you do not mix malloc/free and new/delete (antlr uses new/delete
AFAIK)
* that you have the latest service pack for Visual Studio installed

What happens when you build a runtime version ?
Could you provide a call trace ?

Tom



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Fri Feb  7 03:31:28 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:20 2004
Subject: Beginner question, about syntactic predicates. YES but...
In-Reply-To: <002601c2cdc2$ebdf3aa0$cb646464@lavaserver>
Message-ID: <b205eg+ke11@eGroups.com>

> The difference between 'attribute' and 'entity' is there is '
> simpleAttribute' at the end of 'attribute'.

We've established that and my last message modified your grammar to 
correctly reflect that.

> I would like to keep the attribute rule because i would like to use 
it
> as a not in a tree.

You don't need to keep the attribute rule for that. You just need to 
guide ANTLR's tree construction so that it builds the tree you want.

> That kind of rules worked fine with a LR grammar, but does not seem 
to
> work in the LL grammar.

That shouldn't be suprising at all. LR parsing is NOT LL parsing.

> So when i test the grammar on a sample code, attributes are not
> predicted in the rule entSetAtt, so 'ent1:ent2:ent3.att' is a syntax
> error, thought it should be accepted by the grammar.

They are not predicted because of errors in your grammar and, because 
you are still treating ANTLR as an LR parser.

> I tought real LL parsers tried the rule 'entity', and if there was a
> syntax error, returned back to the rule 'entSetAtt' to try for other
> alternatives, like the 'attribute' rule..

"Real LL parsers"?. Ouch!

> I see no solution for my problem

There are many possible solutions for your problem. Which you choose 
(or even if you get to choose i.e. solve it yourself) depends on how 
well you've grokked the LL(k) way of thinking.

Reading your grammar extract below, I can see that entSetAtt can be 
one of:
a. a "simpleAttribute"
b. an "entity"
c. an "entity" followed by a "simpleAttibute"

In other word:

entSetAtt
: simpleAttribute
| entity ( simpleAttribute )?
;

If as you say, the former "attribute" rule needs special tree-
onstruction handling, then try this

entSetAtt
: simpleAttribute  { <insert-attribute-tree-build-code> }
| entity ( simpleAttribute { <insert-attribute-tree-build-code> } )?
;

where <insert-attribute-tree-build-code> is stuff like:
## = #( [ATTRIBUTE], #entSetAtt ); 

On the other hand, if you want to keep the attribute rule and rely on 
a syntactic predicate, read Tom's post. He suggests a number of 
solutions, one of which is based on your original formulation of the 
problem.

Incidentally, there is a typo in Tom's first solution (he was nowhere 
near an ANTLR box):

entSetAtt
: (entity) => entity 
| attribute
;

should be:

entSetAtt
: (attribute)=> attribute
| entity 
;

Cheers,

Micheal

> ---
> 
> entSetAtt   // HERE IS THE NON-DETERMINISM THAT CAUSE ERRORS WITH 
VALID
> CODE
> 	:	entity 
> 	|	attribute
> ;
> 
> entity // (supplier WHERE name="Telys"):client
> 	:	entityComponent (COLON entity)?
> ;
> 
> attribute	// ::supplier:client.address
> 	:	entity simpleAttribute 
> 	|	simpleAttribute 
> ;
> 
> entityComponent // (supplier WHERE name="Telys")
> 	:	LPAREN IDENTIFIER clause RPAREN
> 	|	IDENTIFIER 
> ;
> 
> simpleAttribute	// .name
> 	:	DOT IDENTIFIER 
> ;
> 
> ---
> 
> Cordially,
> Anthony

From weberjn at yahoo.com  Fri Feb  7 04:26:40 2003
From: weberjn at yahoo.com (weberjn <weberjn@yahoo.com>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Two semantic actions possible
Message-ID: <b208m0+qiiq@eGroups.com>

Hi,

in this grammar I wanted { s1=s;} to be called after both
alternatives. Antlr puts it to the void action (putting () around the
alternatives yields what I want). But shouldn't antlr warn that there
are two semantic actions in the rule?

Juergen


class MyParser extends Parser;

op_type_spec 
{ String s=null,s1=null;}

	:   "null" { s="null"; }
	|   "void" { s="void";}

	{ s1=s;} 
	        
	;


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From almo at male.ru  Fri Feb  7 04:49:42 2003
From: almo at male.ru (alexander_monakhov <almo@male.ru>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] buggy namespace options processing in C# generation
Message-ID: <b20a16+55cj@eGroups.com>

Hi All!


In docs on antlr site it is written that namespace options can be 
specified either for entire grammar or for particular lexer/parser. 
But when generating to C# it only works at global scope. Namespace 
specification in local options block results in "invalid option" 
error.


( ANTLR 2.7.2. used )


Bye.







 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Fri Feb  7 05:04:45 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:20 2004
Subject: buggy namespace options processing in C# generation
In-Reply-To: <b20a16+55cj@eGroups.com>
Message-ID: <b20atd+55oj@eGroups.com>

> Hi All!

Hi Alexander,

> In docs on antlr site it is written that namespace options can be 
> specified either for entire grammar or for particular lexer/parser. 
> But when generating to C# it only works at global scope. Namespace 
> specification in local options block results in "invalid option" 
> error.
> 
> 
> ( ANTLR 2.7.2. used )

Thanks for the report. A fix would be included with the next service 
update of ANTLR 2.7.2.

Micheal


From cormier at u-picardie.fr  Fri Feb  7 05:38:12 2003
From: cormier at u-picardie.fr (CC)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] paraphrase option in token declaration
Message-ID: <5.2.0.9.0.20030207143206.00aabd88@mailx.u-picardie.fr>

Hi,
	I have in a lexer :
...
tokens {
       	DCC     =	"DefClassConcept";
       	DCE	=	"DefClassEntity";
	DCP	=	"DefClassProposition";
	DCO	=	"DefClassObject";
...
}
...
Is it possible to paraphrase DCC, DCE etc. ? How to do that?
Best regards




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From unmesh_joshi at yahoo.com  Fri Feb  7 06:43:57 2003
From: unmesh_joshi at yahoo.com (unmesh joshi)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Writing lexer for controlled english
In-Reply-To: <Pine.SOL.4.44.0302071052400.27669-100000@freno.cs.tu-berlin.de>
Message-ID: <20030207144357.87630.qmail@web40312.mail.yahoo.com>


Hi,
I want to write a lexer for a controlled english parser. Instead of hand coding the TokenManager I think its better if I can have token definition like
ANYTOKEN which is not KEYWORD and SPACES, COMMENTS etc.
And then write lexer action to match the word in the dictionaty.
Is there any example of this type of specitication? Can anybody help?
Thanks.
Unmesh
 



---------------------------------
Do you Yahoo!?
Yahoo! Mail Plus - Powerful. Affordable. Sign up now
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030207/5100e13f/attachment.html
From cormier at u-picardie.fr  Fri Feb  7 07:27:33 2003
From: cormier at u-picardie.fr (CC)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] paraphrase option in token declaration
Message-ID: <5.2.0.9.0.20030207162611.00a981d8@mailx.u-picardie.fr>

Hi,
         I have in a lexer :
...
tokens {
         DCC     =       "DefClassConcept";
         DCE     =       "DefClassEntity";
         DCP     =       "DefClassProposition";
         DCO     =       "DefClassObject";
...
}
...
Is it possible to paraphrase DCC, DCE etc. ? How to do that?

Ok, it's a stupid question :
found in doc/metalang.html#TokensSection :
You may define options on the tokens defined in the tokens section.  The 
only option available so far is AST=class-type-to-instantiate.

Best regards




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Fri Feb  7 08:03:41 2003
From: cintyram at yahoo.com (cintyram <cintyram@yahoo.com>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] matching only first line
Message-ID: <b20lct+2o91@eGroups.com>

hi ,
  in the grammar that im writing now, i have a problem,
 the syntax of the source file is such that there is a header file
which can be only one line , so a very long line can be spread across
multiple lines by escaping the newline character with \ENTER
exceopt for this line, newline is not used as a delimiter any where
else in the source file!! ;

as of now i am reading the first line in the main file , and parsing
the rest of it in the grammar;
also another soln im trying out is to introduce a new virtual
delimiter in the main file, instead of the first newline, and parse
the whole file in the grammar ;
yeah and also i dont know how to handle the \ENTER so im doing that
also in the main file, replcaeing all such instances with a newline ;

Im sure this is not the right way, but as of now it works ; 
 suggestions please?
cheers
ram











 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From edcjones at yahoo.com  Fri Feb  7 08:35:39 2003
From: edcjones at yahoo.com (edcjones <edcjones@yahoo.com>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Re: Making the C grammar in cgram.tgz
In-Reply-To: <b1s8ic+kjfg@eGroups.com>
Message-ID: <b20n8r+qunr@eGroups.com>

I fixed my problem by creating a directory "grammars/ctoken" and
moving "CToken.java" to it. Also moved "LineObject.java" to
"grammars/lineobject". I added package stuff to a number of files and
edited "Makefile". But I still wonder: Why didn't the original code work?

--- In antlr-interest@yahoogroups.com, "edcjones <edcjones@y...>"
<edcjones@y...> wrote:
> I have installed Blackdown Java Version 1.4.1-beta (based on Sun's
> 1.4.1-pre-rc-b17) and antlr-2.7.2 on my Gentoo Linux PC.
> 
> In the antlr resources, there is a grammar for C in a file
> "cgram.tgz". I have set the classpath to
> 
>     /usr/local/src/antlr-2.7.2:../grammars:../examples:.
> 
> I am having trouble getting cgram to compile. I cd to "grammars" and
> do "make". I get the error message:
> 
>     javac StdCParser.java
>     ../grammars/TNode.java:9: '.' expected
>     import CToken;
>              ^
>     1 error
>     make: *** [StdCParser.class] Error 1
> 
> Could this problem be caused by changes in Java or ANTLR since cgram
> was written? Is this version of Java compatible with antlr-2.7.2? How
> should I handle CLASSPATH? Is there some sort of package name problem?
> Or what?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From yhhf_dy at yahoo.com  Fri Feb  7 08:36:16 2003
From: yhhf_dy at yahoo.com (Fan Yang <yhhf_dy@yahoo.com>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] How to add SEMI of variable declaration in the result tree?
Message-ID: <b20na0+ntrd@eGroups.com>

Hi all,

I want to preserve all whitespaces and comments for java code, so I 
have to modify java.g and java.tree.g in order to let all SEMI be 
added to the result AST tree.

But I was stuck in how to incorperate SEMI which exists in variable 
declaration rule. Problem is that "field" rule suffixed with "!" will 
not add his tree to the result tree. so the SEMI which is at the end 
of "v:variableDefinitions[#mods,#t] SEMI" will not appear in the 
result tree. I have tried to add SEMI into "variableDeclarator" 
subrule, finally I failed to do that.

Would you please help me to deal with this problem. Any suggestion 
will be appreciated.

Good Wishes,

Fan Yang



---- fraction of Java.g ---
field!:
.
.
.
v:variableDefinitions[#mods,#t] SEMI
//{#field = #(#[VARIABLE_DEF,"VARIABLE_DEF"], v);}
{#field = #v;}
.
.
.
variableDefinitions[AST mods, AST t]
 : variableDeclarator[getASTFactory().dupTree(mods),
   getASTFactory().dupTree(t)]
   (COMMA!
     variableDeclarator[getASTFactory().dupTree(mods),
	getASTFactory().dupTree(t)]
    )*
    ;

variableDeclarator![AST mods, AST t]
 :id:IDENT d:declaratorBrackets[t] v:varInitializer
 {#variableDeclarator = #(#[VARIABLE_DEF,"VARIABLE_DEF"], mods, #(#  
[TYPE,"TYPE"],d), id, v);}
 ;

declaratorBrackets[AST typ]
 :{#declaratorBrackets=typ;}
  (lb:LBRACK^ {#lb.setType(ARRAY_DECLARATOR);} RBRACK)*
  ;

varInitializer
 :( ASSIGN^ initializer )?
 ;
 

 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Fri Feb  7 09:13:52 2003
From: cintyram at yahoo.com (cintyram <cintyram@yahoo.com>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Re: matching only first line
In-Reply-To: <b20lct+2o91@eGroups.com>
Message-ID: <b20pgg+unu6@eGroups.com>

hi,
 im sorry i forgot to meniton in the previous post with the same
subject line, that another reason why i wanted to replace the first
newline with a virtual dlimiter is , to avoid another problem ;
the header line can end with an ( ID) + ( somethingelse ) ?
and the next line can start with ID ID ;
in such a case, when the input is such that the optional part of the
header_line rule is not used, the next line which does not belong to
the header line, is also matched by that rule as , newline would have
been an ignored character ;
any solution to the earlier problem should also consider this fact :) 
cheers
ram
ps :previous post number is 7408 ;
thanks
ram


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Fri Feb  7 12:36:31 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Re: buggy namespace options processing in C# generation
In-Reply-To: <b20a16+55cj@eGroups.com>
Message-ID: <b215cf+ll1s@eGroups.com>

> In docs on antlr site it is written that namespace options can be 
> specified either for entire grammar or for particular lexer/parser. 
> But when generating to C# it only works at global scope. Namespace 
> specification in local options block results in "invalid option" 
> error.

Thanks for the report. A fix would be included with the next 2.7.2 
update.

Cheers!,

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Feb  7 12:54:52 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Writing lexer for controlled english
In-Reply-To: <20030207144357.87630.qmail@web40312.mail.yahoo.com>
Message-ID: <67ACC193-3ADE-11D7-90EB-000393BB647E@jguru.com>


On Friday, February 7, 2003, at 06:43 AM, unmesh joshi wrote:

> Hi,
>
> I want to write a lexer for a controlled english parser. Instead of 
> hand coding the TokenManager I think its better if I can have token 
> definition like
>
> ANYTOKEN?which is?not KEYWORD and SPACES, COMMENTS etc.
>
> And then write lexer action to match the word in the dictionaty.

Just make an ID rule that tests a dictionary to see if it's a keyword 
etc...

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Fri Feb  7 13:12:17 2003
From: cintyram at yahoo.com (cintyram <cintyram@yahoo.com>)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] doubt in java grammar,
In-Reply-To: <67ACC193-3ADE-11D7-90EB-000393BB647E@jguru.com>
Message-ID: <b217fh+nh3b@eGroups.com>

hi,
 in the java grammar i found this rule ..

// conditional test (level 12)
conditionalExpression
	:	logicalOrExpression
		( QUESTION^ assignmentExpression COLON! conditionalExpression )?
	;

is it not true that (expr)? { s1;} : {s2} ;
is same as if(expr)
             {s1;}
            else
             {s2;}

in which case both of them should be statement|blockstatement

; also could some one explain why the existing choice was made?
cheers
ram




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Feb  7 13:20:19 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:20 2004
Subject: [antlr-interest] Audio from LL(k) Parsing lecture
Message-ID: <F5ED3D7D-3AE1-11D7-90EB-000393BB647E@jguru.com>

Folks,

I have digitally recorded (can hear markers on whiteboard) 37 minutes 
from last nights LL(k) parsing lecture.  The problem is that even the 
mono mp3 which I encoded at a low 64kbs is 17M!  Is that too big for 
people to pull across the net these days?  I have T1 at home so I'm not 
sure what the latest acceptable blob size is.

What size would people prefer?  Anybody wanna grab it, edit it, chop it 
up or anything?

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From richard.ney at aspect.com  Fri Feb  7 13:23:03 2003
From: richard.ney at aspect.com (Ney, Richard)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Audio from LL(k) Parsing lecture
Message-ID: <0F9CBE7F81945C4BB7A32BE6E7656EE07228C5@sac1exch3.aspect.com>

Depends on the people, I would take it as is since I have a high-speed line.
17MB is a few minutes for me.

-Richard

-----Original Message-----
From: Terence Parr [mailto:parrt@jguru.com] 
Sent: Friday, February 07, 2003 1:20 PM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Audio from LL(k) Parsing lecture


Folks,

I have digitally recorded (can hear markers on whiteboard) 37 minutes 
from last nights LL(k) parsing lecture.  The problem is that even the 
mono mp3 which I encoded at a low 64kbs is 17M!  Is that too big for 
people to pull across the net these days?  I have T1 at home so I'm not 
sure what the latest acceptable blob size is.

What size would people prefer?  Anybody wanna grab it, edit it, chop it 
up or anything?

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Fri Feb  7 13:23:19 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Re: doubt in java grammar,
In-Reply-To: <b217fh+nh3b@eGroups.com>
Message-ID: <b21847+lng2@eGroups.com>

--- In antlr-interest@yahoogroups.com, "cintyram <cintyram@y...>" 
<cintyram@y...> wrote:
> hi,
>  in the java grammar i found this rule ..
> 
> // conditional test (level 12)
> conditionalExpression
> 	:	logicalOrExpression
> 		( QUESTION^ assignmentExpression COLON! 
conditionalExpression )?
> 	;
> 
> is it not true that (expr)? { s1;} : {s2} ;
> is same as if(expr)
>              {s1;}
>             else
>              {s2;}
> 
> in which case both of them should be statement|blockstatement
> 
> ; also could some one explain why the existing choice was made?

for ( <init> ; <cond> ; <iter> )
{
  // body
}

is also equivalent to:

<init>
while ( <cond> )
{
  // body
  <iter>
}

Do you have any doubt about the FOR or WHILE rules either?  ;-)

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gudnabrsam at yahoo.com  Fri Feb  7 14:05:18 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Audio from LL(k) Parsing lecture
In-Reply-To: <F5ED3D7D-3AE1-11D7-90EB-000393BB647E@jguru.com>
Message-ID: <20030207220518.36107.qmail@web20420.mail.yahoo.com>

Size is tolerable.  Was the content essentially that
of the HTML you just replaced with PDF?

-Matt

--- Terence Parr <parrt@jguru.com> wrote:
> Folks,
> 
> I have digitally recorded (can hear markers on
> whiteboard) 37 minutes 
> from last nights LL(k) parsing lecture.  The problem
> is that even the 
> mono mp3 which I encoded at a low 64kbs is 17M!  Is
> that too big for 
> people to pull across the net these days?  I have T1
> at home so I'm not 
> sure what the latest acceptable blob size is.
> 
> What size would people prefer?  Anybody wanna grab
> it, edit it, chop it 
> up or anything?
> 
> Ter
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator:
> http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Mail Plus - Powerful. Affordable. Sign up now.
http://mailplus.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Feb  7 14:33:05 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Audio from LL(k) Parsing lecture
In-Reply-To: <20030207220518.36107.qmail@web20420.mail.yahoo.com>
Message-ID: <1FE822EA-3AEC-11D7-90EB-000393BB647E@jguru.com>


On Friday, February 7, 2003, at 02:05 PM, Matt Benson wrote:

> Size is tolerable.  Was the content essentially that
> of the HTML you just replaced with PDF?

It is from the section marked Parsing on down (midway thru).  Yes, the 
PDF is an updated version of the lecture with more stuff associated 
with the audio.  So it's bigger and now in PDF so page numbers make 
sense when I say "on page 10" :)

I'll post when I can...

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From atripp at comcast.net  Fri Feb  7 15:11:45 2003
From: atripp at comcast.net (atripp54321 <atripp@comcast.net>)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Re: C++ test suite
In-Reply-To: <3E3D37DD.FF6296D4@sbu.ac.uk>
Message-ID: <b21efh+va11@eGroups.com>

--- In antlr-interest@yahoogroups.com, David Wigg <wiggjd@s...> wrote:
> Could anyone let me know of any C++ compiler/grammar test suite I could
> get hold of?
> 
> Thanks.
> 
> David.

GCC comes with a test suite. See:
http://gcc.gnu.org/install/test.html


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Feb  7 15:24:50 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Terence's USF language course mailing list open
Message-ID: <5AF0EBE8-3AF3-11D7-90EB-000393BB647E@jguru.com>

Folks,

If you are interested in discussing the notes, lectures, projects, 
etc... for CS652, the graduate programming languages class at USF, then 
send email to majordomo@cs.usfca.edu with a body of "subscribe 
your-email-address".  Some of you have requested a way to contact 
students in the class and so on.  After you subscribe, you can email 
the list which is cs652@cs.usfca.edu.

Regards,
Terence

--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gudnabrsam at yahoo.com  Fri Feb  7 15:37:06 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Terence's USF language course mailing list open
In-Reply-To: <5AF0EBE8-3AF3-11D7-90EB-000393BB647E@jguru.com>
Message-ID: <20030207233706.56358.qmail@web20415.mail.yahoo.com>

Actually you send

subscribe cs652


as I just found out.

Thanks for making all this available to us poor slobs
who can't just trot out to SF and drop a bunch of
money to learn this stuff!

-Matt

--- Terence Parr <parrt@jguru.com> wrote:
> Folks,
> 
> If you are interested in discussing the notes,
> lectures, projects, 
> etc... for CS652, the graduate programming languages
> class at USF, then 
> send email to majordomo@cs.usfca.edu with a body of
> "subscribe 
> your-email-address".  Some of you have requested a
> way to contact 
> students in the class and so on.  After you
> subscribe, you can email 
> the list which is cs652@cs.usfca.edu.
> 
> Regards,
> Terence
> 
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator:
> http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Mail Plus - Powerful. Affordable. Sign up now.
http://mailplus.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Feb  7 15:53:59 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] please try out this audio file of the lecture
Message-ID: <6D5A7D58-3AF7-11D7-90EB-000393BB647E@jguru.com>

Just to test my procedure out, can someone grab this and give a listen? 
  Should be able to listen as it downloads...

http://www.antlr.org/audio/LLk.parsing-mono-64kbs.mp3

It's an unedited version (and minidisc recorder seems to have chopped 
last 5 minutes of lecture <booo>) of my lecture on LL(k) parsing.  It 
corresponds with

http://nexus.cs.usfca.edu/~parrt/course/652/lectures/formal.language.pdf

starting in the middle.  Audio cues you in.

Please comment on sound quality and whether you can follow along with 
the notes.  If not, then I won't bother recording future lectures.

Terence
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Feb  7 15:56:01 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Terence's USF language course mailing list open
In-Reply-To: <20030207233706.56358.qmail@web20415.mail.yahoo.com>
Message-ID: <B641E6A8-3AF7-11D7-90EB-000393BB647E@jguru.com>


On Friday, February 7, 2003, at 03:37 PM, Matt Benson wrote:

> Actually you send
>
> subscribe cs652

Thanks...

> as I just found out.
>
> Thanks for making all this available to us poor slobs
> who can't just trot out to SF and drop a bunch of
> money to learn this stuff!

You're welcome!  Hope it helps. :)

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From jonah at jonah.com  Fri Feb  7 18:12:34 2003
From: jonah at jonah.com (Jonah Benton)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] please try out this audio file of the lecture
In-Reply-To: <6D5A7D58-3AF7-11D7-90EB-000393BB647E@jguru.com>
References: <6D5A7D58-3AF7-11D7-90EB-000393BB647E@jguru.com>
Message-ID: <3E446792.7020300@jonah.com>


It's fine, actually good quality. I'm having no trouble understanding it 
from laptop speakers, no headphones. Great stuff!

Jonah


Terence Parr wrote:
> Just to test my procedure out, can someone grab this and give a listen? 
>   Should be able to listen as it downloads...
> 
> http://www.antlr.org/audio/LLk.parsing-mono-64kbs.mp3
> 
> It's an unedited version (and minidisc recorder seems to have chopped 
> last 5 minutes of lecture <booo>) of my lecture on LL(k) parsing.  It 
> corresponds with
> 
> http://nexus.cs.usfca.edu/~parrt/course/652/lectures/formal.language.pdf
> 
> starting in the middle.  Audio cues you in.
> 
> Please comment on sound quality and whether you can follow along with 
> the notes.  If not, then I won't bother recording future lectures.
> 
> Terence
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Feb  7 18:14:16 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] please try out this audio file of the lecture
In-Reply-To: <3E446792.7020300@jonah.com>
Message-ID: <060F43B0-3B0B-11D7-90EB-000393BB647E@jguru.com>


On Friday, February 7, 2003, at 06:12 PM, Jonah Benton wrote:

>
> It's fine, actually good quality. I'm having no trouble understanding 
> it
> from laptop speakers, no headphones. Great stuff!

Cool!  Is it easy to follow along in the notes?

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From jonah at jonah.com  Fri Feb  7 18:23:22 2003
From: jonah at jonah.com (Jonah Benton)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] please try out this audio file of the lecture
In-Reply-To: <060F43B0-3B0B-11D7-90EB-000393BB647E@jguru.com>
References: <060F43B0-3B0B-11D7-90EB-000393BB647E@jguru.com>
Message-ID: <3E446A1A.7050806@jonah.com>


Yes, I'm having no trouble following along.


Terence Parr wrote:
> On Friday, February 7, 2003, at 06:12 PM, Jonah Benton wrote:
> 
> 
>>It's fine, actually good quality. I'm having no trouble understanding 
>>it
>>from laptop speakers, no headphones. Great stuff!
> 
> 
> Cool!  Is it easy to follow along in the notes?
> 
> Ter
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cormier at u-picardie.fr  Sat Feb  8 02:25:29 2003
From: cormier at u-picardie.fr (Christian CORMIER)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] please try out this audio file of the
  lecture
In-Reply-To: <6D5A7D58-3AF7-11D7-90EB-000393BB647E@jguru.com>
Message-ID: <5.2.0.9.0.20030208111538.00a7d9c8@mailx.u-picardie.fr>

Hi,
         Good, easy to follow with notes, even for a French. When do you 
give us, slides and video? (-:
Christian
At 15:53 07/02/2003 -0800, you wrote:
>Just to test my procedure out, can someone grab this and give a listen?
>   Should be able to listen as it downloads...
>
>http://www.antlr.org/audio/LLk.parsing-mono-64kbs.mp3
>
>It's an unedited version (and minidisc recorder seems to have chopped
>last 5 minutes of lecture <booo>) of my lecture on LL(k) parsing.  It
>corresponds with
>
>http://nexus.cs.usfca.edu/~parrt/course/652/lectures/formal.language.pdf
>
>starting in the middle.  Audio cues you in.
>
>Please comment on sound quality and whether you can follow along with
>the notes.  If not, then I won't bother recording future lectures.
>
>Terence
>--
>Co-founder, http://www.jguru.com
>Creator, ANTLR Parser Generator: http://www.antlr.org
>Lecturer in Comp. Sci., University of San Francisco
>
>
>
>
>Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/

cormier@u-picardie.fr


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From achim.domma at syynx.de  Sat Feb  8 03:13:12 2003
From: achim.domma at syynx.de (Achim Domma)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Python parser generator
Message-ID: <FCEMIEFBFOIDAOJDEPIAMEMMEJAA.achim.domma@syynx.de>

Hi,

I think I read sometimes before, that there is a python parser generator on
the way. Is this still true? Are there more informations available? I would
be very interested in generating python parsers with antlr!

regards,
Achim



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sat Feb  8 11:01:57 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Python parser generator
In-Reply-To: <FCEMIEFBFOIDAOJDEPIAMEMMEJAA.achim.domma@syynx.de>
Message-ID: <CBF0E2CB-3B97-11D7-90EB-000393BB647E@jguru.com>


On Saturday, February 8, 2003, at 03:13 AM, Achim Domma wrote:

> Hi,
>
> I think I read sometimes before, that there is a python parser 
> generator on
> the way. Is this still true? Are there more informations available? I 
> would
> be very interested in generating python parsers with antlr!

A genius student at USF, Amol Dharmadhikari, has a python generator 
that seems to work using Jython and is now building the python support 
code so that it will work with pure python :)  Within a few weeks I 
believe we'll have a patch for you :)

Regards,
Terence
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sat Feb  8 11:07:08 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] please try out this audio file of the lecture
In-Reply-To: <5.2.0.9.0.20030208111538.00a7d9c8@mailx.u-picardie.fr>
Message-ID: <852E28F5-3B98-11D7-90EB-000393BB647E@jguru.com>


On Saturday, February 8, 2003, at 02:25 AM, Christian CORMIER wrote:

> Hi,
>          Good, easy to follow with notes, even for a French. When do 
> you
> give us, slides and video? (-:

I have a Hi-8 video camera, but not a DV camera which easily plugs into 
my OS X box.  Also, w/o someone watching the camera, I might move off 
screen with my acrobatics ;)

Slides would be easier to follow, but I don't like presenting slides: 
harder to get a lot of information (like big code) on the screen and I 
forget what I meant to say.  Having notes written out is better for 
students (as there is no book for the class) and easier for me to prep 
next time I teach the class.

I'm glad it was easy to follow.  I have learned over the years of 
public speaking not to use slang or "big" words and to speak as slowly 
as possible.  8/10 students in my classes so far have been non-native 
English speakers. :)

Let us hope the trend continues and the audio is useful!

Does any ANTLR-o-phile live in the San Francisco area that would lend 
me their DV camera with a pass-through analog to digital converter?  
Perhaps I should just buy a damn DV camera.  I still need someone to 
move the camera though.

Terence
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tmiceli at sympatico.ca  Sun Feb  9 07:03:31 2003
From: tmiceli at sympatico.ca (Thierry Miceli)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] "interactive" option
In-Reply-To: <852E28F5-3B98-11D7-90EB-000393BB647E@jguru.com>
Message-ID: <000f01c2d04c$6b5e0190$be245f41@mariepoule>

Hi,

Is the "interactive" option implemented? If it is, what does it do?
I did not find anything about it in ANTLR documentation.

Thanks,

Thierry


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Sun Feb  9 07:48:50 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] ISSUE: Global comments lost with grammar inheritance
Message-ID: <b25t92+23pn@eGroups.com>

DESCRIPTION:

When using the grammar inheritance feature of ANTLR, "global" 
comments (i.e. comment blocks that immediately preceed the grammar 
class definition) do not appear in the generated file.
These comments would normally appear in the generated file just 
before the class definition.

TO REPRODUCE THIS ISSUE:

Given the grammar files at the end of this message, when the ANTLR 
tool is invoked on both file (using the -glib option as appropriate):

1. the generated BaseLexer.cs files has the C# XML comment included 
in it's source grammar file base.g. Cool.

2. the C# XML comment is missing from the generated DerivedLexer.cs 
file (and also from the generated temp-ish file 
expandedDerivedLexer.g). Uncool.


ATTACHED FILES:

------ BEGIN base.g ----
options
{
  language = "CSharp";
}

///<summary>
/// Base Lexer summary description.
///</summary>

class BaseLexer extends Lexer;

BASERULE
: "base"
;

------ END   base.g ----

------ BEGIN derived.g ----
options
{
  language = "CSharp";
}

///<summary>
/// Derived Lexer summary description.
///</summary>

class DerivedLexer extends BaseLexer;

NEWRULE
: "derived"
;

------ END   derived.g ----

==========================================================


OK, we *need* a bug/feature/issue/reqmt tracking app.

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From abreneliere at telys.com  Sun Feb  9 14:59:38 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Another beginner question.. about ANTLR parsing
Message-ID: <000001c2d08e$f0f385e0$6100a8c0@lavaserver>

Is it possible to right-parse for a specific rule??

I have the following rule :

entity! // (supplier WHERE name="Telys"):client
	:	a:entityComponent (COLON! b:entity)?
		{ #entity = #( #[ENTITY_RULE, "entity"], #a, #b ); }
;

..and i would like to replace it by..

entity! // (supplier WHERE name="Telys"):client
	:	(a:entity COLON)? b:entityComponent
		{ #entity = #( #[ENTITY_RULE, "entity"], #a, #b ); }
;

..because i need to have the left-most entity to be at a higher level in
the tree, instead of the right-most entity, so i need the recursion on
the left.

I see no other solution,

If you have an idea, thanks to respond ;)

Cordially, 
Anthony


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From djplists at arrowsash.com  Sun Feb  9 19:22:39 2003
From: djplists at arrowsash.com (David Penton)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Restarting a rule
Message-ID: <1044847361.3112.7.camel@linux2>

I switched to 2.7.2; all is well - it fixes some things that had been
problems for my project.

Now my questions.  (I asked similar or related questions a couple weeks
ago but did not quite solve my problem. Sorry for more or less repeating
myself.)

Q1: Is there a good way to skip over a bad token in a parser?  In other
words, I don't want the default handling (syncing and moving to the next
rule), but rather I want to test the token (I guess in the exception
handler) and restart the "present" rule if it is a certain kind of
token. This may be a java question instead of an antlr question.

Q2: It looks like it is not possible to set error handling code in a
parser "globally", i.e. something that gets copied into every method
implementing a rule.  Is that right?

Thanks much.

- Dave -




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From djplists at arrowsash.com  Sun Feb  9 19:36:40 2003
From: djplists at arrowsash.com (David Penton)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Restarting a rule
In-Reply-To: <1044847361.3112.7.camel@linux2>
References: <1044847361.3112.7.camel@linux2>
Message-ID: <1044848201.1834.2.camel@linux2>

Sorry to answer my own post, but I see that my first question in the
original post does not require an answer.  I am barking up the wrong
tree with that approach; I think I need to be doing token filtering
instead.

I would appreciate confirmation that there is no way to set global error
code in a parser (i.e. exception handling code for every rule.)

- Dave -

On Sun, 2003-02-09 at 22:22, David Penton wrote:
> I switched to 2.7.2; all is well - it fixes some things that had been
> problems for my project.
> 
> Now my questions.  (I asked similar or related questions a couple weeks
> ago but did not quite solve my problem. Sorry for more or less repeating
> myself.)
> 
> Q1: Is there a good way to skip over a bad token in a parser?  In other
> words, I don't want the default handling (syncing and moving to the next
> rule), but rather I want to test the token (I guess in the exception
> handler) and restart the "present" rule if it is a certain kind of
> token. This may be a java question instead of an antlr question.
> 
> Q2: It looks like it is not possible to set error handling code in a
> parser "globally", i.e. something that gets copied into every method
> implementing a rule.  Is that right?
> 
> Thanks much.
> 
> - Dave -
> 
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From alenski at dca.net  Sun Feb  9 23:50:03 2003
From: alenski at dca.net (Alexander Lenski)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] VC 7.0 antlr.dll to special ATTN of Ric Klaren and Terence Parr
Message-ID: <000d01c2d0d9$05ebdf20$ad46f5cf@i7k>

Skipped content of type multipart/alternative-------------- next part --------------

1. Notes for the ANTLR DLL target ( MSVC 7.0, Unmanaged DLL ) by Alexander Lenski:

1.1 Project settings ("create new project" dialogs)
      - Win32 project
        - Application Settings
          - Application type
            - DLL
          - Additional options
            - Export symbols
1.2 Project properties (change defaults to)
      - Configuration Properties
        - C/C++
          - General
            - Additional Include Directories
              - drive:\antlr-2.7.2\lib\cpp
          - Preprocessor
            - Preprocessor Definitions
              - WIN32;_DEBUG;_WINDOWS;_USRDLL;ANTLR_EXPORTS;ANTLR_CXX_SUPPORTS_NAMESPACE
            - Code Generation
              - Runtime Library
                - Multi-threaded Debug DLL (/MDd)
              - Enable Function-Level Linking:
                - Yes
            - Language
              - Enable Run-Time Type Info
                - Yes
            - Precompiled Headers
              - Create/Use Precompiled Headers
                - Not Using Precompiled Headers
        
1.3 Some notes on the code change related to the DLL export
      - See the ASTFactory.hpp for the factory_type, factory_descriptor
        and factory_descriptor_list related defs.
      - SemanticException.hpp is not included in any of the antlr files,
        the SemanticException is not exported. I added the include
        in the CharScaner.hpp.
      - ParserInputState::~ParserInputState must be virtual to be properly
        exported.
      - Check files (e.g. with the WinDiff) for details and other changes.
      
2 Requests by Alexander Lenski
      - Please, (as a min) add the
          //!!!
          //Get number of non-consumed tokens:
          public:
          virtual  unsigned int entries() const;
        with the
          //!!!
          //Get number of non-consumed tokens:
          unsigned int TokenBuffer::entries() const
          { return queue.entries() - markerOffset;
          }
        highly useful function to the TokenBuffer.
        Please, in addition (as a max) make all data members of the
        TokenBuffer protected (as it is done with the InputBuffer)
        instead of private, add the
          //!!!
          //Get number of non-consumed chars:
          public:
          virtual  unsigned int entries() const;
          with the
          //!!!
          //Get number of non-consumed chars:
          unsigned int InputBuffer::entries() const
          { return queue.entries() - markerOffset;
          }
        to the InputBuffer too.
        These changes make specialization of the buffers possible.
      - About the ! suffix (currently not implemented in full) for AST
        construction rules
        - Please, clarify your intentions related to the !.
      - Please, consider addition of one more option for the C++ code gen to set
        DLL export/import customizable spec in all antlr-generated classes in the form
          class CUST_API SomeClass... 
    	  
    
-------------- next part --------------
A non-text attachment was scrubbed...
Name: antlr-2.7.2.zip
Type: application/x-zip-compressed
Size: 83834 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20030210/2c45fced/antlr-2.7.2.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: lib.zip
Type: application/x-zip-compressed
Size: 654541 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20030210/2c45fced/lib.bin
From klaren at cs.utwente.nl  Mon Feb 10 03:58:50 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Restarting a rule
In-Reply-To: <1044847361.3112.7.camel@linux2>; from djplists@arrowsash.com on Sun, Feb 09, 2003 at 10:22:39PM -0500
References: <1044847361.3112.7.camel@linux2>
Message-ID: <20030210125850.A4792@cs.utwente.nl>

Hi,

On Sun, Feb 09, 2003 at 10:22:39PM -0500, David Penton wrote:
> Q2: It looks like it is not possible to set error handling code in a
> parser "globally", i.e. something that gets copied into every method
> implementing a rule.  Is that right?

Yup that's right.

I suggested syntax for this a while back but never implemented it. (It's
actually something I'd like too, so maybe one day ;) )

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Time what is time - I wish I knew how to tell You why - It hurts to know -
          Aren't we machines - Time what is time - Unlock the door
               - And see the truth - Then time is time again
                From: 'Time what is Time' by Blind Guardian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Mon Feb 10 04:18:10 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] VC 7.0 antlr.dll to special ATTN of Ric Klaren and Terence Parr
In-Reply-To: <000d01c2d0d9$05ebdf20$ad46f5cf@i7k>; from alenski@dca.net on Mon, Feb 10, 2003 at 02:50:03AM -0500
References: <000d01c2d0d9$05ebdf20$ad46f5cf@i7k>
Message-ID: <20030210131810.B4792@cs.utwente.nl>

Hi,

On Mon, Feb 10, 2003 at 02:50:03AM -0500, Alexander Lenski wrote:
> (Sorry, this is a second trial. The first one did not get through:
> attachment is too big.)

You can send big stuff directly to me if necessary, our mailserver can
handle quite a lot.

I'll look at it when I'm back in office. (Taking a few earned days off
after returning from business trip to the states)

>             - Preprocessor Definitions
>               - WIN32;_DEBUG;_WINDOWS;_USRDLL;ANTLR_EXPORTS;ANTLR_CXX_SUPPORTS_NAMESPACE

Shouldn't that namespace macro be in the config.hpp, in an appropriate msvc
7 #ifdef ?

>       - Check files (e.g. with the WinDiff) for details and other changes.

Will do :)

> 2 Requests by Alexander Lenski
>         These changes make specialization of the buffers possible.

I'll look at them, don't see much problems there. I might change a name or
two if I think it's more in antlr's naming style though.

>       - About the ! suffix (currently not implemented in full) for AST
>         construction rules
>         - Please, clarify your intentions related to the !.

What's documented should work I guess. If it's not it's a bug. The last
month has been very busy for me so I might have missed a bug report in that
period. To speed up bug fixes in C++ codegen you can send me a complete
compilable grammar which demonstrates the problem (if it's non trivial to
see) If I have to make a grammar myself to find debug such stuff it will
usually take quite some time to get it fixed (since it will need a big
antlr session for me to work on).

> - Please, consider addition of one more option for the C++ code gen to set
>   DLL export/import customizable spec in all antlr-generated classes in the
>   form class CUST_API SomeClass... 

You mean an addition to only the top of the class definitions ? Mail me
details of what you want and I'll have a look (doesn't sound hard to make
in any case).

Thanks for your work!!!

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh, no,
  of course, we ... that is ... well, yes, in fact,' said Ponder. 'Adrian
    goes round the back and ... er ... prods it with his foot. But in a
     technical way,' he added. --- From: Hogfather by Terry Pratchett.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From alenski at dca.net  Mon Feb 10 06:40:57 2003
From: alenski at dca.net (Alexander Lenski)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] VC 7.0 antlr.dll to special ATTN of Ric Klaren and Terence Parr
References: <000d01c2d0d9$05ebdf20$ad46f5cf@i7k> <20030210131810.B4792@cs.utwente.nl>
Message-ID: <000e01c2d112$6c6bdd20$ad46f5cf@i7k>

Hi Ric,

1. ... Shouldn't that namespace macro be in the config.hpp, in an appropriate msvc 7 #ifdef ?
  Yes, the ANTLR_CXX_SUPPORTS_NAMESPACE can be defined in the config.
2. About the ! suffix...

Typical rule:
protected
me_to_s_literal[ MCall* pMC, TYPE_SP_T& spWS ]
{ assert( pMC );
  TYPE_SP_AST spR;
}
: #( spO:PP_TO_S_LITERAL!
       (   IDENT!
           { Some code
           }
         | PP_VA_ARGS!
           { Some code
           }
   )  )
   { Some code
   }
;
3.  You mean an addition to only the top of the class definitions ? ...
Yes,  for example:

config.hpp has:
//
#if defined(_MSC_VER) && !defined(__ICL)
  #if( defined APP_EXPORTS )
    #define CUST_API  __declspec( dllexport )
  #elif( defined  APP_IMPORTS )
    #define CUST_API  __declspec( dllimport )
  #else
    #define CUST_API
  #endif
#endif
//
codegen generates:
//
struct CUST_API CPPMCLexerTokenTypes
{ ...
}
//
class CUST_API CPPMCLexer : public ANTLR_USE_NAMESPACE(antlr)CharScanner, public CPPMCLexerTokenTypes
{ ...
}

Now I can define APP_EXPORTS or APP_IMPORTS in the command line or in the config with the
#define APP_EXPORTS  //When I build DLL for my lexer
or
#define APP_IMPORTS  //When I use the DLL
or I do not define the APP_EXPORTS  and APP_IMPORTS  if build another type of app and do not use the DLL.

Thanks,
Alexander Lenski

----- Original Message ----- 
From: "Ric Klaren" <klaren@cs.utwente.nl>
To: <antlr-interest@yahoogroups.com>
Sent: Monday, February 10, 2003 7:18 AM
Subject: Re: [antlr-interest] VC 7.0 antlr.dll to special ATTN of Ric Klaren and Terence Parr


> Hi,
> 
> On Mon, Feb 10, 2003 at 02:50:03AM -0500, Alexander Lenski wrote:
> > (Sorry, this is a second trial. The first one did not get through:
> > attachment is too big.)
> 
> You can send big stuff directly to me if necessary, our mailserver can
> handle quite a lot.
> 
> I'll look at it when I'm back in office. (Taking a few earned days off
> after returning from business trip to the states)
> 
> >             - Preprocessor Definitions
> >               - WIN32;_DEBUG;_WINDOWS;_USRDLL;ANTLR_EXPORTS;ANTLR_CXX_SUPPORTS_NAMESPACE
> 
> Shouldn't that namespace macro be in the config.hpp, in an appropriate msvc
> 7 #ifdef ?
> 
> >       - Check files (e.g. with the WinDiff) for details and other changes.
> 
> Will do :)
> 
> > 2 Requests by Alexander Lenski
> >         These changes make specialization of the buffers possible.
> 
> I'll look at them, don't see much problems there. I might change a name or
> two if I think it's more in antlr's naming style though.
> 
> >       - About the ! suffix (currently not implemented in full) for AST
> >         construction rules
> >         - Please, clarify your intentions related to the !.
> 
> What's documented should work I guess. If it's not it's a bug. The last
> month has been very busy for me so I might have missed a bug report in that
> period. To speed up bug fixes in C++ codegen you can send me a complete
> compilable grammar which demonstrates the problem (if it's non trivial to
> see) If I have to make a grammar myself to find debug such stuff it will
> usually take quite some time to get it fixed (since it will need a big
> antlr session for me to work on).
> 
> > - Please, consider addition of one more option for the C++ code gen to set
> >   DLL export/import customizable spec in all antlr-generated classes in the
> >   form class CUST_API SomeClass... 
> 
> You mean an addition to only the top of the class definitions ? Mail me
> details of what you want and I'll have a look (doesn't sound hard to make
> in any case).
> 
> Thanks for your work!!!
> 
> Cheers,
> 
> Ric
> -- 
> -----+++++*****************************************************+++++++++-------
>     ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
> -----+++++*****************************************************+++++++++-------
>  'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh, no,
>   of course, we ... that is ... well, yes, in fact,' said Ponder. 'Adrian
>     goes round the back and ... er ... prods it with his foot. But in a
>      technical way,' he added. --- From: Hogfather by Terry Pratchett.
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030210/18a10d46/attachment.html
From cintyram at yahoo.com  Mon Feb 10 06:55:48 2003
From: cintyram at yahoo.com (cintyram <cintyram@yahoo.com>)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Re: doubt in java grammar,
In-Reply-To: <b21847+lng2@eGroups.com>
Message-ID: <b28ehk+4dsi@eGroups.com>

> <cintyram@y...> wrote:
> > hi,
> >  in the java grammar i found this rule ..
> > 
> > // conditional test (level 12)
> > conditionalExpression
> > 	:	logicalOrExpression
> > 		( QUESTION^ assignmentExpression COLON! 
> conditionalExpression )?
> > 	;
> > 
> > is it not true that (expr)? { s1;} : {s2} ;
> > is same as if(expr)
> >              {s1;}
> >             else
> >              {s2;}
> > 
> > in which case both of them should be statement|blockstatement
> > 
> > ; also could some one explain why the existing choice was made?
> 
> for ( <init> ; <cond> ; <iter> )
> {
>   // body
> }
> 
> is also equivalent to:
> 
> <init>
> while ( <cond> )
> {
>   // body
>   <iter>
> }
> 
> Do you have any doubt about the FOR or WHILE rules either?  ;-)
> 

im sorry you missed the point; it is not abt the equivalence of the
two constructs that i was asking, but it was abt using
assignmentExpression and conditionalExpression , where i thought
statement could have been used ;
cheers
ram

> Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From yhhf_dy at yahoo.com  Mon Feb 10 07:18:47 2003
From: yhhf_dy at yahoo.com (Fan Yang <yhhf_dy@yahoo.com>)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] How to add SEMI of variable declaration in the result tree?
Message-ID: <b28fsn+rm13@eGroups.com>

Hi all,

I want to preserve all whitespaces and comments for java code, so I 
have to modify java.g and java.tree.g in order to let all SEMI be 
added to the result AST tree.

But I was stuck in how to incorperate SEMI which exists in variable 
declaration rule. Problem is that "field" rule suffixed with "!" will 
not add his tree to the result tree. so the SEMI which is at the end 
of "v:variableDefinitions[#mods,#t] SEMI" will not appear in the 
result tree. I have tried to add SEMI into "variableDeclarator" 
subrule, finally I failed to do that.

Would you please help me to deal with this problem. Any suggestion 
will be appreciated.

Good Wishes,

Fan Yang



---- fraction of Java.g ---
field!:
.
.
.
v:variableDefinitions[#mods,#t] SEMI
//{#field = #(#[VARIABLE_DEF,"VARIABLE_DEF"], v);}
{#field = #v;}
.
.
.
variableDefinitions[AST mods, AST t]
 : variableDeclarator[getASTFactory().dupTree(mods),
   getASTFactory().dupTree(t)]
   (COMMA!
     variableDeclarator[getASTFactory().dupTree(mods),
	getASTFactory().dupTree(t)]
    )*
    ;

variableDeclarator![AST mods, AST t]
 :id:IDENT d:declaratorBrackets[t] v:varInitializer
 {#variableDeclarator = #(#[VARIABLE_DEF,"VARIABLE_DEF"], mods, #(#  
[TYPE,"TYPE"],d), id, v);}
 ;

declaratorBrackets[AST typ]
 :{#declaratorBrackets=typ;}
  (lb:LBRACK^ {#lb.setType(ARRAY_DECLARATOR);} RBRACK)*
  ;

varInitializer
 :( ASSIGN^ initializer )?
 ;
 

 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cormier at u-picardie.fr  Mon Feb 10 08:00:52 2003
From: cormier at u-picardie.fr (CC)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] just a very small detail
In-Reply-To: <b28ehk+4dsi@eGroups.com>
References: <b21847+lng2@eGroups.com>
Message-ID: <5.2.0.9.0.20030210164433.00a6add8@mailx.u-picardie.fr>

Hi,
With -html the html file grammar has for heading:
...
ANTLR Version 2.7.2; 1989-1999
...

Regards


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Mon Feb 10 08:09:42 2003
From: cintyram at yahoo.com (cintyram <cintyram@yahoo.com>)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] rules with same token on both ends
Message-ID: <b28is6+vsjs@eGroups.com>

hi ,
 how to implement a rule with the same starting and ending token;
eg:
decl ! : type:ID units:ID (ID)+ ;

now in the iput file being parsed a line like

electrical Volts Vin    Vout
electrical Current Iin  Iout

is not parsed properly as all the IDs on the second line are matched
by the rule as the trailing IDs for the first line!;

since the delimiter is newline, which is delimiter only for some
statements , please suggest how this situation can be handled ?

thanks in advance,
cheers
ram
ps: please also read messages #7408 and #7411 ;












 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From johnm-antlr at non.net  Mon Feb 10 09:20:24 2003
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Reminder
In-Reply-To: <000d01c2d0d9$05ebdf20$ad46f5cf@i7k>
References: <000d01c2d0d9$05ebdf20$ad46f5cf@i7k>
Message-ID: <15943.57176.55649.25258@non.non.net>

>>>>> "Alexander" == Alexander Lenski <alenski@dca.net> writes:
[...]
> (Sorry, this is a second trial. The first one did not get through:
> attachment is too big.)

You might want to take that as an important hint.  Sending ~1MB to a
mailing list is completely unacceptable (unless that's explicitly mentioned
in the charter, and for this list, it ain't).

ADMINISTRIVIA REMINDER:  Do NOT send large files to mailing lists!

Instead, put them up on an ftp/http server and send the URL to the list
with a summary.

John

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Mon Feb 10 10:29:48 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Re: doubt in java grammar,
In-Reply-To: <b28ehk+4dsi@eGroups.com>
Message-ID: <b28r2s+8asv@eGroups.com>

> > > hi,
> > >  in the java grammar i found this rule ..
> > > 
> > > // conditional test (level 12)
> > > conditionalExpression
> > > 	:	logicalOrExpression
> > > 		( QUESTION^ assignmentExpression COLON! 
> > conditionalExpression )?
> > > 	;
> > > 
> > > is it not true that (expr)? { s1;} : {s2} ;
> > > is same as if(expr)
> > >              {s1;}
> > >             else
> > >              {s2;}
> > > 
> > > in which case both of them should be statement|blockstatement
> > > 
> > > ; also could some one explain why the existing choice was made?

<SNIPPED>

> im sorry you missed the point; it is not abt the equivalence of the
> two constructs that i was asking, but it was abt using
> assignmentExpression and conditionalExpression , where i thought
> statement could have been used ;
> cheers
> ram

My mistake. The conditionalExpression is an expression not a 
statement. It has a type unlike statements.

INCORRECT: cond ? stmt1 : stmt2
CORRECT  : cond ? expr1 : expr2

Cheers,

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Mon Feb 10 11:01:54 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Reminder
In-Reply-To: <15943.57176.55649.25258@non.non.net>
Message-ID: <1EE08CD7-3D2A-11D7-90EB-000393BB647E@jguru.com>

I'm working on the new ANTLR site (I have to build the code and must 
finish course notes first) ;).  Anyway, you'll be able to upload 
whatever you want there when I'm finished. :)

Ter

On Monday, February 10, 2003, at 09:20 AM, John D. Mitchell wrote:

>>>>>> "Alexander" == Alexander Lenski <alenski@dca.net> writes:
> [...]
>> (Sorry, this is a second trial. The first one did not get through:
>> attachment is too big.)
>
> You might want to take that as an important hint.  Sending ~1MB to a
> mailing list is completely unacceptable (unless that's explicitly 
> mentioned
> in the charter, and for this list, it ain't).
>
> ADMINISTRIVIA REMINDER:  Do NOT send large files to mailing lists!
>
> Instead, put them up on an ftp/http server and send the URL to the list
> with a summary.
>
> John
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From alenski at dca.net  Mon Feb 10 12:11:32 2003
From: alenski at dca.net (Alexander Lenski)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] VC 7.0 antlr.dll to special ATTN of Ric Klaren and Terence Parr
References: <000d01c2d0d9$05ebdf20$ad46f5cf@i7k> <20030210131810.B4792@cs.utwente.nl> <000e01c2d112$6c6bdd20$ad46f5cf@i7k>
Message-ID: <000f01c2d140$9accf270$ad46f5cf@i7k>

Sorry, I missed the #else subexpr:

3.  You mean an addition to only the top of the class definitions ? ...
Yes,  for example:

config.hpp has:
//
#if defined(_MSC_VER) && !defined(__ICL)
  #if defined( APP_EXPORTS )
    #define CUST_API  __declspec( dllexport )
  #elif defined(APP_IMPORTS )
    #define CUST_API  __declspec( dllimport )
  #else
    #define CUST_API
  #endif
#else
  #define CUST_API
#endif
//
codegen generates:
//
struct CUST_API CPPMCLexerTokenTypes
{ ...
}
//
class CUST_API CPPMCLexer : public ANTLR_USE_NAMESPACE(antlr)CharScanner, public CPPMCLexerTokenTypes
{ ...
}

Now I can define APP_EXPORTS or APP_IMPORTS in the command line or in the config with the
#define APP_EXPORTS  //When I build DLL for my lexer
or
#define APP_IMPORTS  //When I use the DLL
or I do not define the APP_EXPORTS  and APP_IMPORTS  if I build another type of app and do not use the DLL.

Thanks,
Alexander Lenski

  ----- Original Message ----- 
  From: Alexander Lenski 
  To: antlr-interest@yahoogroups.com 
  Sent: Monday, February 10, 2003 9:40 AM
  Subject: Re: [antlr-interest] VC 7.0 antlr.dll to special ATTN of Ric Klaren and Terence Parr


  Hi Ric,

  1. ... Shouldn't that namespace macro be in the config.hpp, in an appropriate msvc 7 #ifdef ?
    Yes, the ANTLR_CXX_SUPPORTS_NAMESPACE can be defined in the config.
  2. About the ! suffix...

  Typical rule:
  protected
  me_to_s_literal[ MCall* pMC, TYPE_SP_T& spWS ]
  { assert( pMC );
    TYPE_SP_AST spR;
  }
  : #( spO:PP_TO_S_LITERAL!
         (   IDENT!
             { Some code
             }
           | PP_VA_ARGS!
             { Some code
             }
     )  )
     { Some code
     }
  ;
  3.  You mean an addition to only the top of the class definitions ? ...
  Yes,  for example:

  config.hpp has:
  //
  #if defined(_MSC_VER) && !defined(__ICL)
    #if( defined APP_EXPORTS )
      #define CUST_API  __declspec( dllexport )
    #elif( defined  APP_IMPORTS )
      #define CUST_API  __declspec( dllimport )
    #else
      #define CUST_API
    #endif
  #endif
  //
  codegen generates:
  //
  struct CUST_API CPPMCLexerTokenTypes
  { ...
  }
  //
  class CUST_API CPPMCLexer : public ANTLR_USE_NAMESPACE(antlr)CharScanner, public CPPMCLexerTokenTypes
  { ...
  }

  Now I can define APP_EXPORTS or APP_IMPORTS in the command line or in the config with the
  #define APP_EXPORTS  //When I build DLL for my lexer
  or
  #define APP_IMPORTS  //When I use the DLL
  or I do not define the APP_EXPORTS  and APP_IMPORTS  if build another type of app and do not use the DLL.

  Thanks,
  Alexander Lenski

  ----- Original Message ----- 
  From: "Ric Klaren" <klaren@cs.utwente.nl>
  To: <antlr-interest@yahoogroups.com>
  Sent: Monday, February 10, 2003 7:18 AM
  Subject: Re: [antlr-interest] VC 7.0 antlr.dll to special ATTN of Ric Klaren and Terence Parr


  > Hi,
  > 
  > On Mon, Feb 10, 2003 at 02:50:03AM -0500, Alexander Lenski wrote:
  > > (Sorry, this is a second trial. The first one did not get through:
  > > attachment is too big.)
  > 
  > You can send big stuff directly to me if necessary, our mailserver can
  > handle quite a lot.
  > 
  > I'll look at it when I'm back in office. (Taking a few earned days off
  > after returning from business trip to the states)
  > 
  > >             - Preprocessor Definitions
  > >               - WIN32;_DEBUG;_WINDOWS;_USRDLL;ANTLR_EXPORTS;ANTLR_CXX_SUPPORTS_NAMESPACE
  > 
  > Shouldn't that namespace macro be in the config.hpp, in an appropriate msvc
  > 7 #ifdef ?
  > 
  > >       - Check files (e.g. with the WinDiff) for details and other changes.
  > 
  > Will do :)
  > 
  > > 2 Requests by Alexander Lenski
  > >         These changes make specialization of the buffers possible.
  > 
  > I'll look at them, don't see much problems there. I might change a name or
  > two if I think it's more in antlr's naming style though.
  > 
  > >       - About the ! suffix (currently not implemented in full) for AST
  > >         construction rules
  > >         - Please, clarify your intentions related to the !.
  > 
  > What's documented should work I guess. If it's not it's a bug. The last
  > month has been very busy for me so I might have missed a bug report in that
  > period. To speed up bug fixes in C++ codegen you can send me a complete
  > compilable grammar which demonstrates the problem (if it's non trivial to
  > see) If I have to make a grammar myself to find debug such stuff it will
  > usually take quite some time to get it fixed (since it will need a big
  > antlr session for me to work on).
  > 
  > > - Please, consider addition of one more option for the C++ code gen to set
  > >   DLL export/import customizable spec in all antlr-generated classes in the
  > >   form class CUST_API SomeClass... 
  > 
  > You mean an addition to only the top of the class definitions ? Mail me
  > details of what you want and I'll have a look (doesn't sound hard to make
  > in any case).
  > 
  > Thanks for your work!!!
  > 
  > Cheers,
  > 
  > Ric
  > -- 
  > -----+++++*****************************************************+++++++++-------
  >     ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
  > -----+++++*****************************************************+++++++++-------
  >  'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh, no,
  >   of course, we ... that is ... well, yes, in fact,' said Ponder. 'Adrian
  >     goes round the back and ... er ... prods it with his foot. But in a
  >      technical way,' he added. --- From: Hogfather by Terry Pratchett.
  > 
  > 
  >  
  > 
  > Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
  > 
  > 
  > 
  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030210/9a4e5dc8/attachment.html
From djplists at arrowsash.com  Mon Feb 10 14:40:03 2003
From: djplists at arrowsash.com (David Penton)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Restarting a rule
In-Reply-To: <20030210125850.A4792@cs.utwente.nl>
References: <1044847361.3112.7.camel@linux2> 
	<20030210125850.A4792@cs.utwente.nl>
Message-ID: <1044916805.1858.0.camel@linux2>

Thanks Ric.  Yeah, it seems that it might be useful to have that.

- Dave -

On Mon, 2003-02-10 at 06:58, Ric Klaren wrote:
> Hi,
> 
> On Sun, Feb 09, 2003 at 10:22:39PM -0500, David Penton wrote:
> > Q2: It looks like it is not possible to set error handling code in a
> > parser "globally", i.e. something that gets copied into every method
> > implementing a rule.  Is that right?
> 
> Yup that's right.
> 
> I suggested syntax for this a while back but never implemented it. (It's
> actually something I'd like too, so maybe one day ;) )
> 
> Cheers,
> 
> Ric
> --
> -----+++++*****************************************************+++++++++-------
>     ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
> -----+++++*****************************************************+++++++++-------
>  Time what is time - I wish I knew how to tell You why - It hurts to know -
>           Aren't we machines - Time what is time - Unlock the door
>                - And see the truth - Then time is time again
>                 From: 'Time what is Time' by Blind Guardian
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From hushlee83 at yahoo.com.sg  Mon Feb 10 16:42:38 2003
From: hushlee83 at yahoo.com.sg (=?iso-8859-1?q?Sharon=20Li?=)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Translating LR to LL - Infinite recurrsion and Non-determinism error
Message-ID: <20030211004238.46769.qmail@web40908.mail.yahoo.com>


Hi can someone pls help me solve this non-determinism error? I'm trying to translate LR to LL, encountered many infinite recurrsion and non-determinism errors. Any suggestions or advice?

class LParser extends Parser;

options { k=4; }

lsys : ("Lystem"|"lsystem") COLON (INTEGER) ;

ring : ("R"|"r") "ing" ("L"|"l") "system";
seed : ("Seed"|"seed") COLON INTEGER;
dLength : ("D"|"d") "erivation" ("L"|"l") "length" COLON INTEGER;
ignore : ("Ignore"|"ignore") COLON ;
consider : ("Consider"|"consider") COLON ;

operators : (OR | AND | EQUAL | NOTEQUAL | LT | GT | LE | GE | PLUS | MINUS | TIMES | DIVIDE | REM | POW) ; 

//lValue : "&" (NAME) ;
    
value : (INTEGER) ;

arrayRef: LBRACK (expression) RBRACK ;

arrayRefs : (arrayRef)+ ;

name : NAME (arrayRefs)* ; 

parameters : expression (COMMA expression)* ; 

functionName: "tan" | "sin" | "cos" | "atan" | "asin" | "acos" | "ran" | "nran" | "bran" | "biran" 
      | "srand" | "exp" | "log" | "floor" | "ceil" | "trunc" | "fabs" | "sign" | "inblob" | "stop"
      | "sqrt" | "printf" | "fprintf" | "fopen" | "fclose" | "fflush" | "fscanf" | "func" 
      | "play" | "funcX" | "funcY" | "funcZ" | "lfunc"
      ;
      
function : functionName LPAREN parameters RPAREN ;

expression: MINUS expression
     | NOT expression
     | (expression ((operators) | (question expression COLON)) expression) 
     | LPAREN expression RPAREN
     | "&" (NAME)
     | function
     | name
     | INTEGER
     ;
     
arrayDim : LBRACK expression RBRACK ;
arrayDims : (arrayDim)+;
arrayInitBlock : LBRACE parameters RBRACE ;
arrayDef: NAME arrayDims ("=" arrayInitBlock)* ; 
arrayDefs : (arrayDef) (COMMA arrayDef)* ;
arrayDefStatement : "array" arrayDefs SEMI ;

externalDef : (NAME)(arrayDims)* ("=" arrayInitBlock)* ;      
externalDefs : (externalDef) (COMMA externalDef)* ;
externalDefStatement : "external" externalDefs SEMI ;

defStatement: arrayDefStatement
      | externalDefStatement ;
defStatements : (defStatement)+;

defineBlock : LBRACE defStatements RBRACE;

defines : ("Define"|"define") COLON defineBlock;

block : LBRACE (expression) RBRACE;

startBlock : ("Start"|"start") COLON block;

endBlock : ("End"|"end") COLON block;

/*******lexer class *******************************/

class LLexer extends Lexer;

options{
 charVocabulary='\3'..'\377';
 k = 4;
}

protected ALPHA  : ( 'a'..'z' | 'A'..'Z' ); 

protected DIGIT : ('0'..'9') ;

//EXP : ('E'|'e') (SIGN)? (DIGIT)+;

INTEGER: (DIGIT)+ ;

NAME : (ALPHA) (ALPHA|DIGIT|UNDERSCORE)* ;

OR     : "||";
AND     : "&&";
EQUAL    : "==";
NOTEQUAL  : "!=";
GT     : '>';
LT     : '<';
LE     : "<=";
GE     : ">=";
PLUS     : '+'; 
MINUS    : '-';
DIVIDE   : '/';
TIMES    : '*';
POW     : '^';
REM     : '%';

/***/

COLON    : ':';
DOT     : '.';
COMMA    : ',';
SEMI    : ';';
QUESTION  : '?';
NOT     : '!';
UNDERSCORE : '_';
LPAREN   : '(';
RPAREN   : ')';
LBRACK   : '[';
RBRACK   : ']';
LCURLY   : '{';
RCURLY   : '}';
HEX     : '#'; 


 Yahoo! Travel
- Valentine surprise deals. Book now!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030211/4cb228e7/attachment.html
From rmsanjivp at yahoo.com  Mon Feb 10 17:06:49 2003
From: rmsanjivp at yahoo.com (rmsanjivp <rmsanjivp@yahoo.com>)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Warning for unreferenced variable
Message-ID: <b29ib9+j80f@eGroups.com>

Hi!

With VC6.0 version I get the following warning when compiling for 
this line

catch (ANTLR_USE_NAMESPACE(antlr)RecognitionException& pe) {
			synPredMatched23 = false;
}

warning C4101: 'pe' : unreferenced local variable

Could you guys please fix this warning? 

Thanks,
sanjiv



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Anthony.Youngman at ECA-International.com  Tue Feb 11 01:23:31 2003
From: Anthony.Youngman at ECA-International.com (Anthony W. Youngman)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Re: Version question
Message-ID: <0EF9DEABA42FE547BAE43D0298F146B23DD44D@ESP.eca-international.local>

Skipped content of type multipart/alternative
From Anthony.Youngman at ECA-International.com  Tue Feb 11 06:29:52 2003
From: Anthony.Youngman at ECA-International.com (Anthony W. Youngman)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Re: Is there an ANTLR trick/hack to specify 
	"NEWLINE or EOF" in Lexer
Message-ID: <0EF9DEABA42FE547BAE43D0298F146B23DD451@ESP.eca-international.local>

Skipped content of type multipart/alternative
From abreneliere at telys.com  Tue Feb 11 10:18:16 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] does the third argument work, for AST node constructor ?
Message-ID: <003701c2d1f9$f30506d0$cb646464@lavaserver>

NodeAST is an existing class, like CommonAST

Here is my rule :

entity! // (supplier WHERE name="Telys"):client
	:	(COLON)? a:entityComponent ( COLON! b:entity )?
		{ #entity = #( #[RENTO, "<entity>", "NodeAST"], #a, #b,
#[RENTC, "</entity>", "NodeAST"]); }
;

..but #[RENTO, "<entity>", "NodeAST"] reports an error:

iCIAO.g:224:34: unexpected char: ','

i tried also #[RENTO, "<entity>", NodeAST], or #[RENTO, "<entity>",
<NodeAST>]

but i did not find any example for this syntax i read in the
documentation (ANTLR Tree Construction).


So, is it a syntax error in my code, or isnt't it implemented yed in
ANTLR ?

Cordially,
Anonth




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Tue Feb 11 11:22:00 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] does the third argument work, for AST node constructor ?
In-Reply-To: <003701c2d1f9$f30506d0$cb646464@lavaserver>
Message-ID: <17BD2F2E-3DF6-11D7-90EB-000393BB647E@jguru.com>

What language are you generating?  I have tried this for sure in Java 
output.

Terence

On Tuesday, February 11, 2003, at 10:18 AM, Anthony Breneli?re wrote:

> NodeAST is an existing class, like CommonAST
>
> Here is my rule :
>
> entity! // (supplier WHERE name="Telys"):client
> 	:	(COLON)? a:entityComponent ( COLON! b:entity )?
> 		{ #entity = #( #[RENTO, "<entity>", "NodeAST"], #a, #b,
> #[RENTC, "</entity>", "NodeAST"]); }
> ;
>
> ..but #[RENTO, "<entity>", "NodeAST"] reports an error:
>
> iCIAO.g:224:34: unexpected char: ','
>
> i tried also #[RENTO, "<entity>", NodeAST], or #[RENTO, "<entity>",
> <NodeAST>]
>
> but i did not find any example for this syntax i read in the
> documentation (ANTLR Tree Construction).
>
>
> So, is it a syntax error in my code, or isnt't it implemented yed in
> ANTLR ?
>
> Cordially,
> Anonth
>
>
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Tue Feb 11 11:21:16 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Re: Is there an ANTLR trick/hack to specify  "NEWLINE or EOF" in Lexer
In-Reply-To: <0EF9DEABA42FE547BAE43D0298F146B23DD451@ESP.eca-international.local>
Message-ID: <FD8B7283-3DF5-11D7-90EB-000393BB647E@jguru.com>


On Tuesday, February 11, 2003, at 06:29 AM, Anthony W. Youngman wrote:

> IIRC (don't quote me on this) only the first byte in a Unicode char is 
> allowed to start with a binary 1. And this indicates the start of a 
> multi-byte sequence. So yes, you're right in saying 0xFFFF is not an 
> assigned Unicode codepoint. It can't be since the coding definition 
> prevents you have two consecutive bytes starting with a 1.

I think you are talking about a specific disk encoding called UTF-8 
(unicode to follow).  That means that either it's a single byte (for 
saving space) or it's multi byte and the high bit says to look for 
another...not sure though.

>
> eg to encode 10110111b, you need to split it into two bytes, the first 
> starts 10 to show it's a two-byte block, and then the character is 
> split 7 bits in the lower byte and 1 in the upper, namely 10000001 
> 00110111. I think I've got it right ...

I think that is right for UTF-8, but the 16 bit memory unicode char is 
what we need to worry about I think.

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tmoog at polhode.com  Tue Feb 11 19:12:26 2003
From: tmoog at polhode.com (Tom Moog)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Re: Is there an ANTLR trick/hack to specify 
 "NEWLINE or EOF" in Lexer
In-Reply-To: <FD8B7283-3DF5-11D7-90EB-000393BB647E@jguru.com>
Message-ID: <Pine.WNT.4.44.0302112101050.532-100000@polhode3>


Unicode is a number (code point).  It has
multiple representations (encodings): utf-8,
utf-16, ucs-2, etc.

With utf-8:

1 byte sequence = 0xxx xxxx
2 byte sequence = 11xx xxxx 10xx xxxx
3 byte sequence = 111x xxxx 10xx xxxx 10xx xxxx
4 byte sequence = 1111 xxxx 10xx xxxx 10xx xxxx 10xx xxxx

UCS-2 is just the first 2**16 unicode characters, except
for some holes (e.g. 0xfeff or is it 0xfffe ?, can't
remember) which is reserved for the byte order mark.

UTF-16 is similar to ucs-2, but has something called
surrogate pairs for representing Unicode values .gt.
2*16.  With surrogate pairs, the upper 6 bits of two
adjacent words contain special codes and the low
order 10 bits of each word are combined to create
a 2**20 value.  The upper 6 bits reserved for this
purpose could create a hole, but these Unicode values
are reserved for just this purpose.




On Tue, 11 Feb 2003, Terence Parr wrote:

>
> On Tuesday, February 11, 2003, at 06:29 AM, Anthony W. Youngman wrote:
>
> > IIRC (don't quote me on this) only the first byte in a Unicode char is
> > allowed to start with a binary 1. And this indicates the start of a
> > multi-byte sequence. So yes, you're right in saying 0xFFFF is not an
> > assigned Unicode codepoint. It can't be since the coding definition
> > prevents you have two consecutive bytes starting with a 1.
>
> I think you are talking about a specific disk encoding called UTF-8
> (unicode to follow).  That means that either it's a single byte (for
> saving space) or it's multi byte and the high bit says to look for
> another...not sure though.
>
> >
> > eg to encode 10110111b, you need to split it into two bytes, the first
> > starts 10 to show it's a two-byte block, and then the character is
> > split 7 bits in the lower byte and 1 in the upper, namely 10000001
> > 00110111. I think I've got it right ...
>
> I think that is right for UTF-8, but the 16 bit memory unicode char is
> what we need to worry about I think.
>
> Ter
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From nk.truong at student.qut.edu.au  Tue Feb 11 21:57:31 2003
From: nk.truong at student.qut.edu.au (tdknghi <nk.truong@student.qut.edu.au>)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Re: Line number
In-Reply-To: <b1anrf+3d5t@eGroups.com>
Message-ID: <b2cnoc+qmff@eGroups.com>

    Hi,

Sorry for being so stupid. Could you give me more detail instruction 
how to keep track the line number for Java programs (by AST view)?
I read the track line number section in the ANTLR documentation. 
However, I haven't got a clear idea how to do it. 

Thanks.

Regards,
MiMi


--- In antlr-interest@yahoogroups.com, "micheal_jor <open.zone@v...>" 
<open.zone@v...> wrote:
> 
> >   Hi all,
> > 
> > I have seen a lot of post regarding about display the line number 
> in the 
> > AST vew. However, there is no clear and example of how to do it. I 
> am 
> > currently using antlr 2-7.2.
> >    Could you please let me know how to get it done. Thanks.
> > 
> > Regards,
> > MiMi
> 
> If you are using Java or C# and, if by "AST view" you mean the 
> ASTFrame mechanism for viewing your ASTs then you can do the 
> following:
> 
> 1. Create a subclass of the appropriate standard Common***AST 
class 
> (if you haven't already)
> 2. Override toString()/ToString() to print line numbers as well
> 3. Instruct your parser to use your new AST class with 
> parser.setASTNodeType(string) or by using the "ASTLableType" 
option 
> in your grammar.
> 
> Run your app as usual  ;-)
> 
> Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mornes at mosaicsoftware.com  Tue Feb 11 22:08:51 2003
From: mornes at mosaicsoftware.com (Morne Streicher)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Re: Line number [sls]-bl.spamcop.net
Message-ID: <C8B0B2010780F1439E5DAB4FF7DFFFD9015E4E80@za-exchange.za.mosaicsoftware.net>

Dear All

Thanks to some help from this interest group, I found it easy to track line numbers. Here is what I have done. Hope this concrete example helps - and off course, it's only one way of doing it... 

Sure there are more elegant ways - but this works for me...

Step 1 : Extend the CommonAST class:
----------------------------------------------------------



public class OTS_AST extends CommonAST {
	int line_number = -1;
	int column_number = -1;
	
    public OTS_AST() {
    }

    public OTS_AST(Token tok) {
        initialize(tok);
    }

    public void initialize(Token tok) {
        setText(tok.getText());
        setType(tok.getType());
		this.line_number = tok.getLine();
		this.column_number = tok.getColumn();		
    }
	
	public int getLine()
	{
		return this.line_number;
	}
	
	public int getColumn()
	{
		return this.column_number;
	}
}

Step 2 : Tell the parser which AST class to use:
---------------------------------------------------
			//....
			otsLexer lexer = new otsLexer(fis);
			lexer.setFilename(filename);
			otsParser parser = new otsParser(lexer);
			parser.setFilename(filename);
			parser.setASTNodeType("OTS_AST");  --NB!!!!!!!!
			parser.otscript();
			//....

Step 3: Get your instance of the AST
----------------------------------------

		//.....

		OTS_AST ast = (OTS_AST) parser.getAST()

		int token1_line = ast.getLine();

		//...

And that's it. 

M.

-----Original Message-----
From: tdknghi <nk.truong@student.qut.edu.au>
[mailto:nk.truong@student.qut.edu.au]
Sent: 12 February 2003 07:58
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: Line number [sls]-bl.spamcop.net
Importance: Low


    Hi,

Sorry for being so stupid. Could you give me more detail instruction 
how to keep track the line number for Java programs (by AST view)?
I read the track line number section in the ANTLR documentation. 
However, I haven't got a clear idea how to do it. 

Thanks.

Regards,
MiMi


--- In antlr-interest@yahoogroups.com, "micheal_jor <open.zone@v...>" 
<open.zone@v...> wrote:
> 
> >   Hi all,
> > 
> > I have seen a lot of post regarding about display the line number 
> in the 
> > AST vew. However, there is no clear and example of how to do it. I 
> am 
> > currently using antlr 2-7.2.
> >    Could you please let me know how to get it done. Thanks.
> > 
> > Regards,
> > MiMi
> 
> If you are using Java or C# and, if by "AST view" you mean the 
> ASTFrame mechanism for viewing your ASTs then you can do the 
> following:
> 
> 1. Create a subclass of the appropriate standard Common***AST 
class 
> (if you haven't already)
> 2. Override toString()/ToString() to print line numbers as well
> 3. Instruct your parser to use your new AST class with 
> parser.setASTNodeType(string) or by using the "ASTLableType" 
option 
> in your grammar.
> 
> Run your app as usual  ;-)
> 
> Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From nk.truong at student.qut.edu.au  Tue Feb 11 22:40:28 2003
From: nk.truong at student.qut.edu.au (tdknghi <nk.truong@student.qut.edu.au>)
Date: Mon Dec 20 16:15:21 2004
Subject: [antlr-interest] Re: Line number [sls]-bl.spamcop.net
In-Reply-To: <C8B0B2010780F1439E5DAB4FF7DFFFD9015E4E80@za-exchange.za.mosaicsoftware.net>
Message-ID: <b2cq8s+uag4@eGroups.com>

   Hi,
Many thanks for your quick and detail response. However, I tried it and 
it doesn't work. It all compiled but when I run
  java Main -showtree myprogram.java

the ASTFrame view doesn't appear at all. Do we have to modify the 
lexer or parser?????

Thanks.

Regards,
MiMi

--- In antlr-interest@yahoogroups.com, "Morne Streicher" 
<mornes@m...> wrote:
> Dear All
> 
> Thanks to some help from this interest group, I found it easy to track 
line numbers. Here is what I have done. Hope this concrete example 
helps - and off course, it's only one way of doing it... 
> 
> Sure there are more elegant ways - but this works for me...
> 
> Step 1 : Extend the CommonAST class:
> ----------------------------------------------------------
> 
> 
> 
> public class OTS_AST extends CommonAST {
> 	int line_number = -1;
> 	int column_number = -1;
> 	
>     public OTS_AST() {
>     }
> 
>     public OTS_AST(Token tok) {
>         initialize(tok);
>     }
> 
>     public void initialize(Token tok) {
>         setText(tok.getText());
>         setType(tok.getType());
> 		this.line_number = tok.getLine();
> 		this.column_number = tok.getColumn();	
	
>     }
> 	
> 	public int getLine()
> 	{
> 		return this.line_number;
> 	}
> 	
> 	public int getColumn()
> 	{
> 		return this.column_number;
> 	}
> }
> 
> Step 2 : Tell the parser which AST class to use:
> ---------------------------------------------------
> 			//....
> 			otsLexer lexer = new otsLexer(fis);
> 			lexer.setFilename(filename);
> 			otsParser parser = new otsParser
(lexer);
> 			parser.setFilename(filename);
> 			parser.setASTNodeType
("OTS_AST");  --NB!!!!!!!!
> 			parser.otscript();
> 			//....
> 
> Step 3: Get your instance of the AST
> ----------------------------------------
> 
> 		//.....
> 
> 		OTS_AST ast = (OTS_AST) parser.getAST()
> 
> 		int token1_line = ast.getLine();
> 
> 		//...
> 
> And that's it. 
> 
> M.
> 
> -----Original Message-----
> From: tdknghi <nk.truong@s...>
> [mailto:nk.truong@s...]
> Sent: 12 February 2003 07:58
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: Line number [sls]-bl.spamcop.net
> Importance: Low
> 
> 
>     Hi,
> 
> Sorry for being so stupid. Could you give me more detail instruction 
> how to keep track the line number for Java programs (by AST view)?
> I read the track line number section in the ANTLR documentation. 
> However, I haven't got a clear idea how to do it. 
> 
> Thanks.
> 
> Regards,
> MiMi
> 
> 
> --- In antlr-interest@yahoogroups.com, "micheal_jor 
<open.zone@v...>" 
> <open.zone@v...> wrote:
> > 
> > >   Hi all,
> > > 
> > > I have seen a lot of post regarding about display the line number 
> > in the 
> > > AST vew. However, there is no clear and example of how to do 
it. I 
> > am 
> > > currently using antlr 2-7.2.
> > >    Could you please let me know how to get it done. Thanks.
> > > 
> > > Regards,
> > > MiMi
> > 
> > If you are using Java or C# and, if by "AST view" you mean the 
> > ASTFrame mechanism for viewing your ASTs then you can do the 
> > following:
> > 
> > 1. Create a subclass of the appropriate standard Common***AST 
> class 
> > (if you haven't already)
> > 2. Override toString()/ToString() to print line numbers as well
> > 3. Instruct your parser to use your new AST class with 
> > parser.setASTNodeType(string) or by using the "ASTLableType" 
> option 
> > in your grammar.
> > 
> > Run your app as usual  ;-)
> > 
> > Micheal
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From abreneliere at telys.com  Wed Feb 12 06:36:28 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] does the third argument work, for AST node constructor ?
In-Reply-To: <17BD2F2E-3DF6-11D7-90EB-000393BB647E@jguru.com>
Message-ID: <005601c2d2a4$216609c0$cb646464@lavaserver>

I use the C++ language as language output.

Is there any backup solution to change the token type of a created token
type ?

I don't know what to do, I also tried..

entity! // (supplier WHERE name="Telys"):client
	:	(COLON)? a:entityComponent ( COLON! b:entity )?
		{ #entity = #( #[RENTO, "<entity>"], #a, #b, #[RENTC,
"</entity>"]); }
;

..with..

tokens {
	...
	RENTO<AST=NodeAST>; RENTC<AST=NodeAST>;
	...
}

.. but in the program, the returned node is ttype = RENTO and uses a
CommonAST Node.

Cordially,
Anthony

> What language are you generating?  I have tried this for sure in Java
> output.
> 
> Terence
> 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Wed Feb 12 07:57:07 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] does the third argument work, for AST node constructor ?
In-Reply-To: <005601c2d2a4$216609c0$cb646464@lavaserver>; from abreneliere@telys.com on Wed, Feb 12, 2003 at 03:36:28PM +0100
References: <17BD2F2E-3DF6-11D7-90EB-000393BB647E@jguru.com> <005601c2d2a4$216609c0$cb646464@lavaserver>
Message-ID: <20030212165707.A10541@cs.utwente.nl>

Hi,

On Wed, Feb 12, 2003 at 03:36:28PM +0100, Anthony Brenelière wrote:
> I use the C++ language as language output.
>
> Is there any backup solution to change the token type of a created token
> type ?

Use setText/setType on the generated AST element depending on what you want
to change. e.g #entity->setType(RENTO) (or YourTokenTypes::RENTO)

> entity! // (supplier WHERE name="Telys"):client
> 	:	(COLON)? a:entityComponent ( COLON! b:entity )?
> 		{ #entity = #( #[RENTO, "<entity>"], #a, #b, #[RENTC,
> "</entity>"]); }
> ;

I think I never ported that syntax to C++ mode. Information of those #[]
constructors uses one of the most ugly and frail hacks inside antlrs
action-parser to generator interface. There is also a argument against
fiddling with the returned AST type on spots all over the code (e.g. you
might destroy the mapping the AST factory expects of ID to type, which
would not be that practical).

> tokens {
> 	...
> 	RENTO<AST=NodeAST>; RENTC<AST=NodeAST>;
> 	...
> }
>
> .. but in the program, the returned node is ttype = RENTO and uses a
> CommonAST Node.

This setup should work (and is the recomended setup in my opinion). 

Is NodeAST correctly derived? Have you set up your ASTFactory correctly?

Be aware that the Reference counting used for the AST's in ANTLR defeats
quite a few nice polymorphism tricks that you'd normally expect to be
working. (Yes, I'm no fan of heterogeneous AST's in C++ mode)

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Why don't we just invite them to dinner and massacre them all when they're
  drunk? You heard the man. There's seven hundred thousand of them. Ah? ..
           So it'd have to be something simple with pasta, then.
                 From: Interesting Times by Terry Pratchet


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From yhhf_dy at yahoo.com  Wed Feb 12 10:53:03 2003
From: yhhf_dy at yahoo.com (Fan Yang <yhhf_dy@yahoo.com>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Re: Line number [sls]-bl.spamcop.net
In-Reply-To: <b2cq8s+uag4@eGroups.com>
Message-ID: <b2e56f+bn9r@eGroups.com>

Hi,

If you want to get more information about how to get line number, 
you'd better to visit http://www.imada.sdu.dk/~morling/. "#4 How to 
create your own AST" will help you a lot. 

Having done everything described in #4(it need a bit of modifications 
for new vertion antlr), you'll get ASTFrame view for sure. 

Best Wishes,

Fan




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From nk.truong at student.qut.edu.au  Wed Feb 12 16:28:29 2003
From: nk.truong at student.qut.edu.au (tdknghi <nk.truong@student.qut.edu.au>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Line number
Message-ID: <b2eord+ojk5@eGroups.com>

  Hi all,

Could any of you show me how to get the line number information while 
parsing Java program and save it as a node in the Abstract Syntax 
Tree. I wish to view the line number in the ASTFrameView as well.

 I read the ANTLR documentation about Track Line number section. 
However, there is no clear example and I still have no idea how to do it.

Thanks.

MM


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From alan at oursland.net  Wed Feb 12 17:27:43 2003
From: alan at oursland.net (Alan Oursland)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] help with lexical nondeterminism
Message-ID: <LPBBJCCFLMNNCKIFGNLHCEFODPAA.alan@oursland.net>

Can anyone explain to me why I am getting the following lexical
nondeterminism nondeterminism warning?

ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
sample.g: warning:lexical nondeterminism between rules EXAMPLE1 and EXAMPLE2
upon
sample.g:     k==1:'.'
sample.g:     k==2:';'
sample.g:     k==3:<end-of-token>

========================================================================
class SampleLexer extends Lexer;
options {
	k=3;
}

EXAMPLE1
	:	"+;"
	|	"..;"
	;
EXAMPLE2
	:	".;"
	;
========================================================================

Thank you.

Alan



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Feb 12 23:36:30 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] help with lexical nondeterminism
In-Reply-To: <LPBBJCCFLMNNCKIFGNLHCEFODPAA.alan@oursland.net>
Message-ID: <DE05867F-3F25-11D7-B703-000393BB647E@jguru.com>

Hi.  Please read the section in the manual about lookahead computations  
that go past the end of a token :)

Ter

On Wednesday, February 12, 2003, at 05:27 PM, Alan Oursland wrote:

> Can anyone explain to me why I am getting the following lexical
> nondeterminism nondeterminism warning?
>
> ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
> sample.g: warning:lexical nondeterminism between rules EXAMPLE1 and  
> EXAMPLE2
> upon
> sample.g:     k==1:'.'
> sample.g:     k==2:';'
> sample.g:     k==3:<end-of-token>
>
> ======================================================================= 
> =
> class SampleLexer extends Lexer;
> options {
> 	k=3;
> }
>
> EXAMPLE1
> 	:	"+;"
> 	|	"..;"
> 	;
> EXAMPLE2
> 	:	".;"
> 	;
> ======================================================================= 
> =
>
> Thank you.
>
> Alan
>
>
>
>
>
> Your use of Yahoo! Groups is subject to  
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tomdz at cs.tu-berlin.de  Thu Feb 13 06:39:52 2003
From: tomdz at cs.tu-berlin.de (Thomas Dudziak)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Antlr C# and Mono
Message-ID: <Pine.SOL.4.44.0302131520010.17778-100000@freno.cs.tu-berlin.de>

Hi,

Out of sheer curiosity I installed Mono (0.19.1 pre-compiled binaries) on
my Linux box. Then I figured that a nice thing would be to try Antlr C#
codegen with it, and guess what, after half an hour I had compiled and run
almost all C# examples (with two exceptions, see below). Truth to be told,
it took me 25 minutes to figure out the command lines of mcs/mono (I never
before had anything to do with either mono or Microsoft's .Net) and 5
minutes to compile and run.
However I was not able to compile antlr fully - antlr.debug.misc did not
compile at all complaining about not finding System.Windows.Forms.Form -
and therefore the java example did not compile either (as it requires
ASTFrame from the aforementioned namespace).
Also, whereas the calc example worked as expected, the heteroAST example
did only parse zeroes instead of the numbers in the input file.

Any suggestions for these two problems ? Will it suffice to use a CVS
version of mono instead of a pre-build one ?

Tom



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From alan at oursland.net  Thu Feb 13 07:46:26 2003
From: alan at oursland.net (Alan Oursland)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] help with lexical nondeterminism
In-Reply-To: <DE05867F-3F25-11D7-B703-000393BB647E@jguru.com>
Message-ID: <LPBBJCCFLMNNCKIFGNLHOEGCDPAA.alan@oursland.net>

Do you mean "Lexical lookahead and the end-of-token symbol"? That didn't
help me understand why this example doesn't work.

Each of the tokens ends with a ';' and none of them start with a semicolon.
Shouldn't it be clear where the boundaries are?

i.e.
if( LA(1) == '+' ) {
	EXAMPLE1();
}
else if( LA(1) == '.' && LA(2) == '.' ) {
	EXAMPLE1();
}
else if( LA(1) == '.' && LA(2) == ';' ) {
	EXAMPLE2();
}

Alan

> -----Original Message-----
> From: Terence Parr [mailto:parrt@jguru.com]
> Sent: Thursday, February 13, 2003 1:37 AM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] help with lexical nondeterminism
>
>
> Hi.  Please read the section in the manual about lookahead computations
> that go past the end of a token :)
>
> Ter
>
> On Wednesday, February 12, 2003, at 05:27 PM, Alan Oursland wrote:
>
> > Can anyone explain to me why I am getting the following lexical
> > nondeterminism nondeterminism warning?
> >
> > ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
> > sample.g: warning:lexical nondeterminism between rules EXAMPLE1 and
> > EXAMPLE2
> > upon
> > sample.g:     k==1:'.'
> > sample.g:     k==2:';'
> > sample.g:     k==3:<end-of-token>
> >
> > =======================================================================
> > =
> > class SampleLexer extends Lexer;
> > options {
> > 	k=3;
> > }
> >
> > EXAMPLE1
> > 	:	"+;"
> > 	|	"..;"
> > 	;
> > EXAMPLE2
> > 	:	".;"
> > 	;
> > =======================================================================
> > =
> >
> > Thank you.
> >
> > Alan
> >
> >
> >
> >
> >
> > Your use of Yahoo! Groups is subject to
> > http://docs.yahoo.com/info/terms/
> >
> >
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Feb 13 10:10:43 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] help with lexical nondeterminism
In-Reply-To: <LPBBJCCFLMNNCKIFGNLHOEGCDPAA.alan@oursland.net>
Message-ID: <775A810E-3F7E-11D7-B703-000393BB647E@jguru.com>

Ah right...this looks like a linear approx error.  Damn...i guess "I  
know what I'm doing this summer": LL(k) ;)

Break EXAMPLE1 into two rules and it should work.

Ter

On Thursday, February 13, 2003, at 07:46 AM, Alan Oursland wrote:

> Do you mean "Lexical lookahead and the end-of-token symbol"? That  
> didn't
> help me understand why this example doesn't work.
>
> Each of the tokens ends with a ';' and none of them start with a  
> semicolon.
> Shouldn't it be clear where the boundaries are?
>
> i.e.
> if( LA(1) == '+' ) {
> 	EXAMPLE1();
> }
> else if( LA(1) == '.' && LA(2) == '.' ) {
> 	EXAMPLE1();
> }
> else if( LA(1) == '.' && LA(2) == ';' ) {
> 	EXAMPLE2();
> }
>
> Alan
>
>> -----Original Message-----
>> From: Terence Parr [mailto:parrt@jguru.com]
>> Sent: Thursday, February 13, 2003 1:37 AM
>> To: antlr-interest@yahoogroups.com
>> Subject: Re: [antlr-interest] help with lexical nondeterminism
>>
>>
>> Hi.  Please read the section in the manual about lookahead  
>> computations
>> that go past the end of a token :)
>>
>> Ter
>>
>> On Wednesday, February 12, 2003, at 05:27 PM, Alan Oursland wrote:
>>
>>> Can anyone explain to me why I am getting the following lexical
>>> nondeterminism nondeterminism warning?
>>>
>>> ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
>>> sample.g: warning:lexical nondeterminism between rules EXAMPLE1 and
>>> EXAMPLE2
>>> upon
>>> sample.g:     k==1:'.'
>>> sample.g:     k==2:';'
>>> sample.g:     k==3:<end-of-token>
>>>
>>> ===================================================================== 
>>> ==
>>> =
>>> class SampleLexer extends Lexer;
>>> options {
>>> 	k=3;
>>> }
>>>
>>> EXAMPLE1
>>> 	:	"+;"
>>> 	|	"..;"
>>> 	;
>>> EXAMPLE2
>>> 	:	".;"
>>> 	;
>>> ===================================================================== 
>>> ==
>>> =
>>>
>>> Thank you.
>>>
>>> Alan
>>>
>>>
>>>
>>>
>>>
>>> Your use of Yahoo! Groups is subject to
>>> http://docs.yahoo.com/info/terms/
>>>
>>>
>> --
>> Co-founder, http://www.jguru.com
>> Creator, ANTLR Parser Generator: http://www.antlr.org
>> Lecturer in Comp. Sci., University of San Francisco
>>
>>
>>
>>
>> Your use of Yahoo! Groups is subject to  
>> http://docs.yahoo.com/info/terms/
>>
>>
>
>
>
>
>
> Your use of Yahoo! Groups is subject to  
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From hushlee83 at yahoo.com.sg  Thu Feb 13 23:31:27 2003
From: hushlee83 at yahoo.com.sg (=?iso-8859-1?q?Sharon=20Li?=)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Help need with nondeterminism error
Message-ID: <20030214073127.85301.qmail@web40907.mail.yahoo.com>


Hi can someone pls help me with this nondeterminism error? 
I'm also not sure if I can use predicates this way. pls advice!
Thanks in advance.

ANTLR Parser Generator   Version 2.7.0   1989-2000 MageLang's jGur
lfile.g.txt:410: warning: nondeterminism upon
lfile.g.txt:410:        k==1:COLON,TIMES,POW,LT,GT
lfile.g.txt:410:        k==2:COLON,LPAREN,TIMES,POW,LT,GT
lfile.g.txt:410:        between alts 1 and 2 of block
lfile.g.txt:432: warning: nondeterminism upon
lfile.g.txt:432:        k==1:LT,GT
lfile.g.txt:432:        k==2:COLON,TIMES,POW,LT,GT,"conditional"
lfile.g.txt:432:        between alt 1 and exit branch of block

/********** fraction of parser code ***************************/

406: productions : (production)+;
407: 
408: production : predecessor /*conditional ( (YIELD) | (OYIELD))  successor */ ;
409: 
410: predecessor : subpredecessor_one
411:             | subpredecessor_two
412:    ;
413:
414: subpredecessor_two
415:      : (strictPred GT)=> strictPred GT rContext
416:       | strictPred
417:       ;
418:
419: subpredecessor_one 
420:   : (lContext LT strictPred GT)=> lContext LT strictPred GT rContext
421:         | lContext LT strictPred
422:        ;
423:     
424: strictPred : formalModules;
425:
426: rContext : (formalModules)=> formalModules
427:     | /*empty*/ ;
428: 
429: lContext  : (formalModules)=> formalModules
430:  | /*empty*/ ;
431:
432: formalModules : (formalModule)+;
433:
434: formalModule {String fsymbol;} : (fsymbol = symbol) (LPAREN  formalParameters RPAREN)? ;
435:
436: formalParameters : (formalParameter) (COMMA formalParameter)* ;
437: 
438: formalParameter : NAME;

symbol returns [String sym] {sym = null;}  
   : p:POW {sym = p.getText();}
   | lt:LT {sym = lt.getText();}
   | gt:GT {sym = gt.getText();}
   | col:COLON {sym = col.getText();}
   | times:TIMES {sym = times.getText();}
   ;

/******** lexer ***************/
COLON    : ':';
TIMES    : '*';
POW     : '^';
GT     : '>';
LT     : '<';

 Yahoo! Biztools
- Promote your business from just $5 a month!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030214/3bf93693/attachment.html
From dvleonid at land.ru  Thu Feb 13 22:51:13 2003
From: dvleonid at land.ru (Dvoryansky Leonid)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Little book
References: <b19gfi+3q2h@eGroups.com>
Message-ID: <001d01c2d3f5$782d7b10$0500a8c0@ZSHIP>

Hi Terrence.

What if I try to write book about YACC and ANTLR and their comparision in
Russian?
Do you give your benediction for that staff? :)))

--Dvoryansky Leonid


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From alenski at dca.net  Thu Feb 13 21:34:04 2003
From: alenski at dca.net (Alexander Lenski)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] ATTN: Ric Klaren. Bug in tne AST copy ctor
Message-ID: <001c01c2d3ea$b01aa760$ad46f5cf@i7k>

Hi,
The AST's copy ctor is defined in the 2.7.2 as

    AST(const AST& other) : ref(other.ref->increment()) {}

The ref(other.ref->increment()) sets ref of the copy with the ref's pointer from the other. As a consequence, all clone funcs of the AST... classes and subsequently the dup... funcs of the ASTFactory produce memory leaks, perform corrupted operations instead of expected functionality.

In the 2.7.1 we had

    AST(const AST& other) : ref( 0 ) {}

This fixes the problem and works just fine. If I did not miss something, couldn't you fix that please.
BTW, the antlr.dll (VC7.0) works just fine. I have built my lexers-parsers in the dll form too, no problems at all with running the clients.

Thanks,
Alex
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030214/55527931/attachment.html
From gkaram888 at yahoo.ca  Fri Feb 14 08:37:58 2003
From: gkaram888 at yahoo.ca (gkaram888 <gkaram888@yahoo.ca>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] New Antlr user
Message-ID: <b2j616+4pd1@eGroups.com>

Hi,
I am new to this parser but have experience with
Lex and Yacc.
I am trying to use VC++ to build my own parser.

After the successful installation, 
I read that I need to create a static library which I did
and include all cpp, hpp files.
I need to start from the calc example and go forward 
to build up my own parser.
I got 402 warnings and 4 errors at the first compilation attempt.

all wanrnings are almost the same.
warning C4273: ... inconsistent dll linkage.  dllexport assumed.

what are the right steps to build a static library for that 
calc example.
Note that I installed j2re1.4.1_01 on my PC and added the bin PATH.

Thanks 

George





 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From abreneliere at telys.com  Fri Feb 14 08:52:15 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] New Antlr user
In-Reply-To: <b2j616+4pd1@eGroups.com>
Message-ID: <002101c2d449$6f8b0c80$cb646464@lavaserver>

My advices to begin:

1. Add all the source file to the project you want to create,
in subfolders, to have an understanding of the functioning.

2. in config.hpp, replace the lines following the comment with:

// For the DLL support contributed by Stephen Naughton
# ifdef ANTLR_EXPORTS
#	undef ANTLR_API
#	define ANTLR_API __declspec(dllexport)
# endif
# ifdef ANTLR_IMPORTS
#	undef ANTLR_API
#	define ANTLR_API __declspec(dllimport)
# endif

3.
in your project properties,
disable warnings : 4231;4101;4267

cordially,
Anthony

> -----Message d'origine-----
> De?: gkaram888 <gkaram888@yahoo.ca> [mailto:gkaram888@yahoo.ca]
> Envoy??: vendredi 14 f?vrier 2003 17:38
> ??: antlr-interest@yahoogroups.com
> Objet?: [antlr-interest] New Antlr user
> 
> Hi,
> I am new to this parser but have experience with
> Lex and Yacc.
> I am trying to use VC++ to build my own parser.
> 
> After the successful installation,
> I read that I need to create a static library which I did
> and include all cpp, hpp files.
> I need to start from the calc example and go forward
> to build up my own parser.
> I got 402 warnings and 4 errors at the first compilation attempt.
> 
> all wanrnings are almost the same.
> warning C4273: ... inconsistent dll linkage.  dllexport assumed.
> 
> what are the right steps to build a static library for that
> calc example.
> Note that I installed j2re1.4.1_01 on my PC and added the bin PATH.
> 
> Thanks
> 
> George
> 
> 
> 
> 
> 
> 
> 
> Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/
> 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From alenski at dca.net  Fri Feb 14 09:04:57 2003
From: alenski at dca.net (Alexander Lenski)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] New Antlr user
References: <b2j616+4pd1@eGroups.com>
Message-ID: <000d01c2d44b$34429650$ad46f5cf@i7k>

If you use VC++ 7.0, see previous msg postings related to the antlr.dll.
With VC below the 7.0, there are a bunch of problems with export/import
derived from the STL implementation (nested defs).

Alex

----- Original Message -----
From: <gkaram888@yahoo.ca>
To: <antlr-interest@yahoogroups.com>
Sent: Friday, February 14, 2003 11:37 AM
Subject: [antlr-interest] New Antlr user


> Hi,
> I am new to this parser but have experience with
> Lex and Yacc.
> I am trying to use VC++ to build my own parser.
>
> After the successful installation,
> I read that I need to create a static library which I did
> and include all cpp, hpp files.
> I need to start from the calc example and go forward
> to build up my own parser.
> I got 402 warnings and 4 errors at the first compilation attempt.
>
> all wanrnings are almost the same.
> warning C4273: ... inconsistent dll linkage.  dllexport assumed.
>
> what are the right steps to build a static library for that
> calc example.
> Note that I installed j2re1.4.1_01 on my PC and added the bin PATH.
>
> Thanks
>
> George
>
>
>
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gkaram888 at yahoo.ca  Fri Feb 14 11:12:28 2003
From: gkaram888 at yahoo.ca (gkaram888 <gkaram888@yahoo.ca>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] New Antlr user
In-Reply-To: <002101c2d449$6f8b0c80$cb646464@lavaserver>
Message-ID: <b2jf2s+oqpc@eGroups.com>

Thank you Anthony,

The changes in the config file you suggested concluded 
in a successful compilation.

Thank you 

George


--- In antlr-interest@yahoogroups.com, Anthony Breneli?re 
<abreneliere@t...> wrote:
> My advices to begin:
> 
> 1. Add all the source file to the project you want to create,
> in subfolders, to have an understanding of the functioning.
> 
> 2. in config.hpp, replace the lines following the comment with:
> 
> // For the DLL support contributed by Stephen Naughton
> # ifdef ANTLR_EXPORTS
> #	undef ANTLR_API
> #	define ANTLR_API __declspec(dllexport)
> # endif
> # ifdef ANTLR_IMPORTS
> #	undef ANTLR_API
> #	define ANTLR_API __declspec(dllimport)
> # endif
> 
> 3.
> in your project properties,
> disable warnings : 4231;4101;4267
> 
> cordially,
> Anthony
> 
> > -----Message d'origine-----
> > De?: gkaram888 <gkaram888@y...> [mailto:gkaram888@y...]
> > Envoy??: vendredi 14 f?vrier 2003 17:38
> > ??: antlr-interest@yahoogroups.com
> > Objet?: [antlr-interest] New Antlr user
> > 
> > Hi,
> > I am new to this parser but have experience with
> > Lex and Yacc.
> > I am trying to use VC++ to build my own parser.
> > 
> > After the successful installation,
> > I read that I need to create a static library which I did
> > and include all cpp, hpp files.
> > I need to start from the calc example and go forward
> > to build up my own parser.
> > I got 402 warnings and 4 errors at the first compilation attempt.
> > 
> > all wanrnings are almost the same.
> > warning C4273: ... inconsistent dll linkage.  dllexport assumed.
> > 
> > what are the right steps to build a static library for that
> > calc example.
> > Note that I installed j2re1.4.1_01 on my PC and added the bin 
PATH.
> > 
> > Thanks
> > 
> > George
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/
> >


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Feb 14 11:17:32 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Little book
In-Reply-To: <001d01c2d3f5$782d7b10$0500a8c0@ZSHIP>
Message-ID: <F7453DB4-4050-11D7-9DCC-000393BB647E@jguru.com>


On Thursday, February 13, 2003, at 10:51 PM, Dvoryansky Leonid wrote:

> Hi Terrence.
>
> What if I try to write book about YACC and ANTLR and their comparision 
> in
> Russian?
> Do you give your benediction for that staff? :)))

Well, it would be pretty hard for me to read to figure out if it's 
accurate!  But, sure write whatever you like :)  Writing about ANTLR is 
good :)
Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Feb 14 14:42:49 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] got new "language implementation" lecture audio up
Message-ID: <A54D5AB6-406D-11D7-9DCC-000393BB647E@jguru.com>

Howdy.  Just posted a 2-part lecture on language implementation.  See:

   http://nexus.cs.usfca.edu/~parrt/course/652/index.html

Covers:

#### Compilers Versus Interpreters
### A Few Examples
## Interpreters
## Translators
# source-to-source
## Compilers
#### Implementation stages and data flow
### Generating token stream
### Generating IRs
### Code generation
## GCC
## "TWIGs"
#### Implementing Object-Oriented Languages
### How fast can you go?
### Polymorphism
## Implementing in C ala C++
## Java and dynamic binding
### Runtime Compilation
## JIT
## Dynamic compilation
# Method call optimization
# Some (old) HotSpot Numbers

--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From alan at oursland.net  Fri Feb 14 15:21:58 2003
From: alan at oursland.net (Alan Oursland)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] another nondeterminism question
Message-ID: <LPBBJCCFLMNNCKIFGNLHKEHJDPAA.alan@oursland.net>

I am having problems with lookahead in the parser now. Is this another
problem with linear approximation? The grammar and warnings are at the
bottom of this message.

I think that k=2 should have resolved any nondeterminism here.
In expression, (cond_clause)+ should loop on ("(" "(" | "(" "EXPR"),
transition to else_clause on ("(" "else"), and skip the else_clause on
(")").

I also tried doing (options{greedy=false;}: cond_clause)+, but that gave me:
	TestParser.g:15: warning:nongreedy block may exit incorrectly due
	TestParser.g:15:     	to limitations of linear approximate lookahead (first
k-1 sets
	TestParser.g:15:     	in lookahead not singleton).

The following changes do remove the nondeterminism, but change the language:
	- remove (else_clause)?
	- make else_clause nonoptional (no '?')
	- remove opening parenthesis in else_clause

Is this another error or am I missing something in my understanding of
nondeterminism?
Does anyone have any suggestions for resolving this?

Alan

This grammar:
	class SampleParser extends Parser;
	options {
		k=6;	// set to 6 to see where conflicts stabilize
	}
	startRule
		:	expression
		;
	expression
		:	"("
			"cond"
			(cond_clause)+ // Line 15
			(else_clause)?
			")"
		|	"EXPR"
		;
	cond_clause
		:	"(" (expression)+ ")"
		;
	else_clause
		:	"(" "else" (expression)+ ")"
		;

Generates these warnings:
	ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
	TestParser.g:15: warning:nondeterminism upon
	TestParser.g:15:     k==1:"("
	TestParser.g:15:     k==2:"(","EXPR"
	TestParser.g:15:     k==3:"(","cond",")","EXPR"
	TestParser.g:15:     k==4:"(","cond",")","EXPR"
	TestParser.g:15:     k==5:EOF,"(","cond",")","EXPR","else"
	TestParser.g:15:     k==6:EOF,"(","cond",")","EXPR","else"
	TestParser.g:15:     between alt 1 and exit branch of block



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Feb 14 15:29:17 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] another nondeterminism question
In-Reply-To: <LPBBJCCFLMNNCKIFGNLHKEHJDPAA.alan@oursland.net>
Message-ID: <2284AD12-4074-11D7-9DCC-000393BB647E@jguru.com>


On Friday, February 14, 2003, at 03:21 PM, Alan Oursland wrote:

> I am having problems with lookahead in the parser now. Is this another
> problem with linear approximation? The grammar and warnings are at the
> bottom of this message.

I believe this is a linear approximation problem.  It's a tough one 
with all of the parenthesis around.
>
> I think that k=2 should have resolved any nondeterminism here.
> In expression, (cond_clause)+ should loop on ("(" "(" | "(" "EXPR"),
> transition to else_clause on ("(" "else"), and skip the else_clause on
> (")").
>
> I also tried doing (options{greedy=false;}: cond_clause)+, but that 
> gave me:
> 	TestParser.g:15: warning:nongreedy block may exit incorrectly due
> 	TestParser.g:15:     	to limitations of linear approximate lookahead 
> (first
> k-1 sets
> 	TestParser.g:15:     	in lookahead not singleton).

Well, greedy=true is probably better because you want it to keep 
matching expressions while it can.  Try it out...

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From jbb at acm.org  Fri Feb 14 16:03:39 2003
From: jbb at acm.org (jbb@acm.org)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] another nondeterminism question
In-Reply-To: <LPBBJCCFLMNNCKIFGNLHKEHJDPAA.alan@oursland.net>
References: <LPBBJCCFLMNNCKIFGNLHKEHJDPAA.alan@oursland.net>
Message-ID: <E18jpnv-0002Nv-00@gecko.home.org>

Mr. Oursland :-

Does this help?

-----------------------------
class SampleParser extends Parser;

startRule
    : expression
    ;
expression
    : "("
      "cond"
      "(" ( (expression)+ ")" "(" )+ "else" (expression)+ ")"
      ")"
    | "EXPR"
    ;
-----------------------------

Basically, I left factored the "(" out of your cond_clause and
else_clause rules and then simplified.....

-- 
	-jbb
----------------+----------------------------
 John B. Brodie | Email : jbrodie@cs.fit.edu
----------------+----------------------------

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From nk.truong at student.qut.edu.au  Fri Feb 14 23:40:22 2003
From: nk.truong at student.qut.edu.au (tdknghi <nk.truong@student.qut.edu.au>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] line number counter reset
Message-ID: <b2kqt6+87df@eGroups.com>

Hi all,

I would like tracking the line number in my program when parse Java 
program. I wrote a class to extend antlr.CommonAST then instruct the 
parser to use my custom AST type rather than the default AST node 
type. I have everything work beautifully except one problem. I 
attach all the files together with the description so that you could 
get a better idea of what goes wrong.

  ---------------------------------

 1. Here is my custom AST node type:

public class LineAST extends antlr.CommonAST 
{
	int line_number = 0;
	int column_number = -1;
	private static boolean verboseStringConversion = false;
	private static String[] tokenNames = null;

	public LineAST() 
	{
	}

	public LineAST(antlr.Token tok) 
	{
		initialize(tok);
	}

	public void initialize(antlr.Token tok) 
	{
		setText(tok.getText());
		setType(tok.getType());
		this.line_number = tok.getLine();
		this.column_number = tok.getColumn(); 
	}

	public int getLine()
	{
		return line_number;
	}

	public int getColumn()
	{
		return column_number;
	}
	public static void setVerboseStringConversion(boolean 
verbose, String[] names) 
	{
		verboseStringConversion = verbose;
		tokenNames = names;
	}

	public String toString()
	{
		StringBuffer b = new StringBuffer();

		// if verbose and type name not same as text 
(keyword probably)
		if (verboseStringConversion &&
			!getText().equalsIgnoreCase(tokenNames
[getType()])) 
		{
			b.append("[l# " + getLine() + " c# " + 
getColumn() + " ");
			b.append(getText());
			b.append(",<");
			b.append(tokenNames[getType()]);
			b.append(">]");
			return b.toString();
		}
		return getText();

	}
}
  -----------------------------------------
2. Instruct the parser to use my custom AST node..(it's done 
correctly).

--------------------------------------------------
3. When a parser the following program --- PROBLEM START HERE!!!!!!

1     import TerminalIO.*;
2
3     public class Minutes 
4     {
5	ScreenWriter writer = new ScreenWriter(); ****
6
7	public void run() 
8	{
9		int i = 5;		***
10		System.out.println(i);		
11	}	
12	
13	public static void main(String[] args)
14	{
15		System.out.println("main method");
16	}
17     }

 a. The line number of the "ScreenWriter token" (type one) suddently 
reset to 0 (the correct line number should be 5), but the line 
number of the token "writer" is correct which is 5. The rest of 
tokens in that line is correct.
 b. Similarity  with the line int i = 5; the line number of the 
token "int" is reset to 0 but the line number of toke "i", "=", "5" 
is correct.

 I have done several tests. the line number only reset for the first 
token of the variable declaration line only. 

Do you have any idea what goes wrong? Many thanks for all your help.


Regards,
MM

Note: I am using ANTLR 2.7.2



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From davekam at pobox.com  Sun Feb 16 13:58:57 2003
From: davekam at pobox.com (Dave <davekam@pobox.com>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] 2.7.2 build system is fubar
Message-ID: <b2p1j1+e6nh@eGroups.com>

Hello,

Recently I've been reading up on lex and yacc, and discovered the
existence of antlr. So I thought I'd install it and try it out.
Unfortunately there seems to be no easy way to do this in the ordinary
way on Unix. As one of the readme files says, in theory you should be
able to do:

./configure
make
make install

from the top level directory. But when attempting make, this results
in the following:

davekam@vokzal:~/temp/antlr-2.7.2$ make
=============================
Making dependencies...
=============================
=============================
Making antlr ...
=============================
java -cp /Users/davekam/temp/antlr-2.7.2/antlrall.jar antlr.Tool  
antlr.g
Exception in thread "main" java.lang.NoClassDefFoundError: antlr/Tool
make[1]: *** [.antlr.g] Error 1
make: *** [subdirs] Error 2

...because antlrall.jar is not included in the distribution! I can't
really tell what the difference is supposed to be between antlr.jar
and antlrall.jar -- antlr.jar is included and seems to work. So I went
into scripts/Config.make.in and changed the occurence of antlrall.jar
to antlr.jar, set BOOTSTRAP_JAR to antlr.jar, and reran configure and
make. Then I get a string of errors such as the following:

davekam@vokzal:~/temp/antlr-2.7.2$ make
=============================
Making antlr ...
=============================
java -cp /Users/davekam/temp/antlr-2.7.2/antlr.jar antlr.Tool  
antlr.g
ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
cannot write to './ANTLRParser.java'
java -cp /Users/davekam/temp/antlr-2.7.2/antlr.jar antlr.Tool  
tokdef.g
ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
cannot write to './ANTLRTokdefLexer.java'

...because the files in question are mode 444 (read-only). So I did:

find . -perm 444 -exec chmod 666 {} ';'

...and make and make install seemed to run fine. So I tried out the
new install:

davekam@vokzal:~/antlr-2.7.2/examples/cpp/filter$ antlr t.g
Exception in thread "main" java.lang.NoClassDefFoundError: antlr/Tool

The jar files were installed as follows:

davekam@vokzal:~/antlr-2.7.2$ ls -l /usr/local/share/antlr-2.7.2 
total 1056
-rw-r--r--  1 root  staff  120804 Feb 16 16:51 antlr.debug.jar
-rw-r--r--  1 root  staff   89558 Feb 16 16:51 antlr.jar
-rw-r--r--  1 root  staff  326647 Feb 16 16:51 antlrall.jar

Should there have been an antlr/ directory too? I'm not sure, but
obviously it doesn't work. At this point one might like to start the
build over again by running make clean... which deletes my antlr.jar
file, which means I have to unpack the tarball and start again
completely from scratch?!?

Unless I'm seriously missing something here, I don't see how it's
possible to build and install antlr in the current version. Help much
appreciated.

Dave


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Feb 16 14:00:16 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] new Pascal grammar with tree walker / symbol management
Message-ID: <086D562C-41FA-11D7-94E7-000393BB647E@jguru.com>

Folks,

Thanks to the work of Piet Schoutteten, we now have a much improved 
Pascal grammar with a tree walker that builds the symbol table!

See

http://www.antlr.org/grammars/pascal

Regards,
Terence
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Feb 16 14:01:16 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] 2.7.2 build system is fubar
In-Reply-To: <b2p1j1+e6nh@eGroups.com>
Message-ID: <2BD67788-41FA-11D7-94E7-000393BB647E@jguru.com>

Hi Dave,

Are you trying to use the Java output or C++?

Terence

On Sunday, February 16, 2003, at 01:58 PM, Dave <davekam@pobox.com> 
wrote:

> Hello,
>
> Recently I've been reading up on lex and yacc, and discovered the
> existence of antlr. So I thought I'd install it and try it out.
> Unfortunately there seems to be no easy way to do this in the ordinary
> way on Unix. As one of the readme files says, in theory you should be
> able to do:
>
> ./configure
> make
> make install
>
> from the top level directory. But when attempting make, this results
> in the following:
>
> davekam@vokzal:~/temp/antlr-2.7.2$ make
> =============================
> Making dependencies...
> =============================
> =============================
> Making antlr ...
> =============================
> java -cp /Users/davekam/temp/antlr-2.7.2/antlrall.jar antlr.Tool
> antlr.g
> Exception in thread "main" java.lang.NoClassDefFoundError: antlr/Tool
> make[1]: *** [.antlr.g] Error 1
> make: *** [subdirs] Error 2
>
> ...because antlrall.jar is not included in the distribution! I can't
> really tell what the difference is supposed to be between antlr.jar
> and antlrall.jar -- antlr.jar is included and seems to work. So I went
> into scripts/Config.make.in and changed the occurence of antlrall.jar
> to antlr.jar, set BOOTSTRAP_JAR to antlr.jar, and reran configure and
> make. Then I get a string of errors such as the following:
>
> davekam@vokzal:~/temp/antlr-2.7.2$ make
> =============================
> Making antlr ...
> =============================
> java -cp /Users/davekam/temp/antlr-2.7.2/antlr.jar antlr.Tool
> antlr.g
> ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
> cannot write to './ANTLRParser.java'
> java -cp /Users/davekam/temp/antlr-2.7.2/antlr.jar antlr.Tool
> tokdef.g
> ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
> cannot write to './ANTLRTokdefLexer.java'
>
> ...because the files in question are mode 444 (read-only). So I did:
>
> find . -perm 444 -exec chmod 666 {} ';'
>
> ...and make and make install seemed to run fine. So I tried out the
> new install:
>
> davekam@vokzal:~/antlr-2.7.2/examples/cpp/filter$ antlr t.g
> Exception in thread "main" java.lang.NoClassDefFoundError: antlr/Tool
>
> The jar files were installed as follows:
>
> davekam@vokzal:~/antlr-2.7.2$ ls -l /usr/local/share/antlr-2.7.2
> total 1056
> -rw-r--r--  1 root  staff  120804 Feb 16 16:51 antlr.debug.jar
> -rw-r--r--  1 root  staff   89558 Feb 16 16:51 antlr.jar
> -rw-r--r--  1 root  staff  326647 Feb 16 16:51 antlrall.jar
>
> Should there have been an antlr/ directory too? I'm not sure, but
> obviously it doesn't work. At this point one might like to start the
> build over again by running make clean... which deletes my antlr.jar
> file, which means I have to unpack the tarball and start again
> completely from scratch?!?
>
> Unless I'm seriously missing something here, I don't see how it's
> possible to build and install antlr in the current version. Help much
> appreciated.
>
> Dave
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Feb 16 14:09:59 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] new Ada grammar
Message-ID: <63AE9DD8-41FB-11D7-94E7-000393BB647E@jguru.com>

Folks,

Oliver Kellogg has graciously sent me his hard work on an Ada grammar.  
He says:
> Here it is.
> I've tested it on several Ada projects totalling a few ten
> thousand lines of code.
> While I'm not claiming it's perfect, I feel it is at the stage
> of becoming useful.
>
> I will now focus on improving parse speed.
> For example, I noticed that syntactic predicates tend to
> consume time, so I'll attempt some more manual disambiguating.
>
> Feel free to include it where you see fit.
> I may be sending another update if I manage to significantly
> improve the speed, but that may take a number of weeks.

Grab it via:

http://www.antlr.org/resources.html

Terence
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Feb 16 14:20:21 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] a new CIM grammar (nice write up etc...)
Message-ID: <D68F555C-41FC-11D7-94E7-000393BB647E@jguru.com>

Folks,

Pedro Assis in Oporto has done an amazing job with a CIM grammar and 
write up.  Please take a look at

http://www.antlr.org/resources.html

What's CIM?  I found this:

"Common Information Model (CIM) is a mechanism for modeling managed 
resources and representing those models in the Managed Object Format 
(MOF)."

at

http://www-106.ibm.com/developerworks/java/library/j-wbem/

Terence
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Feb 16 14:30:53 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] new C++ grammar!
Message-ID: <4F588DE2-41FE-11D7-94E7-000393BB647E@jguru.com>

Folks,

Thanks to the guidance and hard work of David Wigg at South Bank 
University in the UK, we have a C++ grammar for ANTLR 2.7.1 (2.7.2 
liked the grammar too, but I didn't try to c++ compile) derived from 
PCCTS grammar I helped with at NeXT in mid 1990's.

Get it while it's hot:

http://www.antlr.org/resources.html

Wow, so a few grammars had been backed up in my queue to release: CIM, 
Pascal, Ada, and CPP.  Quite a day, eh?

Terence
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From davekam at pobox.com  Sun Feb 16 16:03:39 2003
From: davekam at pobox.com (Dave <davekam@pobox.com>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Re: 2.7.2 build system is fubar
In-Reply-To: <2BD67788-41FA-11D7-94E7-000393BB647E@jguru.com>
Message-ID: <b2p8sr+ohbi@eGroups.com>

--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@j...> wrote:
> Hi Dave,
> 
> Are you trying to use the Java output or C++?
> 
> Terence

C++, I should have made that more clear -- the example I tried was
examples/cpp/filter/t.g. But I suppose I don't see how that would
change the situation, because java can't find the antlr/Tool class at
all. If I understand correctly, regardless of the output language,
java is required to run antlr itself. At
http://www.jguru.com/faq/view.jsp?EID=85 it says the problem is that
the CLASSPATH is set wrong, but that's not true in this case -- the
antlr wrapper script sets it correctly:

#!/bin/sh
prefix=/usr/local
ANTLR_JAR=${prefix}/share/antlr-2.7.2/antlrall.jar
if test "x$CLASSPATH" = x; then
        CLASSPATH=$ANTLR_JAR
else
        CLASSPATH=$ANTLR_JAR:$CLASSPATH
fi
java antlr.Tool $*

Dave


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Feb 16 16:09:21 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Re: 2.7.2 build system is fubar
In-Reply-To: <b2p8sr+ohbi@eGroups.com>
Message-ID: <10484908-420C-11D7-94E7-000393BB647E@jguru.com>

Hi Dave,

First let me agree that the build situation is FUBAR.  Tough no matter 
what though with multiple languages.  Anyway, ok, the antlr.jar file 
that comes with the distribution should be all you need to get C++ 
output.  You should then be able to include/compile/link/exec without 
rebuilding antlr itself.  I guess though the C++ libraries will have to 
be build, which probably why you jumped on the ol' makefile.

Oh, you need antlr.jar not antlrall.jar now...

Compiling C++ on various platforms has always been a hassle, but a 
number of folks have it working per the antlr-interest list digests...

Terence

On Sunday, February 16, 2003, at 04:03 PM, Dave <davekam@pobox.com> 
wrote:

> --- In antlr-interest@yahoogroups.com, Terence Parr <parrt@j...> wrote:
>> Hi Dave,
>>
>> Are you trying to use the Java output or C++?
>>
>> Terence
>
> C++, I should have made that more clear -- the example I tried was
> examples/cpp/filter/t.g. But I suppose I don't see how that would
> change the situation, because java can't find the antlr/Tool class at
> all. If I understand correctly, regardless of the output language,
> java is required to run antlr itself. At
> http://www.jguru.com/faq/view.jsp?EID=85 it says the problem is that
> the CLASSPATH is set wrong, but that's not true in this case -- the
> antlr wrapper script sets it correctly:
>
> #!/bin/sh
> prefix=/usr/local
> ANTLR_JAR=${prefix}/share/antlr-2.7.2/antlrall.jar
> if test "x$CLASSPATH" = x; then
>         CLASSPATH=$ANTLR_JAR
> else
>         CLASSPATH=$ANTLR_JAR:$CLASSPATH
> fi
> java antlr.Tool $*
>
> Dave
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From kurt at whdl.com  Sun Feb 16 17:18:44 2003
From: kurt at whdl.com (kmstrsrv <kurt@whdl.com>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Re: 2.7.2 build system is fubar
In-Reply-To: <b2p1j1+e6nh@eGroups.com>
Message-ID: <b2pd9k+8ta0@eGroups.com>

--- In antlr-interest@yahoogroups.com, "Dave <davekam@p...>" 
<davekam@p...> wrote:


> ...because antlrall.jar is not included in the distribution! 

I ran into this also.  I, too, naively assumed that you could just 
configure, make, make install, but no dice.

I copied antlr.jar to antlrall.jar, and that got me through the 
first part of the installation.

For me, the CLASSPATH seemed to be irrelevant because somewhere in 
the Makefiles, there is a hardcoded -cp option to java that is also 
wrong.  I think this is in one of the two "common" makefiles, (e.g. 
Config.make, Rules.make, or something like that) and I changed it so 
that this -cp pointed to the correct jar.

I then had trouble compiling the C++ library because it uses 
std::exceptions, and at least with my Linux (Mandrake 8.2) and my 
gcc (2.96) you need to explicitly #include <exceptions>

I added this include line to one of the header files 
(IOException.hpp, I think) and then the C++ library compiled OK.

Sorry to be so vague about the actual files that I changed, but I 
don't have easy access to that system at the moment.

Hope this helps,
-Kurt

Kurt Schwartz
Willamette HDL, Inc.
http://www.whdl.com


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From davekam at pobox.com  Sun Feb 16 20:21:56 2003
From: davekam at pobox.com (Dave <davekam@pobox.com>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Re: 2.7.2 build system is fubar
In-Reply-To: <10484908-420C-11D7-94E7-000393BB647E@jguru.com>
Message-ID: <b2po14+8hj6@eGroups.com>

--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@j...>
wrote:
> Hi Dave,
> 
> First let me agree that the build situation is FUBAR.  Tough no
matter 
> what though with multiple languages.  Anyway, ok, the antlr.jar
file 
> that comes with the distribution should be all you need to get C++ 
> output.  You should then be able to include/compile/link/exec
without 
> rebuilding antlr itself.  I guess though the C++ libraries will
have to 
> be build, which probably why you jumped on the ol' makefile.
> 
> Oh, you need antlr.jar not antlrall.jar now...
> 
> Compiling C++ on various platforms has always been a hassle, but a 
> number of folks have it working per the antlr-interest list
digests...

Yes, I can get it working, but it could be a lot easier. A few
suggestions:

-- if the jar is now antlr.jar and not antlrall.jar, fix the
references in ./configure.in and scripts/Config.make.in. if antlr is
required to build itself, then it must be able to find itself. ;)

-- similarly, why then is antlrall.jar still built and installed? if
you look at my first message, it's several times larger than the built
antlr.jar. not sure what the difference between the two is.

-- it's pointless to include the generated *.java files in the
distribution as readonly, and then try to regenerate new files over
them. either they should be writable, or not regenerated during the
build.

-- on a similar note, it sounds like it's not necessary to recompile
the jar's just to get the C++ runtime working, but that's what the
current Makefile does. I haven't tried to make from the lib/cpp
directory yet.

-- make clean should in no case leave the directory in an unbuildable
state.

-- make install should install everything that's necessary. is the
antlr directory necessary? it certainly appears to be, but I'm not
sure. just antlr.jar and/or antlrall.jar appear not to be sufficient.

-- make uninstall should be available.

I'd rather be able to build and install the files in standard
directories and use the wrapper script, rather than changing CLASSPATH
manually to point to some place my home directory.

I also might suggest using the full gnu autotools build system
(automake, libtool) instead of just autoconf. This should provide the
proper make actions (build, install, clean, uninstall, etc.) and may
work properly on more systems. I would do this myself, but I don't
have the expertise. Any volunteers?

It may be tricky to get antlr to build well on various platforms with
the various language it uses, but I know it can be better than this!
It's frustrating to try to get started when it's in this state.

Dave


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From davekam at pobox.com  Sun Feb 16 20:41:40 2003
From: davekam at pobox.com (Dave <davekam@pobox.com>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Re: 2.7.2 build system is fubar
In-Reply-To: <b2po14+8hj6@eGroups.com>
Message-ID: <b2pp64+5dhs@eGroups.com>

Easy fix for the antlr wrapper -- instead of

CLASSPATH=...

should be

export CLASSPATH=...

then it works (after having fixed antlrall.jar -> antlr.jar references).

Dave


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From lloyd at galador.net  Mon Feb 17 02:14:44 2003
From: lloyd at galador.net (lloyd_from_far <lloyd@galador.net>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Re: Antlr C# and Mono
In-Reply-To: <Pine.SOL.4.44.0302131520010.17778-100000@freno.cs.tu-berlin.de>
Message-ID: <b2qcmk+sldf@eGroups.com>

just an idea.
problably the winform stuff is to show the syntax tree.
forget it, WinForm is not yet implemented in mono and it's subject to 
lot of controversy and technical problems and, you could always use 
the java version to see your syntax tree...

(I mean, I believe, I had a ANTLR-C# project 4 month ago and I had no 
problem to write it in C#, and see my syntax tree in java, although I 
could have write the C# code after completing the syntax tree, I 
don't quite remember....)

--- In antlr-interest@yahoogroups.com, Thomas Dudziak <tomdz@c...> 
wrote:
> Hi,
> 
> Out of sheer curiosity I installed Mono (0.19.1 pre-compiled 
binaries) on
> my Linux box. Then I figured that a nice thing would be to try 
Antlr C#
> codegen with it, and guess what, after half an hour I had compiled 
and run
> almost all C# examples (with two exceptions, see below). Truth to 
be told,
> it took me 25 minutes to figure out the command lines of mcs/mono 
(I never
> before had anything to do with either mono or Microsoft's .Net) and 
5
> minutes to compile and run.
> However I was not able to compile antlr fully - antlr.debug.misc 
did not
> compile at all complaining about not finding 
System.Windows.Forms.Form -
> and therefore the java example did not compile either (as it 
requires
> ASTFrame from the aforementioned namespace).
> Also, whereas the calc example worked as expected, the heteroAST 
example
> did only parse zeroes instead of the numbers in the input file.
> 
> Any suggestions for these two problems ? Will it suffice to use a 
CVS
> version of mono instead of a pre-build one ?
> 
> Tom


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Mon Feb 17 02:23:27 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] line number counter reset
In-Reply-To: <b2kqt6+87df@eGroups.com>; from nk.truong@student.qut.edu.au on Sat, Feb 15, 2003 at 07:40:22AM -0000
References: <b2kqt6+87df@eGroups.com>
Message-ID: <20030217112326.A26918@cs.utwente.nl>

On Sat, Feb 15, 2003 at 07:40:22AM -0000, tdknghi <nk.truong@student.qut.edu.au> wrote:
> I would like tracking the line number in my program when parse Java 
> program. I wrote a class to extend antlr.CommonAST then instruct the 
> parser to use my custom AST type rather than the default AST node 
> type. I have everything work beautifully except one problem. I 
> attach all the files together with the description so that you could 
> get a better idea of what goes wrong.
....
>  a. The line number of the "ScreenWriter token" (type one) suddently 
> reset to 0 (the correct line number should be 5), but the line 
> number of the token "writer" is correct which is 5. The rest of 
> tokens in that line is correct.
>  b. Similarity  with the line int i = 5; the line number of the 
> token "int" is reset to 0 but the line number of toke "i", "=", "5" 
> is correct.

You have to set line numbers manually on manually created tokens (and
there's a lot of manually created stuff in the java grammar). At least that
is my guess.

>  I have done several tests. the line number only reset for the first 
> token of the variable declaration line only. 

My guess is that you can fix this particular one by meddling a bit with the
variableDeclarator rule. (e.g. copy line info of the modifiers into the
synthetic node VARIABLE_DEF etc.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh, no,
  of course, we ... that is ... well, yes, in fact,' said Ponder. 'Adrian
    goes round the back and ... er ... prods it with his foot. But in a
     technical way,' he added. --- From: Hogfather by Terry Pratchett.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Mon Feb 17 02:28:06 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Re: 2.7.2 build system is fubar
In-Reply-To: <b2pd9k+8ta0@eGroups.com>; from kurt@whdl.com on Mon, Feb 17, 2003 at 01:18:44AM -0000
References: <b2p1j1+e6nh@eGroups.com> <b2pd9k+8ta0@eGroups.com>
Message-ID: <20030217112806.B26918@cs.utwente.nl>

Hi,

On Mon, Feb 17, 2003 at 01:18:44AM -0000, kmstrsrv <kurt@whdl.com> wrote:
> I then had trouble compiling the C++ library because it uses 
> std::exceptions, and at least with my Linux (Mandrake 8.2) and my 
> gcc (2.96) you need to explicitly #include <exceptions>
> 
> I added this include line to one of the header files 
> (IOException.hpp, I think) and then the C++ library compiled OK.
> 
> Sorry to be so vague about the actual files that I changed, but I 
> don't have easy access to that system at the moment.

This one I already got. Is fixed in the repository. For some reason it
didn't show with gcc 3.2.1.

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Chaos always defeats order because it is better organized.
  --- Terry Pratchet


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Mon Feb 17 02:57:45 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Re: 2.7.2 build system is fubar
In-Reply-To: <b2po14+8hj6@eGroups.com>; from davekam@pobox.com on Mon, Feb 17, 2003 at 04:21:56AM -0000
References: <10484908-420C-11D7-94E7-000393BB647E@jguru.com> <b2po14+8hj6@eGroups.com>
Message-ID: <20030217115745.C26918@cs.utwente.nl>

Hi,

On Mon, Feb 17, 2003 at 04:21:56AM -0000, Dave <davekam@pobox.com> wrote:
TJP> Oh, you need antlr.jar not antlrall.jar now...

Now they tell me ;P Terence can we put up a fixed 2.7.2 distro after I fix
this in the configure scripts and Makefile build ? (The idea of going
another year referencing ppl to a development snapshot with some essential
fixes does really *not* appeal to me...) Mental note to myself for next
time: do not release when you're about to go on a business trip, do it
afterwards.

> -- if the jar is now antlr.jar and not antlrall.jar, fix the
> references in ./configure.in and scripts/Config.make.in. if antlr is
> required to build itself, then it must be able to find itself. ;)

I'll fix the autoconf build stuff in the course of the coming week(s). The
2.7.2 was released in a period that I had very little time to test stuff
myself. So it slipped through :(

> -- similarly, why then is antlrall.jar still built and installed? if
> you look at my first message, it's several times larger than the built
> antlr.jar. not sure what the difference between the two is.

At a time there was an antlr.jar that was only the runtime needed to use a
antlr generated parser. The all variant was al the junk including the
generator itself.

> -- it's pointless to include the generated *.java files in the
> distribution as readonly, and then try to regenerate new files over
> them. either they should be writable, or not regenerated during the
> build.

This is a packaging error. Our source controll system perforce keeps files
always readonly so my guess is that Terence just tarballed/zipped the lot.
Thus breaking the Makefile build.

> -- on a similar note, it sounds like it's not necessary to recompile
> the jar's just to get the C++ runtime working, but that's what the
> current Makefile does. I haven't tried to make from the lib/cpp
> directory yet.

Submakes should work well as long as configure has run.

> -- make clean should in no case leave the directory in an unbuildable
> state.

There's some bootstrap rules around in the makefile to fix that.

> -- make install should install everything that's necessary. is the
> antlr directory necessary? it certainly appears to be, but I'm not
> sure. just antlr.jar and/or antlrall.jar appear not to be sufficient.

The antlrall.jar and the header files and the libantlr.a files used to be
enough to use the tool. I'll check if this is still the case.

> -- make uninstall should be available.

Detail ;)

> I'd rather be able to build and install the files in standard
> directories and use the wrapper script, rather than changing CLASSPATH
> manually to point to some place my home directory.

The idea in the Makefile setup is to have a antlr script that knows about
the right places to run the tool. Next to it is an antlr-config script that
you can run with the usual --libs --cflags parameters to get the needed
flags for linking/compiling with the antlr runtimes. (I now notice I forgot
a --classpath)

> I also might suggest using the full gnu autotools build system
> (automake, libtool) instead of just autoconf. This should provide the
> proper make actions (build, install, clean, uninstall, etc.) and may
> work properly on more systems. I would do this myself, but I don't
> have the expertise. Any volunteers?

I'm no fan of automake (the support lib used to use automake, was glad to
be rid of it again..) Libtool is plain crap in some setups. It strips out
options I need in my local Solaris setup for instance. And there is no way
to fix this without running every link rule manually with the right
parameters (ever try to make a whole Gnome setup manually and have to run
every link command manually to fix the link stage? Do that once and you
know how I feel about libtool....)

There's no functionality in automake that that is not easily added to the
current Makefile's. Automake will only make it harder for me to maintain
(keeping up with new versions and debugging automake stuff is sheer hell).
So in short I won't do it, and I will not accept patches on antlr to
support it either.

> It may be tricky to get antlr to build well on various platforms with
> the various language it uses, but I know it can be better than this!
> It's frustrating to try to get started when it's in this state.

Main trouble is the dropping of the antlrall.jar which I seem to have
missed. When I'm done it's back to the plain old configure/make/make
install routine, no worries.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Why don't we just invite them to dinner and massacre them all when they're
  drunk? You heard the man. There's seven hundred thousand of them. Ah? ..
           So it'd have to be something simple with pasta, then.
                 From: Interesting Times by Terry Pratchet


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Mon Feb 17 05:01:57 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Re: Antlr C# and Mono
In-Reply-To: <b2qcmk+sldf@eGroups.com>
Message-ID: <b2qmg5+3ugh@eGroups.com>

--- In antlr-interest@yahoogroups.com, "lloyd_from_far <lloyd@g...>" 
<lloyd@g...> wrote:
> just an idea.
> problably the winform stuff is to show the syntax tree.
> forget it, WinForm is not yet implemented in mono and it's subject 
to 
> lot of controversy and technical problems and, you could always use 
> the java version to see your syntax tree...

Kunle had this to say:

"Apparently Mono now has enough of System.Windows.Forms implemented 
to support the use of the ASTFrame mechanism to display ASTs:

http://lists.ximian.com/archives/public/mono-list/2003-
February/012192.html"

> (I mean, I believe, I had a ANTLR-C# project 4 month ago and I had 
no 
> problem to write it in C#, and see my syntax tree in java, although 
I 
> could have write the C# code after completing the syntax tree, I 
> don't quite remember....)

As long as you haven't used any language-specific action code, it 
will be possible to simply change the language option and visualize 
in Java or C# (C++ doesn't have an ASTFrame equivalent). 

Cheers,

Micheal

> 
> --- In antlr-interest@yahoogroups.com, Thomas Dudziak <tomdz@c...> 
> wrote:
> > Hi,
> > 
> > Out of sheer curiosity I installed Mono (0.19.1 pre-compiled 
> binaries) on
> > my Linux box. Then I figured that a nice thing would be to try 
> Antlr C#
> > codegen with it, and guess what, after half an hour I had 
compiled 
> and run
> > almost all C# examples (with two exceptions, see below). Truth to 
> be told,
> > it took me 25 minutes to figure out the command lines of mcs/mono 
> (I never
> > before had anything to do with either mono or Microsoft's .Net) 
and 
> 5
> > minutes to compile and run.
> > However I was not able to compile antlr fully - antlr.debug.misc 
> did not
> > compile at all complaining about not finding 
> System.Windows.Forms.Form -
> > and therefore the java example did not compile either (as it 
> requires
> > ASTFrame from the aforementioned namespace).
> > Also, whereas the calc example worked as expected, the heteroAST 
> example
> > did only parse zeroes instead of the numbers in the input file.
> > 
> > Any suggestions for these two problems ? Will it suffice to use a 
> CVS
> > version of mono instead of a pre-build one ?
> > 
> > Tom


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Mon Feb 17 05:07:55 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Please report any 2.7.2 issues now! (was Re: 2.7.2 build system is fubar)
In-Reply-To: <20030217115745.C26918@cs.utwente.nl>
Message-ID: <b2qmrb+mkud@eGroups.com>

--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> Hi,
> 
> On Mon, Feb 17, 2003 at 04:21:56AM -0000, Dave <davekam@p...> wrote:
> TJP> Oh, you need antlr.jar not antlrall.jar now...
> 
> Now they tell me ;P Terence can we put up a fixed 2.7.2 distro 
after I fix
> this in the configure scripts and Makefile build ? (The idea of 
going
> another year referencing ppl to a development snapshot with some 
essential
> fixes does really *not* appeal to me...)

Cool. I'll get cracking and try to fix up any C# issues asap in the 
coming weeks too. 

Will fixing the issue I posted about loss of global comments with 
grammar inheritance be straightforward-ish?. If so, I'll add that to 
my to-do-for-service-release-list too ;-)

Cheers,

Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gkaram888 at yahoo.ca  Mon Feb 17 07:09:27 2003
From: gkaram888 at yahoo.ca (gkaram888 <gkaram888@yahoo.ca>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] trying to get the calc program working using Visual C++ 6.0
Message-ID: <b2qtv7+no3j@eGroups.com>

Hi,

I built up the static Library ANTL as mentioned in one ANTLR
user's documentation and have calc.cpp and  calc.g
the calc.g (right click) custom build is failing although
I followed the required procedure:
commands: java  antlr.jar $(InputPath)
outputs:
CalcLexer.hpp
CalcLexer.cpp
CalcParser.hpp
CalcParser.cpp
CalcTreeWalker.hpp
CalcTreeWalker.cpp

I assume these files will be generated after compiling the calc.g
The ".hpp" are included in calc.cpp

I am receiving the following error:

--------------------Configuration: calc - Win32 Debug-----------------
---
Performing Custom Build Step on .\calc.g
java.lang.NoClassDefFoundError: antlr/jar
Exception in thread "main" 
Error executing c:\winnt\system32\cmd.exe.

CalcLexer.hpp - 1 error(s), 0 warning(s)

it looks like something is still missing to produce the .exe
application.

Does anyone can offer help ? or direct me to a good documented
sample from A-Z ?

Thank you

George



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From davekam at pobox.com  Mon Feb 17 07:34:32 2003
From: davekam at pobox.com (Dave <davekam@pobox.com>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Re: 2.7.2 build system is fubar
In-Reply-To: <20030217115745.C26918@cs.utwente.nl>
Message-ID: <b2qve8+kl2f@eGroups.com>

--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> > -- on a similar note, it sounds like it's not necessary to recompile
> > the jar's just to get the C++ runtime working, but that's what the
> > current Makefile does. I haven't tried to make from the lib/cpp
> > directory yet.
> 
> Submakes should work well as long as configure has run.

Yes, I've tried it now -- works fine. But maybe it should be possible
to install antlr and antlr-config without recompiling the java? No
biggie though. The compiling works fine and all. Just, well, you're
not supposed to have to recompile java when the source hasn't changed? ;)

> > -- make install should install everything that's necessary. is the
> > antlr directory necessary? it certainly appears to be, but I'm not
> > sure. just antlr.jar and/or antlrall.jar appear not to be sufficient.
> 
> The antlrall.jar and the header files and the libantlr.a files used
to be
> enough to use the tool. I'll check if this is still the case.

Yes, you are correct -- my problems were caused by the lack of export
in the antlr wrapper, which I hadn't caught yet.

> There's no functionality in automake that that is not easily added
to the
> current Makefile's. Automake will only make it harder for me to maintain
> (keeping up with new versions and debugging automake stuff is sheer
hell).
> So in short I won't do it, and I will not accept patches on antlr to
> support it either.

OK, apologies for jumping to conclusions -- it just seems like most
programs are using automake these days. But I'm only just learning
about it so I don't really know what it's like to debug, etc.

Dave


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Mon Feb 17 07:46:33 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Re: 2.7.2 build system is fubar
In-Reply-To: <b2qve8+kl2f@eGroups.com>; from davekam@pobox.com on Mon, Feb 17, 2003 at 03:34:32PM -0000
References: <20030217115745.C26918@cs.utwente.nl> <b2qve8+kl2f@eGroups.com>
Message-ID: <20030217164633.F26918@cs.utwente.nl>

Hi,

On Mon, Feb 17, 2003 at 03:34:32PM -0000, Dave <davekam@pobox.com> wrote:
> Yes, I've tried it now -- works fine. But maybe it should be possible
> to install antlr and antlr-config without recompiling the java? No
> biggie though. The compiling works fine and all. Just, well, you're
> not supposed to have to recompile java when the source hasn't changed? ;)

It might be because of some weird thing with the date's on the sources and
antlr.jar (or the absence of antlrall.jar) Could also be an artifact of the
rule to make .g files. Those use a little help file which is probably not
in the archive.

> > There's no functionality in automake that that is not easily added
> to the
> > current Makefile's. Automake will only make it harder for me to maintain
> > (keeping up with new versions and debugging automake stuff is sheer
> hell).
> > So in short I won't do it, and I will not accept patches on antlr to
> > support it either.
> 
> OK, apologies for jumping to conclusions -- it just seems like most
> programs are using automake these days. But I'm only just learning
> about it so I don't really know what it's like to debug, etc.

No need to apologize ;) When I first saw automake/libtool I thought they
were cool, but they only work really well in a defaultish setup. (The local
Solaris setup forces me to hardcode library paths in shared objects and
that's impossible to do with libtool atm) I also dislike all the copies of
settings in all submakefiles. I prefer to have one settings makefile that
fits all and local settings where needed.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Chaos is found in greatest abundance wherever order is being sought.
  --- Terry Pratchet


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tomdz at cs.tu-berlin.de  Mon Feb 17 08:02:05 2003
From: tomdz at cs.tu-berlin.de (Thomas Dudziak)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] trying to get the calc program working using
 Visual C++ 6.0
Message-ID: <Pine.SOL.4.44.0302171656440.18785-100000@reticuli.cs.tu-berlin.de>

The commandline seems to be wrong. You should use something like

%JAVA_HOME%\bin\java -classpath %PATH_TO_ANTLR%\antlr.jar antlr.Tool
${InputPath}

where PATH_TO_ANTLR is your antlr directory (you can also use
relative paths like ..\..\antlr.jar or the like), and JAVA_HOME to point
to your JDK or JRE root directory.

Tom



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Mon Feb 17 11:14:00 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] 2.7.2 patch for antlr.jar mixup?
In-Reply-To: <20030217115745.C26918@cs.utwente.nl>
Message-ID: <F8249FBB-42AB-11D7-94E7-000393BB647E@jguru.com>


On Monday, February 17, 2003, at 02:57 AM, Ric Klaren wrote:

> Hi,
>
> On Mon, Feb 17, 2003 at 04:21:56AM -0000, Dave <davekam@pobox.com> 
> wrote:
> TJP> Oh, you need antlr.jar not antlrall.jar now...
>
> Now they tell me ;P Terence can we put up a fixed 2.7.2 distro after I 
> fix
> this in the configure scripts and Makefile build ? (The idea of going
> another year referencing ppl to a development snapshot with some 
> essential
> fixes does really *not* appeal to me...) Mental note to myself for next
> time: do not release when you're about to go on a business trip, do it
> afterwards.

<snicker>.  Yes, we can push out a fix sometime.  I'd like to add some 
other things too, but if this is critical we can push right away.  What 
would be call it?  2.7.3?

>> -- it's pointless to include the generated *.java files in the
>> distribution as readonly, and then try to regenerate new files over
>> them. either they should be writable, or not regenerated during the
>> build.
>
> This is a packaging error. Our source controll system perforce keeps 
> files
> always readonly so my guess is that Terence just tarballed/zipped the 
> lot.
> Thus breaking the Makefile build.

Ah ha.  Yeah, forgot about that.  So I should run a "chmod a+w -R *" 
before release?

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From alan at oursland.net  Mon Feb 17 11:21:33 2003
From: alan at oursland.net (Alan Oursland)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] another nondeterminism question
In-Reply-To: <2284AD12-4074-11D7-9DCC-000393BB647E@jguru.com>
Message-ID: <LPBBJCCFLMNNCKIFGNLHGEJIDPAA.alan@oursland.net>

Ah! That works. Thanks.

I remember reading that in the docs now, but I didn't think I would apply in
this case.

I've also found that a liberal use of syntactic predicates helps resolve
most of the nondeterminism warnings and lets me avoid lots of ugly and
painful left factoring and inlining.

Incidently, I am working on an r5rs Scheme grammar file for a class. If no
one has done so yet, I'll send it to you at the ned of the semester.

Alan

> -----Original Message-----
> From: Terence Parr [mailto:parrt@jguru.com]
> Sent: Friday, February 14, 2003 5:29 PM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] another nondeterminism question
>
>
>
> On Friday, February 14, 2003, at 03:21 PM, Alan Oursland wrote:
>
> > I am having problems with lookahead in the parser now. Is this another
> > problem with linear approximation? The grammar and warnings are at the
> > bottom of this message.
>
> I believe this is a linear approximation problem.  It's a tough one
> with all of the parenthesis around.
> >
> > I think that k=2 should have resolved any nondeterminism here.
> > In expression, (cond_clause)+ should loop on ("(" "(" | "(" "EXPR"),
> > transition to else_clause on ("(" "else"), and skip the else_clause on
> > (")").
> >
> > I also tried doing (options{greedy=false;}: cond_clause)+, but that
> > gave me:
> > 	TestParser.g:15: warning:nongreedy block may exit incorrectly due
> > 	TestParser.g:15:     	to limitations of linear
> approximate lookahead
> > (first
> > k-1 sets
> > 	TestParser.g:15:     	in lookahead not singleton).
>
> Well, greedy=true is probably better because you want it to keep
> matching expressions while it can.  Try it out...
>
> Ter
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From reidr at bigfoot.com  Mon Feb 17 12:59:17 2003
From: reidr at bigfoot.com (Reid Rivenburgh)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Re: 2.7.2 build system is fubar
In-Reply-To: <20030217115745.C26918@cs.utwente.nl> (Ric Klaren's message of
 "Mon, 17 Feb 2003 11:57:45 +0100")
References: <10484908-420C-11D7-94E7-000393BB647E@jguru.com>
	<b2po14+8hj6@eGroups.com> <20030217115745.C26918@cs.utwente.nl>
Message-ID: <m2fzqmei8q.fsf@sty.pigpen.com>

Ric Klaren <klaren@cs.utwente.nl> writes:

> Now they tell me ;P Terence can we put up a fixed 2.7.2 distro after I fix
> this in the configure scripts and Makefile build ? (The idea of going
> another year referencing ppl to a development snapshot with some essential
> fixes does really *not* appeal to me...) Mental note to myself for next
> time: do not release when you're about to go on a business trip, do it
> afterwards.

Ric,

Would you consider adding the CLASSPATH fix for cygwin, as well?  You
may have missed my earlier post regarding this (and I'm still not sure
whether my suggestion is a proper fix):

_______________________________________________________________________

Hi, Ric!  I'm far from an autoconf expert, but after doing some
digging, it looks like the Java-related macros you're using are out of
date.  For example, if you look at the autoconf macro repository
definition of AC_CHECK_CLASSPATH at:

  http://www.gnu.org/software/ac-archive/htmldoc/ac_check_classpath.html

you'll see that it doesn't define CLASSPATH, unlike the contents of
aclocal.m4 in the ANTLR distribution.

I did a simple experiment and commented out the AC_CHECK_CLASSPATH in
the configure.in file, re-running autoconf.  Everything still built
properly on Linux, it seemed.  Is that macro even necessary?  I'm
unable to check on cygwin at the moment, but since it's the problem,
removing it certainly seems like it would fix things!

Apologies in advance if that's a naive solution....

Thanks,
Reid

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From nk.truong at student.qut.edu.au  Mon Feb 17 13:53:13 2003
From: nk.truong at student.qut.edu.au (tdknghi <nk.truong@student.qut.edu.au>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] Re: line number counter reset
In-Reply-To: <20030217112326.A26918@cs.utwente.nl>
Message-ID: <b2rlk9+nsbi@eGroups.com>

  Hi there,

Thanks a lot for your response. However, I don't think copy the line 
number of the modifier to the type token would be appropriate. As if the 
students type varaible declaration like below. The line number will not 
be correct:
   int
       i = 5;

Do you have any further suggestions?

Thanks.
MiMi

--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> On Sat, Feb 15, 2003 at 07:40:22AM -0000, tdknghi 
<nk.truong@s...> wrote:
> > I would like tracking the line number in my program when parse 
Java 
> > program. I wrote a class to extend antlr.CommonAST then instruct 
the 
> > parser to use my custom AST type rather than the default AST 
node 
> > type. I have everything work beautifully except one problem. I 
> > attach all the files together with the description so that you could 
> > get a better idea of what goes wrong.
> ....
> >  a. The line number of the "ScreenWriter token" (type one) 
suddently 
> > reset to 0 (the correct line number should be 5), but the line 
> > number of the token "writer" is correct which is 5. The rest of 
> > tokens in that line is correct.
> >  b. Similarity  with the line int i = 5; the line number of the 
> > token "int" is reset to 0 but the line number of toke "i", "=", "5" 
> > is correct.
> 
> You have to set line numbers manually on manually created tokens 
(and
> there's a lot of manually created stuff in the java grammar). At least 
that
> is my guess.
> 
> >  I have done several tests. the line number only reset for the first 
> > token of the variable declaration line only. 
> 
> My guess is that you can fix this particular one by meddling a bit with 
the
> variableDeclarator rule. (e.g. copy line info of the modifiers into the
> synthetic node VARIABLE_DEF etc.
> 
> Cheers,
> 
> Ric
> -- 
> -----+++++*****************************************************+++++++++--
-----
>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893722  ----
> -----+++++*****************************************************+++++++++--
-----
>  'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh, 
no,
>   of course, we ... that is ... well, yes, in fact,' said Ponder. 'Adrian
>     goes round the back and ... er ... prods it with his foot. But in a
>      technical way,' he added. --- From: Hogfather by Terry Pratchett.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gkaram888 at yahoo.ca  Mon Feb 17 14:26:16 2003
From: gkaram888 at yahoo.ca (gkaram888 <gkaram888@yahoo.ca>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] (unknown)
Message-ID: <b2rni8+3sds@eGroups.com>

Hi,

I am receiving Link errors after I tried both the 
main2.cpp and main.cpp files of the examples of antlr calc
after I created the static library.

Here are the 2 error link types (34 total errors): 
LNK2005
LNK2001

svcprtd.lib(MSVCP60D.dll) : error LNK2005: "public:
__thiscall std::basic_string<char,struct
std::char_traits<char>,class std::allocator<char>
>::~basic_string<char,struct
std::char_traits<char>,class std::allocator<char>
>(void)" (??1?$basic_strin
g@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@XZ)
already defined in calc.obj
etc...
MSVCRTD.lib(MSVCRTD.dll) : error LNK2005: _exit
already defined in LIBCMTD.lib(crt0dat.obj)
etc...
calc.obj : error LNK2001: unresolved external symbol
"public: void __thiscall CalcParser::expr(void)"
(?expr@CalcParser@@QAEXXZ)
etc...

Debug/calc.exe : fatal error LNK1120: 6 unresolved
externals
Error executing link.exe.

calc.exe - 34 error(s), 1 warning(s)

Does anyone have an idea what is causing that?

Thank you

George



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From nk.truong at student.qut.edu.au  Mon Feb 17 15:00:20 2003
From: nk.truong at student.qut.edu.au (tdknghi <nk.truong@student.qut.edu.au>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] line number problem. Please help!
Message-ID: <b2rpi4+9pct@eGroups.com>

  Hi all,

I would like to keep track the line number and display it in Java AST 
tree. I wrote my own custom AST node. Everything work fine except 
one problem. the line number always reset at the first token of any 
variable declaration, all other tokens in the same line have correct line 
number. For example:
   int i = 5; (the line number of token "int" always reset to 0).

I have done debug and look through the grammar. I have found the 
follow section has changed the line number of the counter in the java.g 
grammar.
/-----------------------------------------------------------------
   variableDefinitions[AST mods, AST t]
{System.out.println("b " + ((LineAST)t).getText() + " " + ((LineAST)
t).getLine());}
	:	variableDeclarator[getASTFactory().dupTree
(mods),
						   
getASTFactory().dupTree(t)]
{System.out.println("before 1 " + ((LineAST)t).getText() + " " + 
((LineAST)t).getLine());}				
		   
		(	COMMA!
			variableDeclarator[getASTFactory
().dupTree(mods),
						
	   getASTFactory().dupTree(t)]
		{System.out.println("before 2 " + ((LineAST)
t).getText() + " " + ((LineAST)t).getLine());})*
	;

/** Declaration of a variable.  This can be a class/instance variable,
 *   or a local variable in a 
 * It can also include possible initialization.
 */
variableDeclarator![AST mods, AST t]
{System.out.println("after " + ((LineAST)t).getText() + " " + ((LineAST)
t).getLine());	}
	:	id:IDENT d:declaratorBrackets[t] v:varInitializer
		{
			#variableDeclarator = #(#
[VARIABLE_DEF,"VARIABLE_DEF"], mods, #(#[TYPE,"TYPE"],d), id, 
v);
System.out.println("$" + id.getText());	
//System.out.println("after " + ((LineAST)t).getText() + " " + ((LineAST)
t).getLine());			
		} 
	;

/------------------------------------------------
In my understanding, the variableDefinitions rule calls the 
variableDeclarator rule and past all neccessary information to construct 
the tree. I have found the line number of the t ast is changed in the 
variableDeclarator rule. Do you have any idea why it happens and how 
to fix it? 

Thanks for all your help.

Regards
MiMi


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mklogic at yahoo.com  Mon Feb 17 19:14:36 2003
From: mklogic at yahoo.com (mklogic <mklogic@yahoo.com>)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] optional sub rules
Message-ID: <b2s8es+b9hn@eGroups.com>

Hi, 

Is it legal to have a rule that contains sub rules that are all 
optional? I am getting nondeterminism warnings possibly because all 
my sub rules are optional. If I remove all the questions marks, the 
nondeterminism warning will away, but the meaning will be different.

Thanks 
  

 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Mon Feb 17 19:35:51 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:22 2004
Subject: [antlr-interest] optional sub rules
In-Reply-To: <b2s8es+b9hn@eGroups.com>
Message-ID: <13F59D2D-42F2-11D7-94E7-000393BB647E@jguru.com>


On Monday, February 17, 2003, at 07:14 PM, mklogic <mklogic@yahoo.com> 
wrote:

> Hi,
>
> Is it legal to have a rule that contains sub rules that are all
> optional? I am getting nondeterminism warnings possibly because all
> my sub rules are optional. If I remove all the questions marks, the
> nondeterminism warning will away, but the meaning will be different.

It is legal, but your grammar apparently is nondeterministic without at 
least something being matched in that rule.

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From hushlee83 at yahoo.com.sg  Mon Feb 17 21:33:14 2003
From: hushlee83 at yahoo.com.sg (=?iso-8859-1?q?Sharon=20Li?=)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Lexical rules
Message-ID: <20030218053314.15145.qmail@web40905.mail.yahoo.com>


Hello,

got a problem with non-determinism. how should i define my lexer rules so that I can have:

ALPHA  : ( 'a'..'z' | 'A'..'Z' ); 

DIGIT : ('0'..'9');

NUMERIC : (DIGIT)+ ((DOT) (d:DIGIT)*)* ;

NAME : (ALPHA) (ALPHA|DIGIT|UNDERSCORE)* ;


all in my lexer without getting a non-determinism error? Coz I need a rule that finds a single digit as well as a rule that finds a numeric (i.e with decimal places), and a rule for a single letter as well as word.

Thanks in advance for any help rendered! 


 Yahoo! Biztools
- Promote your business from just $5 a month!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030218/c391f700/attachment.html
From nk.truong at student.qut.edu.au  Mon Feb 17 22:51:36 2003
From: nk.truong at student.qut.edu.au (tdknghi <nk.truong@student.qut.edu.au>)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] ClassCastException
Message-ID: <b2sl5o+6hdd@eGroups.com>

  Hi,

I wrote a custom Java ASTNode type for my parser and my tree 
parser. Everything work fine in the commandline... however, when I 
integrate it with TOMCAT i have ClassCastException. It says "Can't 
find/access AST Node type". Have any one has this problem with 
Tomcat before? Could you please tell me what causing it?

Thanks.
MM


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Tue Feb 18 01:59:56 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Re: line number counter reset
In-Reply-To: <b2rlk9+nsbi@eGroups.com>; from nk.truong@student.qut.edu.au on Mon, Feb 17, 2003 at 09:53:13PM -0000
References: <20030217112326.A26918@cs.utwente.nl> <b2rlk9+nsbi@eGroups.com>
Message-ID: <20030218105956.G26918@cs.utwente.nl>

Hi,

On Mon, Feb 17, 2003 at 09:53:13PM -0000, tdknghi <nk.truong@student.qut.edu.au> wrote:
> Thanks a lot for your response. However, I don't think copy the line 
> number of the modifier to the type token would be appropriate. As if the 
> students type varaible declaration like below. The line number will not 
> be correct:
>    int
>        i = 5;
> 
> Do you have any further suggestions?

In some way you have to get the right line number in the right place, e.g.
by passing some extra stuff or by returning some extra values. It depends
on the rules what is easiest.

Some people adopted a strategy with an extra tree walker to number nodes
that where unitialized line number wise. Search the list archive for
details.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     Human beings, who are almost unique in having the ability to learn
   from the experience of others, are also remarkable for their apparent
         disinclination to do so. --- Douglas Adams, Last Chance to See


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Tue Feb 18 02:03:44 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] 2.7.2 patch for antlr.jar mixup?
In-Reply-To: <F8249FBB-42AB-11D7-94E7-000393BB647E@jguru.com>; from parrt@jguru.com on Mon, Feb 17, 2003 at 11:14:00AM -0800
References: <20030217115745.C26918@cs.utwente.nl> <F8249FBB-42AB-11D7-94E7-000393BB647E@jguru.com>
Message-ID: <20030218110344.H26918@cs.utwente.nl>

Hi,

On Mon, Feb 17, 2003 at 11:14:00AM -0800, Terence Parr wrote:
> > Now they tell me ;P Terence can we put up a fixed 2.7.2 distro after I 
> > fix
> > this in the configure scripts and Makefile build ? (The idea of going
> > another year referencing ppl to a development snapshot with some 
> > essential
> > fixes does really *not* appeal to me...) Mental note to myself for next
> > time: do not release when you're about to go on a business trip, do it
> > afterwards.
> 
> <snicker>.  Yes, we can push out a fix sometime.  I'd like to add some 
> other things too, but if this is critical we can push right away.  What 
> would be call it?  2.7.3?

Hmmm would depend on how much we put in. Upping a whole version might be a
bit overdone it's mostly build fixes I have.

> >> -- it's pointless to include the generated *.java files in the
> >> distribution as readonly, and then try to regenerate new files over
> >> them. either they should be writable, or not regenerated during the
> >> build.
> >
> > This is a packaging error. Our source controll system perforce keeps 
> > files
> > always readonly so my guess is that Terence just tarballed/zipped the 
> > lot.
> > Thus breaking the Makefile build.
> 
> Ah ha.  Yeah, forgot about that.  So I should run a "chmod a+w -R *" 
> before release?

Yesterday evening I realized it might be smarter to do this in the make
rules themselves, that way we can't forget it anymore ;)

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  "I think we better split up."
  "Good idea. We can do more damage that way."
  --- Ghostbusters


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Tue Feb 18 02:08:38 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Re: 2.7.2 build system is fubar
In-Reply-To: <m2fzqmei8q.fsf@sty.pigpen.com>; from reidr@bigfoot.com on Mon, Feb 17, 2003 at 01:59:17PM -0700
References: <10484908-420C-11D7-94E7-000393BB647E@jguru.com> <b2po14+8hj6@eGroups.com> <20030217115745.C26918@cs.utwente.nl> <m2fzqmei8q.fsf@sty.pigpen.com>
Message-ID: <20030218110838.I26918@cs.utwente.nl>

On Mon, Feb 17, 2003 at 01:59:17PM -0700, Reid Rivenburgh wrote:
> Would you consider adding the CLASSPATH fix for cygwin, as well?  You
> may have missed my earlier post regarding this (and I'm still not sure
> whether my suggestion is a proper fix):

I pasted this in my TODO file so I'll have a look.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 "Don't call me stupid." "Oh, right. To call you stupid would be an insult
    to stupid people. I've known sheep that could outwit you! I've worn
              dresses with higher IQs!" --- A Fish Called Wanda


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From markkant2001 at yahoo.com  Tue Feb 18 04:16:02 2003
From: markkant2001 at yahoo.com (markkant2001 <markkant2001@yahoo.com>)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] make errors on Linux
Message-ID: <b2t862+4cj0@eGroups.com>

Hi,

I am new to antlr.  I tried to 
configure
make

I fixed the problems with configure ( antlrall -> antlr.ar )
Then I tried make again.  Now I get the following errors:

In file included from ANTLRUtil.cpp:9:
../antlr/IOException.hpp:25: syntax error before `;'
../antlr/IOException.hpp:27: parse error before `&'
../antlr/IOException.hpp:30: missing ';' before right brace
../antlr/IOException.hpp:32: semicolon missing after declaration of
`class antlr::IOException'
../antlr/IOException.hpp: In function `int antlr::IOException(const
string &)': ../antlr/IOException.hpp:32: base initializers not allowed
for non-member functions
../antlr/IOException.hpp:34: warning: control reaches end of non-void
function `antlr::IOException(const string &)'
../antlr/IOException.hpp: At top level:
../antlr/IOException.hpp:36: destructors must be member functions
../antlr/IOException.hpp:36: virtual outside class declaration
../antlr/IOException.hpp:41: parse error before `}'
ANTLRUtil.cpp: In function `class string antlr::read_string(istream
&)':
ANTLRUtil.cpp:54: implicit declaration of function `int
antlr::eatwhite(...)'
ANTLRUtil.cpp:54: warning: cannot pass objects of type `istream'
through `...'
ANTLRUtil.cpp:63: implicit declaration of function `int
antlr::IOException(...)'ANTLRUtil.cpp:104: warning: cannot pass
objects of type
`basic_string<char,string_char_traits<char>,__default_alloc_template<true,0>
>' through `...'


Will appreciate any help

Thanks

NK


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Tue Feb 18 04:39:57 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] make errors on Linux
In-Reply-To: <b2t862+4cj0@eGroups.com>; from markkant2001@yahoo.com on Tue, Feb 18, 2003 at 12:16:02PM -0000
References: <b2t862+4cj0@eGroups.com>
Message-ID: <20030218133957.K26918@cs.utwente.nl>

On Tue, Feb 18, 2003 at 12:16:02PM -0000, markkant2001 <markkant2001@yahoo.com> wrote:
> In file included from ANTLRUtil.cpp:9:
> ../antlr/IOException.hpp:25: syntax error before `;'
> ../antlr/IOException.hpp:27: parse error before `&'
> ../antlr/IOException.hpp:30: missing ';' before right brace
> ../antlr/IOException.hpp:32: semicolon missing after declaration of

Add a #include <exception> at the IOException file.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Wit is cultured insolence. --- Aristotle


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gudnabrsam at yahoo.com  Tue Feb 18 06:55:08 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Lexical rules
In-Reply-To: <20030218053314.15145.qmail@web40905.mail.yahoo.com>
Message-ID: <20030218145508.51390.qmail@web20418.mail.yahoo.com>

It appears to my inexperienced eye that as long as a
NAME can be a single ALPHA, it will conflict with
ALPHA; likewise if NUMERIC can be a single DIGIT it
will conflict with DIGIT.  Do you plan to use an Antlr
parser with this lexer?  Maybe you could change the
definitions so that NUMERIC has either two or more
digits or a dot followed by one or more digits, and
NAME has one ALPHA followed by at least one ALPHA,
NUMERIC, or UNDERSCORE.  Then your parser could allow
the alternative that a single digit could be used as a
numeric:

class SharonLiParser extends Parser;
name	:	ALPHA | NAME ;
numeric	:	DIGIT | NUMERIC ;
class SharonLiLexer extends Lexer;
options { k = 2; } // two token lookahead
ALPHA  : ( 'a'..'z' | 'A'..'Z' ); 
DIGIT : ('0'..'9');
NUMERIC : DIGIT ((DIGIT)+ | ((DOT) (d:DIGIT)+)) ;
NAME : (ALPHA) (ALPHA|DIGIT|UNDERSCORE)+ ;
UNDERSCORE : '_' ;
DOT : '.' ;


--- Sharon Li <hushlee83@yahoo.com.sg> wrote:
> 
> Hello,
> 
> got a problem with non-determinism. how should i
> define my lexer rules so that I can have:
> 
> ALPHA  : ( 'a'..'z' | 'A'..'Z' ); 
> 
> DIGIT : ('0'..'9');
> 
> NUMERIC : (DIGIT)+ ((DOT) (d:DIGIT)*)* ;
> 
> NAME : (ALPHA) (ALPHA|DIGIT|UNDERSCORE)* ;
> 
> 
> all in my lexer without getting a non-determinism
> error? Coz I need a rule that finds a single digit
> as well as a rule that finds a numeric (i.e with
> decimal places), and a rule for a single letter as
> well as word.
> 
> Thanks in advance for any help rendered! 
> 
> 
>  Yahoo! Biztools
> - Promote your business from just $5 a month!


__________________________________________________
Do you Yahoo!?
Yahoo! Shopping - Send Flowers for Valentine's Day
http://shopping.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tomdz at cs.tu-berlin.de  Tue Feb 18 08:21:40 2003
From: tomdz at cs.tu-berlin.de (Thomas Dudziak)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Link errors in calc example (was (unknown) )
Message-ID: <Pine.SOL.4.44.0302181717010.29468-100000@reticuli.cs.tu-berlin.de>

Adding the libcmtd.lib to the ignored libraries (project options) could
perhaps solve your problem, but before you do this, you should first check
whether the antlr static library and the calc exe are linked against the
same runtime library variant (usually you would choose Multithreaded DLL
debug or release).

Tom



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gilh at technolog.ca  Tue Feb 18 08:58:25 2003
From: gilh at technolog.ca (G. Hauer)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Visual Basic grammar
Message-ID: <1045587505.3513.12.camel@giantclam>

Hi everyone,

I'm looking for an implementation of a Visual Basic grammar in ANTLR.
Although I think I've seen some references to it I cannot seem to locate
one. Does anyone know where such a beast can be found?

Thanks,
Gil


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tomdz at cs.tu-berlin.de  Tue Feb 18 09:21:41 2003
From: tomdz at cs.tu-berlin.de (Thomas Dudziak)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Visual Basic grammar
Message-ID: <Pine.SOL.4.44.0302181818280.29843-100000@reticuli.cs.tu-berlin.de>

For Visual Basic.NET you would want to look at

http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vbls7/html/vbSpecStart.asp

As I haven't worked with Visual Basic.NET, I cannot tell you how different
it is from good old Visual Basic (6).

Tom




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gudnabrsam at yahoo.com  Tue Feb 18 10:42:43 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] got new "language implementation" lecture audio up
In-Reply-To: <A54D5AB6-406D-11D7-9DCC-000393BB647E@jguru.com>
Message-ID: <20030218184243.47029.qmail@web20415.mail.yahoo.com>

Just curious... when do symbol tables come up?  and
can TreeParsers be used in any direct/helpful way to
generate them?

Ravenously,
Matt

--- Terence Parr <parrt@jguru.com> wrote:
> Howdy.  Just posted a 2-part lecture on language
> implementation.  See:
> 
>   
>
http://nexus.cs.usfca.edu/~parrt/course/652/index.html
> 
> Covers:
> 
> #### Compilers Versus Interpreters
> ### A Few Examples
> ## Interpreters
> ## Translators
> # source-to-source
> ## Compilers
> #### Implementation stages and data flow
> ### Generating token stream
> ### Generating IRs
> ### Code generation
> ## GCC
> ## "TWIGs"
> #### Implementing Object-Oriented Languages
> ### How fast can you go?
> ### Polymorphism
> ## Implementing in C ala C++
> ## Java and dynamic binding
> ### Runtime Compilation
> ## JIT
> ## Dynamic compilation
> # Method call optimization
> # Some (old) HotSpot Numbers
> 
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator:
> http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Shopping - Send Flowers for Valentine's Day
http://shopping.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Tue Feb 18 10:47:13 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] got new "language implementation" lecture audio up
In-Reply-To: <20030218184243.47029.qmail@web20415.mail.yahoo.com>
Message-ID: <64D327EB-4371-11D7-94E7-000393BB647E@jguru.com>


On Tuesday, February 18, 2003, at 10:42 AM, Matt Benson wrote:

> Just curious... when do symbol tables come up?  and
> can TreeParsers be used in any direct/helpful way to
> generate them?

Hi Matt,

I was going to do sym tabs tomorrow, but must do GC real quick and then 
get the folks started on ANTLR itself.  Plus, I want to think more 
about sym tab stuff before presenting.  Now is the time to tell me 
precisely what you want to learn about in that regard! ;)

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gudnabrsam at yahoo.com  Tue Feb 18 12:01:38 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] got new "language implementation" lecture audio up
In-Reply-To: <64D327EB-4371-11D7-94E7-000393BB647E@jguru.com>
Message-ID: <20030218200138.2495.qmail@web20421.mail.yahoo.com>

Well, again, my interest in Antlr was a direct result
of my decision to adapt a Java source
analysis/refactoring package that used Antlr
(Transmogrify) for the specific purpose of
implementing intelligent code completion, especially
for the Jext Java text editor to which I am a
contributor.  Transmogrify already has a very in-depth
symbol table generation approach.  The symbol table is
built by using a handmade tree walker.  After the "XML
Parsing the easy way" project, my first question is
whether a TreeParser can be used to construct a
SymbolTable in perhaps a (at least somewhat) simpler
or more intuitive way than the current tree walking
class which is 1300+ lines long (800+ NCS lines). 
While I obviously don't expect your class to go into
this level of detail to a particular implementation,
this is the direction of my personal interest.

Thanks again for making this available and
understandable.  I feel like I am learning tons!


--- Terence Parr <parrt@jguru.com> wrote:
> 
> On Tuesday, February 18, 2003, at 10:42 AM, Matt
> Benson wrote:
> 
> > Just curious... when do symbol tables come up? 
> and
> > can TreeParsers be used in any direct/helpful way
> to
> > generate them?
> 
> Hi Matt,
> 
> I was going to do sym tabs tomorrow, but must do GC
> real quick and then 
> get the folks started on ANTLR itself.  Plus, I want
> to think more 
> about sym tab stuff before presenting.  Now is the
> time to tell me 
> precisely what you want to learn about in that
> regard! ;)
> 
> Ter
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator:
> http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Shopping - Send Flowers for Valentine's Day
http://shopping.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Tue Feb 18 12:56:43 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] got new "language implementation" lecture audio up
In-Reply-To: <20030218200138.2495.qmail@web20421.mail.yahoo.com>
Message-ID: <7C24DEA8-4383-11D7-94E7-000393BB647E@jguru.com>


On Tuesday, February 18, 2003, at 12:01 PM, Matt Benson wrote:

> Well, again, my interest in Antlr was a direct result
> of my decision to adapt a Java source
> analysis/refactoring package that used Antlr
> (Transmogrify) for the specific purpose of
> implementing intelligent code completion, especially
> for the Jext Java text editor to which I am a
> contributor.  Transmogrify already has a very in-depth

Is Transmogrify still a living project?

> symbol table generation approach.  The symbol table is
> built by using a handmade tree walker.  After the "XML
> Parsing the easy way" project, my first question is
> whether a TreeParser can be used to construct a
> SymbolTable in perhaps a (at least somewhat) simpler
> or more intuitive way than the current tree walking
> class which is 1300+ lines long (800+ NCS lines).

Hell yes!  ;)  Building a tree walker by hand is like building a parser 
by hand.  Check out the pascal grammar I posted.  It uses a specific 
symtab.g tree grammar to walk the tree built by the pascal.g parser to 
build up the symbol table, linking nodes in the tree with the defs of 
variables.

> While I obviously don't expect your class to go into
> this level of detail to a particular implementation,
> this is the direction of my personal interest.

Don't be too sure.  I'm thinking of making the poor students do this 
symbol table stuff for Java.

>
> Thanks again for making this available and
> understandable.  I feel like I am learning tons!

Excellent.  Hopefully that "XML the easy way" makes sense.  The 
students will see it tomorrow. :)

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gudnabrsam at yahoo.com  Tue Feb 18 13:32:42 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] got new "language implementation" lecture audio up
In-Reply-To: <7C24DEA8-4383-11D7-94E7-000393BB647E@jguru.com>
Message-ID: <20030218213242.71668.qmail@web20413.mail.yahoo.com>

--- Terence Parr <parrt@jguru.com> wrote:
> 
> Is Transmogrify still a living project?
> 

Not as far as I can tell; the last updates were in
2001, and the mailing list just sort of died.  These
plus certain interface preferences on my part were
what brought about my decision to adapt the code to my
own ends rather than contribute to the existing
project.

> 
> Don't be too sure.  I'm thinking of making the poor
> students do this 
> symbol table stuff for Java.
> 

Wow, that's great (for me, maybe not for them).  I'll
definitely be taking a look at the Pascal TreeParser.

> 
> Excellent.  Hopefully that "XML the easy way" makes
> sense.  The 
> students will see it tomorrow. :)

Yep, it worked for me.  Plus it seems to be a nice
slow immersion into the grammar meta-language.


__________________________________________________
Do you Yahoo!?
Yahoo! Shopping - Send Flowers for Valentine's Day
http://shopping.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Tue Feb 18 13:45:09 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] got new "language implementation" lecture audio up
In-Reply-To: <20030218213242.71668.qmail@web20413.mail.yahoo.com>
Message-ID: <409AB236-438A-11D7-94E7-000393BB647E@jguru.com>


On Tuesday, February 18, 2003, at 01:32 PM, Matt Benson wrote:
>> Excellent.  Hopefully that "XML the easy way" makes
>> sense.  The
>> students will see it tomorrow. :)
>
> Yep, it worked for me.  Plus it seems to be a nice
> slow immersion into the grammar meta-language.

Groovy...i had to resist the temptation to have the students generate 
both Pascal and Java programs from the input using my cool 
StringTemplate (read that "output grammar") stuff. :)

next time ;)

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gudnabrsam at yahoo.com  Tue Feb 18 14:59:55 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] got new "language implementation" lecture audio up
In-Reply-To: <409AB236-438A-11D7-94E7-000393BB647E@jguru.com>
Message-ID: <20030218225955.67793.qmail@web20422.mail.yahoo.com>

I am looking over the Pascal stuff now... still a
little over my head yet but I am glad to know the
capability is there and may well be much cleaner than
what I "inherited."  I was a little puzzled by the
reference to "StringTemplate"; I wasn't able to find
that name anywhere... but anyway...


--- Terence Parr <parrt@jguru.com> wrote:
> 
> On Tuesday, February 18, 2003, at 01:32 PM, Matt
> Benson wrote:
> >> Excellent.  Hopefully that "XML the easy way"
> makes
> >> sense.  The
> >> students will see it tomorrow. :)
> >
> > Yep, it worked for me.  Plus it seems to be a nice
> > slow immersion into the grammar meta-language.
> 
> Groovy...i had to resist the temptation to have the
> students generate 
> both Pascal and Java programs from the input using
> my cool 
> StringTemplate (read that "output grammar") stuff.
> :)
> 
> next time ;)
> 
> Ter
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator:
> http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Shopping - Send Flowers for Valentine's Day
http://shopping.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Tue Feb 18 17:12:18 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] got new "language implementation" lecture audio up
In-Reply-To: <20030218225955.67793.qmail@web20422.mail.yahoo.com>
Message-ID: <30566072-43A7-11D7-94E7-000393BB647E@jguru.com>


On Tuesday, February 18, 2003, at 02:59 PM, Matt Benson wrote:

> I am looking over the Pascal stuff now... still a
> little over my head yet but I am glad to know the
> capability is there and may well be much cleaner than
> what I "inherited."  I was a little puzzled by the
> reference to "StringTemplate"; I wasn't able to find
> that name anywhere... but anyway...

All top secret ;)  Actually, I just haven't had time to formally 
release that stuff yet.  Haven't finished thinking about it.

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mklogic at yahoo.com  Tue Feb 18 22:32:57 2003
From: mklogic at yahoo.com (mklogic <mklogic@yahoo.com>)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Re: optional sub rules
In-Reply-To: <13F59D2D-42F2-11D7-94E7-000393BB647E@jguru.com>
Message-ID: <b2v8ep+26gh@eGroups.com>

Could you give me an example of a rule that has all sub rules 
optional and doesn't generate nondeterminism warning? Thanks


--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@j...> 
wrote:
> 
> On Monday, February 17, 2003, at 07:14 PM, mklogic <mklogic@y...> 
> wrote:
> 
> > Hi,
> >
> > Is it legal to have a rule that contains sub rules that are all
> > optional? I am getting nondeterminism warnings possibly because 
all
> > my sub rules are optional. If I remove all the questions marks, 
the
> > nondeterminism warning will away, but the meaning will be 
different.
> 
> It is legal, but your grammar apparently is nondeterministic 
without at 
> least something being matched in that rule.
> 
> Ter
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Feb 19 00:08:14 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Re: optional sub rules
In-Reply-To: <b2v8ep+26gh@eGroups.com>
Message-ID: <4BCBB482-43E1-11D7-94E7-000393BB647E@jguru.com>


On Tuesday, February 18, 2003, at 10:32 PM, mklogic <mklogic@yahoo.com> 
wrote:

> Could you give me an example of a rule that has all sub rules
> optional and doesn't generate nondeterminism warning? Thanks

a : b A ;

b : (B)? (C)? (D)? ;

It is your use of the optional rule not the optional rule that is the 
problem :)

Terence
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From markkant2001 at yahoo.com  Wed Feb 19 01:24:24 2003
From: markkant2001 at yahoo.com (mark kant)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] first time installing antlr
In-Reply-To: <4BCBB482-43E1-11D7-94E7-000393BB647E@jguru.com>
Message-ID: <20030219092424.43759.qmail@web13609.mail.yahoo.com>

I am trying antlr for the first time. I downloaded the
software and followed the necessary steps.
./configure  ( I changed the antlrall.jar to
antlr.jar)
Now,  when I run 

make, 

I get the following errors:



Building ANTLRUtil.o
In file included from ANTLRUtil.cpp:9:
../antlr/IOException.hpp:25: syntax error before `;'
../antlr/IOException.hpp:27: parse error before `&'
../antlr/IOException.hpp:30: missing ';' before right
brace
../antlr/IOException.hpp:32: semicolon missing after
declaration of `class antlr::IOException'
../antlr/IOException.hpp: In function `int
antlr::IOException(const string &)':
../antlr/IOException.hpp:32: base initializers not
allowed for non-member functions
../antlr/IOException.hpp:34: warning: control reaches
end of non-void function `antlr::IOException(const
string &)'
../antlr/IOException.hpp: At top level:
../antlr/IOException.hpp:36: destructors must be
member functions
../antlr/IOException.hpp:36: virtual outside class
declaration
../antlr/IOException.hpp:41: parse error before `}'
ANTLRUtil.cpp: In function `class string
antlr::read_string(istream &)':
ANTLRUtil.cpp:54: implicit declaration of function
`int antlr::eatwhite(...)'
ANTLRUtil.cpp:54: warning: cannot pass objects of type
`istream' through `...'

Any suggestions ?

Thanks
MK

__________________________________________________
Do you Yahoo!?
Yahoo! Shopping - Send Flowers for Valentine's Day
http://shopping.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From abreneliere at telys.com  Wed Feb 19 01:26:32 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] first time installing antlr
In-Reply-To: <20030219092424.43759.qmail@web13609.mail.yahoo.com>
Message-ID: <000201c2d7f8$fdabef40$cb646464@lavaserver>

Add a #include <exception> at the IOException file.

> -----Message d'origine-----
> De?: mark kant [mailto:markkant2001@yahoo.com]
> Envoy??: mercredi 19 f?vrier 2003 10:24
> ??: antlr-interest@yahoogroups.com
> Objet?: [antlr-interest] first time installing antlr
> 
> I am trying antlr for the first time. I downloaded the
> software and followed the necessary steps.
> ./configure  ( I changed the antlrall.jar to
> antlr.jar)
> Now,  when I run
> 
> make,
> 
> I get the following errors:
> 
> 
> 
> Building ANTLRUtil.o
> In file included from ANTLRUtil.cpp:9:
> ../antlr/IOException.hpp:25: syntax error before `;'
> ../antlr/IOException.hpp:27: parse error before `&'
> ../antlr/IOException.hpp:30: missing ';' before right


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From abreneliere at telys.com  Wed Feb 19 02:51:22 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] first time installing antlr, and..
In-Reply-To: <000201c2d7f8$fdabef40$cb646464@lavaserver>
Message-ID: <000301c2d804$dd4ec130$cb646464@lavaserver>

..there may be missing #include <iostream> in ANTLRUtil.hpp, also.

Cordially,
Anthony



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From markkant2001 at yahoo.com  Wed Feb 19 02:56:35 2003
From: markkant2001 at yahoo.com (mark kant)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] first time installing antlr, and..
In-Reply-To: <000301c2d804$dd4ec130$cb646464@lavaserver>
Message-ID: <20030219105635.55981.qmail@web13609.mail.yahoo.com>

Thank you very much - Anthony.
This worked


MK

--- Anthony_Brenelière <abreneliere@telys.com> wrote:
> ..there may be missing #include <iostream> in
> ANTLRUtil.hpp, also.
> 
> Cordially,
> Anthony
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Shopping - Send Flowers for Valentine's Day
http://shopping.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From lzy7886 at yahoo.com  Wed Feb 19 03:31:16 2003
From: lzy7886 at yahoo.com (lzy7886 <lzy7886@yahoo.com>)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Help!A source-to-source compiler and debugger:how to use SourceDebugExtension?
Message-ID: <b2vpu4+b9tm@eGroups.com>

I wanna develop one dedicated language using java as the Intermediate 
Code, that is a source-to-source compiler converting the new language 
to java and a debugger to transform the debugging information from VM 
to the vocabulary of my languge.

In jdk1.4.x documentation,I found the following words:
**********************************************
Support For Debugging Other Languages 
The Java Platform Debugger Architecture has been extended so that non-
Java programming language source, which is translated to Java 
programming language source, can be debugged in the future. The table 
below describes the new APIs and APIs with comments that have 
changed. This information is based on the SourceDebugExtension. 
-----------------------------------------
New APIs APIs with Changed Comments 
JVMDI 
GetSourceDebugExtension   
JDWP - ReferenceType (2) Command Set 
SourceDebugExtension Command (12)   
JDWP - VirtualMachine (1) Command Set 
SetDefaultStratum Command (19)   
JDI - VirtualMachine interface 
void setDefaultStratum(String stratum)   
String getDefaultStratum()   
JDI - ReferenceType interface 
String sourceNames(String stratum) String sourceName() 
String sourcePaths(String stratum)   
List allLineLocations(String stratum, String sourceName) List 
allLineLocations() 
List locationsOfLine(String stratum, String sourceName, int 
lineNumber) List 
locationsOfLine(int lineNumber) 
List availableStrata()   
String defaultStratum()   
String sourceDebugExtension()   
JDI - Method interface 
List allLineLocations(String stratum, String sourceName) List 
allLineLocations() 
List locationsOfLine(String stratum, String sourceName, int 
lineNumber) List 

locationsOfLine(int lineNumber) 
JDI - Location interface 
  class comment (strata defined) 
int lineNumber(String stratum) int lineNumber() 
String sourceName(String stratum) String sourceName() 
String sourcePath(String stratum)   
String sourcePath()
--------------------------------------------------------------
but since there is only one person:me who knows the new language,so I 
assume this new information of SourceDebugExtension in class file 
should be generated by the new compiler and then I can use jpda to 
get this information from the debug target, which gets the 
information from the class file in question. But the same question 
arises again,how does jpda know how to interprete the 
SourceDebugExtension information?Do I need override all these 
class related myself or is there any solution availabe somewhere?
Can you tell me?

Thanks a lot in advance!  


                                               lzy


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From markkant2001 at yahoo.com  Wed Feb 19 04:26:04 2003
From: markkant2001 at yahoo.com (mark kant)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] first time installing antlr
In-Reply-To: <000201c2d7f8$fdabef40$cb646464@lavaserver>
Message-ID: <20030219122604.4501.qmail@web13608.mail.yahoo.com>

I try the example given in the
 "getting started with antlr"  - try cut-n-paste
example

I get the following error at the step - java Main :

Exception in thread "main"
java.lang.NoClassDefFoundError: Main 

I have not changed anything - I assume the example
should work.  

Any suggestions ?

Thanks

MK

__________________________________________________
Do you Yahoo!?
Yahoo! Shopping - Send Flowers for Valentine's Day
http://shopping.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mtiller at ford.com  Wed Feb 19 07:05:19 2003
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Grammars and Literate Programming
Message-ID: <AF02884D0976D311A014009027A8F1FB1FD54A88@na1fcm10.dearborn.ford.com>

I have not really used "literate programming" in the past, but I know the
topic has come up here and I wanted to make people aware of the LEO project
( http://personalpages.tds.net/~edream/front.html
<http://personalpages.tds.net/~edream/front.html> ).  It looks pretty
interesting and it has the "tangling" integrated into the editor.  Anyway, I
figured there might be people here who were interested.  It supports several
languages.  What would be really cool is if somebody hacked ANTLR support
into it so that you could reference ANTLR rules just like you can reference,
for example, Java methods.
 
--
Mike
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030219/45bafcdc/attachment.html
From abreneliere at telys.com  Wed Feb 19 07:09:48 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Please Help : How do i change the default AST node type for a grammar ?
Message-ID: <000901c2d828$f2300540$cb646464@lavaserver>

1/
The parser?::setASTNodeType method, as specified in the documentation,
does not exist in the Cpp distrib.

2/
I also specified the option :
options {
	..
	ASTLabelType = "ANTLR_USE_NAMESPACE(antlr)RefTextNode";
         ..
}
.. but there is no effect, commonAST is still used.

3/
In..

ASTFactory::ASTFactory( const char* factory_node_name, factory_type fact
)

..what does the second arguement mean ? there is no comment about the
second arguement.

I also tried to declare the factory in that way:
ASTFactory ast_factory( "RefTextNode", 0 )
..but there is no effect when i run the program.

So/
My question is :

How do i set the default AST node type ?



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Wed Feb 19 07:44:06 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Please Help : How do i change the default AST node type for a grammar ?
In-Reply-To: <000901c2d828$f2300540$cb646464@lavaserver>; from abreneliere@telys.com on Wed, Feb 19, 2003 at 04:09:48PM +0100
References: <000901c2d828$f2300540$cb646464@lavaserver>
Message-ID: <20030219164405.B1652@cs.utwente.nl>

Hi,

On Wed, Feb 19, 2003 at 04:09:48PM +0100, Anthony Brenelière wrote:
> 1/
> The parser ::setASTNodeType method, as specified in the documentation,
> does not exist in the Cpp distrib.

C++ differs from java mode on several details. Check the C++ section of the
documentation and/or header files in case of trouble. Also doxygen
generated docs of the support lib are availabe at:

http://wwwhome.cs.utwente.nl/~klaren/antlr/support-docs/

One of these days these need to be integrated in the normal docs.

> 2/
> I also specified the option :
> options {
> 	..
> 	ASTLabelType = "ANTLR_USE_NAMESPACE(antlr)RefTextNode";
>          ..
> }
> .. but there is no effect, commonAST is still used.

I use it daily and it works. Maybe you have your ASTFactory setup
incorrectly?

> 3/
> In..
>
> ASTFactory::ASTFactory( const char* factory_node_name, factory_type fact
> )
>
> ..what does the second arguement mean ? there is no comment about the
> second arguement.

It specifies a default factory to use of type factory type. As noted in the
comment in the ASTFactory.hpp.

> I also tried to declare the factory in that way:
> ASTFactory ast_factory( "RefTextNode", 0 )
> ..but there is no effect when i run the program.
>
> So/
> My question is :
>
> How do i set the default AST node type ?

http://www.antlr.org/doc/cpp-runtime.html#_changingasttype

Also the heteroAST example contains some setup code that is will work in
the simple custom AST type case.

If it still fails post relevant bits of how you setup your
lexer/parser/treewalker and the rest of the options section.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Why don't we just invite them to dinner and massacre them all when they're
  drunk? You heard the man. There's seven hundred thousand of them. Ah? ..
           So it'd have to be something simple with pasta, then.
                 From: Interesting Times by Terry Pratchet


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From abreneliere at telys.com  Wed Feb 19 08:27:25 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Ric.. it's ok !
In-Reply-To: <20030219164405.B1652@cs.utwente.nl>
Message-ID: <000c01c2d833$c9e6e800$cb646464@lavaserver>

Thanks !!

I read the document about c++ runtime,

http://www.antlr.org/doc/cpp-runtime.html#_changingasttype

and now it works !


I changed:
ASTFactoryExt ast_factory( "PNode", 0 );
To:
ASTFactoryExt ast_factory( "PNode", antlr::TextNode::factory );

I did not know what the ASTFactory arguments was used for.

Cordially,
Anthony!


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From alenski at dca.net  Wed Feb 19 10:14:48 2003
From: alenski at dca.net (Alexander Lenski)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] ATTN: Ric Klaren. Bug in tne AST copy ctor
References: <001c01c2d3ea$b01aa760$ad46f5cf@i7k>
Message-ID: <001501c2d842$ca6282d0$ad46f5cf@i7k>

Hi,
Sorry for persistence, I did not get any feedback. What should the clone functions of the AST... classes create? Is it about deep copies or what? In other words, am I correct with the original msg or not?

Thanks a lot,
Alex
  ----- Original Message ----- 
  From: Alexander Lenski 
  To: antlr-interest@yahoogroups.com 
  Sent: Friday, February 14, 2003 12:34 AM
  Subject: [antlr-interest] ATTN: Ric Klaren. Bug in tne AST copy ctor


  Hi,
  The AST's copy ctor is defined in the 2.7.2 as

      AST(const AST& other) : ref(other.ref->increment()) {}

  The ref(other.ref->increment()) sets ref of the copy with the ref's pointer from the other. As a consequence, all clone funcs of the AST... classes and subsequently the dup... funcs of the ASTFactory produce memory leaks, perform corrupted operations instead of expected functionality.

  In the 2.7.1 we had

      AST(const AST& other) : ref( 0 ) {}

  This fixes the problem and works just fine. If I did not miss something, couldn't you fix that please.
  BTW, the antlr.dll (VC7.0) works just fine. I have built my lexers-parsers in the dll form too, no problems at all with running the clients.

  Thanks,
  Alex


  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030219/a647bd6b/attachment.html
From Jim.OConnor at microfocus.com  Wed Feb 19 10:38:22 2003
From: Jim.OConnor at microfocus.com (Jim O'Connor)
Date: Mon Dec 20 16:15:23 2004
Subject: FW: [antlr-interest] got new "language implementation" lecture au
	 dio up
Message-ID: <3AC103F1B7EEEC48A855ACB1D2819E910155CF9D@rock-corpmail.microfocus.com>


Hi Terence,
  I've been through the "JavaSrc"
http://home.austin.rr.com/kjohnston/javasrc.htm implementation of a symbol
table. It originated with the four part series of articles
http://developer.java.sun.com/developer/technicalArticles/Parser/SeriesPt4/.
I assume you are familiar with it. ;)

  I have two questions that come from different "ends".  The first is the
step-by-step reasoning.  Where should I jump in to define objects that
contain the necessary information? (example, JavaToken, ClassDef, etc...).
The "other end" is a consideration of intermediate forms.  I have a lot of
.java files.  "JavaSrc" makes two passes saving off reference.txt for
particular directories.  What is the plan with memory considerations?  Can
XML be used for intermediate forms?  I have had little "luck" trying to
implement/understand XTAL to make it effective.

  Another question.  What about imports?  Jar files?  Can introspection be
used?

Jim


  




-----Original Message-----
From: Terence Parr [mailto:parrt@jguru.com]
Sent: Tuesday, February 18, 2003 1:47 PM
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] got new "language implementation" lecture
audio up



On Tuesday, February 18, 2003, at 10:42 AM, Matt Benson wrote:

> Just curious... when do symbol tables come up?  and
> can TreeParsers be used in any direct/helpful way to
> generate them?

Hi Matt,

I was going to do sym tabs tomorrow, but must do GC real quick and then 
get the folks started on ANTLR itself.  Plus, I want to think more 
about sym tab stuff before presenting.  Now is the time to tell me 
precisely what you want to learn about in that regard! ;)

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mklogic at yahoo.com  Wed Feb 19 10:43:10 2003
From: mklogic at yahoo.com (mklogic <mklogic@yahoo.com>)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Re: optional sub rules
In-Reply-To: <4BCBB482-43E1-11D7-94E7-000393BB647E@jguru.com>
Message-ID: <b30j7u+d836@eGroups.com>

I think you are right, the problem is probably my use of optional 
rule. 

I was trying to come up with a rule for XML Schema's "all" group, 
where all elements inside "all" may appear once or not at all.
Assuming A,B, and C are elements that have minOccurs = 0, we will 
have the following rule. If we also assume minOccurs = 0 for "all" 
group itself, we will need to add ()* for zero or more according to 
antlr doc. 

Is what I am doing incorrect? 

all: ((A)? (B)? (C)?)*




--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@j...> 
wrote:
> 
> On Tuesday, February 18, 2003, at 10:32 PM, mklogic <mklogic@y...> 
> wrote:
> 
> > Could you give me an example of a rule that has all sub rules
> > optional and doesn't generate nondeterminism warning? Thanks
> 
> a : b A ;
> 
> b : (B)? (C)? (D)? ;
> 
> It is your use of the optional rule not the optional rule that is 
the 
> problem :)
> 
> Terence
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gudnabrsam at yahoo.com  Wed Feb 19 12:51:05 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:23 2004
Subject: FW: [antlr-interest] got new "language implementation" lecture au  dio up
In-Reply-To: <3AC103F1B7EEEC48A855ACB1D2819E910155CF9D@rock-corpmail.microfocus.com>
Message-ID: <20030219205105.99165.qmail@web20417.mail.yahoo.com>

I have never heard of this thing until now.  This is
right along the lines of what I have been looking
for/working with.  For what purpose are you wanting to
use this code, Jim?


--- Jim O'Connor <Jim.OConnor@microfocus.com> wrote:
> 
> Hi Terence,
>   I've been through the "JavaSrc"
> http://home.austin.rr.com/kjohnston/javasrc.htm
> implementation of a symbol
> table. It originated with the four part series of
> articles
>
http://developer.java.sun.com/developer/technicalArticles/Parser/SeriesPt4/.
> I assume you are familiar with it. ;)
> 
>   I have two questions that come from different
> "ends".  The first is the
> step-by-step reasoning.  Where should I jump in to
> define objects that
> contain the necessary information? (example,
> JavaToken, ClassDef, etc...).
> The "other end" is a consideration of intermediate
> forms.  I have a lot of
> .java files.  "JavaSrc" makes two passes saving off
> reference.txt for
> particular directories.  What is the plan with
> memory considerations?  Can
> XML be used for intermediate forms?  I have had
> little "luck" trying to
> implement/understand XTAL to make it effective.
> 
>   Another question.  What about imports?  Jar files?
>  Can introspection be
> used?
> 
> Jim
> 
> 
>   
> 
> 
> 
> 
> -----Original Message-----
> From: Terence Parr [mailto:parrt@jguru.com]
> Sent: Tuesday, February 18, 2003 1:47 PM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] got new "language
> implementation" lecture
> audio up
> 
> 
> 
> On Tuesday, February 18, 2003, at 10:42 AM, Matt
> Benson wrote:
> 
> > Just curious... when do symbol tables come up? 
> and
> > can TreeParsers be used in any direct/helpful way
> to
> > generate them?
> 
> Hi Matt,
> 
> I was going to do sym tabs tomorrow, but must do GC
> real quick and then 
> get the folks started on ANTLR itself.  Plus, I want
> to think more 
> about sym tab stuff before presenting.  Now is the
> time to tell me 
> precisely what you want to learn about in that
> regard! ;)
> 
> Ter
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator:
> http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Shopping - Send Flowers for Valentine's Day
http://shopping.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Wed Feb 19 13:53:04 2003
From: cintyram at yahoo.com (cintyram <cintyram@yahoo.com>)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Re: ATTN: Ric Klaren. Bug in tne AST copy ctor
In-Reply-To: <001501c2d842$ca6282d0$ad46f5cf@i7k>
Message-ID: <b30uc0+319o@eGroups.com>

hi alexander and ric,
  i had made the following change ..

 AST(const AST& other) : ref(other.ref ? other.ref->increment() : 0) {}
//ram /  AST(const AST& other) : ref(other.ref->increment()) {}

as the constructors of all the other classes look like the uncommented
code;

actually i did not notice any effects of the change ;

but since yesterday i have a funny problem

if i call ast->toStrinList() where ast is the tree returned by the
parser, the call is going ot BaseAST::toSTringTree() ;

if i call ast->toStringTree() i get an error message which says 
"the calue of ESP was not properly saved across a function call ... "

dont now how to fix it, everything was working fine till day before
yesterday and without making any changes to the code, suddenly this
condition appears :)

cheers
ram


--- In antlr-interest@yahoogroups.com, "Alexander Lenski"
<alenski@d...> wrote:
> Hi,
> Sorry for persistence, I did not get any feedback. What should the
clone functions of the AST... classes create? Is it about deep copies
or what? In other words, am I correct with the original msg or not?
> 
> Thanks a lot,
> Alex
>   ----- Original Message ----- 
>   From: Alexander Lenski 
>   To: antlr-interest@yahoogroups.com 
>   Sent: Friday, February 14, 2003 12:34 AM
>   Subject: [antlr-interest] ATTN: Ric Klaren. Bug in tne AST copy ctor
> 
> 
>   Hi,
>   The AST's copy ctor is defined in the 2.7.2 as
> 
>       AST(const AST& other) : ref(other.ref->increment()) {}
> 
>   The ref(other.ref->increment()) sets ref of the copy with the
ref's pointer from the other. As a consequence, all clone funcs of the
AST... classes and subsequently the dup... funcs of the ASTFactory
produce memory leaks, perform corrupted operations instead of expected
functionality.
> 
>   In the 2.7.1 we had
> 
>       AST(const AST& other) : ref( 0 ) {}
> 
>   This fixes the problem and works just fine. If I did not miss
something, couldn't you fix that please.
>   BTW, the antlr.dll (VC7.0) works just fine. I have built my
lexers-parsers in the dll form too, no problems at all with running
the clients.
> 
>   Thanks,
>   Alex
> 
> 
>   Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Jim.OConnor at microfocus.com  Wed Feb 19 13:47:27 2003
From: Jim.OConnor at microfocus.com (Jim O'Connor)
Date: Mon Dec 20 16:15:23 2004
Subject: FW: [antlr-interest] got new "language implementation" lectur
	e au  dio up
Message-ID: <3AC103F1B7EEEC48A855ACB1D2819E91015B5DFB@rock-corpmail.microfocus.com>

Hi Matt,
  It has many features that my Java analysis tool needs.  It parses a Java
file (Grammar).  It creates a symbol table (resolves
types/variables/methods).  With the Antlr grammar, I can construct an AST
for any number of purposes.  The JavaSrc code creates HTML pages similar to
JavaDoc.  The HTML creation is a nice sidelight to view the initial work but
may not be useful for all purposes.

  I would like to incorporate the symbol table information with the AST
information to create a local database for each java file, class or other
"destinct module", whatever that means.   The AST allows navigation throught
the parse tree but doesn't tell me (quickly)  where the class ACCOUNT is
used throughout the file.  Where is the method ACCOUNT.balance() used?  

  My current strategy is to 

A. parse lots of java files
B.  save off XML representations of each AST
c. gather the symbol table information
D. resolve type/variable/methods
E. ?write out the symbol table information?
F. read in an AST
	1. Match the AST with Symbol table information 
	2. Create a sorted "local database" for each AST 
G. Re-work names/coarse grained items for easy lookup.


The "click the links" javadoc approach is a valuable tool.  My goal is a
more interactive fine grained query at fast speeds.  With a database that
can support these queries, I will be able to solve the year 10,000 problem
in Java code.  Where are all date fields that use just four characters to
represent a year?

Jim

P.S. If you can tell me how "smart" IDEs work, I'm all ears.  



-----Original Message-----
From: Matt Benson [mailto:gudnabrsam@yahoo.com]
Sent: Wednesday, February 19, 2003 3:51 PM
To: antlr-interest@yahoogroups.com
Subject: Re: FW: [antlr-interest] got new "language implementation"
lecture au dio up


I have never heard of this thing until now.  This is
right along the lines of what I have been looking
for/working with.  For what purpose are you wanting to
use this code, Jim?


--- Jim O'Connor <Jim.OConnor@microfocus.com> wrote:
> 
> Hi Terence,
>   I've been through the "JavaSrc"
> http://home.austin.rr.com/kjohnston/javasrc.htm
> implementation of a symbol
> table. It originated with the four part series of
> articles
>
http://developer.java.sun.com/developer/technicalArticles/Parser/SeriesPt4/.
> I assume you are familiar with it. ;)
> 
>   I have two questions that come from different
> "ends".  The first is the
> step-by-step reasoning.  Where should I jump in to
> define objects that
> contain the necessary information? (example,
> JavaToken, ClassDef, etc...).
> The "other end" is a consideration of intermediate
> forms.  I have a lot of
> .java files.  "JavaSrc" makes two passes saving off
> reference.txt for
> particular directories.  What is the plan with
> memory considerations?  Can
> XML be used for intermediate forms?  I have had
> little "luck" trying to
> implement/understand XTAL to make it effective.
> 
>   Another question.  What about imports?  Jar files?
>  Can introspection be
> used?
> 
> Jim
> 
> 
>   
> 
> 
> 
> 
> -----Original Message-----
> From: Terence Parr [mailto:parrt@jguru.com]
> Sent: Tuesday, February 18, 2003 1:47 PM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] got new "language
> implementation" lecture
> audio up
> 
> 
> 
> On Tuesday, February 18, 2003, at 10:42 AM, Matt
> Benson wrote:
> 
> > Just curious... when do symbol tables come up? 
> and
> > can TreeParsers be used in any direct/helpful way
> to
> > generate them?
> 
> Hi Matt,
> 
> I was going to do sym tabs tomorrow, but must do GC
> real quick and then 
> get the folks started on ANTLR itself.  Plus, I want
> to think more 
> about sym tab stuff before presenting.  Now is the
> time to tell me 
> precisely what you want to learn about in that
> regard! ;)
> 
> Ter
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator:
> http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Shopping - Send Flowers for Valentine's Day
http://shopping.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gudnabrsam at yahoo.com  Wed Feb 19 14:31:54 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:23 2004
Subject: FW: [antlr-interest] got new "language implementation" lectur e au  dio up
In-Reply-To: <3AC103F1B7EEEC48A855ACB1D2819E91015B5DFB@rock-corpmail.microfocus.com>
Message-ID: <20030219223154.8352.qmail@web20419.mail.yahoo.com>

Not sure what you mean by "smart IDEs", but my
longtime goal is to implement a good, strong, portable
Java analysis library that can be used for code
completion, among other things.

-Matt

--- Jim O'Connor <Jim.OConnor@microfocus.com> wrote:
> Hi Matt,
>   It has many features that my Java analysis tool
> needs.  It parses a Java
> file (Grammar).  It creates a symbol table (resolves
> types/variables/methods).  With the Antlr grammar, I
> can construct an AST
> for any number of purposes.  The JavaSrc code
> creates HTML pages similar to
> JavaDoc.  The HTML creation is a nice sidelight to
> view the initial work but
> may not be useful for all purposes.
> 
>   I would like to incorporate the symbol table
> information with the AST
> information to create a local database for each java
> file, class or other
> "destinct module", whatever that means.   The AST
> allows navigation throught
> the parse tree but doesn't tell me (quickly)  where
> the class ACCOUNT is
> used throughout the file.  Where is the method
> ACCOUNT.balance() used?  
> 
>   My current strategy is to 
> 
> A. parse lots of java files
> B.  save off XML representations of each AST
> c. gather the symbol table information
> D. resolve type/variable/methods
> E. ?write out the symbol table information?
> F. read in an AST
> 	1. Match the AST with Symbol table information 
> 	2. Create a sorted "local database" for each AST 
> G. Re-work names/coarse grained items for easy
> lookup.
> 
> 
> The "click the links" javadoc approach is a valuable
> tool.  My goal is a
> more interactive fine grained query at fast speeds. 
> With a database that
> can support these queries, I will be able to solve
> the year 10,000 problem
> in Java code.  Where are all date fields that use
> just four characters to
> represent a year?
> 
> Jim
> 
> P.S. If you can tell me how "smart" IDEs work, I'm
> all ears.  
> 
> 
> 
> -----Original Message-----
> From: Matt Benson [mailto:gudnabrsam@yahoo.com]
> Sent: Wednesday, February 19, 2003 3:51 PM
> To: antlr-interest@yahoogroups.com
> Subject: Re: FW: [antlr-interest] got new "language
> implementation"
> lecture au dio up
> 
> 
> I have never heard of this thing until now.  This is
> right along the lines of what I have been looking
> for/working with.  For what purpose are you wanting
> to
> use this code, Jim?
> 
> 
> --- Jim O'Connor <Jim.OConnor@microfocus.com> wrote:
> > 
> > Hi Terence,
> >   I've been through the "JavaSrc"
> > http://home.austin.rr.com/kjohnston/javasrc.htm
> > implementation of a symbol
> > table. It originated with the four part series of
> > articles
> >
>
http://developer.java.sun.com/developer/technicalArticles/Parser/SeriesPt4/.
> > I assume you are familiar with it. ;)
> > 
> >   I have two questions that come from different
> > "ends".  The first is the
> > step-by-step reasoning.  Where should I jump in to
> > define objects that
> > contain the necessary information? (example,
> > JavaToken, ClassDef, etc...).
> > The "other end" is a consideration of intermediate
> > forms.  I have a lot of
> > .java files.  "JavaSrc" makes two passes saving
> off
> > reference.txt for
> > particular directories.  What is the plan with
> > memory considerations?  Can
> > XML be used for intermediate forms?  I have had
> > little "luck" trying to
> > implement/understand XTAL to make it effective.
> > 
> >   Another question.  What about imports?  Jar
> files?
> >  Can introspection be
> > used?
> > 
> > Jim
> > 
> > 
> >   
> > 
> > 
> > 
> > 
> > -----Original Message-----
> > From: Terence Parr [mailto:parrt@jguru.com]
> > Sent: Tuesday, February 18, 2003 1:47 PM
> > To: antlr-interest@yahoogroups.com
> > Subject: Re: [antlr-interest] got new "language
> > implementation" lecture
> > audio up
> > 
> > 
> > 
> > On Tuesday, February 18, 2003, at 10:42 AM, Matt
> > Benson wrote:
> > 
> > > Just curious... when do symbol tables come up? 
> > and
> > > can TreeParsers be used in any direct/helpful
> way
> > to
> > > generate them?
> > 
> > Hi Matt,
> > 
> > I was going to do sym tabs tomorrow, but must do
> GC
> > real quick and then 
> > get the folks started on ANTLR itself.  Plus, I
> want
> > to think more 
> > about sym tab stuff before presenting.  Now is the
> > time to tell me 
> > precisely what you want to learn about in that
> > regard! ;)
> > 
> > Ter
> > --
> > Co-founder, http://www.jguru.com
> > Creator, ANTLR Parser Generator:
> > http://www.antlr.org
> > Lecturer in Comp. Sci., University of San
> Francisco
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to
> > http://docs.yahoo.com/info/terms/ 
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to
> > http://docs.yahoo.com/info/terms/ 
> > 
> > 
> 
> 
> __________________________________________________
> Do you Yahoo!?
> Yahoo! Shopping - Send Flowers for Valentine's Day
> http://shopping.yahoo.com
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Shopping - Send Flowers for Valentine's Day
http://shopping.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From jwight_lists at spamcop.net  Wed Feb 19 19:26:35 2003
From: jwight_lists at spamcop.net (Jonathan Wight)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Building on Mac OSX?
Message-ID: <BA79A70B.29F2A%jwight_lists@spamcop.net>

Hi,

I'm new to the list and antlr. I'm trying to generate C++ code on Mac OS X
and am having trouble installing the software (antlr-2.7.2). I tried to go
through the usual ./configure; make; make install but the make dies unable
to find a java package:

[schwa@oberon] antlr-2.7.2$ make
=============================
Making antlr ...
=============================
java -cp /Users/schwa/Desktop/antlr-2.7.2/antlrall.jar antlr.Tool   antlr.g
Exception in thread "main" java.lang.NoClassDefFoundError: antlr/Tool
make[1]: *** [.antlr.g] Error 1

I noticed some of this is detailed in the "2.7.2 build system is fubar"
thread on this mailing list but I couldn't find a solution. Is there a
solution?

Thanks in advance.

    Jon.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From alenski at dca.net  Wed Feb 19 19:34:36 2003
From: alenski at dca.net (Alexander Lenski)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Re: ATTN: Ric Klaren. Bug in the AST copy ctor
References: <b30uc0+319o@eGroups.com>
Message-ID: <001d01c2d890$fe0e8590$ad46f5cf@i7k>

Hi Ram,
Sorry, you did not hit the point.

Explanation:
  1. Initial point: We need to make a deep copy of the CommonAST nodes created in some rule.
  2. We call some of the ASTFactory::dup...( RefAST t ) function.
  3. The dup... calls the ASTFactory::dup( RefAST t ) and the dup calls the CommonAST::clone().
  4. Definition of the clone function:
              RefAST CommonAST::clone( void ) const
              { CommonAST *ast = new CommonAST( *this );
                return RefAST(ast);
              }
      Inside the clone(), this->ref references this object (original).
  5. The CommonAST( const CommonAST& other ) calls the AST( const AST& other ) : ref(other.ref->increment()) {}.
  6. The ref(other.ref->increment()) sets ref of the copy with the ref's pointer from the other (original, this is wrong!!!).
  7. Definition of the RefAST (it is synonym of the ASTRefCount) ctor:
              ASTRefCount::ASTRefCount( const AST* p = 0 )
                : ref( p ? ASTRef::getRef( p ) : 0 )
              {
              }
      The ASTRef::getRef( p ) returns pointer to the ASTRef object bound to the other (original, see steps 5 and 6).
      The clone() creates the RefAST object bound to the other (original, see steps 4, 5 and 6).
  8. Finally, the clone() returns the RefAST object bound to the original and the copy is suspended in nowhere.

Alex

----- Original Message ----- 
From: <cintyram@yahoo.com>
To: <antlr-interest@yahoogroups.com>
Sent: Wednesday, February 19, 2003 4:53 PM
Subject: [antlr-interest] Re: ATTN: Ric Klaren. Bug in tne AST copy ctor


> hi alexander and ric,
>   i had made the following change ..
> 
>  AST(const AST& other) : ref(other.ref ? other.ref->increment() : 0) {}
> //ram /  AST(const AST& other) : ref(other.ref->increment()) {}
> 
> as the constructors of all the other classes look like the uncommented
> code;
> 
> actually i did not notice any effects of the change ;
> 
> but since yesterday i have a funny problem
> 
> if i call ast->toStrinList() where ast is the tree returned by the
> parser, the call is going ot BaseAST::toSTringTree() ;
> 
> if i call ast->toStringTree() i get an error message which says 
> "the calue of ESP was not properly saved across a function call ... "
> 
> dont now how to fix it, everything was working fine till day before
> yesterday and without making any changes to the code, suddenly this
> condition appears :)
> 
> cheers
> ram
> 
> 
> --- In antlr-interest@yahoogroups.com, "Alexander Lenski"
> <alenski@d...> wrote:
> > Hi,
> > Sorry for persistence, I did not get any feedback. What should the
> clone functions of the AST... classes create? Is it about deep copies
> or what? In other words, am I correct with the original msg or not?
> > 
> > Thanks a lot,
> > Alex
> >   ----- Original Message ----- 
> >   From: Alexander Lenski 
> >   To: antlr-interest@yahoogroups.com 
> >   Sent: Friday, February 14, 2003 12:34 AM
> >   Subject: [antlr-interest] ATTN: Ric Klaren. Bug in tne AST copy ctor
> > 
> > 
> >   Hi,
> >   The AST's copy ctor is defined in the 2.7.2 as
> > 
> >       AST(const AST& other) : ref(other.ref->increment()) {}
> > 
> >   The ref(other.ref->increment()) sets ref of the copy with the
> ref's pointer from the other. As a consequence, all clone funcs of the
> AST... classes and subsequently the dup... funcs of the ASTFactory
> produce memory leaks, perform corrupted operations instead of expected
> functionality.
> > 
> >   In the 2.7.1 we had
> > 
> >       AST(const AST& other) : ref( 0 ) {}
> > 
> >   This fixes the problem and works just fine. If I did not miss
> something, couldn't you fix that please.
> >   BTW, the antlr.dll (VC7.0) works just fine. I have built my
> lexers-parsers in the dll form too, no problems at all with running
> the clients.
> > 
> >   Thanks,
> >   Alex
> > 
> > 
> >   Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030219/9a63bcfe/attachment.html
From hushlee83 at yahoo.com.sg  Wed Feb 19 23:37:59 2003
From: hushlee83 at yahoo.com.sg (=?iso-8859-1?q?Sharon=20Li?=)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] help needed with nondeterminism errors. Thanks in advance!
Message-ID: <20030220073759.51388.qmail@web40911.mail.yahoo.com>


Hello all,

Could anyone please help me with some nondeterminism errors?
 Thanks in advance!

/******** fraction of parser *********************/
/**NOTE: Pls ignore the returning of values coz thats already handled *****/
/**Sorry for pasting in such a huge chunk of code =P **/

productions : (production)+;

production : strictPred conditional (YIELD | OYIELD) successor;

strictPred : formalModules;

formalModules: formalModule+;

formalModule : ((symbol)  (LPAREN formalParameters RPAREN)) => (symbol)  (LPAREN formalParameters RPAREN)
                   | symbol ;

formalParameters : formalParameter (COMMA formalParameter)*;

formalParameter : NAME;

conditional : COLON condition;

condition : (TIMES) => TIMES
            | expression
            ;
successor : modules
                | (TIMES) => TIMES ; 

symbol returns [String sym] {sym = null;} 
   : d:DIGIT
   {
    System.out.println("Symbol is: "+d.getText());
    sym = d.getText();
   }
   | a:ALPHA
   {
    System.out.println("Symbol is: "+a.getText());
    sym = a.getText();
   }
   | (DOT {sym=".";}) | (COMMA {sym=",";})| (SEMI {sym=";";})
   | (PLUS {sym="+";}) | (MINUS{sym="-";}) | (NOT{sym="!";}) | (DIVIDE{sym="/";}) | (POW{sym="^";}) 
   | (MOD{sym="%";}) | (LOGOR{sym="||";}) | (AND{sym="&";}) | (LOGAND{sym="||";}) | (EQUAL{sym="==";}) 
   | (QUESTION{sym="?";}) | (UNDERSCORE{sym="_";}) | (ASSIGN{sym="=";}) 
   | (OYIELD{sym="-o>";}) | (YIELD{sym="-->";})
   ;

modules : (module)+;

module : (smbol) LPAREN (parameters) RPAREN ; 

parameters returns [String params="";]{String exp=""; String subexp="";}
     : (exp = expression {arrayCount++;}) ((COMMA{exp+=",";}) ((subexp = expression){exp+=subexp; arrayCount++;}))* 
     {
      params = exp;
      System.out.println("in parameters rule, parameters : "+params);
     }; 


number returns [String num="";]
  : ((n:NUMERIC {num = n.getText();}) | (d:DIGIT {num = d.getText();}));

word returns [String word="";]
  : ((name:NAME {word = name.getText();}) | (a:ALPHA {word = a.getText();}));


exp1 returns [String e1] {e1="";String exp="";String numb=""; String w="";}
  : (numb = number)
  {
   e1 = numb;
  }
  | (w = word)
  {
   System.out.println("name is : "+w);
   e1 = w;
  }
  | (lit : STRING_LITERAL)
  {
   String literal = lit.getText();
   e1 = literal;
   System.out.println("string literal: "+literal);
   
  }
  | (e1=function)
   {
   System.out.println("function is : "+e1);
  }
  | LPAREN (exp=expression) RPAREN
   {
   e1 = "("+ exp +")";
  }
  | /* empty */
  ;
  exception
    catch[RecognitionException e]{
   System.out.println("error occured in rule exp1 !!");
    }
  
exp2 returns [String e2="";] {String strg="";}
  : (
  ( PLUS {System.out.println("operator +"); e2 += "+";}
  | MINUS {System.out.println("operator -"); e2 += "-";}
  | TIMES {System.out.println("operator *"); e2 += "*";}
  | DIVIDE {System.out.println("operator /"); e2 += "/";}
  | MOD {System.out.println("operator %"); e2 += "%";}
  | POW {System.out.println("operator ^"); e2 += "^";}
  | (NOT {System.out.println("operator !"); e2 += "!";}) (ASSIGN{System.out.println("operator !="); e2 = "!=";} )?
  | LOGOR {System.out.println("operator ||"); e2 += "||";}
  | LOGAND {System.out.println("operator &&"); e2 += "&&";}
  | EQUAL {System.out.println("operator =="); e2 += "==";}
  | LT {System.out.println("operator <"); e2 += "<";}
  | GT {System.out.println("operator >"); e2 += ">";}
  | LTE {System.out.println("operator <="); e2 += "<=";}
  | GTE {System.out.println("operator >="); e2 += ">=";}
  | QUESTION {System.out.println("operator ?"); e2 += "?";})  
  (strg=exp1{e2+=strg;}) ((COLON{e2 += ":";}) (strg=exp1{e2 += strg;}))? (strg=exp2{e2 += strg;}))* ;
  exception
    catch[RecognitionException e]{
   System.out.println("error occured in rule exp2 !!");
    }

expression returns [String expression="";]{String expre1=""; String expre2="";}
  : (expre1=exp1) (expre2=exp2) 
  {
   expression = expre1 + expre2;
  };
  exception
    catch[RecognitionException e]{
   System.out.println("error occured in rule expression !!");
    }

/**** fraction of lexer ****/

ALPHA  : ( 'a'..'z' | 'A'..'Z' ); 

DIGIT : ('0'..'9');

NUMERIC : DIGIT ((DIGIT)+ | ((DOT) (d:DIGIT)+)) ;

NAME : (ALPHA) (ALPHA|DIGIT|UNDERSCORE)+ ;

STRING_LITERAL : '"'! ('"' '"'! | ~('"'))* '"'!


 

 

 Yahoo! Biztools
- Promote your business from just $5 a month!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030220/001b394d/attachment.html
From hushlee83 at yahoo.com.sg  Wed Feb 19 23:42:36 2003
From: hushlee83 at yahoo.com.sg (=?iso-8859-1?q?Sharon=20Li?=)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] help needed with nondeterminism errors. Thanks in advance!
In-Reply-To: <20030220073759.51388.qmail@web40911.mail.yahoo.com>
Message-ID: <20030220074236.52683.qmail@web40911.mail.yahoo.com>


sorry guys I just realized to my horror that I've not stated the error : 
ANTLR Parser Generator   Version 2.7.0   1989-2000 MageLang's jGuru.com
lfile.g.txt:426: warning: nondeterminism upon
lfile.g.txt:426: k==1:DIGIT,SEMI,COMMA,ASSIGN,ALPHA,PLUS,MINUS,DIVIDE,MOD
,POW,NOT,LOGOR,LOGAND,EQUAL,QUESTION,DOT,AND,UNDERSCORE,OYIELD,YIELD
lfile.g.txt:426: k==2:DIGIT,SEMI,COMMA,ASSIGN,LPAREN,ALPHA,PLUS,MINUS,DIV
IDE,MOD,POW,NOT,LOGOR,LOGAND,EQUAL,QUESTION,DOT,AND,UNDERSCORE,OYIELD,YIELD
lfile.g.txt:426: between alt 1 and exit branch of block
Cheers,
Sharon
 Sharon Li <hushlee83@yahoo.com.sg> wrote:
Hello all,

Could anyone please help me with some nondeterminism errors?
Thanks in advance!

/******** fraction of parser *********************/
/**NOTE: Pls ignore the returning of values coz thats already handled *****/
/**Sorry for pasting in such a huge chunk of code =P **/

productions : (production)+;

production : strictPred conditional (YIELD | OYIELD) successor;

strictPred : formalModules;

formalModules: formalModule+;

formalModule : ((symbol)  (LPAREN formalParameters RPAREN)) => (symbol)  (LPAREN formalParameters RPAREN)
                   | symbol ;

formalParameters : formalParameter (COMMA formalParameter)*;

formalParameter : NAME;

conditional : COLON condition;

condition : (TIMES) => TIMES
            | expression
            ;
successor : modules
                | (TIMES) => TIMES ; 

symbol returns [String sym] {sym = null;} 
   : d:DIGIT
   {
    System.out.println("Symbol is: "+d.getText());
    sym = d.getText();
   }
   | a:ALPHA
   {
    System.out.println("Symbol is: "+a.getText());
    sym = a.getText();
   }
   | (DOT {sym=".";}) | (COMMA {sym=",";})| (SEMI {sym=";";})
   | (PLUS {sym="+";}) | (MINUS{sym="-";}) | (NOT{sym="!";}) | (DIVIDE{sym="/";}) | (POW{sym="^";}) 
   | (MOD{sym="%";}) | (LOGOR{sym="||";}) | (AND{sym="&";}) | (LOGAND{sym="||";}) | (EQUAL{sym="==";}) 
   | (QUESTION{sym="?";}) | (UNDERSCORE{sym="_";}) | (ASSIGN{sym="=";}) 
   | (OYIELD{sym="-o>";}) | (YIELD{sym="-->";})
   ;

modules : (module)+;

module : (smbol) LPAREN (parameters) RPAREN ; 

parameters returns [String params="";]{String exp=""; String subexp="";}
     : (exp = expression {arrayCount++;}) ((COMMA{exp+=",";}) ((subexp = expression){exp+=subexp; arrayCount++;}))* 
     {
      params = exp;
      System.out.println("in parameters rule, parameters : "+params);
     }; 


number returns [String num="";]
  : ((n:NUMERIC {num = n.getText();}) | (d:DIGIT {num = d.getText();}));

word returns [String word="";]
  : ((name:NAME {word = name.getText();}) | (a:ALPHA {word = a.getText();}));


exp1 returns [String e1] {e1="";String exp="";String numb=""; String w="";}
  : (numb = number)
  {
   e1 = numb;
  }
  | (w = word)
  {
   System.out.println("name is : "+w);
   e1 = w;
  }
  | (lit : STRING_LITERAL)
  {
   String literal = lit.getText();
   e1 = literal;
   System.out.println("string literal: "+literal);
   
  }
  | (e1=function)
   {
   System.out.println("function is : "+e1);
  }
  | LPAREN (exp=expression) RPAREN
   {
   e1 = "("+ exp +")";
  }
  | /* empty */
  ;
  exception
    catch[RecognitionException e]{
   System.out.println("error occured in rule exp1 !!");
    }
  
exp2 returns [String e2="";] {String strg="";}
  : (
  ( PLUS {System.out.println("operator +"); e2 += "+";}
  | MINUS {System.out.println("operator -"); e2 += "-";}
  | TIMES {System.out.println("operator *"); e2 += "*";}
  | DIVIDE {System.out.println("operator /"); e2 += "/";}
  | MOD {System.out.println("operator %"); e2 += "%";}
  | POW {System.out.println("operator ^"); e2 += "^";}
  | (NOT {System.out.println("operator !"); e2 += "!";}) (ASSIGN{System.out.println("operator !="); e2 = "!=";} )?
  | LOGOR {System.out.println("operator ||"); e2 += "||";}
  | LOGAND {System.out.println("operator &&"); e2 += "&&";}
  | EQUAL {System.out.println("operator =="); e2 += "==";}
  | LT {System.out.println("operator <"); e2 += "<";}
  | GT {System.out.println("operator >"); e2 += ">";}
  | LTE {System.out.println("operator <="); e2 += "<=";}
  | GTE {System.out.println("operator >="); e2 += ">=";}
  | QUESTION {System.out.println("operator ?"); e2 += "?";})  
  (strg=exp1{e2+=strg;}) ((COLON{e2 += ":";}) (strg=exp1{e2 += strg;}))? (strg=exp2{e2 += strg;}))* ;
  exception
    catch[RecognitionException e]{
   System.out.println("error occured in rule exp2 !!");
    }

expression returns [String expression="";]{String expre1=""; String expre2="";}
  : (expre1=exp1) (expre2=exp2) 
  {
   expression = expre1 + expre2;
  };
  exception
    catch[RecognitionException e]{
   System.out.println("error occured in rule expression !!");
    }

/**** fraction of lexer ****/

ALPHA  : ( 'a'..'z' | 'A'..'Z' ); 

DIGIT : ('0'..'9');

NUMERIC : DIGIT ((DIGIT)+ | ((DOT) (d:DIGIT)+)) ;

NAME : (ALPHA) (ALPHA|DIGIT|UNDERSCORE)+ ;

STRING_LITERAL : '"'! ('"' '"'! | ~('"'))* '"'!


 

 

 Yahoo! Biztools
- Promote your business from just $5 a month! 
Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 


 Yahoo! Biztools
- Promote your business from just $5 a month!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030220/1aa1cd12/attachment.html
From hushlee83 at yahoo.com.sg  Wed Feb 19 23:46:05 2003
From: hushlee83 at yahoo.com.sg (=?iso-8859-1?q?Sharon=20Li?=)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] help needed with nondeterminism errors. Thanks in advance!
In-Reply-To: <20030220074236.52683.qmail@web40911.mail.yahoo.com>
Message-ID: <20030220074605.61405.qmail@web40910.mail.yahoo.com>


the error occured at the modules rule 
*apologies*
 Sharon Li <hushlee83@yahoo.com.sg> wrote:
sorry guys I just realized to my horror that I've not stated the error : 
ANTLR Parser Generator   Version 2.7.0   1989-2000 MageLang's jGuru.com
lfile.g.txt:426: warning: nondeterminism upon
lfile.g.txt:426: k==1:DIGIT,SEMI,COMMA,ASSIGN,ALPHA,PLUS,MINUS,DIVIDE,MOD
,POW,NOT,LOGOR,LOGAND,EQUAL,QUESTION,DOT,AND,UNDERSCORE,OYIELD,YIELD
lfile.g.txt:426: k==2:DIGIT,SEMI,COMMA,ASSIGN,LPAREN,ALPHA,PLUS,MINUS,DIV
IDE,MOD,POW,NOT,LOGOR,LOGAND,EQUAL,QUESTION,DOT,AND,UNDERSCORE,OYIELD,YIELD
lfile.g.txt:426: between alt 1 and exit branch of block 
Cheers,
Sharon 
 Sharon Li <hushlee83@yahoo.com.sg> wrote: 
Hello all,

Could anyone please help me with some nondeterminism errors?
Thanks in advance!

/******** fraction of parser *********************/
/**NOTE: Pls ignore the returning of values coz thats already handled *****/
/**Sorry for pasting in such a huge chunk of code =P **/

productions : (production)+;

production : strictPred conditional (YIELD | OYIELD) successor;

strictPred : formalModules;

formalModules: formalModule+;

formalModule : ((symbol)  (LPAREN formalParameters RPAREN)) => (symbol)  (LPAREN formalParameters RPAREN)
                   | symbol ;

formalParameters : formalParameter (COMMA formalParameter)*;

formalParameter : NAME;

conditional : COLON condition;

condition : (TIMES) => TIMES
            | expression
            ;
successor : modules
                | (TIMES) => TIMES ; 

symbol returns [String sym] {sym = null;} 
   : d:DIGIT
   {
    System.out.println("Symbol is: "+d.getText());
    sym = d.getText();
   }
   | a:ALPHA
   {
    System.out.println("Symbol is: "+a.getText());
    sym = a.getText();
   }
   | (DOT {sym=".";}) | (COMMA {sym=",";})| (SEMI {sym=";";})
   | (PLUS {sym="+";}) | (MINUS{sym="-";}) | (NOT{sym="!";}) | (DIVIDE{sym="/";}) | (POW{sym="^";}) 
   | (MOD{sym="%";}) | (LOGOR{sym="||";}) | (AND{sym="&";}) | (LOGAND{sym="||";}) | (EQUAL{sym="==";}) 
   | (QUESTION{sym="?";}) | (UNDERSCORE{sym="_";}) | (ASSIGN{sym="=";}) 
   | (OYIELD{sym="-o>";}) | (YIELD{sym="-->";})
   ;

modules : (module)+;

module : (smbol) LPAREN (parameters) RPAREN ; 

parameters returns [String params="";]{String exp=""; String subexp="";}
     : (exp = expression {arrayCount++;}) ((COMMA{exp+=",";}) ((subexp = expression){exp+=subexp; arrayCount++;}))* 
     {
      params = exp;
      System.out.println("in parameters rule, parameters : "+params);
     }; 


number returns [String num="";]
  : ((n:NUMERIC {num = n.getText();}) | (d:DIGIT {num = d.getText();}));

word returns [String word="";]
  : ((name:NAME {word = name.getText();}) | (a:ALPHA {word = a.getText();}));


exp1 returns [String e1] {e1="";String exp="";String numb=""; String w="";}
  : (numb = number)
  {
   e1 = numb;
  }
  | (w = word)
  {
   System.out.println("name is : "+w);
   e1 = w;
  }
  | (lit : STRING_LITERAL)
  {
   String literal = lit.getText();
   e1 = literal;
   System.out.println("string literal: "+literal);
   
  }
  | (e1=function)
   {
   System.out.println("function is : "+e1);
  }
  | LPAREN (exp=expression) RPAREN
   {
   e1 = "("+ exp +")";
  }
  | /* empty */
  ;
  exception
    catch[RecognitionException e]{
   System.out.println("error occured in rule exp1 !!");
    }
  
exp2 returns [String e2="";] {String strg="";}
  : (
  ( PLUS {System.out.println("operator +"); e2 += "+";}
  | MINUS {System.out.println("operator -"); e2 += "-";}
  | TIMES {System.out.println("operator *"); e2 += "*";}
  | DIVIDE {System.out.println("operator /"); e2 += "/";}
  | MOD {System.out.println("operator %"); e2 += "%";}
  | POW {System.out.println("operator ^"); e2 += "^";}
  | (NOT {System.out.println("operator !"); e2 += "!";}) (ASSIGN{System.out.println("operator !="); e2 = "!=";} )?
  | LOGOR {System.out.println("operator ||"); e2 += "||";}
  | LOGAND {System.out.println("operator &&"); e2 += "&&";}
  | EQUAL {System.out.println("operator =="); e2 += "==";}
  | LT {System.out.println("operator <"); e2 += "<";}
  | GT {System.out.println("operator >"); e2 += ">";}
  | LTE {System.out.println("operator <="); e2 += "<=";}
  | GTE {System.out.println("operator >="); e2 += ">=";}
  | QUESTION {System.out.println("operator ?"); e2 += "?";})  
  (strg=exp1{e2+=strg;}) ((COLON{e2 += ":";}) (strg=exp1{e2 += strg;}))? (strg=exp2{e2 += strg;}))* ;
  exception
    catch[RecognitionException e]{
   System.out.println("error occured in rule exp2 !!");
    }

expression returns [String expression="";]{String expre1=""; String expre2="";}
  : (expre1=exp1) (expre2=exp2) 
  {
   expression = expre1 + expre2;
  };
  exception
    catch[RecognitionException e]{
   System.out.println("error occured in rule expression !!");
    }

/**** fraction of lexer ****/

ALPHA  : ( 'a'..'z' | 'A'..'Z' ); 

DIGIT : ('0'..'9');

NUMERIC : DIGIT ((DIGIT)+ | ((DOT) (d:DIGIT)+)) ;

NAME : (ALPHA) (ALPHA|DIGIT|UNDERSCORE)+ ;

STRING_LITERAL : '"'! ('"' '"'! | ~('"'))* '"'!


 

 

 Yahoo! Biztools
- Promote your business from just $5 a month! 
Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 


 Yahoo! Biztools
- Promote your business from just $5 a month! 
Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 


 Yahoo! Biztools
- Promote your business from just $5 a month!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030220/aececfc7/attachment.html
From klaren at cs.utwente.nl  Thu Feb 20 02:08:16 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] ATTN: Ric Klaren. Bug in tne AST copy ctor
In-Reply-To: <001501c2d842$ca6282d0$ad46f5cf@i7k>; from alenski@dca.net on Wed, Feb 19, 2003 at 01:14:48PM -0500
References: <001c01c2d3ea$b01aa760$ad46f5cf@i7k> <001501c2d842$ca6282d0$ad46f5cf@i7k>
Message-ID: <20030220110816.C1652@cs.utwente.nl>

Hi,

On Wed, Feb 19, 2003 at 01:14:48PM -0500, Alexander Lenski wrote:
> Sorry for persistence, I did not get any feedback. What should the clone
> functions of the AST... classes create? Is it about deep copies or what? In
> other words, am I correct with the original msg or not?

No problem, it got snowed under a bit. Basically what they do except the
problem you noted. I'll fix it right now. Dunno what I was doing when I
changed that ;P

>   BTW, the antlr.dll (VC7.0) works just fine.
>   I have built my lexers-parsers in the dll form too, no problems at all
>   with running the clients.

I still have to work through the changes you send in. I hope I have some
time soon.

Thanks for the help!

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     Innovation makes enemies of all those who prospered under the old
   regime, and only lukewarm support is forthcoming from those who would
               prosper under the new. --- Niccolò Machiavelli


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Thu Feb 20 02:24:39 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] Building on Mac OSX?
In-Reply-To: <BA79A70B.29F2A%jwight_lists@spamcop.net>; from jwight_lists@spamcop.net on Wed, Feb 19, 2003 at 09:26:35PM -0600
References: <BA79A70B.29F2A%jwight_lists@spamcop.net>
Message-ID: <20030220112439.D1652@cs.utwente.nl>

Hi,

On Wed, Feb 19, 2003 at 09:26:35PM -0600, Jonathan Wight wrote:
> [schwa@oberon] antlr-2.7.2$ make
> =============================
> Making antlr ...
> =============================
> java -cp /Users/schwa/Desktop/antlr-2.7.2/antlrall.jar antlr.Tool   antlr.g
> Exception in thread "main" java.lang.NoClassDefFoundError: antlr/Tool
> make[1]: *** [.antlr.g] Error 1
> 
> I noticed some of this is detailed in the "2.7.2 build system is fubar"
> thread on this mailing list but I couldn't find a solution. Is there a
> solution?

That thread is supposed to be it. Change the antlrall.jar references to
antlr.jar in the Makefile. Or maybe running configure with
BOOTSTRAP_JAR=antlr.jar ./configure will work. Another option is to use the
java build instructions for starters this should make the antlr.jar after
that cd into the lib/cpp dir and do a submake there.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Wo das Chaos auf die Ordnung trifft, gewinnt meist das Chaos, weil es
  besser organisiert ist. --- Friedrich Nietzsche


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From abreneliere at telys.com  Thu Feb 20 06:30:34 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] problem with rules in tree parsers, is it a bug or is it normal ?
Message-ID: <001701c2d8ec$a15e2ba0$cb646464@lavaserver>

In a tree parser,
I have the following rules

entOrSet
	:	(entity)=> entity
	|	(set)=> set
;

entity
	:	#( R_ENT entityComponentList )
;

it compiles well, and there is no non-determinism
but it is not able to recognize the token R_ENT whereas it should.

I have the following message error :

<AST>: unexpected AST node: [entity]
..each time an entity is found. ("[entity]" is the text for the token
R_ENT)

BUT..

When I change the entOrSet rule to:

entOrSet
	:	(entity)=> entity
	//	|	(set)=> set (this alternative is suppressed)
;

then everything works fine ! Then 'entity' rule is perfectly matched.
( but of course, i cannot have 'sets' sentences in my document )

Any idea about how to solve this problem ?


Cordially,
Anthony


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Thu Feb 20 06:49:48 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] problem with rules in tree parsers, is it a bug or is it normal ?
In-Reply-To: <001701c2d8ec$a15e2ba0$cb646464@lavaserver>; from abreneliere@telys.com on Thu, Feb 20, 2003 at 03:30:34PM +0100
References: <001701c2d8ec$a15e2ba0$cb646464@lavaserver>
Message-ID: <20030220154948.E1652@cs.utwente.nl>

On Thu, Feb 20, 2003 at 03:30:34PM +0100, Anthony Brenelière wrote:
> In a tree parser,
> I have the following rules
> 
> entOrSet
> 	:	(entity)=> entity
> 	|	(set)=> set
> ;
> 
> entity
> 	:	#( R_ENT entityComponentList )
> ;
> 
> it compiles well, and there is no non-determinism
> but it is not able to recognize the token R_ENT whereas it should.

Could it be that the entity encountered looks more like
#( R_ENT <sumthin-else> ) Try building the treewalker with -traceTreeParser
and see what actually happens. (Or check in a debugger) 

During development with treewalkers I usually have in each rule a exception
handler that prints out the offending tree (look for print_tree code I
posted some while back) And add something like this to rules of interest:

rule:
	( sumthin ) *
	sumthin_else
;
exception
	catch [antlr::RecognitionException &ex]
	{
		print_tree<RefMyAST,MyTreeParser> pr(*this);
		pr.pr_tree(#rule_in);
	}

> When I change the entOrSet rule to:
> 
> entOrSet
> 	:	(entity)=> entity
> 	//	|	(set)=> set (this alternative is suppressed)
> ;
> 
> then everything works fine ! Then 'entity' rule is perfectly matched.
> ( but of course, i cannot have 'sets' sentences in my document )

This could maybe be induced by other rules. Another possibility might be
that something in your hierarchy of lexer/parser/treewalkers needs to be
rebuilt. Check the TokenTypes files of the parser to check if they have the
same idea about the numbering of the tokens.

If you're convinced that it's an antlr problem sent me as small as possible
piece of compiling code and input demonstrating the problem and I'll have a
look at it.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Xander: "Buffy, we need to do something *now*"
  Angel: "We need a distraction."
  Buffy: "Right."
  Angel: "What are you going to do?"
  Buffy: "I'm going to kill them all. That oughtta distract 'em..."


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From alan at oursland.net  Thu Feb 20 06:55:04 2003
From: alan at oursland.net (Alan Oursland)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] help needed with nondeterminism errors. Thanks in advance!
In-Reply-To: <20030220074605.61405.qmail@web40910.mail.yahoo.com>
Message-ID: <LPBBJCCFLMNNCKIFGNLHEEMLDPAA.alan@oursland.net>

I think most of the time I see the error "between alt 1 and exit branch of
block" it is fixed by making a kleene star group greedy.

Does this change fix it?

parameters returns [String params="";]{String exp=""; String subexp="";}
     : (exp = expression {arrayCount++;}) ((COMMA{exp+=",";}) (options
{greedy=true;}: (subexp = expression){exp+=subexp; arrayCount++;}))*
     {
      params = exp;
      System.out.println("in parameters rule, parameters : "+params);
     };

-----Original Message-----
From: Sharon Li [mailto:hushlee83@yahoo.com.sg]
Sent: Thursday, February 20, 2003 1:46 AM
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] help needed with nondeterminism errors. Thanks
in advance!


the error occured at the modules rule
*apologies*
 Sharon Li <hushlee83@yahoo.com.sg> wrote:
sorry guys I just realized to my horror that I've not stated the error :
ANTLR Parser Generator   Version 2.7.0   1989-2000 MageLang's jGuru.com
lfile.g.txt:426: warning: nondeterminism upon
lfile.g.txt:426: k==1:DIGIT,SEMI,COMMA,ASSIGN,ALPHA,PLUS,MINUS,DIVIDE,MOD
,POW,NOT,LOGOR,LOGAND,EQUAL,QUESTION,DOT,AND,UNDERSCORE,OYIELD,YIELD
lfile.g.txt:426: k==2:DIGIT,SEMI,COMMA,ASSIGN,LPAREN,ALPHA,PLUS,MINUS,DIV
IDE,MOD,POW,NOT,LOGOR,LOGAND,EQUAL,QUESTION,DOT,AND,UNDERSCORE,OYIELD,YIELD
lfile.g.txt:426: between alt 1 and exit branch of block
Cheers,
Sharon
 Sharon Li <hushlee83@yahoo.com.sg> wrote:
Hello all,
Could anyone please help me with some nondeterminism errors?
Thanks in advance!
/******** fraction of parser *********************/
/**NOTE: Pls ignore the returning of values coz thats already handled *****/
/**Sorry for pasting in such a huge chunk of code =P **/
productions : (production)+;
production : strictPred conditional (YIELD | OYIELD) successor;
strictPred : formalModules;
formalModules: formalModule+;
formalModule : ((symbol)  (LPAREN formalParameters RPAREN)) => (symbol)
(LPAREN formalParameters RPAREN)
                   | symbol ;
formalParameters : formalParameter (COMMA formalParameter)*;
formalParameter : NAME;
conditional : COLON condition;
condition : (TIMES) => TIMES
            | expression
            ;
successor : modules
                | (TIMES) => TIMES ;
symbol returns [String sym] {sym = null;}
   : d:DIGIT
   {
    System.out.println("Symbol is: "+d.getText());
    sym = d.getText();
   }
   | a:ALPHA
   {
    System.out.println("Symbol is: "+a.getText());
    sym = a.getText();
   }
   | (DOT {sym=".";}) | (COMMA {sym=",";})| (SEMI {sym=";";})
   | (PLUS {sym="+";}) | (MINUS{sym="-";}) | (NOT{sym="!";}) |
(DIVIDE{sym="/";}) | (POW{sym="^";})
   | (MOD{sym="%";}) | (LOGOR{sym="||";}) | (AND{sym="&";}) |
(LOGAND{sym="||";}) | (EQUAL{sym="==";})
   | (QUESTION{sym="?";}) | (UNDERSCORE{sym="_";}) | (ASSIGN{sym="=";})
   | (OYIELD{sym="-o>";}) | (YIELD{sym="-->";})
   ;
modules : (module)+;
module : (smbol) LPAREN (parameters) RPAREN ;
parameters returns [String params="";]{String exp=""; String subexp="";}
     : (exp = expression {arrayCount++;}) ((COMMA{exp+=",";}) ((subexp =
expression){exp+=subexp; arrayCount++;}))*
     {
      params = exp;
      System.out.println("in parameters rule, parameters : "+params);
     };

number returns [String num="";]
  : ((n:NUMERIC {num = n.getText();}) | (d:DIGIT {num = d.getText();}));
word returns [String word="";]
  : ((name:NAME {word = name.getText();}) | (a:ALPHA {word =
a.getText();}));

exp1 returns [String e1] {e1="";String exp="";String numb=""; String w="";}
  : (numb = number)
  {
   e1 = numb;
  }
  | (w = word)
  {
   System.out.println("name is : "+w);
   e1 = w;
  }
  | (lit : STRING_LITERAL)
  {
   String literal = lit.getText();
   e1 = literal;
   System.out.println("string literal: "+literal);

  }
  | (e1=function)
   {
   System.out.println("function is : "+e1);
  }
  | LPAREN (exp=expression) RPAREN
   {
   e1 = "("+ exp +")";
  }
  | /* empty */
  ;
  exception
    catch[RecognitionException e]{
   System.out.println("error occured in rule exp1 !!");
    }

exp2 returns [String e2="";] {String strg="";}
  : (
  ( PLUS {System.out.println("operator +"); e2 += "+";}
  | MINUS {System.out.println("operator -"); e2 += "-";}
  | TIMES {System.out.println("operator *"); e2 += "*";}
  | DIVIDE {System.out.println("operator /"); e2 += "/";}
  | MOD {System.out.println("operator %"); e2 += "%";}
  | POW {System.out.println("operator ^"); e2 += "^";}
  | (NOT {System.out.println("operator !"); e2 += "!";})
(ASSIGN{System.out.println("operator !="); e2 = "!=";} )?
  | LOGOR {System.out.println("operator ||"); e2 += "||";}
  | LOGAND {System.out.println("operator &&"); e2 += "&&";}
  | EQUAL {System.out.println("operator =="); e2 += "==";}
  | LT {System.out.println("operator <"); e2 += "<";}
  | GT {System.out.println("operator >"); e2 += ">";}
  | LTE {System.out.println("operator <="); e2 += "<=";}
  | GTE {System.out.println("operator >="); e2 += ">=";}
  | QUESTION {System.out.println("operator ?"); e2 += "?";})
  (strg=exp1{e2+=strg;}) ((COLON{e2 += ":";}) (strg=exp1{e2 += strg;}))?
(strg=exp2{e2 += strg;}))* ;
  exception
    catch[RecognitionException e]{
   System.out.println("error occured in rule exp2 !!");
    }
expression returns [String expression="";]{String expre1=""; String
expre2="";}
  : (expre1=exp1) (expre2=exp2)
  {
   expression = expre1 + expre2;
  };
  exception
    catch[RecognitionException e]{
   System.out.println("error occured in rule expression !!");
    }
/**** fraction of lexer ****/
ALPHA  : ( 'a'..'z' | 'A'..'Z' );
DIGIT : ('0'..'9');
NUMERIC : DIGIT ((DIGIT)+ | ((DOT) (d:DIGIT)+)) ;
NAME : (ALPHA) (ALPHA|DIGIT|UNDERSCORE)+ ;
STRING_LITERAL : '"'! ('"' '"'! | ~('"'))* '"'!



 Yahoo! Biztools
- Promote your business from just $5 a month!
Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.

 Yahoo! Biztools
- Promote your business from just $5 a month!
Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.

 Yahoo! Biztools
- Promote your business from just $5 a month!
Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From abreneliere at telys.com  Thu Feb 20 07:32:49 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:23 2004
Subject: [antlr-interest] my grammar was wrong, but my error rose a syntactic predicate problem in tree parsers
Message-ID: <001801c2d8f5$542b34a0$cb646464@lavaserver>



I did a mistake, i replaced:

( modif 1 )
set
	:	#( R_ENT setComponentList )
;

to 

set
	:	#( R_SEC setComponentList )
;

( modif 2 )
In the syntactic predicate, i did not need to check the entire rule.
I also  replaced..

entOrSet
	:	( entity )=> entity
	|	( set )=> set
;

by.. 

entOrSet
	:	( R_ENT )=> entity
	|	( R_SET )=> set
;

and now everything works.

BUT the rule..
entOrSet
	:	( entity )=> entity
;
..did work because the sintactic predicate was supressed (because it is
obsolete)

and HOWEVER..
entOrSet
	:	( entity )=> entity
	:	( set )=> set
;
..should work.

The syntactic predicate ( entity )=>  returns false whereas it should
return true. When there is no syntactic predicate, the rule is matched.

Important : Before ( modif 1 ), the syntax could have been validated by
both syntactic predicates ( entity )=>, ( set )=>, in that case, the
alternative 1 is chosen, because it is the first alternative. In the
parser i have rules that can be matched by more than one syntactic
predicate, in which case the first matched alternative is selected.

My conclusion is:
"When the syntax is OK, The syntactic predicate does not 'allways'
validate the rule, in tree parsers."

I join the C++ tree parser generated file, that contains the wrong
syntactic predicate (the on that rise the problem).

Here is a sample of my tree parser with mistakes (that rise the
syntactic predicate problem)...

entOrSet
	:	( entity )=> entity	// replaced by ( R_ENT )=>
entity
	|	( set )=> set		// replaced by ( R_SET )=> set; 

entity
	:	#( R_ENT entityComponentList )
;

set
	:	#( R_ENT setComponentList ) 	// replaced by #( R_SET
setComponentList )
;

entityComponentList
	:	( entityComponent )+
;

setComponentList
	:	( entityComponent | setComponent )+
;

entityComponent
	:	#( R_ENC component )
;

setComponent
	:	#( R_SEC component )  // Ric Klaren : Here is the
difference that would premit
                                  // the syntactic predicate of the rule
entOrSet 
;

component
	:	i:IDENTIFIER ("WHERE" entAttSetList)?
	{ cout << i->getText() << endl; }
; 

CHEERS,
Anthony

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: CIAOWalker.zip
Type: application/x-zip-compressed
Size: 9599 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20030220/5e991908/CIAOWalker.bin
From Trey.Spiva at embarcadero.com  Thu Feb 20 08:01:33 2003
From: Trey.Spiva at embarcadero.com (Trey Spiva)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Stack Overflow Probem
Message-ID: <5DEEF5A894731F4B92D58E2FC37EB28A090EC7@etdema1.embarcadero.com>

I am using the java grammar to parse the JDK to generate a C++ parser.
When I try to parser Character.java I stack overflow exception is thrown
when using the tree parser to parse the AST returned by the recognizer. 
 
Does any body have any idea of how to solve this problem (I prefer to
not have to increase the stack size).
 
The problem code is:
 
// The Y table has 4032 entries for a total of 8064 bytes.
 
  private static final short Y[] = new short[4032];
  private static final String Y_DATA =
 
"\000\000\000\000\002\004\004\000\000\000\000\000\000\000\004\004\006\01
0\012"+
 
"\014\016\020\022\024\026\026\026\026\026\030\032\034\036\040\040\040\04
0\040"+
 
"\040\040\040\040\040\040\040\042\044\046\050\052\052\052\052\052\052\05
2\052"+
 
"\052\052\052\052\054\056\060\000\000\000\000\000\000\000\000\000\000\00
0\000"+
 
"\000\000\000\000\062\064\064\066\070\072\074\076\100\102\104\106\110\11
2\114"+
 
"\116\120\120\120\120\120\120\120\120\120\120\120\122\120\120\120\124\12
6\126"+
 
"\126\126\126\126\126\126\126\126\126\130\126\126\126\132\134\134\134\13
4\134"+
 
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4\134"+
 
"\136\134\134\134\140\142\142\142\142\142\142\142\144\134\134\134\134\13
4\134"+
 
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\14
6\142"+
 
"\142\150\152\134\134\154\156\160\144\162\164\156\166\170\134\172\174\17
6\134"+
 
"\134\134\200\202\204\134\206\210\212\142\214\134\216\134\220\220\220\22
2\224"+
 
"\226\222\230\142\142\142\142\142\142\142\232\134\134\134\134\134\134\13
4\134"+
 
"\134\234\226\134\236\236\134\134\134\134\134\134\134\134\134\134\134\13
4\134"+
 
"\134\134\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\23
6\236"+
 
"\236\236\236\236\236\236\236\236\236\236\236\172\240\242\244\246\250\17
2\172"+
 
"\252\254\172\172\256\172\172\260\172\262\264\172\172\172\172\172\172\26
6\172"+
 
"\172\270\272\172\172\172\274\172\172\172\172\172\172\172\172\172\172\27
6\236"+
 
"\236\236\300\300\300\300\302\304\300\300\300\306\306\306\306\306\306\30
6\300"+
 
"\306\306\306\306\306\306\310\300\300\302\306\306\236\236\236\236\236\23
6\236"+
 
"\236\236\236\236\312\312\312\312\312\312\312\312\312\312\312\312\312\31
2\312"+
 
"\312\312\312\312\312\312\312\312\312\312\312\312\312\312\312\312\312\31
2\312"+
 
"\312\236\236\236\236\236\236\236\236\236\236\236\236\236\312\236\236\23
6\236"+
 
"\236\236\236\236\236\314\236\236\316\236\320\236\236\306\322\324\326\33
0\332"+
 
"\334\120\120\120\120\120\120\120\120\336\120\120\120\120\340\342\344\12
6\126"+
 
"\126\126\126\126\126\126\346\126\126\126\126\350\352\354\356\360\362\23
6\364"+
 
"\364\364\364\134\134\134\134\134\134\134\366\216\236\236\236\236\236\23
6\370"+
 
"\372\372\372\372\372\374\372\120\120\120\120\120\120\120\120\120\120\12
0\120"+
 
"\120\120\120\120\126\126\126\126\126\126\126\126\126\126\126\126\126\12
6\126"+
 
"\126\376\u0100\u0100\u0100\u0100\u0100\u0102\u0100\134\134\134\134\134\
134"+
 
"\134\134\134\134\134\134\134\134\134\134\134\u0104\312\u0106\236\236\23
6\236"+
 
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4\134"+
 
"\134\134\134\134\134\u0108\142\u010A\u010C\u010A\u010C\u010A\236\134\13
4\134"+
 
"\134\134\134\134\134\134\134\134\134\134\134\236\134\134\134\134\236\13
4\236"+
 
"\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\23
6\236"+
 
"\236\236\236\236\236\236\236\u010E\u0110\u0110\u0110\u0110\u0110\u0110\
u0110"+
 
"\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u011
2\u0114"+
 
"\314\314\314\u0116\u0118\u0118\u0118\u0118\u0118\u0118\u0118\u0118\u011
8\u0118"+
 
"\u0118\u0118\u0118\u0118\u0118\u0118\u0118\u0118\u011A\u011C\236\236\23
6\u011E"+
 
"\u0120\u0120\u0120\u0120\u0120\u0120\u0120\u0120\u011E\u0120\u0120\u012
0\u0120"+
 
"\u0120\u0120\u0120\u0120\u0120\u0120\u0120\u011E\u0120\u0122\u0122\u012
4\u0126"+
 
"\236\236\236\236\236\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
128"+
 
"\u0128\u0128\u0128\u0128\u012A\236\236\u0128\u012C\u012E\236\236\236\23
6\236"+
 
"\236\236\236\236\236\236\u012E\236\236\236\236\236\236\u0130\236\u0130\
u0132"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\u012A"+
 
"\236\236\u0134\u0128\u0128\u0128\u0128\u0136\u0120\u0120\u0120\u0126\23
6\236"+
 
"\236\236\236\236\u0138\u0138\u0138\u0138\u0138\u013A\u013C\236\u013E\u0
128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\236\u0128\u0128\u012A\
u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u012A\u0128\u0128\u0140\u0120\u012
0\u0120"+
 
"\u0142\u0144\u0120\u0120\u0146\u0148\u014A\u0120\u0120\236\026\026\026\
026"+
 
"\026\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\23
6\236"+
 
"\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\u0
14C"+
 
"\u014E\u0150\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\220"+
 
"\220\220\220\220\220\220\220\220\220\220\236\u0152\u0154\u0156\312\312\
312"+
 
"\u014E\u0154\u0156\236\u0104\312\u0106\236\220\220\220\220\220\312\314\
u0158"+
 
"\u0158\u0158\u0158\u0158\320\236\236\236\236\236\236\236\u014C\u0154\u0
150"+
 
"\220\220\220\u015A\u0150\u015A\u0150\220\220\220\220\220\220\220\220\22
0\220"+
 
"\u015A\220\220\220\u015A\u015A\236\220\220\236\u0106\u0154\u0156\312\u0
106"+
 
"\u015C\u015E\u015C\u0156\236\236\236\236\u015C\236\236\220\u0150\220\31
2\236"+
 
"\u0158\u0158\u0158\u0158\u0158\220\u0160\u0162\u0162\u0164\u0166\236\23
6\236"+
 
"\u0106\u0150\220\220\u015A\236\u0150\u015A\u0150\220\220\220\220\220\22
0\220"+
 
"\220\220\220\u015A\220\220\220\u015A\220\u0150\u015A\220\236\u0106\u015
4\u0156"+
 
"\u0106\236\u014C\u0106\u014C\312\236\236\236\236\236\u0150\220\u015A\u0
15A"+
 
"\236\236\236\u0158\u0158\u0158\u0158\u0158\312\220\u015A\236\236\236\23
6\236"+
 
"\u014C\u014E\u0150\220\220\220\u0150\u0150\220\u0150\220\220\220\220\22
0\220"+
 
"\220\220\220\220\u015A\220\220\220\u015A\220\u0150\220\220\236\u0152\u0
154"+
 
"\u0156\312\312\u014C\u014E\u015C\u0156\236\u0166\236\236\236\236\236\23
6\236"+
 
"\u015A\236\236\u0158\u0158\u0158\u0158\u0158\236\236\236\236\236\236\23
6\236"+
 
"\u014C\u0154\u0150\220\220\220\u015A\u0150\u015A\u0150\220\220\220\220\
220"+
 
"\220\220\220\220\220\u015A\220\220\220\u015A\220\236\220\220\236\u0152\
u0156"+
 
"\u0156\312\236\u015C\u015E\u015C\u0156\236\236\236\236\u014E\236\236\22
0\u0150"+
 
"\220\236\236\u0158\u0158\u0158\u0158\u0158\u0166\236\236\236\236\236\23
6\236"+
 
"\236\u014E\u0150\220\220\u015A\236\220\u015A\220\220\236\u0150\u015A\u0
15A"+
 
"\220\236\u0150\u015A\236\220\u015A\236\220\220\220\220\u0150\220\236\23
6\u0154"+
 
"\u014E\u015E\236\u0154\u015E\u0154\u0156\236\236\236\236\u015C\236\236\
236"+
 
"\236\236\236\236\u0168\u0158\u0158\u0158\u0158\u016A\u016C\236\236\236\
236"+
 
"\236\236\u015C\u0154\u0150\220\220\220\u015A\220\u015A\220\220\220\220\
220"+
 
"\220\220\220\220\220\220\u015A\220\220\220\220\220\u0150\220\220\236\23
6\312"+
 
"\u014E\u0154\u015E\312\u0106\312\312\236\236\236\u014C\u0106\236\236\23
6\236"+
 
"\220\236\236\u0158\u0158\u0158\u0158\u0158\236\236\236\236\236\236\236\
236"+
 
"\236\u0154\u0150\220\220\220\u015A\220\u015A\220\220\220\220\220\220\22
0\220"+
 
"\220\220\220\u015A\220\220\220\220\220\u0150\220\220\236\236\u0156\u015
4\u0154"+
 
"\u015E\u014E\u015E\u0154\312\236\236\236\u015C\u015E\236\236\236\u015A\
220"+
 
"\236\236\u0158\u0158\u0158\u0158\u0158\236\236\236\236\236\236\236\236\
236"+
 
"\u0154\u0150\220\220\220\u015A\220\u015A\220\220\220\220\220\220\220\22
0\220"+
 
"\220\220\u015A\220\220\220\220\220\220\220\220\236\236\u0154\u0156\312\
236"+
 
"\u0154\u015E\u0154\u0156\236\236\236\236\u015C\236\236\236\236\220\236\
236"+
 
"\u0158\u0158\u0158\u0158\u0158\236\236\236\236\236\236\236\236\u0150\22
0\220"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\220"+
 
"\220\u016E\u0170\220\312\312\312\u0106\236\u0172\220\220\220\u0174\312\
312"+
 
"\312\u0176\u0178\u0178\u0178\u0178\u0178\314\236\236\236\236\236\236\23
6\236"+
 
"\236\236\236\236\236\236\236\236\236\236\u0150\u015A\u015A\u0150\u015A\
u015A"+
 
"\u0150\236\236\236\220\220\u0150\220\220\220\u0150\220\u0150\u0150\236\
220"+
 
"\u0150\u016E\u0170\220\312\312\312\u014C\u0152\236\220\220\u015A\316\31
2\312"+
 
"\312\236\u0178\u0178\u0178\u0178\u0178\236\220\236\236\236\236\236\236\
236"+
 
"\236\236\236\236\236\236\236\236\236\236\u017A\u017A\314\314\314\314\31
4\314"+
 
"\314\u017C\u017A\u017A\312\u017A\u017A\u017A\u017E\u017E\u017E\u017E\u0
17E"+
 
"\u0180\u0180\u0180\u0180\u0180\u0104\u0104\u0104\u0182\u0182\u0154\220\
220"+
 
"\220\220\u0150\220\220\220\220\220\220\220\220\220\220\220\220\220\220\
220"+
 
"\220\236\236\236\u014C\312\312\312\312\312\312\u014E\312\312\u0184\312\
312"+
 
"\312\236\236\312\312\312\u014C\u014C\312\312\312\312\312\312\312\312\31
2\312"+
 
"\236\u014C\312\312\312\u014C\236\236\236\236\236\236\236\236\236\236\23
6\236"+
 
"\236\236\236\236\236\236\236\u0110\u0110\u0110\u0110\u0110\u0110\u0110\
u0110"+
 
"\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\236\
236"+
 
"\236\236\236\172\172\172\172\172\172\172\172\172\172\172\172\172\172\17
2\172"+
 
"\172\172\172\276\236\u011C\236\236\220\220\220\220\220\220\220\220\220\
220"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\220"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\236\23
6\u0150"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\220"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\u015A\236\236\
220"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\220"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\220"+
 
"\220\220\236\236\236\134\134\134\134\134\134\134\134\134\134\134\134\13
4\134"+
 
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4\134"+
 
"\134\134\134\134\134\134\134\134\134\134\172\172\u0186\236\236\134\134\
134"+
 
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4\134"+
 
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4\134"+
 
"\134\134\134\134\236\236\236\u0188\u0188\u0188\u0188\u018A\u018A\u018A\
u018A"+
 
"\u0188\u0188\u0188\236\u018A\u018A\u018A\236\u0188\u0188\u0188\u0188\u0
18A"+
 
"\u018A\u018A\u018A\u0188\u0188\u0188\u0188\u018A\u018A\u018A\u018A\u018
8\u0188"+
 
"\u0188\236\u018A\u018A\u018A\236\u018C\u018C\u018C\u018C\u018E\u018E\u0
18E"+
 
"\u018E\u0188\u0188\u0188\u0188\u018A\u018A\u018A\u018A\u0190\u0192\u019
2\u0194"+
 
"\u0196\u0198\u019A\236\u0188\u0188\u0188\u0188\u018A\u018A\u018A\u018A\
u0188"+
 
"\u0188\u0188\u0188\u018A\u018A\u018A\u018A\u0188\u0188\u0188\u0188\u018
A\u018A"+
 
"\u018A\u018A\u0188\u019C\276\172\u018A\u019E\u01A0\u01A2\306\u019C\276\
172"+
 
"\u01A4\u01A4\u01A0\306\u0188\172\236\172\u018A\u01A6\u01A8\306\u0188\17
2\u01AA"+
 
"\172\u018A\u01AC\u01AE\306\236\u019C\276\172\u01B0\u01B2\u01A0\310\u01B
4\u01B4"+
 
"\u01B4\u01B6\u01B4\u01B4\u01B8\u01BA\u01BC\u01BC\u01BC\014\u01BE\u01C0\
u01BE"+
 
"\u01C0\014\014\014\014\u01C2\u01B8\u01B8\u01C4\u01C6\u01C6\u01C8\014\u0
1CA"+
 
"\u01CC\014\u01CE\u01D0\014\u01D2\u01D4\236\236\236\236\236\236\236\236\
236"+
 
"\236\236\236\236\236\236\236\236\u01B8\u01B8\u01B8\u01D6\236\102\102\10
2\u01D8"+
 
"\u01D2\u01DA\u01DC\u01DC\u01DC\u01DC\u01DC\u01D8\u01D2\u01D4\236\236\23
6\236"+
 
"\236\236\236\236\064\064\064\064\064\064\u01DE\236\236\236\236\236\236\
236"+
 
"\236\236\236\236\236\236\236\236\236\236\312\312\312\312\312\312\u01E0\
u01E2"+
 
"\u01E4\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\066\
u01E6"+
 
"\066\u01E8\066\u01EA\u01EC\u01EE\u01EC\u01F0\u01E8\066\u01EC\u01EC\u01E
C\066"+
 
"\066\066\u01E6\u01E6\u01E6\u01EC\u01EC\u01EE\u01EC\u01E8\u01F2\u01F4\u0
1F6"+
 
"\236\236\236\236\236\236\236\236\236\236\236\236\u01F8\114\114\114\114\
114"+
 
"\u01FA\u01FC\u01FC\u01FC\u01FC\u01FC\u01FC\u01FE\u01FE\u0200\u0200\u020
0\u0200"+
 
"\u0200\u0200\u0202\u0202\u0204\u0206\236\236\236\236\236\236\u0208\u020
8\u020A"+
 
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\06
6\066"+
 
"\066\066\066\066\066\066\066\066\066\066\066\u020A\u020A\066\066\066\06
6\066"+
 
"\066\066\066\066\066\u020C\236\236\236\236\236\236\236\236\236\236\u020
E\u0210"+
 
"\032\u0208\u0210\u0210\u0210\u0208\u020E\u01D8\u020E\032\u0208\u0210\u0
210"+
 
"\u020E\u0210\032\032\032\u0208\u020E\u0210\u0210\u0210\u0210\u0208\u020
8\u020E"+
 
"\u020E\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\032\u0208\u0208\
u0210"+
 
"\u0210\u0208\u0208\u0208\u0208\u020E\032\032\u0210\u0210\u0210\u0210\u0
208"+
 
"\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u021
0\u0210"+
 
"\u0210\u0210\032\u020E\u0210\032\u0208\u0208\032\u0208\u0208\u0208\u020
8\u0210"+
 
"\u0208\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\032\u0208\
u0208"+
 
"\u0210\u0208\u0208\u0208\u0208\u020E\u0210\u0210\u0208\u0210\u0208\u020
8\u0210"+
 
"\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u020
8\u0210"+
 
"\236\236\236\236\236\236\236\u020C\066\066\066\u0210\u0210\066\066\066\
066"+
 
"\066\066\066\066\066\066\u0210\066\066\066\u0212\u0214\066\066\066\066\
066"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\u017A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\u017A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0166\236\236\066\066\
066"+
 
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\u020C\236\
236"+
 
"\236\236\236\236\236\236\236\236\236\236\236\066\066\066\066\066\u020C\
236"+
 
"\236\236\236\236\236\236\236\236\236\u0216\u0216\u0216\u0216\u0216\u021
6\u0216"+
 
"\u0216\u0216\u0216\u0218\u0218\u0218\u0218\u0218\u0218\u0218\u0218\u021
8\u0218"+
 
"\u021A\u021A\u021A\u021A\u021A\u021A\u021A\u021A\u021A\u021A\066\066\06
6\066"+
 
"\066\066\066\066\066\066\066\066\066\u021C\u021C\u021C\u021C\u021C\u021
C\u021C"+
 
"\u021C\u021C\u021C\u021C\u021C\u021C\u021E\u021E\u021E\u021E\u021E\u021
E\u021E"+
 
"\u021E\u021E\u021E\u021E\u021E\u021E\u0220\236\236\236\236\236\236\236\
236"+
 
"\236\236\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\06
6\066"+
 
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\06
6\066"+
 
"\066\066\066\066\066\066\066\236\236\236\236\236\066\066\066\066\066\06
6\066"+
 
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\06
6\066"+
 
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\236\236\236\23
6\236"+
 
"\236\236\236\066\066\066\066\066\066\066\066\066\066\236\236\236\066\06
6\066"+
 
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\u0222\
066"+
 
"\u020C\066\066\236\066\066\066\066\066\066\066\066\066\066\066\066\066\
066"+
 
"\u0222\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\
066"+
 
"\u0222\u0222\066\u020C\236\u020C\066\066\066\u020C\u0222\066\066\066\23
6\236"+
 
"\236\236\236\236\236\u0224\u0224\u0224\u0224\u0224\u0216\u0216\u0216\u0
216"+
 
"\u0216\u0226\u0226\u0226\u0226\u0226\u020C\236\066\066\066\066\066\066\
066"+
 
"\066\066\066\066\066\u0222\066\066\066\066\066\066\u020C\006\014\u0228\
u022A"+
 
"\016\016\016\016\016\066\016\016\016\016\u022C\u022E\u0230\u0232\u0232\
u0232"+
 
"\u0232\312\312\312\u0234\u0236\u0236\066\236\236\236\u0222\u0150\220\22
0\220"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\220"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\220"+
 
"\u015A\236\u014C\u0238\300\316\u0150\220\220\220\220\220\220\220\220\22
0\220"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\220"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\u016E\300\
316"+
 
"\236\236\u0150\220\220\220\220\220\220\220\220\220\220\220\220\220\220\
220"+
 
"\220\220\220\220\u015A\236\u0150\220\220\220\220\220\220\220\220\220\22
0\220"+
 
"\220\220\220\u015A\u017A\u0180\u0180\u017A\u017A\u017A\u017A\u017A\236\
236"+
 
"\236\236\236\236\236\236\236\236\236\236\236\236\236\236\u017A\u017A\u0
17A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u016
6\236"+
 
"\u0180\u0180\u0180\u0180\u0180\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\u017A"+
 
"\u017A\u017A\u017A\u017A\u017A\236\236\236\236\236\236\236\236\236\236\
236"+
 
"\236\236\236\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\u017A"+
 
"\u017A\u017A\u017A\236\u023A\u023C\u023C\u023C\u023C\u023C\u017A\u017A\
u017A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\u017A"+
 
"\u017A\u017A\u017A\u0166\236\236\236\236\236\236\236\u017A\u017A\u017A\
u017A"+
 
"\u017A\u017A\236\236\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0
17A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\u017A"+
 
"\u017A\u0166\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\u017A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\u017A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\u017A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\u017A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0166\236\u023A\
u017A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\u017A"+
 
"\u017A\u017A\u017A\236\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\
u017A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u0166\220\220\220\220\220\220\220\
220"+
 
"\220\220\220\220\220\220\220\220\220\220\220\236\236\236\236\236\236\23
6\236"+
 
"\236\236\236\236\236\220\220\220\220\220\220\220\220\220\220\220\220\22
0\220"+
 
"\220\220\220\220\236\236\236\236\236\236\236\236\236\236\236\236\236\23
6\u023E"+
 
"\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023
E\u023E"+
 
"\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023
E\u023E"+
 
"\u023E\u023E\u023E\u023E\u023E\u0240\u0240\u0240\u0240\u0240\u0240\u024
0\u0240"+
 
"\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u024
0\u0240"+
 
"\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\220\
220"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\220"+
 
"\220\220\236\236\236\236\236\236\236\236\236\172\172\172\276\236\236\23
6\236"+
 
"\236\u0242\172\172\236\236\236\u013E\u0128\u0128\u0128\u0128\u0244\u012
8\u0128"+
 
"\u0128\u0128\u0128\u0128\u012A\u0128\u0128\u012A\u012A\u0128\u0132\u012
A\u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\u0128"+
 
"\u0128\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\
u0132"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u01BE\236\236\236\236\236\23
6\236"+
 
"\236\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\
u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\236\u0128\u0128\u0128\u0128\
u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\236\236\236\236\
236"+
 
"\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\u0128\u012
8\u0128"+
 
"\u0128\u0128\u0128\236\236\236\236\236\236\236\236\236\236\236\236\236\
236"+
 
"\236\236\236\236\u0246\u0246\236\236\236\236\236\236\u0248\u024A\u024C\
u024E"+
 
"\u024E\u024E\u024E\u024E\u024E\u024E\u0250\236\u0252\014\u01CE\u0254\01
4\u0256"+
 
"\014\014\u022C\u024E\u024E\u01CC\014\074\u0208\u0258\u025A\014\236\236\
u0128"+
 
"\u012A\u012A\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\u0128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
A\u025C"+
 
"\u0252\014\u025E\014\u01BE\u0260\u0248\014\026\026\026\026\026\014\u020
8\u0262"+
 
"\036\040\040\040\040\040\040\040\040\040\040\040\040\u0264\u0266\046\05
0\052"+
 
"\052\052\052\052\052\052\052\052\052\052\052\u0268\u026A\u0258\u0252\u0
1BE"+
 
"\u026C\220\220\220\220\220\u026E\220\220\220\220\220\220\220\220\220\22
0\220"+
 
"\220\220\220\220\220\220\220\220\220\220\220\300\220\220\220\220\220\22
0\220"+
 
"\220\220\220\220\220\220\220\220\u015A\236\220\220\220\236\220\220\220\
236"+
 
"\220\220\220\236\220\u015A\236\u0270\u0272\u0274\u0276\u0208\u0208\u020
A\u020C"+
    "\236\236\236\236\236\236\066\236";
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030220/ed5e748e/attachment.html
From mzukowski at yci.com  Thu Feb 20 08:26:42 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] my grammar was wrong, but my error rose a sy
	ntactic predicate problem in tree parsers
Message-ID: <170826586F3BD511910D0200C110AAA80540217F@memail03.bco-home.com>

I avoid syntactic predicates in my tree parser by rearranging my tree and
using imaginary node types when appropriate.  You should not need a rule
like this:
entOrSet
	:	( R_ENT )=> entity
	|	( R_SET )=> set
;

This should work fine:

entOrSet
	:	entity
	|	set
;

Monty

-----Original Message-----
From: Anthony Breneli?re [mailto:abreneliere@telys.com]
Sent: Thursday, February 20, 2003 7:33 AM
To: antlr-interest@yahoogroups.com; klaren@cs.utwente.nl
Subject: [antlr-interest] my grammar was wrong, but my error rose a
syntactic predicate problem in tree parsers




I did a mistake, i replaced:

( modif 1 )
set
	:	#( R_ENT setComponentList )
;

to 

set
	:	#( R_SEC setComponentList )
;

( modif 2 )
In the syntactic predicate, i did not need to check the entire rule.
I also  replaced..

entOrSet
	:	( entity )=> entity
	|	( set )=> set
;

by.. 

entOrSet
	:	( R_ENT )=> entity
	|	( R_SET )=> set
;

and now everything works.

BUT the rule..
entOrSet
	:	( entity )=> entity
;
..did work because the sintactic predicate was supressed (because it is
obsolete)

and HOWEVER..
entOrSet
	:	( entity )=> entity
	:	( set )=> set
;
..should work.

The syntactic predicate ( entity )=>  returns false whereas it should
return true. When there is no syntactic predicate, the rule is matched.

Important : Before ( modif 1 ), the syntax could have been validated by
both syntactic predicates ( entity )=>, ( set )=>, in that case, the
alternative 1 is chosen, because it is the first alternative. In the
parser i have rules that can be matched by more than one syntactic
predicate, in which case the first matched alternative is selected.

My conclusion is:
"When the syntax is OK, The syntactic predicate does not 'allways'
validate the rule, in tree parsers."

I join the C++ tree parser generated file, that contains the wrong
syntactic predicate (the on that rise the problem).

Here is a sample of my tree parser with mistakes (that rise the
syntactic predicate problem)...

entOrSet
	:	( entity )=> entity	// replaced by ( R_ENT )=>
entity
	|	( set )=> set		// replaced by ( R_SET )=> set; 

entity
	:	#( R_ENT entityComponentList )
;

set
	:	#( R_ENT setComponentList ) 	// replaced by #( R_SET
setComponentList )
;

entityComponentList
	:	( entityComponent )+
;

setComponentList
	:	( entityComponent | setComponent )+
;

entityComponent
	:	#( R_ENC component )
;

setComponent
	:	#( R_SEC component )  // Ric Klaren : Here is the
difference that would premit
                                  // the syntactic predicate of the rule
entOrSet 
;

component
	:	i:IDENTIFIER ("WHERE" entAttSetList)?
	{ cout << i->getText() << endl; }
; 

CHEERS,
Anthony

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Thu Feb 20 08:34:50 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Stack Overflow Probem
Message-ID: <170826586F3BD511910D0200C110AAA805402180@memail03.bco-home.com>

You could modify the addition rule to automatically concatenate two strings
when added together. So instead of building a '+' tree you would recognize
that case and return a STRING.  

Or you could use a closure like ("+" multExp)* and have '+' be n-ary instead
of binary.  That may have wider repercussions, though.  If you try it let me
know the problems you encounter.

Monty

-----Original Message-----
From: Trey Spiva [mailto:Trey.Spiva@embarcadero.com]
Sent: Thursday, February 20, 2003 8:02 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Stack Overflow Probem


I am using the java grammar to parse the JDK to generate a C++ parser.  When
I try to parser Character.java I stack overflow exception is thrown when
using the tree parser to parse the AST returned by the recognizer. 
 
Does any body have any idea of how to solve this problem (I prefer to not
have to increase the stack size).
 
The problem code is:
 
// The Y table has 4032 entries for a total of 8064 bytes.
 
  private static final short Y[] = new short[4032];
  private static final String Y_DATA =
 
"\000\000\000\000\002\004\004\000\000\000\000\000\000\000\004\004\006\010\01
2"+
 
"\014\016\020\022\024\026\026\026\026\026\030\032\034\036\040\040\040\040\04
0"+
 
"\040\040\040\040\040\040\040\042\044\046\050\052\052\052\052\052\052\052\05
2"+
 
"\052\052\052\052\054\056\060\000\000\000\000\000\000\000\000\000\000\000\00
0"+
 
"\000\000\000\000\062\064\064\066\070\072\074\076\100\102\104\106\110\112\11
4"+
 
"\116\120\120\120\120\120\120\120\120\120\120\120\122\120\120\120\124\126\12
6"+
 
"\126\126\126\126\126\126\126\126\126\130\126\126\126\132\134\134\134\134\13
4"+
 
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4"+
 
"\136\134\134\134\140\142\142\142\142\142\142\142\144\134\134\134\134\134\13
4"+
 
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\146\14
2"+
 
"\142\150\152\134\134\154\156\160\144\162\164\156\166\170\134\172\174\176\13
4"+
 
"\134\134\200\202\204\134\206\210\212\142\214\134\216\134\220\220\220\222\22
4"+
 
"\226\222\230\142\142\142\142\142\142\142\232\134\134\134\134\134\134\134\13
4"+
 
"\134\234\226\134\236\236\134\134\134\134\134\134\134\134\134\134\134\134\13
4"+
 
"\134\134\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\23
6"+
 
"\236\236\236\236\236\236\236\236\236\236\236\172\240\242\244\246\250\172\17
2"+
 
"\252\254\172\172\256\172\172\260\172\262\264\172\172\172\172\172\172\266\17
2"+
 
"\172\270\272\172\172\172\274\172\172\172\172\172\172\172\172\172\172\276\23
6"+
 
"\236\236\300\300\300\300\302\304\300\300\300\306\306\306\306\306\306\306\30
0"+
 
"\306\306\306\306\306\306\310\300\300\302\306\306\236\236\236\236\236\236\23
6"+
 
"\236\236\236\236\312\312\312\312\312\312\312\312\312\312\312\312\312\312\31
2"+
 
"\312\312\312\312\312\312\312\312\312\312\312\312\312\312\312\312\312\312\31
2"+
 
"\312\236\236\236\236\236\236\236\236\236\236\236\236\236\312\236\236\236\23
6"+
 
"\236\236\236\236\236\314\236\236\316\236\320\236\236\306\322\324\326\330\33
2"+
 
"\334\120\120\120\120\120\120\120\120\336\120\120\120\120\340\342\344\126\12
6"+
 
"\126\126\126\126\126\126\346\126\126\126\126\350\352\354\356\360\362\236\36
4"+
 
"\364\364\364\134\134\134\134\134\134\134\366\216\236\236\236\236\236\236\37
0"+
 
"\372\372\372\372\372\374\372\120\120\120\120\120\120\120\120\120\120\120\12
0"+
 
"\120\120\120\120\126\126\126\126\126\126\126\126\126\126\126\126\126\126\12
6"+
 
"\126\376\u0100\u0100\u0100\u0100\u0100\u0102\u0100\134\134\134\134\134\134"
+
 
"\134\134\134\134\134\134\134\134\134\134\134\u0104\312\u0106\236\236\236\23
6"+
 
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4"+
 
"\134\134\134\134\134\u0108\142\u010A\u010C\u010A\u010C\u010A\236\134\134\13
4"+
 
"\134\134\134\134\134\134\134\134\134\134\134\236\134\134\134\134\236\134\23
6"+
 
"\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\23
6"+
 
"\236\236\236\236\236\236\236\u010E\u0110\u0110\u0110\u0110\u0110\u0110\u011
0"+
 
"\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0112\u0
114"+
 
"\314\314\314\u0116\u0118\u0118\u0118\u0118\u0118\u0118\u0118\u0118\u0118\u0
118"+
 
"\u0118\u0118\u0118\u0118\u0118\u0118\u0118\u0118\u011A\u011C\236\236\236\u0
11E"+
 
"\u0120\u0120\u0120\u0120\u0120\u0120\u0120\u0120\u011E\u0120\u0120\u0120\u0
120"+
 
"\u0120\u0120\u0120\u0120\u0120\u0120\u0120\u011E\u0120\u0122\u0122\u0124\u0
126"+
 
"\236\236\236\236\236\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128"
+
 
"\u0128\u0128\u0128\u0128\u012A\236\236\u0128\u012C\u012E\236\236\236\236\23
6"+
 
"\236\236\236\236\236\236\u012E\236\236\236\236\236\236\u0130\236\u0130\u013
2"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
12A"+
 
"\236\236\u0134\u0128\u0128\u0128\u0128\u0136\u0120\u0120\u0120\u0126\236\23
6"+
 
"\236\236\236\236\u0138\u0138\u0138\u0138\u0138\u013A\u013C\236\u013E\u0128"
+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\236\u0128\u0128\u012A\u012
8"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u012A\u0128\u0128\u0140\u0120\u0120\u0
120"+
 
"\u0142\u0144\u0120\u0120\u0146\u0148\u014A\u0120\u0120\236\026\026\026\026"
+
 
"\026\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\23
6"+
 
"\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\u014C"
+
 
"\u014E\u0150\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0"+
 
"\220\220\220\220\220\220\220\220\220\220\236\u0152\u0154\u0156\312\312\312"
+
 
"\u014E\u0154\u0156\236\u0104\312\u0106\236\220\220\220\220\220\312\314\u015
8"+
 
"\u0158\u0158\u0158\u0158\320\236\236\236\236\236\236\236\u014C\u0154\u0150"
+
 
"\220\220\220\u015A\u0150\u015A\u0150\220\220\220\220\220\220\220\220\220\22
0"+
 
"\u015A\220\220\220\u015A\u015A\236\220\220\236\u0106\u0154\u0156\312\u0106"
+
 
"\u015C\u015E\u015C\u0156\236\236\236\236\u015C\236\236\220\u0150\220\312\23
6"+
 
"\u0158\u0158\u0158\u0158\u0158\220\u0160\u0162\u0162\u0164\u0166\236\236\23
6"+
 
"\u0106\u0150\220\220\u015A\236\u0150\u015A\u0150\220\220\220\220\220\220\22
0"+
 
"\220\220\220\u015A\220\220\220\u015A\220\u0150\u015A\220\236\u0106\u0154\u0
156"+
 
"\u0106\236\u014C\u0106\u014C\312\236\236\236\236\236\u0150\220\u015A\u015A"
+
 
"\236\236\236\u0158\u0158\u0158\u0158\u0158\312\220\u015A\236\236\236\236\23
6"+
 
"\u014C\u014E\u0150\220\220\220\u0150\u0150\220\u0150\220\220\220\220\220\22
0"+
 
"\220\220\220\220\u015A\220\220\220\u015A\220\u0150\220\220\236\u0152\u0154"
+
 
"\u0156\312\312\u014C\u014E\u015C\u0156\236\u0166\236\236\236\236\236\236\23
6"+
 
"\u015A\236\236\u0158\u0158\u0158\u0158\u0158\236\236\236\236\236\236\236\23
6"+
 
"\u014C\u0154\u0150\220\220\220\u015A\u0150\u015A\u0150\220\220\220\220\220"
+
 
"\220\220\220\220\220\u015A\220\220\220\u015A\220\236\220\220\236\u0152\u015
6"+
 
"\u0156\312\236\u015C\u015E\u015C\u0156\236\236\236\236\u014E\236\236\220\u0
150"+
 
"\220\236\236\u0158\u0158\u0158\u0158\u0158\u0166\236\236\236\236\236\236\23
6"+
 
"\236\u014E\u0150\220\220\u015A\236\220\u015A\220\220\236\u0150\u015A\u015A"
+
 
"\220\236\u0150\u015A\236\220\u015A\236\220\220\220\220\u0150\220\236\236\u0
154"+
 
"\u014E\u015E\236\u0154\u015E\u0154\u0156\236\236\236\236\u015C\236\236\236"
+
 
"\236\236\236\236\u0168\u0158\u0158\u0158\u0158\u016A\u016C\236\236\236\236"
+
 
"\236\236\u015C\u0154\u0150\220\220\220\u015A\220\u015A\220\220\220\220\220"
+
 
"\220\220\220\220\220\220\u015A\220\220\220\220\220\u0150\220\220\236\236\31
2"+
 
"\u014E\u0154\u015E\312\u0106\312\312\236\236\236\u014C\u0106\236\236\236\23
6"+
 
"\220\236\236\u0158\u0158\u0158\u0158\u0158\236\236\236\236\236\236\236\236"
+
 
"\236\u0154\u0150\220\220\220\u015A\220\u015A\220\220\220\220\220\220\220\22
0"+
 
"\220\220\220\u015A\220\220\220\220\220\u0150\220\220\236\236\u0156\u0154\u0
154"+
 
"\u015E\u014E\u015E\u0154\312\236\236\236\u015C\u015E\236\236\236\u015A\220"
+
 
"\236\236\u0158\u0158\u0158\u0158\u0158\236\236\236\236\236\236\236\236\236"
+
 
"\u0154\u0150\220\220\220\u015A\220\u015A\220\220\220\220\220\220\220\220\22
0"+
 
"\220\220\u015A\220\220\220\220\220\220\220\220\236\236\u0154\u0156\312\236"
+
 
"\u0154\u015E\u0154\u0156\236\236\236\236\u015C\236\236\236\236\220\236\236"
+
 
"\u0158\u0158\u0158\u0158\u0158\236\236\236\236\236\236\236\236\u0150\220\22
0"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0"+
 
"\220\u016E\u0170\220\312\312\312\u0106\236\u0172\220\220\220\u0174\312\312"
+
 
"\312\u0176\u0178\u0178\u0178\u0178\u0178\314\236\236\236\236\236\236\236\23
6"+
 
"\236\236\236\236\236\236\236\236\236\236\u0150\u015A\u015A\u0150\u015A\u015
A"+
 
"\u0150\236\236\236\220\220\u0150\220\220\220\u0150\220\u0150\u0150\236\220"
+
 
"\u0150\u016E\u0170\220\312\312\312\u014C\u0152\236\220\220\u015A\316\312\31
2"+
 
"\312\236\u0178\u0178\u0178\u0178\u0178\236\220\236\236\236\236\236\236\236"
+
 
"\236\236\236\236\236\236\236\236\236\236\u017A\u017A\314\314\314\314\314\31
4"+
 
"\314\u017C\u017A\u017A\312\u017A\u017A\u017A\u017E\u017E\u017E\u017E\u017E"
+
 
"\u0180\u0180\u0180\u0180\u0180\u0104\u0104\u0104\u0182\u0182\u0154\220\220"
+
 
"\220\220\u0150\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220"
+
 
"\220\236\236\236\u014C\312\312\312\312\312\312\u014E\312\312\u0184\312\312"
+
 
"\312\236\236\312\312\312\u014C\u014C\312\312\312\312\312\312\312\312\312\31
2"+
 
"\236\u014C\312\312\312\u014C\236\236\236\236\236\236\236\236\236\236\236\23
6"+
 
"\236\236\236\236\236\236\236\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u011
0"+
 
"\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\236\236"
+
 
"\236\236\236\172\172\172\172\172\172\172\172\172\172\172\172\172\172\172\17
2"+
 
"\172\172\172\276\236\u011C\236\236\220\220\220\220\220\220\220\220\220\220"
+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\236\236\u0
150"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\u015A\236\236\220"
+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0"+
 
"\220\220\236\236\236\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4"+
 
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4"+
 
"\134\134\134\134\134\134\134\134\134\134\172\172\u0186\236\236\134\134\134"
+
 
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4"+
 
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4"+
 
"\134\134\134\134\236\236\236\u0188\u0188\u0188\u0188\u018A\u018A\u018A\u018
A"+
 
"\u0188\u0188\u0188\236\u018A\u018A\u018A\236\u0188\u0188\u0188\u0188\u018A"
+
 
"\u018A\u018A\u018A\u0188\u0188\u0188\u0188\u018A\u018A\u018A\u018A\u0188\u0
188"+
 
"\u0188\236\u018A\u018A\u018A\236\u018C\u018C\u018C\u018C\u018E\u018E\u018E"
+
 
"\u018E\u0188\u0188\u0188\u0188\u018A\u018A\u018A\u018A\u0190\u0192\u0192\u0
194"+
 
"\u0196\u0198\u019A\236\u0188\u0188\u0188\u0188\u018A\u018A\u018A\u018A\u018
8"+
 
"\u0188\u0188\u0188\u018A\u018A\u018A\u018A\u0188\u0188\u0188\u0188\u018A\u0
18A"+
 
"\u018A\u018A\u0188\u019C\276\172\u018A\u019E\u01A0\u01A2\306\u019C\276\172"
+
 
"\u01A4\u01A4\u01A0\306\u0188\172\236\172\u018A\u01A6\u01A8\306\u0188\172\u0
1AA"+
 
"\172\u018A\u01AC\u01AE\306\236\u019C\276\172\u01B0\u01B2\u01A0\310\u01B4\u0
1B4"+
 
"\u01B4\u01B6\u01B4\u01B4\u01B8\u01BA\u01BC\u01BC\u01BC\014\u01BE\u01C0\u01B
E"+
 
"\u01C0\014\014\014\014\u01C2\u01B8\u01B8\u01C4\u01C6\u01C6\u01C8\014\u01CA"
+
 
"\u01CC\014\u01CE\u01D0\014\u01D2\u01D4\236\236\236\236\236\236\236\236\236"
+
 
"\236\236\236\236\236\236\236\236\u01B8\u01B8\u01B8\u01D6\236\102\102\102\u0
1D8"+
 
"\u01D2\u01DA\u01DC\u01DC\u01DC\u01DC\u01DC\u01D8\u01D2\u01D4\236\236\236\23
6"+
 
"\236\236\236\236\064\064\064\064\064\064\u01DE\236\236\236\236\236\236\236"
+
 
"\236\236\236\236\236\236\236\236\236\236\312\312\312\312\312\312\u01E0\u01E
2"+
 
"\u01E4\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\066\u01E
6"+
 
"\066\u01E8\066\u01EA\u01EC\u01EE\u01EC\u01F0\u01E8\066\u01EC\u01EC\u01EC\06
6"+
 
"\066\066\u01E6\u01E6\u01E6\u01EC\u01EC\u01EE\u01EC\u01E8\u01F2\u01F4\u01F6"
+
 
"\236\236\236\236\236\236\236\236\236\236\236\236\u01F8\114\114\114\114\114"
+
 
"\u01FA\u01FC\u01FC\u01FC\u01FC\u01FC\u01FC\u01FE\u01FE\u0200\u0200\u0200\u0
200"+
 
"\u0200\u0200\u0202\u0202\u0204\u0206\236\236\236\236\236\236\u0208\u0208\u0
20A"+
 
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\06
6"+
 
"\066\066\066\066\066\066\066\066\066\066\066\u020A\u020A\066\066\066\066\06
6"+
 
"\066\066\066\066\066\u020C\236\236\236\236\236\236\236\236\236\236\u020E\u0
210"+
 
"\032\u0208\u0210\u0210\u0210\u0208\u020E\u01D8\u020E\032\u0208\u0210\u0210"
+
 
"\u020E\u0210\032\032\032\u0208\u020E\u0210\u0210\u0210\u0210\u0208\u0208\u0
20E"+
 
"\u020E\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\032\u0208\u0208\u021
0"+
 
"\u0210\u0208\u0208\u0208\u0208\u020E\032\032\u0210\u0210\u0210\u0210\u0208"
+
 
"\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0
210"+
 
"\u0210\u0210\032\u020E\u0210\032\u0208\u0208\032\u0208\u0208\u0208\u0208\u0
210"+
 
"\u0208\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\032\u0208\u020
8"+
 
"\u0210\u0208\u0208\u0208\u0208\u020E\u0210\u0210\u0208\u0210\u0208\u0208\u0
210"+
 
"\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0208\u0
210"+
 
"\236\236\236\236\236\236\236\u020C\066\066\066\u0210\u0210\066\066\066\066"
+
 
"\066\066\066\066\066\066\u0210\066\066\066\u0212\u0214\066\066\066\066\066"
+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0
17A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0
17A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0166\236\236\066\066\066"
+
 
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\u020C\236\236"
+
 
"\236\236\236\236\236\236\236\236\236\236\236\066\066\066\066\066\u020C\236"
+
 
"\236\236\236\236\236\236\236\236\236\u0216\u0216\u0216\u0216\u0216\u0216\u0
216"+
 
"\u0216\u0216\u0216\u0218\u0218\u0218\u0218\u0218\u0218\u0218\u0218\u0218\u0
218"+
 
"\u021A\u021A\u021A\u021A\u021A\u021A\u021A\u021A\u021A\u021A\066\066\066\06
6"+
 
"\066\066\066\066\066\066\066\066\066\u021C\u021C\u021C\u021C\u021C\u021C\u0
21C"+
 
"\u021C\u021C\u021C\u021C\u021C\u021C\u021E\u021E\u021E\u021E\u021E\u021E\u0
21E"+
 
"\u021E\u021E\u021E\u021E\u021E\u021E\u0220\236\236\236\236\236\236\236\236"
+
 
"\236\236\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\06
6"+
 
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\06
6"+
 
"\066\066\066\066\066\066\066\236\236\236\236\236\066\066\066\066\066\066\06
6"+
 
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\06
6"+
 
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\236\236\236\236\23
6"+
 
"\236\236\236\066\066\066\066\066\066\066\066\066\066\236\236\236\066\066\06
6"+
 
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\u0222\066"
+
 
"\u020C\066\066\236\066\066\066\066\066\066\066\066\066\066\066\066\066\066"
+
 
"\u0222\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066"
+
 
"\u0222\u0222\066\u020C\236\u020C\066\066\066\u020C\u0222\066\066\066\236\23
6"+
 
"\236\236\236\236\236\u0224\u0224\u0224\u0224\u0224\u0216\u0216\u0216\u0216"
+
 
"\u0216\u0226\u0226\u0226\u0226\u0226\u020C\236\066\066\066\066\066\066\066"
+
 
"\066\066\066\066\066\u0222\066\066\066\066\066\066\u020C\006\014\u0228\u022
A"+
 
"\016\016\016\016\016\066\016\016\016\016\u022C\u022E\u0230\u0232\u0232\u023
2"+
 
"\u0232\312\312\312\u0234\u0236\u0236\066\236\236\236\u0222\u0150\220\220\22
0"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0"+
 
"\u015A\236\u014C\u0238\300\316\u0150\220\220\220\220\220\220\220\220\220\22
0"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0"+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\u016E\300\316"
+
 
"\236\236\u0150\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220"
+
 
"\220\220\220\220\u015A\236\u0150\220\220\220\220\220\220\220\220\220\220\22
0"+
 
"\220\220\220\u015A\u017A\u0180\u0180\u017A\u017A\u017A\u017A\u017A\236\236"
+
 
"\236\236\236\236\236\236\236\236\236\236\236\236\236\236\u017A\u017A\u017A"
+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0166\23
6"+
 
"\u0180\u0180\u0180\u0180\u0180\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0
17A"+
 
"\u017A\u017A\u017A\u017A\u017A\236\236\236\236\236\236\236\236\236\236\236"
+
 
"\236\236\236\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0
17A"+
 
"\u017A\u017A\u017A\236\u023A\u023C\u023C\u023C\u023C\u023C\u017A\u017A\u017
A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0
17A"+
 
"\u017A\u017A\u017A\u0166\236\236\236\236\236\236\236\u017A\u017A\u017A\u017
A"+
 
"\u017A\u017A\236\236\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A"
+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0
17A"+
 
"\u017A\u0166\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0
17A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0
17A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0
17A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0
17A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0166\236\u023A\u017
A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0
17A"+
 
"\u017A\u017A\u017A\236\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A"+
 
"\u017A\u017A\u017A\u017A\u017A\u017A\u0166\220\220\220\220\220\220\220\220"
+
 
"\220\220\220\220\220\220\220\220\220\220\220\236\236\236\236\236\236\236\23
6"+
 
"\236\236\236\236\236\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0"+
 
"\220\220\220\220\236\236\236\236\236\236\236\236\236\236\236\236\236\236\u0
23E"+
 
"\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u0
23E"+
 
"\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u0
23E"+
 
"\u023E\u023E\u023E\u023E\u023E\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0
240"+
 
"\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0
240"+
 
"\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\220\220"
+
 
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0"+
 
"\220\220\236\236\236\236\236\236\236\236\236\172\172\172\276\236\236\236\23
6"+
 
"\236\u0242\172\172\236\236\236\u013E\u0128\u0128\u0128\u0128\u0244\u0128\u0
128"+
 
"\u0128\u0128\u0128\u0128\u012A\u0128\u0128\u012A\u012A\u0128\u0132\u012A\u0
128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
128"+
 
"\u0128\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\u013
2"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u01BE\236\236\236\236\236\236\23
6"+
 
"\236\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\236\u0128\u0128\u0128\u0128\u012
8"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\236\236\236\236\236"
+
 
"\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\u0128\u0128\u0
128"+
 
"\u0128\u0128\u0128\236\236\236\236\236\236\236\236\236\236\236\236\236\236"
+
 
"\236\236\236\236\u0246\u0246\236\236\236\236\236\236\u0248\u024A\u024C\u024
E"+
 
"\u024E\u024E\u024E\u024E\u024E\u024E\u0250\236\u0252\014\u01CE\u0254\014\u0
256"+
 
"\014\014\u022C\u024E\u024E\u01CC\014\074\u0208\u0258\u025A\014\236\236\u012
8"+
 
"\u012A\u012A\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
128"+
 
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012A\u0
25C"+
 
"\u0252\014\u025E\014\u01BE\u0260\u0248\014\026\026\026\026\026\014\u0208\u0
262"+
 
"\036\040\040\040\040\040\040\040\040\040\040\040\040\u0264\u0266\046\050\05
2"+
 
"\052\052\052\052\052\052\052\052\052\052\052\u0268\u026A\u0258\u0252\u01BE"
+
 
"\u026C\220\220\220\220\220\u026E\220\220\220\220\220\220\220\220\220\220\22
0"+
 
"\220\220\220\220\220\220\220\220\220\220\220\300\220\220\220\220\220\220\22
0"+
 
"\220\220\220\220\220\220\220\220\u015A\236\220\220\220\236\220\220\220\236"
+
 
"\220\220\220\236\220\u015A\236\u0270\u0272\u0274\u0276\u0208\u0208\u020A\u0
20C"+
    "\236\236\236\236\236\236\066\236";
 

Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From abreneliere at telys.com  Thu Feb 20 08:42:58 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] ...  my error rose a syntactic predicate problem in tree parsers
In-Reply-To: <170826586F3BD511910D0200C110AAA80540217F@memail03.bco-home.com>
Message-ID: <002101c2d8ff$206d9db0$cb646464@lavaserver>

Yes, the syntactic predicate was only needed when i had that
non-determinism error.

So i added a syntactic predicate because i had the set rule that was
identified with the token R_ENT instead of the token R_SET.

But yes, a tree should be done in a way with no needed syntactic
predicate.

Cheers,
Anthony


> I avoid syntactic predicates in my tree parser by rearranging my tree
and
> using imaginary node types when appropriate.  You should not need a
rule
> like this:
> entOrSet
> 	:	( R_ENT )=> entity
> 	|	( R_SET )=> set
> ;
> 
> This should work fine:
> 
> entOrSet
> 	:	entity
> 	|	set
> ;
> 
> Monty
> 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Trey.Spiva at embarcadero.com  Thu Feb 20 09:14:27 2003
From: Trey.Spiva at embarcadero.com (Trey Spiva)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Stack Overflow Probem
Message-ID: <5DEEF5A894731F4B92D58E2FC37EB28A090EC8@etdema1.embarcadero.com>

The problem is that the code snippet that I gave is only one example.  I
have also run across source samples that do something like:

A().B().C().D().E()

So the tree ends up like
( < Mehtod Call >
  . < Identifier >
     ( < Method Call >
        . < Identifier >
           (< Method Call >
              . < Identifier >
                 ( <Method Call>
  	              . < Identifier >
                       A
                          ELIST
                       B
                 C
           D
     E

The above example is not an issue.  However, I have seen much larger
examples that will blow the stack (admitted all examples that I have
seen has been auto-created code, why would anybody ever generate code
like this I do not know).

> -----Original Message-----
> From: mzukowski@yci.com [mailto:mzukowski@yci.com]
> Sent: Thursday, February 20, 2003 9:35 AM
> To: antlr-interest@yahoogroups.com
> Subject: RE: [antlr-interest] Stack Overflow Probem
> 
> You could modify the addition rule to automatically concatenate two
> strings
> when added together. So instead of building a '+' tree you would
recognize
> that case and return a STRING.
> 
> Or you could use a closure like ("+" multExp)* and have '+' be n-ary
> instead
> of binary.  That may have wider repercussions, though.  If you try it
let
> me
> know the problems you encounter.
> 
> Monty
> 
> -----Original Message-----
> From: Trey Spiva [mailto:Trey.Spiva@embarcadero.com]
> Sent: Thursday, February 20, 2003 8:02 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Stack Overflow Probem
> 
> 
> I am using the java grammar to parse the JDK to generate a C++ parser.
> When
> I try to parser Character.java I stack overflow exception is thrown
when
> using the tree parser to parse the AST returned by the recognizer.
> 
> Does any body have any idea of how to solve this problem (I prefer to
not
> have to increase the stack size).
> 
> The problem code is:
> 
> // The Y table has 4032 entries for a total of 8064 bytes.
> 
>   private static final short Y[] = new short[4032];
>   private static final String Y_DATA =
> 
>
"\000\000\000\000\002\004\004\000\000\000\000\000\000\000\004\004\006\01
0\
> 01
> 2"+
> 
>
"\014\016\020\022\024\026\026\026\026\026\030\032\034\036\040\040\040\04
0\
> 04
> 0"+
> 
>
"\040\040\040\040\040\040\040\042\044\046\050\052\052\052\052\052\052\05
2\
> 05
> 2"+
> 
>
"\052\052\052\052\054\056\060\000\000\000\000\000\000\000\000\000\000\00
0\
> 00
> 0"+
> 
>
"\000\000\000\000\062\064\064\066\070\072\074\076\100\102\104\106\110\11
2\
> 11
> 4"+
> 
>
"\116\120\120\120\120\120\120\120\120\120\120\120\122\120\120\120\124\12
6\
> 12
> 6"+
> 
>
"\126\126\126\126\126\126\126\126\126\130\126\126\126\132\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\136\134\134\134\140\142\142\142\142\142\142\142\144\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\14
6\
> 14
> 2"+
> 
>
"\142\150\152\134\134\154\156\160\144\162\164\156\166\170\134\172\174\17
6\
> 13
> 4"+
> 
>
"\134\134\200\202\204\134\206\210\212\142\214\134\216\134\220\220\220\22
2\
> 22
> 4"+
> 
>
"\226\222\230\142\142\142\142\142\142\142\232\134\134\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\234\226\134\236\236\134\134\134\134\134\134\134\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\134\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\236\236\236\236\236\236\172\240\242\244\246\250\17
2\
> 17
> 2"+
> 
>
"\252\254\172\172\256\172\172\260\172\262\264\172\172\172\172\172\172\26
6\
> 17
> 2"+
> 
>
"\172\270\272\172\172\172\274\172\172\172\172\172\172\172\172\172\172\27
6\
> 23
> 6"+
> 
>
"\236\236\300\300\300\300\302\304\300\300\300\306\306\306\306\306\306\30
6\
> 30
> 0"+
> 
>
"\306\306\306\306\306\306\310\300\300\302\306\306\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\312\312\312\312\312\312\312\312\312\312\312\312\312\31
2\
> 31
> 2"+
> 
>
"\312\312\312\312\312\312\312\312\312\312\312\312\312\312\312\312\312\31
2\
> 31
> 2"+
> 
>
"\312\236\236\236\236\236\236\236\236\236\236\236\236\236\312\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\314\236\236\316\236\320\236\236\306\322\324\326\33
0\
> 33
> 2"+
> 
>
"\334\120\120\120\120\120\120\120\120\336\120\120\120\120\340\342\344\12
6\
> 12
> 6"+
> 
>
"\126\126\126\126\126\126\346\126\126\126\126\350\352\354\356\360\362\23
6\
> 36
> 4"+
> 
>
"\364\364\364\134\134\134\134\134\134\134\366\216\236\236\236\236\236\23
6\
> 37
> 0"+
> 
>
"\372\372\372\372\372\374\372\120\120\120\120\120\120\120\120\120\120\12
0\
> 12
> 0"+
> 
>
"\120\120\120\120\126\126\126\126\126\126\126\126\126\126\126\126\126\12
6\
> 12
> 6"+
> 
>
"\126\376\u0100\u0100\u0100\u0100\u0100\u0102\u0100\134\134\134\134\134\
13
> 4"
> +
> 
>
"\134\134\134\134\134\134\134\134\134\134\134\u0104\312\u0106\236\236\23
6\
> 23
> 6"+
> 
>
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\134\134\134\134\u0108\142\u010A\u010C\u010A\u010C\u010A\236\134\13
4\
> 13
> 4"+
> 
>
"\134\134\134\134\134\134\134\134\134\134\134\236\134\134\134\134\236\13
4\
> 23
> 6"+
> 
>
"\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\236\236\u010E\u0110\u0110\u0110\u0110\u0110\u0110\
u0
> 11
> 0"+
> 
>
"\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u011
2\
> u0
> 114"+
> 
>
"\314\314\314\u0116\u0118\u0118\u0118\u0118\u0118\u0118\u0118\u0118\u011
8\
> u0
> 118"+
> 
>
"\u0118\u0118\u0118\u0118\u0118\u0118\u0118\u0118\u011A\u011C\236\236\23
6\
> u0
> 11E"+
> 
>
"\u0120\u0120\u0120\u0120\u0120\u0120\u0120\u0120\u011E\u0120\u0120\u012
0\
> u0
> 120"+
> 
>
"\u0120\u0120\u0120\u0120\u0120\u0120\u0120\u011E\u0120\u0122\u0122\u012
4\
> u0
> 126"+
> 
>
"\236\236\236\236\236\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
12
> 8"
> +
> 
>
"\u0128\u0128\u0128\u0128\u012A\236\236\u0128\u012C\u012E\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\236\u012E\236\236\236\236\236\236\u0130\236\u0130\
u0
> 13
> 2"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 12A"+
> 
>
"\236\236\u0134\u0128\u0128\u0128\u0128\u0136\u0120\u0120\u0120\u0126\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\u0138\u0138\u0138\u0138\u0138\u013A\u013C\236\u013E\u0
12
> 8"
> +
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\236\u0128\u0128\u012A\
u0
> 12
> 8"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u012A\u0128\u0128\u0140\u0120\u012
0\
> u0
> 120"+
> 
>
"\u0142\u0144\u0120\u0120\u0146\u0148\u014A\u0120\u0120\236\026\026\026\
02
> 6"
> +
> 
>
"\026\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\u0
14
> C"
> +
> 
>
"\u014E\u0150\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\236\u0152\u0154\u0156\312\312\
31
> 2"
> +
> 
>
"\u014E\u0154\u0156\236\u0104\312\u0106\236\220\220\220\220\220\312\314\
u0
> 15
> 8"+
> 
>
"\u0158\u0158\u0158\u0158\320\236\236\236\236\236\236\236\u014C\u0154\u0
15
> 0"
> +
> 
>
"\220\220\220\u015A\u0150\u015A\u0150\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\u015A\220\220\220\u015A\u015A\236\220\220\236\u0106\u0154\u0156\312\u0
10
> 6"
> +
> 
>
"\u015C\u015E\u015C\u0156\236\236\236\236\u015C\236\236\220\u0150\220\31
2\
> 23
> 6"+
> 
>
"\u0158\u0158\u0158\u0158\u0158\220\u0160\u0162\u0162\u0164\u0166\236\23
6\
> 23
> 6"+
> 
>
"\u0106\u0150\220\220\u015A\236\u0150\u015A\u0150\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\u015A\220\220\220\u015A\220\u0150\u015A\220\236\u0106\u015
4\
> u0
> 156"+
> 
>
"\u0106\236\u014C\u0106\u014C\312\236\236\236\236\236\u0150\220\u015A\u0
15
> A"
> +
> 
>
"\236\236\236\u0158\u0158\u0158\u0158\u0158\312\220\u015A\236\236\236\23
6\
> 23
> 6"+
> 
>
"\u014C\u014E\u0150\220\220\220\u0150\u0150\220\u0150\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\u015A\220\220\220\u015A\220\u0150\220\220\236\u0152\u0
15
> 4"
> +
> 
>
"\u0156\312\312\u014C\u014E\u015C\u0156\236\u0166\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\u015A\236\236\u0158\u0158\u0158\u0158\u0158\236\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\u014C\u0154\u0150\220\220\220\u015A\u0150\u015A\u0150\220\220\220\220\
22
> 0"
> +
> 
>
"\220\220\220\220\220\u015A\220\220\220\u015A\220\236\220\220\236\u0152\
u0
> 15
> 6"+
> 
>
"\u0156\312\236\u015C\u015E\u015C\u0156\236\236\236\236\u014E\236\236\22
0\
> u0
> 150"+
> 
>
"\220\236\236\u0158\u0158\u0158\u0158\u0158\u0166\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\u014E\u0150\220\220\u015A\236\220\u015A\220\220\236\u0150\u015A\u0
15
> A"
> +
> 
>
"\220\236\u0150\u015A\236\220\u015A\236\220\220\220\220\u0150\220\236\23
6\
> u0
> 154"+
> 
>
"\u014E\u015E\236\u0154\u015E\u0154\u0156\236\236\236\236\u015C\236\236\
23
> 6"
> +
> 
>
"\236\236\236\236\u0168\u0158\u0158\u0158\u0158\u016A\u016C\236\236\236\
23
> 6"
> +
> 
>
"\236\236\u015C\u0154\u0150\220\220\220\u015A\220\u015A\220\220\220\220\
22
> 0"
> +
> 
>
"\220\220\220\220\220\220\u015A\220\220\220\220\220\u0150\220\220\236\23
6\
> 31
> 2"+
> 
>
"\u014E\u0154\u015E\312\u0106\312\312\236\236\236\u014C\u0106\236\236\23
6\
> 23
> 6"+
> 
>
"\220\236\236\u0158\u0158\u0158\u0158\u0158\236\236\236\236\236\236\236\
23
> 6"
> +
> 
>
"\236\u0154\u0150\220\220\220\u015A\220\u015A\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\u015A\220\220\220\220\220\u0150\220\220\236\236\u0156\u015
4\
> u0
> 154"+
> 
>
"\u015E\u014E\u015E\u0154\312\236\236\236\u015C\u015E\236\236\236\u015A\
22
> 0"
> +
> 
>
"\236\236\u0158\u0158\u0158\u0158\u0158\236\236\236\236\236\236\236\236\
23
> 6"
> +
> 
>
"\u0154\u0150\220\220\220\u015A\220\u015A\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\u015A\220\220\220\220\220\220\220\220\236\236\u0154\u0156\312\
23
> 6"
> +
> 
>
"\u0154\u015E\u0154\u0156\236\236\236\236\u015C\236\236\236\236\220\236\
23
> 6"
> +
> 
>
"\u0158\u0158\u0158\u0158\u0158\236\236\236\236\236\236\236\236\u0150\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\u016E\u0170\220\312\312\312\u0106\236\u0172\220\220\220\u0174\312\
31
> 2"
> +
> 
>
"\312\u0176\u0178\u0178\u0178\u0178\u0178\314\236\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\236\236\236\236\236\u0150\u015A\u015A\u0150\u015A\
u0
> 15
> A"+
> 
>
"\u0150\236\236\236\220\220\u0150\220\220\220\u0150\220\u0150\u0150\236\
22
> 0"
> +
> 
>
"\u0150\u016E\u0170\220\312\312\312\u014C\u0152\236\220\220\u015A\316\31
2\
> 31
> 2"+
> 
>
"\312\236\u0178\u0178\u0178\u0178\u0178\236\220\236\236\236\236\236\236\
23
> 6"
> +
> 
>
"\236\236\236\236\236\236\236\236\236\236\u017A\u017A\314\314\314\314\31
4\
> 31
> 4"+
> 
>
"\314\u017C\u017A\u017A\312\u017A\u017A\u017A\u017E\u017E\u017E\u017E\u0
17
> E"
> +
> 
>
"\u0180\u0180\u0180\u0180\u0180\u0104\u0104\u0104\u0182\u0182\u0154\220\
22
> 0"
> +
> 
>
"\220\220\u0150\220\220\220\220\220\220\220\220\220\220\220\220\220\220\
22
> 0"
> +
> 
>
"\220\236\236\236\u014C\312\312\312\312\312\312\u014E\312\312\u0184\312\
31
> 2"
> +
> 
>
"\312\236\236\312\312\312\u014C\u014C\312\312\312\312\312\312\312\312\31
2\
> 31
> 2"+
> 
>
"\236\u014C\312\312\312\u014C\236\236\236\236\236\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\236\236\u0110\u0110\u0110\u0110\u0110\u0110\u0110\
u0
> 11
> 0"+
> 
>
"\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\236\
23
> 6"
> +
> 
>
"\236\236\236\172\172\172\172\172\172\172\172\172\172\172\172\172\172\17
2\
> 17
> 2"+
> 
>
"\172\172\172\276\236\u011C\236\236\220\220\220\220\220\220\220\220\220\
22
> 0"
> +
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\236\23
6\
> u0
> 150"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\u015A\236\236\
22
> 0"
> +
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\236\236\236\134\134\134\134\134\134\134\134\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\134\134\134\134\134\134\134\134\134\172\172\u0186\236\236\134\134\
13
> 4"
> +
> 
>
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\134\134\134\236\236\236\u0188\u0188\u0188\u0188\u018A\u018A\u018A\
u0
> 18
> A"+
> 
>
"\u0188\u0188\u0188\236\u018A\u018A\u018A\236\u0188\u0188\u0188\u0188\u0
18
> A"
> +
> 
>
"\u018A\u018A\u018A\u0188\u0188\u0188\u0188\u018A\u018A\u018A\u018A\u018
8\
> u0
> 188"+
> 
>
"\u0188\236\u018A\u018A\u018A\236\u018C\u018C\u018C\u018C\u018E\u018E\u0
18
> E"
> +
> 
>
"\u018E\u0188\u0188\u0188\u0188\u018A\u018A\u018A\u018A\u0190\u0192\u019
2\
> u0
> 194"+
> 
>
"\u0196\u0198\u019A\236\u0188\u0188\u0188\u0188\u018A\u018A\u018A\u018A\
u0
> 18
> 8"+
> 
>
"\u0188\u0188\u0188\u018A\u018A\u018A\u018A\u0188\u0188\u0188\u0188\u018
A\
> u0
> 18A"+
> 
>
"\u018A\u018A\u0188\u019C\276\172\u018A\u019E\u01A0\u01A2\306\u019C\276\
17
> 2"
> +
> 
>
"\u01A4\u01A4\u01A0\306\u0188\172\236\172\u018A\u01A6\u01A8\306\u0188\17
2\
> u0
> 1AA"+
> 
>
"\172\u018A\u01AC\u01AE\306\236\u019C\276\172\u01B0\u01B2\u01A0\310\u01B
4\
> u0
> 1B4"+
> 
>
"\u01B4\u01B6\u01B4\u01B4\u01B8\u01BA\u01BC\u01BC\u01BC\014\u01BE\u01C0\
u0
> 1B
> E"+
> 
>
"\u01C0\014\014\014\014\u01C2\u01B8\u01B8\u01C4\u01C6\u01C6\u01C8\014\u0
1C
> A"
> +
> 
>
"\u01CC\014\u01CE\u01D0\014\u01D2\u01D4\236\236\236\236\236\236\236\236\
23
> 6"
> +
> 
>
"\236\236\236\236\236\236\236\236\u01B8\u01B8\u01B8\u01D6\236\102\102\10
2\
> u0
> 1D8"+
> 
>
"\u01D2\u01DA\u01DC\u01DC\u01DC\u01DC\u01DC\u01D8\u01D2\u01D4\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\064\064\064\064\064\064\u01DE\236\236\236\236\236\236\
23
> 6"
> +
> 
>
"\236\236\236\236\236\236\236\236\236\236\312\312\312\312\312\312\u01E0\
u0
> 1E
> 2"+
> 
>
"\u01E4\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\066\
u0
> 1E
> 6"+
> 
>
"\066\u01E8\066\u01EA\u01EC\u01EE\u01EC\u01F0\u01E8\066\u01EC\u01EC\u01E
C\
> 06
> 6"+
> 
>
"\066\066\u01E6\u01E6\u01E6\u01EC\u01EC\u01EE\u01EC\u01E8\u01F2\u01F4\u0
1F
> 6"
> +
> 
>
"\236\236\236\236\236\236\236\236\236\236\236\236\u01F8\114\114\114\114\
11
> 4"
> +
> 
>
"\u01FA\u01FC\u01FC\u01FC\u01FC\u01FC\u01FC\u01FE\u01FE\u0200\u0200\u020
0\
> u0
> 200"+
> 
>
"\u0200\u0200\u0202\u0202\u0204\u0206\236\236\236\236\236\236\u0208\u020
8\
> u0
> 20A"+
> 
>
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\06
6\
> 06
> 6"+
> 
>
"\066\066\066\066\066\066\066\066\066\066\066\u020A\u020A\066\066\066\06
6\
> 06
> 6"+
> 
>
"\066\066\066\066\066\u020C\236\236\236\236\236\236\236\236\236\236\u020
E\
> u0
> 210"+
> 
>
"\032\u0208\u0210\u0210\u0210\u0208\u020E\u01D8\u020E\032\u0208\u0210\u0
21
> 0"
> +
> 
>
"\u020E\u0210\032\032\032\u0208\u020E\u0210\u0210\u0210\u0210\u0208\u020
8\
> u0
> 20E"+
> 
>
"\u020E\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\032\u0208\u0208\
u0
> 21
> 0"+
> 
>
"\u0210\u0208\u0208\u0208\u0208\u020E\032\032\u0210\u0210\u0210\u0210\u0
20
> 8"
> +
> 
>
"\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u021
0\
> u0
> 210"+
> 
>
"\u0210\u0210\032\u020E\u0210\032\u0208\u0208\032\u0208\u0208\u0208\u020
8\
> u0
> 210"+
> 
>
"\u0208\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\032\u0208\
u0
> 20
> 8"+
> 
>
"\u0210\u0208\u0208\u0208\u0208\u020E\u0210\u0210\u0208\u0210\u0208\u020
8\
> u0
> 210"+
> 
>
"\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u020
8\
> u0
> 210"+
> 
>
"\236\236\236\236\236\236\236\u020C\066\066\066\u0210\u0210\066\066\066\
06
> 6"
> +
> 
>
"\066\066\066\066\066\066\u0210\066\066\066\u0212\u0214\066\066\066\066\
06
> 6"
> +
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0166\236\236\066\066\
06
> 6"
> +
> 
>
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\u020C\236\
23
> 6"
> +
> 
>
"\236\236\236\236\236\236\236\236\236\236\236\066\066\066\066\066\u020C\
23
> 6"
> +
> 
>
"\236\236\236\236\236\236\236\236\236\u0216\u0216\u0216\u0216\u0216\u021
6\
> u0
> 216"+
> 
>
"\u0216\u0216\u0216\u0218\u0218\u0218\u0218\u0218\u0218\u0218\u0218\u021
8\
> u0
> 218"+
> 
>
"\u021A\u021A\u021A\u021A\u021A\u021A\u021A\u021A\u021A\u021A\066\066\06
6\
> 06
> 6"+
> 
>
"\066\066\066\066\066\066\066\066\066\u021C\u021C\u021C\u021C\u021C\u021
C\
> u0
> 21C"+
> 
>
"\u021C\u021C\u021C\u021C\u021C\u021C\u021E\u021E\u021E\u021E\u021E\u021
E\
> u0
> 21E"+
> 
>
"\u021E\u021E\u021E\u021E\u021E\u021E\u0220\236\236\236\236\236\236\236\
23
> 6"
> +
> 
>
"\236\236\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\06
6\
> 06
> 6"+
> 
>
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\06
6\
> 06
> 6"+
> 
>
"\066\066\066\066\066\066\066\236\236\236\236\236\066\066\066\066\066\06
6\
> 06
> 6"+
> 
>
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\06
6\
> 06
> 6"+
> 
>
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\066\066\066\066\066\066\066\066\066\066\236\236\236\066\06
6\
> 06
> 6"+
> 
>
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\u0222\
06
> 6"
> +
> 
>
"\u020C\066\066\236\066\066\066\066\066\066\066\066\066\066\066\066\066\
06
> 6"
> +
> 
>
"\u0222\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\
06
> 6"
> +
> 
>
"\u0222\u0222\066\u020C\236\u020C\066\066\066\u020C\u0222\066\066\066\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\u0224\u0224\u0224\u0224\u0224\u0216\u0216\u0216\u0
21
> 6"
> +
> 
>
"\u0216\u0226\u0226\u0226\u0226\u0226\u020C\236\066\066\066\066\066\066\
06
> 6"
> +
> 
>
"\066\066\066\066\066\u0222\066\066\066\066\066\066\u020C\006\014\u0228\
u0
> 22
> A"+
> 
>
"\016\016\016\016\016\066\016\016\016\016\u022C\u022E\u0230\u0232\u0232\
u0
> 23
> 2"+
> 
>
"\u0232\312\312\312\u0234\u0236\u0236\066\236\236\236\u0222\u0150\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\u015A\236\u014C\u0238\300\316\u0150\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\u016E\300\
31
> 6"
> +
> 
>
"\236\236\u0150\220\220\220\220\220\220\220\220\220\220\220\220\220\220\
22
> 0"
> +
> 
>
"\220\220\220\220\u015A\236\u0150\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\u015A\u017A\u0180\u0180\u017A\u017A\u017A\u017A\u017A\236\
23
> 6"
> +
> 
>
"\236\236\236\236\236\236\236\236\236\236\236\236\236\236\u017A\u017A\u0
17
> A"
> +
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u016
6\
> 23
> 6"+
> 
>
"\u0180\u0180\u0180\u0180\u0180\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\236\236\236\236\236\236\236\236\236\236\
23
> 6"
> +
> 
>
"\236\236\236\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\236\u023A\u023C\u023C\u023C\u023C\u023C\u017A\u017A\
u0
> 17
> A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\u0166\236\236\236\236\236\236\236\u017A\u017A\u017A\
u0
> 17
> A"+
> 
>
"\u017A\u017A\236\236\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0
17
> A"
> +
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u0166\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0166\236\u023A\
u0
> 17
> A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\236\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\
u0
> 17
> A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u0166\220\220\220\220\220\220\220\
22
> 0"
> +
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\236\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\236\236\236\236\236\236\236\236\236\236\236\236\236\23
6\
> u0
> 23E"+
> 
>
"\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023
E\
> u0
> 23E"+
> 
>
"\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023
E\
> u0
> 23E"+
> 
>
"\u023E\u023E\u023E\u023E\u023E\u0240\u0240\u0240\u0240\u0240\u0240\u024
0\
> u0
> 240"+
> 
>
"\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u024
0\
> u0
> 240"+
> 
>
"\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\220\
22
> 0"
> +
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\236\236\236\236\236\236\236\236\236\172\172\172\276\236\236\23
6\
> 23
> 6"+
> 
>
"\236\u0242\172\172\236\236\236\u013E\u0128\u0128\u0128\u0128\u0244\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u012A\u0128\u0128\u012A\u012A\u0128\u0132\u012
A\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\
u0
> 13
> 2"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u01BE\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\
u0
> 12
> 8"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\236\u0128\u0128\u0128\u0128\
u0
> 12
> 8"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\236\236\236\236\
23
> 6"
> +
> 
>
"\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\236\236\236\236\236\236\236\236\236\236\236\236\236\
23
> 6"
> +
> 
>
"\236\236\236\236\u0246\u0246\236\236\236\236\236\236\u0248\u024A\u024C\
u0
> 24
> E"+
> 
>
"\u024E\u024E\u024E\u024E\u024E\u024E\u0250\236\u0252\014\u01CE\u0254\01
4\
> u0
> 256"+
> 
>
"\014\014\u022C\u024E\u024E\u01CC\014\074\u0208\u0258\u025A\014\236\236\
u0
> 12
> 8"+
> 
>
"\u012A\u012A\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
A\
> u0
> 25C"+
> 
>
"\u0252\014\u025E\014\u01BE\u0260\u0248\014\026\026\026\026\026\014\u020
8\
> u0
> 262"+
> 
>
"\036\040\040\040\040\040\040\040\040\040\040\040\040\u0264\u0266\046\05
0\
> 05
> 2"+
> 
>
"\052\052\052\052\052\052\052\052\052\052\052\u0268\u026A\u0258\u0252\u0
1B
> E"
> +
> 
>
"\u026C\220\220\220\220\220\u026E\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\300\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\u015A\236\220\220\220\236\220\220\220\
23
> 6"
> +
> 
>
"\220\220\220\236\220\u015A\236\u0270\u0272\u0274\u0276\u0208\u0208\u020
A\
> u0
> 20C"+
>     "\236\236\236\236\236\236\066\236";
> 
> 
> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
> 
> 
> 
> Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/
> 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Thu Feb 20 09:24:43 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Stack Overflow Probem
Message-ID: <170826586F3BD511910D0200C110AAA805402182@memail03.bco-home.com>

Still the solution is to not nest the tree so deeply, or to increase your
stack size, or to write a tree parser generator that maintains its own stack
and doesn't use one method call per rule.  Probably not too many people
would want to do the latter, but if you've got the money I've got the
time...

What other examples of the stack overflowing do you have?

Monty

-----Original Message-----
From: Trey Spiva [mailto:Trey.Spiva@embarcadero.com]
Sent: Thursday, February 20, 2003 9:14 AM
To: antlr-interest@yahoogroups.com
Subject: RE: [antlr-interest] Stack Overflow Probem


The problem is that the code snippet that I gave is only one example.  I
have also run across source samples that do something like:

A().B().C().D().E()

So the tree ends up like
( < Mehtod Call >
  . < Identifier >
     ( < Method Call >
        . < Identifier >
           (< Method Call >
              . < Identifier >
                 ( <Method Call>
  	              . < Identifier >
                       A
                          ELIST
                       B
                 C
           D
     E

The above example is not an issue.  However, I have seen much larger
examples that will blow the stack (admitted all examples that I have
seen has been auto-created code, why would anybody ever generate code
like this I do not know).

> -----Original Message-----
> From: mzukowski@yci.com [mailto:mzukowski@yci.com]
> Sent: Thursday, February 20, 2003 9:35 AM
> To: antlr-interest@yahoogroups.com
> Subject: RE: [antlr-interest] Stack Overflow Probem
> 
> You could modify the addition rule to automatically concatenate two
> strings
> when added together. So instead of building a '+' tree you would
recognize
> that case and return a STRING.
> 
> Or you could use a closure like ("+" multExp)* and have '+' be n-ary
> instead
> of binary.  That may have wider repercussions, though.  If you try it
let
> me
> know the problems you encounter.
> 
> Monty
> 
> -----Original Message-----
> From: Trey Spiva [mailto:Trey.Spiva@embarcadero.com]
> Sent: Thursday, February 20, 2003 8:02 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Stack Overflow Probem
> 
> 
> I am using the java grammar to parse the JDK to generate a C++ parser.
> When
> I try to parser Character.java I stack overflow exception is thrown
when
> using the tree parser to parse the AST returned by the recognizer.
> 
> Does any body have any idea of how to solve this problem (I prefer to
not
> have to increase the stack size).
> 
> The problem code is:
> 
> // The Y table has 4032 entries for a total of 8064 bytes.
> 
>   private static final short Y[] = new short[4032];
>   private static final String Y_DATA =
> 
>
"\000\000\000\000\002\004\004\000\000\000\000\000\000\000\004\004\006\01
0\
> 01
> 2"+
> 
>
"\014\016\020\022\024\026\026\026\026\026\030\032\034\036\040\040\040\04
0\
> 04
> 0"+
> 
>
"\040\040\040\040\040\040\040\042\044\046\050\052\052\052\052\052\052\05
2\
> 05
> 2"+
> 
>
"\052\052\052\052\054\056\060\000\000\000\000\000\000\000\000\000\000\00
0\
> 00
> 0"+
> 
>
"\000\000\000\000\062\064\064\066\070\072\074\076\100\102\104\106\110\11
2\
> 11
> 4"+
> 
>
"\116\120\120\120\120\120\120\120\120\120\120\120\122\120\120\120\124\12
6\
> 12
> 6"+
> 
>
"\126\126\126\126\126\126\126\126\126\130\126\126\126\132\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\136\134\134\134\140\142\142\142\142\142\142\142\144\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\14
6\
> 14
> 2"+
> 
>
"\142\150\152\134\134\154\156\160\144\162\164\156\166\170\134\172\174\17
6\
> 13
> 4"+
> 
>
"\134\134\200\202\204\134\206\210\212\142\214\134\216\134\220\220\220\22
2\
> 22
> 4"+
> 
>
"\226\222\230\142\142\142\142\142\142\142\232\134\134\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\234\226\134\236\236\134\134\134\134\134\134\134\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\134\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\236\236\236\236\236\236\172\240\242\244\246\250\17
2\
> 17
> 2"+
> 
>
"\252\254\172\172\256\172\172\260\172\262\264\172\172\172\172\172\172\26
6\
> 17
> 2"+
> 
>
"\172\270\272\172\172\172\274\172\172\172\172\172\172\172\172\172\172\27
6\
> 23
> 6"+
> 
>
"\236\236\300\300\300\300\302\304\300\300\300\306\306\306\306\306\306\30
6\
> 30
> 0"+
> 
>
"\306\306\306\306\306\306\310\300\300\302\306\306\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\312\312\312\312\312\312\312\312\312\312\312\312\312\31
2\
> 31
> 2"+
> 
>
"\312\312\312\312\312\312\312\312\312\312\312\312\312\312\312\312\312\31
2\
> 31
> 2"+
> 
>
"\312\236\236\236\236\236\236\236\236\236\236\236\236\236\312\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\314\236\236\316\236\320\236\236\306\322\324\326\33
0\
> 33
> 2"+
> 
>
"\334\120\120\120\120\120\120\120\120\336\120\120\120\120\340\342\344\12
6\
> 12
> 6"+
> 
>
"\126\126\126\126\126\126\346\126\126\126\126\350\352\354\356\360\362\23
6\
> 36
> 4"+
> 
>
"\364\364\364\134\134\134\134\134\134\134\366\216\236\236\236\236\236\23
6\
> 37
> 0"+
> 
>
"\372\372\372\372\372\374\372\120\120\120\120\120\120\120\120\120\120\12
0\
> 12
> 0"+
> 
>
"\120\120\120\120\126\126\126\126\126\126\126\126\126\126\126\126\126\12
6\
> 12
> 6"+
> 
>
"\126\376\u0100\u0100\u0100\u0100\u0100\u0102\u0100\134\134\134\134\134\
13
> 4"
> +
> 
>
"\134\134\134\134\134\134\134\134\134\134\134\u0104\312\u0106\236\236\23
6\
> 23
> 6"+
> 
>
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\134\134\134\134\u0108\142\u010A\u010C\u010A\u010C\u010A\236\134\13
4\
> 13
> 4"+
> 
>
"\134\134\134\134\134\134\134\134\134\134\134\236\134\134\134\134\236\13
4\
> 23
> 6"+
> 
>
"\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\236\236\u010E\u0110\u0110\u0110\u0110\u0110\u0110\
u0
> 11
> 0"+
> 
>
"\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u011
2\
> u0
> 114"+
> 
>
"\314\314\314\u0116\u0118\u0118\u0118\u0118\u0118\u0118\u0118\u0118\u011
8\
> u0
> 118"+
> 
>
"\u0118\u0118\u0118\u0118\u0118\u0118\u0118\u0118\u011A\u011C\236\236\23
6\
> u0
> 11E"+
> 
>
"\u0120\u0120\u0120\u0120\u0120\u0120\u0120\u0120\u011E\u0120\u0120\u012
0\
> u0
> 120"+
> 
>
"\u0120\u0120\u0120\u0120\u0120\u0120\u0120\u011E\u0120\u0122\u0122\u012
4\
> u0
> 126"+
> 
>
"\236\236\236\236\236\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0
12
> 8"
> +
> 
>
"\u0128\u0128\u0128\u0128\u012A\236\236\u0128\u012C\u012E\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\236\u012E\236\236\236\236\236\236\u0130\236\u0130\
u0
> 13
> 2"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 12A"+
> 
>
"\236\236\u0134\u0128\u0128\u0128\u0128\u0136\u0120\u0120\u0120\u0126\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\u0138\u0138\u0138\u0138\u0138\u013A\u013C\236\u013E\u0
12
> 8"
> +
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\236\u0128\u0128\u012A\
u0
> 12
> 8"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u012A\u0128\u0128\u0140\u0120\u012
0\
> u0
> 120"+
> 
>
"\u0142\u0144\u0120\u0120\u0146\u0148\u014A\u0120\u0120\236\026\026\026\
02
> 6"
> +
> 
>
"\026\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\u0
14
> C"
> +
> 
>
"\u014E\u0150\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\236\u0152\u0154\u0156\312\312\
31
> 2"
> +
> 
>
"\u014E\u0154\u0156\236\u0104\312\u0106\236\220\220\220\220\220\312\314\
u0
> 15
> 8"+
> 
>
"\u0158\u0158\u0158\u0158\320\236\236\236\236\236\236\236\u014C\u0154\u0
15
> 0"
> +
> 
>
"\220\220\220\u015A\u0150\u015A\u0150\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\u015A\220\220\220\u015A\u015A\236\220\220\236\u0106\u0154\u0156\312\u0
10
> 6"
> +
> 
>
"\u015C\u015E\u015C\u0156\236\236\236\236\u015C\236\236\220\u0150\220\31
2\
> 23
> 6"+
> 
>
"\u0158\u0158\u0158\u0158\u0158\220\u0160\u0162\u0162\u0164\u0166\236\23
6\
> 23
> 6"+
> 
>
"\u0106\u0150\220\220\u015A\236\u0150\u015A\u0150\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\u015A\220\220\220\u015A\220\u0150\u015A\220\236\u0106\u015
4\
> u0
> 156"+
> 
>
"\u0106\236\u014C\u0106\u014C\312\236\236\236\236\236\u0150\220\u015A\u0
15
> A"
> +
> 
>
"\236\236\236\u0158\u0158\u0158\u0158\u0158\312\220\u015A\236\236\236\23
6\
> 23
> 6"+
> 
>
"\u014C\u014E\u0150\220\220\220\u0150\u0150\220\u0150\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\u015A\220\220\220\u015A\220\u0150\220\220\236\u0152\u0
15
> 4"
> +
> 
>
"\u0156\312\312\u014C\u014E\u015C\u0156\236\u0166\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\u015A\236\236\u0158\u0158\u0158\u0158\u0158\236\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\u014C\u0154\u0150\220\220\220\u015A\u0150\u015A\u0150\220\220\220\220\
22
> 0"
> +
> 
>
"\220\220\220\220\220\u015A\220\220\220\u015A\220\236\220\220\236\u0152\
u0
> 15
> 6"+
> 
>
"\u0156\312\236\u015C\u015E\u015C\u0156\236\236\236\236\u014E\236\236\22
0\
> u0
> 150"+
> 
>
"\220\236\236\u0158\u0158\u0158\u0158\u0158\u0166\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\u014E\u0150\220\220\u015A\236\220\u015A\220\220\236\u0150\u015A\u0
15
> A"
> +
> 
>
"\220\236\u0150\u015A\236\220\u015A\236\220\220\220\220\u0150\220\236\23
6\
> u0
> 154"+
> 
>
"\u014E\u015E\236\u0154\u015E\u0154\u0156\236\236\236\236\u015C\236\236\
23
> 6"
> +
> 
>
"\236\236\236\236\u0168\u0158\u0158\u0158\u0158\u016A\u016C\236\236\236\
23
> 6"
> +
> 
>
"\236\236\u015C\u0154\u0150\220\220\220\u015A\220\u015A\220\220\220\220\
22
> 0"
> +
> 
>
"\220\220\220\220\220\220\u015A\220\220\220\220\220\u0150\220\220\236\23
6\
> 31
> 2"+
> 
>
"\u014E\u0154\u015E\312\u0106\312\312\236\236\236\u014C\u0106\236\236\23
6\
> 23
> 6"+
> 
>
"\220\236\236\u0158\u0158\u0158\u0158\u0158\236\236\236\236\236\236\236\
23
> 6"
> +
> 
>
"\236\u0154\u0150\220\220\220\u015A\220\u015A\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\u015A\220\220\220\220\220\u0150\220\220\236\236\u0156\u015
4\
> u0
> 154"+
> 
>
"\u015E\u014E\u015E\u0154\312\236\236\236\u015C\u015E\236\236\236\u015A\
22
> 0"
> +
> 
>
"\236\236\u0158\u0158\u0158\u0158\u0158\236\236\236\236\236\236\236\236\
23
> 6"
> +
> 
>
"\u0154\u0150\220\220\220\u015A\220\u015A\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\u015A\220\220\220\220\220\220\220\220\236\236\u0154\u0156\312\
23
> 6"
> +
> 
>
"\u0154\u015E\u0154\u0156\236\236\236\236\u015C\236\236\236\236\220\236\
23
> 6"
> +
> 
>
"\u0158\u0158\u0158\u0158\u0158\236\236\236\236\236\236\236\236\u0150\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\u016E\u0170\220\312\312\312\u0106\236\u0172\220\220\220\u0174\312\
31
> 2"
> +
> 
>
"\312\u0176\u0178\u0178\u0178\u0178\u0178\314\236\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\236\236\236\236\236\u0150\u015A\u015A\u0150\u015A\
u0
> 15
> A"+
> 
>
"\u0150\236\236\236\220\220\u0150\220\220\220\u0150\220\u0150\u0150\236\
22
> 0"
> +
> 
>
"\u0150\u016E\u0170\220\312\312\312\u014C\u0152\236\220\220\u015A\316\31
2\
> 31
> 2"+
> 
>
"\312\236\u0178\u0178\u0178\u0178\u0178\236\220\236\236\236\236\236\236\
23
> 6"
> +
> 
>
"\236\236\236\236\236\236\236\236\236\236\u017A\u017A\314\314\314\314\31
4\
> 31
> 4"+
> 
>
"\314\u017C\u017A\u017A\312\u017A\u017A\u017A\u017E\u017E\u017E\u017E\u0
17
> E"
> +
> 
>
"\u0180\u0180\u0180\u0180\u0180\u0104\u0104\u0104\u0182\u0182\u0154\220\
22
> 0"
> +
> 
>
"\220\220\u0150\220\220\220\220\220\220\220\220\220\220\220\220\220\220\
22
> 0"
> +
> 
>
"\220\236\236\236\u014C\312\312\312\312\312\312\u014E\312\312\u0184\312\
31
> 2"
> +
> 
>
"\312\236\236\312\312\312\u014C\u014C\312\312\312\312\312\312\312\312\31
2\
> 31
> 2"+
> 
>
"\236\u014C\312\312\312\u014C\236\236\236\236\236\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\236\236\u0110\u0110\u0110\u0110\u0110\u0110\u0110\
u0
> 11
> 0"+
> 
>
"\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\u0110\236\
23
> 6"
> +
> 
>
"\236\236\236\172\172\172\172\172\172\172\172\172\172\172\172\172\172\17
2\
> 17
> 2"+
> 
>
"\172\172\172\276\236\u011C\236\236\220\220\220\220\220\220\220\220\220\
22
> 0"
> +
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\236\23
6\
> u0
> 150"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\u015A\236\236\
22
> 0"
> +
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\236\236\236\134\134\134\134\134\134\134\134\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\134\134\134\134\134\134\134\134\134\172\172\u0186\236\236\134\134\
13
> 4"
> +
> 
>
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\134\13
4\
> 13
> 4"+
> 
>
"\134\134\134\134\236\236\236\u0188\u0188\u0188\u0188\u018A\u018A\u018A\
u0
> 18
> A"+
> 
>
"\u0188\u0188\u0188\236\u018A\u018A\u018A\236\u0188\u0188\u0188\u0188\u0
18
> A"
> +
> 
>
"\u018A\u018A\u018A\u0188\u0188\u0188\u0188\u018A\u018A\u018A\u018A\u018
8\
> u0
> 188"+
> 
>
"\u0188\236\u018A\u018A\u018A\236\u018C\u018C\u018C\u018C\u018E\u018E\u0
18
> E"
> +
> 
>
"\u018E\u0188\u0188\u0188\u0188\u018A\u018A\u018A\u018A\u0190\u0192\u019
2\
> u0
> 194"+
> 
>
"\u0196\u0198\u019A\236\u0188\u0188\u0188\u0188\u018A\u018A\u018A\u018A\
u0
> 18
> 8"+
> 
>
"\u0188\u0188\u0188\u018A\u018A\u018A\u018A\u0188\u0188\u0188\u0188\u018
A\
> u0
> 18A"+
> 
>
"\u018A\u018A\u0188\u019C\276\172\u018A\u019E\u01A0\u01A2\306\u019C\276\
17
> 2"
> +
> 
>
"\u01A4\u01A4\u01A0\306\u0188\172\236\172\u018A\u01A6\u01A8\306\u0188\17
2\
> u0
> 1AA"+
> 
>
"\172\u018A\u01AC\u01AE\306\236\u019C\276\172\u01B0\u01B2\u01A0\310\u01B
4\
> u0
> 1B4"+
> 
>
"\u01B4\u01B6\u01B4\u01B4\u01B8\u01BA\u01BC\u01BC\u01BC\014\u01BE\u01C0\
u0
> 1B
> E"+
> 
>
"\u01C0\014\014\014\014\u01C2\u01B8\u01B8\u01C4\u01C6\u01C6\u01C8\014\u0
1C
> A"
> +
> 
>
"\u01CC\014\u01CE\u01D0\014\u01D2\u01D4\236\236\236\236\236\236\236\236\
23
> 6"
> +
> 
>
"\236\236\236\236\236\236\236\236\u01B8\u01B8\u01B8\u01D6\236\102\102\10
2\
> u0
> 1D8"+
> 
>
"\u01D2\u01DA\u01DC\u01DC\u01DC\u01DC\u01DC\u01D8\u01D2\u01D4\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\064\064\064\064\064\064\u01DE\236\236\236\236\236\236\
23
> 6"
> +
> 
>
"\236\236\236\236\236\236\236\236\236\236\312\312\312\312\312\312\u01E0\
u0
> 1E
> 2"+
> 
>
"\u01E4\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\066\
u0
> 1E
> 6"+
> 
>
"\066\u01E8\066\u01EA\u01EC\u01EE\u01EC\u01F0\u01E8\066\u01EC\u01EC\u01E
C\
> 06
> 6"+
> 
>
"\066\066\u01E6\u01E6\u01E6\u01EC\u01EC\u01EE\u01EC\u01E8\u01F2\u01F4\u0
1F
> 6"
> +
> 
>
"\236\236\236\236\236\236\236\236\236\236\236\236\u01F8\114\114\114\114\
11
> 4"
> +
> 
>
"\u01FA\u01FC\u01FC\u01FC\u01FC\u01FC\u01FC\u01FE\u01FE\u0200\u0200\u020
0\
> u0
> 200"+
> 
>
"\u0200\u0200\u0202\u0202\u0204\u0206\236\236\236\236\236\236\u0208\u020
8\
> u0
> 20A"+
> 
>
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\06
6\
> 06
> 6"+
> 
>
"\066\066\066\066\066\066\066\066\066\066\066\u020A\u020A\066\066\066\06
6\
> 06
> 6"+
> 
>
"\066\066\066\066\066\u020C\236\236\236\236\236\236\236\236\236\236\u020
E\
> u0
> 210"+
> 
>
"\032\u0208\u0210\u0210\u0210\u0208\u020E\u01D8\u020E\032\u0208\u0210\u0
21
> 0"
> +
> 
>
"\u020E\u0210\032\032\032\u0208\u020E\u0210\u0210\u0210\u0210\u0208\u020
8\
> u0
> 20E"+
> 
>
"\u020E\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\032\u0208\u0208\
u0
> 21
> 0"+
> 
>
"\u0210\u0208\u0208\u0208\u0208\u020E\032\032\u0210\u0210\u0210\u0210\u0
20
> 8"
> +
> 
>
"\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u021
0\
> u0
> 210"+
> 
>
"\u0210\u0210\032\u020E\u0210\032\u0208\u0208\032\u0208\u0208\u0208\u020
8\
> u0
> 210"+
> 
>
"\u0208\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\032\u0208\
u0
> 20
> 8"+
> 
>
"\u0210\u0208\u0208\u0208\u0208\u020E\u0210\u0210\u0208\u0210\u0208\u020
8\
> u0
> 210"+
> 
>
"\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u0210\u020
8\
> u0
> 210"+
> 
>
"\236\236\236\236\236\236\236\u020C\066\066\066\u0210\u0210\066\066\066\
06
> 6"
> +
> 
>
"\066\066\066\066\066\066\u0210\066\066\066\u0212\u0214\066\066\066\066\
06
> 6"
> +
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0166\236\236\066\066\
06
> 6"
> +
> 
>
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\u020C\236\
23
> 6"
> +
> 
>
"\236\236\236\236\236\236\236\236\236\236\236\066\066\066\066\066\u020C\
23
> 6"
> +
> 
>
"\236\236\236\236\236\236\236\236\236\u0216\u0216\u0216\u0216\u0216\u021
6\
> u0
> 216"+
> 
>
"\u0216\u0216\u0216\u0218\u0218\u0218\u0218\u0218\u0218\u0218\u0218\u021
8\
> u0
> 218"+
> 
>
"\u021A\u021A\u021A\u021A\u021A\u021A\u021A\u021A\u021A\u021A\066\066\06
6\
> 06
> 6"+
> 
>
"\066\066\066\066\066\066\066\066\066\u021C\u021C\u021C\u021C\u021C\u021
C\
> u0
> 21C"+
> 
>
"\u021C\u021C\u021C\u021C\u021C\u021C\u021E\u021E\u021E\u021E\u021E\u021
E\
> u0
> 21E"+
> 
>
"\u021E\u021E\u021E\u021E\u021E\u021E\u0220\236\236\236\236\236\236\236\
23
> 6"
> +
> 
>
"\236\236\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\06
6\
> 06
> 6"+
> 
>
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\06
6\
> 06
> 6"+
> 
>
"\066\066\066\066\066\066\066\236\236\236\236\236\066\066\066\066\066\06
6\
> 06
> 6"+
> 
>
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\06
6\
> 06
> 6"+
> 
>
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\066\066\066\066\066\066\066\066\066\066\236\236\236\066\06
6\
> 06
> 6"+
> 
>
"\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\u0222\
06
> 6"
> +
> 
>
"\u020C\066\066\236\066\066\066\066\066\066\066\066\066\066\066\066\066\
06
> 6"
> +
> 
>
"\u0222\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\066\
06
> 6"
> +
> 
>
"\u0222\u0222\066\u020C\236\u020C\066\066\066\u020C\u0222\066\066\066\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\u0224\u0224\u0224\u0224\u0224\u0216\u0216\u0216\u0
21
> 6"
> +
> 
>
"\u0216\u0226\u0226\u0226\u0226\u0226\u020C\236\066\066\066\066\066\066\
06
> 6"
> +
> 
>
"\066\066\066\066\066\u0222\066\066\066\066\066\066\u020C\006\014\u0228\
u0
> 22
> A"+
> 
>
"\016\016\016\016\016\066\016\016\016\016\u022C\u022E\u0230\u0232\u0232\
u0
> 23
> 2"+
> 
>
"\u0232\312\312\312\u0234\u0236\u0236\066\236\236\236\u0222\u0150\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\u015A\236\u014C\u0238\300\316\u0150\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\u016E\300\
31
> 6"
> +
> 
>
"\236\236\u0150\220\220\220\220\220\220\220\220\220\220\220\220\220\220\
22
> 0"
> +
> 
>
"\220\220\220\220\u015A\236\u0150\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\u015A\u017A\u0180\u0180\u017A\u017A\u017A\u017A\u017A\236\
23
> 6"
> +
> 
>
"\236\236\236\236\236\236\236\236\236\236\236\236\236\236\u017A\u017A\u0
17
> A"
> +
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u016
6\
> 23
> 6"+
> 
>
"\u0180\u0180\u0180\u0180\u0180\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\236\236\236\236\236\236\236\236\236\236\
23
> 6"
> +
> 
>
"\236\236\236\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\236\u023A\u023C\u023C\u023C\u023C\u023C\u017A\u017A\
u0
> 17
> A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\u0166\236\236\236\236\236\236\236\u017A\u017A\u017A\
u0
> 17
> A"+
> 
>
"\u017A\u017A\236\236\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0
17
> A"
> +
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u0166\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u0166\236\u023A\
u0
> 17
> A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017
A\
> u0
> 17A"+
> 
>
"\u017A\u017A\u017A\236\u017A\u017A\u017A\u017A\u017A\u017A\u017A\u017A\
u0
> 17
> A"+
> 
>
"\u017A\u017A\u017A\u017A\u017A\u017A\u0166\220\220\220\220\220\220\220\
22
> 0"
> +
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\236\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\236\236\236\236\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\236\236\236\236\236\236\236\236\236\236\236\236\236\23
6\
> u0
> 23E"+
> 
>
"\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023
E\
> u0
> 23E"+
> 
>
"\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023E\u023
E\
> u0
> 23E"+
> 
>
"\u023E\u023E\u023E\u023E\u023E\u0240\u0240\u0240\u0240\u0240\u0240\u024
0\
> u0
> 240"+
> 
>
"\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u024
0\
> u0
> 240"+
> 
>
"\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\u0240\220\
22
> 0"
> +
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\236\236\236\236\236\236\236\236\236\172\172\172\276\236\236\23
6\
> 23
> 6"+
> 
>
"\236\u0242\172\172\236\236\236\u013E\u0128\u0128\u0128\u0128\u0244\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u012A\u0128\u0128\u012A\u012A\u0128\u0132\u012
A\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\
u0
> 13
> 2"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u01BE\236\236\236\236\236\23
6\
> 23
> 6"+
> 
>
"\236\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\
u0
> 12
> 8"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\236\u0128\u0128\u0128\u0128\
u0
> 12
> 8"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\236\236\236\236\
23
> 6"
> +
> 
>
"\236\236\236\236\236\236\236\236\236\236\236\236\236\236\236\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\236\236\236\236\236\236\236\236\236\236\236\236\236\
23
> 6"
> +
> 
>
"\236\236\236\236\u0246\u0246\236\236\236\236\236\236\u0248\u024A\u024C\
u0
> 24
> E"+
> 
>
"\u024E\u024E\u024E\u024E\u024E\u024E\u0250\236\u0252\014\u01CE\u0254\01
4\
> u0
> 256"+
> 
>
"\014\014\u022C\u024E\u024E\u01CC\014\074\u0208\u0258\u025A\014\236\236\
u0
> 12
> 8"+
> 
>
"\u012A\u012A\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
8\
> u0
> 128"+
> 
>
"\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u0128\u012
A\
> u0
> 25C"+
> 
>
"\u0252\014\u025E\014\u01BE\u0260\u0248\014\026\026\026\026\026\014\u020
8\
> u0
> 262"+
> 
>
"\036\040\040\040\040\040\040\040\040\040\040\040\040\u0264\u0266\046\05
0\
> 05
> 2"+
> 
>
"\052\052\052\052\052\052\052\052\052\052\052\u0268\u026A\u0258\u0252\u0
1B
> E"
> +
> 
>
"\u026C\220\220\220\220\220\u026E\220\220\220\220\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\220\220\220\300\220\220\220\220\220\22
0\
> 22
> 0"+
> 
>
"\220\220\220\220\220\220\220\220\u015A\236\220\220\220\236\220\220\220\
23
> 6"
> +
> 
>
"\220\220\220\236\220\u015A\236\u0270\u0272\u0274\u0276\u0208\u0208\u020
A\
> u0
> 20C"+
>     "\236\236\236\236\236\236\066\236";
> 
> 
> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
> 
> 
> 
> Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/
> 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Thu Feb 20 11:09:20 2003
From: cintyram at yahoo.com (cintyram <cintyram@yahoo.com>)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] strange error :   was : ATTN: Ric Klaren. Bug in the AST copy ctor
In-Reply-To: <001d01c2d890$fe0e8590$ad46f5cf@i7k>
Message-ID: <b33950+bhr9@eGroups.com>

hi alexander,
  your post was informative. i sure did miss the whole point but now i
understnad what was wrong and what you suggest to do to fix it [ or so
i think ] ;
but i had not attempted to analyse the code [ though i might have
missed even if i did attempt ]; i got this funny error message and the
program crashes .. or if i call one function it goes to another one ;
 i was of the opinion that since antlr code might not be buggy, either
my input or the vc stl might be wrong[which i think is unlikely ]
but my input doesnt seem to be wrong to me;
The only difference i found was as i noted in my post, in the
constructors .. so without even trying to understnad what was going on
behind, i just tried a change if it would affect this error and then
reverted back ; but after reading your posts i set it to ref(0) 

unfortunately i cannot post the actual grammar im using [ PL doesnt
allow ] so i dont know how else i can get help in fixing this error
http://www.geocities.com/cintyram/antlr/errors/strange_error_message.jpg

hope to get some help,
cheers
ram



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Feb 20 11:13:40 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Re: optional sub rules
In-Reply-To: <b30j7u+d836@eGroups.com>
Message-ID: <6B7F899C-4507-11D7-94E7-000393BB647E@jguru.com>


On Wednesday, February 19, 2003, at 10:43 AM, mklogic 
<mklogic@yahoo.com> wrote:

> I think you are right, the problem is probably my use of optional
> rule.
>
> I was trying to come up with a rule for XML Schema's "all" group,
> where all elements inside "all" may appear once or not at all.
> Assuming A,B, and C are elements that have minOccurs = 0, we will
> have the following rule. If we also assume minOccurs = 0 for "all"
> group itself, we will need to add ()* for zero or more according to
> antlr doc.
>
> Is what I am doing incorrect?
>
> all: ((A)? (B)? (C)?)*

not really...you have two optional paths for "all".  You need to 
delineate the possibilities i think:

all : A | A B | A B C | A C | B | B C | C | /* nothing */ ;

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From iank at bearcave.com  Thu Feb 20 12:01:26 2003
From: iank at bearcave.com (iank@bearcave.com)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Somewhat off topic: XML/XSD parser generators and processing
Message-ID: <200302202001.h1KK1Qam074943@idiom.com>


  I've been unsuccessfully trying to find an answer to a question
  about XML Schema based parser generators.  Since a number of people
  in the ANTLR community are not only parser and compiler experts, but
  are also Java and XML gurus, I am taking the liberty of asking the
  question here, although it is not really related to ANTLR.

  An XML Schema (an "XSD") is a grammar that describes an XML
  document.  Processors like Xerces will read an XSD and use it to
  validate an XML document.  Here, "validation" means checking for
  syntactic correctness, with a little semantic checking thrown in.
  XSD processors like Xerces act like parser generators in that they
  parse on the basis of a grammar definition.  Oddly the XML community
  does not explicitly describe the process in the language of parsers.

  In some cases the XSD prefaces the XML document that the XSD is
  intended to validate.  This structure means that XSD processors must
  operate "on the fly", since a new XSD (grammar) may be presented for
  every XML document that is to be validated.

  XML processing in general tends to be slow and validation is even
  slower.  I saw an article somewhere about a company that was
  proposing dedicated hardware to speedup XML validation and
  processing.  But what I've been wondering is if one could use parser
  technology to speed the task.  Given the speed of general purpose
  processors it is not clear to me that dedicated hardware is really
  needed.

  There is not much hope for significantly speeding up the "on the
  fly" validation task (where a new schema is presented for each XML
  document).  In many cases, however, there is a rarely changed set of
  XSDs that are used to validate a much larger set of XML documents.
  In this case, parser technology might be used to improve
  performance.

  The parser architecture which seems most appropriate in this case
  would not actually be an ANTLR style recursive decent parser, but
  rather a YACC style state table driven parser.

  In this approach a state table would be generated from the XSD
  (grammar).  The state table can then be cached.  If an XML document
  is received that references an XSD with a cached state table, the
  state table can be used to process the XML document, rather than
  referencing the XML schema again.  Given the speed of parsers
  generated by tools like YACC, processing should be fairly fast.

  This seems like an obvious approach to handling XSDs and XML
  schemas.  However, from looking at the documentation on verifying
  XML processors, I've been unable to determine whether any of the
  tools do this.  Do you know of any tools that follow this approach?
  If not, is there something I'm missing that makes this approach
  unworkable, even in the case where XSDs change infrequently?

  Thanks for your patience with this rather off topic query.

  Ian Kaplan
  iank@bearcave.com
  www.bearcave.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From merrells at sleepycat.com  Thu Feb 20 12:13:06 2003
From: merrells at sleepycat.com (John Merrells)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Somewhat off topic: XML/XSD parser generators and processing
References: <200302202001.h1KK1Qam074943@idiom.com>
Message-ID: <3E5536D2.2080300@sleepycat.com>


There's a few DTD driven xml parser generators. (Seach google
for 'xml parser generator')... But I don't know of any XSD driven
ones... If you find one I'd like to know.

John


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From hushlee83 at yahoo.com.sg  Thu Feb 20 15:01:40 2003
From: hushlee83 at yahoo.com.sg (=?iso-8859-1?q?Sharon=20Li?=)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] help needed with nondeterminism errors. Thanks in advance!
In-Reply-To: <LPBBJCCFLMNNCKIFGNLHEEMLDPAA.alan@oursland.net>
Message-ID: <20030220230140.11803.qmail@web40905.mail.yahoo.com>


ok, I tried it but it still gives me the non-determinism error at the modules rule. But thanks anyway :)
 Alan Oursland <alan@oursland.net> wrote:I think most of the time I see the error "between alt 1 and exit branch of
block" it is fixed by making a kleene star group greedy.

Does this change fix it?

parameters returns [String params="";]{String exp=""; String subexp="";}
: (exp = expression {arrayCount++;}) ((COMMA{exp+=",";}) (options
{greedy=true;}: (subexp = expression){exp+=subexp; arrayCount++;}))*
{
params = exp;
System.out.println("in parameters rule, parameters : "+params);
};

-----Original Message-----
From: Sharon Li [mailto:hushlee83@yahoo.com.sg]
Sent: Thursday, February 20, 2003 1:46 AM
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] help needed with nondeterminism errors. Thanks
in advance!


the error occured at the modules rule
*apologies*
Sharon Li wrote:
sorry guys I just realized to my horror that I've not stated the error :
ANTLR Parser Generator Version 2.7.0 1989-2000 MageLang's jGuru.com
lfile.g.txt:426: warning: nondeterminism upon
lfile.g.txt:426: k==1:DIGIT,SEMI,COMMA,ASSIGN,ALPHA,PLUS,MINUS,DIVIDE,MOD
,POW,NOT,LOGOR,LOGAND,EQUAL,QUESTION,DOT,AND,UNDERSCORE,OYIELD,YIELD
lfile.g.txt:426: k==2:DIGIT,SEMI,COMMA,ASSIGN,LPAREN,ALPHA,PLUS,MINUS,DIV
IDE,MOD,POW,NOT,LOGOR,LOGAND,EQUAL,QUESTION,DOT,AND,UNDERSCORE,OYIELD,YIELD
lfile.g.txt:426: between alt 1 and exit branch of block
Cheers,
Sharon
Sharon Li wrote:
Hello all,
Could anyone please help me with some nondeterminism errors?
Thanks in advance!
/******** fraction of parser *********************/
/**NOTE: Pls ignore the returning of values coz thats already handled *****/
/**Sorry for pasting in such a huge chunk of code =P **/
productions : (production)+;
production : strictPred conditional (YIELD | OYIELD) successor;
strictPred : formalModules;
formalModules: formalModule+;
formalModule : ((symbol) (LPAREN formalParameters RPAREN)) => (symbol)
(LPAREN formalParameters RPAREN)
| symbol ;
formalParameters : formalParameter (COMMA formalParameter)*;
formalParameter : NAME;
conditional : COLON condition;
condition : (TIMES) => TIMES
| expression
;
successor : modules
| (TIMES) => TIMES ;
symbol returns [String sym] {sym = null;}
: d:DIGIT
{
System.out.println("Symbol is: "+d.getText());
sym = d.getText();
}
| a:ALPHA
{
System.out.println("Symbol is: "+a.getText());
sym = a.getText();
}
| (DOT {sym=".";}) | (COMMA {sym=",";})| (SEMI {sym=";";})
| (PLUS {sym="+";}) | (MINUS{sym="-";}) | (NOT{sym="!";}) |
(DIVIDE{sym="/";}) | (POW{sym="^";})
| (MOD{sym="%";}) | (LOGOR{sym="||";}) | (AND{sym="&";}) |
(LOGAND{sym="||";}) | (EQUAL{sym="==";})
| (QUESTION{sym="?";}) | (UNDERSCORE{sym="_";}) | (ASSIGN{sym="=";})
| (OYIELD{sym="-o>";}) | (YIELD{sym="-->";})
;
modules : (module)+;
module : (smbol) LPAREN (parameters) RPAREN ;
parameters returns [String params="";]{String exp=""; String subexp="";}
: (exp = expression {arrayCount++;}) ((COMMA{exp+=",";}) ((subexp =
expression){exp+=subexp; arrayCount++;}))*
{
params = exp;
System.out.println("in parameters rule, parameters : "+params);
};

number returns [String num="";]
: ((n:NUMERIC {num = n.getText();}) | (d:DIGIT {num = d.getText();}));
word returns [String word="";]
: ((name:NAME {word = name.getText();}) | (a:ALPHA {word =
a.getText();}));

exp1 returns [String e1] {e1="";String exp="";String numb=""; String w="";}
: (numb = number)
{
e1 = numb;
}
| (w = word)
{
System.out.println("name is : "+w);
e1 = w;
}
| (lit : STRING_LITERAL)
{
String literal = lit.getText();
e1 = literal;
System.out.println("string literal: "+literal);

}
| (e1=function)
{
System.out.println("function is : "+e1);
}
| LPAREN (exp=expression) RPAREN
{
e1 = "("+ exp +")";
}
| /* empty */
;
exception
catch[RecognitionException e]{
System.out.println("error occured in rule exp1 !!");
}

exp2 returns [String e2="";] {String strg="";}
: (
( PLUS {System.out.println("operator +"); e2 += "+";}
| MINUS {System.out.println("operator -"); e2 += "-";}
| TIMES {System.out.println("operator *"); e2 += "*";}
| DIVIDE {System.out.println("operator /"); e2 += "/";}
| MOD {System.out.println("operator %"); e2 += "%";}
| POW {System.out.println("operator ^"); e2 += "^";}
| (NOT {System.out.println("operator !"); e2 += "!";})
(ASSIGN{System.out.println("operator !="); e2 = "!=";} )?
| LOGOR {System.out.println("operator ||"); e2 += "||";}
| LOGAND {System.out.println("operator &&"); e2 += "&&";}
| EQUAL {System.out.println("operator =="); e2 += "==";}
| LT {System.out.println("operator <"); e2 += "<";}
| GT {System.out.println("operator >"); e2 += ">";}
| LTE {System.out.println("operator <="); e2 += "<=";}
| GTE {System.out.println("operator >="); e2 += ">=";}
| QUESTION {System.out.println("operator ?"); e2 += "?";})
(strg=exp1{e2+=strg;}) ((COLON{e2 += ":";}) (strg=exp1{e2 += strg;}))?
(strg=exp2{e2 += strg;}))* ;
exception
catch[RecognitionException e]{
System.out.println("error occured in rule exp2 !!");
}
expression returns [String expression="";]{String expre1=""; String
expre2="";}
: (expre1=exp1) (expre2=exp2)
{
expression = expre1 + expre2;
};
exception
catch[RecognitionException e]{
System.out.println("error occured in rule expression !!");
}
/**** fraction of lexer ****/
ALPHA : ( 'a'..'z' | 'A'..'Z' );
DIGIT : ('0'..'9');
NUMERIC : DIGIT ((DIGIT)+ | ((DOT) (d:DIGIT)+)) ;
NAME : (ALPHA) (ALPHA|DIGIT|UNDERSCORE)+ ;
STRING_LITERAL : '"'! ('"' '"'! | ~('"'))* '"'!



Yahoo! Biztools
- Promote your business from just $5 a month!
Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.

Yahoo! Biztools
- Promote your business from just $5 a month!
Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.

Yahoo! Biztools
- Promote your business from just $5 a month!
Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.





Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 Yahoo! Biztools
- Promote your business from just $5 a month!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030221/3e0dbcd3/attachment.html
From devel at hunsicker.de  Fri Feb 21 07:14:31 2003
From: devel at hunsicker.de (Marco Hunsicker)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] [BUG] Java generator produces useless conditionals
Message-ID: <14397333077.20030221161431@hunsicker.de>

Hello Dr. Parr,

I found a, well, maybe not really a bug, more of a cosmetic issue, but
anyway. 

The following lexer rule (taken from the Java grammar)

<pre>
WS      :       (       ' '
                |       '\t'
                |       '\f'
                        // handle newlines
                |       (       options {generateAmbigWarnings=false;}
                        :       "\r\n"  // Evil DOS
                        |       '\n'    // Unix (the right way)
                        |       '\r'    // Macintosh
                        )
                        { newline(); }
                )+
        ;

</pre>

produces (ANTLR 2.7.2) Java code such as (only the relevant part
shown) 

<pre>
    case '\n':
    case '\r': {
        if (
            (LA(1) == '\r') && (LA(2) == '\n')
                && (true) && (true)) {          // <== USELESS
            match("\r\n");
        } else if ((LA(1) == '\n')) {
            match('\n');
        } else if (
            (LA(1) == '\r') && (true) && (true) // <== USELESS
                && (true)) {                    // <== USELESS
            match('\r');
        } else {
            throw new NoViableAltForCharException(
                (char) LA(1), getFilename(),
                getLine(), getColumn());
        }

        newline();

        break;
</pre>

which contains several useless conditionals. It's a really minor
issue, but as it's easy to fix, I thought I post the code here.

The problem is the method getLookaheadTestExpression(Lookahead[], int)
in the Java CodeGenerator. I changed it to

<pre>
protected String getLookaheadTestExpression(Lookahead[] look, int k) {
    StringBuffer e = new StringBuffer(100);
    boolean first = true;

    e.append("(");

    for (int i = 1; i <= k; i++) {
        BitSet p = look[i].fset;

        // Syn preds can yield <end-of-syn-pred> (epsilon) lookahead.
        // There is no way to predict what that token would be.  Just
        // allow anything instead.
        if (look[i].containsEpsilon()) {
            if (first) {
                e.append(true);
            }
        }
        else {
            if (!first) {
                e.append(") && (");
            }

            e.append(getLookaheadTestTerm(i, p));
        }

        first = false;
    }

    e.append(")");

    return e.toString();
}
</pre>

to get rid of the obsolete tests.


And BTW, wow ;)

-- 
Best regards,
 Marco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Fri Feb 21 08:32:58 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Re: Making the C grammar in cgram.tgz
Message-ID: <170826586F3BD511910D0200C110AAA80540218B@memail03.bco-home.com>

This doesn't make sense to me.  It's like it's confused between having both
. and ../grammars be the same directory.  Did you try it without ../grammars
in your classpath?

Sorry for the late reply, I was in the middle of the Pacific as of late,
just starting to slog through the hundreds of antlr messages I missed....

Monty

-----Original Message-----
From: edcjones <edcjones@yahoo.com> [mailto:edcjones@yahoo.com]
Sent: Friday, February 07, 2003 8:36 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: Making the C grammar in cgram.tgz


I fixed my problem by creating a directory "grammars/ctoken" and
moving "CToken.java" to it. Also moved "LineObject.java" to
"grammars/lineobject". I added package stuff to a number of files and
edited "Makefile". But I still wonder: Why didn't the original code work?

--- In antlr-interest@yahoogroups.com, "edcjones <edcjones@y...>"
<edcjones@y...> wrote:
> I have installed Blackdown Java Version 1.4.1-beta (based on Sun's
> 1.4.1-pre-rc-b17) and antlr-2.7.2 on my Gentoo Linux PC.
> 
> In the antlr resources, there is a grammar for C in a file
> "cgram.tgz". I have set the classpath to
> 
>     /usr/local/src/antlr-2.7.2:../grammars:../examples:.
> 
> I am having trouble getting cgram to compile. I cd to "grammars" and
> do "make". I get the error message:
> 
>     javac StdCParser.java
>     ../grammars/TNode.java:9: '.' expected
>     import CToken;
>              ^
>     1 error
>     make: *** [StdCParser.class] Error 1
> 
> Could this problem be caused by changes in Java or ANTLR since cgram
> was written? Is this version of Java compatible with antlr-2.7.2? How
> should I handle CLASSPATH? Is there some sort of package name problem?
> Or what?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Fri Feb 21 08:41:41 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Advice sought on constructing "tree of token
	 lists"
Message-ID: <170826586F3BD511910D0200C110AAA80540218C@memail03.bco-home.com>

Did you figure this out or do you still need advice?  Have you seen my
filter example, where I use a parser to filter tokens to be fed to another
parser?  www.codetransform.com/filterexample.html

Monty

-----Original Message-----
From: micheal_jor <open.zone@virgin.net> [mailto:open.zone@virgin.net]
Sent: Thursday, February 06, 2003 7:34 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Advice sought on constructing "tree of token
lists"


I am attempting to use an ANTLR parser to build an AST in which all 
the nodes are essentially anchors for imposing some structure on the 
input list of Tokens.

The parser is itself a TokenStream and is being used for pre-
validation and pre-simplification of the input stream. All the input 
tokens can potentially pass through or a few may be dropped or 
altered.

I am seeking advice on how to persuade an ANTLR parser to allow 
access to all the original tokens as matched in each rule. I am 
proceeding on the assumption that buildAST must be false and that I 
have to do all the treebuilding manually since ANTLR parsers would 
normally "convert" input tokens into corresponding AST objects.

To clarify:

1. An AST node in the tree is a mechanism for storing a list of 
tokens matched by a rule. The tokens corresponds to the grammar rule 
that constructed the node.

2. An AST node may have one or more such lists of tokens - the list 
of tokens may be partitioned (using action code) depending on the 
rule.

Cheers,

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Fri Feb 21 08:44:39 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Parsing a TokenStream in piecemeal fashion
Message-ID: <170826586F3BD511910D0200C110AAA80540218D@memail03.bco-home.com>

I'm sure you've figured it out by now, but for the record....

This one is easy, just create your parser, make a loop and repeatedly call
the rule you want to call.  Make sure the rule you call is a valid start
rule, meaning that no other rules call it.  If it isn't then make a simple
one like

startingAddExpr: addExpr ;

Monty

-----Original Message-----
From: micheal_jor <open.zone@virgin.net> [mailto:open.zone@virgin.net]
Sent: Friday, January 31, 2003 5:46 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Parsing a TokenStream in piecemeal fashion


Hi,

Any ideas on how to create a Parser instance and use it to parse a 
few tokens at a time from a TokenStream repeatedly. Obviously there 
wouldn't be an EOF condition/character most of the time.

If it's relevant, each invocation of the Parser builds an AST 
fragment that is fed to TreeParser(s).

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Fri Feb 21 08:46:52 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] C++ test suite
Message-ID: <170826586F3BD511910D0200C110AAA80540218E@memail03.bco-home.com>

There is also the gcc torture test suite, they have C++ stuff in there too.

Monty

-----Original Message-----
From: Pete Forman [mailto:pete.forman@westerngeco.com]
Sent: Monday, February 03, 2003 12:33 AM
To: antlr-interest@yahoogroups.com; antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] C++ test suite


At 2003-02-02 15:23 +0000, David Wigg wrote:
>Could anyone let me know of any C++ compiler/grammar test suite I could
>get hold of?

I wrote a test suite but it is targeted at strict STL conformance rather 
than the language grammar.

     http://petef.port5.com/cpp/stltest.html

You might also try asking on news:comp.std.c++

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Feb 21 10:22:06 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] [BUG] Java generator produces useless conditionals
In-Reply-To: <14397333077.20030221161431@hunsicker.de>
Message-ID: <621BB75F-45C9-11D7-94E7-000393BB647E@jguru.com>

Hi Marco,

THanks for the fix.  I didn't bother optimizing as I knew that the 
compiler would remove these "if true" tests :)  I'm also frightened by 
consequences of changing code generator ;)

Ter

On Friday, February 21, 2003, at 07:14 AM, Marco Hunsicker wrote:

> Hello Dr. Parr,
>
> I found a, well, maybe not really a bug, more of a cosmetic issue, but
> anyway.
>
> The following lexer rule (taken from the Java grammar)
>
> <pre>
> WS      :       (       ' '
>                 |       '\t'
>                 |       '\f'
>                         // handle newlines
>                 |       (       options {generateAmbigWarnings=false;}
>                         :       "\r\n"  // Evil DOS
>                         |       '\n'    // Unix (the right way)
>                         |       '\r'    // Macintosh
>                         )
>                         { newline(); }
>                 )+
>         ;
>
> </pre>
>
> produces (ANTLR 2.7.2) Java code such as (only the relevant part
> shown)
>
> <pre>
>     case '\n':
>     case '\r': {
>         if (
>             (LA(1) == '\r') && (LA(2) == '\n')
>                 && (true) && (true)) {          // <== USELESS
>             match("\r\n");
>         } else if ((LA(1) == '\n')) {
>             match('\n');
>         } else if (
>             (LA(1) == '\r') && (true) && (true) // <== USELESS
>                 && (true)) {                    // <== USELESS
>             match('\r');
>         } else {
>             throw new NoViableAltForCharException(
>                 (char) LA(1), getFilename(),
>                 getLine(), getColumn());
>         }
>
>         newline();
>
>         break;
> </pre>
>
> which contains several useless conditionals. It's a really minor
> issue, but as it's easy to fix, I thought I post the code here.
>
> The problem is the method getLookaheadTestExpression(Lookahead[], int)
> in the Java CodeGenerator. I changed it to
>
> <pre>
> protected String getLookaheadTestExpression(Lookahead[] look, int k) {
>     StringBuffer e = new StringBuffer(100);
>     boolean first = true;
>
>     e.append("(");
>
>     for (int i = 1; i <= k; i++) {
>         BitSet p = look[i].fset;
>
>         // Syn preds can yield <end-of-syn-pred> (epsilon) lookahead.
>         // There is no way to predict what that token would be.  Just
>         // allow anything instead.
>         if (look[i].containsEpsilon()) {
>             if (first) {
>                 e.append(true);
>             }
>         }
>         else {
>             if (!first) {
>                 e.append(") && (");
>             }
>
>             e.append(getLookaheadTestTerm(i, p));
>         }
>
>         first = false;
>     }
>
>     e.append(")");
>
>     return e.toString();
> }
> </pre>
>
> to get rid of the obsolete tests.
>
>
> And BTW, wow ;)
>
> -- 
> Best regards,
>  Marco
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From devel at hunsicker.de  Fri Feb 21 23:12:02 2003
From: devel at hunsicker.de (Marco Hunsicker)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] [BUG] Java generator produces useless conditionals
In-Reply-To: <621BB75F-45C9-11D7-94E7-000393BB647E@jguru.com>
References: <621BB75F-45C9-11D7-94E7-000393BB647E@jguru.com>
Message-ID: <85340099.20030222081202@hunsicker.de>

Hello Terence,

TP> THanks for the fix.  I didn't bother optimizing as I knew that the 
TP> compiler would remove these "if true" tests :)

Of course. As I said, really a cosmetic issue. It's just that
generated code that is indeed readable for human beings, may well be
processed by them and I know at least one of such biests which find
these useless conditionals irritating ;) 

TP>  I'm also frightened by consequences of changing code generator ;)

I'd thought you have some unit tests at hand?

I'd like to recommend the Clover coverage tool in this regard (another
product which uses an ANTLR generated parser to process Java source
files, see http://www.thecortex.net/clover/index.html; maybe a
candidate for the links section?). They support Open Source projects,
you may a obtain a free license! Version 1.1 is due for release in the
next two weeks.

-- 
Best regards,
 Marco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From j_scandaliaris at yahoo.es  Sat Feb 22 02:23:03 2003
From: j_scandaliaris at yahoo.es (Jorge Scandaliaris)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Understanding "element labels"
Message-ID: <000001c2da5c$68f97320$03001aac@zoys>

I've been struggling to understand how to use element labels within the
parser. What I am trying to do is:

rule	:	"some_literal1" id:ID "some_literal2"	// ID is a token
reference
				.
				.		
				.
		(name:parser_rule_reference
{id->getText()==name->getText();}?)?
	;

parser_rule_reference 
	:	ID
	;

I wanted to validate with a semantic predicate that the text of both
labels is the same, but the second element label is not declared by
antlr in the parser's c++ code and then I get error compile errors.
I can use ID instead of parser_rule_reference and that will work. So my
question is more:
What are the limitations of using element labels? In antlr doc it
mentions both atomic elements and rule references, but it seems that the
latter is intended for AST (currently off in my parser). Am I right? Am
I missing a basic point here? What other ways I would have to this?

I appreciate any help. Thanks.
		


___________________________________________________
Yahoo! Móviles
Personaliza tu móvil con tu logo y melodía favorito 
en http://moviles.yahoo.es

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From satyatps at yahoo.com  Sat Feb 22 19:01:58 2003
From: satyatps at yahoo.com (satyatps <satyatps@yahoo.com>)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Hi
Message-ID: <b39dj6+b83s@eGroups.com>

Hi Guys ,
 I  m new  to this group , i want under stand the functionality of 
antlr .Can u suggest some examples where i can find.I m already 
downloaded installed antlr .
Is there condtion loops like that in antlr say for example if pattern 
matches a string then hv do to something like that ...
Help is highly appreciated.
Thnks in Advance
Satya


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From pete.forman at westerngeco.com  Mon Feb 24 01:14:18 2003
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Somewhat off topic: XML/XSD parser  generators
 and processing
In-Reply-To: <200302202001.h1KK1Qam074943@idiom.com>
Message-ID: <5.1.1.1.2.20030224090739.01f80a08@wgmail2.gatwick.eur.slb.com>

At 2003-02-20 12:01 -0800, iank@bearcave.com wrote:
>   The parser architecture which seems most appropriate in this case
>   would not actually be an ANTLR style recursive decent parser, but
>   rather a YACC style state table driven parser.

I don't agree that YACC has advantages over ANTLR in this respect.  You 
could build solutions with either approach.  State tables or parsers could 
be built beforehand for known XSDs.  Then the application would read the 
doctype and choose the table/parser for the remainder of the document.

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Mon Feb 24 08:05:02 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Understanding "element labels"
Message-ID: <170826586F3BD511910D0200C110AAA805402197@memail03.bco-home.com>

A rule label will be naming a tree node, not a token.  You have two options.
One is to get the text out of the node.  The other is to have
parser_rule_reference return a token (or the token text for that matter), in
which case you will be responsible for declaring name and assigning it as
name=parser_rule_reference.

Monty

-----Original Message-----
From: Jorge Scandaliaris [mailto:j_scandaliaris@yahoo.es]
Sent: Saturday, February 22, 2003 2:23 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Understanding "element labels"


I've been struggling to understand how to use element labels within the
parser. What I am trying to do is:

rule	:	"some_literal1" id:ID "some_literal2"	// ID is a token
reference
				.
				.		
				.
		(name:parser_rule_reference
{id->getText()==name->getText();}?)?
	;

parser_rule_reference 
	:	ID
	;

I wanted to validate with a semantic predicate that the text of both
labels is the same, but the second element label is not declared by
antlr in the parser's c++ code and then I get error compile errors.
I can use ID instead of parser_rule_reference and that will work. So my
question is more:
What are the limitations of using element labels? In antlr doc it
mentions both atomic elements and rule references, but it seems that the
latter is intended for AST (currently off in my parser). Am I right? Am
I missing a basic point here? What other ways I would have to this?

I appreciate any help. Thanks.
		


___________________________________________________
Yahoo! M?viles
Personaliza tu m?vil con tu logo y melod?a favorito 
en http://moviles.yahoo.es

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From iank at bearcave.com  Mon Feb 24 09:47:59 2003
From: iank at bearcave.com (iank@bearcave.com)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Re: XML/XSD parser  generators and processing
Message-ID: <200302241747.h1OHlxWx014920@idiom.com>


> I don't agree that YACC has advantages over ANTLR in this respect.
> You could build solutions with either approach.  State tables or
> parsers could be built beforehand for known XSDs.  Then the
> application would read the doctype and choose the table/parser for the
> remainder of the document.

  My explaination was rather terse, at best, so the point I was trying
  to make about a state table driven parser vs. an ANTLR style
  generated source code parser was probably unclear.

  I'm not a big fan of YACC.  Like any YACC user, I've spent hours
  pouring over obscure dumps of the YACC trace to find errors in my
  grammar.  The actual YACC parser is also far less sophisticated than
  ANTLR.  So I'm not making an argument for YACC here.  I hope to
  never use YACC again.

  What I am suggesting is that a validating XML processor may be best
  constructed using YACC like technology.  That is, state tables
  generated from the XML schema (XSD).

  I am assuming that schemas may change and I want to retain the
  flexibility that currently exists in validating XML parser to add
  new schemas.  For a tool that generated a recrusive decent parser
  that is not state table based (e.g., ANTLR), you would have to
  generate the source code (say Java) and then compile it.  I know
  that the compiler can be invoked from Java, but this is slow and
  seems rather awkward.

  If a state table is generated from the XML schema it can be
  immediately cached.  No intermediate step is necessary (e.g.,
  compiling).  When an XML document is received that references the
  schema, a finite state machine implementation processes this state
  table to parse the XML.

  Note that I am not proposing YACC here.  A new "parser generator"
  would have to be built that read in schemas as the grammar defintion.

  The brings up another issue that makes ANTLR difficult to use.  The
  grammar is not expressed in ANTLR grammar form (or YACC form for
  that matter), but rather as an XML schema.  Also, the target is
  restricted.  The input language that will be parsed is an XML
  document.  So the parser generator would be rather specialized.  The
  result of an XML parse is known in advance.  That is: SAX style
  events or a DOM XML tree.  This provides a simpler structure than
  exists for most parser generators.

  As someone pointed out, similar tools seem to have been built for
  XML Document Type Descriptions (DTDs).  So far, such a tool does not
  seem to exist for XML schemas, which represent a more powerful
  grammar that DTDs.

  Again, I apologize for a somewhat off topic post to this group.  I
  appreciate your forbearance.  This group is somewhat unique in its
  experience with parsers, compilers and Java related technology
  (into which I throw XML, although XML can also be processed from
  C++).

  Ian Kaplan
  iank@bearcave.com
  www.bearcave.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From j_scandaliaris at yahoo.es  Tue Feb 25 06:35:07 2003
From: j_scandaliaris at yahoo.es (j_scandaliaris@yahoo.es)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Understanding "element labels"
In-Reply-To: <170826586F3BD511910D0200C110AAA805402197@memail03.bco-home.com>
Message-ID: <000701c2dcdb$17ebe7c0$e5315393@GAUDI>

Thanks for the clarification. I'll see what's the easiest to implement in my
grammar. 

Jorge

> -----Mensaje original-----
> De: mzukowski@yci.com [mailto:mzukowski@yci.com]
> Enviado el: lunes, 24 de febrero de 2003 17:05
> Para: antlr-interest@yahoogroups.com
> Asunto: RE: [antlr-interest] Understanding "element labels"
> 
> A rule label will be naming a tree node, not a token.  You have two
> options.
> One is to get the text out of the node.  The other is to have
> parser_rule_reference return a token (or the token text for that matter),
> in
> which case you will be responsible for declaring name and assigning it as
> name=parser_rule_reference.
> 
> Monty
> 
> -----Original Message-----
> From: Jorge Scandaliaris [mailto:j_scandaliaris@yahoo.es]
> Sent: Saturday, February 22, 2003 2:23 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Understanding "element labels"
> 
> 
> I've been struggling to understand how to use element labels within the
> parser. What I am trying to do is:
> 
> rule	:	"some_literal1" id:ID "some_literal2"	// ID is a token
> reference
> 				.
> 				.
> 				.
> 		(name:parser_rule_reference
> {id->getText()==name->getText();}?)?
> 	;
> 
> parser_rule_reference
> 	:	ID
> 	;
> 
> I wanted to validate with a semantic predicate that the text of both
> labels is the same, but the second element label is not declared by
> antlr in the parser's c++ code and then I get error compile errors.
> I can use ID instead of parser_rule_reference and that will work. So my
> question is more:
> What are the limitations of using element labels? In antlr doc it
> mentions both atomic elements and rule references, but it seems that the
> latter is intended for AST (currently off in my parser). Am I right? Am
> I missing a basic point here? What other ways I would have to this?
> 
> I appreciate any help. Thanks.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Tue Feb 25 08:42:03 2003
From: cintyram at yahoo.com (cintyram <cintyram@yahoo.com>)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] syn preds and non determinism warning
Message-ID: <b3g6cr+re44@eGroups.com>

hi,
 is it normal for a non determinism warning to occur even if syntactic
predicates are used ?
eg :
rule :
 ( ID ID ) => ID ID { .. }
 | 
 ( ID INT ) => ID INT  { .. }
 |
  other alts which dont start with ID 
 ; 

or is something wrong with the grammar?
cheers
ram


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Tue Feb 25 09:53:28 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] syn preds and non determinism warning
Message-ID: <170826586F3BD511910D0200C110AAA8054021A6@memail03.bco-home.com>

It's hard to say.  What's the actual rule and error message?

Monty

-----Original Message-----
From: cintyram <cintyram@yahoo.com> [mailto:cintyram@yahoo.com]
Sent: Tuesday, February 25, 2003 8:42 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] syn preds and non determinism warning


hi,
 is it normal for a non determinism warning to occur even if syntactic
predicates are used ?
eg :
rule :
 ( ID ID ) => ID ID { .. }
 | 
 ( ID INT ) => ID INT  { .. }
 |
  other alts which dont start with ID 
 ; 

or is something wrong with the grammar?
cheers
ram


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ramesh.rangarajan at wipro.com  Wed Feb 26 09:33:38 2003
From: ramesh.rangarajan at wipro.com (rameshkum45 <ramesh.rangarajan@wipro.com>)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Clarification on grammar needed
Message-ID: <b3itpi+m77u@eGroups.com>

I am looking for some help on the ANTLR grammer

I have a piece of grammer, could you please tell me which ANTLR 
version it refers to, also could you please explain few things in 
this grammer which I could not understand here. Mainly I didn't 
understand the definition rule.... why there is an '!' mark at the 
end of the rule name... what does that # do in the beginning of some 
places... what does "c:comment" indicate

specification 

: (definition)+ EOF!

;

definition! 

{ String comment = null; 

boolean localGenSpecs = genSpecs; }

: (c:comment { comment = c_AST.getText(); } )?

( { if (localGenSpecs) 

nestingDepth++; 

}

n:name_scope!

{ #definition = #n;

if (localGenSpecs) 

nestingDepth--; 

if (comment != null) 

#n.setAttribute(Main.COMMENT,comment);

}

| d:const_dcl SEMI!

{ definition_AST = d_AST;

if (comment != null) 

#d.setAttribute(Main.COMMENT,comment); 

}

)

;



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Feb 26 10:38:07 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Clarification on grammar needed
In-Reply-To: <b3itpi+m77u@eGroups.com>
Message-ID: <72999EAD-49B9-11D7-BBAA-000393BB647E@jguru.com>


On Wednesday, February 26, 2003, at 09:33 AM, rameshkum45 
<ramesh.rangarajan@wipro.com> wrote:

> I am looking for some help on the ANTLR grammer
>
> I have a piece of grammer, could you please tell me which ANTLR
> version it refers to, also could you please explain few things in
> this grammer which I could not understand here. Mainly I didn't
> understand the definition rule.... why there is an '!' mark at the
> end of the rule name... what does that # do in the beginning of some
> places... what does "c:comment" indicate

There is a manual you know <wink>

Terence
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From glindholm at yahoo.com  Wed Feb 26 19:03:17 2003
From: glindholm at yahoo.com (Greg Lindholm <glindholm@yahoo.com>)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Eclipse plugin for new Antlr 2.7.2 release?
Message-ID: <b3jv5l+adup@eGroups.com>

Is there an Eclipse plugin for the new Antlr 2.7.2 release?

The latest release of the plugin I can find is 
org.antlr_2.7.2_03.zip which seems to be for Antlr 2.7.2a2.

Thanks


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Trey.Spiva at embarcadero.com  Thu Feb 27 05:49:14 2003
From: Trey.Spiva at embarcadero.com (Trey Spiva)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Performance Question
Message-ID: <5DEEF5A894731F4B92D58E2FC37EB28A090ECB@etdema1.embarcadero.com>

Is it better to increase the look ahead or is it better use semantic
predicates?
 
Example:
options
{
   ... 
   k = 2;
}
 
...
 
someRule
  : IDENT LPAREN
  | IDENT LBRACK
  ;
 
or is it better to do:
 
someRule
  : (IDENT LPAREN)=>IDENT LPAREN
  | IDENT LBRACK
  ;
 
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030227/f2473bfe/attachment.html
From cintyram at yahoo.com  Thu Feb 27 07:19:22 2003
From: cintyram at yahoo.com (cintyram <cintyram@yahoo.com>)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Re: Performance Question
In-Reply-To: <5DEEF5A894731F4B92D58E2FC37EB28A090ECB@etdema1.embarcadero.com>
Message-ID: <b3la9q+uhn0@eGroups.com>

hi,

> Is it better to increase the look ahead or is it better use semantic
> predicates?
the example u gave provides, syntaX predicates .. and the feature is
provided to allow not having to use the same look ahead in all cases,
even when it is not required .. so it is better to use syntax
predicates instead of increased look ahead ;
also where infinite look ahead is required what ever you do to the
look ahead, it cant help and a predicate has to be used ;
but there might be some cases where all the rules will end up
requiring a higher look ahead .. in that case incrasing look ahead
might be better than writing predicates for allt he rules :)
i dont think increasing look ahead can ever substitute for semantic
predicates, because they address different issues 

HTH
cheers
ram


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From uiorean at cluj.astral.ro  Thu Feb 27 10:16:10 2003
From: uiorean at cluj.astral.ro (uiorean <uiorean@cluj.astral.ro>)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] I got the parseing, now how do I do something useful ?
Message-ID: <b3lkla+2cl8@eGroups.com>

I wrote a lexer and a parser. Now my problem is how do I get the
parsed tokens stored (for further processing) ? 
My parser looks like:

entry:	(
		(insrd dest COMA source)
		|(insdest dest)	
		)*;

where I have

protected insrd:	 ADD_ 
		|ADC_
		|SUB_ 
                ;
protected source:	 REG
			|DOP
			|PORT
			|LDB
			|DST
			;
protected dest:		REG;

and so on...

i would like to do something like: 


entry:	(
		(i:insrd d:dest COMA s:source 
{somefunction(i.getText(), i.getType(), d.getText(), d.getType());})
		|(i1:insdest d1:dest
{somefunction(i.getText(), i1.getType(), d1.getText(), d1.getType());})	
		)*;

but this does not work.  I don't think I really need to build a tree
for this, there must be an easyer way.

I am new to this mather so any suggestion is appreciated.

L. Uiorean


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mtiller at ford.com  Thu Feb 27 10:59:54 2003
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] I got the parsing, now how do I do something
	 useful ?
Message-ID: <AF02884D0976D311A014009027A8F1FB1FD54AF4@na1fcm10.dearborn.ford.com>

I am in a similar boat.  I've built a lexer and a parser.  Furthermore, I have used the AST generation directives to create an AST that has the information I need in it.  Finally, I have a treewalker that I have used to walk the resulting ASTs (for complex test cases).

In summary, I have everything I need to get to the complete AST.  Now what?

In some sense, I know what I need to do to get to my final goal (which is an elaborated version of my initial tree), but I have these nagging questions:

1) Are there any tools (beyond the tree walker) that I can use for elaboration of my AST.

2) I expect to have to make many passes over my tree (which I can do with a tree walker), to do semantic checking before I finally elaborate the tree.  How do I store the data that I collect on these passes?  Should I store it on each AST node somehow (with some auxiliary "collection" objects) or should I somehow collect it at a global level using the AST node as a form of key?

Actually, those are the only questions I can think of off the top of my head.  Once I have some time to move beyond the tree construction phase, I'm sure I'll have more.

--
Mike

> -----Original Message-----
> From: uiorean <uiorean@cluj.astral.ro> [mailto:uiorean@cluj.astral.ro]
> Sent: Thursday, February 27, 2003 1:16 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] I got the parseing, now how do I do 
> something
> useful ?
> 
> 
> I wrote a lexer and a parser. Now my problem is how do I get the
> parsed tokens stored (for further processing) ? 
> My parser looks like:
> 
> entry:	(
> 		(insrd dest COMA source)
> 		|(insdest dest)	
> 		)*;
> 
> where I have
> 
> protected insrd:	 ADD_ 
> 		|ADC_
> 		|SUB_ 
>                 ;
> protected source:	 REG
> 			|DOP
> 			|PORT
> 			|LDB
> 			|DST
> 			;
> protected dest:		REG;
> 
> and so on...
> 
> i would like to do something like: 
> 
> 
> entry:	(
> 		(i:insrd d:dest COMA s:source 
> {somefunction(i.getText(), i.getType(), d.getText(), d.getType());})
> 		|(i1:insdest d1:dest
> {somefunction(i.getText(), i1.getType(), d1.getText(), 
> d1.getType());})	
> 		)*;
> 
> but this does not work.  I don't think I really need to build a tree
> for this, there must be an easyer way.
> 
> I am new to this mather so any suggestion is appreciated.
> 
> L. Uiorean
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From richard.ney at aspect.com  Thu Feb 27 11:17:50 2003
From: richard.ney at aspect.com (Ney, Richard)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] I got the parseing, now how do I do somethin
	g useful ?
Message-ID: <0F9CBE7F81945C4BB7A32BE6E7656EE00ECDD1@sac1exch3.aspect.com>

Try putting # in front like this rule

alias
	: i:IDENT
	{
		#i.setType(SqlTokenTypes.ALIAS);	
	}


-Richard


-----Original Message-----
From: uiorean <uiorean@cluj.astral.ro> [mailto:uiorean@cluj.astral.ro] 
Sent: Thursday, February 27, 2003 10:16 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] I got the parseing, now how do I do something
useful ?

I wrote a lexer and a parser. Now my problem is how do I get the
parsed tokens stored (for further processing) ? 
My parser looks like:

entry:	(
		(insrd dest COMA source)
		|(insdest dest)	
		)*;

where I have

protected insrd:	 ADD_ 
		|ADC_
		|SUB_ 
                ;
protected source:	 REG
			|DOP
			|PORT
			|LDB
			|DST
			;
protected dest:		REG;

and so on...

i would like to do something like: 


entry:	(
		(i:insrd d:dest COMA s:source 
{somefunction(i.getText(), i.getType(), d.getText(), d.getType());})
		|(i1:insdest d1:dest
{somefunction(i.getText(), i1.getType(), d1.getText(), d1.getType());})	
		)*;

but this does not work.  I don't think I really need to build a tree
for this, there must be an easyer way.

I am new to this mather so any suggestion is appreciated.

L. Uiorean


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Feb 27 11:18:09 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] I got the parsing, now how do I do something useful ?
In-Reply-To: <AF02884D0976D311A014009027A8F1FB1FD54AF4@na1fcm10.dearborn.ford.com>
Message-ID: <350ACF48-4A88-11D7-B052-000393BB647E@jguru.com>


On Thursday, February 27, 2003, at 10:59 AM, Tiller, Michael (M.M.) 
wrote:

> I am in a similar boat.  I've built a lexer and a parser.  
> Furthermore, I have used the AST generation directives to create an 
> AST that has the information I need in it.  Finally, I have a 
> treewalker that I have used to walk the resulting ASTs (for complex 
> test cases).
>
> In summary, I have everything I need to get to the complete AST.  Now 
> what?
>
> In some sense, I know what I need to do to get to my final goal (which 
> is an elaborated version of my initial tree), but I have these nagging 
> questions:
>
> 1) Are there any tools (beyond the tree walker) that I can use for 
> elaboration of my AST.
>
> 2) I expect to have to make many passes over my tree (which I can do 
> with a tree walker), to do semantic checking before I finally 
> elaborate the tree.  How do I store the data that I collect on these 
> passes?  Should I store it on each AST node somehow (with some 
> auxiliary "collection" objects) or should I somehow collect it at a 
> global level using the AST node as a form of key?
>
> Actually, those are the only questions I can think of off the top of 
> my head.  Once I have some time to move beyond the tree construction 
> phase, I'm sure I'll have more.

Keep the questions coming...I'll build them into my lectures when I get 
to that :)

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gschaps at attbi.com  Thu Feb 27 11:22:14 2003
From: gschaps at attbi.com (Gary L. Schaps <gschaps@attbi.com>)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] C++ Undefined References
Message-ID: <b3loh6+okna@eGroups.com>

I'm trying to bring up a small compiler front end which I just moved 
from Windows (works) to Linux (breaks).  The problem is undefined 
references.

main.cpp
---------
#include MYLexer.hpp
....
MYLexer lexer(file);

MYLexer.hpp
------------
...
class MYLexer : public ANTLR_USE_NAMESPACE(antlr) CharScanner, public 
MYTokenTypes {
...
     public MYLexer(ANTLR_USE_NAMESPACE(std) istream& in);
...

linker error
------------
main.cpp: undefined reference to `MYLexer::MYLexer(std::istream&)

Does anyone see through this problem?  It is symptomatic of alot
of undefined references I see, and it's impeding my development.

Thanks.

Gary Schaps


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From uiorean at cluj.astral.ro  Thu Feb 27 11:32:54 2003
From: uiorean at cluj.astral.ro (uiorean <uiorean@cluj.astral.ro>)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Re: I got the parsing, now how do I do something useful ?
In-Reply-To: <350ACF48-4A88-11D7-B052-000393BB647E@jguru.com>
Message-ID: <b3lp56+209s@eGroups.com>


> Keep the questions coming...I'll build them into my lectures when I get 
> to that :)
> 
> Ter

Ok, nice of you to respond. However I would like some hint, if you
don't have time to respond maybe you could suggest where or in what
documentation is my question addressed. 
Thank You !

L.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mtiller at ford.com  Thu Feb 27 13:54:50 2003
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Language Independence
Message-ID: <AF02884D0976D311A014009027A8F1FB1FD54AF5@na1fcm10.dearborn.ford.com>

Disclaimer: This message includes some issues I'm having which I have been unable to find a solution for.  Hopefully, all these issues can be addressed without any change to ANTLR.  If not, I'd be interested in discussing whether we might see some changes in ANTLR in the future to address these issues.

With C#, Java and C++ current supported by ANTLR (and Python on the way?), it seems to me that ANTLR has the great advantage of being a language agnostic tool.  I applaud this.  However, it stops just short of being truly language independent which is a shame.

To give you some background, I have developed a lexer+parser+treewalker.  I'm quite pleased by the fact that the entire arrangement is *NEARLY* language independent.  This is really a shame because it seems to me that it could be made completely language neutral.  To me, there are only three real issues.  The first one may have a solution, the second one seems like it could be addressed easily but the third one (quite deliberately if I'm not mistaken) doesn't have a current workaround:

1) My first problem is that in the language I'm interested in (Modelica), has some rules that are somewhat complicated.  Suffice it to say that I have several optional qualifiers that appear at the start of the rule and I want them as the last children of that AST.  So, I use the "!" to suppress automatically including them and then I add a statement like "#cd1->addChild(#f)" or "#cd1.addChild(#f)" depending on whether I am using C++ or Java, respectively.  Admittedly, I might be able to avoid this particular manipulation of the tree but it would be nice (and perhaps I'm just not aware) if a language-neutral way existed for this.

2) In my lexer, I have a similar problem.  I need to process comments and dump whitespace.  If I understand this correctly, this is typically done like this:

WS
    : (' '
        | '\t'
        | '\n' { newline(); }
        | '\r')
        {
//            _ttype = antlr::Token::SKIP;
            _ttype = Token.SKIP;
        }
    ;

Once again, a slightly different syntax is required depending on whether this is C++ or Java (or C# or Python, etc).

3) This is the more significant (and in my opinion, downright silly) obstacle to achieving language independence.  My grammar file starts with:

options {
    language = "Cpp";
}

Why oh why am I prohibited from making this a command line option?  I know this was discussed before, but I never understood the evil of command-line options.  Perhaps there is a reason why associated the language with the grammar would be useful (when the grammar/treewalker includes actions for example).  But mine are (or could be made) essentially language neutral except for this one line!?!?!

How about a compromise.  Keep the "language = ..." option, but allow the *default language* to be controlled from the command line.  Then you do not lose or exchange this functionality, you merely augment it?!?  Can we agree to that?

If these issues are resolved, I will be at peace with my ".g" files because I won't feel like I have needlessly over-constrained their use.

--
Mike

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Feb 27 14:26:30 2003
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Language Independence
In-Reply-To: <AF02884D0976D311A014009027A8F1FB1FD54AF5@na1fcm10.dearborn.ford.com>
Message-ID: <851B0E3A-4AA2-11D7-B052-000393BB647E@jguru.com>


On Thursday, February 27, 2003, at 01:54 PM, Tiller, Michael (M.M.) 
wrote:

> Disclaimer: This message includes some issues I'm having which I have 
> been unable to find a solution for.  Hopefully, all these issues can 
> be addressed without any change to ANTLR.  If not, I'd be interested 
> in discussing whether we might see some changes in ANTLR in the future 
> to address these issues.
>
> With C#, Java and C++ current supported by ANTLR (and Python on the 
> way?), it seems to me that ANTLR has the great advantage of being a 
> language agnostic tool.  I applaud this.  However, it stops just short 
> of being truly language independent which is a shame.
>
> To give you some background, I have developed a 
> lexer+parser+treewalker.  I'm quite pleased by the fact that the 
> entire arrangement is *NEARLY* language independent.  This is really a 
> shame because it seems to me that it could be made completely language 
> neutral.  To me, there are only three real issues.  The first one may 
> have a solution, the second one seems like it could be addressed 
> easily but the third one (quite deliberately if I'm not mistaken) 
> doesn't have a current workaround:
>
> 1) My first problem is that in the language I'm interested in 
> (Modelica), has some rules that are somewhat complicated.  Suffice it 
> to say that I have several optional qualifiers that appear at the 
> start of the rule and I want them as the last children of that AST.  
> So, I use the "!" to suppress automatically including them and then I 
> add a statement like "#cd1->addChild(#f)" or "#cd1.addChild(#f)" 
> depending on whether I am using C++ or Java, respectively.  
> Admittedly, I might be able to avoid this particular manipulation of 
> the tree but it would be nice (and perhaps I'm just not aware) if a 
> language-neutral way existed for this.
>
> 2) In my lexer, I have a similar problem.  I need to process comments 
> and dump whitespace.  If I understand this correctly, this is 
> typically done like this:
>
> WS
>     : (' '
>         | '\t'
>         | '\n' { newline(); }
>         | '\r')
>         {
> //            _ttype = antlr::Token::SKIP;
>             _ttype = Token.SKIP;
>         }

Actually $setType(Token.SKIP) is the "right" way ;)

>     ;
>
> Once again, a slightly different syntax is required depending on 
> whether this is C++ or Java (or C# or Python, etc).
>
> 3) This is the more significant (and in my opinion, downright silly) 
> obstacle to achieving language independence.  My grammar file starts 
> with:
>
> options {
>     language = "Cpp";
> }
>
> Why oh why am I prohibited from making this a command line option?  I 
> know this was discussed before, but I never understood the evil of 
> command-line options.  Perhaps there is a reason why associated the 
> language with the grammar would be useful (when the grammar/treewalker 
> includes actions for example).  But mine are (or could be made) 
> essentially language neutral except for this one line!?!?!

If there are no actions then no problem: cmd-line would work.  Rarely 
do you have no actions, however, and the {...} must be handled in a 
language sensitive way :)

> How about a compromise.  Keep the "language = ..." option, but allow 
> the *default language* to be controlled from the command line.  Then 
> you do not lose or exchange this functionality, you merely augment 
> it?!?  Can we agree to that?

What do you do about actions?

> If these issues are resolved, I will be at peace with my ".g" files 
> because I won't feel like I have needlessly over-constrained their > use.

Perhaps just building trees is the answer...that is language 
independent :)

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From lgc at mail1.jpl.nasa.gov  Thu Feb 27 14:37:29 2003
From: lgc at mail1.jpl.nasa.gov (lgcraymer <lgc@mail1.jpl.nasa.gov>)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Re: Language Independence
In-Reply-To: <AF02884D0976D311A014009027A8F1FB1FD54AF5@na1fcm10.dearborn.ford.com>
Message-ID: <b3m3v9+p3a8@eGroups.com>

ANTLR 3 will be a lot more language independent and will include my 
tree rewriting extensions (which supports the type of rewrite that 
you mention without resorting to constructing nodes in actions) and 
automated tree grammar generation.  This would be in a 2.x but for the 
licensing issues--I can release the code under open source license, 
but not as public domain, and Ter is reluctant to take ANTLR open 
source before the 3.0 rewrite.  Besides, we're both pretty busy right 
now.  Maybe these issues will start to sort themselves out when we 
have another ANTLR workshop (probably after Ter comes up for air from 
his teaching inundation).

--Loring



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From deshmane at pmc-sierra.com  Thu Feb 27 16:48:18 2003
From: deshmane at pmc-sierra.com (deshmane <deshmane@pmc-sierra.com>)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] installation problems with 2.7.2
Message-ID: <b3mbki+9jvm@eGroups.com>

Hi,

I am new to ANTLR.
I am seeing some installation problems with the download
that I did today.
(This same problem was also seen by someone else on
google groups - I think it was comp.compiler.?)

Can you please help ?

thanks,
-harsh

The error message:
java -cp /home/deshmane/verilog-parser/antlr-2.7.2/antlrall.jar 
antlr.Tool antlr.g
-cp:illegal argument
Usage: java [-options] class

where options include:
  -help     print out this message
  ..
  ..
  ..



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gschaps at attbi.com  Thu Feb 27 17:28:55 2003
From: gschaps at attbi.com (Gary L. Schaps <gschaps@attbi.com>)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Re: installation problems with 2.7.2
In-Reply-To: <b3mbki+9jvm@eGroups.com>
Message-ID: <b3me0n+ejkh@eGroups.com>

After you "configure", but before you "make" do the following:

   In the directory "scripts" edit Config.make and change both
   instances of "antlrall.jar" to "antlr.jar".

Then "make".

Gary

--- In antlr-interest@yahoogroups.com, "deshmane <deshmane@p...>" 
<deshmane@p...> wrote:
> Hi,
> 
> I am new to ANTLR.
> I am seeing some installation problems with the download
> that I did today.
> (This same problem was also seen by someone else on
> google groups - I think it was comp.compiler.?)
> 
> Can you please help ?
> 
> thanks,
> -harsh
> 
> The error message:
> java -cp /home/deshmane/verilog-parser/antlr-2.7.2/antlrall.jar 
> antlr.Tool antlr.g
> -cp:illegal argument
> Usage: java [-options] class
> 
> where options include:
>   -help     print out this message
>   ..
>   ..
>   ..


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From andrew at adersoftware.com  Thu Feb 27 19:47:40 2003
From: andrew at adersoftware.com (Andrew Deren)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] I got the parseing, now how do I do something useful ?
References: <b3lkla+2cl8@eGroups.com>
Message-ID: <001101c2dedc$26de9d10$6501a8c0@andrew>

I have created a simple parser/lexer that builds AST and a program that
walks AST and pretty-prints it and interpreter that interprets the program.
The language is a simple calculator where you can define your own functions
and use variables.
You can download it from http://www.adersoftware.com/antlr/calc.zip or read
more info at
http://www.adersoftware.com/antlr/readme.txt

I just started it today and it seems with antlr it's pretty easy to do
things. I used this small example as my learning experience for antlr.
Hope this can help you a bit.

Andrew

----- Original Message -----
From: <uiorean@cluj.astral.ro>
To: <antlr-interest@yahoogroups.com>
Sent: Thursday, February 27, 2003 12:16 PM
Subject: [antlr-interest] I got the parseing, now how do I do something
useful ?


> I wrote a lexer and a parser. Now my problem is how do I get the
> parsed tokens stored (for further processing) ?
> My parser looks like:
>
> entry: (
> (insrd dest COMA source)
> |(insdest dest)
> )*;
>
> where I have
>
> protected insrd: ADD_
> |ADC_
> |SUB_
>                 ;
> protected source: REG
> |DOP
> |PORT
> |LDB
> |DST
> ;
> protected dest: REG;
>
> and so on...
>
> i would like to do something like:
>
>
> entry: (
> (i:insrd d:dest COMA s:source
> {somefunction(i.getText(), i.getType(), d.getText(), d.getType());})
> |(i1:insdest d1:dest
> {somefunction(i.getText(), i1.getType(), d1.getText(), d1.getType());})
> )*;
>
> but this does not work.  I don't think I really need to build a tree
> for this, there must be an easyer way.
>
> I am new to this mather so any suggestion is appreciated.
>
> L. Uiorean
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>
>
>



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From andrew at adersoftware.com  Thu Feb 27 20:43:29 2003
From: andrew at adersoftware.com (Andrew Deren)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] Help w/Complicated lexer/parser
References: <b3lkla+2cl8@eGroups.com> <001101c2dedc$26de9d10$6501a8c0@andrew>
Message-ID: <000701c2dee3$f09208c0$6501a8c0@andrew>

I don't know if it's really complicated, but can't figure it out.
Basically I'm writing parser for a language called cold fusion. It's like
HTML with embeded code in it (like PHP or JSP).

The language looks like this:
each construct starts with <CF followed by tag name (ex. <CFLOOP)
after the beginning tag there are name=value attributes like html. However
each value could itself be an expression. Expressions are enclosed in ##
(ex. #function(x + 3)#)
So an example attribute could be from="#someFunction(x - 2 * f(x))#"
Another complicated thing is that a function could accept a string, and a
string could have an expression inside of it.
ex. #left("this is x:#x# and y:#y#", 3)
Additionally regular text (outside of tags) could have expressions in it
(enclosed in ##)

First I tried using Disambiguating predicates, but that turned out to be too
cumbersome.
My second attempt was to use multiple lexers, but I can't find much
documentation and examples on it (except a small java/javadoc example).
Besides, I think I would have to have too many lexers/parsers.
The way I was thinking, I would need:
Inside of tag parser (starts when <CF is seen)
Inside of expression parser (starts when # is seen)
Regular parser (for text, switches to tag or expression parsers)

Is that the right direction?
Thanks,
Andrew



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cesar at ciencias.unam.mx  Fri Feb 28 01:28:14 2003
From: cesar at ciencias.unam.mx (Cesar Octavio Lopez Nataren)
Date: Mon Dec 20 16:15:24 2004
Subject: [antlr-interest] C# generated code.
Message-ID: <1046424494.3052.1.camel@totopo>

Hello, I'm new to ANTLR but I'm  using it now on Linux, with mono::

I have been experimenting some errors like:

System.out.println instead of System.Console.WriteLine on the C#
generated code. Anyone experimenting the same problem?

Where can I post bug-reports?


Greetings.



-- 
c?sar


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mtiller at ford.com  Fri Feb 28 05:34:03 2003
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:15:25 2004
Subject: [antlr-interest] Language Independence
Message-ID: <AF02884D0976D311A014009027A8F1FB1FD54AF6@na1fcm10.dearborn.ford.com>


> -----Original Message-----
> From: Terence Parr [mailto:parrt@jguru.com]
> Subject: Re: [antlr-interest] Language Independence


> > 2) In my lexer, I have a similar problem.  I need to 
> process comments 
> > and dump whitespace.  If I understand this correctly, this is 
> > typically done like this:
> >
> > WS
> >     : (' '
> >         | '\t'
> >         | '\n' { newline(); }
> >         | '\r')
> >         {
> > //            _ttype = antlr::Token::SKIP;
> >             _ttype = Token.SKIP;
> >         }
> >     ;
> 
> Actually $setType(Token.SKIP) is the "right" way ;)

Maybe I'm missing something, but I still end up with $setType(Token.SKIP) or $setType(antlr::Token::SKIP) depending on the target language right?

> > Once again, a slightly different syntax is required depending on 
> > whether this is C++ or Java (or C# or Python, etc).
> >
> > 3) This is the more significant (and in my opinion, 
> downright silly) 
> > obstacle to achieving language independence.  My grammar 
> file starts 
> > with:
> >
> > options {
> >     language = "Cpp";
> > }
> >
> > Why oh why am I prohibited from making this a command line 
> option?  I 
> > know this was discussed before, but I never understood the evil of 
> > command-line options.  Perhaps there is a reason why associated the 
> > language with the grammar would be useful (when the 
> grammar/treewalker 
> > includes actions for example).  But mine are (or could be made) 
> > essentially language neutral except for this one line!?!?!
> 
> If there are no actions then no problem: cmd-line would work.  Rarely 
> do you have no actions, however, and the {...} must be handled in a 
> language sensitive way :)

I should have been more specific here.  My goal is to have a lexer and parser that build an AST for all the target languages that ANTLR supports.  I realize that I need actions *at some point*, but I'd like to have a language neutral foundation on which a variety of tools could be built and I don't want to needlessly constrain the language that those tools should be built with.

> > How about a compromise.  Keep the "language = ..." option, 
> but allow 
> > the *default language* to be controlled from the command 
> line.  Then 
> > you do not lose or exchange this functionality, you merely augment 
> > it?!?  Can we agree to that?
> 
> What do you do about actions?

See above.

> > If these issues are resolved, I will be at peace with my ".g" files 
> > because I won't feel like I have needlessly 
> over-constrained their > use.
> 
> Perhaps just building trees is the answer...that is language 
> independent :)

Precisely.

> Ter

--
Mike

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From pete.forman at westerngeco.com  Fri Feb 28 05:53:17 2003
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:15:25 2004
Subject: [antlr-interest] Language Independence
In-Reply-To: 
 <AF02884D0976D311A014009027A8F1FB1FD54AF6@na1fcm10.dearborn.ford.com>
Message-ID: <5.1.1.1.2.20030228133646.01fae9f8@wgmail2.gatwick.eur.slb.com>

At 2003-02-28 08:34 -0500, Tiller, Michael (M.M.) wrote:
>Maybe I'm missing something, but I still end up with
>$setType(Token.SKIP) or $setType(antlr::Token::SKIP) depending on
>the target language right?

ISTM that what you'd like is to enhance the ANTLR language so that we
could use $setTokenType(SKIP) to do the right thing whatever the
target language.  There are probably lots of action items that would
benefit from this approach.  Even though there are few people
deploying on multiple languages it would be useful if example grammars
and ANTLR snippets were as language neutral as possible.

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Fri Feb 28 08:07:10 2003
From: open.zone at virgin.net (micheal_jor <open.zone@virgin.net>)
Date: Mon Dec 20 16:15:25 2004
Subject: [antlr-interest] Re: C# generated code.
In-Reply-To: <1046424494.3052.1.camel@totopo>
Message-ID: <b3o1fe+5g3a@eGroups.com>

--- In antlr-interest@yahoogroups.com, Cesar Octavio Lopez Nataren 
<cesar@c...> wrote:
> Hello, I'm new to ANTLR but I'm  using it now on Linux, with mono::

Cool!.

> I have been experimenting some errors like:
> 
> System.out.println instead of System.Console.WriteLine on the C#
> generated code. Anyone experimenting the same problem?
>
> Where can I post bug-reports?

Please post all errors you encounter to this list. I monitor the 
list. If possible, please include :
1. a detailed description of the problem
2. instructions for reproducing the problem and,
3. a sample ANTLR grammar that demonstrates the problem

Cheers,

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

