<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Dilemma
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Dilemma&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004111.html">
   <LINK REL="Next"  HREF="004112.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Dilemma</H1>
    <B>j_scandaliaris at yahoo.es</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Dilemma&In-Reply-To="
       TITLE="[antlr-interest] Dilemma">j_scandaliaris at yahoo.es
       </A><BR>
    <I>Tue Jun 10 04:15:06 PDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004111.html">[antlr-interest] (unknown)
</A></li>
        <LI>Next message: <A HREF="004112.html">[antlr-interest] XML parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4110">[ date ]</a>
              <a href="thread.html#4110">[ thread ]</a>
              <a href="subject.html#4110">[ subject ]</a>
              <a href="author.html#4110">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,
	I have an antlr recognizer already built. Now I am adding actions to
produce the output, which is the generation of a tree (not an AST, it is a
custom tree-structure representing the hierarchy of the source code). I
decided to build the tree manually, mostly because I don't have control over
it, only access to the methods for creating it. From the input source code
the important thing is to recognize some key structures which are the inputs
to the tree construction methods, mainly names, numbers and portions of the
source code (in the form of strings).
	
	The dilemma I face is to find the simplest (performance not
critical) way to do this (the grammar has already some 2000 lines and over
200 rules). The basic problems I face are that the grammar decomposes a rule
(for which I have some tree construction method) into several levels of
calls to other sub rules. Each sub rule will match some text (a name, a list
of names, or more complex structures) and then I have to return this info
back to the main rule in some way. This is the key point. I have devised so
far several ways of doing this (in each case with some limitations):
	
	1. Use rule return values. -&gt; Cumbersome when the sub rule is n
levels below. One possible return value; when in need to return multiple
things they have to be grouped; manually done all the way
	2. Use AST= true and take advantage of nodes' text as a sort of
antlr-managed string-type return value. -&gt; Limited to strings, still a bit
cumbersome when sub rule is deep down in the call hierarchy, adds a lot of
overhead.
	3. Create some data members in the parser class or some automatic
objects within the class' rules, and communicate through them. -&gt; Difficult
to follow, I think it might be prone to hide bugs.
	
	So far my ideas, right now I might be going for a combination of 2
and 3, but I am looking forward to learning from other people's experience
and knowledge. Any help is appreciated,

Regards,

Jorge


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004111.html">[antlr-interest] (unknown)
</A></li>
	<LI>Next message: <A HREF="004112.html">[antlr-interest] XML parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4110">[ date ]</a>
              <a href="thread.html#4110">[ thread ]</a>
              <a href="subject.html#4110">[ subject ]</a>
              <a href="author.html#4110">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
