From jcobleig at cs.umass.edu  Wed Oct  2 08:53:07 2002
From: jcobleig at cs.umass.edu (Jamieson M. Cobleigh)
Date: Mon Dec 20 16:15:02 2004
Subject: [antlr-interest] Literal testing in ANTLR
Message-ID: <Pine.LNX.4.44.0210021138310.9581-100000@charon.cs.umass.edu>

I was working on a ANTLR Lexer with the following rules:

options { 
  testLiterals = false;
  charVocabulary = '\3'..'\377';
}

tokens {
  DIGRAPH = "digraph";
}

STRING 
  : QUOTED_STRING | UNQUOTED_STRING;

protected
QUOTED_STRING 
  : '"'! (ESC | ~('"' | '\\'))* '"'!;

protected
UNQUOTED_STRING options { testLiterals=true; }
  : LETTER ( NUMBER | LETTER | '_')*;
   
ESC goes to the usual collection of \n, \r, etc.


When 'digraph' was encountered during lexing, it was getting lexed by the 
UNQUOTED_STRING rule and then tested against the literal table.  However, 
the STRING rule was setting the token type to be STRING, overwriting the 
result of the literal test.

I moved the testLiterals=true option to the STRING rule, but then both
'digraph' and '"digraph"' were getting matched as the literal DIGRAPH
because the QUOTED_STRING rule removed the double quotes.

My solution was to remove the STRING rule and make a rule in my parser:
  aString : QUOTED_STRING | UNQUOTED_STRING;

Is this the best way to do this or is there a better solution that I'm not 
seeing?

Jamie


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tracey_meng at yahoo.com  Wed Oct  2 15:11:09 2002
From: tracey_meng at yahoo.com (txm3124)
Date: Mon Dec 20 16:15:02 2004
Subject: [antlr-interest] Re: ANTLR Tutorial
In-Reply-To: <001301c267c0$f2efaa90$04bbbc93@nonamee94lxznt>
Message-ID: <anfqtt+e41s@eGroups.com>

I cann't access the link.  Could you send a PDF copy?

Thanks.

Tracey

--- In antlr-interest@y..., "ion" <trigonometric@s...> wrote:
> I promised a link to an ANTLR tutorial I wrote a while
> back, so here it is:
> 
> 
http://supportweb.cs.bham.ac.uk/documentation/tutorials/docsystem/buil
d/tuto
> rials/antlr/antlrhome.html
> 
> If for some ludicrous reason this is only accessable from computers
> within my netblock (the university sometimes does this), I can zip 
the
> PDF and XHTML versions and post them as an attachment to the
> list.
> 
> There are bound to be mistakes in the documentation, since I was
> really only a begginner in it when I wrote it, if you let me know 
about
> these mistakes via the online form on the website directly this 
would
> be the best method because then they will get put into a database 
where
> I can deal with them when I get the time.
> 
> I am entering my second year now, I work, pretty hard so time may be
> scarce so mistakes may take a while to get fixed.
> 
> Regards
> 
> Ashley J.S Mills


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tracey_meng at yahoo.com  Wed Oct  2 15:28:12 2002
From: tracey_meng at yahoo.com (txm3124)
Date: Mon Dec 20 16:15:02 2004
Subject: [antlr-interest] Re: giving an ANTLR seminar at USF Oct 24
In-Reply-To: <7044CF67-D312-11D6-BF59-0030653DE0D6@jguru.com>
Message-ID: <anfrts+lf71@eGroups.com>

Terence,

Are you going to talk about ANTLR Meta-Language and Lexical Analysis, 
especially how to write .g file in the seminar?

I try to use ANTLR to build a parser for my application.  Are there 
any step-by-step tutorials with more complicated examples?  Are you 
teaching any ANTLR classes in Bay Area?

Thanks.

Tracey

--- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
> Howdy,
> 
> If anybody is interested, I'll be giving an ANTLR seminar at the 
> University of San Francisco on Thursday October 24th at noon; 
Harney 
> 235.  Here's a general map (Harney is code HR off Golden Gate ave):
> 
> http://www.usfca.edu/online/gen_info/map_c.html
> 
> The 235 classroom is a 2.5$M "superclassroom" built by alumnus 
Alfred 
> Chuang (yes, the BEA co-founder).  Pretty slick room.
> 
> Anyhoo, the talk will be targeted to undergraduates so expect a 
taste 
> of antlr not any of the latest goodies.  I'll probably show off by 
> building a full stack-machine compiler for a simple language on the 
fly 
> <snicker>.  Any suggestions for the talk are welcome.  I'll be 
> advertising the grad language class I'm teaching next semester too, 
> which some of you might also be interested in.
> 
> Anybody who wants to show up and heckle, come on by.  I'll probably 
> grab some lunch right after the talk from about 1 to 2.  Let me 
know if 
> you plan on coming by so I can bring my carnivore proof suit.
> 
> Regards,
> Ter
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Oct  2 18:22:04 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:02 2004
Subject: [antlr-interest] Re: giving an ANTLR seminar at USF Oct 24
In-Reply-To: <anfrts+lf71@eGroups.com>
Message-ID: <868CFD20-D66E-11D6-96A7-0030653DE0D6@jguru.com>


On Wednesday, October 2, 2002, at 03:28  PM, txm3124 wrote:

> Terence,
>
> Are you going to talk about ANTLR Meta-Language and Lexical Analysis,
> especially how to write .g file in the seminar?

Yes, but it will be fast and furious as it all has to happen in 1 hour 
and these students are not full programmers yet ;)

>
> I try to use ANTLR to build a parser for my application.  Are there
> any step-by-step tutorials with more complicated examples?  Are you
> teaching any ANTLR classes in Bay Area?

Next semester I have giving a full graduate class at USF. :)

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From trigonometric at softhome.net  Thu Oct  3 01:05:45 2002
From: trigonometric at softhome.net (ion)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: ANTLR Tutorial
References: <anfqtt+e41s@eGroups.com>
Message-ID: <001b01c26ab3$ad1fd530$04bbbc93@nonamee94lxznt>

I take it you did try to put the bits of the link back
together and you did not just try and click on the
half-link?

I will send you the PDF personally since it is 161KB,
I don't want to clog everyones Internet time.

Is anyone else having trouble acessing the link, what
is the error that is produced?

Ashley J.S Mills
----- Original Message -----
From: "txm3124" <tracey_meng@yahoo.com>
To: <antlr-interest@yahoogroups.com>
Sent: Wednesday, October 02, 2002 11:11 PM
Subject: [antlr-interest] Re: ANTLR Tutorial


> I cann't access the link.  Could you send a PDF copy?
>
> Thanks.
>
> Tracey
>
> --- In antlr-interest@y..., "ion" <trigonometric@s...> wrote:
> > I promised a link to an ANTLR tutorial I wrote a while
> > back, so here it is:
> >
> >
> http://supportweb.cs.bham.ac.uk/documentation/tutorials/docsystem/buil
> d/tuto
> > rials/antlr/antlrhome.html
> >
> > If for some ludicrous reason this is only accessable from computers
> > within my netblock (the university sometimes does this), I can zip
> the
> > PDF and XHTML versions and post them as an attachment to the
> > list.
> >
> > There are bound to be mistakes in the documentation, since I was
> > really only a begginner in it when I wrote it, if you let me know
> about
> > these mistakes via the online form on the website directly this
> would
> > be the best method because then they will get put into a database
> where
> > I can deal with them when I get the time.
> >
> > I am entering my second year now, I work, pretty hard so time may be
> > scarce so mistakes may take a while to get fixed.
> >
> > Regards
> >
> > Ashley J.S Mills
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Thu Oct  3 08:15:29 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] correct link to the  ANTLR Tutorial
In-Reply-To: <001b01c26ab3$ad1fd530$04bbbc93@nonamee94lxznt>
Message-ID: <20021003151529.33276.qmail@web40008.mail.yahoo.com>



http://supportweb.cs.bham.ac.uk/documentation/tutorials/docsystem/build/tutorials/antlr/antlrhome.html


but this is for java tutorial; could some one update
it to include c++ exapmles also?
specifically this is what i was looking for;

how to make a dll which serves as a parser;

also how to use the visual compilers like vc++ and
borland c++ to compile the c++ fiiels generated by
ANTLR ; in this i want to use the ANTLR fiels as a
dll;
so when i finish my translator i can deliver the
following
1. ANTLR DLL
2. MyParser DLL
now users can write their own program and call the
function translate() to translate their source files..

in the download that came with antlr2.7.1 , the dll
project file does not seem to be good; i keep getting
errors that some files are not found; and those files
are not in this download also;

example: 

c:\ad\experiment\charscanner.cpp(97) : warning C4355:
'this' : used in base member initializer list
c:\ad\experiment\charscanner.cpp(107) : warning C4355:
'this' : used in base member initializer list
c:\ad\experiment\charscanner.cpp(117) : warning C4355:
'this' : used in base member initializer list
CommonASTNode.cpp
fatal error C1083: Cannot open source file:
'C:\ad\experiment\CommonASTNode.cpp': No such file or
directory
CommonASTNodeWithHiddenTokens.cpp
fatal error C1083: Cannot open source file:
'C:\ad\experiment\CommonASTNodeWithHiddenTokens.cpp':
No such file or directory
CommonHiddenStreamToken.cpp


plese point me to the proper links ...
thank you
ram





--- ion <trigonometric@softhome.net> wrote:
> I take it you did try to put the bits of the link
> back
> together and you did not just try and click on the
> half-link?
> 
> I will send you the PDF personally since it is
> 161KB,
> I don't want to clog everyones Internet time.
> 
> Is anyone else having trouble acessing the link,
> what
> is the error that is produced?
> 
> Ashley J.S Mills
> ----- Original Message -----
> From: "txm3124" <tracey_meng@yahoo.com>
> To: <antlr-interest@yahoogroups.com>
> Sent: Wednesday, October 02, 2002 11:11 PM
> Subject: [antlr-interest] Re: ANTLR Tutorial
> 
> 
> > I cann't access the link.  Could you send a PDF
> copy?
> >
> > Thanks.
> >
> > Tracey
> >
> > --- In antlr-interest@y..., "ion"
> <trigonometric@s...> wrote:
> > > I promised a link to an ANTLR tutorial I wrote a
> while
> > > back, so here it is:
> > >
> > >
> >
>
http://supportweb.cs.bham.ac.uk/documentation/tutorials/docsystem/buil
> > d/tuto
> > > rials/antlr/antlrhome.html
> > >
> > > If for some ludicrous reason this is only
> accessable from computers
> > > within my netblock (the university sometimes
> does this), I can zip
> > the
> > > PDF and XHTML versions and post them as an
> attachment to the
> > > list.
> > >
> > > There are bound to be mistakes in the
> documentation, since I was
> > > really only a begginner in it when I wrote it,
> if you let me know
> > about
> > > these mistakes via the online form on the
> website directly this
> > would
> > > be the best method because then they will get
> put into a database
> > where
> > > I can deal with them when I get the time.
> > >
> > > I am entering my second year now, I work, pretty
> hard so time may be
> > > scarce so mistakes may take a while to get
> fixed.
> > >
> > > Regards
> > >
> > > Ashley J.S Mills
> >
> >
> >
> >
> > Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/
> >
> >
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
New DSL Internet Access from SBC & Yahoo!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Trey.Spiva at embarcadero.com  Thu Oct  3 11:28:22 2002
From: Trey.Spiva at embarcadero.com (Trey Spiva)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Possible Bug in Java Grammer
Message-ID: <6791D870658F174FB863E2FA890000A3BE013D@abyss4.advancedsw.com>

Can any one see a flaw in my reasoning?

The tryBlock looks like:

// an exception handler try/catch block
tryBlock
  : "try"^ compoundStatement
    (handler)*
    ( "finally"^ compoundStatement )?
  ;

// an exception handler
handler
  : "catch"^ LPAREN! parameterDeclaration RPAREN! compoundStatement
  ;

For the java code:

try
{
  ...
}
finally
{
}

The AST Tree will look like:

"finally"
  |
   - "try 

The Tree Grammar looks like:

tryBlock
  : #( "try" slist (handler)* (#("finally" slist))? )
  ;

handler
  : #( "catch" parameterDef slist )
  ;

The Tree Parser is expecting the tree

"try"
  |
   _ "finally"

So I changed the tryBlock rule to look like

// an exception handler try/catch block
tryBlock
  : "try"^ compoundStatement
    (handler)*
    ( finallyHandler )?
  ;

// an exception handler
handler
  : "catch"^ LPAREN! parameterDeclaration RPAREN! compoundStatement
  ;

finallyHandler
  : "finally"^ compoundStatement
  ;

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tracey_meng at yahoo.com  Thu Oct  3 11:34:00 2002
From: tracey_meng at yahoo.com (txm3124)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Error on Defining a syntactic predicate
Message-ID: <ani2io+jbeg@eGroups.com>

Can someone help me to fix the definition of Lexer rules of AND and 
OR?  Thanks.

I got an error as follows when I compiled the attached ruleParser.g 
file:
  
C:\Tools\antlr-2.7.1\examples\java\ruleParser>java antlr.Tool 
ruleParser.g
ANTLR Parser Generator   Version 2.7.1   1989-2000 jGuru.com
warning: lexical nondeterminism between rules VARIABLE and AND upon
ruleParser.g:0:         k==1:'A'..'Z','_','a'..'z'
warning: lexical nondeterminism between rules VARIABLE and OR upon
ruleParser.g:0:         k==1:'A'..'Z','_','a'..'z'
warning: lexical nondeterminism between rules AND and OR upon
ruleParser.g:0:         k==1:<end-of-token>,'A'..'Z','_','a'..'z'
warning: found optional path in nextToken()
warning: found optional path in nextToken()

---------------------------------------------------

class RuleParser extends Parser;
options {
	buildAST = true;
}

expr
	:	mexpr (OR^ mexpr)* SEMI!
	;

mexpr
	:	atom (AND^ atom)*
	;

atom:	INT | WORDS
	;

class RuleLexer extends Lexer;

WS	:	(' '
	|	'\t'
	|	'\n'
	|	'\r')
		{_ttType = Token.SKIP; }
	;

LPAREN:	'('
	;

RPAREN:	')'
	;

SEMI:	';'
	;

protected
DIGIT
	:	'0'..'9'
	;

INT	:	(DIGIT)+
	;
	
VARIABLE
	:	('a'..'z'|'A'..'Z'|'_')
('a'..'z'|'A'..'Z'|'_'|'0'..'9')*
	;

AND
	:	('A''N''D')	 => 	{$setType(AND);} 
	|	VARIABLE      	{$setType(VARIABLE);}
	;

OR
	: 	('O''R')	 => 	{$setType(OR);} 
	|	VARIABLE      	{$setType(VARIABLE);}
	;


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From richard.hensley at mckesson.com  Thu Oct  3 11:49:38 2002
From: richard.hensley at mckesson.com (Hensley, Richard)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Error on Defining a syntactic predicate
Message-ID: <B1F6F2DA362BD2118EA30008C75618E3063AE4CF@eugexc01ntms.eugalg.hboc.com>

Tracey, 

Trying putting 

tokens { 
  AND = "and"; 
  OR = "or"; 
} 

at the top of your parser 

and removing the AND and OR rules from the lexer. 

put 

options { 
  testLiterals=false; 
} 

at the top of your lexer 

change the VARIABLE rule to 

VARIABLE 
options { 
  testLiterals=true; 
} 
        :       ('a'..'z'|'A'..'Z'|'_') 
('a'..'z'|'A'..'Z'|'_'|'0'..'9')* 
        ; 

This should treat AND and OR as literals, not variable names. 

Richard 
-----Original Message----- 
From: txm3124 [ mailto:tracey_meng@yahoo.com
<mailto:tracey_meng@yahoo.com> ] 
Sent: Thursday, October 03, 2002 11:34 AM 
To: antlr-interest@yahoogroups.com 
Subject: [antlr-interest] Error on Defining a syntactic predicate 


Can someone help me to fix the definition of Lexer rules of AND and 
OR?  Thanks. 

I got an error as follows when I compiled the attached ruleParser.g 
file: 
  
C:\Tools\antlr-2.7.1\examples\java\ruleParser>java antlr.Tool 
ruleParser.g 
ANTLR Parser Generator   Version 2.7.1   1989-2000 jGuru.com 
warning: lexical nondeterminism between rules VARIABLE and AND upon 
ruleParser.g:0:         k==1:'A'..'Z','_','a'..'z' 
warning: lexical nondeterminism between rules VARIABLE and OR upon 
ruleParser.g:0:         k==1:'A'..'Z','_','a'..'z' 
warning: lexical nondeterminism between rules AND and OR upon 
ruleParser.g:0:         k==1:<end-of-token>,'A'..'Z','_','a'..'z' 
warning: found optional path in nextToken() 
warning: found optional path in nextToken() 

--------------------------------------------------- 

class RuleParser extends Parser; 
options { 
        buildAST = true; 
} 

expr 
        :       mexpr (OR^ mexpr)* SEMI! 
        ; 

mexpr 
        :       atom (AND^ atom)* 
        ; 

atom:   INT | WORDS 
        ; 

class RuleLexer extends Lexer; 

WS      :       (' ' 
        |       '\t' 
        |       '\n' 
        |       '\r') 
                {_ttType = Token.SKIP; } 
        ; 

LPAREN: '(' 
        ; 

RPAREN: ')' 
        ; 

SEMI:   ';' 
        ; 

protected 
DIGIT 
        :       '0'..'9' 
        ; 

INT     :       (DIGIT)+ 
        ; 
        
VARIABLE 
        :       ('a'..'z'|'A'..'Z'|'_') 
('a'..'z'|'A'..'Z'|'_'|'0'..'9')* 
        ; 

AND 
        :       ('A''N''D')      =>     {$setType(AND);} 
        |       VARIABLE        {$setType(VARIABLE);} 
        ; 

OR 
        :       ('O''R')         =>     {$setType(OR);} 
        |       VARIABLE        {$setType(VARIABLE);} 
        ; 


  

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>  

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021003/f6c2fe20/attachment.html
From mzukowski at yci.com  Thu Oct  3 12:22:03 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Possible Bug in Java Grammer
Message-ID: <170826586F3BD511910D0200C110AAA8032B4D73@memail03.bco-home.com>

That's the right way to do it.  You have to split the "finally"^ into its
own rule just like you did.

Monty

> -----Original Message-----
> From: Trey Spiva [mailto:Trey.Spiva@embarcadero.com]
> Sent: Thursday, October 03, 2002 11:28 AM
> To: 'antlr-interest@yahoogroups.com'
> Subject: [antlr-interest] Possible Bug in Java Grammer
> 
> 
> Can any one see a flaw in my reasoning?
> 
> The tryBlock looks like:
> 
> // an exception handler try/catch block
> tryBlock
>   : "try"^ compoundStatement
>     (handler)*
>     ( "finally"^ compoundStatement )?
>   ;
> 
> // an exception handler
> handler
>   : "catch"^ LPAREN! parameterDeclaration RPAREN! compoundStatement
>   ;
> 
> For the java code:
> 
> try
> {
>   ...
> }
> finally
> {
> }
> 
> The AST Tree will look like:
> 
> "finally"
>   |
>    - "try 
> 
> The Tree Grammar looks like:
> 
> tryBlock
>   : #( "try" slist (handler)* (#("finally" slist))? )
>   ;
> 
> handler
>   : #( "catch" parameterDef slist )
>   ;
> 
> The Tree Parser is expecting the tree
> 
> "try"
>   |
>    _ "finally"
> 
> So I changed the tryBlock rule to look like
> 
> // an exception handler try/catch block
> tryBlock
>   : "try"^ compoundStatement
>     (handler)*
>     ( finallyHandler )?
>   ;
> 
> // an exception handler
> handler
>   : "catch"^ LPAREN! parameterDeclaration RPAREN! compoundStatement
>   ;
> 
> finallyHandler
>   : "finally"^ compoundStatement
>   ;
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tracey_meng at yahoo.com  Thu Oct  3 12:54:40 2002
From: tracey_meng at yahoo.com (tracey meng)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Error on Defining a syntactic predicate
In-Reply-To: <B1F6F2DA362BD2118EA30008C75618E3063AE4CF@eugexc01ntms.eugalg.hboc.com>
Message-ID: <20021003195440.80688.qmail@web14706.mail.yahoo.com>

Richard,

Thanks a lot.  I'll fix it.  

Tracey

--- "Hensley, Richard" <richard.hensley@mckesson.com>
wrote:
> Tracey, 
> 
> Trying putting 
> 
> tokens { 
>   AND = "and"; 
>   OR = "or"; 
> } 
> 
> at the top of your parser 
> 
> and removing the AND and OR rules from the lexer. 
> 
> put 
> 
> options { 
>   testLiterals=false; 
> } 
> 
> at the top of your lexer 
> 
> change the VARIABLE rule to 
> 
> VARIABLE 
> options { 
>   testLiterals=true; 
> } 
>         :       ('a'..'z'|'A'..'Z'|'_') 
> ('a'..'z'|'A'..'Z'|'_'|'0'..'9')* 
>         ; 
> 
> This should treat AND and OR as literals, not
> variable names. 
> 
> Richard 
> -----Original Message----- 
> From: txm3124 [ mailto:tracey_meng@yahoo.com
> <mailto:tracey_meng@yahoo.com> ] 
> Sent: Thursday, October 03, 2002 11:34 AM 
> To: antlr-interest@yahoogroups.com 
> Subject: [antlr-interest] Error on Defining a
> syntactic predicate 
> 
> 
> Can someone help me to fix the definition of Lexer
> rules of AND and 
> OR?  Thanks. 
> 
> I got an error as follows when I compiled the
> attached ruleParser.g 
> file: 
>   
> C:\Tools\antlr-2.7.1\examples\java\ruleParser>java
> antlr.Tool 
> ruleParser.g 
> ANTLR Parser Generator   Version 2.7.1   1989-2000
> jGuru.com 
> warning: lexical nondeterminism between rules
> VARIABLE and AND upon 
> ruleParser.g:0:         k==1:'A'..'Z','_','a'..'z' 
> warning: lexical nondeterminism between rules
> VARIABLE and OR upon 
> ruleParser.g:0:         k==1:'A'..'Z','_','a'..'z' 
> warning: lexical nondeterminism between rules AND
> and OR upon 
> ruleParser.g:0:        
> k==1:<end-of-token>,'A'..'Z','_','a'..'z' 
> warning: found optional path in nextToken() 
> warning: found optional path in nextToken() 
> 
> --------------------------------------------------- 
> 
> class RuleParser extends Parser; 
> options { 
>         buildAST = true; 
> } 
> 
> expr 
>         :       mexpr (OR^ mexpr)* SEMI! 
>         ; 
> 
> mexpr 
>         :       atom (AND^ atom)* 
>         ; 
> 
> atom:   INT | WORDS 
>         ; 
> 
> class RuleLexer extends Lexer; 
> 
> WS      :       (' ' 
>         |       '\t' 
>         |       '\n' 
>         |       '\r') 
>                 {_ttType = Token.SKIP; } 
>         ; 
> 
> LPAREN: '(' 
>         ; 
> 
> RPAREN: ')' 
>         ; 
> 
> SEMI:   ';' 
>         ; 
> 
> protected 
> DIGIT 
>         :       '0'..'9' 
>         ; 
> 
> INT     :       (DIGIT)+ 
>         ; 
>         
> VARIABLE 
>         :       ('a'..'z'|'A'..'Z'|'_') 
> ('a'..'z'|'A'..'Z'|'_'|'0'..'9')* 
>         ; 
> 
> AND 
>         :       ('A''N''D')      =>    
> {$setType(AND);} 
>         |       VARIABLE       
> {$setType(VARIABLE);} 
>         ; 
> 
> OR 
>         :       ('O''R')         =>    
> {$setType(OR);} 
>         |       VARIABLE       
> {$setType(VARIABLE);} 
>         ; 
> 
> 
>   
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/
> <http://docs.yahoo.com/info/terms/>  
> 
> 


__________________________________________________
Do you Yahoo!?
New DSL Internet Access from SBC & Yahoo!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Oct  3 13:09:55 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Error on Defining a syntactic predicate
In-Reply-To: <20021003195440.80688.qmail@web14706.mail.yahoo.com>
Message-ID: <154F3316-D70C-11D6-96A7-0030653DE0D6@jguru.com>

I think i have this all cleaned up in my dev branch...gotta find time 
to pull that all in.

Ter
On Thursday, October 3, 2002, at 12:54  PM, tracey meng wrote:

> Richard,
>
> Thanks a lot.  I'll fix it.
>
> Tracey
>
> --- "Hensley, Richard" <richard.hensley@mckesson.com>
> wrote:
>> Tracey,
>>
>> Trying putting
>>
>> tokens {
>>   AND = "and";
>>   OR = "or";
>> }
>>
>> at the top of your parser
>>
>> and removing the AND and OR rules from the lexer.
>>
>> put
>>
>> options {
>>   testLiterals=false;
>> }
>>
>> at the top of your lexer
>>
>> change the VARIABLE rule to
>>
>> VARIABLE
>> options {
>>   testLiterals=true;
>> }
>>         :       ('a'..'z'|'A'..'Z'|'_')
>> ('a'..'z'|'A'..'Z'|'_'|'0'..'9')*
>>         ;
>>
>> This should treat AND and OR as literals, not
>> variable names.
>>
>> Richard
>> -----Original Message-----
>> From: txm3124 [ mailto:tracey_meng@yahoo.com
>> <mailto:tracey_meng@yahoo.com> ]
>> Sent: Thursday, October 03, 2002 11:34 AM
>> To: antlr-interest@yahoogroups.com
>> Subject: [antlr-interest] Error on Defining a
>> syntactic predicate
>>
>>
>> Can someone help me to fix the definition of Lexer
>> rules of AND and
>> OR?  Thanks.
>>
>> I got an error as follows when I compiled the
>> attached ruleParser.g
>> file:
>>
>> C:\Tools\antlr-2.7.1\examples\java\ruleParser>java
>> antlr.Tool
>> ruleParser.g
>> ANTLR Parser Generator   Version 2.7.1   1989-2000
>> jGuru.com
>> warning: lexical nondeterminism between rules
>> VARIABLE and AND upon
>> ruleParser.g:0:         k==1:'A'..'Z','_','a'..'z'
>> warning: lexical nondeterminism between rules
>> VARIABLE and OR upon
>> ruleParser.g:0:         k==1:'A'..'Z','_','a'..'z'
>> warning: lexical nondeterminism between rules AND
>> and OR upon
>> ruleParser.g:0:
>> k==1:<end-of-token>,'A'..'Z','_','a'..'z'
>> warning: found optional path in nextToken()
>> warning: found optional path in nextToken()
>>
>> ---------------------------------------------------
>>
>> class RuleParser extends Parser;
>> options {
>>         buildAST = true;
>> }
>>
>> expr
>>         :       mexpr (OR^ mexpr)* SEMI!
>>         ;
>>
>> mexpr
>>         :       atom (AND^ atom)*
>>         ;
>>
>> atom:   INT | WORDS
>>         ;
>>
>> class RuleLexer extends Lexer;
>>
>> WS      :       (' '
>>         |       '\t'
>>         |       '\n'
>>         |       '\r')
>>                 {_ttType = Token.SKIP; }
>>         ;
>>
>> LPAREN: '('
>>         ;
>>
>> RPAREN: ')'
>>         ;
>>
>> SEMI:   ';'
>>         ;
>>
>> protected
>> DIGIT
>>         :       '0'..'9'
>>         ;
>>
>> INT     :       (DIGIT)+
>>         ;
>>
>> VARIABLE
>>         :       ('a'..'z'|'A'..'Z'|'_')
>> ('a'..'z'|'A'..'Z'|'_'|'0'..'9')*
>>         ;
>>
>> AND
>>         :       ('A''N''D')      =>
>> {$setType(AND);}
>>         |       VARIABLE
>> {$setType(VARIABLE);}
>>         ;
>>
>> OR
>>         :       ('O''R')         =>
>> {$setType(OR);}
>>         |       VARIABLE
>> {$setType(VARIABLE);}
>>         ;
>>
>>
>>
>>
>> Your use of Yahoo! Groups is subject to
>> http://docs.yahoo.com/info/terms/
>> <http://docs.yahoo.com/info/terms/>
>>
>>
>
>
> __________________________________________________
> Do you Yahoo!?
> New DSL Internet Access from SBC & Yahoo!
> http://sbc.yahoo.com
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Fri Oct  4 07:47:38 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] known number of repetitions..
In-Reply-To: <20021003195440.80688.qmail@web14706.mail.yahoo.com>
Message-ID: <20021004144738.96869.qmail@web40012.mail.yahoo.com>


hi 
 please consider the following and do reply to the
list :

== 1 =========
 this is with reference to writing a rule for numbers

in english : " a number can be any sequence of digits
upto a maximum of 6; so  0 - 999999 is a valid number
"
but 1234567 is not 

what is the best way to write such a rule?

also what to do if the known number is really large
like" a maximum of 1000 records makes a recset "

but anything more than 1000 is invalid ;

== 2 =========

 how to retain comments in rules? and how to find
their associativity with source lines? 

 example :

  in some simple source langugae suppose the code is 
 

 ADD C B D ; add the no. of Boys and Girls and put
           ; the count in regC


 or like 
 /* the utility variables are declared below */
  int a, /* accumulator  */
      b, /* number of boys in the class  */
      c, /* temporary counter   */
      d  /* number of girls  */
      ;
when translated into a target language which should
have comments but not c style ..

 // the utility variables are declared below 
  int a, // accumulator  
      b, // number of boys in the class  
      c, // temporary counter   
      d  // number of girls  
      ;
how do i match comments as they can appear anywhere
they like and also retain them in the target language
file with a good associativity to the meaning ;

== 3 =========
    
how to insert dummy parent nodes in trees?
 like when i want to save all the polynomials from the
test.in file  i want the tree like 
  root
   op-> poly one -> result one
    |
    v 
   op -> poly two -> result two

is there any better structure how to get root and op
into the tree?

============================

thank you very much
warm regards,
ram

 
  







__________________________________________________
Do you Yahoo!?
New DSL Internet Access from SBC & Yahoo!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From richard.hensley at mckesson.com  Fri Oct  4 09:18:20 2002
From: richard.hensley at mckesson.com (Hensley, Richard)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Questions about learning ANTLR
Message-ID: <B1F6F2DA362BD2118EA30008C75618E3063AE4E6@eugexc01ntms.eugalg.hboc.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: ruleParser.g
Type: application/octet-stream
Size: 2295 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20021004/b201dbe4/ruleParser.obj
From lgc at mail1.jpl.nasa.gov  Fri Oct  4 14:15:21 2002
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: known number of repetitions..
In-Reply-To: <20021004144738.96869.qmail@web40012.mail.yahoo.com>
Message-ID: <anl0d9+1oo9@eGroups.com>

--- In antlr-interest@y..., Sriram Durbha <cintyram@y...> wrote: 
> == 1 =========
>  this is with reference to writing a rule for numbers
> 
> in english : " a number can be any sequence of digits
> upto a maximum of 6; so  0 - 999999 is a valid number
> "
> but 1234567 is not 
> 
> what is the best way to write such a rule?
> 
> also what to do if the known number is really large
> like" a maximum of 1000 records makes a recset "
> 
> but anything more than 1000 is invalid ;
> 

For answers to 2), and 3), check the FAQs at www.antlr.org.

For this one, the consideration is what to do if numbers are outside 
the accepted range.  Do you really want to consider 1234567 to be 
interpreted as two tokens, 123456 and 7?  Or do you want to accept 
1234567 as a single token and detect an error condition?  I suspect 
that the second alternative is preferable, and that the same is true 
for recset.

I'll assume that your grammar has a DIGIT rule:
protected
DIGIT
	:	'0'..'9'
	;

The first case is handled in LISP style (lots of irritating single 
parentheses:

NUMBER
        :
        DIGIT
        (    DIGIT
             (     DIGIT
                   (     DIGIT
                         (     DIGIT
                               (     DIGIT
                               )?
                         )?
                    )?
              )?
        )?
        ;

Yes, it's ugly, but it interprets a number as a sequence of from one 
to six digits.

For the second case, you accept any number of digits

NUMBER
returns [ int counter; ]
     :
     { counter = 1; }
     DIGIT (DIGIT {counter++;)*
     ;

and either add code to throw an error if counter > 6 in NUMBER (then 
you don't need the return value) or do validate the return value where 
NUMBER is used and use the ANTLR error handling stuff to throw a 
meaningful exception.

--Loring


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Fri Oct  4 16:13:49 2002
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
In-Reply-To: <B1F6F2DA362BD2118EA30008C75618E3063AE4E6@eugexc01ntms.eugalg.hboc.com>
Message-ID: <anl7bd+7r0f@eGroups.com>

Sorry to butt in Richard but I had a few questions once I read your 
post.....

> In general, the tokens { } section is for literal
> strings that occur in the stream exactly as specified, or for 
imagninary
> tokens required to construct a abstract syntax tree (AST).

What about keywords?. I wondered why the java.g for example didn't 
define keywords like "class", "final" etc as tokens. 

> When I was developing my parser, I would make one simple change at a
> time, build the parser, execute a my junit test suite. I created an 
ant
> build.xml script that made this simple.

How do you use junit to test a parser?. Care to share more details on 
this please?.

Cheers!

Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Fri Oct  4 16:18:03 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
Message-ID: <170826586F3BD511910D0200C110AAA8032B4D86@memail03.bco-home.com>

Keywords are properly specified as literals, check the documentation.

There is a parser unit test kit in the upload section of the group page on
http://groups.yahoo.com/group/antlr-interest/.

Monty

> -----Original Message-----
> From: micheal_jor [mailto:open.zone@virgin.net]
> Sent: Friday, October 04, 2002 4:14 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: Questions about learning ANTLR
> 
> 
> Sorry to butt in Richard but I had a few questions once I read your 
> post.....
> 
> > In general, the tokens { } section is for literal
> > strings that occur in the stream exactly as specified, or for 
> imagninary
> > tokens required to construct a abstract syntax tree (AST).
> 
> What about keywords?. I wondered why the java.g for example didn't 
> define keywords like "class", "final" etc as tokens. 
> 
> > When I was developing my parser, I would make one simple change at a
> > time, build the parser, execute a my junit test suite. I created an 
> ant
> > build.xml script that made this simple.
> 
> How do you use junit to test a parser?. Care to share more details on 
> this please?.
> 
> Cheers!
> 
> Micheal
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From richard.hensley at mckesson.com  Fri Oct  4 16:25:05 2002
From: richard.hensley at mckesson.com (Hensley, Richard)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
Message-ID: <B1F6F2DA362BD2118EA30008C75618E3063AE505@eugexc01ntms.eugalg.hboc.com>

The use of token {} section is entirely optional. I use them in my
grammars because I like to organize my grammars using tokens that I can
identify. Also, if you use "keyword" construct in your grammar, then
your token type will be LITERAL_keyword. If you use KEYWORD = "keyword";
in a tokens section construct, then your token type will be KEYWORD. I
would rather use KEYWORD than LITERAL_keyword in my java code when
testing types in an AST.

I use junit by creating a number of files that have both valid and
invalid input. For the invalid input ones, I examine the returned
exception to make sure the right one happened, and that it happened in
the right place. For the valid ones, I always have a big file that
contains most cases from my grammar. If the big file throws an
exception, I print out the antlr exception, and fail the test. I also
have some smaller files, after they parse I programmatically examine the
AST to make sure that it is structured the way I expect.

One thing I do for my test data files is that I use the following Java
statement: 

        InputStream in =
getClass().getClassLoader().getResourceAsStream( 
                               "testdata/viewstest1"); 

This allows me to place my test data in the class path, instead of some
absolute or relative file path. Just my preferece, but it works for me.
By the way, this only works if the directory where testdata/ is located
is part of the classpath.

Here is the testing target from my ant file: 

    <target name="test-java" depends="env,check-resources,build-java"> 
        <delete> 
                <fileset dir="${test.output}" includes="*" /> 
        </delete> 
        <junit printsummary="yes"> 
            <classpath> 
                <path refid="classpath" /> 
                <pathelement path="${testdata.classpath}" />

            </classpath> 
            <formatter type="plain" /> 
            <batchtest todir="${test.output}"> 
                <fileset dir="${source.dir}"> 
                    <include name="**/test/*Test.java" /> 
                </fileset> 
            </batchtest> 
        </junit> 
    </target> 

Notice that I always package my tests as a subpackage to the one being
tested. I also name my tests according to the standard of <class being
tested>Test.java. I also added the testdata/ to my classpath so the
getResourceAsStream() routines work.

-----Original Message----- 
From: micheal_jor [ mailto:open.zone@virgin.net
<mailto:open.zone@virgin.net> ] 
Sent: Friday, October 04, 2002 4:14 PM 
To: antlr-interest@yahoogroups.com 
Subject: [antlr-interest] Re: Questions about learning ANTLR 


Sorry to butt in Richard but I had a few questions once I read your 
post..... 

> In general, the tokens { } section is for literal 
> strings that occur in the stream exactly as specified, or for 
imagninary 
> tokens required to construct a abstract syntax tree (AST). 

What about keywords?. I wondered why the java.g for example didn't 
define keywords like "class", "final" etc as tokens. 

> When I was developing my parser, I would make one simple change at a 
> time, build the parser, execute a my junit test suite. I created an 
ant 
> build.xml script that made this simple. 

How do you use junit to test a parser?. Care to share more details on 
this please?. 

Cheers! 

Micheal 


  

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>  

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021004/73eeb572/attachment.html
From richard.hensley at mckesson.com  Fri Oct  4 16:40:00 2002
From: richard.hensley at mckesson.com (Hensley, Richard)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
Message-ID: <B1F6F2DA362BD2118EA30008C75618E3063AE506@eugexc01ntms.eugalg.hboc.com>

Monty, 

Where in the documentation does it talk about keywords being specified
as literals? I want to check it out to make sure I didn't screw up my
grammars, and give bad advice.

Richard 

-----Original Message----- 
From: mzukowski@yci.com [ mailto:mzukowski@yci.com
<mailto:mzukowski@yci.com> ] 
Sent: Friday, October 04, 2002 4:18 PM 
To: antlr-interest@yahoogroups.com 
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 


Keywords are properly specified as literals, check the documentation. 

There is a parser unit test kit in the upload section of the group page
on 
http://groups.yahoo.com/group/antlr-interest/
<http://groups.yahoo.com/group/antlr-interest/> . 

Monty 

> -----Original Message----- 
> From: micheal_jor [ mailto:open.zone@virgin.net
<mailto:open.zone@virgin.net> ] 
> Sent: Friday, October 04, 2002 4:14 PM 
> To: antlr-interest@yahoogroups.com 
> Subject: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> Sorry to butt in Richard but I had a few questions once I read your 
> post..... 
> 
> > In general, the tokens { } section is for literal 
> > strings that occur in the stream exactly as specified, or for 
> imagninary 
> > tokens required to construct a abstract syntax tree (AST). 
> 
> What about keywords?. I wondered why the java.g for example didn't 
> define keywords like "class", "final" etc as tokens. 
> 
> > When I was developing my parser, I would make one simple change at a

> > time, build the parser, execute a my junit test suite. I created an 
> ant 
> > build.xml script that made this simple. 
> 
> How do you use junit to test a parser?. Care to share more details on 
> this please?. 
> 
> Cheers! 
> 
> Micheal 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>

> 
> 

  

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>  

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021004/7741a202/attachment.html
From bogdan_mt at yahoo.com  Sun Oct  6 08:24:21 2002
From: bogdan_mt at yahoo.com (Bogdan Mitu)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
In-Reply-To: <B1F6F2DA362BD2118EA30008C75618E3063AE505@eugexc01ntms.eugalg.hboc.com>
Message-ID: <20021006152421.13507.qmail@web14803.mail.yahoo.com>


--- "Hensley, Richard" <richard.hensley@mckesson.com> wrote:
...
> I use junit by creating a number of files that have both valid and
> invalid input. For the invalid input ones, I examine the returned
> exception to make sure the right one happened, and that it happened in
> the right place. For the valid ones, I always have a big file that
> contains most cases from my grammar. If the big file throws an
> exception, I print out the antlr exception, and fail the test. I also
> have some smaller files, after they parse I programmatically examine the
> AST to make sure that it is structured the way I expect.

Hi Richard,

Have you tried this? 
http://groups.yahoo.com/group/antlr-interest/files/tester.zip

You may find it useful.

Best regards,
Bogdan

> One thing I do for my test data files is that I use the following Java
> statement: 
> 
>         InputStream in =
> getClass().getClassLoader().getResourceAsStream( 
>                                "testdata/viewstest1"); 
> 
> This allows me to place my test data in the class path, instead of some
> absolute or relative file path. Just my preferece, but it works for me.
> By the way, this only works if the directory where testdata/ is located
> is part of the classpath.
> 
> Here is the testing target from my ant file: 
> 
>     <target name="test-java" depends="env,check-resources,build-java"> 
>         <delete> 
>                 <fileset dir="${test.output}" includes="*" /> 
>         </delete> 
>         <junit printsummary="yes"> 
>             <classpath> 
>                 <path refid="classpath" /> 
>                 <pathelement path="${testdata.classpath}" />
> 
>             </classpath> 
>             <formatter type="plain" /> 
>             <batchtest todir="${test.output}"> 
>                 <fileset dir="${source.dir}"> 
>                     <include name="**/test/*Test.java" /> 
>                 </fileset> 
>             </batchtest> 
>         </junit> 
>     </target> 
> 
> Notice that I always package my tests as a subpackage to the one being
> tested. I also name my tests according to the standard of <class being
> tested>Test.java. I also added the testdata/ to my classpath so the
> getResourceAsStream() routines work.
> 
> -----Original Message----- 
> From: micheal_jor [ mailto:open.zone@virgin.net
> <mailto:open.zone@virgin.net> ] 
> Sent: Friday, October 04, 2002 4:14 PM 
> To: antlr-interest@yahoogroups.com 
> Subject: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> Sorry to butt in Richard but I had a few questions once I read your 
> post..... 
> 
> > In general, the tokens { } section is for literal 
> > strings that occur in the stream exactly as specified, or for 
> imagninary 
> > tokens required to construct a abstract syntax tree (AST). 
> 
> What about keywords?. I wondered why the java.g for example didn't 
> define keywords like "class", "final" etc as tokens. 
> 
> > When I was developing my parser, I would make one simple change at a 
> > time, build the parser, execute a my junit test suite. I created an 
> ant 
> > build.xml script that made this simple. 
> 
> How do you use junit to test a parser?. Care to share more details on 
> this please?. 
> 
> Cheers! 
> 
> Micheal 
> 
> 
>   
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>  
> 
> 


__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Mon Oct  7 08:01:08 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
Message-ID: <170826586F3BD511910D0200C110AAA8032B4D8B@memail03.bco-home.com>

http://www.antlr.org/doc/lexer.html#_bb7

-----Original Message-----
From: Hensley, Richard [mailto:richard.hensley@mckesson.com]
Sent: Friday, October 04, 2002 4:40 PM
To: 'antlr-interest@yahoogroups.com'
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR


Monty, 
Where in the documentation does it talk about keywords being specified as
literals? I want to check it out to make sure I didn't screw up my grammars,
and give bad advice.
Richard 

....

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From richard.hensley at mckesson.com  Mon Oct  7 08:51:44 2002
From: richard.hensley at mckesson.com (Hensley, Richard)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
Message-ID: <B1F6F2DA362BD2118EA30008C75618E3063AE50E@eugexc01ntms.eugalg.hboc.com>

Bogdan, 

No, I had not tried the tester. I'm examining it now to see how I could
integrate it. 

I found it very interesting. I especially liked the part that allows me
to specify which rule to test because I have a tendancy to test my
grammars from the ground up, starting with the simplest rules. Testing
the simplest rules first is how my testing currently works.

Richard 

-----Original Message----- 
From: Bogdan Mitu [ mailto:bogdan_mt@yahoo.com
<mailto:bogdan_mt@yahoo.com> ] 
Sent: Sunday, October 06, 2002 8:24 AM 
To: antlr-interest@yahoogroups.com 
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 



--- "Hensley, Richard" <richard.hensley@mckesson.com> wrote: 
... 
> I use junit by creating a number of files that have both valid and 
> invalid input. For the invalid input ones, I examine the returned 
> exception to make sure the right one happened, and that it happened in

> the right place. For the valid ones, I always have a big file that 
> contains most cases from my grammar. If the big file throws an 
> exception, I print out the antlr exception, and fail the test. I also 
> have some smaller files, after they parse I programmatically examine
the 
> AST to make sure that it is structured the way I expect. 

Hi Richard, 

Have you tried this? 
http://groups.yahoo.com/group/antlr-interest/files/tester.zip
<http://groups.yahoo.com/group/antlr-interest/files/tester.zip>  

You may find it useful. 

Best regards, 
Bogdan 

> One thing I do for my test data files is that I use the following Java

> statement: 
> 
>         InputStream in = 
> getClass().getClassLoader().getResourceAsStream( 
>                                "testdata/viewstest1"); 
> 
> This allows me to place my test data in the class path, instead of
some 
> absolute or relative file path. Just my preferece, but it works for
me. 
> By the way, this only works if the directory where testdata/ is
located 
> is part of the classpath. 
> 
> Here is the testing target from my ant file: 
> 
>     <target name="test-java" depends="env,check-resources,build-java">

>         <delete> 
>                 <fileset dir="${test.output}" includes="*" /> 
>         </delete> 
>         <junit printsummary="yes"> 
>             <classpath> 
>                 <path refid="classpath" /> 
>                 <pathelement path="${testdata.classpath}" /> 
> 
>             </classpath> 
>             <formatter type="plain" /> 
>             <batchtest todir="${test.output}"> 
>                 <fileset dir="${source.dir}"> 
>                     <include name="**/test/*Test.java" /> 
>                 </fileset> 
>             </batchtest> 
>         </junit> 
>     </target> 
> 
> Notice that I always package my tests as a subpackage to the one being

> tested. I also name my tests according to the standard of <class being

> tested>Test.java. I also added the testdata/ to my classpath so the 
> getResourceAsStream() routines work. 
> 
> -----Original Message----- 
> From: micheal_jor [ mailto:open.zone@virgin.net
<mailto:open.zone@virgin.net>  
> < mailto:open.zone@virgin.net <mailto:open.zone@virgin.net> > ] 
> Sent: Friday, October 04, 2002 4:14 PM 
> To: antlr-interest@yahoogroups.com 
> Subject: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> Sorry to butt in Richard but I had a few questions once I read your 
> post..... 
> 
> > In general, the tokens { } section is for literal 
> > strings that occur in the stream exactly as specified, or for 
> imagninary 
> > tokens required to construct a abstract syntax tree (AST). 
> 
> What about keywords?. I wondered why the java.g for example didn't 
> define keywords like "class", "final" etc as tokens. 
> 
> > When I was developing my parser, I would make one simple change at a

> > time, build the parser, execute a my junit test suite. I created an 
> ant 
> > build.xml script that made this simple. 
> 
> How do you use junit to test a parser?. Care to share more details on 
> this please?. 
> 
> Cheers! 
> 
> Micheal 
> 
> 
>   
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>
< http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>
>  
> 
> 


__________________________________________________ 
Do you Yahoo!? 
Faith Hill - Exclusive Performances, Videos & More 
http://faith.yahoo.com <http://faith.yahoo.com>  

  

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>  

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021007/617bc2f6/attachment.html
From richard.hensley at mckesson.com  Mon Oct  7 08:45:00 2002
From: richard.hensley at mckesson.com (Hensley, Richard)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
Message-ID: <B1F6F2DA362BD2118EA30008C75618E3063AE50B@eugexc01ntms.eugalg.hboc.com>

Monty, 

Thanks for the link. When I read that chunk of documentation, I
interpreted it to mean any double quoted string, including those
specified in a tokens section. It turns out that I got lucky I guess,
because double quoted strings in a tokens section are placed in the
literals table. All that being said, I'm not sure it matters whether
double quoted string literals are specified in the tokens section, or
inline. On examining the code, I've been unable to find sigficant
function differences.

BTW, I was unable to find the literal option referred to in the
documentation. Do anybody know what it is? 

Richard 

-----Original Message----- 
From: mzukowski@yci.com [ mailto:mzukowski@yci.com
<mailto:mzukowski@yci.com> ] 
Sent: Monday, October 07, 2002 8:01 AM 
To: antlr-interest@yahoogroups.com 
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 


http://www.antlr.org/doc/lexer.html#_bb7
<http://www.antlr.org/doc/lexer.html#_bb7>  

-----Original Message----- 
From: Hensley, Richard [ mailto:richard.hensley@mckesson.com
<mailto:richard.hensley@mckesson.com> ] 
Sent: Friday, October 04, 2002 4:40 PM 
To: 'antlr-interest@yahoogroups.com' 
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 


Monty, 
Where in the documentation does it talk about keywords being specified
as 
literals? I want to check it out to make sure I didn't screw up my
grammars, 
and give bad advice. 
Richard 

.... 

  

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>  

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021007/28a3e5e1/attachment.html
From mzukowski at yci.com  Mon Oct  7 09:39:39 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
Message-ID: <170826586F3BD511910D0200C110AAA8032B4D92@memail03.bco-home.com>

It's at http://www.antlr.org/doc/options.html#_bb8.

By the way, Ter (and I'm gonna help) is about to embark upon a restructuring
of the docs and website.  It would help a lot if you could explain how the
documentation should be, in your opinion.  

Monty

-----Original Message-----
From: Hensley, Richard [mailto:richard.hensley@mckesson.com]
Sent: Monday, October 07, 2002 8:45 AM
To: 'antlr-interest@yahoogroups.com'
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR


Monty, 
Thanks for the link. When I read that chunk of documentation, I interpreted
it to mean any double quoted string, including those specified in a tokens
section. It turns out that I got lucky I guess, because double quoted
strings in a tokens section are placed in the literals table. All that being
said, I'm not sure it matters whether double quoted string literals are
specified in the tokens section, or inline. On examining the code, I've been
unable to find sigficant function differences.
BTW, I was unable to find the literal option referred to in the
documentation. Do anybody know what it is? 
Richard 
-----Original Message----- 
From: mzukowski@yci.com [mailto:mzukowski@yci.com] 
Sent: Monday, October 07, 2002 8:01 AM 
To: antlr-interest@yahoogroups.com 
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 


http://www.antlr.org/doc/lexer.html#_bb7 
-----Original Message----- 
From: Hensley, Richard [mailto:richard.hensley@mckesson.com] 
Sent: Friday, October 04, 2002 4:40 PM 
To: 'antlr-interest@yahoogroups.com' 
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 


Monty, 
Where in the documentation does it talk about keywords being specified as 
literals? I want to check it out to make sure I didn't screw up my grammars,

and give bad advice. 
Richard 
.... 
  
Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Mon Oct  7 09:03:08 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: known number of repetitions..
In-Reply-To: <anl0d9+1oo9@eGroups.com>
Message-ID: <20021007160308.46355.qmail@web40016.mail.yahoo.com>

hi,
  thank you very much for hte quick response.. 
actually 2 and 3 were solved pretty easily i just had
to go thru the documentatin once again.  

now i have more issues.. 

but first continuing with  
== 1 =========

your solution works.. 
but suppose there is a special case where the records
starting from record number 1001 are to be put into
anotehr set instead of issuing an error.. 
what can be done? in that case how do we return to the
same rule, reset our counter? 
one solution i have is to have conditinally recursive
rules.. 


some thing like this ..


rule1: 
       // count and match upto 1000 records..
       // if 1001th record is encountered 
       // go to  nextrule

nextrule : 
       // reset teh counter and go to rule1
 

i havent tried it but hope there is a way to do it
with predll(k).. 

==========================================

the new issue is as follows..
i am writing a translator from on elanguage to
another.. 

if you look at the source file , translating it by
hand is very easy, because almost line by line
translation is possible.. 
but there are certain exceptions wehre this is not
possible ;


also language constructs may span over multiple
lines.. 

eg: 
number a ,  // comment for a 
       b ,  // comment for b
       c    // comment for c

this has to be translated into 

a , (* comment for a *)
b , (* comment for b *)
c : real ; (* comment for c *)

on inspection writing a grammar for this looked like
an over kill especially when some how what ever i
write ends up throwing all kinds of tantrums ..

so i wrote a c++ class which handles it line by line 
1. tokenize based on '\n'
2. from each line look for first '//'
3. retain the comment 
4. translate the first part , append  comment 

how ever thsi strategy is very confusing for cases
wehre do .. while has to be translated into while or
for 

have to retain all lines in the loop which might
contain more loops.. 

so i want to develop mini translators [lex,parse,if
-walk ] for specific constructs and call them
dynamically from the line by line processor 
when ever necessary ;

an initial assessment of the code generated by antlr
for small grammars makes me feel that this is better,
however im not sure plese do chip in with more inputs 
and your own analysis of my strategy .. 

thank you
warm regards
ram

============== eom =================

--- lgcraymer <lgc@mail1.jpl.nasa.gov> wrote:
> --- In antlr-interest@y..., Sriram Durbha
> <cintyram@y...> wrote: 
> > == 1 =========
> >  this is with reference to writing a rule for
> numbers
> > 
> > in english : " a number can be any sequence of
> digits
> > upto a maximum of 6; so  0 - 999999 is a valid
> number
> > "
> > but 1234567 is not 
> > 
> > what is the best way to write such a rule?
> > 
> > also what to do if the known number is really
> large
> > like" a maximum of 1000 records makes a recset "
> > 
> > but anything more than 1000 is invalid ;
> > 
> 
> For answers to 2), and 3), check the FAQs at
> www.antlr.org.
> 
> For this one, the consideration is what to do if
> numbers are outside 
> the accepted range.  Do you really want to consider
> 1234567 to be 
> interpreted as two tokens, 123456 and 7?  Or do you
> want to accept 
> 1234567 as a single token and detect an error
> condition?  I suspect 
> that the second alternative is preferable, and that
> the same is true 
> for recset.
> 
> I'll assume that your grammar has a DIGIT rule:
> protected
> DIGIT
> 	:	'0'..'9'
> 	;
> 
> The first case is handled in LISP style (lots of
> irritating single 
> parentheses:
> 
> NUMBER
>         :
>         DIGIT
>         (    DIGIT
>              (     DIGIT
>                    (     DIGIT
>                          (     DIGIT
>                                (     DIGIT
>                                )?
>                          )?
>                     )?
>               )?
>         )?
>         ;
> 
> Yes, it's ugly, but it interprets a number as a
> sequence of from one 
> to six digits.
> 
> For the second case, you accept any number of digits
> 
> NUMBER
> returns [ int counter; ]
>      :
>      { counter = 1; }
>      DIGIT (DIGIT {counter++;)*
>      ;
> 
> and either add code to throw an error if counter > 6
> in NUMBER (then 
> you don't need the return value) or do validate the
> return value where 
> NUMBER is used and use the ANTLR error handling
> stuff to throw a 
> meaningful exception.
> 
> --Loring
> 

__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From richard.hensley at mckesson.com  Mon Oct  7 09:50:50 2002
From: richard.hensley at mckesson.com (Hensley, Richard)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
Message-ID: <B1F6F2DA362BD2118EA30008C75618E3063AE515@eugexc01ntms.eugalg.hboc.com>

Monty, 

I use the "testLiterals" option in my grammar's. However, I was
referring to the "literals" option as indicated in this sentence that is
just before the one that refers to the "testLiterals" option. 

"Second, literals may be specified in the lexer grammar by means of the
literal option." 

The word literal is a link, and refers to "options.html#literal" which
is not on options page. I don't think it exists, and is a mistake in the
documentation.

I would be happy to give some opinionated feedback about how the web
site could be structured. I will put some thought into it.

Richard 

-----Original Message----- 
From: mzukowski@yci.com [ mailto:mzukowski@yci.com
<mailto:mzukowski@yci.com> ] 
Sent: Monday, October 07, 2002 9:40 AM 
To: antlr-interest@yahoogroups.com 
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 


It's at http://www.antlr.org/doc/options.html#_bb8
<http://www.antlr.org/doc/options.html#_bb8> . 

By the way, Ter (and I'm gonna help) is about to embark upon a
restructuring 
of the docs and website.  It would help a lot if you could explain how
the 
documentation should be, in your opinion.  

Monty 

-----Original Message----- 
From: Hensley, Richard [ mailto:richard.hensley@mckesson.com
<mailto:richard.hensley@mckesson.com> ] 
Sent: Monday, October 07, 2002 8:45 AM 
To: 'antlr-interest@yahoogroups.com' 
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 


Monty, 
Thanks for the link. When I read that chunk of documentation, I
interpreted 
it to mean any double quoted string, including those specified in a
tokens 
section. It turns out that I got lucky I guess, because double quoted 
strings in a tokens section are placed in the literals table. All that
being 
said, I'm not sure it matters whether double quoted string literals are 
specified in the tokens section, or inline. On examining the code, I've
been 
unable to find sigficant function differences. 
BTW, I was unable to find the literal option referred to in the 
documentation. Do anybody know what it is? 
Richard 
-----Original Message----- 
From: mzukowski@yci.com [ mailto:mzukowski@yci.com
<mailto:mzukowski@yci.com> ] 
Sent: Monday, October 07, 2002 8:01 AM 
To: antlr-interest@yahoogroups.com 
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 


http://www.antlr.org/doc/lexer.html#_bb7
<http://www.antlr.org/doc/lexer.html#_bb7>  
-----Original Message----- 
From: Hensley, Richard [ mailto:richard.hensley@mckesson.com
<mailto:richard.hensley@mckesson.com> ] 
Sent: Friday, October 04, 2002 4:40 PM 
To: 'antlr-interest@yahoogroups.com' 
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 


Monty, 
Where in the documentation does it talk about keywords being specified
as 
literals? I want to check it out to make sure I didn't screw up my
grammars, 

and give bad advice. 
Richard 
.... 
  
Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>  

Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 

  

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>  

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021007/07355dbe/attachment.html
From a_rueckert at gmx.net  Mon Oct  7 10:04:22 2002
From: a_rueckert at gmx.net (Andreas Rueckert)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: known number of repetitions..
In-Reply-To: <20021007160308.46355.qmail@web40016.mail.yahoo.com>
References: <20021007160308.46355.qmail@web40016.mail.yahoo.com>
Message-ID: <02100719065202.00771@hun.bre.de>

Hi!

On Mon, 07 Okt 2002 Sriram Durbha wrote:

--<snip>--
 
> your solution works.. 
> but suppose there is a special case where the records
> starting from record number 1001 are to be put into
> anotehr set instead of issuing an error.. 
> what can be done? in that case how do we return to the
> same rule, reset our counter? 
> one solution i have is to have conditinally recursive
> rules.. 

--<snip>--
 
> i havent tried it but hope there is a way to do it
> with predll(k).. 

The classfile grammar matches a given number of tokens:
=======================================
          attributes_count=u2
          ( {attributes_count > 0}? attribute_info {attributes_count--;})* {attributes_count==0}?  
=======================================

HTH,
Andreas

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Mon Oct  7 10:47:41 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
Message-ID: <170826586F3BD511910D0200C110AAA8032B4D95@memail03.bco-home.com>

I think you're right, it sounds like a mistake.

Monty

-----Original Message-----
From: Hensley, Richard [mailto:richard.hensley@mckesson.com]
Sent: Monday, October 07, 2002 9:51 AM
To: 'antlr-interest@yahoogroups.com'
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR


Monty, 
I use the "testLiterals" option in my grammar's. However, I was referring to
the "literals" option as indicated in this sentence that is just before the
one that refers to the "testLiterals" option. 
"Second, literals may be specified in the lexer grammar by means of the
literal option." 
The word literal is a link, and refers to "options.html#literal" which is
not on options page. I don't think it exists, and is a mistake in the
documentation.
I would be happy to give some opinionated feedback about how the web site
could be structured. I will put some thought into it.
Richard 
-----Original Message----- 
From: mzukowski@yci.com [mailto:mzukowski@yci.com] 
Sent: Monday, October 07, 2002 9:40 AM 
To: antlr-interest@yahoogroups.com 
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 


It's at http://www.antlr.org/doc/options.html#_bb8. 
By the way, Ter (and I'm gonna help) is about to embark upon a restructuring

of the docs and website.  It would help a lot if you could explain how the 
documentation should be, in your opinion.  
Monty 
-----Original Message----- 
From: Hensley, Richard [mailto:richard.hensley@mckesson.com] 
Sent: Monday, October 07, 2002 8:45 AM 
To: 'antlr-interest@yahoogroups.com' 
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 


Monty, 
Thanks for the link. When I read that chunk of documentation, I interpreted 
it to mean any double quoted string, including those specified in a tokens 
section. It turns out that I got lucky I guess, because double quoted 
strings in a tokens section are placed in the literals table. All that being

said, I'm not sure it matters whether double quoted string literals are 
specified in the tokens section, or inline. On examining the code, I've been

unable to find sigficant function differences. 
BTW, I was unable to find the literal option referred to in the 
documentation. Do anybody know what it is? 
Richard 
-----Original Message----- 
From: mzukowski@yci.com [mailto:mzukowski@yci.com] 
Sent: Monday, October 07, 2002 8:01 AM 
To: antlr-interest@yahoogroups.com 
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 


http://www.antlr.org/doc/lexer.html#_bb7 
-----Original Message----- 
From: Hensley, Richard [mailto:richard.hensley@mckesson.com] 
Sent: Friday, October 04, 2002 4:40 PM 
To: 'antlr-interest@yahoogroups.com' 
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 


Monty, 
Where in the documentation does it talk about keywords being specified as 
literals? I want to check it out to make sure I didn't screw up my grammars,

and give bad advice. 
Richard 
.... 
  
Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 
  
Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Mon Oct  7 11:36:49 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
In-Reply-To: <170826586F3BD511910D0200C110AAA8032B4D95@memail03.bco-home.com>
Message-ID: <BD8A7CDA-DA23-11D6-96A7-0030653DE0D6@jguru.com>


On Monday, October 7, 2002, at 10:47  AM, mzukowski@yci.com wrote:

> I think you're right, it sounds like a mistake.

This bit me just last night myself.  Option is actually the "tokens 
{...}" option, right not literals {...}? ;)

Ter
>
> Monty
>
> -----Original Message-----
> From: Hensley, Richard [mailto:richard.hensley@mckesson.com]
> Sent: Monday, October 07, 2002 9:51 AM
> To: 'antlr-interest@yahoogroups.com'
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR
>
>
> Monty,
> I use the "testLiterals" option in my grammar's. However, I was 
> referring to
> the "literals" option as indicated in this sentence that is just 
> before the
> one that refers to the "testLiterals" option.
> "Second, literals may be specified in the lexer grammar by means of the
> literal option."
> The word literal is a link, and refers to "options.html#literal" which 
> is
> not on options page. I don't think it exists, and is a mistake in the
> documentation.
> I would be happy to give some opinionated feedback about how the web 
> site
> could be structured. I will put some thought into it.
> Richard
> -----Original Message-----
> From: mzukowski@yci.com [mailto:mzukowski@yci.com]
> Sent: Monday, October 07, 2002 9:40 AM
> To: antlr-interest@yahoogroups.com
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR
>
>
> It's at http://www.antlr.org/doc/options.html#_bb8.
> By the way, Ter (and I'm gonna help) is about to embark upon a 
> restructuring
>
> of the docs and website.  It would help a lot if you could explain how 
> the
> documentation should be, in your opinion.
> Monty
> -----Original Message-----
> From: Hensley, Richard [mailto:richard.hensley@mckesson.com]
> Sent: Monday, October 07, 2002 8:45 AM
> To: 'antlr-interest@yahoogroups.com'
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR
>
>
> Monty,
> Thanks for the link. When I read that chunk of documentation, I 
> interpreted
> it to mean any double quoted string, including those specified in a 
> tokens
> section. It turns out that I got lucky I guess, because double quoted
> strings in a tokens section are placed in the literals table. All that 
> being
>
> said, I'm not sure it matters whether double quoted string literals are
> specified in the tokens section, or inline. On examining the code, 
> I've been
>
> unable to find sigficant function differences.
> BTW, I was unable to find the literal option referred to in the
> documentation. Do anybody know what it is?
> Richard
> -----Original Message-----
> From: mzukowski@yci.com [mailto:mzukowski@yci.com]
> Sent: Monday, October 07, 2002 8:01 AM
> To: antlr-interest@yahoogroups.com
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR
>
>
> http://www.antlr.org/doc/lexer.html#_bb7
> -----Original Message-----
> From: Hensley, Richard [mailto:richard.hensley@mckesson.com]
> Sent: Friday, October 04, 2002 4:40 PM
> To: 'antlr-interest@yahoogroups.com'
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR
>
>
> Monty,
> Where in the documentation does it talk about keywords being specified 
> as
> literals? I want to check it out to make sure I didn't screw up my 
> grammars,
>
> and give bad advice.
> Richard
> ....
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From nilopaim at yahoo.com  Mon Oct  7 11:24:57 2002
From: nilopaim at yahoo.com (nilopaim)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] filter rule
Message-ID: <ansjhp+pjve@eGroups.com>

Hi all,

I have a litle question. I would like to insert a parser rule that 
references the token(s) obtained by a lexer rule defined as "options 
filter=XXX;". Is it possible, as this rule must be "protected"? Or 
maybe there is a way I could not see yet?

Sorry the poor english. I'm from Brazil.

TIA.

Nilo
Porto Alegre - RS - Brasil.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From richard.hensley at mckesson.com  Mon Oct  7 12:38:09 2002
From: richard.hensley at mckesson.com (Hensley, Richard)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
Message-ID: <B1F6F2DA362BD2118EA30008C75618E3063AE520@eugexc01ntms.eugalg.hboc.com>

Ok, now the whole thing makes sense. There are two approaches to having
literal strings in parser rules. 

1) put double quoted strings directly in parser rules 
2) create a tokens { } section with literal strings, and 
   reference the tokens in parser rules 

Thanks for helping me to clarify this whole topic. 

Richard 

-----Original Message----- 
From: Terence Parr [ mailto:parrt@jguru.com <mailto:parrt@jguru.com> ] 
Sent: Monday, October 07, 2002 11:37 AM 
To: antlr-interest@yahoogroups.com 
Subject: Re: [antlr-interest] Re: Questions about learning ANTLR 



On Monday, October 7, 2002, at 10:47  AM, mzukowski@yci.com wrote: 

> I think you're right, it sounds like a mistake. 

This bit me just last night myself.  Option is actually the "tokens 
{...}" option, right not literals {...}? ;) 

Ter 
> 
> Monty 
> 
> -----Original Message----- 
> From: Hensley, Richard [ mailto:richard.hensley@mckesson.com
<mailto:richard.hensley@mckesson.com> ] 
> Sent: Monday, October 07, 2002 9:51 AM 
> To: 'antlr-interest@yahoogroups.com' 
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> Monty, 
> I use the "testLiterals" option in my grammar's. However, I was 
> referring to 
> the "literals" option as indicated in this sentence that is just 
> before the 
> one that refers to the "testLiterals" option. 
> "Second, literals may be specified in the lexer grammar by means of
the 
> literal option." 
> The word literal is a link, and refers to "options.html#literal" which

> is 
> not on options page. I don't think it exists, and is a mistake in the 
> documentation. 
> I would be happy to give some opinionated feedback about how the web 
> site 
> could be structured. I will put some thought into it. 
> Richard 
> -----Original Message----- 
> From: mzukowski@yci.com [ mailto:mzukowski@yci.com
<mailto:mzukowski@yci.com> ] 
> Sent: Monday, October 07, 2002 9:40 AM 
> To: antlr-interest@yahoogroups.com 
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> It's at http://www.antlr.org/doc/options.html#_bb8
<http://www.antlr.org/doc/options.html#_bb8> . 
> By the way, Ter (and I'm gonna help) is about to embark upon a 
> restructuring 
> 
> of the docs and website.  It would help a lot if you could explain how

> the 
> documentation should be, in your opinion. 
> Monty 
> -----Original Message----- 
> From: Hensley, Richard [ mailto:richard.hensley@mckesson.com
<mailto:richard.hensley@mckesson.com> ] 
> Sent: Monday, October 07, 2002 8:45 AM 
> To: 'antlr-interest@yahoogroups.com' 
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> Monty, 
> Thanks for the link. When I read that chunk of documentation, I 
> interpreted 
> it to mean any double quoted string, including those specified in a 
> tokens 
> section. It turns out that I got lucky I guess, because double quoted 
> strings in a tokens section are placed in the literals table. All that

> being 
> 
> said, I'm not sure it matters whether double quoted string literals
are 
> specified in the tokens section, or inline. On examining the code, 
> I've been 
> 
> unable to find sigficant function differences. 
> BTW, I was unable to find the literal option referred to in the 
> documentation. Do anybody know what it is? 
> Richard 
> -----Original Message----- 
> From: mzukowski@yci.com [ mailto:mzukowski@yci.com
<mailto:mzukowski@yci.com> ] 
> Sent: Monday, October 07, 2002 8:01 AM 
> To: antlr-interest@yahoogroups.com 
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> http://www.antlr.org/doc/lexer.html#_bb7
<http://www.antlr.org/doc/lexer.html#_bb7>  
> -----Original Message----- 
> From: Hensley, Richard [ mailto:richard.hensley@mckesson.com
<mailto:richard.hensley@mckesson.com> ] 
> Sent: Friday, October 04, 2002 4:40 PM 
> To: 'antlr-interest@yahoogroups.com' 
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> Monty, 
> Where in the documentation does it talk about keywords being specified

> as 
> literals? I want to check it out to make sure I didn't screw up my 
> grammars, 
> 
> and give bad advice. 
> Richard 
> .... 
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>

> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>

> 
> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 
> 
> 
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>

> 
> 
-- 
Co-founder, http://www.jguru.com <http://www.jguru.com>  
Creator, ANTLR Parser Generator: http://www.antlr.org
<http://www.antlr.org>  
Lecturer in Comp. Sci., University of San Francisco 


  

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>  

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021007/668447ad/attachment.html
From richard.hensley at mckesson.com  Mon Oct  7 12:43:32 2002
From: richard.hensley at mckesson.com (Hensley, Richard)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
Message-ID: <B1F6F2DA362BD2118EA30008C75618E3063AE521@eugexc01ntms.eugalg.hboc.com>

A follow up question: 

Does it matter where the tokens section is placed? 
In otherwords, is there a significant functional difference between
placing tokens for literals in the parser or in the lexer?

Richard 

-----Original Message----- 
From: Terence Parr [ mailto:parrt@jguru.com <mailto:parrt@jguru.com> ] 
Sent: Monday, October 07, 2002 11:37 AM 
To: antlr-interest@yahoogroups.com 
Subject: Re: [antlr-interest] Re: Questions about learning ANTLR 



On Monday, October 7, 2002, at 10:47  AM, mzukowski@yci.com wrote: 

> I think you're right, it sounds like a mistake. 

This bit me just last night myself.  Option is actually the "tokens 
{...}" option, right not literals {...}? ;) 

Ter 
> 
> Monty 
> 
> -----Original Message----- 
> From: Hensley, Richard [ mailto:richard.hensley@mckesson.com
<mailto:richard.hensley@mckesson.com> ] 
> Sent: Monday, October 07, 2002 9:51 AM 
> To: 'antlr-interest@yahoogroups.com' 
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> Monty, 
> I use the "testLiterals" option in my grammar's. However, I was 
> referring to 
> the "literals" option as indicated in this sentence that is just 
> before the 
> one that refers to the "testLiterals" option. 
> "Second, literals may be specified in the lexer grammar by means of
the 
> literal option." 
> The word literal is a link, and refers to "options.html#literal" which

> is 
> not on options page. I don't think it exists, and is a mistake in the 
> documentation. 
> I would be happy to give some opinionated feedback about how the web 
> site 
> could be structured. I will put some thought into it. 
> Richard 
> -----Original Message----- 
> From: mzukowski@yci.com [ mailto:mzukowski@yci.com
<mailto:mzukowski@yci.com> ] 
> Sent: Monday, October 07, 2002 9:40 AM 
> To: antlr-interest@yahoogroups.com 
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> It's at http://www.antlr.org/doc/options.html#_bb8
<http://www.antlr.org/doc/options.html#_bb8> . 
> By the way, Ter (and I'm gonna help) is about to embark upon a 
> restructuring 
> 
> of the docs and website.  It would help a lot if you could explain how

> the 
> documentation should be, in your opinion. 
> Monty 
> -----Original Message----- 
> From: Hensley, Richard [ mailto:richard.hensley@mckesson.com
<mailto:richard.hensley@mckesson.com> ] 
> Sent: Monday, October 07, 2002 8:45 AM 
> To: 'antlr-interest@yahoogroups.com' 
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> Monty, 
> Thanks for the link. When I read that chunk of documentation, I 
> interpreted 
> it to mean any double quoted string, including those specified in a 
> tokens 
> section. It turns out that I got lucky I guess, because double quoted 
> strings in a tokens section are placed in the literals table. All that

> being 
> 
> said, I'm not sure it matters whether double quoted string literals
are 
> specified in the tokens section, or inline. On examining the code, 
> I've been 
> 
> unable to find sigficant function differences. 
> BTW, I was unable to find the literal option referred to in the 
> documentation. Do anybody know what it is? 
> Richard 
> -----Original Message----- 
> From: mzukowski@yci.com [ mailto:mzukowski@yci.com
<mailto:mzukowski@yci.com> ] 
> Sent: Monday, October 07, 2002 8:01 AM 
> To: antlr-interest@yahoogroups.com 
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> http://www.antlr.org/doc/lexer.html#_bb7
<http://www.antlr.org/doc/lexer.html#_bb7>  
> -----Original Message----- 
> From: Hensley, Richard [ mailto:richard.hensley@mckesson.com
<mailto:richard.hensley@mckesson.com> ] 
> Sent: Friday, October 04, 2002 4:40 PM 
> To: 'antlr-interest@yahoogroups.com' 
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> Monty, 
> Where in the documentation does it talk about keywords being specified

> as 
> literals? I want to check it out to make sure I didn't screw up my 
> grammars, 
> 
> and give bad advice. 
> Richard 
> .... 
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>

> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>

> 
> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 
> 
> 
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>

> 
> 
-- 
Co-founder, http://www.jguru.com <http://www.jguru.com>  
Creator, ANTLR Parser Generator: http://www.antlr.org
<http://www.antlr.org>  
Lecturer in Comp. Sci., University of San Francisco 


  

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>  

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021007/7e012843/attachment.html
From mrosgood at yahoo.com  Mon Oct  7 15:48:41 2002
From: mrosgood at yahoo.com (mrosgood)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] What's the SLK Parser Generator?
Message-ID: <ant309+dkp7@eGroups.com>

Terence Parr, Everyone-


I just found this:

The SLK Parser Generator
http://home.earthlink.net/~parsersinc/slk/

The first sentence reads:

"The SLK parser generator is the only tool available that enables
table-driven LL(k) parsing."

The SLK site has some sample generated code.  Yup, there's tables.

So, I was curious, does SLK have something that could benefit ANTLR?


Cheers, Jason Osgood


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Mon Oct  7 13:09:31 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
Message-ID: <170826586F3BD511910D0200C110AAA8032B4D9A@memail03.bco-home.com>

It doesn't really matter unless you split up your lexer and parser into
separate .g files, as you might if you have one lexer that is used by
several parsers.
 
Monty

-----Original Message-----
From: Hensley, Richard [mailto:richard.hensley@mckesson.com]
Sent: Monday, October 07, 2002 12:44 PM
To: 'antlr-interest@yahoogroups.com'
Subject: RE: [antlr-interest] Re: Questions about learning ANTLR



A follow up question: 

Does it matter where the tokens section is placed? 
In otherwords, is there a significant functional difference between placing
tokens for literals in the parser or in the lexer?

Richard 

-----Original Message----- 
From: Terence Parr [ mailto:parrt@jguru.com <mailto:parrt@jguru.com> ] 
Sent: Monday, October 07, 2002 11:37 AM 
To: antlr-interest@yahoogroups.com 
Subject: Re: [antlr-interest] Re: Questions about learning ANTLR 



On Monday, October 7, 2002, at 10:47  AM, mzukowski@yci.com wrote: 

> I think you're right, it sounds like a mistake. 

This bit me just last night myself.  Option is actually the "tokens 
{...}" option, right not literals {...}? ;) 

Ter 
> 
> Monty 
> 
> -----Original Message----- 
> From: Hensley, Richard [ mailto:richard.hensley@mckesson.com
<mailto:richard.hensley@mckesson.com> ] 
> Sent: Monday, October 07, 2002 9:51 AM 
> To: 'antlr-interest@yahoogroups.com' 
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> Monty, 
> I use the "testLiterals" option in my grammar's. However, I was 
> referring to 
> the "literals" option as indicated in this sentence that is just 
> before the 
> one that refers to the "testLiterals" option. 
> "Second, literals may be specified in the lexer grammar by means of the 
> literal option." 
> The word literal is a link, and refers to "options.html#literal" which 
> is 
> not on options page. I don't think it exists, and is a mistake in the 
> documentation. 
> I would be happy to give some opinionated feedback about how the web 
> site 
> could be structured. I will put some thought into it. 
> Richard 
> -----Original Message----- 
> From: mzukowski@yci.com [ mailto:mzukowski@yci.com
<mailto:mzukowski@yci.com> ] 
> Sent: Monday, October 07, 2002 9:40 AM 
> To: antlr-interest@yahoogroups.com 
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> It's at http://www.antlr.org/doc/options.html#_bb8
<http://www.antlr.org/doc/options.html#_bb8> . 
> By the way, Ter (and I'm gonna help) is about to embark upon a 
> restructuring 
> 
> of the docs and website.  It would help a lot if you could explain how 
> the 
> documentation should be, in your opinion. 
> Monty 
> -----Original Message----- 
> From: Hensley, Richard [ mailto:richard.hensley@mckesson.com
<mailto:richard.hensley@mckesson.com> ] 
> Sent: Monday, October 07, 2002 8:45 AM 
> To: 'antlr-interest@yahoogroups.com' 
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> Monty, 
> Thanks for the link. When I read that chunk of documentation, I 
> interpreted 
> it to mean any double quoted string, including those specified in a 
> tokens 
> section. It turns out that I got lucky I guess, because double quoted 
> strings in a tokens section are placed in the literals table. All that 
> being 
> 
> said, I'm not sure it matters whether double quoted string literals are 
> specified in the tokens section, or inline. On examining the code, 
> I've been 
> 
> unable to find sigficant function differences. 
> BTW, I was unable to find the literal option referred to in the 
> documentation. Do anybody know what it is? 
> Richard 
> -----Original Message----- 
> From: mzukowski@yci.com [ mailto:mzukowski@yci.com
<mailto:mzukowski@yci.com> ] 
> Sent: Monday, October 07, 2002 8:01 AM 
> To: antlr-interest@yahoogroups.com 
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> http://www.antlr.org/doc/lexer.html#_bb7
<http://www.antlr.org/doc/lexer.html#_bb7>  
> -----Original Message----- 
> From: Hensley, Richard [ mailto:richard.hensley@mckesson.com
<mailto:richard.hensley@mckesson.com> ] 
> Sent: Friday, October 04, 2002 4:40 PM 
> To: 'antlr-interest@yahoogroups.com' 
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> Monty, 
> Where in the documentation does it talk about keywords being specified 
> as 
> literals? I want to check it out to make sure I didn't screw up my 
> grammars, 
> 
> and give bad advice. 
> Richard 
> .... 
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>  
> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>  
> 
> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 
> 
> 
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ <http://docs.yahoo.com/info/terms/>  
> 
> 
-- 
Co-founder, http://www.jguru.com <http://www.jguru.com>  
Creator, ANTLR Parser Generator: http://www.antlr.org <http://www.antlr.org>

Lecturer in Comp. Sci., University of San Francisco 


  

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
<http://docs.yahoo.com/info/terms/>  


Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service
<http://docs.yahoo.com/info/terms/> . 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021007/c34b01bc/attachment.html
From parrt at jguru.com  Mon Oct  7 18:04:49 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] What's the SLK Parser Generator?
In-Reply-To: <ant309+dkp7@eGroups.com>
Message-ID: <F1DC908E-DA59-11D6-96A7-0030653DE0D6@jguru.com>

Hmm...they claim to do k>1 but then say this in their discussion of 
analysis:

http://home.earthlink.net/~parsersinc/doc/llkparse.html

"The problem with objects that are of exponential size is that their 
size grows very rapidly as the exponent increases. This is especially 
true in the case of the SLL(k) parse table. For many typical 
applications, the size of the parse table that is required for strong 
LL(k) is essentially unmanageable for any k greater than one."

Are they saying they can do k>1 in principle but not for anything real? 
  That's the whole magic of my approximate lookahead thingy...makes k>1 
doable.  Now I'm confused.  Perhaps they can comment to clear things 
up.  Anybody know the author(s)?

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Mon Oct  7 17:56:50 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] What's the SLK Parser Generator?
In-Reply-To: <ant309+dkp7@eGroups.com>
Message-ID: <D41C5C86-DA58-11D6-96A7-0030653DE0D6@jguru.com>

Hmm...initial inspection seems to indicate they have misunderstood a 
lot of stuff, but may have a nice tool.

For example, I like this quote: "In practice, LL(k) parsing techniques 
for values of k that are greater than one have not been used until 
recently."  PCCTS/ANTLR have only done it for 12 years. ;)  They say, 
referring to my thesis:

"He uses heuristic methods that reduce the complexity of the problem to 
approximately linear for many commonly used grammars. As with other 
heuristics, the shortcoming is that this method does not always work in 
a reasonable period of time. "

Eh? Actually, the purpose of a heuristic is to sacrifice accuracy for 
speed.  Doh!  PCCTS actually did do full SLL(k) for k>1.

I'm a bit uncomfortable with their "ability" to read in LALR(1) 
grammars.  There's probably a proof around that says it ain't possible.

Plus I hate tables of ints as parsers ;)  That's why I built PCCTS in 
the first place.

I disagree with their def of SLL(K)...been a while but I thought SLL(k) 
meant "Strong LL(k)" meaning stronger constraint than LL(k).  I believe 
it means that the context for all rule references (FOLLOW in 
particular) are collapsed.  I.e., if two rules call rule expr, the 
FOLLOW(expr) is used instead of FOLLOW(expr_ref1) and FOLLOW(expr_ref2) 
when computing lookahead for rule expr (in case you fall off the end of 
the rule while computing lookahead).  Just means less context.  ANTLR 
actually does SLL(k) as well.  I have only seen a few places where 
LL(k) did something I wanted more than SLL(k).

Ter

On Monday, October 7, 2002, at 03:48  PM, mrosgood wrote:

> Terence Parr, Everyone-
>
>
> I just found this:
>
> The SLK Parser Generator
> http://home.earthlink.net/~parsersinc/slk/
>
> The first sentence reads:
>
> "The SLK parser generator is the only tool available that enables
> table-driven LL(k) parsing."
>
> The SLK site has some sample generated code.  Yup, there's tables.
>
> So, I was curious, does SLK have something that could benefit ANTLR?
>
>
> Cheers, Jason Osgood
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Tue Oct  8 05:03:27 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
In-Reply-To: <B1F6F2DA362BD2118EA30008C75618E3063AE520@eugexc01ntms.eugalg.hboc.com>; from richard.hensley@mckesson.com on Mon, Oct 07, 2002 at 03:38:09PM -0400
References: <B1F6F2DA362BD2118EA30008C75618E3063AE520@eugexc01ntms.eugalg.hboc.com>
Message-ID: <20021008140327.D25818@cs.utwente.nl>

Hi,

On Mon, Oct 07, 2002 at 03:38:09PM -0400, Hensley, Richard wrote:
> Ok, now the whole thing makes sense. There are two approaches to having
> literal strings in parser rules. 
> 
> 1) put double quoted strings directly in parser rules 

-> Error prone one typo and you have a new token..

> 2) create a tokens { } section with literal strings, and 
>    reference the tokens in parser rules 

-> More structural imho, newer antlr's generate warnings for tokens just
   defined outside the tokens section.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     Human beings, who are almost unique in having the ability to learn
   from the experience of others, are also remarkable for their apparent
         disinclination to do so. --- Douglas Adams, Last Chance to See


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Tue Oct  8 05:06:09 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
In-Reply-To: <B1F6F2DA362BD2118EA30008C75618E3063AE521@eugexc01ntms.eugalg.hboc.com>; from richard.hensley@mckesson.com on Mon, Oct 07, 2002 at 03:43:32PM -0400
References: <B1F6F2DA362BD2118EA30008C75618E3063AE521@eugexc01ntms.eugalg.hboc.com>
Message-ID: <20021008140608.E25818@cs.utwente.nl>

Hi,

On Mon, Oct 07, 2002 at 03:43:32PM -0400, Hensley, Richard wrote:
> Does it matter where the tokens section is placed? 
> In otherwords, is there a significant functional difference between
> placing tokens for literals in the parser or in the lexer?

Does not matter much, unless you split your antlr lexer/parser/treewalker
hierarchy in separate files, then you have to be really structured with
this and use the right import/exportVocab options in the right place.

If this interests you look for a few detail posts off mine on
import/exportVocab.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  "You know how to use that thing?" [pointing to the sword]
  "Sure.. The pointy end goes into the other guy."
  --- The Mask of Zorro


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dm at cs.yorku.ca  Tue Oct  8 09:00:45 2002
From: dm at cs.yorku.ca (Dave Makalsky)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] eclipse plugin problem
Message-ID: <1034092845.1761.184.camel@0wn3d>

Hi:

I just installed the antlr plugin for eclipse... the .java files are
being generated but the import packages cannot be found.

Please advise.
-- 
Dave Makalsky <dm@cs.yorku.ca>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Tue Oct  8 09:21:51 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] eclipse plugin problem
Message-ID: <170826586F3BD511910D0200C110AAA8032B4DA0@memail03.bco-home.com>

Do you have the antlr.jar in your classpath?

> -----Original Message-----
> From: Dave Makalsky [mailto:dm@cs.yorku.ca]
> Sent: Tuesday, October 08, 2002 9:01 AM
> To: antlr
> Subject: [antlr-interest] eclipse plugin problem
> 
> 
> Hi:
> 
> I just installed the antlr plugin for eclipse... the .java files are
> being generated but the import packages cannot be found.
> 
> Please advise.
> -- 
> Dave Makalsky <dm@cs.yorku.ca>
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dm at cs.yorku.ca  Tue Oct  8 09:28:40 2002
From: dm at cs.yorku.ca (Dave Makalsky)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] eclipse plugin problem
In-Reply-To: <170826586F3BD511910D0200C110AAA8032B4DA0@memail03.bco-home.com>
References: <170826586F3BD511910D0200C110AAA8032B4DA0@memail03.bco-home.com>
Message-ID: <1034094519.1761.189.camel@0wn3d>


I think so... see screenshot

DM

On Tue, 2002-10-08 at 12:21, mzukowski@yci.com wrote:
> Do you have the antlr.jar in your classpath?
> 
> > -----Original Message-----
> > From: Dave Makalsky [mailto:dm@cs.yorku.ca]
> > Sent: Tuesday, October 08, 2002 9:01 AM
> > To: antlr
> > Subject: [antlr-interest] eclipse plugin problem
> > 
> > 
> > Hi:
> > 
> > I just installed the antlr plugin for eclipse... the .java files are
> > being generated but the import packages cannot be found.
> > 
> > Please advise.
> > -- 
> > Dave Makalsky <dm@cs.yorku.ca>
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to 
> > http://docs.yahoo.com/info/terms/
> > 
> > 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
-- 
Dave Makalsky <dm@cs.yorku.ca>

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2002_10_08_122734_shot.png
Type: image/png
Size: 13883 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20021008/f3b791d7/2002_10_08_122734_shot.png
From tjuergeleit at yahoo.de  Tue Oct  8 09:50:26 2002
From: tjuergeleit at yahoo.de (Torsten Juergeleit)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] eclipse plugin problem
In-Reply-To: <1034092845.1761.184.camel@0wn3d>
Message-ID: <20021008165026.51155.qmail@web40509.mail.yahoo.com>

Use the project properties to add the plugin
'org.antlr_x.x.x' to the list of required plugins and
'org.antlr_x.x.x/antlrall.jar' to the list of required
libraries.

Torsten

--- Dave Makalsky <dm@cs.yorku.ca> wrote:
> Hi:
> 
> I just installed the antlr plugin for eclipse... the
> .java files are
> being generated but the import packages cannot be
> found.
> 
> Please advise.
> -- 
> Dave Makalsky <dm@cs.yorku.ca>
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Tue Oct  8 11:20:21 2002
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Is there an ANTLR 2.7.2a3 or later?
Message-ID: <anv7l5+ha4o@eGroups.com>

Hi,

Thought I saw a reference to this on the list a while back. I'd 
appreciate being included in the early adopters/developers loop so 
that I can keep the C# codegen in sync.

Along the same lines, if any users of the C# codegen have 
enhancements they'd like to contribute, drop me a line or better 
still post it to the list.

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Tue Oct  8 11:44:31 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Is there an ANTLR 2.7.2a3 or later?
In-Reply-To: <anv7l5+ha4o@eGroups.com>
Message-ID: <FB7768F6-DAED-11D6-96A7-0030653DE0D6@jguru.com>

Michael,

Is C# ready do you think to be included in the main release?  If so, I 
can get you access to our repository so you can keep in sync.

Ter

On Tuesday, October 8, 2002, at 11:20  AM, micheal_jor wrote:

> Hi,
>
> Thought I saw a reference to this on the list a while back. I'd
> appreciate being included in the early adopters/developers loop so
> that I can keep the C# codegen in sync.
>
> Along the same lines, if any users of the C# codegen have
> enhancements they'd like to contribute, drop me a line or better
> still post it to the list.
>
> Micheal
>
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mrosgood at yahoo.com  Tue Oct  8 13:00:55 2002
From: mrosgood at yahoo.com (mrosgood)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: What's the SLK Parser Generator?
In-Reply-To: <F1DC908E-DA59-11D6-96A7-0030653DE0D6@jguru.com>
Message-ID: <anvdhn+osn6@eGroups.com>

Terence Parr-


Thanks for humoring me.  You may recall that, having only ever used
ANTLR, I don't know a whole lot about this domain.

The real reason I asked is because I need one of those super duper
text editors that's smart enough to recognize the language and all that.  

I've got this GUI description language called Giraffe.  It's a mush of
ideas, borrowing notions from XUL, VRML, RELAX-NG, and some other
stuff.  The Big Idea is to have "live" Giraffe source code in one
window and the real live GUI in other.  Change the source and --
voila! -- the GUI changes.  Drop a new control onto the GUI and --
voila! -- the source changes.  (Ever since my LISP days, I've nurtured
a deep hate for edit-compile-debug loop style development.)

So...

These papers appear to be the best thing going on:

"An Incremental Lr Parse Strategy for Language-Based Editors"
http://citeseer.nj.nec.com/320795.html

"Incremental parsing in language-based editors: user needs and how to
meet them"  P. Cook and J. Welsh 
Software: Practice and Experience 2001; Vol 31: 1461-1486.  
John Wiley & Sons.


I contacted Phil Cook and apparently the algorithm in the second paper
fixes some problems.  Alas, it's not available online.


Anyway, Cook's work uses a tweaked version of YACC (adds more stuff to
the parse table).  They determined that LL(k)'s backtracking is too
inefficient to be used interactively.  So when I saw SLK, and its
claim of being table driven, I thought maybe there's an opportunity.

You can see that I'm grasping at straws here... <grin>


Cheers, Jason Osgood / Seattle WA



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Tue Oct  8 15:36:43 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: What's the SLK Parser Generator?
Message-ID: <170826586F3BD511910D0200C110AAA8032B4DA8@memail03.bco-home.com>

Cook & Welsh's approach is kinda hacky too in that they assume you want to
work with a parse tree and not an AST.  If you're sticking with antlr then
take the antlr attitude of asking "how would I do it by hand?" and then
automating it if it is worth the effort.  

For instance in java you could make an entry point into the java grammar to
recognize methods.  As they edit the method just keep running that rule and
replacing the AST and updating the symbol table.  LL is nice that way.  Note
that you can't just call the existing method rule because antlr "knows" that
that rule is never called by itself, only from other rules.  Create a new
rule that calls method follwed by EOF and you won't have any problems with
the follow set.

Monty

> -----Original Message-----
> From: mrosgood [mailto:mrosgood@yahoo.com]
> Sent: Tuesday, October 08, 2002 1:01 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: What's the SLK Parser Generator?
> 
> 
> Terence Parr-
> 
> 
> Thanks for humoring me.  You may recall that, having only ever used
> ANTLR, I don't know a whole lot about this domain.
> 
> The real reason I asked is because I need one of those super duper
> text editors that's smart enough to recognize the language 
> and all that.  
> 
> I've got this GUI description language called Giraffe.  It's a mush of
> ideas, borrowing notions from XUL, VRML, RELAX-NG, and some other
> stuff.  The Big Idea is to have "live" Giraffe source code in one
> window and the real live GUI in other.  Change the source and --
> voila! -- the GUI changes.  Drop a new control onto the GUI and --
> voila! -- the source changes.  (Ever since my LISP days, I've nurtured
> a deep hate for edit-compile-debug loop style development.)
> 
> So...
> 
> These papers appear to be the best thing going on:
> 
> "An Incremental Lr Parse Strategy for Language-Based Editors"
> http://citeseer.nj.nec.com/320795.html
> 
> "Incremental parsing in language-based editors: user needs and how to
> meet them"  P. Cook and J. Welsh 
> Software: Practice and Experience 2001; Vol 31: 1461-1486.  
> John Wiley & Sons.
> 
> 
> I contacted Phil Cook and apparently the algorithm in the second paper
> fixes some problems.  Alas, it's not available online.
> 
> 
> Anyway, Cook's work uses a tweaked version of YACC (adds more stuff to
> the parse table).  They determined that LL(k)'s backtracking is too
> inefficient to be used interactively.  So when I saw SLK, and its
> claim of being table driven, I thought maybe there's an opportunity.
> 
> You can see that I'm grasping at straws here... <grin>
> 
> 
> Cheers, Jason Osgood / Seattle WA
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From brian-l-smith at uiowa.edu  Tue Oct  8 19:10:57 2002
From: brian-l-smith at uiowa.edu (Brian Smith)
Date: Mon Dec 20 16:15:03 2004
Subject: [antlr-interest] Re: What's the SLK Parser Generator?
References: <anvdhn+osn6@eGroups.com>
Message-ID: <3DA39031.4080806@uiowa.edu>



mrosgood wrote:
> Terence Parr-
> 
> 
> Thanks for humoring me.  You may recall that, having only ever used
> ANTLR, I don't know a whole lot about this domain.
> 
> The real reason I asked is because I need one of those super duper
> text editors that's smart enough to recognize the language and all that.  
> 
> I've got this GUI description language called Giraffe.  It's a mush of
> ideas, borrowing notions from XUL, VRML, RELAX-NG, and some other
> stuff.  The Big Idea is to have "live" Giraffe source code in one
> window and the real live GUI in other.  Change the source and --
> voila! -- the GUI changes.  Drop a new control onto the GUI and --
> voila! -- the source changes.  (Ever since my LISP days, I've nurtured
> a deep hate for edit-compile-debug loop style development.)
> 
> So...
> 
> These papers appear to be the best thing going on:
> 
> "An Incremental Lr Parse Strategy for Language-Based Editors"
> http://citeseer.nj.nec.com/320795.html

Here is the dissertation that the NetBeans editor's lexer is based on:
     http://citeseer.nj.nec.com/wagner98practical.html
The incremental lexer is chapter 5 (or 6?). The incremental parser 
immediately follows. They produced an implementation of their work based 
on bison/flex. NetBeans has built an incremental lexer in Java that 
works over JavaCC and ANTLR using the techniques in this paper. They 
(NetBeans) hope to add a GLR-based (thus not ANTLR, I guess) incremental 
parser too, if they can find resources.

By the way, what are peoples' thoughts on GLR vs LL(k)?

Not coincidently, tonight I am researching incremental GLR, LR(k), and 
LL(k) incremental parsers. Most research in this area seems to be on 
LR(k) and in particular LALR(1) grammars, but I'm interested in learning 
whether it is possible to use top-down recursive decent predicated LL(k) 
parsers (a.k.a ANTLR) for incremental parsing.

So if anybody has any more links or references in this area, I would 
appreciate receiving them. Also, does anybody know if there is a site 
like http://lambda.weblogs.com (a functional programming weblog) that 
deals with parsing?

- Brian



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From brian-l-smith at uiowa.edu  Tue Oct  8 21:01:24 2002
From: brian-l-smith at uiowa.edu (Brian Smith)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Re: Questions about learning ANTLR
References: <170826586F3BD511910D0200C110AAA8032B4D92@memail03.bco-home.com>
Message-ID: <3DA3AA14.408@uiowa.edu>

It would be nice to have an (optional) framed version that had a outline 
of the documention to the left. It would be nice also if the HTML pages 
print properly, without lots of unnecessary whitespace or cutting off 
the right-hand-side of any text.

- Brian

mzukowski@yci.com wrote:
> It's at http://www.antlr.org/doc/options.html#_bb8.
> 
> By the way, Ter (and I'm gonna help) is about to embark upon a restructuring
> of the docs and website.  It would help a lot if you could explain how the
> documentation should be, in your opinion.  
> 
> Monty
> 
> -----Original Message-----
> From: Hensley, Richard [mailto:richard.hensley@mckesson.com]
> Sent: Monday, October 07, 2002 8:45 AM
> To: 'antlr-interest@yahoogroups.com'
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR
> 
> 
> Monty, 
> Thanks for the link. When I read that chunk of documentation, I interpreted
> it to mean any double quoted string, including those specified in a tokens
> section. It turns out that I got lucky I guess, because double quoted
> strings in a tokens section are placed in the literals table. All that being
> said, I'm not sure it matters whether double quoted string literals are
> specified in the tokens section, or inline. On examining the code, I've been
> unable to find sigficant function differences.
> BTW, I was unable to find the literal option referred to in the
> documentation. Do anybody know what it is? 
> Richard 
> -----Original Message----- 
> From: mzukowski@yci.com [mailto:mzukowski@yci.com] 
> Sent: Monday, October 07, 2002 8:01 AM 
> To: antlr-interest@yahoogroups.com 
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> http://www.antlr.org/doc/lexer.html#_bb7 
> -----Original Message----- 
> From: Hensley, Richard [mailto:richard.hensley@mckesson.com] 
> Sent: Friday, October 04, 2002 4:40 PM 
> To: 'antlr-interest@yahoogroups.com' 
> Subject: RE: [antlr-interest] Re: Questions about learning ANTLR 
> 
> 
> Monty, 
> Where in the documentation does it talk about keywords being specified as 
> literals? I want to check it out to make sure I didn't screw up my grammars,
> 
> and give bad advice. 
> Richard 
> .... 
>   
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From reidr at bigfoot.com  Wed Oct  9 09:45:17 2002
From: reidr at bigfoot.com (Reid Rivenburgh)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Grammar design question
Message-ID: <m2d6qjftnm.fsf@speakeasy.org>

Hi,

I have a question about grammar design that I haven't seen an answer
to in my readings.  I may have just not put the pieces together
(sorry!), or it may just not be easily doable.

I have a language where a set of 10 different tokens can occur at a
given point.  The tricky part is that some of them can occur multiple
times; some can occur only once; some are optional; and some are
required.  On top of that, they can occur in any order.  Is it
possible to represent this scenario in an ANTLR grammar?

Thanks,
Reid

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Wed Oct  9 10:11:20 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Grammar design question
Message-ID: <170826586F3BD511910D0200C110AAA8032B4DB1@memail03.bco-home.com>

No, it's not possible or if possible it's not practical.  

Recommended practice is to grammatically recognize all of them possibly
multiple times.  Then afterwards have action code which does your validation
and throws a (RecognitionException I think, or is there a
SemanticException?) if it's wrong.  If need be you can do some bookeeping
inside your closure to know, for instance, that the required ones were all
there.

Monty
www.codetransform.com

> -----Original Message-----
> From: Reid Rivenburgh [mailto:reidr@bigfoot.com]
> Sent: Wednesday, October 09, 2002 9:45 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Grammar design question
> 
> 
> Hi,
> 
> I have a question about grammar design that I haven't seen an answer
> to in my readings.  I may have just not put the pieces together
> (sorry!), or it may just not be easily doable.
> 
> I have a language where a set of 10 different tokens can occur at a
> given point.  The tricky part is that some of them can occur multiple
> times; some can occur only once; some are optional; and some are
> required.  On top of that, they can occur in any order.  Is it
> possible to represent this scenario in an ANTLR grammar?
> 
> Thanks,
> Reid
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Oct  9 10:11:48 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Grammar design question
In-Reply-To: <m2d6qjftnm.fsf@speakeasy.org>
Message-ID: <31D4E53A-DBAA-11D6-96A7-0030653DE0D6@jguru.com>


On Wednesday, October 9, 2002, at 09:45  AM, Reid Rivenburgh wrote:

> Hi,
>
> I have a question about grammar design that I haven't seen an answer
> to in my readings.  I may have just not put the pieces together
> (sorry!), or it may just not be easily doable.
>
> I have a language where a set of 10 different tokens can occur at a
> given point.  The tricky part is that some of them can occur multiple
> times; some can occur only once; some are optional; and some are
> required.  On top of that, they can occur in any order.  Is it
> possible to represent this scenario in an ANTLR grammar?

I would suggest doing just a simple loop that lets any match (i.e., be 
loose).  Then use an action to determine if the semantics are right. :)

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From luke.evans at seagatesoftware.com  Wed Oct  9 10:16:29 2002
From: luke.evans at seagatesoftware.com (Luke Evans)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] ANTLR 2.7.3
Message-ID: <A399661DAF14DA46AAB21B088F3887DC066DDB67@vanent14.crystald.net>

OK, it's another one of those 'when is the next official point release'
question...

Antlr seems to be creeping slowly-ish towards 2.7.3.  Is this an asymptote,
or will it get there?  ;-)
I know everybody is really busy, and I guess Antlr is nobody's 'revenue
stream' (at least not directly), so please don't take this too seriously.
However, it's 'nice' to have some degree of 'finality' and 'commitment' to
the new version.  

I imagine that part of the issue is 'waiting long enough' to see if the
community of users reports any important issues, given that testing and
validation are only informal.  In this regard, would it help to keep a set
of specific grammars around to act as a 'regression suite' to hasten
confidence building at the onset of a new release?  Specific problems, once
reported, could be added to this corpus of tests.  The main problem with
this suggestion of course is 'who would administer this' and I guess that's
the snag.

Luke

 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From reidr at bigfoot.com  Wed Oct  9 10:45:22 2002
From: reidr at bigfoot.com (Reid Rivenburgh)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Grammar design question
In-Reply-To: <170826586F3BD511910D0200C110AAA8032B4DB1@memail03.bco-home.com>
References: <170826586F3BD511910D0200C110AAA8032B4DB1@memail03.bco-home.com>
Message-ID: <m2fzvfpkul.fsf@speakeasy.org>

 mzukowski  writes:

 m> No, it's not possible or if possible it's not practical.
 m> Recommended practice is to grammatically recognize all of them
 m> possibly multiple times.  Then afterwards have action code which
 m> does your validation and throws a (RecognitionException I think,
 m> or is there a SemanticException?) if it's wrong.  If need be you
 m> can do some bookeeping inside your closure to know, for instance,
 m> that the required ones were all there.

Thanks for the replies, Monty and Ter.  I figured there wasn't any
magic syntax to handle something that messy.  Sorry to hear I was
right!  :)

Reid

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Wed Oct  9 10:52:20 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] topics for discussion
In-Reply-To: <A399661DAF14DA46AAB21B088F3887DC066DDB67@vanent14.crystald.net>
Message-ID: <20021009175220.17243.qmail@web40009.mail.yahoo.com>


what surprises me is why there are no commercial
parsers based on LL(k); if it can achieve so much
[which i am getting convinced of gradually]better than
the old hag yacc why do commercial vendors still go
after being "yacc-based" ??

one suggestion i have is to form a voluntary
management board and they can choose the future
members of that board ... 


=========================

how about a [bi ]monthly "antlr application contest" ?
[ AppCon ]

 the initial categories could be 

1. best app demonstrating the use of antlr
2. best grammar showing the inadequacies of antlr
3. best grammar demonstrating the power[+ points] of
   antlr 
4. antlr grammar obfuscating contest !!!!
5. application where antlr is the worst tool to be 
   used.. 


entries can be judged by two panels 
 1. terence and other senior gurus
 2. volunteers from the interest group
 
the final result can be a weighted average of the two

============================================
how about certification exams online ?
 then interested members can be classified as 
1. interested
2. beginner
3. advanced
4. guru

and gurus get to set the question paper for the next
test!!

also this will provide a formal judges panel for the
contest..

im sure such a contest would bring out more examples
for people to look at and use snippets from
also that will help many people directly state tehir
problems and get them solved by otehrs who are
interested.. 

in general will increase the user base and support
base by creating a need for people to use antlr;

==========================================

please do comment on the issues.. 

/e
cheers
ram



__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Oct  9 11:31:53 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] topics for discussion
In-Reply-To: <20021009175220.17243.qmail@web40009.mail.yahoo.com>
Message-ID: <623B089A-DBB5-11D6-96A7-0030653DE0D6@jguru.com>


On Wednesday, October 9, 2002, at 10:52  AM, Sriram Durbha wrote:

>
> what surprises me is why there are no commercial
> parsers based on LL(k); if it can achieve so much

Actually there are plenty of commercial apps.  It's just that nobody 
seems to advertise.  For example, projectbuilder on mac os x has a 
C/ObjC/C++ parser built with PCCTS. :)

Ter


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From bob at werken.com  Wed Oct  9 12:22:30 2002
From: bob at werken.com (bob mcwhirter)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] topics for discussion
In-Reply-To: <623B089A-DBB5-11D6-96A7-0030653DE0D6@jguru.com>
Message-ID: <Pine.LNX.3.96.1021009152205.21270Y-100000@exeter.exeter.org>


And we're all aware that WebLogic has an older antlr.jar
in it for some reason, also...

	-bob

On Wed, 9 Oct 2002, Terence Parr wrote:

> 
> On Wednesday, October 9, 2002, at 10:52  AM, Sriram Durbha wrote:
> 
> >
> > what surprises me is why there are no commercial
> > parsers based on LL(k); if it can achieve so much
> 
> Actually there are plenty of commercial apps.  It's just that nobody 
> seems to advertise.  For example, projectbuilder on mac os x has a 
> C/ObjC/C++ parser built with PCCTS. :)
> 
> Ter
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 

--
Bob McWhirter        bob@werken.com
The Werken Company   http://werken.com/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From yhhf_dy at yahoo.com  Wed Oct  9 13:45:24 2002
From: yhhf_dy at yahoo.com (yhhf_dy)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] a question about comment
Message-ID: <ao24h4+mhv2@eGroups.com>

Hi everybody,

I'm new to Antlr. I want to develop a parser for a language. In the 
language it uses REM and ' as keywords for comment. I wrote the 
following grammar to deal with comments. it obviously that "rem " is 
nondeterminism upon IDENT. Would you please help me erase the 
nondeterminism error. thanks a lot.

COMMENT
  : "rem "
  | '\'' (~('\n'|'\r'))* ('\n'|'\r'('\n')?)
    {$setType(ANTLR_USE_NAMESPACE(antlr)Token::SKIP); newline();}
  ;		

IDENT
 options {testLiterals=true;}
 :('a'..'z'|'_') ('a'..'z'|'_'|'0'..'9')*	
 ;

WS_ 
 :(' '
   | '\t'
   ){ _ttype = ANTLR_USE_NAMESPACE(antlr)Token.SKIP; }
 ;


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mrosgood at yahoo.com  Wed Oct  9 17:48:33 2002
From: mrosgood at yahoo.com (mrosgood)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Incremental Parsing
In-Reply-To: <3DA39031.4080806@uiowa.edu>
Message-ID: <ao2ip1+k0di@eGroups.com>

Hi Brian Smith-

You wrote:

> Not coincidently, tonight I am researching incremental GLR, 
> LR(k), and LL(k) incremental parsers. Most research in 
> this area seems to be on LR(k) and in particular LALR(1) 
> grammars, but I'm interested in learning whether it is 
> possible to use top-down recursive decent predicated LL(k) 
> parsers (a.k.a ANTLR) for incremental parsing.
> 
> So if anybody has any more links or references in this 
> area...

Yea, an algorithm for incremental LL(k) parsing would be most cool.  
Then I wouldn't have to scrap my ANTLR grammars! <grin>

Below are the references I found (all LR, sorry).  

This exercise has been frustrating in a couple of ways.  There's no 
source code to be found.  I get the impression that there's duplicate 
research effort (there's few cross-citations).  Few academic papers 
have the good sense to contain publications dates.  Groups tend to 
use different words for the same thing (e.g. structure editors, 
language-based editors, syntax-aware editors, incremental parsing, 
etc.).  Some of the papers aren't available online.  And, the worst 
offense of all, authors aren't taking advantage of CiteSeer.

Grrr...

Hey, good luck with your efforts.  Holler if you need help.  (I'm in 
way over my head with this stuff.)


Cheers, Jason Osgood

---

Incremental LR Parsing (1996)
Wuu Yang
http://www.cis.nctu.edu.tw/~wuuyang/papers/inclr.ps

Incremental Attribute Evaluation of LR-attributed grammars Using 
Space-Efficient Data Structure (2000)
Hisashi Kakai, Masataka Sassa, Kiroaki Kameyama, Ikuo Nakata
3rd Workshop on Attribute Grammars and their Applications WAGA2000
(can't find link)

Incremental attribute evaluation without parse trees
Hiroaki Kameyama Hisashi Nakai, Masataka Sassa and Ikuo Nakata. 
http://www-sop.inria.fr/oasis/WAGA00/accept.html

A new approach to incremental LR parsing (1997)
Warren X. Li (Software Verification Research Centre)
http://compscinet.dcs.kcl.ac.uk/JP/PDFPapers/jp050106.pdf

An Incremental Lr Parse Strategy for Language-Based Editors
Phil Cook, Jim Welsh (Software Verification Research Centre)
http://citeseer.nj.nec.com/320795.html

Incremental Parsing in language-based editors: user needs and how to 
meet them
Phil Cook, Jim Welsh (Software Verification Research Centre)
Software - Practice & Experience, Vol 21 Dec 2001
(not available online)


This site has all the familiar publications by Tim A. Wagner, Susan 
L. Graham, and Marat Boshernitsan:
http://www.cs.berkeley.edu/~harmonia/publications/publications.html





 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gackle at shaw.ca  Wed Oct  9 22:49:48 2002
From: gackle at shaw.ca (Daniel Gackle)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] ANTLR documentation restructuring
In-Reply-To: <1034155050.441.56405.m12@yahoogroups.com>
Message-ID: <NEBBKKODFMOCLEEIOELFCEEMCJAA.gackle@shaw.ca>

> By the way, Ter (and I'm gonna help) is about to embark upon a
restructuring
> of the docs and website.  It would help a lot if you could explain how the
> documentation should be, in your opinion.
>
> Monty

If I may offer a suggestion, I've spent a lot of time poring over the
documentation, and it would be worlds easier if care were taken to define
each notion before using it.  The way it is structured now is sort of like
this: X is explained using Y and Z, Y is explained using X and A and B and
C, Z is explained in terms of A and Y and D, C and D are not explained
anywhere and, well, you get the picture.  It's the sort of documentation
that makes perfect sense if you already know what everything means, but is
hard to break into if you don't, which kind of defeats the purpose of
documentation.  I don't doubt that this is partly because of the high level
of expertise of the authors.  It is often difficult to temporarily forget
what you know in order to walk someone step by step into that knowledge.

Of course, you can't explain everything back to the beginning of the world,
but it is certainly possible to say, "an introduction to X is out of the
scope of this document, here are some good sources to learn about X".

I have really come to appreciate ANTLR as an excellent tool, and have also
gotten good information from the docs, so I hope my remarks don't sound
cranky.  I do believe that ANTLR would profit immensely from an orderly,
clear exposition.  In my dreams I imagine something like an O'Reilly book...
a solid O'Reilly book on ANTLR would really make the power of this tool
accessible to the wide audience it deserves.

- Daniel Gackle


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gackle at shaw.ca  Wed Oct  9 23:00:12 2002
From: gackle at shaw.ca (Daniel Gackle)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Enhancements to the C# codegen
In-Reply-To: <1034155050.441.56405.m12@yahoogroups.com>
Message-ID: <NEBBKKODFMOCLEEIOELFGEEMCJAA.gackle@shaw.ca>

> Along the same lines, if any users of the C# codegen have
> enhancements they'd like to contribute, drop me a line or better
> still post it to the list.

> Micheal

I made one extension to define TokenTypes as a C# enum rather than a class
with public const int members.  Pretty minor, but it did make it easier to
produce output displaying what tokens had been parsed in a stream and so on.
I'd be happy to send what I did if you like, though there isn't a whole lot
to it.

> Is C# ready do you think to be included in the main release?

Don't mean to speak for Michael, but I would like to say that I've been
using the C# codegen intensively and have found it to be excellent.
Certainly release-worthy in my opinion.

Two posts in a row, enough from me!

- Daniel



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dave-Johnson at btclick.com  Thu Oct 10 08:23:06 2002
From: dave-Johnson at btclick.com (lansdownsoftware)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] (unknown)
Message-ID: <ao460q+fd1u@eGroups.com>

Hi,

I'm trying to build an application around an ANTRL-generated HTML 
grammar recogniser.
I used the example as a starting point.
Unfortunately it falls over where it defines:
script
	:	OSCRIPT (~CSCRIPT)+ CSCRIPT
	;
If the script contains '<' it decides it's got something to match, 
and fails.
I only want to keep up with line numbers  within scripts so tried:
script
	:	OSCRIPT
		(SCDATA)*
		CSCRIPT
	;
where..
SCDATA
	:	(	options{generateAmbigWarnings=false;}
		:       // allow < if not part of </SCRIPT>
			{LA(2)=='/' || LA(3)=='s' || LA(4)=='c' || LA
(5)=='r'}? '<'
		|	'\r' '\n'		{newline();}
		|	'\r'			{newline();}
		|	'\n'			{newline();}
		|	~('<'|'\n'|'\r')
		)*
	;
but this bursts with lexical nondeterminism as you'd expect.
Any ideas how I can grab everything within the script without 
distractions?
Is there anything in ANTRL equivalent to PCCTS's #lexclass?
(This provided a simple way for me to hive of a particular set of 
tests required within certain bounds)
Has anyone worked the grammar file into a completely working concern? 
(the current example file misses quite a few element types)

Thanks
Dave




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From xiang4232002 at yahoo.com  Thu Oct 10 09:59:05 2002
From: xiang4232002 at yahoo.com (Xiangmin Wang)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Incremental Parsing
In-Reply-To: <ao2ip1+k0di@eGroups.com>
Message-ID: <20021010165905.24920.qmail@web13001.mail.yahoo.com>


 
Hi,
  These two questions regard to how I know my local build is "good".
a. Are there tech papers or references that describe the algorithms used in PCCTS and ANTLR to calcaulate the FIRST set, FOLLOW set and information?
b. Is there "official" test base (sources) for the PCCTS and ANTLR (so that if I rebuild the PCCTS and ANTLR toolsets locally, I will be ensured this local build is good "enough" -:)?
 
Thanks.
Xiangmin
 
 



---------------------------------
Do you Yahoo!?
Yahoo! News - Today's headlines
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021010/b0db762d/attachment.html
From tomdz at cs.tu-berlin.de  Thu Oct 10 10:04:49 2002
From: tomdz at cs.tu-berlin.de (Thomas Dudziak)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Incremental Parsing
Message-ID: <Pine.SOL.4.44.0210101900550.28861-100000@reticuli.cs.tu-berlin.de>

Here is the link to the paper:

Nakai, H., Sassa, M., Kameyama, H. and Nakata,I.: Incremental Attribute
Evaluation of LR-attributed Grammars Using Space-Efficient Data Structure,
in Parigot,D. and Mernik,M. (ed.) Proc. WAGA'2000 - 3rd Workshop on
Attribute Grammars and their Applications, INRIA pp. 99-116 (Jul. 2000)

http://www.is.titech.ac.jp/~sassa/papers-written/nakai-sassa-waga00.pdf



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Oct 10 10:31:16 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Incremental Parsing
In-Reply-To: <20021010165905.24920.qmail@web13001.mail.yahoo.com>
Message-ID: <14CA53D6-DC76-11D6-9FF9-0030653DE0D6@jguru.com>


On Thursday, October 10, 2002, at 09:59  AM, Xiangmin Wang wrote:
> ? These two questions regard to how I know my local build is "good".
>
> a. Are there tech papers or references that describe the algorithms 
> used in PCCTS and ANTLR to calcaulate the FIRST set, FOLLOW set and 
> information?

You can find my dissertation at the antlr.org website.

> b. Is there "official" test base (sources) for the PCCTS and ANTLR (so 
> that if I rebuild the PCCTS and ANTLR toolsets locally, I will be 
> ensured this local build is good "enough" -:)?

Unfortunately there is no such test suite.

Thanks,
Terence
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dave-Johnson at btclick.com  Thu Oct 10 10:07:24 2002
From: dave-Johnson at btclick.com (lansdownsoftware)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] D'oh (re HTML grammar problem)
In-Reply-To: <ao460q+fd1u@eGroups.com>
Message-ID: <ao4c4c+idl4@eGroups.com>

--- In antlr-interest@y..., "lansdownsoftware" <dave-Johnson@b...> 
wrote:
> Hi,
> 
> I'm trying to build an application around an ANTRL-generated HTML 
> grammar recogniser.
> I used the example as a starting point.
> Unfortunately it falls over where it defines:
> script
> 	:	OSCRIPT (~CSCRIPT)+ CSCRIPT
> 	;
> If the script contains '<' it decides it's got something to match, 
> and fails.
> I only want to keep up with line numbers  within scripts so tried:
> script
> 	:	OSCRIPT
> 		(SCDATA)*
> 		CSCRIPT
> 	;
> where..
> SCDATA
> 	:	(	options{generateAmbigWarnings=false;}
> 		:       // allow < if not part of </SCRIPT>
> 			{LA(2)=='/' || LA(3)=='s' || LA(4)=='c' || LA
> (5)=='r'}? '<'
> 		|	'\r' '\n'		{newline();}
> 		|	'\r'			{newline();}
> 		|	'\n'			{newline();}
> 		|	~('<'|'\n'|'\r')
> 		)*
> 	;
> but this bursts with lexical nondeterminism as you'd expect.
> Any ideas how I can grab everything within the script without 
> distractions?
> Is there anything in ANTRL equivalent to PCCTS's #lexclass?
> (This provided a simple way for me to hive of a particular set of 
> tests required within certain bounds)
> Has anyone worked the grammar file into a completely working 
concern? 
> (the current example file misses quite a few element types)
> 
> Thanks
> Dave

MAKE IT PROTECTED - having stated the problem in public, the solution 
appeared soon after.

Dave


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Oct 10 12:03:54 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] ANTLR 2.7.3
In-Reply-To: <A399661DAF14DA46AAB21B088F3887DC066DDB67@vanent14.crystald.net>
Message-ID: <05899654-DC83-11D6-9FF9-0030653DE0D6@jguru.com>


On Wednesday, October 9, 2002, at 10:16  AM, Luke Evans wrote:

> OK, it's another one of those 'when is the next official point release'
> question...
>
> Antlr seems to be creeping slowly-ish towards 2.7.3.  Is this an 
> asymptote,
> or will it get there?  ;-)

<snicker>

Yep, for sure by january 2003, you'll have full 2.7.2.  I'm teaching at 
U San Francisco a course on languages; we'll need the latest and stable 
release.

Sounds like we need to stick in the C# output now.  Further, Ric has a 
bit of work left.  Also, I have some Loring Craymer bugs to fix too ;)

I unfortunately started a new feature instead of fixing the last few 
bugs, but I need the features to do a presentation.  Specifically, I 
have AST to tree diagram and grammar to syntax diagram generators 
almost complete and in antlr.util.*.  I generate Lout output and then 
convert to PDF or whatever from there.  I can also make it generate a 
GIF or whatever graphics format you want if you're willing to download 
some more tools.  This stuff is *way* kewl.  Wait til you see!  I 
include a sample output PDF file for your drooling pleasure.  Also the 
stuff is really easy to use:

String lout1 = LoutGenerator.treeToLout("(EXPR stat stat)");
String lout2 = LoutGenerator. grammarToLout("a : A B ;");

L8R G8Rs,
Ter

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: t.pdf
Type: application/pdf
Size: 5648 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20021010/0436e78a/t.pdf
-------------- next part --------------

--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco
From mzukowski at yci.com  Thu Oct 10 10:29:04 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Incremental Parsing
Message-ID: <170826586F3BD511910D0200C110AAA8032B4DBF@memail03.bco-home.com>

>a. Are there tech papers or references that describe the algorithms used in
PCCTS and ANTLR to calcaulate the FIRST set, FOLLOW set and information? 

Yes, see Ter's thesis.  http://www.antlr.org/articles.html#thesis

>b. Is there "official" test base (sources) for the PCCTS and ANTLR (so that
if I rebuild the PCCTS and ANTLR toolsets locally, I will be ensured this
local build is good "enough" -:)? 

Not really.  The examples directory is a good start.  This will definately
be addressed with antlr 3.

Monty

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Thu Oct 10 12:25:43 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] retaining comments
In-Reply-To: <170826586F3BD511910D0200C110AAA8032B4DBF@memail03.bco-home.com>
Message-ID: <20021010192543.78718.qmail@web40019.mail.yahoo.com>

hi,
 im writing a translator from  language A to language B ;
most of the statements in A which when written are finished within one
line and are optionally followed but a comment can be translated as is
to the target ; eg: 
int a,b,c ;// comment         <===>  a,b,c : INTEGER ; # comment

 but for mor ethan one line , retaining comments has become an issue
 
eg: 
 int a, // comment a
     b,
     c  ;// comment c

since a comment can in principle appear any where;
eg:

 int a //
     , //
     b //
     , //
for the other productions which are more complex, it appears like


rule : ( CMNT)? sub_1 ( CMNT)? sub_2 (CMNT)?  

hope you get the picture..  so i decided to write my own parser and
process the source line by line ;

bu tnow it looks like i have to use a tool the code is already a few
hundred lines and does a beautiful job of translating but after two
days when i look at the code i find it difficult to go thru . so i cant
deliver it to the client !!! 

and now im considering using antlr again.. but ho9w and wehre do i get
to an example which can show how to retian comments?

since the retaining comments problem is with yacc also, but antlr
offers some cool features.. i opt antlr.. but now im stuck !!

any pointers or links to examples showing how to retain comments will
be appreciated.. mean while im trying to understand what hidden token
streams are all about;

thanks
ram






__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mrosgood at yahoo.com  Thu Oct 10 12:47:49 2002
From: mrosgood at yahoo.com (mrosgood)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Re: ANTLR 2.7.3
In-Reply-To: <05899654-DC83-11D6-9FF9-0030653DE0D6@jguru.com>
Message-ID: <ao4lh5+g1gp@eGroups.com>

Terence Parr-


You wrote:

> I have AST to tree diagram and grammar to syntax diagram 
> generators almost complete and in antlr.util.*.  I 
> generate Lout output...

Love it!  That sample output you attached is great.

Personally, I like the idea of Lout quite a bit; it's simple and
non-psychotic.  I'm glad you didn't drink the Kool-Aid (e.g. XML, SVG,
TeX, HTML/CSS, etc.).


Cheers, Jason Osgood


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Oct 10 12:56:34 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Re: ANTLR 2.7.3
In-Reply-To: <ao4lh5+g1gp@eGroups.com>
Message-ID: <6117B995-DC8A-11D6-9FF9-0030653DE0D6@jguru.com>


On Thursday, October 10, 2002, at 12:47  PM, mrosgood wrote:

> Terence Parr-
>
>
> You wrote:
>
>> I have AST to tree diagram and grammar to syntax diagram
>> generators almost complete and in antlr.util.*.  I
>> generate Lout output...
>
> Love it!  That sample output you attached is great.
>
> Personally, I like the idea of Lout quite a bit; it's simple and
> non-psychotic.  I'm glad you didn't drink the Kool-Aid (e.g. XML, SVG,
> TeX, HTML/CSS, etc.).

Ewwww!  Yeah, Lout is great though I just learned it personally.

You should see my TML (Ter's Markup Language or Text Markup Language).  
It's like Wiki except better in my opinion.  I'll give that out soon 
too.  It's amazing cool and flexible.  [ANTLR doc will move to it 
soon].  You can define any output generator your want.  Right now I 
have HTML and Lout.  Everything is really a plugin like emacs so when I 
say:

Try this %tree("(A B C)") diagram.

It looks for tree.class in the classpath and then passes the arg.  The 
output is considered an include...i fork a TMLLexer to handle the 
output inline, which is this case would be lout output and hence go 
straight to the target file.  I am doing all of my course notes in TML. 
  It's highly groovy.

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sunshine at public.kherson.ua  Thu Oct 10 12:40:33 2002
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] ANTLR 2.7.3
In-Reply-To: <05899654-DC83-11D6-9FF9-0030653DE0D6@jguru.com>
Message-ID: <B9CBB260.19775%sunshine@public.kherson.ua>

on 10/10/02 10:03 PM, Terence Parr at parrt@jguru.com wrote:

Hi Terrence,

This is great features!

I already can image how it is good build syntax diagrams for documentation.
So yes, we need way to get gifs or jpgs.

> I unfortunately started a new feature instead of fixing the last few
> bugs, but I need the features to do a presentation.  Specifically, I
> have AST to tree diagram and grammar to syntax diagram generators
> almost complete and in antlr.util.*.  I generate Lout output and then
> convert to PDF or whatever from there.  I can also make it generate a
> GIF or whatever graphics format you want if you're willing to download
> some more tools.  This stuff is *way* kewl.  Wait til you see!  I
> include a sample output PDF file for your drooling pleasure.  Also the
> stuff is really easy to use:
> 
> String lout1 = LoutGenerator.treeToLout("(EXPR stat stat)");
> String lout2 = LoutGenerator. grammarToLout("a : A B ;");

-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list
send a letter to valentina-on@lists.macserve.net
-------------------------------------------------------------


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From luke.evans at seagatesoftware.com  Thu Oct 10 13:01:42 2002
From: luke.evans at seagatesoftware.com (Luke Evans)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] ANTLR 2.7.3
Message-ID: <A399661DAF14DA46AAB21B088F3887DC066DDB7A@vanent14.crystald.net>

Good stuff (on the 2.7.2 issue) and actually I like the sound of the syntax
diagram generator too, from the point of view of (perhaps) auto-generating
some of our language documentation.  I'll have to give this a try sometime
soon...

Lwe




> ----------
> From: 	Terence Parr
> Reply To: 	antlr-interest@yahoogroups.com
> Sent: 	Thursday, October 10, 2002 12:03 PM
> To: 	antlr-interest@yahoogroups.com
> Subject: 	Re: [antlr-interest] ANTLR 2.7.3
> 
> <<File: t.pdf>><<File: ATT438826.txt>>
> 
> On Wednesday, October 9, 2002, at 10:16  AM, Luke Evans wrote:
> 
> > OK, it's another one of those 'when is the next official point release'
> > question...
> >
> > Antlr seems to be creeping slowly-ish towards 2.7.3.  Is this an 
> > asymptote,
> > or will it get there?  ;-)
> 
> <snicker>
> 
> Yep, for sure by january 2003, you'll have full 2.7.2.  I'm teaching at 
> U San Francisco a course on languages; we'll need the latest and stable 
> release.
> 
> Sounds like we need to stick in the C# output now.  Further, Ric has a 
> bit of work left.  Also, I have some Loring Craymer bugs to fix too ;)
> 
> I unfortunately started a new feature instead of fixing the last few 
> bugs, but I need the features to do a presentation.  Specifically, I 
> have AST to tree diagram and grammar to syntax diagram generators 
> almost complete and in antlr.util.*.  I generate Lout output and then 
> convert to PDF or whatever from there.  I can also make it generate a 
> GIF or whatever graphics format you want if you're willing to download 
> some more tools.  This stuff is *way* kewl.  Wait til you see!  I 
> include a sample output PDF file for your drooling pleasure.  Also the 
> stuff is really easy to use:
> 
> String lout1 = LoutGenerator.treeToLout("(EXPR stat stat)");
> String lout2 = LoutGenerator. grammarToLout("a : A B ;");
> 
> L8R G8Rs,
> Ter
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Thu Oct 10 14:05:11 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] ANTLR 2.7.3
In-Reply-To: <05899654-DC83-11D6-9FF9-0030653DE0D6@jguru.com>
Message-ID: <20021010210511.26958.qmail@web40015.mail.yahoo.com>

kewl features ..
 the last time i saw good syntax diagrams in a language text book was n
wirth's pascal book; now every new language written using antlr can
have good documentation!! 
 -
ram
--- Terence Parr <parrt@jguru.com> wrote:
> 
> On Wednesday, October 9, 2002, at 10:16  AM, Luke Evans wrote:
> 
> > OK, it's another one of those 'when is the next official point
> release'
> > question...
> >
> > Antlr seems to be creeping slowly-ish towards 2.7.3.  Is this an 
> > asymptote,
> > or will it get there?  ;-)
> 
> <snicker>
> 
> Yep, for sure by january 2003, you'll have full 2.7.2.  I'm teaching
> at 
> U San Francisco a course on languages; we'll need the latest and
> stable 
> release.
> 
> Sounds like we need to stick in the C# output now.  Further, Ric has
> a 
> bit of work left.  Also, I have some Loring Craymer bugs to fix too
> ;)
> 
> I unfortunately started a new feature instead of fixing the last few 
> bugs, but I need the features to do a presentation.  Specifically, I 
> have AST to tree diagram and grammar to syntax diagram generators 
> almost complete and in antlr.util.*.  I generate Lout output and then
> 
> convert to PDF or whatever from there.  I can also make it generate a
> 
> GIF or whatever graphics format you want if you're willing to
> download 
> some more tools.  This stuff is *way* kewl.  Wait til you see!  I 
> include a sample output PDF file for your drooling pleasure.  Also
> the 
> stuff is really easy to use:
> 
> String lout1 = LoutGenerator.treeToLout("(EXPR stat stat)");
> String lout2 = LoutGenerator. grammarToLout("a : A B ;");
> 
> L8R G8Rs,
> Ter
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 

> ATTACHMENT part 2 application/pdf x-unix-mode=0644; name=t.pdf
> 
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco
> 


__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sunshine at public.kherson.ua  Thu Oct 10 13:16:30 2002
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] [BUG] in 2.7.2a2
Message-ID: <B9CBBACD.19785%sunshine@public.kherson.ua>

Hi Terrence,

Please add this bug to your Notebook.

1) if put grammars of Lexer and Parser into different 2 files

2) and in Parser make rule that define imaginary tokens, e.g.

    ImaginaryTokens
        : SQL_STATEMENT
        | COLUMN_DEF
        ;

Then on generation of parser from parser grammar
ANLT not correctly assign values for these tokens and corrupt existed
vocabulary of tokens created by lexer.

For example, if lexer create

    DQUOTE = 4
    QUOTE = 5,
    STAR = 6,
    DOT = 7

Then after parser.g compilation we get

    SQL_STATEMENT= 4
    COLUMN_DEF = 5,
    STAR = 6,
    DOT = 7

I.e. Tokens DQUOTE and QUOTE simply disappear.   :-(

------------------------
3) if put lexer.g into the same file where parser is, then this problem not
happens. 

4) it is never mind who first is compiled.
At first we can compile parser.g, get vocabulary, but later lexer.g on
compilation will corrupt it.

5) this Problematic tokens always start eat numbers from 4


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list
send a letter to valentina-on@lists.macserve.net
-------------------------------------------------------------


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Thu Oct 10 14:24:41 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] [BUG] in 2.7.2a2
Message-ID: <170826586F3BD511910D0200C110AAA8032B4DCC@memail03.bco-home.com>

You need to have your parser import the vocabulary from the lexer.  See
http://www.antlr.org/doc/vocab.html and
http://www.antlr.org/doc/options.html#importVocab

Monty

> -----Original Message-----
> From: Ruslan Zasukhin [mailto:sunshine@public.kherson.ua]
> Sent: Thursday, October 10, 2002 1:17 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] [BUG] in 2.7.2a2
> Importance: High
> 
> 
> Hi Terrence,
> 
> Please add this bug to your Notebook.
> 
> 1) if put grammars of Lexer and Parser into different 2 files
> 
> 2) and in Parser make rule that define imaginary tokens, e.g.
> 
>     ImaginaryTokens
>         : SQL_STATEMENT
>         | COLUMN_DEF
>         ;
> 
> Then on generation of parser from parser grammar
> ANLT not correctly assign values for these tokens and corrupt existed
> vocabulary of tokens created by lexer.
> 
> For example, if lexer create
> 
>     DQUOTE = 4
>     QUOTE = 5,
>     STAR = 6,
>     DOT = 7
> 
> Then after parser.g compilation we get
> 
>     SQL_STATEMENT= 4
>     COLUMN_DEF = 5,
>     STAR = 6,
>     DOT = 7
> 
> I.e. Tokens DQUOTE and QUOTE simply disappear.   :-(
> 
> ------------------------
> 3) if put lexer.g into the same file where parser is, then 
> this problem not
> happens. 
> 
> 4) it is never mind who first is compiled.
> At first we can compile parser.g, get vocabulary, but later lexer.g on
> compilation will corrupt it.
> 
> 5) this Problematic tokens always start eat numbers from 4
> 
> 
> -- 
> Best regards,
> Ruslan Zasukhin      [ I feel the need...the need for speed ]
> -------------------------------------------------------------
> e-mail: ruslan@paradigmasoft.com
> web: http://www.paradigmasoft.com
> 
> To subscribe to the Valentina mail list
> send a letter to valentina-on@lists.macserve.net
> -------------------------------------------------------------
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Thu Oct 10 14:30:57 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] [BUG] in 2.7.2a2
In-Reply-To: <B9CBBACD.19785%sunshine@public.kherson.ua>
Message-ID: <20021010213057.6195.qmail@web40007.mail.yahoo.com>

does this have something to do with the importVocab key word?
--- Ruslan Zasukhin <sunshine@public.kherson.ua> wrote:
> Hi Terrence,
> 
> Please add this bug to your Notebook.
> 
> 1) if put grammars of Lexer and Parser into different 2 files
> 
> 2) and in Parser make rule that define imaginary tokens, e.g.
> 
>     ImaginaryTokens
>         : SQL_STATEMENT
>         | COLUMN_DEF
>         ;
> 
> Then on generation of parser from parser grammar
> ANLT not correctly assign values for these tokens and corrupt existed
> vocabulary of tokens created by lexer.
> 
> For example, if lexer create
> 
>     DQUOTE = 4
>     QUOTE = 5,
>     STAR = 6,
>     DOT = 7
> 
> Then after parser.g compilation we get
> 
>     SQL_STATEMENT= 4
>     COLUMN_DEF = 5,
>     STAR = 6,
>     DOT = 7
> 
> I.e. Tokens DQUOTE and QUOTE simply disappear.   :-(
> 
> ------------------------
> 3) if put lexer.g into the same file where parser is, then this
> problem not
> happens. 
> 
> 4) it is never mind who first is compiled.
> At first we can compile parser.g, get vocabulary, but later lexer.g
> on
> compilation will corrupt it.
> 
> 5) this Problematic tokens always start eat numbers from 4
> 
> 
> -- 
> Best regards,
> Ruslan Zasukhin      [ I feel the need...the need for speed ]
> -------------------------------------------------------------
> e-mail: ruslan@paradigmasoft.com
> web: http://www.paradigmasoft.com
> 
> To subscribe to the Valentina mail list
> send a letter to valentina-on@lists.macserve.net
> -------------------------------------------------------------
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sunshine at public.kherson.ua  Thu Oct 10 15:45:31 2002
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] [BUG] in 2.7.2a2
In-Reply-To: <170826586F3BD511910D0200C110AAA8032B4DCC@memail03.bco-home.com>
Message-ID: <B9CBDDBB.197B3%sunshine@public.kherson.ua>

on 10/11/02 12:24 AM, mzukowski@yci.com at mzukowski@yci.com wrote:

> You need to have your parser import the vocabulary from the lexer.  See
> http://www.antlr.org/doc/vocab.html and
> http://www.antlr.org/doc/options.html#importVocab

I believe I have made this, otherwise how antlr could find EXISTED
vocabulary to corrupt it? :-)

PLEASE note, that there is no problem with new tokens that add parser if
they just literals:

    "create" "table"

Then Parser simply add to vocabulary

    LITERAL_create
    LITERAL_table

All right.

Problem happens only if add dummy rule, where simply list imaginary tokens.
Here ANTLR fails.


> Monty
> 
>> -----Original Message-----
>> From: Ruslan Zasukhin [mailto:sunshine@public.kherson.ua]
>> Sent: Thursday, October 10, 2002 1:17 PM
>> To: antlr-interest@yahoogroups.com
>> Subject: [antlr-interest] [BUG] in 2.7.2a2
>> Importance: High
>> 
>> 
>> Hi Terrence,
>> 
>> Please add this bug to your Notebook.
>> 
>> 1) if put grammars of Lexer and Parser into different 2 files
>> 
>> 2) and in Parser make rule that define imaginary tokens, e.g.
>> 
>>     ImaginaryTokens
>>         : SQL_STATEMENT
>>         | COLUMN_DEF
>>         ;
>> 
>> Then on generation of parser from parser grammar
>> ANLT not correctly assign values for these tokens and corrupt existed
>> vocabulary of tokens created by lexer.
>> 
>> For example, if lexer create
>> 
>>     DQUOTE = 4
>>     QUOTE = 5,
>>     STAR = 6,
>>     DOT = 7
>> 
>> Then after parser.g compilation we get
>> 
>>     SQL_STATEMENT= 4
>>     COLUMN_DEF = 5,
>>     STAR = 6,
>>     DOT = 7
>> 
>> I.e. Tokens DQUOTE and QUOTE simply disappear.   :-(

-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list
send a letter to valentina-on@lists.macserve.net
-------------------------------------------------------------


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Oct 10 19:15:51 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] [BUG] in 2.7.2a2
In-Reply-To: <B9CBDDBB.197B3%sunshine@public.kherson.ua>
Message-ID: <5D5C85BA-DCBF-11D6-9FF9-0030653DE0D6@jguru.com>


On Thursday, October 10, 2002, at 03:45  PM, Ruslan Zasukhin wrote:

> on 10/11/02 12:24 AM, mzukowski@yci.com at mzukowski@yci.com wrote:
>
>> You need to have your parser import the vocabulary from the lexer.  
>> See
>> http://www.antlr.org/doc/vocab.html and
>> http://www.antlr.org/doc/options.html#importVocab
>
> I believe I have made this, otherwise how antlr could find EXISTED
> vocabulary to corrupt it? :-)

It would think it's a new token for use in generating a new tree I 
think.  You definitely need to tell it to import a vocab if you have a 
separate file.

I hope this is the problem anyway ;)

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From krupa_gadde at yahoo.com  Thu Oct 10 21:40:11 2002
From: krupa_gadde at yahoo.com (Benhur)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Extracting portions of code
Message-ID: <ao5knb+2mpt@eGroups.com>

Hi all,

I am Krupa Benhur, who is working on PL/SQL grammar. I have written 
grammar for the same and used "^" notation for tokens to make them 
as root nodes. I have many sub-rules as part of my grammar like 
this - 

plsql_block:
	(("declare")? (declare_spec)+)? 
	("begin"^)?
      	seq_of_statements
      	("exception" exception_handler (exception_handler)*)? 
      	("end" (label_name)? SEMI!)?
      	;

seq_of_statements:
	assignment_statement
	| if_statement 
	| sql_statement^
        ;

I have also written grammar for sql_statement. I am able to apply 
this grammar for any PL/SQL program and see the tree generated. Now, 
using this grammar, I want to extract the sql_statement part from 
the PL/SQL file and write the same to another file. Can some one 
give me code sample for the same. 

I feel I need to use findAll(AST target) and findAllPartial(AST sub) 
member functions of the abstract class BaseAST. I am not sure on how 
to pass AST as a parameter to this findAll member function. I will 
be very happy if some one can help me in this regard.

Thanks in advace
Benhur
krupa_gadde@yahoo.com


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From bogdan_mt at yahoo.com  Fri Oct 11 02:19:09 2002
From: bogdan_mt at yahoo.com (Bogdan Mitu)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] retaining comments
In-Reply-To: <20021010192543.78718.qmail@web40019.mail.yahoo.com>
Message-ID: <20021011091909.5094.qmail@web14810.mail.yahoo.com>

Hi ram,

It's usually a good idea to read the documentation first ;-)

See http://www.antlr.org/fieldguide/whitespace/index.html

Cheers,
Bogdan

--- Sriram Durbha <cintyram@yahoo.com> wrote:
> hi,
>  im writing a translator from  language A to language B ;
> most of the statements in A which when written are finished within one
> line and are optionally followed but a comment can be translated as is
> to the target ; eg: 
> int a,b,c ;// comment         <===>  a,b,c : INTEGER ; # comment
> 
>  but for mor ethan one line , retaining comments has become an issue
>  
> eg: 
>  int a, // comment a
>      b,
>      c  ;// comment c
> 
> since a comment can in principle appear any where;
> eg:
> 
>  int a //
>      , //
>      b //
>      , //
> for the other productions which are more complex, it appears like
> 
> 
> rule : ( CMNT)? sub_1 ( CMNT)? sub_2 (CMNT)?  
> 
> hope you get the picture..  so i decided to write my own parser and
> process the source line by line ;
> 
> bu tnow it looks like i have to use a tool the code is already a few
> hundred lines and does a beautiful job of translating but after two
> days when i look at the code i find it difficult to go thru . so i cant
> deliver it to the client !!! 
> 
> and now im considering using antlr again.. but ho9w and wehre do i get
> to an example which can show how to retian comments?
> 
> since the retaining comments problem is with yacc also, but antlr
> offers some cool features.. i opt antlr.. but now im stuck !!
> 
> any pointers or links to examples showing how to retain comments will
> be appreciated.. mean while im trying to understand what hidden token
> streams are all about;
> 
> thanks
> ram
> 
> 
> 
> 
> 
> 
> __________________________________________________
> Do you Yahoo!?
> Faith Hill - Exclusive Performances, Videos & More
> http://faith.yahoo.com
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 
> 


__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From brian-l-smith at uiowa.edu  Fri Oct 11 03:22:52 2002
From: brian-l-smith at uiowa.edu (Brian Smith)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] "interactive" option
Message-ID: <3DA6A67C.402@uiowa.edu>

In the documentation (http://www.antlr.org/doc/options.html#Options) 
there is a mention of a "interactive" property, with this note:

"Both the lexer and the parser have an interactive option, which 
defaults to "false". See the parser speed section above."

However, I can't find any reference to a "parser speed section." So, 
what does "interactive" do? It seems from the source code that it 
doesn't have any effect.

I ask because I am working on patches for ANTLR to better support 
interactive, incremental lexing in NetBeans.

I have already created a patch that allows the lexer to return 
partially-recognized tokens like this:
      "Hi, I am a string that is almost fini

Normally, the lexer would throw an exception. But, the NetBeans editor 
would prefer that instead the lexer returned STRING_LITERAL instead. So, 
I created an option "returnIncompleteTokens" that, when enabled at 
runtime (it is not set in the grammar file), causes the lexer to work in 
the way expected by the NetBeans lexer framework.

The patch is very simple, just a few extra lines in JavaCodeGenerator. 
It is similar to Bogdan's patch to JavaCodeGenerator for SATC (except 
his patch always returns INVALID_TOKEN when an incomplete token is 
reached). Since it is a runtime-only option (does not affect the grammar 
file) it isn't necessary to "port" to C# or C++ code generators.  Please 
let me know if you are interested in this patch.

- Brian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sunshine at public.kherson.ua  Fri Oct 11 04:17:15 2002
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] [BUG] in 2.7.2a2
In-Reply-To: <5D5C85BA-DCBF-11D6-9FF9-0030653DE0D6@jguru.com>
Message-ID: <B9CC8DEB.19805%sunshine@public.kherson.ua>

on 10/11/02 5:15 AM, Terence Parr at parrt@jguru.com wrote:

>> on 10/11/02 12:24 AM, mzukowski@yci.com at mzukowski@yci.com wrote:
>> 
>>> You need to have your parser import the vocabulary from the lexer.
>>> See
>>> http://www.antlr.org/doc/vocab.html and
>>> http://www.antlr.org/doc/options.html#importVocab
>> 
>> I believe I have made this, otherwise how antlr could find EXISTED
>> vocabulary to corrupt it? :-)
> 
> It would think it's a new token for use in generating a new tree I
> think.  You definitely need to tell it to import a vocab if you have a
> separate file.
> 
> I hope this is the problem anyway ;)

Okay, I think you are right.

I get confused because if lexer and parser in one file, we must make in both
exportVocab. But if in different then we need in lexer export, but in parser
imorpt.


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list
send a letter to valentina-on@lists.macserve.net
-------------------------------------------------------------


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Fri Oct 11 07:47:13 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Extracting portions of code
Message-ID: <170826586F3BD511910D0200C110AAA8032B4DD4@memail03.bco-home.com>

First a nitpick.  The ^ on sql_statement doesn't make sense:

> seq_of_statements:
> 	assignment_statement
> 	| if_statement 
> 	| sql_statement^
>         ;

^ should only be applied to tokens, it doesn't make sense on a rule.

findAll and findAllPartial may work for you.  They try to match trees
against trees, comparing on types but ignoring the text.  I would take a
different approach, however.  I would create a tree grammar for your PL/SQL
and then just override sql_statement to have actions to print itself out.
Alternatively you could build a list of all sql_statement roots in your
parser and use that as the starting point, but you still need most of the
tree grammar to be able to write the statments out.  

Monty

> -----Original Message-----
> From: Benhur [mailto:krupa_gadde@yahoo.com]
> Sent: Thursday, October 10, 2002 9:40 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Extracting portions of code
> 
> 
> Hi all,
> 
> I am Krupa Benhur, who is working on PL/SQL grammar. I have written 
> grammar for the same and used "^" notation for tokens to make them 
> as root nodes. I have many sub-rules as part of my grammar like 
> this - 
> 
> plsql_block:
> 	(("declare")? (declare_spec)+)? 
> 	("begin"^)?
>       	seq_of_statements
>       	("exception" exception_handler (exception_handler)*)? 
>       	("end" (label_name)? SEMI!)?
>       	;
> 
> seq_of_statements:
> 	assignment_statement
> 	| if_statement 
> 	| sql_statement^
>         ;
> 
> I have also written grammar for sql_statement. I am able to apply 
> this grammar for any PL/SQL program and see the tree generated. Now, 
> using this grammar, I want to extract the sql_statement part from 
> the PL/SQL file and write the same to another file. Can some one 
> give me code sample for the same. 
> 
> I feel I need to use findAll(AST target) and findAllPartial(AST sub) 
> member functions of the abstract class BaseAST. I am not sure on how 
> to pass AST as a parameter to this findAll member function. I will 
> be very happy if some one can help me in this regard.
> 
> Thanks in advace
> Benhur
> krupa_gadde@yahoo.com
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From yhhf_dy at yahoo.com  Fri Oct 11 08:11:44 2002
From: yhhf_dy at yahoo.com (Fan Yang)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] A question about extracting comments
Message-ID: <ao6png+ae50@eGroups.com>

Hi everybody,

I'm new to Antlr. I want to develop a parser for a language. In the 
language it uses REM and ' as keywords for comment. I wrote the 
following grammar to deal with comments. for ' kind of comments is 
ok. But it is obviously that "rem " is nondeterminism upon IDENT. But 
I don't know how to remove it. Would you please help me erase the 
nondeterminism error. 

thanks a lot.

COMMENT
: "rem "
| '\'' (~('\n'|'\r'))* ('\n'|'\r'('\n')?)
{$setType(ANTLR_USE_NAMESPACE(antlr)Token::SKIP); newline();}
; 

IDENT
options {testLiterals=true;}
:('a'..'z'|'_') ('a'..'z'|'_'|'0'..'9')* 
;

WS_ 
:(' '
| '\t'
){ _ttype = ANTLR_USE_NAMESPACE(antlr)Token.SKIP; }
;



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From bogdan_mt at yahoo.com  Fri Oct 11 08:43:39 2002
From: bogdan_mt at yahoo.com (Bogdan Mitu)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] A question about extracting comments
In-Reply-To: <ao6png+ae50@eGroups.com>
Message-ID: <20021011154339.44123.qmail@web14808.mail.yahoo.com>

Hi,

If you use k=4, you will probably get rid of the nondeterminism, since "rem
" contains a space, while IDENT doesn't.

But are you sure "rem " it's what you really want? What about "rem" followed
by a tab? 

Regards,
Bogdan


--- Fan Yang <yhhf_dy@yahoo.com> wrote:
> Hi everybody,
> 
> I'm new to Antlr. I want to develop a parser for a language. In the 
> language it uses REM and ' as keywords for comment. I wrote the 
> following grammar to deal with comments. for ' kind of comments is 
> ok. But it is obviously that "rem " is nondeterminism upon IDENT. But 
> I don't know how to remove it. Would you please help me erase the 
> nondeterminism error. 
> 
> thanks a lot.
> 
> COMMENT
> : "rem "
> | '\'' (~('\n'|'\r'))* ('\n'|'\r'('\n')?)
> {$setType(ANTLR_USE_NAMESPACE(antlr)Token::SKIP); newline();}
> ; 
> 
> IDENT
> options {testLiterals=true;}
> :('a'..'z'|'_') ('a'..'z'|'_'|'0'..'9')* 
> ;
> 
> WS_ 
> :(' '
> | '\t'
> ){ _ttype = ANTLR_USE_NAMESPACE(antlr)Token.SKIP; }
> ;
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 
> 


__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From yhhf_dy at yahoo.com  Fri Oct 11 10:06:49 2002
From: yhhf_dy at yahoo.com (Fan Yang)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Re: A question about extracting comments
In-Reply-To: <20021011154339.44123.qmail@web14808.mail.yahoo.com>
Message-ID: <ao70f9+j3rr@eGroups.com>

Hi,

Thank you very much for your response.

I have already tried to use k=4 for 4 characters look ahead. But it 
didn't work; it still gave me the following warning.

warning: lexical nondeterminism between rules COMMENT and IDENT upon
MyVB.g:0:       k==1:'r'
MyVB.g:0:       k==2:'0'..'9','_','a'..'z'
MyVB.g:0:       k==3:<end-of-token>,'0'..'9','_','a'..'z'
MyVB.g:0:       k==4:<end-of-token>,'0'..'9','_','a'..'z'

Is it possible to put "rem" into literal table(I know it's possible 
for parser not for lexer)? because I have given  the options 
{testLiterals=true;} for IDENT. or someway else?


>But are you sure "rem " it's what you really want? What about "rem" 
>followed by a tab? 

By the way, you are right about production for "rem". it must change 
to something like following rule:

COMMENT
 : ("rem " | '\'')
   (~('\n'|'\r'))* ('\n'|'\r'('\n')?)
   {$setType(ANTLR_USE_NAMESPACE(antlr)Token::SKIP); newline();}
 ;

Thanks,

fan

--- In antlr-interest@y..., Bogdan Mitu <bogdan_mt@y...> wrote:
> Hi,
> 
> If you use k=4, you will probably get rid of the nondeterminism, 
since "rem
> " contains a space, while IDENT doesn't.
> 
> But are you sure "rem " it's what you really want? What about "rem" 
followed
> by a tab? 
> 
> Regards,
> Bogdan
> 
> 
> --- Fan Yang <yhhf_dy@y...> wrote:
> > Hi everybody,
> > 
> > I'm new to Antlr. I want to develop a parser for a language. In 
the 
> > language it uses REM and ' as keywords for comment. I wrote the 
> > following grammar to deal with comments. for ' kind of comments 
is 
> > ok. But it is obviously that "rem " is nondeterminism upon IDENT. 
But 
> > I don't know how to remove it. Would you please help me erase the 
> > nondeterminism error. 
> > 
> > thanks a lot.
> > 
> > COMMENT
> > : "rem "
> > | '\'' (~('\n'|'\r'))* ('\n'|'\r'('\n')?)
> > {$setType(ANTLR_USE_NAMESPACE(antlr)Token::SKIP); newline();}
> > ; 
> > 
> > IDENT
> > options {testLiterals=true;}
> > :('a'..'z'|'_') ('a'..'z'|'_'|'0'..'9')* 
> > ;
> > 
> > WS_ 
> > :(' '
> > | '\t'
> > ){ _ttype = ANTLR_USE_NAMESPACE(antlr)Token.SKIP; }
> > ;
> > 
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 
> > 
> > 
> > 
> 
> 
> __________________________________________________
> Do you Yahoo!?
> Faith Hill - Exclusive Performances, Videos & More
> http://faith.yahoo.com


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Fri Oct 11 10:24:20 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Re: A question about extracting comments
Message-ID: <170826586F3BD511910D0200C110AAA8032B4DD7@memail03.bco-home.com>

"rem" and ident are ambiguous...the string "rem" matches in both.  Try out
Ter's new lexer-only predicate hoisting in the latest red hot alpha release.
Ter posted something about it to the list recently, in the past month or so.

Monty

> -----Original Message-----
> From: Fan Yang [mailto:yhhf_dy@yahoo.com]
> Sent: Friday, October 11, 2002 10:07 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: A question about extracting comments
> 
> 
> Hi,
> 
> Thank you very much for your response.
> 
> I have already tried to use k=4 for 4 characters look ahead. But it 
> didn't work; it still gave me the following warning.
> 
> warning: lexical nondeterminism between rules COMMENT and IDENT upon
> MyVB.g:0:       k==1:'r'
> MyVB.g:0:       k==2:'0'..'9','_','a'..'z'
> MyVB.g:0:       k==3:<end-of-token>,'0'..'9','_','a'..'z'
> MyVB.g:0:       k==4:<end-of-token>,'0'..'9','_','a'..'z'
> 
> Is it possible to put "rem" into literal table(I know it's possible 
> for parser not for lexer)? because I have given  the options 
> {testLiterals=true;} for IDENT. or someway else?
> 
> 
> >But are you sure "rem " it's what you really want? What about "rem" 
> >followed by a tab? 
> 
> By the way, you are right about production for "rem". it must change 
> to something like following rule:
> 
> COMMENT
>  : ("rem " | '\'')
>    (~('\n'|'\r'))* ('\n'|'\r'('\n')?)
>    {$setType(ANTLR_USE_NAMESPACE(antlr)Token::SKIP); newline();}
>  ;
> 
> Thanks,
> 
> fan
> 
> --- In antlr-interest@y..., Bogdan Mitu <bogdan_mt@y...> wrote:
> > Hi,
> > 
> > If you use k=4, you will probably get rid of the nondeterminism, 
> since "rem
> > " contains a space, while IDENT doesn't.
> > 
> > But are you sure "rem " it's what you really want? What about "rem" 
> followed
> > by a tab? 
> > 
> > Regards,
> > Bogdan
> > 
> > 
> > --- Fan Yang <yhhf_dy@y...> wrote:
> > > Hi everybody,
> > > 
> > > I'm new to Antlr. I want to develop a parser for a language. In 
> the 
> > > language it uses REM and ' as keywords for comment. I wrote the 
> > > following grammar to deal with comments. for ' kind of comments 
> is 
> > > ok. But it is obviously that "rem " is nondeterminism upon IDENT. 
> But 
> > > I don't know how to remove it. Would you please help me erase the 
> > > nondeterminism error. 
> > > 
> > > thanks a lot.
> > > 
> > > COMMENT
> > > : "rem "
> > > | '\'' (~('\n'|'\r'))* ('\n'|'\r'('\n')?)
> > > {$setType(ANTLR_USE_NAMESPACE(antlr)Token::SKIP); newline();}
> > > ; 
> > > 
> > > IDENT
> > > options {testLiterals=true;}
> > > :('a'..'z'|'_') ('a'..'z'|'_'|'0'..'9')* 
> > > ;
> > > 
> > > WS_ 
> > > :(' '
> > > | '\t'
> > > ){ _ttype = ANTLR_USE_NAMESPACE(antlr)Token.SKIP; }
> > > ;
> > > 
> > > 
> > > 
> > >  
> > > 
> > > Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> > > 
> > > 
> > > 
> > 
> > 
> > __________________________________________________
> > Do you Yahoo!?
> > Faith Hill - Exclusive Performances, Videos & More
> > http://faith.yahoo.com
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From brian-l-smith at uiowa.edu  Fri Oct 11 10:32:31 2002
From: brian-l-smith at uiowa.edu (Brian Smith)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Re: A question about extracting comments
References: <ao70f9+j3rr@eGroups.com>
Message-ID: <3DA70B2F.70708@uiowa.edu>

Put "rem" into the lexer's tokens table. That is the technique I use.

Fan Yang wrote:
> Hi,
> 
> Thank you very much for your response.
> 
> I have already tried to use k=4 for 4 characters look ahead. But it 
> didn't work; it still gave me the following warning.
> 
> warning: lexical nondeterminism between rules COMMENT and IDENT upon
> MyVB.g:0:       k==1:'r'
> MyVB.g:0:       k==2:'0'..'9','_','a'..'z'
> MyVB.g:0:       k==3:<end-of-token>,'0'..'9','_','a'..'z'
> MyVB.g:0:       k==4:<end-of-token>,'0'..'9','_','a'..'z'
> 
> Is it possible to put "rem" into literal table(I know it's possible 
> for parser not for lexer)? because I have given  the options 
> {testLiterals=true;} for IDENT. or someway else?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From yhhf_dy at yahoo.com  Fri Oct 11 10:51:48 2002
From: yhhf_dy at yahoo.com (Fan Yang)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Re: A question about extracting comments
In-Reply-To: <3DA70B2F.70708@uiowa.edu>
Message-ID: <ao733k+kt12@eGroups.com>

Thank all of you.

I don't know how to put "rem" into the lexer's tokens table:(. Would 
you please give me some hints?

BTW, I'm looking for Ter's post on the list.

Have a nice weekend,

Fan

--- In antlr-interest@y..., Brian Smith <brian-l-smith@u...> wrote:
> Put "rem" into the lexer's tokens table. That is the technique I 
use.
> 
> Fan Yang wrote:
> > Hi,
> > 
> > Thank you very much for your response.
> > 
> > I have already tried to use k=4 for 4 characters look ahead. But 
it 
> > didn't work; it still gave me the following warning.
> > 
> > warning: lexical nondeterminism between rules COMMENT and IDENT 
upon
> > MyVB.g:0:       k==1:'r'
> > MyVB.g:0:       k==2:'0'..'9','_','a'..'z'
> > MyVB.g:0:       k==3:<end-of-token>,'0'..'9','_','a'..'z'
> > MyVB.g:0:       k==4:<end-of-token>,'0'..'9','_','a'..'z'
> > 
> > Is it possible to put "rem" into literal table(I know it's 
possible 
> > for parser not for lexer)? because I have given  the options 
> > {testLiterals=true;} for IDENT. or someway else?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From brian-l-smith at uiowa.edu  Fri Oct 11 11:03:04 2002
From: brian-l-smith at uiowa.edu (Brian Smith)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Re: A question about extracting comments
References: <ao733k+kt12@eGroups.com>
Message-ID: <3DA71258.9080406@uiowa.edu>

tokens {
    REM="rem";
}

Fan Yang wrote:
> Thank all of you.
> 
> I don't know how to put "rem" into the lexer's tokens table:(. Would 
> you please give me some hints?
> 
> BTW, I'm looking for Ter's post on the list.
> 
> Have a nice weekend,
> 
> Fan


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From yhhf_dy at yahoo.com  Fri Oct 11 11:37:59 2002
From: yhhf_dy at yahoo.com (Fan Yang)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Re: A question about extracting comments
In-Reply-To: <3DA71258.9080406@uiowa.edu>
Message-ID: <ao75q7+sbh8@eGroups.com>

Hi Brian,

According to your suggestion, I have modified my lexter which is 
showing below. I think I used it in a wrong because there is an error 
like:

ANTLR Parser Generator   Version 2.7.1   1989-2000 jGuru.com
error: Lexer rule REM is not defined
MyVB.g:804: no definition of rule mREM

I'm sorry I ask you guys so many naive questions. 

Regards,

fan
/* ---  Test.g Begin  --- */

class MyLexer extends Lexer;
options {
 k=4;                	
 exportVocab=DIALECT;	
 testLiterals=false;
 caseSensitiveLiterals=false;
 caseSensitive=false;
}

tokens{
REM="rem";
}

COMMENT
  : (REM |'\'')
    (~('\n'|'\r'))* ('\n'|'\r'('\n')?)
    {std::cout<<$getText<<std::endl; $setType(ANTLR_USE_NAMESPACE     
(antlr)Token::SKIP); newline();}
  ;		
		
// Whitespace -- ignored
WS_ 
  :(' '
   |'\t'
   ){ _ttype = ANTLR_USE_NAMESPACE(antlr)Token.SKIP; }
  ;

/* ---  Test.g End  --- */

--- In antlr-interest@y..., Brian Smith <brian-l-smith@u...> wrote:
> tokens {
>     REM="rem";
> }
> 
> Fan Yang wrote:
> > Thank all of you.
> > 
> > I don't know how to put "rem" into the lexer's tokens table:(. 
Would 
> > you please give me some hints?
> > 
> > BTW, I'm looking for Ter's post on the list.
> > 
> > Have a nice weekend,
> > 
> > Fan


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From brian-l-smith at uiowa.edu  Fri Oct 11 12:45:49 2002
From: brian-l-smith at uiowa.edu (Brian Smith)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Re: A question about extracting comments
References: <ao75q7+sbh8@eGroups.com>
Message-ID: <3DA72A6D.90502@uiowa.edu>

Fan,

I'm sorry, I didn't read your problem correctly. It indeed seems like 
you will need to use a predicate. I've never used a predicate in the 
lexer before so I'm not sure how it all works.

Sorry,
Brian

Fan Yang wrote:
> Hi Brian,
> 
> According to your suggestion, I have modified my lexter which is 
> showing below. I think I used it in a wrong because there is an error 
> like:
> 
> ANTLR Parser Generator   Version 2.7.1   1989-2000 jGuru.com
> error: Lexer rule REM is not defined
> MyVB.g:804: no definition of rule mREM
> 
> I'm sorry I ask you guys so many naive questions. 
> 
> Regards,
> 
> fan
> /* ---  Test.g Begin  --- */
> 
> class MyLexer extends Lexer;
> options {
>  k=4;                	
>  exportVocab=DIALECT;	
>  testLiterals=false;
>  caseSensitiveLiterals=false;
>  caseSensitive=false;
> }
> 
> tokens{
> REM="rem";
> }
> 
> COMMENT
>   : (REM |'\'')
>     (~('\n'|'\r'))* ('\n'|'\r'('\n')?)
>     {std::cout<<$getText<<std::endl; $setType(ANTLR_USE_NAMESPACE     
> (antlr)Token::SKIP); newline();}
>   ;		
> 		
> // Whitespace -- ignored
> WS_ 
>   :(' '
>    |'\t'
>    ){ _ttype = ANTLR_USE_NAMESPACE(antlr)Token.SKIP; }
>   ;
> 
> /* ---  Test.g End  --- */
> 
> --- In antlr-interest@y..., Brian Smith <brian-l-smith@u...> wrote:
> 
>>tokens {
>>    REM="rem";
>>}
>>
>>Fan Yang wrote:
>>
>>>Thank all of you.
>>>
>>>I don't know how to put "rem" into the lexer's tokens table:(. 
>>
> Would 
> 
>>>you please give me some hints?
>>>
>>>BTW, I'm looking for Ter's post on the list.
>>>
>>>Have a nice weekend,
>>>
>>>Fan
>>
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From yhhf_dy at yahoo.com  Fri Oct 11 13:07:01 2002
From: yhhf_dy at yahoo.com (Fan Yang)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Re: A question about extracting comments
In-Reply-To: <3DA72A6D.90502@uiowa.edu>
Message-ID: <ao7b15+go1@eGroups.com>

Brian,

It's ok. I really appreciate your help even I didn't get the solution.

Best wishes,

Fan


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From yhhf_dy at yahoo.com  Fri Oct 11 13:01:17 2002
From: yhhf_dy at yahoo.com (Fan Yang)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Re: A question about extracting comments
In-Reply-To: <170826586F3BD511910D0200C110AAA8032B4DD7@memail03.bco-home.com>
Message-ID: <ao7amd+944p@eGroups.com>

Hi Monk,

First thank you for your suggestion. Sorry, I have to ask two more 
questions.

> Ter's new lexer-only predicate hoisting in the latest red hot alpha 
> release.

Did you mean Released alpha ANTLR 2.7.2a2?. if yes, where can I find 
Doc for new lexer-only predicate hoiting.

I have read Ter's post titled "a proposed enhancement to lexers 
[hoisting?]". I'm not sure whether it is what you pointed to. It's 
not the case for me.

Best Regards,

Fan

--- In antlr-interest@y..., mzukowski@y... wrote:
> "rem" and ident are ambiguous...the string "rem" matches in both.  
Try out
> Ter's new lexer-only predicate hoisting in the latest red hot alpha 
release.
> Ter posted something about it to the list recently, in the past 
month or so.
> 
> Monty
> 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Fri Oct 11 14:30:37 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] ANTLR : lexer question
Message-ID: <170826586F3BD511910D0200C110AAA8032B4DDC@memail03.bco-home.com>

See the documentation about the lexer's handling of literals.

Monty

> -----Original Message-----
> From: dognogod [mailto:dognogod@yahoo.com]
> Sent: Friday, October 11, 2002 2:28 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] ANTLR : lexer question
> 
> 
> Hi,
> 
> I wrote the following lexer-- to explain my question.
> 
> ============================================
> class MyLexer extends Lexer;
> 
> options {
>     k = 5;
>     charVocabulary = '\3'..'\377';
> }
> 
> WS: ( ' '  | '\t' | ( '\r' | '\n' ) { newline (); })
>     { $setType(Token.SKIP); };
> 
> 
> TOK1: "CONF_"; 
> 
> ALPHANUM: ('a'..'z') | ('A'..'Z') | ('0'..'9');
> 
> ================================================
> 
> I use the input file containg:
> CONF_
> blabla
> CLASH
> CONF_1
> CONFIGURATION
> 
> 
> When I print all the tokens i get the following:
> ["CONF_",<5>,line=1,col=1]
> ["b",<6>,line=2,col=1]
> ["l",<6>,line=2,col=2]
> ["a",<6>,line=2,col=3]
> ["b",<6>,line=2,col=4]
> ["l",<6>,line=2,col=5]
> ["a",<6>,line=2,col=6]
> ["C",<6>,line=3,col=1]
> ["L",<6>,line=3,col=2]
> ["A",<6>,line=3,col=3]
> ["S",<6>,line=3,col=4]
> ["H",<6>,line=3,col=5]
> ["CONF_",<5>,line=4,col=1]
> ["1",<6>,line=4,col=6]
> Exception TokenStreamRecognitionException 5 : expecting '_', found 'I'
> 
> It seems ANTLR expects always the "CONF" characters to be follwed by
> the '_' char.
> 
> 
> I found a way to bypass this problem by adding the following rule:
> NTOK1: ('C' ~'O' | "CO" ~'N' | "CON" ~'F' | "CONF" ~'_');
> 
> 
> If I print again the tokens I don't get any exception errors:
> 
> ["CONF_",<5>,line=1,col=1]
> ["b",<7>,line=2,col=1]
> ["l",<7>,line=2,col=2]
> ["a",<7>,line=2,col=3]
> ["b",<7>,line=2,col=4]
> ["l",<7>,line=2,col=5]
> ["a",<7>,line=2,col=6]
> ["CL",<6>,line=3,col=1]
> ["A",<7>,line=3,col=3]
> ["S",<7>,line=3,col=4]
> ["H",<7>,line=3,col=5]
> ["CONF_",<5>,line=4,col=1]
> ["1",<7>,line=4,col=6]
> ["CONFI",<6>,line=5,col=1]
> ["G",<7>,line=5,col=6]
> ["U",<7>,line=5,col=7]
> ["R",<7>,line=5,col=8]
> ["A",<7>,line=5,col=9]
> ["T",<7>,line=5,col=10]
> ["I",<7>,line=5,col=11]
> ["O",<7>,line=5,col=12]
> ["N",<7>,line=5,col=13]
> ["null",<1>,line=6,col=1]
> 
> However:
> 
> 1. this oblige me to define a "non" token for every token I define
> 2. I don't get the alphanum token for the two following cases:
>   - "CLASH" is scanned as "CL + 'A' + ... (instead of 'C' 'L' 'A'...)
>   - "CONFIGURATION" is scanned as "CONFI" + 'G' +...
> 
> 
> My question is the following: How can I define tokens such as
> TOK1: "CONF_" and make sure they don't interfer with things like
> "CONFIGURATION", "CLASH",...
> 
> 
> Thanks,
> 
> 
> Can you (also) please directly reply to me (dognogod@yahoo.com)
> 
> S.
> 
> 
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dognogod at yahoo.com  Fri Oct 11 14:27:34 2002
From: dognogod at yahoo.com (dognogod)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] ANTLR : lexer question
Message-ID: <ao7fo6+fu04@eGroups.com>

Hi,

I wrote the following lexer-- to explain my question.

============================================
class MyLexer extends Lexer;

options {
    k = 5;
    charVocabulary = '\3'..'\377';
}

WS: ( ' '  | '\t' | ( '\r' | '\n' ) { newline (); })
    { $setType(Token.SKIP); };


TOK1: "CONF_"; 

ALPHANUM: ('a'..'z') | ('A'..'Z') | ('0'..'9');

================================================

I use the input file containg:
CONF_
blabla
CLASH
CONF_1
CONFIGURATION


When I print all the tokens i get the following:
["CONF_",<5>,line=1,col=1]
["b",<6>,line=2,col=1]
["l",<6>,line=2,col=2]
["a",<6>,line=2,col=3]
["b",<6>,line=2,col=4]
["l",<6>,line=2,col=5]
["a",<6>,line=2,col=6]
["C",<6>,line=3,col=1]
["L",<6>,line=3,col=2]
["A",<6>,line=3,col=3]
["S",<6>,line=3,col=4]
["H",<6>,line=3,col=5]
["CONF_",<5>,line=4,col=1]
["1",<6>,line=4,col=6]
Exception TokenStreamRecognitionException 5 : expecting '_', found 'I'

It seems ANTLR expects always the "CONF" characters to be follwed by
the '_' char.


I found a way to bypass this problem by adding the following rule:
NTOK1: ('C' ~'O' | "CO" ~'N' | "CON" ~'F' | "CONF" ~'_');


If I print again the tokens I don't get any exception errors:

["CONF_",<5>,line=1,col=1]
["b",<7>,line=2,col=1]
["l",<7>,line=2,col=2]
["a",<7>,line=2,col=3]
["b",<7>,line=2,col=4]
["l",<7>,line=2,col=5]
["a",<7>,line=2,col=6]
["CL",<6>,line=3,col=1]
["A",<7>,line=3,col=3]
["S",<7>,line=3,col=4]
["H",<7>,line=3,col=5]
["CONF_",<5>,line=4,col=1]
["1",<7>,line=4,col=6]
["CONFI",<6>,line=5,col=1]
["G",<7>,line=5,col=6]
["U",<7>,line=5,col=7]
["R",<7>,line=5,col=8]
["A",<7>,line=5,col=9]
["T",<7>,line=5,col=10]
["I",<7>,line=5,col=11]
["O",<7>,line=5,col=12]
["N",<7>,line=5,col=13]
["null",<1>,line=6,col=1]

However:

1. this oblige me to define a "non" token for every token I define
2. I don't get the alphanum token for the two following cases:
  - "CLASH" is scanned as "CL + 'A' + ... (instead of 'C' 'L' 'A'...)
  - "CONFIGURATION" is scanned as "CONFI" + 'G' +...


My question is the following: How can I define tokens such as
TOK1: "CONF_" and make sure they don't interfer with things like
"CONFIGURATION", "CLASH",...


Thanks,


Can you (also) please directly reply to me (dognogod@yahoo.com)

S.





 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Fri Oct 11 15:11:44 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] ANTLR : lexer question
In-Reply-To: <ao7fo6+fu04@eGroups.com>
Message-ID: <20021011221144.85505.qmail@web40006.mail.yahoo.com>

ithink this problem can be solved by using predicates / look ahead to
decide what has to be matched..
but my question is : 
   is k=5 not a bad thing? 

-ram

--- dognogod <dognogod@yahoo.com> wrote:
> Hi,
> 
> I wrote the following lexer-- to explain my question.
> 
> ============================================
> class MyLexer extends Lexer;
> 
> options {
>     k = 5;
>     charVocabulary = '\3'..'\377';
> }
> 
> WS: ( ' '  | '\t' | ( '\r' | '\n' ) { newline (); })
>     { $setType(Token.SKIP); };
> 
> 
> TOK1: "CONF_"; 
> 
> ALPHANUM: ('a'..'z') | ('A'..'Z') | ('0'..'9');
> 
> ================================================
> 
> I use the input file containg:
> CONF_
> blabla
> CLASH
> CONF_1
> CONFIGURATION
> 
> 
> When I print all the tokens i get the following:
> ["CONF_",<5>,line=1,col=1]
> ["b",<6>,line=2,col=1]
> ["l",<6>,line=2,col=2]
> ["a",<6>,line=2,col=3]
> ["b",<6>,line=2,col=4]
> ["l",<6>,line=2,col=5]
> ["a",<6>,line=2,col=6]
> ["C",<6>,line=3,col=1]
> ["L",<6>,line=3,col=2]
> ["A",<6>,line=3,col=3]
> ["S",<6>,line=3,col=4]
> ["H",<6>,line=3,col=5]
> ["CONF_",<5>,line=4,col=1]
> ["1",<6>,line=4,col=6]
> Exception TokenStreamRecognitionException 5 : expecting '_', found
> 'I'
> 
> It seems ANTLR expects always the "CONF" characters to be follwed by
> the '_' char.
> 
> 
> I found a way to bypass this problem by adding the following rule:
> NTOK1: ('C' ~'O' | "CO" ~'N' | "CON" ~'F' | "CONF" ~'_');
> 
> 
> If I print again the tokens I don't get any exception errors:
> 
> ["CONF_",<5>,line=1,col=1]
> ["b",<7>,line=2,col=1]
> ["l",<7>,line=2,col=2]
> ["a",<7>,line=2,col=3]
> ["b",<7>,line=2,col=4]
> ["l",<7>,line=2,col=5]
> ["a",<7>,line=2,col=6]
> ["CL",<6>,line=3,col=1]
> ["A",<7>,line=3,col=3]
> ["S",<7>,line=3,col=4]
> ["H",<7>,line=3,col=5]
> ["CONF_",<5>,line=4,col=1]
> ["1",<7>,line=4,col=6]
> ["CONFI",<6>,line=5,col=1]
> ["G",<7>,line=5,col=6]
> ["U",<7>,line=5,col=7]
> ["R",<7>,line=5,col=8]
> ["A",<7>,line=5,col=9]
> ["T",<7>,line=5,col=10]
> ["I",<7>,line=5,col=11]
> ["O",<7>,line=5,col=12]
> ["N",<7>,line=5,col=13]
> ["null",<1>,line=6,col=1]
> 
> However:
> 
> 1. this oblige me to define a "non" token for every token I define
> 2. I don't get the alphanum token for the two following cases:
>   - "CLASH" is scanned as "CL + 'A' + ... (instead of 'C' 'L' 'A'...)
>   - "CONFIGURATION" is scanned as "CONFI" + 'G' +...
> 
> 
> My question is the following: How can I define tokens such as
> TOK1: "CONF_" and make sure they don't interfer with things like
> "CONFIGURATION", "CLASH",...
> 
> 
> Thanks,
> 
> 
> Can you (also) please directly reply to me (dognogod@yahoo.com)
> 
> S.
> 
> 
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From jack_xu_hong at yahoo.ca  Fri Oct 11 17:51:01 2002
From: jack_xu_hong at yahoo.ca (Jack Hong)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] nondeterminism problem
Message-ID: <010501c27189$7092c3c0$44089918@tiger>

Hi all,
 
I get following warning messages when I run ANTLR:
 
warning: lexical nondeterminism between rules IDENT and BOOLEAN_LITERAL
upon
petal.g:0:  k==1:'F','T'
petal.g:0:  k==2:'A','R'
petal.g:0:  k==3:'L','U'
 
related token definitions in my grammar file:
 
BOOLEAN_LITERAL
    :    "TRUE"
    |    "FALSE"
    ;
 
IDENT
    :    ( 'a'..'z' | 'A'..'Z' | '_') ( 'a'..'z' | 'A'..'Z' | '_' |
'0'..'9')*
    ;
 
 
Any idea of how to fix these two nondeterministic tokens will be greatly
appreciated.
 
 
Thanks
Jack
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021011/d160ee00/attachment.html
From xiang4232002 at yahoo.com  Fri Oct 11 19:29:49 2002
From: xiang4232002 at yahoo.com (Xiangmin Wang)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] nondeterminism problem
In-Reply-To: <010501c27189$7092c3c0$44089918@tiger>
Message-ID: <20021012022949.32725.qmail@web13005.mail.yahoo.com>


 
One solution is to grab TRUE and FALSE as IDENT, then test the string, as follows
IDENT.equals("TRUE") ==> tokenType = BOOLEAN_LITERAL and tokenValue = TRUE;
IDENT.equals("FALSE") ==> tokenType = BOOLEAN_LITERAL and tokeValue = FALSE;
else it is a IDENT token.
wxm
 
 Jack Hong <jack_xu_hong@yahoo.ca> wrote:Hi all, I get following warning messages when I run ANTLR: warning: lexical nondeterminism between rules IDENT and BOOLEAN_LITERAL uponpetal.g:0:  k==1:'F','T'
petal.g:0:  k==2:'A','R'
petal.g:0:  k==3:'L','U' related token definitions in my grammar file: BOOLEAN_LITERAL    :    "TRUE"    |    "FALSE"    ; IDENT    :    ( 'a'..'z' | 'A'..'Z' | '_') ( 'a'..'z' | 'A'..'Z' | '_' | '0'..'9')*    ;  Any idea of how to fix these two nondeterministic tokens will be greatly appreciated.  ThanksJack 
Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 



---------------------------------
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos, & more
faith.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021011/b39a2fe1/attachment.html
From jack_xu_hong at yahoo.ca  Fri Oct 11 19:47:45 2002
From: jack_xu_hong at yahoo.ca (Jack Hong)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] nondeterminism problem
In-Reply-To: <20021012022949.32725.qmail@web13005.mail.yahoo.com>
Message-ID: <011001c27199$bf2d0990$44089918@tiger>

Thanks a lot, Xiaomin.
 
I understand your solution, should I declare BOOLEAN_LITERAL as a
"protected" token to avoid nondeterminism?
 
And where should I add the code you told me?  Sorry, I'm really new to
ANTLR.
IDENT.equals("TRUE") ==> tokenType = BOOLEAN_LITERAL and tokenValue =
TRUE; 


IDENT.equals("FALSE") ==> tokenType = BOOLEAN_LITERAL and tokeValue =
FALSE; 

Thanks again.
 
Jack
 
 
 

-----Original Message-----
From: Xiangmin Wang [mailto:xiang4232002@yahoo.com] 
Sent: October 11, 2002 10:30 PM
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] nondeterminism problem




One solution is to grab TRUE and FALSE as IDENT, then test the string,
as follows 


IDENT.equals("TRUE") ==> tokenType = BOOLEAN_LITERAL and tokenValue =
TRUE; 


IDENT.equals("FALSE") ==> tokenType = BOOLEAN_LITERAL and tokeValue =
FALSE; 


else it is a IDENT token. 


wxm 



 Jack Hong <jack_xu_hong@yahoo.ca> wrote: 


Hi all,
 
I get following warning messages when I run ANTLR:
 
warning: lexical nondeterminism between rules IDENT and BOOLEAN_LITERAL
upon
petal.g:0:  k==1:'F','T'
petal.g:0:  k==2:'A','R'
petal.g:0:  k==3:'L','U'
 
related token definitions in my grammar file:
 
BOOLEAN_LITERAL
    :    "TRUE"
    |    "FALSE"
    ;
 
IDENT
    :    ( 'a'..'z' | 'A'..'Z' | '_') ( 'a'..'z' | 'A'..'Z' | '_' |
'0'..'9')*
    ;
 
 
Any idea of how to fix these two nondeterministic tokens will be greatly
appreciated.
 
 
Thanks
Jack
 

Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service
<http://docs.yahoo.com/info/terms/> . 





  _____  

Do you Yahoo!?
Faith Hill <http://faith.yahoo.com>  - Exclusive Performances, Videos, &
more
faith.yahoo.com 
Your use of Yahoo! Groups is subject to the Yahoo!
<http://docs.yahoo.com/info/terms/> Terms of Service. 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021011/b134e66a/attachment.html
From parrt at jguru.com  Fri Oct 11 21:10:45 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] nondeterminism problem
In-Reply-To: <010501c27189$7092c3c0$44089918@tiger>
Message-ID: <9480D46A-DD98-11D6-9FF9-0030653DE0D6@jguru.com>

Hi.  Just reference "TRUE" and "FALSE" in the parser and the lexer will 
automatically test for them :)

Terence

On Friday, October 11, 2002, at 05:51  PM, Jack Hong wrote:

> Hi all,
> ?
> I get following warning messages when I run ANTLR:
> ?
> warning: lexical nondeterminism between rules IDENT and 
> BOOLEAN_LITERAL upon
> petal.g:0:? k==1:'F','T'
> petal.g:0:? k==2:'A','R'
> petal.g:0:? k==3:'L','U'
> ?
> related token definitions in my grammar file:
> ?
> BOOLEAN_LITERAL
> ??? :??? "TRUE"
> ??? |??? "FALSE"
> ??? ;
> ?
> IDENT
> ??? :??? ( 'a'..'z' | 'A'..'Z' | '_') ( 'a'..'z' | 'A'..'Z' | '_' | 
> '0'..'9')*
> ??? ;
> ?
> ?
> Any idea of how to fix these two?nondeterministic tokens?will be 
> greatly appreciated.
> ?
> ?
> Thanks
> Jack
> ?
>
> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From jack_xu_hong at yahoo.ca  Fri Oct 11 21:20:03 2002
From: jack_xu_hong at yahoo.ca (Jack Hong)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] nondeterminism problem
In-Reply-To: <9480D46A-DD98-11D6-9FF9-0030653DE0D6@jguru.com>
Message-ID: <011f01c271a6$a47d4c60$44089918@tiger>

Terence,

Thank you so much.

I tried that way before, but somehow it didn't work well.

This is the parser rule I declared in the parser before:
//---------------------------------------------
boolean_literal returns [Boolean b]
{
        b = null;
}
        :       "TRUE" { b = new Boolean(true); }
        |       "FALSE" { b = new Boolean(false); }
        ;
//---------------------------------------------

It looks good, but always returns null.  So I added a token
BOOLEAN_LITERAL in the lexer, after that my parser can retrieve the
correct value, but another problem raised -- nondeterminism.


Jack


-----Original Message-----
From: Terence Parr [mailto:parrt@jguru.com]
Sent: October 12, 2002 12:11 AM
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] nondeterminism problem


Hi.  Just reference "TRUE" and "FALSE" in the parser and the lexer will
automatically test for them :)

Terence

On Friday, October 11, 2002, at 05:51  PM, Jack Hong wrote:

> Hi all,
>  
> I get following warning messages when I run ANTLR:
>  
> warning: lexical nondeterminism between rules IDENT and
> BOOLEAN_LITERAL upon
> petal.g:0:  k==1:'F','T'
> petal.g:0:  k==2:'A','R'
> petal.g:0:  k==3:'L','U'
>  
> related token definitions in my grammar file:
>  
> BOOLEAN_LITERAL
>     :    "TRUE"
>     |    "FALSE"
>     ;
>  
> IDENT
>     :    ( 'a'..'z' | 'A'..'Z' | '_') ( 'a'..'z' | 'A'..'Z' | '_' |
> '0'..'9')*
>     ;
>  
>  
> Any idea of how to fix these two nondeterministic tokens will be
> greatly appreciated.
>  
>  
> Thanks
> Jack
>  
>
> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco




Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/

______________________________________________________________________ 
Post your free ad now! http://personals.yahoo.ca

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Oct 11 21:39:43 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] nondeterminism problem
In-Reply-To: <011f01c271a6$a47d4c60$44089918@tiger>
Message-ID: <A0C82DDA-DD9C-11D6-9FF9-0030653DE0D6@jguru.com>


On Friday, October 11, 2002, at 09:20  PM, Jack Hong wrote:

> Terence,
>
> Thank you so much.
>
> I tried that way before, but somehow it didn't work well.
>
> This is the parser rule I declared in the parser before:
> //---------------------------------------------
> boolean_literal returns [Boolean b]
> {
>         b = null;
> }
>         :       "TRUE" { b = new Boolean(true); }
>         |       "FALSE" { b = new Boolean(false); }
>         ;
> //---------------------------------------------
>
> It looks good, but always returns null.  So I added a token
> BOOLEAN_LITERAL in the lexer, after that my parser can retrieve the
> correct value, but another problem raised -- nondeterminism.
>
The above parser rule should work.  You must have a token type issue 
like import/exportVocab.  If the parser/lexer are not in the same file 
you will have to have the lexer import the vocab.  Also check to ensure 
you are not turning of "testLiterals".

Terence


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From jack_xu_hong at yahoo.ca  Fri Oct 11 21:47:26 2002
From: jack_xu_hong at yahoo.ca (Jack Hong)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] nondeterminism problem
In-Reply-To: <A0C82DDA-DD9C-11D6-9FF9-0030653DE0D6@jguru.com>
Message-ID: <012001c271aa$76f8a1a0$44089918@tiger>

Dear Terence,

You are great!  I fixed the problem by adding "testLiterals=true" into
my lexer.  Thank you very much!

Jack

-----Original Message-----
From: Terence Parr [mailto:parrt@jguru.com] 
Sent: October 12, 2002 12:40 AM
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] nondeterminism problem



On Friday, October 11, 2002, at 09:20  PM, Jack Hong wrote:

> Terence,
>
> Thank you so much.
>
> I tried that way before, but somehow it didn't work well.
>
> This is the parser rule I declared in the parser before:
> //---------------------------------------------
> boolean_literal returns [Boolean b]
> {
>         b = null;
> }
>         :       "TRUE" { b = new Boolean(true); }
>         |       "FALSE" { b = new Boolean(false); }
>         ;
> //---------------------------------------------
>
> It looks good, but always returns null.  So I added a token 
> BOOLEAN_LITERAL in the lexer, after that my parser can retrieve the 
> correct value, but another problem raised -- nondeterminism.
>
The above parser rule should work.  You must have a token type issue 
like import/exportVocab.  If the parser/lexer are not in the same file 
you will have to have the lexer import the vocab.  Also check to ensure 
you are not turning of "testLiterals".

Terence


 

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ 


______________________________________________________________________ 
Post your free ad now! http://personals.yahoo.ca

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From wiggjd at sbu.ac.uk  Mon Oct 14 07:36:33 2002
From: wiggjd at sbu.ac.uk (David Wigg)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] Documentation - literals
Message-ID: <3DAAD671.2090500@sbu.ac.uk>

In the antlr documentation there is a reference under "Keywords 
and Literals" to a "literal" option (to specify a particular 
word is a literal and therefore can be distinguished from a 
variable).

On clicking it you are taken to "Options"

However, I cannot see any further reference to a "literal" 
option, it is not listed in the list of options and the antlr 
tool does not seem to recognise a "literal" option.

Does it in fact exist?

If it does exist how do you use it?

Thanks.

David.



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Mon Oct 14 08:12:57 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:04 2004
Subject: [antlr-interest] nondeterminism problem
In-Reply-To: <012001c271aa$76f8a1a0$44089918@tiger>
Message-ID: <20021014151257.56520.qmail@web40012.mail.yahoo.com>

quote form the documentation :

testLiterals: Generate literal-testing code

By default, ANTLR will generate code in all lexers to test each token
against the literals table (the table generated for literal strings),
and change the token type if it matches the table. However, you may
suppress this code generation in the lexer by using a grammar option:

class L extends Lexer;
options { testLiterals=false; }
...
===================
question :
why did he have to explicitly set it to true? does it not default to
true ? 
====================
cheers
ram
<eom>

--- Jack Hong <jack_xu_hong@yahoo.ca> wrote:
> Dear Terence,
> 
> You are great!  I fixed the problem by adding "testLiterals=true"
> into
> my lexer.  Thank you very much!
> 
> Jack
> 
> -----Original Message-----
> From: Terence Parr [mailto:parrt@jguru.com] 
> Sent: October 12, 2002 12:40 AM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] nondeterminism problem
> 
> 
> 
> On Friday, October 11, 2002, at 09:20  PM, Jack Hong wrote:
> 
> > Terence,
> >
> > Thank you so much.
> >
> > I tried that way before, but somehow it didn't work well.
> >
> > This is the parser rule I declared in the parser before:
> > //---------------------------------------------
> > boolean_literal returns [Boolean b]
> > {
> >         b = null;
> > }
> >         :       "TRUE" { b = new Boolean(true); }
> >         |       "FALSE" { b = new Boolean(false); }
> >         ;
> > //---------------------------------------------
> >
> > It looks good, but always returns null.  So I added a token 
> > BOOLEAN_LITERAL in the lexer, after that my parser can retrieve the
> 
> > correct value, but another problem raised -- nondeterminism.
> >
> The above parser rule should work.  You must have a token type issue 
> like import/exportVocab.  If the parser/lexer are not in the same
> file 
> you will have to have the lexer import the vocab.  Also check to
> ensure 
> you are not turning of "testLiterals".
> 
> Terence
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 
>
______________________________________________________________________
> 
> Post your free ad now! http://personals.yahoo.ca
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From jack_xu_hong at yahoo.ca  Mon Oct 14 08:36:25 2002
From: jack_xu_hong at yahoo.ca (Jack Hong)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] nondeterminism problem
In-Reply-To: <20021014151257.56520.qmail@web40012.mail.yahoo.com>
Message-ID: <018501c27397$75959b30$44089918@tiger>

Ram,

Because it was set to "testLiterals=false" before, and I didn't know
that "testLiterals=true" is the default setting.
Thanks for your hint, Ram.

Jack

-----Original Message-----
From: Sriram Durbha [mailto:cintyram@yahoo.com] 
Sent: October 14, 2002 11:13 AM
To: antlr-interest@yahoogroups.com
Subject: RE: [antlr-interest] nondeterminism problem


quote form the documentation :

testLiterals: Generate literal-testing code

By default, ANTLR will generate code in all lexers to test each token
against the literals table (the table generated for literal strings),
and change the token type if it matches the table. However, you may
suppress this code generation in the lexer by using a grammar option:

class L extends Lexer;
options { testLiterals=false; }
...
===================
question :
why did he have to explicitly set it to true? does it not default to
true ? 
====================
cheers
ram
<eom>

--- Jack Hong <jack_xu_hong@yahoo.ca> wrote:
> Dear Terence,
> 
> You are great!  I fixed the problem by adding "testLiterals=true" into
> my lexer.  Thank you very much!
> 
> Jack
> 
> -----Original Message-----
> From: Terence Parr [mailto:parrt@jguru.com]
> Sent: October 12, 2002 12:40 AM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] nondeterminism problem
> 
> 
> 
> On Friday, October 11, 2002, at 09:20  PM, Jack Hong wrote:
> 
> > Terence,
> >
> > Thank you so much.
> >
> > I tried that way before, but somehow it didn't work well.
> >
> > This is the parser rule I declared in the parser before:
> > //---------------------------------------------
> > boolean_literal returns [Boolean b]
> > {
> >         b = null;
> > }
> >         :       "TRUE" { b = new Boolean(true); }
> >         |       "FALSE" { b = new Boolean(false); }
> >         ;
> > //---------------------------------------------
> >
> > It looks good, but always returns null.  So I added a token
> > BOOLEAN_LITERAL in the lexer, after that my parser can retrieve the
> 
> > correct value, but another problem raised -- nondeterminism.
> >
> The above parser rule should work.  You must have a token type issue
> like import/exportVocab.  If the parser/lexer are not in the same
> file 
> you will have to have the lexer import the vocab.  Also check to
> ensure 
> you are not turning of "testLiterals".
> 
> Terence
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
> 
> 
>
______________________________________________________________________
> 
> Post your free ad now! http://personals.yahoo.ca
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
> 
> 


__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ 


______________________________________________________________________ 
Post your ad for free now! http://personals.yahoo.ca

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Mon Oct 14 12:28:11 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] literal tokens .. [revisited?]
In-Reply-To: <018501c27397$75959b30$44089918@tiger>
Message-ID: <20021014192811.804.qmail@web40003.mail.yahoo.com>

hi , 
  i could not find the relevant information .. tho i followed the mails
in an earlier discussion .. 

i have two keywords defined in the lexer  as rules ;

and there are types also ..

 like 

 in parser :

 decl : "integral" type var_list ;

 inlexer  :

 type :
       "integer"
      |"float"
      ;

i get a exception that e is expected but r is found .. and lexing stops
there.. 


 both lexer and parser are in the same file; the main program uses just
the lexer ..


to diplay what tokens have been identified ..

;  what did i do wrong?

/e
cheers
ram





__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From vmarco at mac.com  Mon Oct 14 21:54:10 2002
From: vmarco at mac.com (Vince Marco)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] C++ANTLER grammar?
Message-ID: <967B3E78-DFFA-11D6-86DA-0003930F1F74@mac.com>

I am new to ANTLER, but I am looking to convert a significant amount of 
C++ code to Java.  Is there an existing grammer for ANTLER that handles 
C++?

It appears that ANTLER might take some serious investment of time to do 
a complete C++ grammar.  What is the fastest way to get a parser 
working?

Thanks,

Vince

-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Vince Marco
Enterprise Frameworks, Inc.
vmarco@mac.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Vince Marco.vcf
Type: text/directory
Size: 398 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20021014/891efdf1/VinceMarco.bin
-------------- next part --------------

-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
From dsieber at attbi.com  Mon Oct 14 22:23:11 2002
From: dsieber at attbi.com (dave_sieber)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Yes, but where are they DEFINED??? :-)
Message-ID: <aog8nv+a0e7@eGroups.com>

Hi Ter and ANTLR Gang,

Obviously I'm new at this, as this question illustrates:

I am looking over the Java parser in the examples directory (C++ 
version). In the JavaLexer class, I see that the definition of DOT 
has been commented out. Also, I see no definition for NUM_FLOAT. Yet 
both are used in other places. I am baffled. Why was DOT commented 
out? Was there a problem? And where is NUM_FLOAT defined?

If there is an obvious answer (there must be, it compiles okay :-), 
I'd appreciate a pointer into the documentation where this is covered 
so that I can continue learning.

Thanks very much (to _everyone_ involved) for all the work in making 
this available!


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From krupa_gadde at yahoo.com  Tue Oct 15 07:01:49 2002
From: krupa_gadde at yahoo.com (Benhur)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Parser and TreeParser
Message-ID: <aoh74d+sqke@eGroups.com>

In the document "Runtime.html", under the section "What ANTLR 
generates", the below code is written. Do I need to write the 
MyParser extending Parser class also, if I want MyParser to extend 
TreeParser class or just extending TreeParser class is enough. 
Please let me know.

Thanks in advance
Benhur
-----------------------------------
class MyParser extends Parser;
options {
  exportVocab=My;
}
... rules ...

class MyLexer extends Lexer;
options {
  exportVocab=My;
}
... rules ...

class MyTreeParser extends TreeParser;
options {
  exportVocab=My;
}
... rules ...


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Tue Oct 15 13:30:00 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] C++ANTLER grammar?
In-Reply-To: <967B3E78-DFFA-11D6-86DA-0003930F1F74@mac.com>
Message-ID: <20021015203000.52846.qmail@web40010.mail.yahoo.com>

http://www.antlr.org/fieldguide/cppantlr/

thot this might help ..
cheers
ram
--- Vince Marco <vmarco@mac.com> wrote:
> I am new to ANTLER, but I am looking to convert a significant amount
> of 
> C++ code to Java.  Is there an existing grammer for ANTLER that
> handles 
> C++?
> 
> It appears that ANTLER might take some serious investment of time to
> do 
> a complete C++ grammar.  What is the fastest way to get a parser 
> working?
> 
> Thanks,
> 
> Vince
> 
> -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
> Vince Marco
> Enterprise Frameworks, Inc.
> vmarco@mac.com
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> > BEGIN:VCARD
> VERSION:3.0
> N:Marco;Vince;;;
> FN:Vince Marco
> ORG:Enterprise Frameworks\, Inc.;
> TITLE:J2EE Developer/Instructor
> EMAIL;type=HOME;type=pref:vmarco@mac.com
> TEL;type=WORK;type=pref:970.226.2591
> TEL;type=CELL:970.988.3344
> ADR;type=HOME;type=pref:;;6043 Auburn Drive;Fort Collins;CO;80525;USA
> URL:http://www.javamentor.net
> BDAY;value=date:1963-09-24
> X-AIM;type=HOME;type=pref:VinceM7
> END:VCARD
> > 
> -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
> 


__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From brian-l-smith at uiowa.edu  Tue Oct 15 18:08:49 2002
From: brian-l-smith at uiowa.edu (Brian Smith)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Patch for exception constructors
Message-ID: <3DACBC21.4040507@uiowa.edu>

Hi,

The runtime library (antlr.jar) of ANTLR 2.7.2 alphas is not compatible 
with parsers and lexers generated with earlier versions (2.7.1 and 
before). The reason is that many of the exceptions' constructors were 
changed to include a "column" parameter. As a result, whenever a 
2.7.1-based lexer/parser tries to throw an exception, it will receive a 
java.lang.NoSuchMethodError while attempting to invoke a 
now-non-existant constructor. This affects _all_ lexers (and maybe 
parsers too) that are generated with 2.7.1 or earlier, since the calls 
to these constructors get automatically generated.

One way to avoid the work around the problem is simply to re-generate 
the classes with ANTLR 2.7.2. However, this workaround isn't sufficient 
when the ANTLR 2.7.2 runtime is to be used in an enviroment that must 
support ANTLR-based tools that don't have source code available. My 
particular interest in this is to make sure that ANTLR 2.7.2 can be 
integrated into the NetBeans IDE's API with minimal problems.

This patch simply adds back the old constructors and marks them 
@deprecated, refering users via the JavaDoc to use the new constructors. 
I believe that it is a very low-risk patch and hopefully it can be 
incorporated into the next release.

I will send in similar patches that apply to the contents of antlr.jar 
if I find them.

Thanks,
Brian

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
diff -u --recursive antlr-2.7.2a3-orig/antlr/NoViableAltForCharException.java antlr-2.7.2a3/antlr/NoViableAltForCharException.java
--- antlr-2.7.2a3-orig/antlr/NoViableAltForCharException.java	Sat Dec 22 20:16:14 2001
+++ antlr-2.7.2a3/antlr/NoViableAltForCharException.java	Mon Oct 14 17:53:17 2002
@@ -16,6 +16,11 @@
         foundChar = c;
     }
 
+    /** @deprecated As of ANTLR 2.7.2 use {@see #NoViableAltForCharException(char, String, int, int) } */
+    public NoViableAltForCharException(char c, String fileName, int line) {
+        this(c, fileName, line, -1);
+    }
+    
     public NoViableAltForCharException(char c, String fileName, int line, int column) {
         super("NoViableAlt", fileName, line, column);
         foundChar = c;
diff -u --recursive antlr-2.7.2a3-orig/antlr/RecognitionException.java antlr-2.7.2a3/antlr/RecognitionException.java
--- antlr-2.7.2a3-orig/antlr/RecognitionException.java	Sat Dec 22 20:16:14 2001
+++ antlr-2.7.2a3/antlr/RecognitionException.java	Mon Oct 14 17:52:09 2002
@@ -30,6 +30,11 @@
         column = -1;
     }
 
+    /** @deprecated As of ANTLR 2.7.2 use {@see #RecognitionException(String, String, int, int) } */
+    public RecognitionException(String s, String fileName_, int line_) {
+        this(s, fileName_, line_, -1);
+    }
+    
     /**
      * RecognitionException constructor comment.
      * @param s java.lang.String
diff -u --recursive antlr-2.7.2a3-orig/antlr/SemanticException.java antlr-2.7.2a3/antlr/SemanticException.java
--- antlr-2.7.2a3-orig/antlr/SemanticException.java	Sat Sep 14 22:21:38 2002
+++ antlr-2.7.2a3/antlr/SemanticException.java	Mon Oct 14 17:51:38 2002
@@ -10,13 +10,15 @@
 public class SemanticException extends RecognitionException {
     public SemanticException(String s) {
         super(s);
+        
     }
 
-	public SemanticException(String s, String fileName, int line) {
-        this(s, fileName, line, 0);
+    /** @deprecated As of ANTLR 2.7.2 use {@see #SemanticException(String, String, int, int) } */
+    public SemanticException(String s, String fileName, int line) {
+        this(s, fileName, line, -1);
     }
 
-	public SemanticException(String s, String fileName, int line, int column) {
+    public SemanticException(String s, String fileName, int line, int column) {
         super(s, fileName, line, column);
     }
 }
From dognogod at yahoo.com  Tue Oct 15 23:02:19 2002
From: dognogod at yahoo.com (stephane brossier)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] lexer rule for string
Message-ID: <20021016060219.79184.qmail@web13002.mail.yahoo.com>

Hi,

I am trying to recognize some strings in a C program.

I first had a lexer rule defined as is:

STRING: '"' ~'"' '"';

This worked pretty well until I had some traces like:
 printf("The string is  \" the_string \" ");

How can i make the lexer understand that \" is not the
end of my string but is actually part of my string
since there is an escape char before?

Thanks,

S.


__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dognogod at yahoo.com  Tue Oct 15 23:06:47 2002
From: dognogod at yahoo.com (stephane brossier)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] nondeterminism problem
In-Reply-To: <010501c27189$7092c3c0$44089918@tiger>
Message-ID: <20021016060647.53900.qmail@web13007.mail.yahoo.com>

Hey,


I don't know much about antlr, but did you try to
increase the value of k (lookahead) to 6?
This is maybe a dirty solution but i don't know
any better...

Hope this helps.

S.


--- Jack Hong <jack_xu_hong@yahoo.ca> wrote:
> Hi all,
>  
> I get following warning messages when I run ANTLR:
>  
> warning: lexical nondeterminism between rules IDENT
> and BOOLEAN_LITERAL
> upon
> petal.g:0:  k==1:'F','T'
> petal.g:0:  k==2:'A','R'
> petal.g:0:  k==3:'L','U'
>  
> related token definitions in my grammar file:
>  
> BOOLEAN_LITERAL
>     :    "TRUE"
>     |    "FALSE"
>     ;
>  
> IDENT
>     :    ( 'a'..'z' | 'A'..'Z' | '_') ( 'a'..'z' |
> 'A'..'Z' | '_' |
> '0'..'9')*
>     ;
>  
>  
> Any idea of how to fix these two nondeterministic
> tokens will be greatly
> appreciated.
>  
>  
> Thanks
> Jack
>  
> 


__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From krupa_gadde at yahoo.com  Tue Oct 15 23:08:43 2002
From: krupa_gadde at yahoo.com (=?iso-8859-1?q?Krupa=20Benhur?=)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] lexer rule for string
In-Reply-To: <20021016060219.79184.qmail@web13002.mail.yahoo.com>
Message-ID: <20021016060843.68290.qmail@web11203.mail.yahoo.com>

Hi Stephan,

Include "\\" also as part of you lexer for string. I
guess this should solve your problem.

--Benhur

 --- stephane brossier <dognogod@yahoo.com> wrote: >
Hi,
> 
> I am trying to recognize some strings in a C
> program.
> 
> I first had a lexer rule defined as is:
> 
> STRING: '"' ~'"' '"';
> 
> This worked pretty well until I had some traces
> like:
>  printf("The string is  \" the_string \" ");
> 
> How can i make the lexer understand that \" is not
> the
> end of my string but is actually part of my string
> since there is an escape char before?
> 
> Thanks,
> 
> S.

__________________________________________________
Do You Yahoo!?
Everything you'll ever need on one web page
from News and Sport to Email and Music Charts
http://uk.my.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From brian-l-smith at uiowa.edu  Tue Oct 15 23:10:33 2002
From: brian-l-smith at uiowa.edu (Brian Smith)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] lexer rule for string
References: <20021016060219.79184.qmail@web13002.mail.yahoo.com>
Message-ID: <3DAD02D9.30402@uiowa.edu>

stephane brossier wrote:
> Hi,
> 
> I am trying to recognize some strings in a C program.
> 
> I first had a lexer rule defined as is:
> 
> STRING: '"' ~'"' '"';
> 
> This worked pretty well until I had some traces like:
>  printf("The string is  \" the_string \" ");
> 
> How can i make the lexer understand that \" is not the
> end of my string but is actually part of my string
> since there is an escape char before?
> 
> Thanks,
> S.

Here is what I use to match both single-quoted and double-quoted strings 
with escape sequences like \n, \", and \t, including octal escape 
sequences. Note that these rules also make sure that the string doesn't 
contain any newlines.

options { k=3; }

QUOTED_NAME
         :   ( '"' ( QUOTED_CHARACTER | '\'' )* '"' )
         ;

STRING_LITERAL
     : ( '\'' ( QUOTED_CHARACTER | '"' )* '\'' )
     ;


// Note that QUOTED-CHARACTER doesn't allow single OR double quotes.
protected QUOTED_CHARACTER
     : (~( '\'' | '"' | '\r'  | '\n' | '\\' ))
     | '\\' ( ( '\'' | '"' | 'n' |  'r'  | 't'  |  'b' |  'f' | '\\' )
            | OCTAL_DIGIT
	     (options {greedy=true;} : OCTAL_DIGIT)?
              (options {greedy=true;} : OCTAL_DIGIT)?
	   )
     ;

protected OCTAL_DIGIT: '0'..'7'
         ;

- Brian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From krupa_gadde at yahoo.com  Wed Oct 16 01:34:38 2002
From: krupa_gadde at yahoo.com (Benhur)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Error: rule classDef trapped
Message-ID: <aoj8au+rgv7@eGroups.com>

Hi all,

Whenever I compile grammar where MyParser which extends TreeParser, 
I get the following error. Any pointers why is it so? I am also 
attaching the sub-rule at which this error is occuring.

---------------------------------------------------------------------
ANTLR Parser Generator   Version 2.7.1   1989-2000 jGuru.com
error: Token stream error reading grammar
(s):antlr.TokenStreamRecognitionException: expecting ''', found '{'
BenhurPLSQL.g: error: rule classDef trapped: BenhurPLSQL.g:229: 
unexpected token: (
error: aborting grammar 'BenhurPLSqlParser' due to errors
TokenStreamException: unexpected char: %
---------------------------------------------------------------------

Code --- I am getting error at the line	#( (START_LABEL label_name 
END_LABEL)?. I defined START_LABEL and END_LABEL as tokens and also 
defined them in MyLexer

plsql_block:
	#( (START_LABEL label_name END_LABEL)?
	(("declare")? (declare_spec)+)? 
	("begin")?
     	seq_of_statements
     	("exception" exception_handler (exception_handler)*)? 
     	("end" (label_name)? SEMI!)? )
        ;

Thanks
Benhur


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From krupa_gadde at yahoo.com  Wed Oct 16 03:42:31 2002
From: krupa_gadde at yahoo.com (Benhur)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Re: Error: rule classDef trapped
In-Reply-To: <aoj8au+rgv7@eGroups.com>
Message-ID: <aojfqn+e043@eGroups.com>

I got solution for this error. The solution is - its obvious that I 
can't make a token that is optional as an root node and so the tool 
doesn't accept grammar like #( (START_LABEL label_name END_LABEL)? )

Rgds
Benhur

--- In antlr-interest@y..., "Benhur" <krupa_gadde@y...> wrote:
> Hi all,
> 
> Whenever I compile grammar where MyParser which extends 
TreeParser, 
> I get the following error. Any pointers why is it so? I am also 
> attaching the sub-rule at which this error is occuring.
> 
> -------------------------------------------------------------------
--
> ANTLR Parser Generator   Version 2.7.1   1989-2000 jGuru.com
> error: Token stream error reading grammar
> (s):antlr.TokenStreamRecognitionException: expecting ''', found '{'
> BenhurPLSQL.g: error: rule classDef trapped: BenhurPLSQL.g:229: 
> unexpected token: (
> error: aborting grammar 'BenhurPLSqlParser' due to errors
> TokenStreamException: unexpected char: %
> -------------------------------------------------------------------
--
> 
> Code --- I am getting error at the line	#( (START_LABEL 
label_name 
> END_LABEL)?. I defined START_LABEL and END_LABEL as tokens and 
also 
> defined them in MyLexer
> 
> plsql_block:
> 	#( (START_LABEL label_name END_LABEL)?
> 	(("declare")? (declare_spec)+)? 
> 	("begin")?
>      	seq_of_statements
>      	("exception" exception_handler (exception_handler)*)? 
>      	("end" (label_name)? SEMI!)? )
>         ;
> 
> Thanks
> Benhur


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From xiang4232002 at yahoo.com  Wed Oct 16 03:47:50 2002
From: xiang4232002 at yahoo.com (Xiangmin Wang)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] PCCTS Questions
In-Reply-To: <20021012022949.32725.qmail@web13005.mail.yahoo.com>
Message-ID: <20021016104750.34982.qmail@web13008.mail.yahoo.com>


 
Hi, 
First, I am not sure this is the group that I should post PCCTS questions to. But I could not find active PCCTS community. My apologize if this is not a proper group.
I have two questions.
1. What is the purpose of the PCCTS' antlr option -class? All the examples I have seen are using the class names as its argument. But what if you have two or more .g files?
2. I have a preprocessing option -D that needs to be passed to the GNU g++ in building PCCTS parsers. How do I ask the genmk to pass this -D option?
Thanks for reply.
Xiangmin
 



---------------------------------
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos, & more
faith.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021016/b6de4ae5/attachment.html
From sunshine at public.kherson.ua  Wed Oct 16 04:48:46 2002
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] PCCTS Questions
In-Reply-To: <20021016104750.34982.qmail@web13008.mail.yahoo.com>
Message-ID: <B9D32CCD.19BB8%sunshine@public.kherson.ua>

on 10/16/02 1:47 PM, Xiangmin Wang at xiang4232002@yahoo.com wrote:

> 
> Hi, 
> 
> First, I am not sure this is the group that I should post PCCTS questions to.
> But I could not find active PCCTS community. My apologize if this is not a
> proper group. 

As far as I understand, PPCTS is dead many years.

You need use ANTLR instead

-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list
send a letter to valentina-on@lists.macserve.net
-------------------------------------------------------------


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Wed Oct 16 07:39:07 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] lexer doubts ..
In-Reply-To: <B9D32CCD.19BB8%sunshine@public.kherson.ua>
Message-ID: <20021016143907.5907.qmail@web40011.mail.yahoo.com>

1. how to give the same character two names .
 eg: 
 BOOLEAN_OR : '|' ;
 PIPE       : '|' ;

but antlr cribs for this .. 
====== 2 ============================
also i have a grammar which i dont know how to debug.. so please help
..

DOT : '.' ;
protected
DIGIT :	'0'..'9' ;
NUM   :	(DIGIT) + /// match the integral part  123
       (         /// the floating part is optional 
        DOT (DIGIT)+  ///  123. atleast one digit after dot
        (    /// scientific claculators have  k for kilo etc
         ('a'|'f'|'p'|'n'|'u'|'m'|'k'|'M'|'g'|'t')  
        |
         ( ('e'|'d'|)('+'|'-')?(DIGIT)+ ) 

        )? /// end of scientific
       )? ///end of  optional floating part 
      |
       (   /// use this alt for .123e-10  no integral part
        DOT (DIGIT)+ 
        (
         ('a'|'f'|'p'|'n'|'u'|'m'|'k'|'M'|'g'|'t')  
        |
         ( ('e'|'d'|)('+'|'-')?(DIGIT)+ ) 
        )?
       ) /// end of alt2 for only floating part 
 	;
 
 ID : ('a'..'z' | 'A'..'Z'|'_')('a'..'z' | 'A'..'Z'|'_'|DIGIT)*
 	;
 
i am getting lexical nondeterminism warning.. but i dont see why i
should get any except for  DOT and NUM's second alt.. 

warning: lexical nondeterminism between rules DOT and NUM upon
scical.g:0:        k==1:'.'
scical.g:0:        k==2:<end-of-token>
scical.g:0:        k==3:<end-of-token>
scical.g:0:        k==4:<end-of-token>
scical.g:0:        k==5:<end-of-token>
scical.g:204: warning: lexical nondeterminism upon
scical.g:204:      k==1:'0'..'9'
scical.g:204:      k==2:<end-of-token>,'+','-','0'..'9','e','u'
scical.g:204:      k==3:<end-of-token>,'0'..'9','g'
scical.g:204:      k==4:<end-of-token>,'0'..'9'
scical.g:204:      k==5:<end-of-token>,'0'..'9'
scical.g:204:      between alt 1 and exit branch of block
scical.g:212: warning: lexical nondeterminism upon
scical.g:212:      k==1:'0'..'9'
scical.g:212:      k==2:<end-of-token>,'+','-','0'..'9','e','u'
scical.g:212:      k==3:<end-of-token>,'0'..'9','g'
scical.g:212:      k==4:<end-of-token>,'0'..'9'
scical.g:212:      k==5:<end-of-token>,'0'..'9'
scical.g:212:      between alt 1 and exit branch of block

if i have to use syntax prediacte how do i use it? and due to what
reason? plese explain .. i could not understand clearly about it from
the example and documentation.

====== 3 ============================

if in future i add structures and complex data types.. is it better to
recognize structure definitions at lexing time or parsing time? same
for structure references ..
should it be TYPE_STRUCT 
or KWD_STRUCT LBRACE TYPE ID and so on... 


should it be KWD_STRUCT DOT ID
or STRUCT_REF 

==========

thank you 
ram






__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Wed Oct 16 08:03:14 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] lexer rule for string
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E01@memail03.bco-home.com>

You could take a look at the ANSI C/GCC parser and tree transformation
framework.  http://www.codetransform.com/gcc.html

Monty

> -----Original Message-----
> From: stephane brossier [mailto:dognogod@yahoo.com]
> Sent: Tuesday, October 15, 2002 11:02 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] lexer rule for string
> 
> 
> Hi,
> 
> I am trying to recognize some strings in a C program.
> 
> I first had a lexer rule defined as is:
> 
> STRING: '"' ~'"' '"';
> 
> This worked pretty well until I had some traces like:
>  printf("The string is  \" the_string \" ");
> 
> How can i make the lexer understand that \" is not the
> end of my string but is actually part of my string
> since there is an escape char before?
> 
> Thanks,
> 
> S.
> 
> 
> __________________________________________________
> Do you Yahoo!?
> Faith Hill - Exclusive Performances, Videos & More
> http://faith.yahoo.com
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Wed Oct 16 08:08:53 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Error: rule classDef trapped
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E02@memail03.bco-home.com>

It says it is expecting a single quote.  Maybe you have an unterminated
string?  A missing semicolon?

Monty

> -----Original Message-----
> From: Benhur [mailto:krupa_gadde@yahoo.com]
> Sent: Wednesday, October 16, 2002 1:35 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Error: rule classDef trapped
> 
> 
> Hi all,
> 
> Whenever I compile grammar where MyParser which extends TreeParser, 
> I get the following error. Any pointers why is it so? I am also 
> attaching the sub-rule at which this error is occuring.
> 
> ---------------------------------------------------------------------
> ANTLR Parser Generator   Version 2.7.1   1989-2000 jGuru.com
> error: Token stream error reading grammar
> (s):antlr.TokenStreamRecognitionException: expecting ''', found '{'
> BenhurPLSQL.g: error: rule classDef trapped: BenhurPLSQL.g:229: 
> unexpected token: (
> error: aborting grammar 'BenhurPLSqlParser' due to errors
> TokenStreamException: unexpected char: %
> ---------------------------------------------------------------------
> 
> Code --- I am getting error at the line	#( (START_LABEL 
> label_name 
> END_LABEL)?. I defined START_LABEL and END_LABEL as tokens and also 
> defined them in MyLexer
> 
> plsql_block:
> 	#( (START_LABEL label_name END_LABEL)?
> 	(("declare")? (declare_spec)+)? 
> 	("begin")?
>      	seq_of_statements
>      	("exception" exception_handler (exception_handler)*)? 
>      	("end" (label_name)? SEMI!)? )
>         ;
> 
> Thanks
> Benhur
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Wed Oct 16 08:16:58 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] PCCTS Questions
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E04@memail03.bco-home.com>

PCCTS is far from dead.  See http://www.polhode.com/pccts.html.  There is
reference to a mailing list there you should post your question to.

Monty

> -----Original Message-----
> From: Ruslan Zasukhin [mailto:sunshine@public.kherson.ua]
> Sent: Wednesday, October 16, 2002 4:49 AM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] PCCTS Questions
> 
> 
> on 10/16/02 1:47 PM, Xiangmin Wang at xiang4232002@yahoo.com wrote:
> 
> > 
> > Hi, 
> > 
> > First, I am not sure this is the group that I should post 
> PCCTS questions to.
> > But I could not find active PCCTS community. My apologize 
> if this is not a
> > proper group. 
> 
> As far as I understand, PPCTS is dead many years.
> 
> You need use ANTLR instead
> 
> -- 
> Best regards,
> Ruslan Zasukhin      [ I feel the need...the need for speed ]
> -------------------------------------------------------------
> e-mail: ruslan@paradigmasoft.com
> web: http://www.paradigmasoft.com
> 
> To subscribe to the Valentina mail list
> send a letter to valentina-on@lists.macserve.net
> -------------------------------------------------------------
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Wed Oct 16 10:29:38 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] lexer doubts ..
In-Reply-To: <20021016143907.5907.qmail@web40011.mail.yahoo.com>
Message-ID: <20021016172938.20639.qmail@web40006.mail.yahoo.com>

===== 2 ====== has been solved like this 
 
 DOT           :  '.'  ;	
 protected
DIGIT :	'0'..'9' ;
 
 ID : ('a'..'z' | 'A'..'Z'|'_')('a'..'z' | 'A'..'Z'|'_'|DIGIT)*   ;
 	
protected SUFFIX      :   ('a'|'f'|'p'|'n'|'u'|'m'|'k'|'M'|'g'|'t')   ;
protected EXPONENT :   ( ('e')('+'|'-')?(DIGIT)+ )   ;
protected INT            :	(DIGIT) +    ;  /// match the integral part 
123
protected FLOATING  :   ( '.'  (DIGIT)+ ) ;

NUM   : INT ( FLOATING  ) ? ( SUFFIX )? (EXPONENT ) ?     ;      


i still dont understand why this works and the otherone doesnt.. all i
did was re organise it and use some more sub rules to make it more
readable .. 
if any one understands .. please explain
cheers
ram


--- Sriram Durbha <cintyram@yahoo.com> wrote:
> 1. how to give the same character two names .
>  eg: 
>  BOOLEAN_OR : '|' ;
>  PIPE       : '|' ;
> 
> but antlr cribs for this .. 
> ====== 2 ============================
> also i have a grammar which i dont know how to debug.. so please help
> ..
> 
> DOT : '.' ;
> protected
> DIGIT :	'0'..'9' ;
> NUM   :	(DIGIT) + /// match the integral part  123
>        (         /// the floating part is optional 
>         DOT (DIGIT)+  ///  123. atleast one digit after dot
>         (    /// scientific claculators have  k for kilo etc
>          ('a'|'f'|'p'|'n'|'u'|'m'|'k'|'M'|'g'|'t')  
>         |
>          ( ('e'|'d'|)('+'|'-')?(DIGIT)+ ) 
> 
>         )? /// end of scientific
>        )? ///end of  optional floating part 
>       |
>        (   /// use this alt for .123e-10  no integral part
>         DOT (DIGIT)+ 
>         (
>          ('a'|'f'|'p'|'n'|'u'|'m'|'k'|'M'|'g'|'t')  
>         |
>          ( ('e'|'d'|)('+'|'-')?(DIGIT)+ ) 
>         )?
>        ) /// end of alt2 for only floating part 
>  	;
>  
>  ID : ('a'..'z' | 'A'..'Z'|'_')('a'..'z' | 'A'..'Z'|'_'|DIGIT)*
>  	;
>  
> i am getting lexical nondeterminism warning.. but i dont see why i
> should get any except for  DOT and NUM's second alt.. 
> 
> warning: lexical nondeterminism between rules DOT and NUM upon
> scical.g:0:        k==1:'.'
> scical.g:0:        k==2:<end-of-token>
> scical.g:0:        k==3:<end-of-token>
> scical.g:0:        k==4:<end-of-token>
> scical.g:0:        k==5:<end-of-token>
> scical.g:204: warning: lexical nondeterminism upon
> scical.g:204:      k==1:'0'..'9'
> scical.g:204:      k==2:<end-of-token>,'+','-','0'..'9','e','u'
> scical.g:204:      k==3:<end-of-token>,'0'..'9','g'
> scical.g:204:      k==4:<end-of-token>,'0'..'9'
> scical.g:204:      k==5:<end-of-token>,'0'..'9'
> scical.g:204:      between alt 1 and exit branch of block
> scical.g:212: warning: lexical nondeterminism upon
> scical.g:212:      k==1:'0'..'9'
> scical.g:212:      k==2:<end-of-token>,'+','-','0'..'9','e','u'
> scical.g:212:      k==3:<end-of-token>,'0'..'9','g'
> scical.g:212:      k==4:<end-of-token>,'0'..'9'
> scical.g:212:      k==5:<end-of-token>,'0'..'9'
> scical.g:212:      between alt 1 and exit branch of block
> 
> if i have to use syntax prediacte how do i use it? and due to what
> reason? plese explain .. i could not understand clearly about it from
> the example and documentation.
> 
> ====== 3 ============================
> 
> if in future i add structures and complex data types.. is it better
> to
> recognize structure definitions at lexing time or parsing time? same
> for structure references ..
> should it be TYPE_STRUCT 
> or KWD_STRUCT LBRACE TYPE ID and so on... 
> 
> 
> should it be KWD_STRUCT DOT ID
> or STRUCT_REF 
> 
> ==========
> 
> thank you 
> ram
> 
> 
> 
> 
> 
> 
> __________________________________________________
> Do you Yahoo!?
> Faith Hill - Exclusive Performances, Videos & More
> http://faith.yahoo.com
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mrosgood at yahoo.com  Wed Oct 16 12:13:36 2002
From: mrosgood at yahoo.com (mrosgood)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Incremental TreeWalker (was: What's the SLK Parser Generator?)
In-Reply-To: <170826586F3BD511910D0200C110AAA8032B4DA8@memail03.bco-home.com>
Message-ID: <aokdp0+k1i0@eGroups.com>

Hi Monty Zukowski-


Thanks for the reply!  I'm glad the ANTLR intelligentsia are thinking
about this stuff. <grin>

> Cook & Welsh's approach is kinda hacky too in that they 
> assume you want to work with a parse tree and not an AST.  
> ...

I agree; I'd rather just see the AST.

Cook and Welsh's innovation is efficiently handling substreams of
input which are temporarily syntactically incorrect.  That's why they
retain the parse tree.  There might be other solutions.

> For instance in java you could make an entry point into 
> the java grammar to recognize methods.  As they edit the 
> method just keep running that rule and replacing the AST 
> and updating the symbol table.

Are you suggesting parser support for incremental treewalkers? <grin>
 If so, I second the idea.

> Note that you can't just call the existing method rule 
> because antlr "knows" that that rule is never called by 
> itself, only from other rules.  Create a new rule that 
> calls method follwed by EOF and you won't have any 
> problems with the follow set.

Yea, that'd probably work for procedural languages.  However, my
Giraffe language is basically an annotated tree.  A serialized version
of a Swing object graph.  No methods.  Think RELAX-NG's structure
meets VRML syntax.  (And almost completely unlike XUL, Bean Markup
Language, XMLEncode/Decode, etc.)

But wouldn't it be great if we could use our grammars as-is?  A
generalized approach would have the most benefit.

I decided to get smart about this stuff.  In fact, I finally learned
the difference between LR and LL.  Woohoo!  Because I started with
ANTLR and was spared the Lex/Yacc experience, I have to now admit that
I didn't fully appreciate how grateful I was supposed to be.

I'm working through the incremental papers I've collected, trying to
grok the algorithms.  Maybe the ideas can be repurposed for ANTLR.  As
you noted, ANTLR gnerated rules can't be invoked "from the outside". 
So maybe ANTLR can be tweaked so that rules can accept parser state.

I'll also be on the lookout for incremental treewalker ideas.  In
terms of my Giraffe language, having Swing buttons and panels flash in
and out of existance as the AST changed would be boss.


Cheers, Jason Osgood


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From yhhf_dy at yahoo.com  Wed Oct 16 14:16:57 2002
From: yhhf_dy at yahoo.com (Fan Yang)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] How to intervene automatic keywords generation
Message-ID: <aokl09+hd4u@eGroups.com>

Hi,

According to the manual of ANTLR about Keywords and literals: any 
double-quoted string used in a parser is automatically entered into 
the literals table of the associated lexer. For instance,

on_error_stmt 
   : "on" "error" "goto" label)
   ;

So "on", "error" and "goto" will be automatically putted into the 
literals table. But in my target language "error" is not a keyword. 
so "error" can be an "identifier" in a statement as following pseudo 
code line shows. 

  printf("%s", e.error)

In fact, this line will cause a problem. because the parser will look 
for the identifier -"error" in the literals table first, then 
treat "error" as keyword not an general identifier. 

IDENT
  options {testLiterals=true;}
  :	('a'..'z'|'_') ('a'..'z'|'_'|'0'..'9')*	
  ;

My question is that may I determine which one ,double-quoted strings, 
can be entered into literals table instead of automatically 
generatation. Or there is an alternative way to deal with this kind 
of problem

Thanks,

Fan



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From brian-l-smith at uiowa.edu  Wed Oct 16 21:04:32 2002
From: brian-l-smith at uiowa.edu (Brian Smith)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Documentation - literals
References: <3DAAD671.2090500@sbu.ac.uk>
Message-ID: <3DAE36D0.6070608@uiowa.edu>

See the "testLiterals" option.

Here is an example

options {
    testLiterals=true;
}

tokens {
     "class";
}

ID: ('a'..'z')+;



David Wigg wrote:
> In the antlr documentation there is a reference under "Keywords 
> and Literals" to a "literal" option (to specify a particular 
> word is a literal and therefore can be distinguished from a 
> variable).
> 
> On clicking it you are taken to "Options"
> 
> However, I cannot see any further reference to a "literal" 
> option, it is not listed in the list of options and the antlr 
> tool does not seem to recognise a "literal" option.
> 
> Does it in fact exist?
> 
> If it does exist how do you use it?
> 
> Thanks.
> 
> David.
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From brian-l-smith at uiowa.edu  Wed Oct 16 21:51:47 2002
From: brian-l-smith at uiowa.edu (Brian Smith)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Incremental TreeWalker (was: What's the SLK
 Parser Generator?)
References: <aokdp0+k1i0@eGroups.com>
Message-ID: <3DAE41E3.9020304@uiowa.edu>

mrosgood wrote:
> Hi Monty Zukowski-
> Thanks for the reply!  I'm glad the ANTLR intelligentsia are thinking
> about this stuff. <grin>
> 
>>Cook & Welsh's approach is kinda hacky too in that they 
>>assume you want to work with a parse tree and not an AST.  
>>...
> 
> I agree; I'd rather just see the AST.
> 
> Cook and Welsh's innovation is efficiently handling substreams of
> input which are temporarily syntactically incorrect.  That's why they
> retain the parse tree.  There might be other solutions.

I think it would be much easier to implement an incremental parser by 
using a parse tree than with ANTLR's AST, because the parse tree is 
basically helping you to remember what productions you went through to 
parse some section of the document. Then, it is just a matter of 
figuring out how the changes in the token stream correlate to the 
productions you used. I was thinking about maybe building a parse tree 
builder on top of ANTLR's AST mechanism (by creating one "fake" token 
for each production rule, and then creating a subclass of the code 
generator that creates AST's where every non-leaf node is rooted at one 
of these fake tokens, and all the leaves are tokens). But, obviously 
action code and also probably predicates (semantic and syntactic) would 
cause a problem for this kind of approach.

>>For instance in java you could make an entry point into 
>>the java grammar to recognize methods.  As they edit the 
>>method just keep running that rule and replacing the AST 
>>and updating the symbol table.
> 
> Are you suggesting parser support for incremental treewalkers? <grin>
>  If so, I second the idea.

Bogdan posted something (SATC) to the files section of the mailing list 
that seems like it could be used as the foundation for this type of 
approach to ad-hoc incremental parsing. His parser isn't incremental but 
it deals with syntactic and lexical errors in a respectable way.

> But wouldn't it be great if we could use our grammars as-is?  A
> generalized approach would have the most benefit.

My changes to the NetBeans lexer module can already use lexical grammars 
basically as-is, with a few restrictions. For example, you have to 
replace Token.SKIP with a TokenStreamFilter, because token skipping is 
generally only to be used by batch parsers, not by incremental parsers 
and text editors. Also, it seems to work better to be able to recognize 
incomplete tokens for incremetal analysis, instead of just considering 
partial tokens to just be an error (e.g. recognize ["asdf] as a string 
literal). To do this in a transparent way, all you need is a slightly 
modified code generator (I already made one for Java). Or, you can do it 
explicitly in your lexical grammar.

> I'm working through the incremental papers I've collected, trying to
> grok the algorithms.  Maybe the ideas can be repurposed for ANTLR.  As
> you noted, ANTLR gnerated rules can't be invoked "from the outside". 
> So maybe ANTLR can be tweaked so that rules can accept parser state.

A simple approach is just to create a specialized code generator and/or 
preprocessor that can auto-generate the "from the outside" rules 
automatically.

> I'll also be on the lookout for incremental treewalker ideas.  In
> terms of my Giraffe language, having Swing buttons and panels flash in
> and out of existance as the AST changed would be boss.

I would be interested in hearing about anything that you learn. I have a 
very similar requirement. However, I don't need anything that is 
TreeWalker-specific, although I can use a TreeWalker if it is beneficial 
to do so.

- Brian




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From saini20800 at yahoo.com  Thu Oct 17 03:21:36 2002
From: saini20800 at yahoo.com (Paramjeet Saini)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] lexer doubts ..
In-Reply-To: <20021016172938.20639.qmail@web40006.mail.yahoo.com>
Message-ID: <20021017102136.15903.qmail@web40206.mail.yahoo.com>

Please remove me from your mail list ... Thanks 


--- Sriram Durbha <cintyram@yahoo.com> wrote:
> ===== 2 ====== has been solved like this 
>  
>  DOT           :  '.'  ;	
>  protected
> DIGIT :	'0'..'9' ;
>  
>  ID : ('a'..'z' | 'A'..'Z'|'_')('a'..'z' |
> 'A'..'Z'|'_'|DIGIT)*   ;
>  	
> protected SUFFIX      :  
> ('a'|'f'|'p'|'n'|'u'|'m'|'k'|'M'|'g'|'t')   ;
> protected EXPONENT :   ( ('e')('+'|'-')?(DIGIT)+ )  
> ;
> protected INT            :	(DIGIT) +    ;  /// match
> the integral part 
> 123
> protected FLOATING  :   ( '.'  (DIGIT)+ ) ;
> 
> NUM   : INT ( FLOATING  ) ? ( SUFFIX )? (EXPONENT )
> ?     ;      
> 
> 
> i still dont understand why this works and the
> otherone doesnt.. all i
> did was re organise it and use some more sub rules
> to make it more
> readable .. 
> if any one understands .. please explain
> cheers
> ram
> 
> 
> --- Sriram Durbha <cintyram@yahoo.com> wrote:
> > 1. how to give the same character two names .
> >  eg: 
> >  BOOLEAN_OR : '|' ;
> >  PIPE       : '|' ;
> > 
> > but antlr cribs for this .. 
> > ====== 2 ============================
> > also i have a grammar which i dont know how to
> debug.. so please help
> > ..
> > 
> > DOT : '.' ;
> > protected
> > DIGIT :	'0'..'9' ;
> > NUM   :	(DIGIT) + /// match the integral part  123
> >        (         /// the floating part is optional
> 
> >         DOT (DIGIT)+  ///  123. atleast one digit
> after dot
> >         (    /// scientific claculators have  k
> for kilo etc
> >          ('a'|'f'|'p'|'n'|'u'|'m'|'k'|'M'|'g'|'t')
>  
> >         |
> >          ( ('e'|'d'|)('+'|'-')?(DIGIT)+ ) 
> > 
> >         )? /// end of scientific
> >        )? ///end of  optional floating part 
> >       |
> >        (   /// use this alt for .123e-10  no
> integral part
> >         DOT (DIGIT)+ 
> >         (
> >          ('a'|'f'|'p'|'n'|'u'|'m'|'k'|'M'|'g'|'t')
>  
> >         |
> >          ( ('e'|'d'|)('+'|'-')?(DIGIT)+ ) 
> >         )?
> >        ) /// end of alt2 for only floating part 
> >  	;
> >  
> >  ID : ('a'..'z' | 'A'..'Z'|'_')('a'..'z' |
> 'A'..'Z'|'_'|DIGIT)*
> >  	;
> >  
> > i am getting lexical nondeterminism warning.. but
> i dont see why i
> > should get any except for  DOT and NUM's second
> alt.. 
> > 
> > warning: lexical nondeterminism between rules DOT
> and NUM upon
> > scical.g:0:        k==1:'.'
> > scical.g:0:        k==2:<end-of-token>
> > scical.g:0:        k==3:<end-of-token>
> > scical.g:0:        k==4:<end-of-token>
> > scical.g:0:        k==5:<end-of-token>
> > scical.g:204: warning: lexical nondeterminism upon
> > scical.g:204:      k==1:'0'..'9'
> > scical.g:204:     
> k==2:<end-of-token>,'+','-','0'..'9','e','u'
> > scical.g:204:     
> k==3:<end-of-token>,'0'..'9','g'
> > scical.g:204:      k==4:<end-of-token>,'0'..'9'
> > scical.g:204:      k==5:<end-of-token>,'0'..'9'
> > scical.g:204:      between alt 1 and exit branch
> of block
> > scical.g:212: warning: lexical nondeterminism upon
> > scical.g:212:      k==1:'0'..'9'
> > scical.g:212:     
> k==2:<end-of-token>,'+','-','0'..'9','e','u'
> > scical.g:212:     
> k==3:<end-of-token>,'0'..'9','g'
> > scical.g:212:      k==4:<end-of-token>,'0'..'9'
> > scical.g:212:      k==5:<end-of-token>,'0'..'9'
> > scical.g:212:      between alt 1 and exit branch
> of block
> > 
> > if i have to use syntax prediacte how do i use it?
> and due to what
> > reason? plese explain .. i could not understand
> clearly about it from
> > the example and documentation.
> > 
> > ====== 3 ============================
> > 
> > if in future i add structures and complex data
> types.. is it better
> > to
> > recognize structure definitions at lexing time or
> parsing time? same
> > for structure references ..
> > should it be TYPE_STRUCT 
> > or KWD_STRUCT LBRACE TYPE ID and so on... 
> > 
> > 
> > should it be KWD_STRUCT DOT ID
> > or STRUCT_REF 
> > 
> > ==========
> > 
> > thank you 
> > ram
> > 
> > 
> > 
> > 
> > 
> > 
> > __________________________________________________
> > Do you Yahoo!?
> > Faith Hill - Exclusive Performances, Videos & More
> > http://faith.yahoo.com
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to
> > http://docs.yahoo.com/info/terms/ 
> > 
> > 
> 
> 
> __________________________________________________
> Do you Yahoo!?
> Faith Hill - Exclusive Performances, Videos & More
> http://faith.yahoo.com
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From saini20800 at yahoo.com  Thu Oct 17 03:22:03 2002
From: saini20800 at yahoo.com (Paramjeet Saini)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Documentation - literals
In-Reply-To: <3DAE36D0.6070608@uiowa.edu>
Message-ID: <20021017102203.16182.qmail@web40204.mail.yahoo.com>

Please remove me from your mail list ... Thanks 


--- Brian Smith <brian-l-smith@uiowa.edu> wrote:
> See the "testLiterals" option.
> 
> Here is an example
> 
> options {
>     testLiterals=true;
> }
> 
> tokens {
>      "class";
> }
> 
> ID: ('a'..'z')+;
> 
> 
> 
> David Wigg wrote:
> > In the antlr documentation there is a reference
> under "Keywords 
> > and Literals" to a "literal" option (to specify a
> particular 
> > word is a literal and therefore can be
> distinguished from a 
> > variable).
> > 
> > On clicking it you are taken to "Options"
> > 
> > However, I cannot see any further reference to a
> "literal" 
> > option, it is not listed in the list of options
> and the antlr 
> > tool does not seem to recognise a "literal"
> option.
> > 
> > Does it in fact exist?
> > 
> > If it does exist how do you use it?
> > 
> > Thanks.
> > 
> > David.
> > 
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> > 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos & More
http://faith.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tomrstrickland at hotmail.com  Thu Oct 17 04:37:13 2002
From: tomrstrickland at hotmail.com (tom strickland)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Documentation - literals
Message-ID: <F3vqgStMVhEUsebmspH000002cf@hotmail.com>

You lazy idiot. I'm sick of people who can't be bothered to use the normal 
route on a mailing list to unsubscribe themselves. If you don't know how:

*** using the web-page ***
sign in at yahoo and go to the antlr page at:
http://groups.yahoo.com/group/antlr-interest/archives

(actually I go to the antl page, then sign in from there).

>>From the antl page, click 'Edit my Membership'.

>>From this new page you can ask to receive 'no email'.

That's it!

*** By email ***
It's in the headers of the email (as with many mailing lists). The header 
reads:
List-Unsubscribe: <mailto:antlr-interest-unsubscribe@yahoogroups.com>

Which is pretty straightforward, isn't it?

How hard can it be?

Now stop spamming the list with requests to unsubscribe. Learn some 
netiquette.


_________________________________________________________________
Protect your PC - get McAfee.com VirusScan Online 
http://clinic.mcafee.com/clinic/ibuy/campaign.asp?cid=3963


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tomrstrickland at hotmail.com  Thu Oct 17 04:43:50 2002
From: tomrstrickland at hotmail.com (tom strickland)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Documentation - literals
Message-ID: <F163BU98l7jOxJ5pqn900003543@hotmail.com>

Oh. How embarrassing. I don't usually flame people in private, let alone in 
public. I apologise - both to the list and to Paramjeet. I didn't mean to 
post this to the list.
What a good 1st impression I must have made!

My point still stands though - I'm sick of people not using the normal 
unsubscribe systems on mailing lists. It's not hard.

Sorry again,

Tom


_________________________________________________________________
Surf the Web without missing calls! Get MSN Broadband. 
http://resourcecenter.msn.com/access/plans/freeactivation.asp


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Thu Oct 17 07:39:03 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] How to intervene automatic keywords generati
	on
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E13@memail03.bco-home.com>

Since you want to keep "error" out of the literals table, then treat it as
an ID:

on_error_stmt
   : "on" ID "goto" label
   ;

If you want to make sure that it is always "error" you can use a validating
semantic predicate:

on_error_stmt
   : "on" { "error".equals(LA(1).getText()) }? ID "goto" label
   ;

Monty
www.codetransform.com

> -----Original Message-----
> From: Fan Yang [mailto:yhhf_dy@yahoo.com]
> Sent: Wednesday, October 16, 2002 2:17 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] How to intervene automatic keywords 
> generation
> 
> 
> Hi,
> 
> According to the manual of ANTLR about Keywords and literals: any 
> double-quoted string used in a parser is automatically entered into 
> the literals table of the associated lexer. For instance,
> 
> on_error_stmt 
>    : "on" "error" "goto" label)
>    ;
> 
> So "on", "error" and "goto" will be automatically putted into the 
> literals table. But in my target language "error" is not a keyword. 
> so "error" can be an "identifier" in a statement as following pseudo 
> code line shows. 
> 
>   printf("%s", e.error)
> 
> In fact, this line will cause a problem. because the parser will look 
> for the identifier -"error" in the literals table first, then 
> treat "error" as keyword not an general identifier. 
> 
> IDENT
>   options {testLiterals=true;}
>   :	('a'..'z'|'_') ('a'..'z'|'_'|'0'..'9')*	
>   ;
> 
> My question is that may I determine which one ,double-quoted strings, 
> can be entered into literals table instead of automatically 
> generatation. Or there is an alternative way to deal with this kind 
> of problem
> 
> Thanks,
> 
> Fan
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From xavier.huet at infineon.com  Thu Oct 17 10:31:07 2002
From: xavier.huet at infineon.com (xavier.huet@infineon.com)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] ANTLR / Generic parser / AST
Message-ID: <9125AE321C26D311A7D900805F8BB94A034AFDDB@mail.vlb.infineon.com>



Hi there,


We try to have kind of generic parser ie for example a verilog (or 
vhdl or anything you can imagine) parser Engine that every client can
configure for their own needs.

We arrived to the fact that we should right our own AST structure and to
have a factory in our parser to create it. (factory then can be defined by
our clients to built their own kind of objects , thought deriving from Our
base AST classes). So it looks like yours.

Calc.g

assignment returns [pNode asgn]
{
 pNode e1 = NULL;
 pNode e2 = NULL;
 pNode id = NULL;
}
 : e1 = expr { asgn = e1; }
 | id = identifier ASSIGN e2 = expr
 { asgn = factory.build_binary( n_assign, id, e2 ); }
 ; 
  
This method is fine for a client that need to some "compile" stuff. But what
if one client wants to filter the input file only by prefixing the module
name. The output should be exactly the same (including whitespaces,
comments, parenthesis, brackets, semi colon) except the module name though.
With the custom tree, we loose a lot of information. Do you have any
solutions ? Or ideas ?

Also we may have some clients that would like a mix of 2 ie building a AST.
Evaluate some of the node and replace, in the original file, the nodes by
the evaluation's result.

For example , if the input looks like this :

## This is a comment ##
a = 1 + 2 ;
## This is another comment ##
b = 2*a + 3 ;

the client would like , to evaluate the expression and replace in the input
by the results but all others
stuff should not be skip.:
## This is a comment ##
a = 3;
## This is another comment ##
b = 9;


Thank you in advance for your help,

~XAvier

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Thu Oct 17 11:05:43 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] ANTLR / Generic parser / AST
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E1B@memail03.bco-home.com>

Hi Xavier,
	I would recommend not putting whitespace and comments into your AST,
because then if you manipulate the AST you have to figure out what to do
with the whitespace and comments.  Instead I recommend keeping whitespace
around separately so that AST nodes can mapped to their original positions
in the input file and then the whitespace and comments (anything that is
ignored) can be found to be copied into the output.
	So visualize your input text file.  Now mark every token that
becomes an AST node yellow.  Everything else is what is ignored--either by
the lexer or parser.  Now to do an identity transformation just make sure
that between emitting any two AST nodes you also emit what is inbetween.
When you start modifying ASTs then you have to figure out what makes sense
to preserve.  For instance if you delete a whole statement then you will
want to be smart enough not to emit the leading whitespace or the semicolon
and newline following it.  If a whole subtree got moved to another place in
the file then you have to handle the boundary conditions similarly.  Adding
new AST nodes requires the emitter to be smart enough to put the appropriate
whitespace around it--i.e. knowing to end a statement with a semicolon and
newline.
	If you get into C type preprocessing then preserving the #line
directives becomes important and difficult.  Well, it's difficult to do it
right with the GCC extensions because they keep a whole stack of #line
directives, one for each #include.
	I'd be happy to work on this as a consultant too.  See my webpage
for details.

Monty

www.codetransform.com

> -----Original Message-----
> From: xavier.huet@infineon.com [mailto:xavier.huet@infineon.com]
> Sent: Thursday, October 17, 2002 10:31 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] ANTLR / Generic parser / AST
> 
> 
> 
> 
> Hi there,
> 
> 
> We try to have kind of generic parser ie for example a verilog (or 
> vhdl or anything you can imagine) parser Engine that every client can
> configure for their own needs.
> 
> We arrived to the fact that we should right our own AST 
> structure and to
> have a factory in our parser to create it. (factory then can 
> be defined by
> our clients to built their own kind of objects , thought 
> deriving from Our
> base AST classes). So it looks like yours.
> 
> Calc.g
> 
> assignment returns [pNode asgn]
> {
>  pNode e1 = NULL;
>  pNode e2 = NULL;
>  pNode id = NULL;
> }
>  : e1 = expr { asgn = e1; }
>  | id = identifier ASSIGN e2 = expr
>  { asgn = factory.build_binary( n_assign, id, e2 ); }
>  ; 
>   
> This method is fine for a client that need to some "compile" 
> stuff. But what
> if one client wants to filter the input file only by 
> prefixing the module
> name. The output should be exactly the same (including whitespaces,
> comments, parenthesis, brackets, semi colon) except the 
> module name though.
> With the custom tree, we loose a lot of information. Do you have any
> solutions ? Or ideas ?
> 
> Also we may have some clients that would like a mix of 2 ie 
> building a AST.
> Evaluate some of the node and replace, in the original file, 
> the nodes by
> the evaluation's result.
> 
> For example , if the input looks like this :
> 
> ## This is a comment ##
> a = 1 + 2 ;
> ## This is another comment ##
> b = 2*a + 3 ;
> 
> the client would like , to evaluate the expression and 
> replace in the input
> by the results but all others
> stuff should not be skip.:
> ## This is a comment ##
> a = 3;
> ## This is another comment ##
> b = 9;
> 
> 
> Thank you in advance for your help,
> 
> ~XAvier
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From yhhf_dy at yahoo.com  Thu Oct 17 14:48:10 2002
From: yhhf_dy at yahoo.com (Fan Yang)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Re: Yes, but where are they DEFINED??? :-)
In-Reply-To: <aog8nv+a0e7@eGroups.com>
Message-ID: <aonb6r+8o5n@eGroups.com>

Hi,

I'm new to antlr too. I have the same questions as you have. Although 
I don't know exactly what it means, I know somehow _ttype does the 
work.

I have tried to find some hints from antlr manual, but I got nothing. 
Wait a minutes, maybe in the section about Lexer Implementation, you 
can get something. I'll read this section again and try to figure it 
out.

Hope it's helpul.

best regards,

fan


--- In antlr-interest@y..., "dave_sieber" <dsieber@a...> wrote:
> Hi Ter and ANTLR Gang,
> 
> Obviously I'm new at this, as this question illustrates:
> 
> I am looking over the Java parser in the examples directory (C++ 
> version). In the JavaLexer class, I see that the definition of DOT 
> has been commented out. Also, I see no definition for NUM_FLOAT. 
Yet 
> both are used in other places. I am baffled. Why was DOT commented 
> out? Was there a problem? And where is NUM_FLOAT defined?
> 
> If there is an obvious answer (there must be, it compiles okay :-), 
> I'd appreciate a pointer into the documentation where this is 
covered 
> so that I can continue learning.
> 
> Thanks very much (to _everyone_ involved) for all the work in 
making 
> this available!


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From prasad at aztec.soft.net  Fri Oct 18 11:05:26 2002
From: prasad at aztec.soft.net (Prasad K K)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] How to intervene automatic keywords generation
In-Reply-To: <aokl09+hd4u@eGroups.com>
Message-ID: <NGBBLOOGNKEBNJFADBNLMEDJCGAA.prasad@aztec.soft.net>

Hi,

You can use the following approach

on_error_stmt:
	"on" "error" "goto" label
;

keywords_that_can_be_identifiers:
	"error"
	"on"
;

identifier:
	IDENTIFIER | keywords_that_can_be_identifiers
;

Where IDENTIFIER is the Lexer rule that matches identifiers

Hope it helps.

- K

-----Original Message-----
From: Fan Yang [mailto:yhhf_dy@yahoo.com]
Sent: Wednesday, October 16, 2002 2:17 PM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] How to intervene automatic keywords generation


Hi,

According to the manual of ANTLR about Keywords and literals: any 
double-quoted string used in a parser is automatically entered into 
the literals table of the associated lexer. For instance,

on_error_stmt 
   : "on" "error" "goto" label)
   ;

So "on", "error" and "goto" will be automatically putted into the 
literals table. But in my target language "error" is not a keyword. 
so "error" can be an "identifier" in a statement as following pseudo 
code line shows. 

  printf("%s", e.error)

In fact, this line will cause a problem. because the parser will look 
for the identifier -"error" in the literals table first, then 
treat "error" as keyword not an general identifier. 

IDENT
  options {testLiterals=true;}
  :	('a'..'z'|'_') ('a'..'z'|'_'|'0'..'9')*	
  ;

My question is that may I determine which one ,double-quoted strings, 
can be entered into literals table instead of automatically 
generatation. Or there is an alternative way to deal with this kind 
of problem

Thanks,

Fan



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From krupa_gadde at yahoo.com  Fri Oct 18 01:12:01 2002
From: krupa_gadde at yahoo.com (Benhur)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Errors while compiling
Message-ID: <aoofoh+9qi5@eGroups.com>

Hi all,

Here is a sub-rule I have defined as part of my grammar where 
MyParser extends Parser class.

select_expression:
	selectexp:"select"^ ( "all"! | "distinct"! )? select_list
	("into" column_name)?
	table_reference_list_from
	(where_condition_whole)?
	( connect_clause )?
	( group_clause )?
	( ( set_clause ) => set_clause )?
	( ( order_clause ) => order_clause )?
	( ( update_clause ) => update_clause )?
        { #select_expression = #
([SELECT_EXPRESSION,"select_expression"], #select_expression); }
	;

While I compile this grammar using the antlr.Tool option, Parser, 
Lexer and TokenTypes Java programs are generated. While I am 
compiling these three Java programs, I am getting the followinr 
error - 

PLSqlParser.java:11247: cannot resolve symbol
symbol  : variable SELECT_EXPRESSION
location: class MyParser.PLSqlParser
                                        select_expression_AST = (AST)
astFactory.make( (new ASTArray(
2)).add((AST)astFactory.create
(SELECT_EXPRESSION,"select_expression")).add(select_expression_AST));

                               ^
1 error

Why is this happening? This is the only sub-rule where I am trying 
to create an imaginary node. Any pointers for this, please let me 
know.

Thanks in advance
Benhur



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Fri Oct 18 07:48:02 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Errors while compiling
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E25@memail03.bco-home.com>

You need to define an imaginary node before you can use it.  Put
SELECT_EXPRESSION into your 'tokens' section.

Monty

> -----Original Message-----
> From: Benhur [mailto:krupa_gadde@yahoo.com]
> Sent: Friday, October 18, 2002 1:12 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Errors while compiling
> 
> 
> Hi all,
> 
> Here is a sub-rule I have defined as part of my grammar where 
> MyParser extends Parser class.
> 
> select_expression:
> 	selectexp:"select"^ ( "all"! | "distinct"! )? select_list
> 	("into" column_name)?
> 	table_reference_list_from
> 	(where_condition_whole)?
> 	( connect_clause )?
> 	( group_clause )?
> 	( ( set_clause ) => set_clause )?
> 	( ( order_clause ) => order_clause )?
> 	( ( update_clause ) => update_clause )?
>         { #select_expression = #
> ([SELECT_EXPRESSION,"select_expression"], #select_expression); }
> 	;
> 
> While I compile this grammar using the antlr.Tool option, Parser, 
> Lexer and TokenTypes Java programs are generated. While I am 
> compiling these three Java programs, I am getting the followinr 
> error - 
> 
> PLSqlParser.java:11247: cannot resolve symbol
> symbol  : variable SELECT_EXPRESSION
> location: class MyParser.PLSqlParser
>                                         select_expression_AST = (AST)
> astFactory.make( (new ASTArray(
> 2)).add((AST)astFactory.create
> (SELECT_EXPRESSION,"select_expression")).add(select_expression_AST));
> 
>                                ^
> 1 error
> 
> Why is this happening? This is the only sub-rule where I am trying 
> to create an imaginary node. Any pointers for this, please let me 
> know.
> 
> Thanks in advance
> Benhur
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dude at darkfigure.org  Fri Oct 18 10:20:29 2002
From: dude at darkfigure.org (Paul J. Lucas)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Lexer inheritance
Message-ID: <aopfst+hk93@eGroups.com>

So, even though one can inherit grammars, there's no mention of the ability to inherit lexers.  If I have several lexers implementing what otherwise would be done with lexical states, I'd like to have a "base" lexer that is able to return tokens like string literals, comments, etc.  Apparantly, if I have multiple lexers, I have to repeat the pattern rules for common items in every lexer.

Is there an easier way?  If not, why not?

- Paul


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Fri Oct 18 10:45:24 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Lexer inheritance
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E2B@memail03.bco-home.com>

A lexer is defined by a lexical grammar.  Simply extend it the same way you
do with parsers.  For example:


class GnuCLexer extends StdCLexer;
...

Monty

-----Original Message-----
From: Paul J. Lucas [mailto:dude@darkfigure.org]
Sent: Friday, October 18, 2002 10:20 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Lexer inheritance


So, even though one can inherit grammars, there's no mention of the ability
to inherit lexers.  If I have several lexers implementing what otherwise
would be done with lexical states, I'd like to have a "base" lexer that is
able to return tokens like string literals, comments, etc.  Apparantly, if I
have multiple lexers, I have to repeat the pattern rules for common items in
every lexer.

Is there an easier way?  If not, why not?

- Paul


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dude at darkfigure.org  Fri Oct 18 11:27:43 2002
From: dude at darkfigure.org (Paul J. Lucas)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Syntactic predicates (in reverse)
Message-ID: <aopjqv+b0ji@eGroups.com>

First, in the lexer documentation for the example for Pascal INT, REAL, or range, RANGE_OR_INT is never used.

Second, what I'm looking to do is match backwards in addition to forwards.  For example, consider:

	define function foo

in some language.  "define" and "function" should be returned as keywords DEFINE and FUNCTION respectively, but only if they occur together; otherwise IDENTIFIER for each.

Using the FORTRAN DO loop from the lexer documentation as a guide, I can do:

	DEFINE
		: (DEFINE_FUNCTION)=> "define"
		;

	protected DEFINE_FUNCTION
		: "define" FUNCTION
		;

	FUNCTION
		: "function"
		;

This (I believe) will correctly return the DEFINE token to the parser only of "define" is followed by "function."  But how can I get the lexer to return FUNCTION as the next token, but only if it was *preceded* by "define"?

- Paul


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Fri Oct 18 11:34:09 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Syntactic predicates (in reverse)
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E2D@memail03.bco-home.com>

You could set a flag in your lexer and check it when you are in FUNCTION.
Or you could use lexer states.

Actually you are going to want to handle this in your ID rule and use
literal checking by setting the testLiterals option to true.  Read the docs
about literals.

Monty

-----Original Message-----
From: Paul J. Lucas [mailto:dude@darkfigure.org]
Sent: Friday, October 18, 2002 11:28 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Syntactic predicates (in reverse)


First, in the lexer documentation for the example for Pascal INT, REAL, or
range, RANGE_OR_INT is never used.

Second, what I'm looking to do is match backwards in addition to forwards.
For example, consider:

	define function foo

in some language.  "define" and "function" should be returned as keywords
DEFINE and FUNCTION respectively, but only if they occur together; otherwise
IDENTIFIER for each.

Using the FORTRAN DO loop from the lexer documentation as a guide, I can do:

	DEFINE
		: (DEFINE_FUNCTION)=> "define"
		;

	protected DEFINE_FUNCTION
		: "define" FUNCTION
		;

	FUNCTION
		: "function"
		;

This (I believe) will correctly return the DEFINE token to the parser only
of "define" is followed by "function."  But how can I get the lexer to
return FUNCTION as the next token, but only if it was *preceded* by
"define"?

- Paul


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Oct 18 16:27:04 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] just about done with bug fixes in Java stuff for 2.7.2...
Message-ID: <1CA8DB0A-E2F1-11D6-8258-0030653DE0D6@jguru.com>

...yeah!

Then on to taking a wack at the docs and seeing if I can get my most 
excellent Java grammar improvements into the main line.

Also, what about C#...Michael, contact me directly to see about getting 
repository access :)  Let's fold C# in :)

Waiting on a last bug from Loring too...

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Oct 18 18:17:47 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] AST factory / heterogeneous tree enhancement
Message-ID: <93A17F82-E300-11D6-8258-0030653DE0D6@jguru.com>

Ok, Loring and I have discussed the tree factory problems.  
"micheal_jor" <open.zone@virgin.net> brought them up regarding C# and 
Ric seems to have fixed this for C++.  So, now the Java solution.

Here is the problem as I understand it.

1. #[FOO] always builds an AST node of the default type because
     the ASTFactory only knows about the default.  In future if you say

     tokens {
         PLUS<AST=PLUSNode>;
         ...
     }

     then I'll make action #[PLUS] create the right node.  You can also 
say
     #[ID,"foo","VarNode"] (3rd arg is the type of node to create).

2. dup methods of ASTFactory don't respect the type of the nodes; it
     uses default node type.  In future, i'll use 
t.getClass().newInstance()
     to do the dup.

3. hetero tree construction does not call the factory.  E.g.,

     anIntRule : INT<AST=INTNode> ;

     generates

     INTNode v = new INTNode(LT(1));

     but we need to instead generate:

     AST v = (AST)astFactory.create(LT(1),"INTNode");

     where the create(...) method is new and specifies the type to
     create.  This will use newInstance() instead of "new" by default.

4. If you define ID<AST=T> in tokens section then all code in grammar 
"id:ID" should
     define labels as "T id" not "AST id" nor labelASTType id.

Make sense to folks?  I think this is the "type table in the ast 
factory" problem that Ric fixed in the C++ output.

Ter
PS	Michael let's talk about C# integration.
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Oct 20 12:39:45 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] ANTLR documentation restructuring
In-Reply-To: <NEBBKKODFMOCLEEIOELFCEEMCJAA.gackle@shaw.ca>
Message-ID: <AFDBA052-E463-11D6-8597-0030653DE0D6@jguru.com>


On Wednesday, October 9, 2002, at 10:49  PM, Daniel Gackle wrote:
> If I may offer a suggestion, I've spent a lot of time poring over the
> documentation, and it would be worlds easier if care were taken to 
> define
> each notion before using it.  The way it is structured now is sort of 
> like
> this: X is explained using Y and Z, Y is explained using X and A and B 
> and
> C, Z is explained in terms of A and Y and D, C and D are not explained
> anywhere and, well, you get the picture.  It's the sort of 
> documentation
> that makes perfect sense if you already know what everything means, 
> but is
> hard to break into if you don't, which kind of defeats the purpose of
> documentation.  I don't doubt that this is partly because of the high 
> level
> of expertise of the authors.  It is often difficult to temporarily 
> forget
> what you know in order to walk someone step by step into that 
> knowledge.

Howdy. Yeah, the doc is pretty much just a "core dump" w/o regards to 
flow.  more of a reference manual if you're already "in the know". :(

> Of course, you can't explain everything back to the beginning of the 
> world,
> but it is certainly possible to say, "an introduction to X is out of 
> the
> scope of this document, here are some good sources to learn about X".

I'm hoping that when I start up on the book again in January 2003 (yep 
in a few months...gotta start teaching a grad language course) that it 
will provide the background so that the reference manual will make more 
sense.

> I have really come to appreciate ANTLR as an excellent tool, and have 
> also
> gotten good information from the docs, so I hope my remarks don't sound
> cranky.  I do believe that ANTLR would profit immensely from an 
> orderly,
> clear exposition.  In my dreams I imagine something like an O'Reilly 
> book...
> a solid O'Reilly book on ANTLR would really make the power of this tool
> accessible to the wide audience it deserves.

Yep, perhaps my rework of the doc will be sufficiently good to make it 
a real book.  My language book will be a "magnus opus" and take me 
probably 2 more years after I start again.  The ref book could be done 
quickly.  I'm converting to TML (Terence's Markup Language) as we 
speak.  From that I can gen HTML, PDF, etc... in nice format so I'll 
look at how far off from a book the doc is.  I'm guessing pretty far :(

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From flusardi at panix.com  Sun Oct 20 14:32:36 2002
From: flusardi at panix.com (Frank Lusardi)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Re: ANTLR documentation restructuring
In-Reply-To: <AFDBA052-E463-11D6-8597-0030653DE0D6@jguru.com>
Message-ID: <aov7dk+kc8i@eGroups.com>

--- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
> 
> 
> Yep, perhaps my rework of the doc will be sufficiently good to make 
it 
> a real book.  My language book will be a "magnus opus" and take me 
> probably 2 more years after I start again.  The ref book could be 
done 
> quickly.  I'm converting to TML (Terence's Markup Language) as we 
> speak.  From that I can gen HTML, PDF, etc... in nice format so I'll 
> look at how far off from a book the doc is.  I'm guessing pretty far 
:(
> 

Terence,

Best of luck with the opus! I'm sure you've been troubled with this 
before, but could you possibly post a little list of recommended 
language books (or websites)? Is there anything good on the very 
basic stuff like Bachus-Naur?  Anyone else have any favorite books?

Thanks, 
Frank






 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Oct 20 14:39:20 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Re: ANTLR documentation restructuring
In-Reply-To: <aov7dk+kc8i@eGroups.com>
Message-ID: <64440492-E474-11D6-8597-0030653DE0D6@jguru.com>


On Sunday, October 20, 2002, at 02:32  PM, Frank Lusardi wrote:

> --- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
>>
>>
>> Yep, perhaps my rework of the doc will be sufficiently good to make
> it
>> a real book.  My language book will be a "magnus opus" and take me
>> probably 2 more years after I start again.  The ref book could be
> done
>> quickly.  I'm converting to TML (Terence's Markup Language) as we
>> speak.  From that I can gen HTML, PDF, etc... in nice format so I'll
>> look at how far off from a book the doc is.  I'm guessing pretty far
> :(
>>
>
> Terence,
>
> Best of luck with the opus! I'm sure you've been troubled with this
> before, but could you possibly post a little list of recommended
> language books (or websites)? Is there anything good on the very
> basic stuff like Bachus-Naur?  Anyone else have any favorite books?

Hi Frank,

Well, I don't have a list that I recommend.  I remember them all 
frustrating me ;)  It's also been way too long since I was looking 
around.  It's hilarious to me that all books are "compiler" books when 
almost nobody writes compilers (well, in comparison to all the data 
parsing, scripting language parsing, etc... going on).

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From shemanthk at yahoo.com  Sun Oct 20 20:41:22 2002
From: shemanthk at yahoo.com (shemanthk)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] calling parser from lexer when using separate files
Message-ID: <aovt12+ujmn@eGroups.com>

hi all, 
I am trying to use separate .g files for my lexer and parser by 
exporting the vocabulary from the lexer and importing the same in my 
parser. This works perfectly fine. 
But in case of my parser, during use of #includes in my program, i 
need to call the parser from the lexer, is there a way to do this. I 
am unable to do this right now because the lex.g file is being 
compiled first and it does not have any information about the parser 
object that i am trying to use.

could some one help me on this.

sample code
-----------
within my lex.g i am trying to do the following

Myparser *parser = new Myparser();
parser->parserule();



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Mon Oct 21 07:48:32 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] calling parser from lexer when using separat
	e files
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E32@memail03.bco-home.com>

It would be better to call a new parser from the parser instead of the
lexer.  Lexers only return tokens, not trees.  

Alternatively you could call a new lexer from your lexer.  That would be the
normal way to handle C style #includes which are just a preprocessing step
anyway.

Monty

> -----Original Message-----
> From: shemanthk [mailto:shemanthk@yahoo.com]
> Sent: Sunday, October 20, 2002 8:41 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] calling parser from lexer when 
> using separate
> files
> 
> 
> hi all, 
> I am trying to use separate .g files for my lexer and parser by 
> exporting the vocabulary from the lexer and importing the same in my 
> parser. This works perfectly fine. 
> But in case of my parser, during use of #includes in my program, i 
> need to call the parser from the lexer, is there a way to do this. I 
> am unable to do this right now because the lex.g file is being 
> compiled first and it does not have any information about the parser 
> object that i am trying to use.
> 
> could some one help me on this.
> 
> sample code
> -----------
> within my lex.g i am trying to do the following
> 
> Myparser *parser = new Myparser();
> parser->parserule();
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From wiggjd at sbu.ac.uk  Mon Oct 21 08:50:14 2002
From: wiggjd at sbu.ac.uk (David Wigg)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] ANTLR Documentation
Message-ID: <3DB42236.9010805@sbu.ac.uk>

With reference to restructuring of documentation it would be 
nice to have a really good book but in two/three years time?

In the meantime we have some good documentation which is usually 
  a great help. What would be really nice now is to have the 
existing documentation updated as corrections and clarifications 
are brought to light and then we wouldn't have to waste time 
with FAQs.

For instance last week I drew attention to the fact that under 
the heading of "Lexer Analysis with ANTLR" there is a paragraph 
on "Keywords and Literals" under "Lexical Rules" in which there 
is a sentence "Second, literals may be specified in the lexer 
grammar by means of the literal option." I cannot find a 
"Literal" option. There is a "testLiterals" option but this is 
different and not what I was looking for.

I think I found what I was looking for under "Tokens Section" in 
     "ANTLR Meta-Language" where it explains how a literal can 
be allocated to a token.

I don't know yet whether the parse will actually work correctly 
but using a tokens section I was able to get rid of a lexical 
nondeterminism between OPERATOR ("operator") and ID (in C++).

If I am correct please could the documentation be updated 
without the need for a FAQ?

What I would like to say is that more often than not wouldn't 
updating the documentation be better that loading another FAQ?

And I think correct, clear and understandable up to date 
documentation would help writing the book, wouldn't it?.

David.




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ngormley at hotmail.com  Mon Oct 21 15:00:05 2002
From: ngormley at hotmail.com (ngormley1974)
Date: Mon Dec 20 16:15:05 2004
Subject: AST f actory / heterogeneous tree enhancement
In-Reply-To: <93A17F82-E300-11D6-8258-0030653DE0D6@jguru.com>
Message-ID: <ap1td5+dmr8@eGroups.com>

Ter,

Great, I'll get to test this as soon as you can get it done......

>      but we need to instead generate:
> 
>      AST v = (AST)astFactory.create(LT(1),"INTNode");
> 

Just one comment: Could it call the factory creation with the class 
of node e.g.

AST v = (AST)astFactory.create(LT(1),INTNode.class ) 

instead, so we get compile time checking.

Just my two cents...
Niall



From parrt at jguru.com  Mon Oct 21 15:58:42 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:05 2004
Subject: AST f actory / heterogeneous tree enhancement
In-Reply-To: <ap1td5+dmr8@eGroups.com>
Message-ID: <A51D31F2-E548-11D6-8597-0030653DE0D6@jguru.com>


On Monday, October 21, 2002, at 03:00  PM, ngormley1974 wrote:

> Ter,
>
> Great, I'll get to test this as soon as you can get it done......
>
>>      but we need to instead generate:
>>
>>      AST v = (AST)astFactory.create(LT(1),"INTNode");
>>
>
> Just one comment: Could it call the factory creation with the class
> of node e.g.
>
> AST v = (AST)astFactory.create(LT(1),INTNode.class )
>
> instead, so we get compile time checking.

THis won't buy you compile time checking unfortunately...you are 
passing in a Class object to that method each time regardless of node 
type. :(

Terence
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco

From open.zone at virgin.net  Mon Oct 21 17:19:56 2002
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Re: AST factory / heterogeneous tree enhancement
In-Reply-To: <93A17F82-E300-11D6-8258-0030653DE0D6@jguru.com>
Message-ID: <ap25jc+31m5@eGroups.com>

Hi again,

Couldn't stay away so here's a more detailed reply.

--- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
> Ok, Loring and I have discussed the tree factory problems.  
> "micheal_jor" <open.zone@v...> brought them up regarding C# and 
> Ric seems to have fixed this for C++.  So, now the Java solution.
> 
> Here is the problem as I understand it.
> 
> 1. #[FOO] always builds an AST node of the default type because
>      the ASTFactory only knows about the default.

This is an accurate statement of the problem with AST construction 
with the Java codegen and [formerly] the C# codegen.

There is also a related issue when the nodetype is specified by 
annotating a token reference in a grammar:
      aRule
         : TOK1<AST=CustomNode.Tok1Node> TOK1<AST=CustomNode.Tok2Node>
         ;

One additional issue that I would like to introduce relates to token 
redefinition. How does one specify a custom ASTNodeType globally for 
terminals such as ID and PLUS that aren't originally defined in a 
tokens {..} section?

We have tokens defined in the lexer (and therefore without 
ASTNodeTypes) that were to be "importVocab'd" into the parser 
(parsers actually). We planned to add the ASTNodeTypes (which could 
be different for different parsers) in the token's section in the 
parser. Can we use the tokens {...} construct to do this with 
terminals like ID and PLUS?. Being forced to use per-TokenRef options 
is very wasteful/verbose since it will be the same for all IDs.

> In future if you say
> 
>      tokens {
>          PLUS<AST=PLUSNode>;
>          ...
>      }
> 
>      then I'll make action #[PLUS] create the right node.  You can
> also say
>      #[ID,"foo","VarNode"] (3rd arg is the type of node to create).

I presume you meant that _both_ #[PLUS] and #[PLUS, "sometext"] will 
be fixed. 

I kinda like the extended syntax - I view it (and the per-tokenRef 
option) as a sort of local override of the global 
TokenType==>ASTNodeType mapping established with setASTNodeClass and 
tokens {...}. 

In our [informal] ANTLR coding standards, using "local override" 
ASTNodeType constructs is the exception rather than the rule.

> 2. dup methods of ASTFactory don't respect the type of the nodes; it
>      uses default node type.  In future, i'll use 
> t.getClass().newInstance()
>      to do the dup.
> 

The dup() methods ultimately call the factory's create() method. Once 
the factory is able to create the right nodes based on it's type, the 
dup() methods should just work. At least that was the experience with 
C#.

> 3. hetero tree construction does not call the factory.  E.g.,
> 
>      anIntRule : INT<AST=INTNode> ;
> 
>      generates
> 
>      INTNode v = new INTNode(LT(1));
> 
>      but we need to instead generate:
> 
>      AST v = (AST)astFactory.create(LT(1),"INTNode");
> 
>      where the create(...) method is new and specifies the type to
>      create.  This will use newInstance() instead of "new" by 
>      default.
> 

This contradicts the "Heterogeneous AST" section of the reference 
manual which states that "ANTLR uses the factory to create nodes for 
which it does not know the specific type". 

My opinion is that ANTLR should always use the ASTFactory except for 
(1) the new extended AST construction syntax and (2) the per-tokenRef 
ASTNodeType option since they effectively "override" the factory's 
global view of Token==>ASTNodeType mappings specified with the 
setASTNodeClass and the "tokens {...}" options.

I can't actually remember what policy has been (or is to be) 
implemented in the C# codegen but, I remember that the pre-existing 
mechanism for reading the grammar file and loading the various 
options removed the distinction between per-Token and per-TokenRef 
ASTNodeType settings for grammar atoms. The GrammarAtom simply has an 
ASTNodeType attribute. 

So I guess for "all non-manual tree construction requests that 
involve per-token or per-tokenref ASTNodeType options" the C# codegen 
will (must?) always generate
   INTNode v = new INTNode(LT(1));

The specified ASTNodeType may not be the type associated with the 
TokenType in the ASTFactory's mapping table so it's safer to just 
bypass the factory entirely.

Incidentally, the same will be true of the extended manual tree 
construction syntax. 

> 4. If you define ID<AST=T> in tokens section then all code in 
grammar 
> "id:ID" should
>      define labels as "T id" not "AST id" nor labelASTType id.

Hmmm. Interesting. I don't think either of the C++ and the C# codegen 
do this. What would be the benefit?

Cheers,

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From krupa_gadde at yahoo.com  Mon Oct 21 22:06:31 2002
From: krupa_gadde at yahoo.com (=?iso-8859-1?q?Krupa=20Benhur?=)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] ANTLR Documentation
In-Reply-To: <3DB42236.9010805@sbu.ac.uk>
Message-ID: <20021022050631.57008.qmail@web11202.mail.yahoo.com>


Hi Terence,
Adding to want David said, it would be nice if you can include some more examples in the documentation. Looking forward for the book from you.
Thanks
Benhur
 David Wigg <wiggjd@sbu.ac.uk> wrote:With reference to restructuring of documentation it would be 
nice to have a really good book but in two/three years time?

In the meantime we have some good documentation which is usually 
a great help. What would be really nice now is to have the 
existing documentation updated as corrections and clarifications 
are brought to light and then we wouldn't have to waste time 
with FAQs.

For instance last week I drew attention to the fact that under 
the heading of "Lexer Analysis with ANTLR" there is a paragraph 
on "Keywords and Literals" under "Lexical Rules" in which there 
is a sentence "Second, literals may be specified in the lexer 
grammar by means of the literal option." I cannot find a 
"Literal" option. There is a "testLiterals" option but this is 
different and not what I was looking for.

I think I found what I was looking for under "Tokens Section" in 
"ANTLR Meta-Language" where it explains how a literal can 
be allocated to a token.

I don't know yet whether the parse will actually work correctly 
but using a tokens section I was able to get rid of a lexical 
nondeterminism between OPERATOR ("operator") and ID (in C++).

If I am correct please could the documentation be updated 
without the need for a FAQ?

What I would like to say is that more often than not wouldn't 
updating the documentation be better that loading another FAQ?

And I think correct, clear and understandable up to date 
documentation would help writing the book, wouldn't it?.

David.






Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 





---------------------------------
Get a bigger mailbox -- choose a size that fits your needs.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021022/d281bb16/attachment.html
From lgc at mail1.jpl.nasa.gov  Mon Oct 21 23:34:08 2002
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Re: AST factory / heterogeneous tree enhancement
In-Reply-To: <ap25jc+31m5@eGroups.com>
Message-ID: <ap2rh1+irmi@eGroups.com>

Ter, Micheal--

Some comments embedded below.

--Loring


--- In antlr-interest@y..., "micheal_jor" <open.zone@v...> wrote:

> One additional issue that I would like to introduce relates to
token 
> redefinition. How does one specify a custom ASTNodeType globally
for 
> terminals such as ID and PLUS that aren't originally defined in a 
> tokens {..} section?
> 
> We have tokens defined in the lexer (and therefore without 
> ASTNodeTypes) that were to be "importVocab'd" into the parser 
> (parsers actually). We planned to add the ASTNodeTypes (which could 
> be different for different parsers) in the token's section in the 
> parser. Can we use the tokens {...} construct to do this with 
> terminals like ID and PLUS?. Being forced to use per-TokenRef 
options 
> is very wasteful/verbose since it will be the same for all IDs.

That works now (2.7.1), except for tokens created by #[ ... ]

> 
> > In future if you say
> > 
> >      tokens {
> >          PLUS<AST=PLUSNode>;
> >          ...
> >      }
> > 
> >      then I'll make action #[PLUS] create the right node.  You can
> > also say
> >      #[ID,"foo","VarNode"] (3rd arg is the type of node to 
create).
> 
> I presume you meant that _both_ #[PLUS] and #[PLUS, "sometext"]
will 
> be fixed. 
> 
> I kinda like the extended syntax - I view it (and the per-tokenRef 
> option) as a sort of local override of the global 
> TokenType==>ASTNodeType mapping established with setASTNodeClass
and 
> tokens {...}. 
> 
> In our [informal] ANTLR coding standards, using "local override" 
> ASTNodeType constructs is the exception rather than the rule.
> 
> > 2. dup methods of ASTFactory don't respect the type of the nodes; 
it
> >      uses default node type.  In future, i'll use 
> > t.getClass().newInstance()
> >      to do the dup.
> > 
> 
> The dup() methods ultimately call the factory's create() method. 
Once 
> the factory is able to create the right nodes based on it's type, 
the 
> dup() methods should just work. At least that was the experience 
with 
> C#.

No, I had to fix that for adding tree construction syntax, and Ter is 
adopting my fix.  dupXX() should duplicate the AST node(s) exactly, 
not be created according to token type.  That fits with the
capability 
of specifying class when creating a token.

Hmm--Ter, there needs to be a policy for AST node typing during tree 
transformations.  Should tree walkers have their own type tables, and 
default to duplicating nodes unless there is a type/class mapping?  
Then AST node information is preserved unless the AST type is 
overridden.

> > 3. hetero tree construction does not call the factory.  E.g.,
> > 
> >      anIntRule : INT<AST=INTNode> ;
> > 
> >      generates
> > 
> >      INTNode v = new INTNode(LT(1));
> > 
> >      but we need to instead generate:
> > 
> >      AST v = (AST)astFactory.create(LT(1),"INTNode");
> > 
> >      where the create(...) method is new and specifies the type to
> >      create.  This will use newInstance() instead of "new" by 
> >      default.
> > 
> 
> This contradicts the "Heterogeneous AST" section of the reference 
> manual which states that "ANTLR uses the factory to create nodes
for 
> which it does not know the specific type". 
> 
> My opinion is that ANTLR should always use the ASTFactory except
for 
> (1) the new extended AST construction syntax and (2) the 
per-tokenRef 

Actually, Ter cleverly turns #[ XXX ] into factory.create( XXX ).

> ASTNodeType option since they effectively "override" the factory's 
> global view of Token==>ASTNodeType mappings specified with the 
> setASTNodeClass and the "tokens {...}" options.
> 
> I can't actually remember what policy has been (or is to be) 
> implemented in the C# codegen but, I remember that the pre-existing 
> mechanism for reading the grammar file and loading the various 
> options removed the distinction between per-Token and per-TokenRef 
> ASTNodeType settings for grammar atoms. The GrammarAtom simply has 
an 
> ASTNodeType attribute. 
> 
> So I guess for "all non-manual tree construction requests that 
> involve per-token or per-tokenref ASTNodeType options" the C# 
codegen 
> will (must?) always generate
>    INTNode v = new INTNode(LT(1));
> 
> The specified ASTNodeType may not be the type associated with the 
> TokenType in the ASTFactory's mapping table so it's safer to just 
> bypass the factory entirely.
> 
> Incidentally, the same will be true of the extended manual tree 
> construction syntax. 
> 
> > 4. If you define ID<AST=T> in tokens section then all code in 
> grammar 
> > "id:ID" should
> >      define labels as "T id" not "AST id" nor labelASTType id.
> 
> Hmmm. Interesting. I don't think either of the C++ and the C# 
codegen 
> do this. What would be the benefit?
> 
> Cheers,
> 
> Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From joshua_r_bertram at yahoo.com  Tue Oct 22 08:05:49 2002
From: joshua_r_bertram at yahoo.com (joshua_r_bertram)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] ParseView link broken?
Message-ID: <ap3pgd+j5gi@eGroups.com>

Hey,

The ParseView link appears to be broken on www.antlr.org:
  http://www.jguru.com/thetick/parseview

It sounds pretty cool -- has it been pulled for some reason?

Thanks,
- Josh.




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Tue Oct 22 08:17:37 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] ParseView link broken?
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E43@memail03.bco-home.com>

I found it here:

http://www.javadude.com/tools/parseview

But note that it hasn't kept up with the 2.7 releases of antlr.

Monty

> -----Original Message-----
> From: joshua_r_bertram [mailto:joshua_r_bertram@yahoo.com]
> Sent: Tuesday, October 22, 2002 8:06 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] ParseView link broken?
> 
> 
> Hey,
> 
> The ParseView link appears to be broken on www.antlr.org:
>   http://www.jguru.com/thetick/parseview
> 
> It sounds pretty cool -- has it been pulled for some reason?
> 
> Thanks,
> - Josh.
> 
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From joshua_r_bertram at yahoo.com  Tue Oct 22 08:31:14 2002
From: joshua_r_bertram at yahoo.com (joshua_r_bertram)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Re: ParseView link broken?
In-Reply-To: <170826586F3BD511910D0200C110AAA8032B4E43@memail03.bco-home.com>
Message-ID: <ap3r02+ufd0@eGroups.com>


--- In antlr-interest@y..., mzukowski@y... wrote:
> http://www.javadude.com/tools/parseview
> 
> But note that it hasn't kept up with the 2.7 releases of antlr.


Bummer.  Thanks for the help, though.

- J.




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From open.zone at virgin.net  Tue Oct 22 08:44:25 2002
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Re: AST factory / heterogeneous tree enhancement
In-Reply-To: <ap2rh1+irmi@eGroups.com>
Message-ID: <ap3rop+eff6@eGroups.com>

> That works now (2.7.1), except for tokens created by #[ ... ]

OK. Just ignore the warnings right?  ;-)

> > > 2. dup methods of ASTFactory don't respect the type of the 
nodes; 

<SNIP>

> > The dup() methods ultimately call the factory's create() method. 
> Once 
> > the factory is able to create the right nodes based on it's type, 
> the 
> > dup() methods should just work. At least that was the experience 
> with 
> > C#.
> 
> No, I had to fix that for adding tree construction syntax, and Ter 
is 
> adopting my fix.  dupXX() should duplicate the AST node(s) exactly, 
> not be created according to token type.  That fits with the
> capability 
> of specifying class when creating a token.

Duh!. I overlooked the implications of the "local override" features 
despite waxing lyrical about them (and Kunle reminding me about 
this). Yep, we need to CreateInstance() based on the type of the 
actual node objects.

> Hmm--Ter, there needs to be a policy for AST node typing during 
tree 
> transformations.  Should tree walkers have their own type tables, 
and 
> default to duplicating nodes unless there is a type/class mapping?  
> Then AST node information is preserved unless the AST type is 
> overridden.

<whisper>
I still haven't got to grips with tree walkers yet :-(
</whisper>

> > > 3. hetero tree construction does not call the factory.  E.g.,
> > > 
> > >      anIntRule : INT<AST=INTNode> ;
> > > 
> > >      generates
> > > 
> > >      INTNode v = new INTNode(LT(1));
> > > 
> > >      but we need to instead generate:
> > > 
> > >      AST v = (AST)astFactory.create(LT(1),"INTNode");
> > > 
> > >      where the create(...) method is new and specifies the type 
to
> > >      create.  This will use newInstance() instead of "new" by 
> > >      default.
> > > 
> > 
> > This contradicts the "Heterogeneous AST" section of the reference 
> > manual which states that "ANTLR uses the factory to create nodes
> for 
> > which it does not know the specific type". 
> > 
> > My opinion is that ANTLR should always use the ASTFactory except
> for 
> > (1) the new extended AST construction syntax and (2) the 
> per-tokenRef 
> 
> Actually, Ter cleverly turns #[ XXX ] into factory.create( XXX ).

I saw that. I guess explicitly teling the factory what to create is 
probably better than bypassing the factory all together. It certainly 
leads to more consistent create() syntax and one less "hack" to worry 
about.


Cheers,

Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Wed Oct 23 02:04:10 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] ParseView link broken?
In-Reply-To: <ap3pgd+j5gi@eGroups.com>; from joshua_r_bertram@yahoo.com on Tue, Oct 22, 2002 at 03:05:49PM -0000
References: <ap3pgd+j5gi@eGroups.com>
Message-ID: <20021023110409.E15217@cs.utwente.nl>

Hi,

On Tue, Oct 22, 2002 at 03:05:49PM -0000, joshua_r_bertram wrote:
> The ParseView link appears to be broken on www.antlr.org:
>   http://www.jguru.com/thetick/parseview
> 
> It sounds pretty cool -- has it been pulled for some reason?

Try http://wwwhome.cs.utwente.nl/~klaren/antlr/

There's a version there that has been hacked for the newer antlr's. Several
attempts to submit this stuff to the writer were unsuccesfull so I just put
it up there. I don't give any support on it though (the patches are not
even mine).

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     Innovation makes enemies of all those who prospered under the old
   regime, and only lukewarm support is forthcoming from those who would
               prosper under the new. --- Niccol Machiavelli


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From vmarco at mac.com  Wed Oct 23 08:58:52 2002
From: vmarco at mac.com (Vince Marco)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Parser question: producing an AST tree?
Message-ID: <3DB6C73C.1000706@mac.com>

Here's a newbie parser question. I'm trying to produce a hierarchical 
AST tree from a C++ source file.  My lexer works over the 400K codebase, 
but when I walk the AST I get all the tokens as siblings...ie. a flat 
tree.  Here is my parser line for a method:
    cppmethod
        :    (ID^ COLON COLON (TILDE)? ID^ LPAREN (param (COMMA 
param)*)? RPAREN cppbody)
        ;

I thought that by putting in the carot "^" the remaining tokens would be 
added as children to the first ID.  My objective was to get the AST tree 
nested as desired before generating a Walker.  Is this a faulty 
approach?  All my tokens in the entire file are still siblings (ie. no 
children).  Any suggestions for what I'm doing wrong?

Vince



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Oct 23 09:42:55 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] ParseView link broken?
In-Reply-To: <20021023110409.E15217@cs.utwente.nl>
Message-ID: <7B2B9B15-E6A6-11D6-8597-0030653DE0D6@jguru.com>


On Wednesday, October 23, 2002, at 02:04  AM, Ric Klaren wrote:

> Hi,
>
> On Tue, Oct 22, 2002 at 03:05:49PM -0000, joshua_r_bertram wrote:
>> The ParseView link appears to be broken on www.antlr.org:
>>   http://www.jguru.com/thetick/parseview
>>
>> It sounds pretty cool -- has it been pulled for some reason?
>
> Try http://wwwhome.cs.utwente.nl/~klaren/antlr/
>
> There's a version there that has been hacked for the newer antlr's. 
> Several
> attempts to submit this stuff to the writer were unsuccesfull so I 
> just put
> it up there. I don't give any support on it though (the patches are not
> even mine).

You know given the simple ASTFrame I have it seems like it'd be pretty 
easy to just make a parse tree and show that. ;)

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gudnabrsam at yahoo.com  Wed Oct 23 10:08:46 2002
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] ParseView link broken?
In-Reply-To: <7B2B9B15-E6A6-11D6-8597-0030653DE0D6@jguru.com>
Message-ID: <20021023170846.16789.qmail@web20417.mail.yahoo.com>

It is--I do it all the time!  :)

-Matt

--- Terence Parr <parrt@jguru.com> wrote:
> 
> On Wednesday, October 23, 2002, at 02:04  AM, Ric
> Klaren wrote:
> 
> > Hi,
> >
> > On Tue, Oct 22, 2002 at 03:05:49PM -0000,
> joshua_r_bertram wrote:
> >> The ParseView link appears to be broken on
> www.antlr.org:
> >>   http://www.jguru.com/thetick/parseview
> >>
> >> It sounds pretty cool -- has it been pulled for
> some reason?
> >
> > Try http://wwwhome.cs.utwente.nl/~klaren/antlr/
> >
> > There's a version there that has been hacked for
> the newer antlr's. 
> > Several
> > attempts to submit this stuff to the writer were
> unsuccesfull so I 
> > just put
> > it up there. I don't give any support on it though
> (the patches are not
> > even mine).
> 
> You know given the simple ASTFrame I have it seems
> like it'd be pretty 
> easy to just make a parse tree and show that. ;)
> 
> Ter
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator:
> http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Y! Web Hosting - Let the expert host your web site
http://webhosting.yahoo.com/

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Wed Oct 23 10:35:53 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Parser question: producing an AST tree?
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E59@memail03.bco-home.com>

What does your tree walker look like?  How do you know it is flat?
Have you printed out a tree with toStringTree() or toStringList()?
Note that in the rule below the second ID will be the root, not the first
ID.

Monty

> -----Original Message-----
> From: Vince Marco [mailto:vmarco@mac.com]
> Sent: Wednesday, October 23, 2002 8:59 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Parser question: producing an AST tree?
> 
> 
> Here's a newbie parser question. I'm trying to produce a hierarchical 
> AST tree from a C++ source file.  My lexer works over the 
> 400K codebase, 
> but when I walk the AST I get all the tokens as siblings...ie. a flat 
> tree.  Here is my parser line for a method:
>     cppmethod
>         :    (ID^ COLON COLON (TILDE)? ID^ LPAREN (param (COMMA 
> param)*)? RPAREN cppbody)
>         ;
> 
> I thought that by putting in the carot "^" the remaining 
> tokens would be 
> added as children to the first ID.  My objective was to get 
> the AST tree 
> nested as desired before generating a Walker.  Is this a faulty 
> approach?  All my tokens in the entire file are still 
> siblings (ie. no 
> children).  Any suggestions for what I'm doing wrong?
> 
> Vince
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dude at darkfigure.org  Wed Oct 23 10:05:14 2002
From: dude at darkfigure.org (Paul J. Lucas)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Ignoring lexer rules
Message-ID: <ap6ksa+amd1@eGroups.com>

If I have the following in a lexer:

	FOO
		: { isFoo() }? "foo"
		;

	BAR
		: ('a'..'z')+
		;

What I want is that if isFoo() is false, then the more generic rule BAR to be used.  Is the above sufficient or must I do something like:

	FOO
		: { isFoo() }? "foo"
		| BAR { $setType( BAR ); }
		;

	BAR
		: ('a'..'z')+
		;

that?

- Paul


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Wed Oct 23 13:04:17 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:05 2004
Subject: [antlr-interest] Ignoring lexer rules
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E5C@memail03.bco-home.com>

That's not the regular antlr way of doing things.  See the documentation on
handling "literals".

Monty

> -----Original Message-----
> From: Paul J. Lucas [mailto:dude@darkfigure.org]
> Sent: Wednesday, October 23, 2002 10:05 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Ignoring lexer rules
> 
> 
> If I have the following in a lexer:
> 
> 	FOO
> 		: { isFoo() }? "foo"
> 		;
> 
> 	BAR
> 		: ('a'..'z')+
> 		;
> 
> What I want is that if isFoo() is false, then the more 
> generic rule BAR to be used.  Is the above sufficient or must 
> I do something like:
> 
> 	FOO
> 		: { isFoo() }? "foo"
> 		| BAR { $setType( BAR ); }
> 		;
> 
> 	BAR
> 		: ('a'..'z')+
> 		;
> 
> that?
> 
> - Paul
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Wed Oct 23 14:19:39 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Parser question: producing an AST tree?
In-Reply-To: <170826586F3BD511910D0200C110AAA8032B4E59@memail03.bco-home.com>
Message-ID: <20021023211939.75402.qmail@web40018.mail.yahoo.com>

in the internal implementation of toStringTree () to StringLKist is
calle d on the  first child;

so both give almost similar output.. except the wrapping paranthesis.. 


2> what is the general rule for placing the caret? is it like the last
token which has the caret in a given alt, becomes the root?


3> i did a small test.. i have a expr grammar, and the ast created by
it, if i have a list of exprs, but if i want to see the tree generated
for all of them i have to make the semi colon the root of the tree ;
if i use toStringTree only the first expression is being shown in lisp
syntax
if i use toStringList, all are being displayed
if i use a dummy token do i have to create the tree manually? like 
 ## =(DUMMY,#stmnt,##); it does not complain when i run the grammar thu
antlr if i use dummy token as rot like in (DUMMY^ stmnt SEMI)+ ;

but i get  runtime exception

4> is there any corresponding viewer in c++  to see the ast generated
by parser [like in java using swing components ..]

thank you
cheers
ram










--- mzukowski@yci.com wrote:
> What does your tree walker look like?  How do you know it is flat?
> Have you printed out a tree with toStringTree() or toStringList()?
> Note that in the rule below the second ID will be the root, not the
> first
> ID.
> 
> Monty
> 
> > -----Original Message-----
> > From: Vince Marco [mailto:vmarco@mac.com]
> > Sent: Wednesday, October 23, 2002 8:59 AM
> > To: antlr-interest@yahoogroups.com
> > Subject: [antlr-interest] Parser question: producing an AST tree?
> > 
> > 
> > Here's a newbie parser question. I'm trying to produce a
> hierarchical 
> > AST tree from a C++ source file.  My lexer works over the 
> > 400K codebase, 
> > but when I walk the AST I get all the tokens as siblings...ie. a
> flat 
> > tree.  Here is my parser line for a method:
> >     cppmethod
> >         :    (ID^ COLON COLON (TILDE)? ID^ LPAREN (param (COMMA 
> > param)*)? RPAREN cppbody)
> >         ;
> > 
> > I thought that by putting in the carot "^" the remaining 
> > tokens would be 
> > added as children to the first ID.  My objective was to get 
> > the AST tree 
> > nested as desired before generating a Walker.  Is this a faulty 
> > approach?  All my tokens in the entire file are still 
> > siblings (ie. no 
> > children).  Any suggestions for what I'm doing wrong?
> > 
> > Vince
> > 
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
Y! Web Hosting - Let the expert host your web site
http://webhosting.yahoo.com/

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From xdji at ustc.edu  Wed Oct 23 18:27:39 2002
From: xdji at ustc.edu (xdjicn)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] How to locate errors?
Message-ID: <ap7iab+9h8m@eGroups.com>

In compiling a parser file,ANTLR gives the following messages:

/////////////////////////////////////////////
ANTLR Parser Generator   Version 2.7.1   1989-2000 jGuru.com
error: Token stream error reading grammar
(s):antlr.TokenStreamRecognitionExcepti
on: expecting '*', found ' '
TokenStreamException: expecting '*', found ' '
/////////////////////////////////////////////
How can I get the line number where the error occurs?
Thanks!


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dude at darkfigure.org  Wed Oct 23 14:01:58 2002
From: dude at darkfigure.org (Paul J. Lucas)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Re: Ignoring lexer rules
In-Reply-To: <170826586F3BD511910D0200C110AAA8032B4E5C@memail03.bco-home.com>
Message-ID: <ap72o6+10251@eGroups.com>

--- In antlr-interest@y..., mzukowski@y... wrote:
> That's not the regular antlr way of doing things.  See the documentation on
> handling "literals".

I've read the documentation, thanks.  There's little mention of semantic predicates in combination with literals for lexers.

- Paul


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From lgc at mail1.jpl.nasa.gov  Wed Oct 23 23:30:33 2002
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Re: How to locate errors?
In-Reply-To: <ap7iab+9h8m@eGroups.com>
Message-ID: <ap8429+k4td@eGroups.com>

What you are seeing is an example of cascaded exceptions--the first 
exception had the line number set, but after that was caught and a 
second exception thrown, the second exception did not have the line 
info set.  Run antlr under a Java debugger and set it to catch ANTLR 
exceptions, then look at the appropriate field in the Exception 
instance.

--Loring


--- In antlr-interest@y..., "xdjicn" <xdji@u...> wrote:
> In compiling a parser file,ANTLR gives the following messages:
> 
> /////////////////////////////////////////////
> ANTLR Parser Generator   Version 2.7.1   1989-2000 jGuru.com
> error: Token stream error reading grammar
> (s):antlr.TokenStreamRecognitionExcepti
> on: expecting '*', found ' '
> TokenStreamException: expecting '*', found ' '
> /////////////////////////////////////////////
> How can I get the line number where the error occurs?
> Thanks!


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From s.piree at enneya.com  Thu Oct 24 00:14:32 2002
From: s.piree at enneya.com (Silvain Piree)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Ignoring lexer rules
References: <170826586F3BD511910D0200C110AAA8032B4E5C@memail03.bco-home.com>
Message-ID: <002301c27b2d$22762cb0$b5892d3e@daemon>

Paul,

your first solution won't work; use the second one,
but don't forget to make the BAR rule a private rule.

(What I usually do in such cases is to define a
new rule CONFLICTING_TOKENS that contains
references to all conflicting token rules and use setType
to set the appropriate token type).

Silvain

> > -----Original Message-----
> > From: Paul J. Lucas [mailto:dude@darkfigure.org]
> > Sent: Wednesday, October 23, 2002 10:05 AM
> > To: antlr-interest@yahoogroups.com
> > Subject: [antlr-interest] Ignoring lexer rules
> >
> >
> > If I have the following in a lexer:
> >
> > FOO
> > : { isFoo() }? "foo"
> > ;
> >
> > BAR
> > : ('a'..'z')+
> > ;
> >
> > What I want is that if isFoo() is false, then the more
> > generic rule BAR to be used.  Is the above sufficient or must
> > I do something like:
> >
> > FOO
> > : { isFoo() }? "foo"
> > | BAR { $setType( BAR ); }
> > ;
> >
> > BAR
> > : ('a'..'z')+
> > ;
> >
> > that?
> >
> > - Paul
> >
> >
> >
> >
> > Your use of Yahoo! Groups is subject to
> > http://docs.yahoo.com/info/terms/
> >
> >
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From xdji at ustc.edu  Thu Oct 24 01:28:00 2002
From: xdji at ustc.edu (xdjicn)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Re: How to locate errors?
In-Reply-To: <ap8429+k4td@eGroups.com>
Message-ID: <ap8aug+56pg@eGroups.com>

Thank you,I have got the following results,but I cannot find where 
the error occurs in parser.g file,which is very large so I can hardly 
find the errors without any line information.
////////////////////////////////////////////////////
Exception occurred: antlr.TokenStreamRecognitionException (to be 
caught at: antlr.preprocessor.Hierarchy.readGrammarFile(), line=93, 
bci=59) thread="main", antlr.preprocessor.PreprocessorLexer.nextToken
(), line=177, bci=848




--- In antlr-interest@y..., "lgcraymer" <lgc@m...> wrote:
> What you are seeing is an example of cascaded exceptions--the first 
> exception had the line number set, but after that was caught and a 
> second exception thrown, the second exception did not have the line 
> info set.  Run antlr under a Java debugger and set it to catch 
ANTLR 
> exceptions, then look at the appropriate field in the Exception 
> instance.
> 
> --Loring
> 
> 
> --- In antlr-interest@y..., "xdjicn" <xdji@u...> wrote:
> > In compiling a parser file,ANTLR gives the following messages:
> > 
> > /////////////////////////////////////////////
> > ANTLR Parser Generator   Version 2.7.1   1989-2000 jGuru.com
> > error: Token stream error reading grammar
> > (s):antlr.TokenStreamRecognitionExcepti
> > on: expecting '*', found ' '
> > TokenStreamException: expecting '*', found ' '
> > /////////////////////////////////////////////
> > How can I get the line number where the error occurs?
> > Thanks!


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From krupa_gadde at yahoo.com  Thu Oct 24 07:03:13 2002
From: krupa_gadde at yahoo.com (=?iso-8859-1?q?Krupa=20Benhur?=)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Run time errors with findAllPartial function
Message-ID: <20021024140313.38853.qmail@web11206.mail.yahoo.com>


Hi All, 

I have written the following grammar in EBNF form for one of the sub-rule. 

select_expression: 
"select"^ ( "all"! | "distinct"! )? select_list ("into" column_name)? 
table_reference_list_from 
(where_condition_whole)? 
( connect_clause )? 
( group_clause )? 
( set_clause ) ? 
( order_clause ) ? 
( update_clause ) ? 
{ #select_expression = #([SELECT_EXPRESSION,"select_expression"], #select_expression); } ;

I have written the following code to access the sub-tree using findAllPartial function 

 ASTFactory astFactory = new ASTFactory();
 ASTEnumeration enum;
 enum = node.findAllPartial((AST)astFactory.make( (new ASTArray(1).add((AST)astFactory.create(PLSqlTokenTypes.LITERAL_select,"select")))));


and getting the below error at runtime----

exception: null
java.lang.NullPointerException
        at antlr.BaseAST.equals(BaseAST.java:88)
        at antlr.BaseAST.equalsTreePartial(BaseAST.java:185)
        at antlr.BaseAST.doWorkForFindAll(BaseAST.java:74)
        at antlr.BaseAST.doWorkForFindAll(BaseAST.java:80)
        at antlr.BaseAST.findAllPartial(BaseAST.java:224)
        at MyParser.ANTLR.visit(ANTLR.java:53)
        at MyParser.ANTLR.main(ANTLR.java:114)

I just used ASTArray(1) because all the other except select_list and table_reference_list_from sub-rules are optional. Can some one help?

Thanks in advance

Benhur




---------------------------------
Get a bigger mailbox -- choose a size that fits your needs.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021024/9bb6046a/attachment.html
From cintyram at yahoo.com  Thu Oct 24 08:56:17 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] strategy doubt..
In-Reply-To: <20021024140313.38853.qmail@web11206.mail.yahoo.com>
Message-ID: <20021024155617.12684.qmail@web40017.mail.yahoo.com>

this is similar to c++ and c but diferent in a way;

suppose i want to allow programmers of my scical language to use the
ty[pes defined in a different design unit/compilation unit;

in c++ we can do that but we cannot do for types, i mean supose i have
a class type declared in a header file, in another file i have to
include this file.. but i want to allow the programmer to not include
this file but  put it in a known location like current working
directory ; it might look very unsage and loose , but i think it will
be powerful feature also.. 
even if it is not to be implemented in the end ,  the  problem still is
interesting ;

when ever such a syntax feature is deteced , the appropriate type node
has to be added to the ast , but since the information on the node is
contained in a different file, we have to open that file , look for the
type's information and then build a tree; also if we can maintain a
database like structure which always contains such frequently used
userdefined types, we can indexinto it and do it real fast;


any opinions on this will be greatfully appreciated
thankyou
ram


__________________________________________________
Do you Yahoo!?
Y! Web Hosting - Let the expert host your web site
http://webhosting.yahoo.com/

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Oct 24 10:14:50 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] How to locate errors?
In-Reply-To: <ap7iab+9h8m@eGroups.com>
Message-ID: <1AE5D06B-E774-11D6-8597-0030653DE0D6@jguru.com>

Hi.  Try 2.7.2a3 on the website :)

Ter

On Wednesday, October 23, 2002, at 06:27  PM, xdjicn wrote:

> In compiling a parser file,ANTLR gives the following messages:
>
> /////////////////////////////////////////////
> ANTLR Parser Generator   Version 2.7.1   1989-2000 jGuru.com
> error: Token stream error reading grammar
> (s):antlr.TokenStreamRecognitionExcepti
> on: expecting '*', found ' '
> TokenStreamException: expecting '*', found ' '
> /////////////////////////////////////////////
> How can I get the line number where the error occurs?
> Thanks!
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Thu Oct 24 13:42:45 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] how to match empty file?
In-Reply-To: <ap8429+k4td@eGroups.com>
Message-ID: <20021024204245.63349.qmail@web40001.mail.yahoo.com>

expr : slist  EOF! ;
slist :( stmnt SEMI! )*;
stmnt : assignExpr ;


this rule with an empty input file is crashing
where as it works for atleast one valid input line;

how can i match an empty file?
thankyou
ram

__________________________________________________
Do you Yahoo!?
Y! Web Hosting - Let the expert host your web site
http://webhosting.yahoo.com/

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dude at darkfigure.org  Thu Oct 24 21:53:49 2002
From: dude at darkfigure.org (Paul J. Lucas)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Explain this lexical nondeterminism
Message-ID: <apaiot+iml9@eGroups.com>

Given:

	class MyLexer extends Lexer;
	options {
		k = 3;
	}

	LT : "lt" | "A1" ;
	GT : "gt" | "A2" ;

I get:

	warning: lexical nondeterminism between rules LT and GT upon
	test.g:0:       k==1:'A'
	test.g:0:       k==2:'t'
	test.g:0:       k==3:<end-of-token>

but why?  'l' is clearly distinguishable from 'g' and '1' is clearly distinguishable from '2'.

- Paul


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From xdji at ustc.edu  Fri Oct 25 05:02:14 2002
From: xdji at ustc.edu (xdjicn)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Errors about "NoViableAltForCharException"
Message-ID: <apbbs6+eagl@eGroups.com>

In compiling the lexer.cpp generated by antlr 2.7.2a3,the compiler 
gave the following errors:

<<NoViableAltForCharException::NoViableAltForCharException' : no 
overloaded function takes 4 parameters>>
 
source codes is below:

<<
...
else {throw antlr::NoViableAltForCharException(LA(1), getFilename(), 
getLine(), getColumn());}
...
>>

But the errors disappeared when I used antlr 2.7.1.




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cintyram at yahoo.com  Fri Oct 25 08:30:00 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:06 2004
Subject: empty file and lexer tokens
In-Reply-To: <1AE5D06B-E774-11D6-8597-0030653DE0D6@jguru.com>
Message-ID: <20021025153000.10092.qmail@web40006.mail.yahoo.com>

hi,
even if i give my grammar as follows the program is crashing on empty
file , please advise

expr : ( slist exception catch [antlr::CharStreamException& re]
                    {
                      std::cout << "Exception in expr" <<  std::endl;
		       reportError(re.toString()); 
		    }
		    catch [antlr::TokenStreamException& re]
		    {
		     std::cout << "Exception in expr" <<  std::endl;
		     reportError(re.toString()); 
		    }
           ) EOF! ;
slist :( stmnt SEMI! )*;
stmnt : assignExpr ;


note : even for any other exceptin class in the given hierarchy , it
crashes..
==============================================
hi what is the use of the other three tokens?

const char* ExprParser::_tokenNames[] = {
	"<0>",
	"EOF",
	"<2>",
	"NULL_TREE_LOOKAHEAD",
           ...

thanks 
ram
	


__________________________________________________
Do you Yahoo!?
Y! Web Hosting - Let the expert host your web site
http://webhosting.yahoo.com/

From cintyram at yahoo.com  Fri Oct 25 08:30:00 2002
From: cintyram at yahoo.com (Sriram Durbha)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] empty file and lexer tokens
In-Reply-To: <1AE5D06B-E774-11D6-8597-0030653DE0D6@jguru.com>
Message-ID: <20021025153000.10092.qmail@web40006.mail.yahoo.com>

hi,
even if i give my grammar as follows the program is crashing on empty
file , please advise

expr : ( slist exception catch [antlr::CharStreamException& re]
                    {
                      std::cout << "Exception in expr" <<  std::endl;
		       reportError(re.toString()); 
		    }
		    catch [antlr::TokenStreamException& re]
		    {
		     std::cout << "Exception in expr" <<  std::endl;
		     reportError(re.toString()); 
		    }
           ) EOF! ;
slist :( stmnt SEMI! )*;
stmnt : assignExpr ;


note : even for any other exceptin class in the given hierarchy , it
crashes..
==============================================
hi what is the use of the other three tokens?

const char* ExprParser::_tokenNames[] = {
	"<0>",
	"EOF",
	"<2>",
	"NULL_TREE_LOOKAHEAD",
           ...

thanks 
ram
	


__________________________________________________
Do you Yahoo!?
Y! Web Hosting - Let the expert host your web site
http://webhosting.yahoo.com/

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From johnm-antlr at non.net  Fri Oct 25 10:25:49 2002
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Re: known number of repetitions..
In-Reply-To: <20021007160308.46355.qmail@web40016.mail.yahoo.com>
References: <anl0d9+1oo9@eGroups.com>
	<20021007160308.46355.qmail@web40016.mail.yahoo.com>
Message-ID: <15801.32413.783131.864501@non.non.net>

>>>>> "Sriram" == Sriram Durbha <cintyram@yahoo.com> writes:
[...]
> but first continuing with == 1 =========

I'm jumping into the middle of this thread so let me apologize in advance
if I've missed some critical context.

> your solution works..  but suppose there is a special case where the
> records starting from record number 1001 are to be put into anotehr set
> instead of issuing an error..  what can be done? in that case how do we
> return to the same rule, reset our counter?  one solution i have is to
> have conditinally recursive rules..

Why are you trying to do so much in e.g., the lexer?

In general, it is *much* better to confine the earlier stages with
structural conformance and the later stages to semantic conformance.


[....]
> the new issue is as follows..  i am writing a translator from on
> elanguage to another..

Administrivia: Please post separate questions in separate messages with
useful and appropriate subject lines.

Take care,
	John

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From praveen_c at yahoo.com  Fri Oct 25 13:26:56 2002
From: praveen_c at yahoo.com (praveen_c)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] utility methods in Lexer.
Message-ID: <apc9eg+9bj9@eGroups.com>

How can I create java methods in Lexer? I need a method such as 
isTypeName(). This method will help me reduce the amount of code I 
have to write in a semantic predicate.

I created a class 'X' that extends antlr.CharScanner, coded the 
method in class 'X' and made my Lexer inherit from 
class 'X'. But when I try to run the grammar through antlr I get the 
following error:

error: grammar X not defined

Please help.

Thanks in advance,
Praveen.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Oct 25 16:17:08 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] utility methods in Lexer.
In-Reply-To: <apc9eg+9bj9@eGroups.com>
Message-ID: <E2440289-E86F-11D6-9715-0030653DE0D6@jguru.com>


On Friday, October 25, 2002, at 01:26  PM, praveen_c wrote:

> How can I create java methods in Lexer? I need a method such as
> isTypeName(). This method will help me reduce the amount of code I
> have to write in a semantic predicate.
>
> I created a class 'X' that extends antlr.CharScanner, coded the
> method in class 'X' and made my Lexer inherit from
> class 'X'. But when I try to run the grammar through antlr I get the
> following error:

Hi.  Have you checked the examples?  Surely there is an example that 
has a code fragment in the class.  Try

class P extends Parser

{
public boolean isTypeName() {...}
}

rule : R ;
...

Hope this helps,
Terence


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Matthew.Ford at forward.com.au  Fri Oct 25 21:58:41 2002
From: Matthew.Ford at forward.com.au (Matthew Ford)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] CodeSections - a very simple version of noweb for treewalkers (and other uses)
Message-ID: <001301c27cac$5ab3d7f0$0200a8c0@NOTEBOOK>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: CodeSections.zip
Type: application/x-zip-compressed
Size: 12774 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20021026/81f6ecf6/CodeSections.bin
From qinpeng at huawei.com  Fri Oct 25 22:31:06 2002
From: qinpeng at huawei.com (QinPeng)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] How to judge the begin of current file?
Message-ID: <007701c27cb0$e271eac0$c410790a@huawei.com>

Hi,all!

When a file test.h is:
#include "test1.h"
unsigned int usTest;

the test1.h is:

unsigned int usTest;

and use lexer to construct a parer tree of test.h and test1.h,
but how can I judge where is the begin of test.h of the parer tree sine 
the parer tree is begin at test1.h

thank you!


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021026/f9697860/attachment.html
From parrt at jguru.com  Sat Oct 26 09:49:10 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] CodeSections - a very simple version of noweb for treewalkers (and other uses)
In-Reply-To: <001301c27cac$5ab3d7f0$0200a8c0@NOTEBOOK>
Message-ID: <D985D5DA-E902-11D6-9715-0030653DE0D6@jguru.com>

Hi Matthew,

Very cool stuff!

Monty is here in San Francisco for a few days but should be back to the 
wilds of Oregon and his computer soon. :)

Ter
On Friday, October 25, 2002, at 09:58  PM, Matthew Ford wrote:

> Hi list,
> Mony has mentioned a few times in the past the benifit of using noweb 
> for treewalkers.
> ?
> The idea is that for multi-pass tree walkers the structure is usually 
> almost the same, just the actions vary.
> ?
> Please find attached CodeSections, simple command line and ant jars 
> that will selectively output code sections as required.
> ?
> The source code for both versions is in CodeSection.cs?? Naturally 
> CodeSections is used to generate the two versions from the one master 
> file.
> ?
> regards
> matthew
> ?
> The complete docs are at the top of CodeSection.cs? part of which 
> are?reproduced below
> ?
> --------------------------??
> Input File Format
> --------------------------
> alternative code sections start with
> <<id>>=
> starting in col1 and followed by whitespace and newline
> where id is? $ alpha or underscore followed by $ alpha,underscore or 
> digits (a Java identifier)
> spaces are NOT allowed within id or between << id and >>=
> ?
> sections continue until next section or EOF
> ?
> ?<<*>>=
> is the default section that is always output (note: here it is not in 
> col1 so is not processed, see real examples below)
> ?
> To output other code sections list the id's of the sections to be 
> output in the arguments
> ?
> java -jar CodeSections inputFile outFile [ids]*
> ?
> If there are no ids listed just the <<*>>= sections will be output.
> ?
> If you ask for an id that does not exist in the input file a warning 
> is printed on
> System.out
> ?
> See this file and the testin.cs for examples
> ?
>
> this is a real example of using the default code section tag
> <<*>>=
>
> Your use of Yahoo! Groups is subject to the Yahoo! Terms of 
> Service.<CodeSections.zip>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sat Oct 26 09:51:21 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] How to judge the begin of current file?
In-Reply-To: <007701c27cb0$e271eac0$c410790a@huawei.com>
Message-ID: <27E4F139-E903-11D6-9715-0030653DE0D6@jguru.com>


On Friday, October 25, 2002, at 10:31  PM, QinPeng wrote:

> Hi,all!
>  
> When a file test.h is:
> #include "test1.h"
> unsigned int usTest;
>  
> the test1.h is:
>  
> unsigned int usTest;
>  
> and use lexer to construct a parer tree of test.h and test1.h,
> but how can I judge where is the begin of test.h of the parer tree sine
> the parer tree is begin at test1.h?

Hi.  Well, the problem is that there is no token at the start of test.h 
for you to record the filename, right?  Perhaps you don't need to know 
that.  Just record that usTest is the first declaration of test.h.  If 
you can explain more about what you are doing, I might think of 
something.

Terence
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sat Oct 26 09:54:33 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Re: empty file and lexer tokens
Message-ID: <9A2455AE-E903-11D6-9715-0030653DE0D6@jguru.com>


On Friday, October 25, 2002, at 08:30  AM, Sriram Durbha wrote:

> Given:
>
> 	class MyLexer extends Lexer;
> 	options {
> 		k = 3;
> 	}
>
> 	LT : "lt" | "A1" ;
> 	GT : "gt" | "A2" ;
>
> I get:
>
> 	warning: lexical nondeterminism between rules LT and GT upon
> 	test.g:0:       k==1:'A'
> 	test.g:0:       k==2:'t'
> 	test.g:0:       k==3:<end-of-token>
>
> but why?  'l' is clearly distinguishable from 'g' and '1' is clearly 
> distinguishable from '2'.

This is a linear approximation weakness.  See

http://www.jguru.com/faq/view.jsp?EID=264825

Solution?  Well I would match all of that as ID and then have them 
tested as literals I guess.

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sat Oct 26 09:56:02 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] empty file and lexer tokens
Message-ID: <CF7CBBB4-E903-11D6-9715-0030653DE0D6@jguru.com>


On Friday, October 25, 2002, at 08:30  AM, Sriram Durbha wrote:

> In compiling the lexer.cpp generated by antlr 2.7.2a3,the compiler
> gave the following errors:
>
> <<NoViableAltForCharException::NoViableAltForCharException' : no
> overloaded function takes 4 parameters>>
>
> source codes is below:
>
> <<
> ...
> else {throw antlr::NoViableAltForCharException(LA(1), getFilename(),
> getLine(), getColumn());}
> ...
>>>
>
> But the errors disappeared when I used antlr 2.7.1.

I have fixed this backward compatibility in later versions of 2.7.2.  
Please try

http://www.antlr.org/download/antlr-2.7.2a4_10-25-2002.jar

Thanks,
Terence
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Oct 27 11:22:44 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] new Java grammar AND 2.7.2a4 10-27-2002 version available
Message-ID: <77E8142F-E9E1-11D6-8B1C-0030653DE0D6@jguru.com>

Folks,

Anybody interested in the upgraded Java grammar (I groomed it a lot for 
jguru and folded it back into antlr stuff), can download

http://www.antlr.org/download/antlr-2.7.2a4_10-27-2002.jar

It has all my bug fixes done minus AST factory stuff.  Just waiting on 
final stuff from Brian Smith on NetBeans integration support.  Ric 
probably has some stuff too.

Will look into C# integration.

Oh, another bug: "EOF" literal is reserved...shouldn't be.

This Java grammar seems much more robust, strict, and accurate/useful 
in its tree construction.  I have run the parser on the following:

  *      Checked parser/tree parser on source for
  *          Resin-2.0.5, jive-2.1.1, jdk 1.3.1, Lucene, antlr 2.7.2a4,
  *          and the 110k jGuru server source.

That's a lot of code (it actually caught a \0 in a string in my jGuru 
code) ;)

Woohoo!

Ter
--------------[RAW changes from 2.7.1 notes 
file]---------------------------
10/27/2002

Integrated jguru fixes for java.g and java.tree.g

Fixed k=0 value causing exception.

10/25/2002

Brian Smith's fix to MismatchedCharException handles EOF properly.
I augmented to handle other special char like \n shows up as '\n' now 
not ' followed by ' on a newline.  Examples:

~/antlr/depot/code/org.antlr/main/main/examples/java/tinyc $ java Main 
< /tmp/f
exception: line 1:7: expecting '
', found <EOF>
~/antlr/depot/code/org.antlr/main/main/examples/java/tinyc $ java Main 
< /tmp/f
exception: line 1:7: expecting '\n', found <EOF>


10/18/2002

Ambig refs to ast variables caused a NullPointerException. Now it says:

class ErrorMaker extends TreeParser;

root
   : #( WHATEVER SEMI {echo(#SEMI); } SEMI {echo(#SEMI); } )
   ;

error: Ambiguous reference to AST element SEMI in rule root

Thanks to "Oleg Pavliv" <opavliv@lysis.com>

10/11/2002

Added AST.getNumberOfChildren() and to BaseAST.  !!!!Incompatible as 
you might have implemented AST!!!!!!

10/06/2002

Trying to add grammar to lout syntax diagram stuff

10/05/2002

Added antlr.util.* and .lout.* packages to do lout generation of trees. 
[not in standard distribution yet]

9/14/2002 a3

Made $FIRST/$FOLLOW work for action or exception handler.  Arg can be 
rule name

a : A {$FIRST(a); $FIRST} B
   exception
     catch [MyExc e] {
         foo = $FOLLOW(a);
         foo = $FIRST(c);
     }
;
can do $FIRST(a).member(LBRACK) etc...

Added classHeaderPrefix option for grammars.
         // get prefix (replaces "public" and lets user specify)

added setter/getter for filename in Token

rjc@trump.net.au report issues: this is an update to 2.7.2 issue.

1) This is a totally trivial thing, but when generating bitsets in the 
lexer:

    private static final long[] mk_tokenSet_1() {
          long[] data = new long[8];
          data[0]=-576460752303432712L;
          for (int i = 1; i<=3; i++) { data[i]=-1L; }
          for (int i = 4; i<=7; i++) { data[i]=0L; } // NOT DONE NOW
          return data;
      }

From: steve hurt <steven.f.hurt@lmco.com>
The second bug occurs when a user wants to
organize a suite of grammar files into seperate
directories. Due to a bug in the
tool it incorrectly forms the location of the
import/export vocabulary files. added a trim() to remove extra space.



Earlier, I added *semantic predicate hoisting (limited)* for lexer 
rules. 8/31/2002

2.7.2a3: ???

  "Silvain Piree" <s.piree@enneya.com> gave me versions of Grammar*.java 
in preproc that used stringbuffers...much faster for inherited grammars.

"Lloyd Dupont" <lloyd@galador.net>
java grammar: Was 0..9 not 0..7 in ESC when starting with 4..7
      assumed float not double; 3.0 was seen as float

  *      John Pybus                      john@pybus.org
sent in a major fix to handle f.g.super(); required rewrite of 
primary/postfix expression rules.

------
Ric's CPP since a1
* Mirrored tabsize handling from java.
* README updates
* Configure/Makefile changes from David Scott Page
   distclean targets + general cleanups etc... (see his mail)
* Removed sstream dependencies from ASTFactory
* Ported change 625 to C++ mode. (currentAST bug)
* Fixed a Makefile for sather removal.
* Fixed:In the command-line options, the docs say to use 
"-traceTreeWalker".
Alas, the code insists that you use "-traceTreeParser".  That was
annoying to figure out.  :)

2.7.2a2: 01-12-2002
-------------------------------------------------------
01-12-2002:

*** put an "if GENAST" gate around import statements for AST types
     in normal non-tree parsers.

*** optimized large bitset initialization code.  Dropped JavaLexer.class
from 87k to 25k.  Runs of integers are written via loops.

*** Thanks to Marco van Meegen <Marco.van.Meegen@t-online.de>
for his suggestion/help getting ANTLR
into shape for inclusion into eclipse IDE.  I took his suggestion and
make the antlr.Tool object a simple variable reference so that multiple
kinds of Tool objects (such as one hooked into Eclipse) could be used
with ANTLR.  This required simple changes but over *many* files!

-------------------------------------------------------
01-05-2002:

*** removed Sather support at the request of the supporter.

*** add warning/error.  Bad code gen with ^ or ! on tree root
when building trees in a tree walker grammar such as:

expr:   #(PLUS^ expr expr)
     |   i:INT
     ;

Fortunately, ^ is simply redundant; removing it makes code ok.
Added a warning.  Added an error message for ! saying that it
is not implemented.

*** bug fix: incorrect code generation for #(. BLORT) in
tree walker grammar.  Didn't properly handle the wildcard
root (missing _t==null check).

2.7.2a1: 12-28-2001
-------------------------------------------------------
12-24-01:

*** bug fix.  The lexer generator puts this assignment _after_ inserting
everything into the literals table: caseSensitiveLiterals = false;

Of course it needs to be before since ANTLRHashString depends on
it to calculate the hashCode.  Not sure when this got fixed actually.

*** Code gen bug fix: "if true {" could be generated sometimes in
the Lexer.  I put (...) around an isolated true if it's generated
from JavaCodeGenerator.getLookaheadTestExpression.

*** ANTLR used to generate a crappy error message:

warning: found optional path in nextToken()

when a public lexer rule could be optional such as

B : ('b')? ;

I now say:

warning: public lexical rule B is optional (can match "nothing")


*** For unexpected and no viable alt exceptions, no file/line/column 
info was generated.
The exception was wrapped in a TokenStreamRecognitionException that did 
not delegate error message
handling (toString()) to the wrapped exception.
I added a TokenStreamRecognitionException.toString() method so that you 
now see things like

<stdin>:1:1: unexpected char: '_'

instead of

antlr.TokenStreamRecognitionException: unexpected char: '_'

*** For large numbers of alternatives (>126) combined with syntactic 
predicates, there was a problem
whereby the syn pred testing code was not there.  2.7.1 introduced this 
problem. 2.7.2 has it right again.

*** Removed syn pred testing gates on ast construction code; returnAST 
is ignored while in
try block while guessing.  So, the tree construction in an invoked rule 
while guessing has no effect.
No need to test.

*** Char ranges with ! on the alternative or range itself did not have 
the code necessary to delete the matched character from the token text.

-------------------------------------------------------
12-22-01:

*** moved strip*(...) methods from Tool to StringUtils; updated mkjar 
accordingly.

*** added Version 2.1 of ANTLR-mode from Christoph.Wedler@sap.com

*** bug fix: a #(pippo) construct, which isn't allowed, caused a 
nullptr exception with kaffe.
It shouldn't get an exception.  It now shows: "unexpected token: pippo" 
instead.

*** a double ;; in antlr.g action and some stray semis were causing kjc 
to puke.

*** the constructors of antlr/CharQueue.java and antlr/TokenQueue.java 
didn't check
for int overflow. They try to set queue size to the next higher multiple

of 2, which is not possible for all inputs (Integer.MAX_VALUE == 
2^15-1). The

constructor loops forever for some inputs.  Checked for huge size 
requests.

*** Ric added code to not write output files if they have not changed 
(Java and C++).

*** Added default tab char handling; defaults to 8.  Added methods to 
CharScanner:
     public void setTabSize( int size );
     public int getTabSize();


*** The CharScanner.rewind(int) method did not rewind the column, just 
the input state. oops.
     It now reads:
     public void rewind(int pos) {
         inputState.input.rewind(pos);
         setColumn(inputState.tokenStartColumn); // ADDED
     }

*** reformatted all code minus Cpp*.java using Intellij IDEA.


-------------------------------------------------------
12-15-01:

*** Made doEverything return a code instead of System.exit.  made a 
wrapper
to do the exit for cmd-line tools.

*** ["Bryan O'Sullivan" <bryan@bea.com> submitted] Used to generic lots 
of static arrays, but bugs in java impl restricts number/size of static 
arrays.  Answer was to put array init into static methods and then 
return it.  Changed:

         private static final long _tokenSet_0_data_[] = { 
-2305803976550907904L, 383L, 0L, 0L };
         public static final BitSet _tokenSet_0 = new 
BitSet(_tokenSet_0_data_);

to

         private static final long[] mk_tokenSet_0() { long[] data = { 
-2305803976550907904L, 383L, 0L, 0L }; return data; }
         public static final BitSet _tokenSet_0 = new 
BitSet(mk_tokenSet_0());

Seems to slow things down a tiny bit at start up not sure if it's 
significant; -Xprof showed nothing bizarre.

---------------------------------------------------------
*** Made antlr use buffered IO for reading grammars; for java grammar 
went from 11 seconds to 6 seconds.



*** added reset() to ParserSharedInputState and Lexer too.  init of 
CharQueue
is now public.


----------------------------------------------------------------------
Ric's Stuff:
General changes:

    - Added warnings for labeled subrules.
    - New Makefile setup. Everything can be build from toplevel up.
      Changes for autoconf enabled make. Added install rules, toplevel
      configure script.
    - Renamed $lookaheadSet to $FOLLOW. Added %FOLLOW to sather mode 
(hope it
      works) original patch by Ernest Passour
	- Clarified some error/warning messages.
    - Robustified action.g - if currentRule = 0 a fitting error message 
is
      printed.
    - Ported action.g fixes from C++ to Java action.g. Warnings and 
errors
      in actions are now correctly reported in java mode as well.
    - Added reset methods to the Queue type objects (java/C++).
    - Added reset methods to the Input/TokenBuffer objects (java/C++).
    - Added reset methods to the SharedInputState objects (java/C++).
    - Added -h/-help/--help options. Adapted the year range in the 
copyright in
      the help message.
    - Allow whitespace between $setxxx and following '('.
    - Give errors when target file/directory not writeable.
    - POSSIBLE INCOMPATABILITY: Changed the position of the init actions 
for
	  (..)* (..)+ to just inside the loop handling the closure. This way we
	  can check EOF conditions in the init action for each loop 
invocation. And
	  generate much better error messages. The uponEOF stuff is too 
limited.
	  (RK: did I port this to java??)
    - Changed the charName in C++ mode and NoViableAltForCharException 
in java
      mode so that only printable characters are printed and non 
printable ones
      get 'hexdumped'.
	  (RK: maybe this should be verified for java mode.. upon 
reconsideration)

C++ related:

    - Tested with 'Sun WorkShop 6 2000/08/30 C++ 5.1 Patch 109490-01'. A 
few
      small fixes.
    - Verified build with gcc 2.8.1 and gcc 2.95.3.
    - Fixed typo in config.hpp added fixes for 2.8.1.
    - Dropped dependency on sstream from ASTFactory
    - Misc fixes for 2.8.1
    - Added config for Digital Tru64 C++ compiler. (courtesy Andre Moll)
    - MetroWerks Codewarrior fixes from Ruslan Zasukhin.
    - Define ANTLR_CCTYPE_NEEDS_STD if isprint needs std:: (RZ)
    - Define ANTLR_CXX_SUPPORTS_UNCAUGHT_EXCEPTION if 
std::uncaught_exception
      is supported by compiler. (RZ)
    - Made XML support configurable with ANTLR_SUPPORT_XML define. (RZ)
    - Moved some methods back to header for better inlining. (RZ)
	- Added getASTFactory to treeparser. Marked setASTNodeFactory as
	  deprecated, added setASTFactory to Parser (improve consistency).
    - Removed down and right initializers from BaseAST copy constructor, 
they
      wreak havoc in relation to dupTree. (forgot who reported this)
    - Added missing initializer for factory in TreeParser constructor.
    - Added the possiblity to escape # characters. Added more 
preprocessor stuff
      to be skipped. Changed error for ## into a warning.
    - Some heterogeneous AST fixes.
    - Made optimization of AST declarations constructions a little bit 
less
      aggressive.
    - Tightened up the generation of declarations for AST's.
    - Updated a lot of #include "antlr/xx" to #include <antlr/xx>. Also
    - Small addition for MSVC. (Jean-Daniel Fekete)
    - Fixed missing 0 check in astfactory code.
    - Also preprocess preheader actions and preambles for treegeneration 
code.
    - Added to the C++ LexerSharedInputState an initialize function that
      reinitializes the thing with a new stream.
    - Bugfix: Initialized attribute filename a little bit earlier so 
error
	  message shows the filename in stead of 'null'.
    - tokenNames vector is now a simple array not a vector.
    - Optimizations in Tracer classes (dumped string's). Removed 
setTokenNames
      from the support library. Switched tokenNames to use a char* array.
    - Generate NUM_TOKENS attribute in parsers. Added getNumTokens 
methods to
      parsers.
	- Changes in MismatchedTokenException to reflect the previous.
    - More fixes for XML I/O (xml-ish actually). It's a bit tidier now. 
Some
	  too advanced things removed (ios_base::failure). Embedding custom XML
	  elements in the stream should be possible now.
    - Bugfix: in case of a certain order of header actions 
(pre_include_xx etc.)
      one header action might overwrite another. Probably only affects 
C++.
    - Fix from Emir Uner for KAI C++ cast string literal to 'const
      char*' for make_pair.
    - Improved exception handling in trace routines of parser. Patch 
submitted
      by John Fremlin. Tracer class now catch exceptions from lexer. 
Fixed
      forgotten message in BitSet.cpp.
    - Added implementations for getLAChars and getMarkedChars.

Java related:

    - Reinstated fileline formatter code that got dropped in exception 
rework.
    - Added column information to FileLineFormatter. Changed stuff all 
over the
      place to support it.
    - Added ASTPair construction optimization suggested by Sander M??gi.
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Oct 27 11:28:21 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] new Java grammar AND 2.7.2a4 10-27-2002 version available
In-Reply-To: <77E8142F-E9E1-11D6-8B1C-0030653DE0D6@jguru.com>
Message-ID: <40AACACA-E9E2-11D6-8B1C-0030653DE0D6@jguru.com>


On Sunday, October 27, 2002, at 11:22  AM, Terence Parr wrote:
>   *          and the 110k jGuru server source.

Make that "110k *lines* of code".

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Mon Oct 28 09:25:57 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Re: Ignoring lexer rules
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E62@memail03.bco-home.com>

Take a look at the gcc parser.  The basic idea is to call a protected rule
that will test the token table for you, then do your semantic checks and
change types as needed in the calling rule.

Monty

> -----Original Message-----
> From: Paul J. Lucas [mailto:dude@darkfigure.org]
> Sent: Wednesday, October 23, 2002 2:02 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: Ignoring lexer rules
> 
> 
> --- In antlr-interest@y..., mzukowski@y... wrote:
> > That's not the regular antlr way of doing things.  See the 
> documentation on
> > handling "literals".
> 
> I've read the documentation, thanks.  There's little mention 
> of semantic predicates in combination with literals for lexers.
> 
> - Paul
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Mon Oct 28 09:31:07 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Parser question: producing an AST tree?
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E64@memail03.bco-home.com>

> in the internal implementation of toStringTree () to StringLKist is
> calle d on the  first child;
> 
> so both give almost similar output.. except the wrapping 
> paranthesis.. 

The only difference between the two should be that tree doesn't print
siblings of the root.  List does.  If your root has no siblings then they
should look identical, I think.
 
> 
> 2> what is the general rule for placing the caret? is it like the last
> token which has the caret in a given alt, becomes the root?

Yes.
 
> 3> i did a small test.. i have a expr grammar, and the ast created by
> it, if i have a list of exprs, but if i want to see the tree generated
> for all of them i have to make the semi colon the root of the tree ;
> if i use toStringTree only the first expression is being shown in lisp
> syntax
> if i use toStringList, all are being displayed
> if i use a dummy token do i have to create the tree manually? like 
>  ## =(DUMMY,#stmnt,##); it does not complain when i run the 
> grammar thu
> antlr if i use dummy token as rot like in (DUMMY^ stmnt SEMI)+ ;
> 
> but i get  runtime exception
> 

Knowing the above, try it again.

 4> is there any corresponding viewer in c++  to see the ast generated
> by parser [like in java using swing components ..]
> 

Not that I'm aware of.

Monty

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Mon Oct 28 09:33:29 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Explain this lexical nondeterminism
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E65@memail03.bco-home.com>

Look at the FAQ about "linear approximate lookahead".  Also look at the
generated code and you will see what antlr is thinking.  It's been answered
on this list before too.

Monty

> -----Original Message-----
> From: Paul J. Lucas [mailto:dude@darkfigure.org]
> Sent: Thursday, October 24, 2002 9:54 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Explain this lexical nondeterminism
> 
> 
> Given:
> 
> 	class MyLexer extends Lexer;
> 	options {
> 		k = 3;
> 	}
> 
> 	LT : "lt" | "A1" ;
> 	GT : "gt" | "A2" ;
> 
> I get:
> 
> 	warning: lexical nondeterminism between rules LT and GT upon
> 	test.g:0:       k==1:'A'
> 	test.g:0:       k==2:'t'
> 	test.g:0:       k==3:<end-of-token>
> 
> but why?  'l' is clearly distinguishable from 'g' and '1' is 
> clearly distinguishable from '2'.
> 
> - Paul
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From xdji at ustc.edu  Mon Oct 28 18:36:41 2002
From: xdji at ustc.edu (xdjicn)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Can parser rules be ignored in syntax checking?
Message-ID: <apks7p+esgm@eGroups.com>

In building a compiler, I want to preprocess the source file and 
build the symbol table first,but the grammar file is very large,so I 
hope to only analyse partial grammars,i.e. ignore some rules,which 
will reduce the time cost in preprocessing,is there some way to 
achieve it?Thanks.

/*Given the rules below,I want to just analyse the typeDef and  
constDef (including the definitions in function) and ignore the 
controlDef*/

moduleDef :
   "module" Identifier moudleBody;
moduleBody :
    "{" (typeDef)* 
        (constDef)* 
        (functionDef)*
        (controlDef)?
     "}";
typeDef:
      ....  
;
constDef:
      ....
;
functionDef :
     "function" Identifier functionBody;
functionBody:
     "{"
        (constDef)*              //local definition part
        (varDef)*
        ....
     "}"
controlDef:
     ....
;



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From user_sofia at biris.freeserve.co.uk  Tue Oct 29 06:36:53 2002
From: user_sofia at biris.freeserve.co.uk (elias_biris)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] antlr distro: still alpha ?
Message-ID: <apm6e5+7311@eGroups.com>

Hi,

I would like to propose to my company to use antlr for parser
generation, and would like to propose the latest 2.7.2a version ...
Due to political reasons, I anticipate there would be some raised
eyebrows for the suggestion of an alpha release. 

Is there a chance that 2.7.2 will soon be a stable release or at least
beta ? 

thanks in advance 

Elias


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From spenserkao at optushome.com.au  Mon Oct 28 21:05:51 2002
From: spenserkao at optushome.com.au (Spenser Kao)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] RTF spec/grammar in (E)BNF
Message-ID: <000001c27f08$dd6e1440$db01a8c0@spenserlaptop>

Hi,
 
I wonder if there is a showcase of implementing a RTF (Rich Text Format)
reader in ANTLR. 
The core part of the job is to express RTF spec/grammar in (E)BNF, has
any one done that before?
Regards,
Spenser 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20021029/b5516000/attachment.html
From parrt at jguru.com  Tue Oct 29 08:33:34 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] RTF spec/grammar in (E)BNF
In-Reply-To: <000001c27f08$dd6e1440$db01a8c0@spenserlaptop>
Message-ID: <2B41B9A4-EB5C-11D6-8B1C-0030653DE0D6@jguru.com>


On Monday, October 28, 2002, at 09:05  PM, Spenser Kao wrote:

> Hi,
>
> ?
>
> I wonder if there is a showcase of implementing a RTF (Rich Text 
> Format) reader in ANTLR.
>
> The core part of the job is to express RTF spec/grammar in (E)BNF, has 
> any one done that before?

Loring at NASA may be able to release his old PCCTS RTF grammar.  
Loring?

Ter
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Tue Oct 29 08:33:09 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] antlr distro: still alpha ?
In-Reply-To: <apm6e5+7311@eGroups.com>
Message-ID: <1BE2947C-EB5C-11D6-8B1C-0030653DE0D6@jguru.com>

Hi Elias,

I'm (unfortunately) not very strict in my release procedures.  The 
current a4 release is really a damn close approximation to the final 
release.  Only one "bug" to fix and a few small features to add then 
I'm ready to go (well, fix the doc too).  I expect a christmas *full* 
release.  Does this help?

Terence

On Tuesday, October 29, 2002, at 06:36  AM, elias_biris wrote:

> Hi,
>
> I would like to propose to my company to use antlr for parser
> generation, and would like to propose the latest 2.7.2a version ...
> Due to political reasons, I anticipate there would be some raised
> eyebrows for the suggestion of an alpha release.
>
> Is there a chance that 2.7.2 will soon be a stable release or at least
> beta ?
>
> thanks in advance
>
> Elias
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From praveen_c at yahoo.com  Tue Oct 29 08:36:37 2002
From: praveen_c at yahoo.com (praveen_c)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] generated code not compilable.
In-Reply-To: 1
Message-ID: <apmdel+9ebq@eGroups.com>

For some reason when I use the charVocabulary option in the following 
grammar, I get code that CANNOT be compiled. When I remove it, I get 
compilable code. Is there something wrong in the grammar?

Any help would be greatly appreciated. Comments on the grammar are 
welcome.

---------------------------GRAMMAR FILE-------------------------------
header { package tom; }

class SimpleParser extends Parser;

template: (TEXT | TAG)+;

class SimpleLexer extends Lexer;
options {
    k=2;
    testLiterals=false;
    charVocabulary = '\3'..'\377' | '\u1000'..'\u1fff';
}

{
    public boolean isEndOfText() throws antlr.CharStreamException {
        char char1 = LA(1);
        if (char1 == '<') {
            char char2 = LA(2);
            if (char2 == '@') { // "<@"
                return true;
            } else if (char2 == '/') { // "</"
                //ignore any white space
                int i = forwardToNonWhiteSpace(3);

                if (
                    (LA(i++) == 'l') &&
                    (LA(i++) == 'o') &&
                    (LA(i++) == 'o') &&
                    (LA(i++) == 'p')
                   ) {
                   
                   //match whitespace.
                   i = forwardToNonWhiteSpace(i);

                   if (LA(i++) == '>') { // "</loop>"
                        return true;
                   } else {
                        return false;
                   }
               } else {
                    return false;
               }
            } else { // it began with '<' but doesn't have anything 
meaningful after that.
                return false;
            }
        } else if (char1 == EOF_CHAR) { //End-of-file reached, can't 
proceed further.
            return true;
        } else { //doesn't begin with '<', so it's a normal char, not 
a special one.
            return false;
        }
    }

    public int forwardToNonWhiteSpace(int i) throws 
antlr.CharStreamException {
        char c = LA(i);
        while ( (c==' ') || (c == '\t') || (c == '\n') ) {
            i++;
            c = LA(i);
        }
        return i;
    }
}

protected
WS : ( ' ' | '\t' | '\n' )* ;

TAG:     (options 
            {
                generateAmbigWarnings=false;
            }:
                "<@" 
                ( 
                    ("include") => INCLUDE { $setType(INCLUDE); } |
                    ("loop")    => LOOP { $setType(LOOP); } |
                    TEXT
                )
                '>'
        );

protected
INCLUDE: "include" ;

protected
LOOP: "loop" ;

protected
END_LOOP: "</" LOOP '>';

TEXT:   (END_LOOP) => END_LOOP { $setType(END_LOOP); } |
        (
        options 
            {
                generateAmbigWarnings=false;
            }:
            ( { !isEndOfText() }? . )* 
        );


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Tue Oct 29 09:07:00 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] generated code not compilable.
In-Reply-To: <apmdel+9ebq@eGroups.com>
Message-ID: <D68F6430-EB60-11D6-8B1C-0030653DE0D6@jguru.com>

What is the compilation error and where?

Terence

On Tuesday, October 29, 2002, at 08:36  AM, praveen_c wrote:

> For some reason when I use the charVocabulary option in the following
> grammar, I get code that CANNOT be compiled. When I remove it, I get
> compilable code. Is there something wrong in the grammar?
>
> Any help would be greatly appreciated. Comments on the grammar are
> welcome.
>
> ---------------------------GRAMMAR FILE-------------------------------
> header { package tom; }
>
> class SimpleParser extends Parser;
>
> template: (TEXT | TAG)+;
>
> class SimpleLexer extends Lexer;
> options {
>     k=2;
>     testLiterals=false;
>     charVocabulary = '\3'..'\377' | '\u1000'..'\u1fff';
> }
>
> {
>     public boolean isEndOfText() throws antlr.CharStreamException {
>         char char1 = LA(1);
>         if (char1 == '<') {
>             char char2 = LA(2);
>             if (char2 == '@') { // "<@"
>                 return true;
>             } else if (char2 == '/') { // "</"
>                 //ignore any white space
>                 int i = forwardToNonWhiteSpace(3);
>
>                 if (
>                     (LA(i++) == 'l') &&
>                     (LA(i++) == 'o') &&
>                     (LA(i++) == 'o') &&
>                     (LA(i++) == 'p')
>                    ) {
>
>                    //match whitespace.
>                    i = forwardToNonWhiteSpace(i);
>
>                    if (LA(i++) == '>') { // "</loop>"
>                         return true;
>                    } else {
>                         return false;
>                    }
>                } else {
>                     return false;
>                }
>             } else { // it began with '<' but doesn't have anything
> meaningful after that.
>                 return false;
>             }
>         } else if (char1 == EOF_CHAR) { //End-of-file reached, can't
> proceed further.
>             return true;
>         } else { //doesn't begin with '<', so it's a normal char, not
> a special one.
>             return false;
>         }
>     }
>
>     public int forwardToNonWhiteSpace(int i) throws
> antlr.CharStreamException {
>         char c = LA(i);
>         while ( (c==' ') || (c == '\t') || (c == '\n') ) {
>             i++;
>             c = LA(i);
>         }
>         return i;
>     }
> }
>
> protected
> WS : ( ' ' | '\t' | '\n' )* ;
>
> TAG:     (options
>             {
>                 generateAmbigWarnings=false;
>             }:
>                 "<@"
>                 (
>                     ("include") => INCLUDE { $setType(INCLUDE); } |
>                     ("loop")    => LOOP { $setType(LOOP); } |
>                     TEXT
>                 )
>                 '>'
>         );
>
> protected
> INCLUDE: "include" ;
>
> protected
> LOOP: "loop" ;
>
> protected
> END_LOOP: "</" LOOP '>';
>
> TEXT:   (END_LOOP) => END_LOOP { $setType(END_LOOP); } |
>         (
>         options
>             {
>                 generateAmbigWarnings=false;
>             }:
>             ( { !isEndOfText() }? . )*
>         );
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From praveen_c at yahoo.com  Tue Oct 29 09:55:14 2002
From: praveen_c at yahoo.com (praveen_c)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Re: generated code not compilable.
In-Reply-To: <D68F6430-EB60-11D6-8B1C-0030653DE0D6@jguru.com>
Message-ID: <apmi22+avcb@eGroups.com>

Here is the nextToken() method that's generated. I numbered each 
line. Line 14 is invalid, the word "true" must be surrounded by (). 
Also line 23 gets an illegal start of the expression. Let me know if 
you need more info. There are a couple more identical things.

1 public Token nextToken() throws TokenStreamException {
2	Token theRetToken=null;
3 tryAgain:
4	for (;;) {
5		Token _token = null;
6		int _ttype = Token.INVALID_TYPE;
7		resetText();
8		try {   // for char stream error handling
9			try {   // for lexical error handling
10				if ((LA(1)=='<') && (LA(2)=='@')) {
11					mTAG(true);
12					theRetToken=_returnToken;
13				}
14				else if true {
15					mTEXT(true);
16					theRetToken=_returnToken;
17				}
18				else {
19					if (LA(1)==EOF_CHAR) {uponEOF
(); _returnToken = makeToken(Token.EOF_TYPE);}
20				else {throw new 
NoViableAltForCharException((char)LA(1), getFilename(), getLine());}
21				}
22				
23				if ( _returnToken==null ) continue 
tryAgain; // found SKIP token
24				_ttype = _returnToken.getType();
25				_returnToken.setType(_ttype);
26				return _returnToken;
27			}
28			catch (RecognitionException e) {
29				throw new 
TokenStreamRecognitionException(e);
30			}
31		}
32		catch (CharStreamException cse) {
33			if ( cse instanceof CharStreamIOException ) {
34				throw new TokenStreamIOException
(((CharStreamIOException)cse).io);
35			}
36			else {
37				throw new TokenStreamException
(cse.getMessage());
38			}
39		}
40	}
41 }


--- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
> What is the compilation error and where?
> 
> Terence
> 
> On Tuesday, October 29, 2002, at 08:36  AM, praveen_c wrote:
> 
> > For some reason when I use the charVocabulary option in the 
following
> > grammar, I get code that CANNOT be compiled. When I remove it, I 
get
> > compilable code. Is there something wrong in the grammar?
> >
> > Any help would be greatly appreciated. Comments on the grammar are
> > welcome.
> >
> > ---------------------------GRAMMAR FILE---------------------------
----
> > header { package tom; }
> >
> > class SimpleParser extends Parser;
> >
> > template: (TEXT | TAG)+;
> >
> > class SimpleLexer extends Lexer;
> > options {
> >     k=2;
> >     testLiterals=false;
> >     charVocabulary = '\3'..'\377' | '\u1000'..'\u1fff';
> > }
> >
> > {
> >     public boolean isEndOfText() throws antlr.CharStreamException 
{
> >         char char1 = LA(1);
> >         if (char1 == '<') {
> >             char char2 = LA(2);
> >             if (char2 == '@') { // "<@"
> >                 return true;
> >             } else if (char2 == '/') { // "</"
> >                 //ignore any white space
> >                 int i = forwardToNonWhiteSpace(3);
> >
> >                 if (
> >                     (LA(i++) == 'l') &&
> >                     (LA(i++) == 'o') &&
> >                     (LA(i++) == 'o') &&
> >                     (LA(i++) == 'p')
> >                    ) {
> >
> >                    //match whitespace.
> >                    i = forwardToNonWhiteSpace(i);
> >
> >                    if (LA(i++) == '>') { // "</loop>"
> >                         return true;
> >                    } else {
> >                         return false;
> >                    }
> >                } else {
> >                     return false;
> >                }
> >             } else { // it began with '<' but doesn't have 
anything
> > meaningful after that.
> >                 return false;
> >             }
> >         } else if (char1 == EOF_CHAR) { //End-of-file reached, 
can't
> > proceed further.
> >             return true;
> >         } else { //doesn't begin with '<', so it's a normal char, 
not
> > a special one.
> >             return false;
> >         }
> >     }
> >
> >     public int forwardToNonWhiteSpace(int i) throws
> > antlr.CharStreamException {
> >         char c = LA(i);
> >         while ( (c==' ') || (c == '\t') || (c == '\n') ) {
> >             i++;
> >             c = LA(i);
> >         }
> >         return i;
> >     }
> > }
> >
> > protected
> > WS : ( ' ' | '\t' | '\n' )* ;
> >
> > TAG:     (options
> >             {
> >                 generateAmbigWarnings=false;
> >             }:
> >                 "<@"
> >                 (
> >                     ("include") => INCLUDE { $setType(INCLUDE); } 
|
> >                     ("loop")    => LOOP { $setType(LOOP); } |
> >                     TEXT
> >                 )
> >                 '>'
> >         );
> >
> > protected
> > INCLUDE: "include" ;
> >
> > protected
> > LOOP: "loop" ;
> >
> > protected
> > END_LOOP: "</" LOOP '>';
> >
> > TEXT:   (END_LOOP) => END_LOOP { $setType(END_LOOP); } |
> >         (
> >         options
> >             {
> >                 generateAmbigWarnings=false;
> >             }:
> >             ( { !isEndOfText() }? . )*
> >         );
> >
> >
> >
> >
> > Your use of Yahoo! Groups is subject to 
> > http://docs.yahoo.com/info/terms/
> >
> >
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Tue Oct 29 10:12:08 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Re: generated code not compilable.
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E71@memail03.bco-home.com>

You need a newer version of antlr.  I recommend downloading the latest.

Monty

> -----Original Message-----
> From: praveen_c [mailto:praveen_c@yahoo.com]
> Sent: Tuesday, October 29, 2002 9:55 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: generated code not compilable.
> 
> 
> Here is the nextToken() method that's generated. I numbered each 
> line. Line 14 is invalid, the word "true" must be surrounded by (). 
> Also line 23 gets an illegal start of the expression. Let me know if 
> you need more info. There are a couple more identical things.
> 
> 1 public Token nextToken() throws TokenStreamException {
> 2	Token theRetToken=null;
> 3 tryAgain:
> 4	for (;;) {
> 5		Token _token = null;
> 6		int _ttype = Token.INVALID_TYPE;
> 7		resetText();
> 8		try {   // for char stream error handling
> 9			try {   // for lexical error handling
> 10				if ((LA(1)=='<') && (LA(2)=='@')) {
> 11					mTAG(true);
> 12					theRetToken=_returnToken;
> 13				}
> 14				else if true {
> 15					mTEXT(true);
> 16					theRetToken=_returnToken;
> 17				}
> 18				else {
> 19					if (LA(1)==EOF_CHAR) {uponEOF
> (); _returnToken = makeToken(Token.EOF_TYPE);}
> 20				else {throw new 
> NoViableAltForCharException((char)LA(1), getFilename(), getLine());}
> 21				}
> 22				
> 23				if ( _returnToken==null ) continue 
> tryAgain; // found SKIP token
> 24				_ttype = _returnToken.getType();
> 25				_returnToken.setType(_ttype);
> 26				return _returnToken;
> 27			}
> 28			catch (RecognitionException e) {
> 29				throw new 
> TokenStreamRecognitionException(e);
> 30			}
> 31		}
> 32		catch (CharStreamException cse) {
> 33			if ( cse instanceof CharStreamIOException ) {
> 34				throw new TokenStreamIOException
> (((CharStreamIOException)cse).io);
> 35			}
> 36			else {
> 37				throw new TokenStreamException
> (cse.getMessage());
> 38			}
> 39		}
> 40	}
> 41 }
> 
> 
> --- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
> > What is the compilation error and where?
> > 
> > Terence
> > 
> > On Tuesday, October 29, 2002, at 08:36  AM, praveen_c wrote:
> > 
> > > For some reason when I use the charVocabulary option in the 
> following
> > > grammar, I get code that CANNOT be compiled. When I remove it, I 
> get
> > > compilable code. Is there something wrong in the grammar?
> > >
> > > Any help would be greatly appreciated. Comments on the grammar are
> > > welcome.
> > >
> > > ---------------------------GRAMMAR FILE---------------------------
> ----
> > > header { package tom; }
> > >
> > > class SimpleParser extends Parser;
> > >
> > > template: (TEXT | TAG)+;
> > >
> > > class SimpleLexer extends Lexer;
> > > options {
> > >     k=2;
> > >     testLiterals=false;
> > >     charVocabulary = '\3'..'\377' | '\u1000'..'\u1fff';
> > > }
> > >
> > > {
> > >     public boolean isEndOfText() throws antlr.CharStreamException 
> {
> > >         char char1 = LA(1);
> > >         if (char1 == '<') {
> > >             char char2 = LA(2);
> > >             if (char2 == '@') { // "<@"
> > >                 return true;
> > >             } else if (char2 == '/') { // "</"
> > >                 //ignore any white space
> > >                 int i = forwardToNonWhiteSpace(3);
> > >
> > >                 if (
> > >                     (LA(i++) == 'l') &&
> > >                     (LA(i++) == 'o') &&
> > >                     (LA(i++) == 'o') &&
> > >                     (LA(i++) == 'p')
> > >                    ) {
> > >
> > >                    //match whitespace.
> > >                    i = forwardToNonWhiteSpace(i);
> > >
> > >                    if (LA(i++) == '>') { // "</loop>"
> > >                         return true;
> > >                    } else {
> > >                         return false;
> > >                    }
> > >                } else {
> > >                     return false;
> > >                }
> > >             } else { // it began with '<' but doesn't have 
> anything
> > > meaningful after that.
> > >                 return false;
> > >             }
> > >         } else if (char1 == EOF_CHAR) { //End-of-file reached, 
> can't
> > > proceed further.
> > >             return true;
> > >         } else { //doesn't begin with '<', so it's a normal char, 
> not
> > > a special one.
> > >             return false;
> > >         }
> > >     }
> > >
> > >     public int forwardToNonWhiteSpace(int i) throws
> > > antlr.CharStreamException {
> > >         char c = LA(i);
> > >         while ( (c==' ') || (c == '\t') || (c == '\n') ) {
> > >             i++;
> > >             c = LA(i);
> > >         }
> > >         return i;
> > >     }
> > > }
> > >
> > > protected
> > > WS : ( ' ' | '\t' | '\n' )* ;
> > >
> > > TAG:     (options
> > >             {
> > >                 generateAmbigWarnings=false;
> > >             }:
> > >                 "<@"
> > >                 (
> > >                     ("include") => INCLUDE { $setType(INCLUDE); } 
> |
> > >                     ("loop")    => LOOP { $setType(LOOP); } |
> > >                     TEXT
> > >                 )
> > >                 '>'
> > >         );
> > >
> > > protected
> > > INCLUDE: "include" ;
> > >
> > > protected
> > > LOOP: "loop" ;
> > >
> > > protected
> > > END_LOOP: "</" LOOP '>';
> > >
> > > TEXT:   (END_LOOP) => END_LOOP { $setType(END_LOOP); } |
> > >         (
> > >         options
> > >             {
> > >                 generateAmbigWarnings=false;
> > >             }:
> > >             ( { !isEndOfText() }? . )*
> > >         );
> > >
> > >
> > >
> > >
> > > Your use of Yahoo! Groups is subject to 
> > > http://docs.yahoo.com/info/terms/
> > >
> > >
> > --
> > Co-founder, http://www.jguru.com
> > Creator, ANTLR Parser Generator: http://www.antlr.org
> > Lecturer in Comp. Sci., University of San Francisco
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Tue Oct 29 10:17:12 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Re: generated code not compilable.
In-Reply-To: <apmi22+avcb@eGroups.com>
Message-ID: <A56B1DF0-EB6A-11D6-8B1C-0030653DE0D6@jguru.com>

Oh.  That's an easy one.  Use latest download; 2.7.2 fixes that problem.

Ter

On Tuesday, October 29, 2002, at 09:55  AM, praveen_c wrote:

> Here is the nextToken() method that's generated. I numbered each
> line. Line 14 is invalid, the word "true" must be surrounded by ().
> Also line 23 gets an illegal start of the expression. Let me know if
> you need more info. There are a couple more identical things.
>
> 1 public Token nextToken() throws TokenStreamException {
> 2	Token theRetToken=null;
> 3 tryAgain:
> 4	for (;;) {
> 5		Token _token = null;
> 6		int _ttype = Token.INVALID_TYPE;
> 7		resetText();
> 8		try {   // for char stream error handling
> 9			try {   // for lexical error handling
> 10				if ((LA(1)=='<') && (LA(2)=='@')) {
> 11					mTAG(true);
> 12					theRetToken=_returnToken;
> 13				}
> 14				else if true {
> 15					mTEXT(true);
> 16					theRetToken=_returnToken;
> 17				}
> 18				else {
> 19					if (LA(1)==EOF_CHAR) {uponEOF
> (); _returnToken = makeToken(Token.EOF_TYPE);}
> 20				else {throw new
> NoViableAltForCharException((char)LA(1), getFilename(), getLine());}
> 21				}
> 22				
> 23				if ( _returnToken==null ) continue
> tryAgain; // found SKIP token
> 24				_ttype = _returnToken.getType();
> 25				_returnToken.setType(_ttype);
> 26				return _returnToken;
> 27			}
> 28			catch (RecognitionException e) {
> 29				throw new
> TokenStreamRecognitionException(e);
> 30			}
> 31		}
> 32		catch (CharStreamException cse) {
> 33			if ( cse instanceof CharStreamIOException ) {
> 34				throw new TokenStreamIOException
> (((CharStreamIOException)cse).io);
> 35			}
> 36			else {
> 37				throw new TokenStreamException
> (cse.getMessage());
> 38			}
> 39		}
> 40	}
> 41 }
>
>
> --- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
>> What is the compilation error and where?
>>
>> Terence
>>
>> On Tuesday, October 29, 2002, at 08:36  AM, praveen_c wrote:
>>
>>> For some reason when I use the charVocabulary option in the
> following
>>> grammar, I get code that CANNOT be compiled. When I remove it, I
> get
>>> compilable code. Is there something wrong in the grammar?
>>>
>>> Any help would be greatly appreciated. Comments on the grammar are
>>> welcome.
>>>
>>> ---------------------------GRAMMAR FILE---------------------------
> ----
>>> header { package tom; }
>>>
>>> class SimpleParser extends Parser;
>>>
>>> template: (TEXT | TAG)+;
>>>
>>> class SimpleLexer extends Lexer;
>>> options {
>>>     k=2;
>>>     testLiterals=false;
>>>     charVocabulary = '\3'..'\377' | '\u1000'..'\u1fff';
>>> }
>>>
>>> {
>>>     public boolean isEndOfText() throws antlr.CharStreamException
> {
>>>         char char1 = LA(1);
>>>         if (char1 == '<') {
>>>             char char2 = LA(2);
>>>             if (char2 == '@') { // "<@"
>>>                 return true;
>>>             } else if (char2 == '/') { // "</"
>>>                 //ignore any white space
>>>                 int i = forwardToNonWhiteSpace(3);
>>>
>>>                 if (
>>>                     (LA(i++) == 'l') &&
>>>                     (LA(i++) == 'o') &&
>>>                     (LA(i++) == 'o') &&
>>>                     (LA(i++) == 'p')
>>>                    ) {
>>>
>>>                    //match whitespace.
>>>                    i = forwardToNonWhiteSpace(i);
>>>
>>>                    if (LA(i++) == '>') { // "</loop>"
>>>                         return true;
>>>                    } else {
>>>                         return false;
>>>                    }
>>>                } else {
>>>                     return false;
>>>                }
>>>             } else { // it began with '<' but doesn't have
> anything
>>> meaningful after that.
>>>                 return false;
>>>             }
>>>         } else if (char1 == EOF_CHAR) { //End-of-file reached,
> can't
>>> proceed further.
>>>             return true;
>>>         } else { //doesn't begin with '<', so it's a normal char,
> not
>>> a special one.
>>>             return false;
>>>         }
>>>     }
>>>
>>>     public int forwardToNonWhiteSpace(int i) throws
>>> antlr.CharStreamException {
>>>         char c = LA(i);
>>>         while ( (c==' ') || (c == '\t') || (c == '\n') ) {
>>>             i++;
>>>             c = LA(i);
>>>         }
>>>         return i;
>>>     }
>>> }
>>>
>>> protected
>>> WS : ( ' ' | '\t' | '\n' )* ;
>>>
>>> TAG:     (options
>>>             {
>>>                 generateAmbigWarnings=false;
>>>             }:
>>>                 "<@"
>>>                 (
>>>                     ("include") => INCLUDE { $setType(INCLUDE); }
> |
>>>                     ("loop")    => LOOP { $setType(LOOP); } |
>>>                     TEXT
>>>                 )
>>>                 '>'
>>>         );
>>>
>>> protected
>>> INCLUDE: "include" ;
>>>
>>> protected
>>> LOOP: "loop" ;
>>>
>>> protected
>>> END_LOOP: "</" LOOP '>';
>>>
>>> TEXT:   (END_LOOP) => END_LOOP { $setType(END_LOOP); } |
>>>         (
>>>         options
>>>             {
>>>                 generateAmbigWarnings=false;
>>>             }:
>>>             ( { !isEndOfText() }? . )*
>>>         );
>>>
>>>
>>>
>>>
>>> Your use of Yahoo! Groups is subject to
>>> http://docs.yahoo.com/info/terms/
>>>
>>>
>> --
>> Co-founder, http://www.jguru.com
>> Creator, ANTLR Parser Generator: http://www.antlr.org
>> Lecturer in Comp. Sci., University of San Francisco
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From lgc at mail1.jpl.nasa.gov  Tue Oct 29 17:25:33 2002
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Re: RTF spec/grammar in (E)BNF
In-Reply-To: <2B41B9A4-EB5C-11D6-8B1C-0030653DE0D6@jguru.com>
Message-ID: <apnced+96k9@eGroups.com>

My grammar is pretty ancient (vsn 1.3 of the spec--the current vsn is 
1.6) and it took heavy advantage of the RTF backwards compatibility 
design policy "if you don't recognize it, ignore it".  I didn't need 
to parse headers so I ignored them; I just needed to recognize 
critical parts of the document.

If you look at the Microsoft RTF spec at 
http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnrtf
spec/html/rtfspec.asp, you will find that there is a complete EBNF 
spec in the document.  To get at it, you will have to download each 
section separately (or so it appears).  (I got the earlier version in 
doc format before they put it in HTML and made it impossible to 
download all at once).

One useful trick:  I wrote a simple language to build a table of RTF 
commands which associated a processing type with each command.  That 
helped considerably to reduce the size of the lexer and parser 
grammars.

--Loring


--- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
> 
> On Monday, October 28, 2002, at 09:05  PM, Spenser Kao wrote:
> 
> > Hi,
> >
> > ?
> >
> > I wonder if there is a showcase of implementing a RTF (Rich Text 
> > Format) reader in ANTLR.
> >
> > The core part of the job is to express RTF spec/grammar in (E)BNF, 
has 
> > any one done that before?
> 
> Loring at NASA may be able to release his old PCCTS RTF grammar.  
> Loring?
> 
> Ter
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From praveen_c at yahoo.com  Tue Oct 29 18:14:27 2002
From: praveen_c at yahoo.com (praveen_c)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Re: generated code not compilable.
In-Reply-To: <170826586F3BD511910D0200C110AAA8032B4E71@memail03.bco-home.com>
Message-ID: <apnfa3+iqa6@eGroups.com>

Awesome!!! I love you guys for the prompt response. Thanks Ter and 
Monty.

I'm glad that it was an easy one.

-Praveen.

--- In antlr-interest@y..., mzukowski@y... wrote:
> You need a newer version of antlr.  I recommend downloading the 
latest.
> 
> Monty
> 
> > -----Original Message-----
> > From: praveen_c [mailto:praveen_c@y...]
> > Sent: Tuesday, October 29, 2002 9:55 AM
> > To: antlr-interest@y...
> > Subject: [antlr-interest] Re: generated code not compilable.
> > 
> > 
> > Here is the nextToken() method that's generated. I numbered each 
> > line. Line 14 is invalid, the word "true" must be surrounded by 
(). 
> > Also line 23 gets an illegal start of the expression. Let me know 
if 
> > you need more info. There are a couple more identical things.
> > 
> > 1 public Token nextToken() throws TokenStreamException {
> > 2	Token theRetToken=null;
> > 3 tryAgain:
> > 4	for (;;) {
> > 5		Token _token = null;
> > 6		int _ttype = Token.INVALID_TYPE;
> > 7		resetText();
> > 8		try {   // for char stream error handling
> > 9			try {   // for lexical error handling
> > 10				if ((LA(1)=='<') && (LA(2)=='@')) {
> > 11					mTAG(true);
> > 12					theRetToken=_returnToken;
> > 13				}
> > 14				else if true {
> > 15					mTEXT(true);
> > 16					theRetToken=_returnToken;
> > 17				}
> > 18				else {
> > 19					if (LA(1)==EOF_CHAR) {uponEOF
> > (); _returnToken = makeToken(Token.EOF_TYPE);}
> > 20				else {throw new 
> > NoViableAltForCharException((char)LA(1), getFilename(), getLine
());}
> > 21				}
> > 22				
> > 23				if ( _returnToken==null ) continue 
> > tryAgain; // found SKIP token
> > 24				_ttype = _returnToken.getType();
> > 25				_returnToken.setType(_ttype);
> > 26				return _returnToken;
> > 27			}
> > 28			catch (RecognitionException e) {
> > 29				throw new 
> > TokenStreamRecognitionException(e);
> > 30			}
> > 31		}
> > 32		catch (CharStreamException cse) {
> > 33			if ( cse instanceof CharStreamIOException ) {
> > 34				throw new TokenStreamIOException
> > (((CharStreamIOException)cse).io);
> > 35			}
> > 36			else {
> > 37				throw new TokenStreamException
> > (cse.getMessage());
> > 38			}
> > 39		}
> > 40	}
> > 41 }
> > 
> > 
> > --- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
> > > What is the compilation error and where?
> > > 
> > > Terence
> > > 
> > > On Tuesday, October 29, 2002, at 08:36  AM, praveen_c wrote:
> > > 
> > > > For some reason when I use the charVocabulary option in the 
> > following
> > > > grammar, I get code that CANNOT be compiled. When I remove 
it, I 
> > get
> > > > compilable code. Is there something wrong in the grammar?
> > > >
> > > > Any help would be greatly appreciated. Comments on the 
grammar are
> > > > welcome.
> > > >
> > > > ---------------------------GRAMMAR FILE-----------------------
----
> > ----
> > > > header { package tom; }
> > > >
> > > > class SimpleParser extends Parser;
> > > >
> > > > template: (TEXT | TAG)+;
> > > >
> > > > class SimpleLexer extends Lexer;
> > > > options {
> > > >     k=2;
> > > >     testLiterals=false;
> > > >     charVocabulary = '\3'..'\377' | '\u1000'..'\u1fff';
> > > > }
> > > >
> > > > {
> > > >     public boolean isEndOfText() throws 
antlr.CharStreamException 
> > {
> > > >         char char1 = LA(1);
> > > >         if (char1 == '<') {
> > > >             char char2 = LA(2);
> > > >             if (char2 == '@') { // "<@"
> > > >                 return true;
> > > >             } else if (char2 == '/') { // "</"
> > > >                 //ignore any white space
> > > >                 int i = forwardToNonWhiteSpace(3);
> > > >
> > > >                 if (
> > > >                     (LA(i++) == 'l') &&
> > > >                     (LA(i++) == 'o') &&
> > > >                     (LA(i++) == 'o') &&
> > > >                     (LA(i++) == 'p')
> > > >                    ) {
> > > >
> > > >                    //match whitespace.
> > > >                    i = forwardToNonWhiteSpace(i);
> > > >
> > > >                    if (LA(i++) == '>') { // "</loop>"
> > > >                         return true;
> > > >                    } else {
> > > >                         return false;
> > > >                    }
> > > >                } else {
> > > >                     return false;
> > > >                }
> > > >             } else { // it began with '<' but doesn't have 
> > anything
> > > > meaningful after that.
> > > >                 return false;
> > > >             }
> > > >         } else if (char1 == EOF_CHAR) { //End-of-file 
reached, 
> > can't
> > > > proceed further.
> > > >             return true;
> > > >         } else { //doesn't begin with '<', so it's a normal 
char, 
> > not
> > > > a special one.
> > > >             return false;
> > > >         }
> > > >     }
> > > >
> > > >     public int forwardToNonWhiteSpace(int i) throws
> > > > antlr.CharStreamException {
> > > >         char c = LA(i);
> > > >         while ( (c==' ') || (c == '\t') || (c == '\n') ) {
> > > >             i++;
> > > >             c = LA(i);
> > > >         }
> > > >         return i;
> > > >     }
> > > > }
> > > >
> > > > protected
> > > > WS : ( ' ' | '\t' | '\n' )* ;
> > > >
> > > > TAG:     (options
> > > >             {
> > > >                 generateAmbigWarnings=false;
> > > >             }:
> > > >                 "<@"
> > > >                 (
> > > >                     ("include") => INCLUDE { $setType
(INCLUDE); } 
> > |
> > > >                     ("loop")    => LOOP { $setType(LOOP); } |
> > > >                     TEXT
> > > >                 )
> > > >                 '>'
> > > >         );
> > > >
> > > > protected
> > > > INCLUDE: "include" ;
> > > >
> > > > protected
> > > > LOOP: "loop" ;
> > > >
> > > > protected
> > > > END_LOOP: "</" LOOP '>';
> > > >
> > > > TEXT:   (END_LOOP) => END_LOOP { $setType(END_LOOP); } |
> > > >         (
> > > >         options
> > > >             {
> > > >                 generateAmbigWarnings=false;
> > > >             }:
> > > >             ( { !isEndOfText() }? . )*
> > > >         );
> > > >
> > > >
> > > >
> > > >
> > > > Your use of Yahoo! Groups is subject to 
> > > > http://docs.yahoo.com/info/terms/
> > > >
> > > >
> > > --
> > > Co-founder, http://www.jguru.com
> > > Creator, ANTLR Parser Generator: http://www.antlr.org
> > > Lecturer in Comp. Sci., University of San Francisco
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to 
> > http://docs.yahoo.com/info/terms/ 
> > 
> >


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From spenserkao at optushome.com.au  Tue Oct 29 23:51:15 2002
From: spenserkao at optushome.com.au (spenserkao)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Re: RTF spec/grammar in (E)BNF
In-Reply-To: <apnced+96k9@eGroups.com>
Message-ID: <apo31j+mu41@eGroups.com>

Hi Terence and Loring,

Thanks for hints.

Spenser
--- In antlr-interest@y..., "lgcraymer" <lgc@m...> wrote:
> My grammar is pretty ancient (vsn 1.3 of the spec--the current vsn 
is 
> 1.6) and it took heavy advantage of the RTF backwards 
compatibility 
> design policy "if you don't recognize it, ignore it".  I didn't 
need 
> to parse headers so I ignored them; I just needed to recognize 
> critical parts of the document.
> 
> If you look at the Microsoft RTF spec at 
> http://msdn.microsoft.com/library/default.asp?url=/library/en-
us/dnrtf
> spec/html/rtfspec.asp, you will find that there is a complete EBNF 
> spec in the document.  To get at it, you will have to download 
each 
> section separately (or so it appears).  (I got the earlier version 
in 
> doc format before they put it in HTML and made it impossible to 
> download all at once).
> 
> One useful trick:  I wrote a simple language to build a table of 
RTF 
> commands which associated a processing type with each command.  
That 
> helped considerably to reduce the size of the lexer and parser 
> grammars.
> 
> --Loring
> 
> 
> --- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
> > 
> > On Monday, October 28, 2002, at 09:05  PM, Spenser Kao wrote:
> > 
> > > Hi,
> > >
> > > ?
> > >
> > > I wonder if there is a showcase of implementing a RTF (Rich 
Text 
> > > Format) reader in ANTLR.
> > >
> > > The core part of the job is to express RTF spec/grammar in (E)
BNF, 
> has 
> > > any one done that before?
> > 
> > Loring at NASA may be able to release his old PCCTS RTF 
grammar.  
> > Loring?
> > 
> > Ter
> > --
> > Co-founder, http://www.jguru.com
> > Creator, ANTLR Parser Generator: http://www.antlr.org
> > Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From jose.sanleandro at m-centric.com  Wed Oct 30 00:48:25 2002
From: jose.sanleandro at m-centric.com (Jose San Leandro =?ISO-8859-1?Q?Armend=E1riz?=)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Writing XML grammars from a DTD
In-Reply-To: <A56B1DF0-EB6A-11D6-8B1C-0030653DE0D6@jguru.com>
References: <A56B1DF0-EB6A-11D6-8B1C-0030653DE0D6@jguru.com>
Message-ID: <1035967705.10440.121.camel@jsl.m02-dom01.m-centric.com>

Hi,

Is there any development focused on translating a given DTD to an ANTLR
grammar?
Generating a lexer from a DTD shouldn't be so difficult, right?

I'm interested in comparing the performance of a simple XML ANTLR-based
parser against a SAX implementation.

Thank you.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From amejdi at ertonline.gr  Wed Oct 30 06:30:05 2002
From: amejdi at ertonline.gr (Anakreon Mejdi)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Dead End
Message-ID: <3DBFECED.1080701@ertonline.gr>

I am facing a difficulty with a parser I am writing and need some help.
The program should parse ASP which has html tags and code written in 
JavaScript or VBScript.
I have written an Html Lexer ,an JavaScript Lexer and a Vbs Lexer.
The three Lexers a multiplexed via a TokenStreamSelector called 
AspStreamSelector.
The selector will add few Tokens and consume others in order to make
parsing simpler.

The Dead end is this:
An asp page I attempt to parse includes an other file which has
code written in JavaScript.
The JavaScript Parser fails to parse the file but when the same code is
fed to the Parser when the JavaScript Parser is working alone(not with 
the Vb Parser) it parses the code.

   I checked if the JavaScript parser receives the same tokens when is 
working alone and when is cooperating with the Vb Parser.
The only difference was that the tokens (when in asp) had a line number 
grater by one.

However the type and text of the Tokens are the same and delivered
to the Parser in the same sequence.

For two days now I couldn't find a solution to this problem
and can not understand what causes it.

I hope someone can help.

The mail has as attachment the files of the project.

Among the files there is build.xml which will compile the project
if you have ant.

In the src directory there are Main.java,Main2.java,Main3.java
Main.java will parse a plain Vb Script
Example java Main <aVbsFile > out.txt will print in file out.txt the AST
java Main anything<aVbsFile > out.txt will print in file out.tx the 
token stream.
Main3 works in the same way only that takes as input JavaScript Code.

Main2 parser an ASP page (Vbs,JS,Html mixed)
java Main2 pathToAnASP directoryWhereTheFileIs > out.txt will print the 
AST
java Main2 pathToAnASP directoryWhereTheFileIs anything> out.txt will 
print the Stream of Token

In the tests directory I have an asp file which can be used as an example.


Thanks for any help.
Anakreon





 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: asp_parser.tgz
Type: application/x-compressed
Size: 46093 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20021030/3647ae14/asp_parser.bin
From gudnabrsam at yahoo.com  Wed Oct 30 09:58:13 2002
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] generated code not compilable - with parameters.
In-Reply-To: <app6bt+dsqp@eGroups.com>
Message-ID: <20021030175813.80981.qmail@web20415.mail.yahoo.com>

I have no idea what the problem is, being a novice,
but I thought I would point out that you are referring
to ANTLR, not Ant.

-Matt

--- praveen_c <praveen_c@yahoo.com> wrote:
> I got ANT 2.7.2 and got rid of the previous problem.
> Thanks guys.
> 
> Looks like I'm onto the next one. I pasted the rule
> and code fragment 
> at the end of this message. Line 15 of the generated
> code should have 
> an additional boolean parameter. How do I tell ant
> to generate an 
> additional param?? I don't think I've control on
> that.
> 
> Please help.
> 
> Thanks,
> Praveen.
> 
>
------------------------GRAMMAR-----------------------
> TEXT [boolean stopAtEndingAngleBracket]:  
> (END_LOOP) => END_LOOP { 
> $setType(END_LOOP); } |
>         (
>         options 
>             {
>                 generateAmbigWarnings=false;
>             }:
>             ( {
> !isEndOfText(stopAtEndingAngleBracket) }? . )* 
>         );
> ------------------------END
> GRAMMAR-----------------------
> 
> ------------------------GENERATED
> CODE--------------------
> 1 public Token nextToken() throws
> TokenStreamException {
> 2 	Token theRetToken=null;
> 3 tryAgain:
> 4	for (;;) {
> 5		Token _token = null;
> 6		int _ttype = Token.INVALID_TYPE;
> 7		resetText();
> 8		try {   // for char stream error handling
> 9			try {   // for lexical error handling
> 10				if ((LA(1)=='<') && (LA(2)=='@')) {
> 11					mTAG(true);
> 12					theRetToken=_returnToken;
> 13				}
> 14				else {
> 15					mTEXT(true);
> 16					theRetToken=_returnToken;
> 17				}
>
-------------------------------------------------------------
> 
> 				
> 
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
HotJobs - Search new jobs daily now
http://hotjobs.yahoo.com/

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Wed Oct 30 10:09:09 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Dead End
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E82@memail03.bco-home.com>

It sounds like you're not synchronized or something.  What is the exact
error?  Did you study the multiplexer examples?

Monty

> -----Original Message-----
> From: Anakreon Mejdi [mailto:amejdi@ertonline.gr]
> Sent: Wednesday, October 30, 2002 6:30 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Dead End
> 
> 
> I am facing a difficulty with a parser I am writing and need 
> some help.
> The program should parse ASP which has html tags and code written in 
> JavaScript or VBScript.
> I have written an Html Lexer ,an JavaScript Lexer and a Vbs Lexer.
> The three Lexers a multiplexed via a TokenStreamSelector called 
> AspStreamSelector.
> The selector will add few Tokens and consume others in order to make
> parsing simpler.
> 
> The Dead end is this:
> An asp page I attempt to parse includes an other file which has
> code written in JavaScript.
> The JavaScript Parser fails to parse the file but when the 
> same code is
> fed to the Parser when the JavaScript Parser is working 
> alone(not with 
> the Vb Parser) it parses the code.
> 
>    I checked if the JavaScript parser receives the same 
> tokens when is 
> working alone and when is cooperating with the Vb Parser.
> The only difference was that the tokens (when in asp) had a 
> line number 
> grater by one.
> 
> However the type and text of the Tokens are the same and delivered
> to the Parser in the same sequence.
> 
> For two days now I couldn't find a solution to this problem
> and can not understand what causes it.
> 
> I hope someone can help.
> 
> The mail has as attachment the files of the project.
> 
> Among the files there is build.xml which will compile the project
> if you have ant.
> 
> In the src directory there are Main.java,Main2.java,Main3.java
> Main.java will parse a plain Vb Script
> Example java Main <aVbsFile > out.txt will print in file 
> out.txt the AST
> java Main anything<aVbsFile > out.txt will print in file out.tx the 
> token stream.
> Main3 works in the same way only that takes as input JavaScript Code.
> 
> Main2 parser an ASP page (Vbs,JS,Html mixed)
> java Main2 pathToAnASP directoryWhereTheFileIs > out.txt will 
> print the 
> AST
> java Main2 pathToAnASP directoryWhereTheFileIs anything> out.txt will 
> print the Stream of Token
> 
> In the tests directory I have an asp file which can be used 
> as an example.
> 
> 
> Thanks for any help.
> Anakreon
> 
> 
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From praveen_c at yahoo.com  Wed Oct 30 09:54:05 2002
From: praveen_c at yahoo.com (praveen_c)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] generated code not compilable - with parameters.
Message-ID: <app6bt+dsqp@eGroups.com>

I got ANT 2.7.2 and got rid of the previous problem. Thanks guys.

Looks like I'm onto the next one. I pasted the rule and code fragment 
at the end of this message. Line 15 of the generated code should have 
an additional boolean parameter. How do I tell ant to generate an 
additional param?? I don't think I've control on that.

Please help.

Thanks,
Praveen.

------------------------GRAMMAR-----------------------
TEXT [boolean stopAtEndingAngleBracket]:   (END_LOOP) => END_LOOP { 
$setType(END_LOOP); } |
        (
        options 
            {
                generateAmbigWarnings=false;
            }:
            ( { !isEndOfText(stopAtEndingAngleBracket) }? . )* 
        );
------------------------END GRAMMAR-----------------------

------------------------GENERATED CODE--------------------
1 public Token nextToken() throws TokenStreamException {
2 	Token theRetToken=null;
3 tryAgain:
4	for (;;) {
5		Token _token = null;
6		int _ttype = Token.INVALID_TYPE;
7		resetText();
8		try {   // for char stream error handling
9			try {   // for lexical error handling
10				if ((LA(1)=='<') && (LA(2)=='@')) {
11					mTAG(true);
12					theRetToken=_returnToken;
13				}
14				else {
15					mTEXT(true);
16					theRetToken=_returnToken;
17				}
-------------------------------------------------------------

				




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Wed Oct 30 10:29:05 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] generated code not compilable - with paramet
	ers.
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E84@memail03.bco-home.com>

Where is that param coming from?  nextToken() doesn't know anything about
it.  It doesn't make sense to have a parameter passed in to a non-protected
rule in the lexer.  Why don't you use an instance variable?

Monty

> -----Original Message-----
> From: praveen_c [mailto:praveen_c@yahoo.com]
> Sent: Wednesday, October 30, 2002 9:54 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] generated code not compilable - with
> parameters.
> 
> 
> I got ANT 2.7.2 and got rid of the previous problem. Thanks guys.
> 
> Looks like I'm onto the next one. I pasted the rule and code fragment 
> at the end of this message. Line 15 of the generated code should have 
> an additional boolean parameter. How do I tell ant to generate an 
> additional param?? I don't think I've control on that.
> 
> Please help.
> 
> Thanks,
> Praveen.
> 
> ------------------------GRAMMAR-----------------------
> TEXT [boolean stopAtEndingAngleBracket]:   (END_LOOP) => END_LOOP { 
> $setType(END_LOOP); } |
>         (
>         options 
>             {
>                 generateAmbigWarnings=false;
>             }:
>             ( { !isEndOfText(stopAtEndingAngleBracket) }? . )* 
>         );
> ------------------------END GRAMMAR-----------------------
> 
> ------------------------GENERATED CODE--------------------
> 1 public Token nextToken() throws TokenStreamException {
> 2 	Token theRetToken=null;
> 3 tryAgain:
> 4	for (;;) {
> 5		Token _token = null;
> 6		int _ttype = Token.INVALID_TYPE;
> 7		resetText();
> 8		try {   // for char stream error handling
> 9			try {   // for lexical error handling
> 10				if ((LA(1)=='<') && (LA(2)=='@')) {
> 11					mTAG(true);
> 12					theRetToken=_returnToken;
> 13				}
> 14				else {
> 15					mTEXT(true);
> 16					theRetToken=_returnToken;
> 17				}
> -------------------------------------------------------------
> 
> 				
> 
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From amejdi at ertonline.gr  Wed Oct 30 10:41:35 2002
From: amejdi at ertonline.gr (Anakreon Mejdi)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Dead End
References: <170826586F3BD511910D0200C110AAA8032B4E82@memail03.bco-home.com>
Message-ID: <3DC027DF.7090103@ertonline.gr>

No ,I didn't , but I will.
However it shouldn't be the case because I checked if the correct Tokens 
are sent to the Parser, and they are.
In the JavaScript file there is a singe statement.

1 <script language="javascript" runat="server">
2 if(condition) {
3    Response.write("...");
4    Response.redirect("...");
5 }		
6</script>

Line 1 is consumed by the TokenStreamSelector
Line 2 .. 5 are the proper Tokens
line 6 is delivered as a EOF Token.

The error is (aproximatly):Unexpected Token null at line 6
It says null because the selector has set the "</script>" token's text 
to null and type to EOF.
If instead i have:
1 <script language="javascript" runat="server">
2 var id;
3 id++;
4 </script>

everything is fine.
It behaves like the rule for if required an else.
However that rule behaves well when the Js Parser is alone and lines 2 
to 5 are given as input.

Anakreon

mzukowski@yci.com wrote:

> It sounds like you're not synchronized or something.  What is the exact
> error?  Did you study the multiplexer examples?
> 
> Monty
> 
> 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From praveen_c at yahoo.com  Wed Oct 30 11:59:00 2002
From: praveen_c at yahoo.com (praveen_c)
Date: Mon Dec 20 16:15:06 2004
Subject: [antlr-interest] Re: generated code not compilable - with paramet ers.
In-Reply-To: <170826586F3BD511910D0200C110AAA8032B4E84@memail03.bco-home.com>
Message-ID: <appdm4+ejc0@eGroups.com>

This rule( TEXT ) is referred in some other rule with a slightly 
different twist ( which is why I had the boolean in the first 
place ). I wanted to reuse the same rule without having to code 
another one again.

I could use an instance variable, but I wanted to stay away from it 
because then I will have to make sure that I set/reset the instance 
variables at various points. I can see it getting a bit complex.

I'll go with copying the rule into the place where I was referring to 
this one. If you guys can think of other alternatives please let me 
know.

Thanks,
Praveen.

--- In antlr-interest@y..., mzukowski@y... wrote:
> Where is that param coming from?  nextToken() doesn't know anything 
about
> it.  It doesn't make sense to have a parameter passed in to a non-
protected
> rule in the lexer.  Why don't you use an instance variable?
> 
> Monty
> 
> > -----Original Message-----
> > From: praveen_c [mailto:praveen_c@y...]
> > Sent: Wednesday, October 30, 2002 9:54 AM
> > To: antlr-interest@y...
> > Subject: [antlr-interest] generated code not compilable - with
> > parameters.
> > 
> > 
> > I got ANT 2.7.2 and got rid of the previous problem. Thanks guys.
> > 
> > Looks like I'm onto the next one. I pasted the rule and code 
fragment 
> > at the end of this message. Line 15 of the generated code should 
have 
> > an additional boolean parameter. How do I tell ant to generate an 
> > additional param?? I don't think I've control on that.
> > 
> > Please help.
> > 
> > Thanks,
> > Praveen.
> > 
> > ------------------------GRAMMAR-----------------------
> > TEXT [boolean stopAtEndingAngleBracket]:   (END_LOOP) => END_LOOP 
{ 
> > $setType(END_LOOP); } |
> >         (
> >         options 
> >             {
> >                 generateAmbigWarnings=false;
> >             }:
> >             ( { !isEndOfText(stopAtEndingAngleBracket) }? . )* 
> >         );
> > ------------------------END GRAMMAR-----------------------
> > 
> > ------------------------GENERATED CODE--------------------
> > 1 public Token nextToken() throws TokenStreamException {
> > 2 	Token theRetToken=null;
> > 3 tryAgain:
> > 4	for (;;) {
> > 5		Token _token = null;
> > 6		int _ttype = Token.INVALID_TYPE;
> > 7		resetText();
> > 8		try {   // for char stream error handling
> > 9			try {   // for lexical error handling
> > 10				if ((LA(1)=='<') && (LA(2)=='@')) {
> > 11					mTAG(true);
> > 12					theRetToken=_returnToken;
> > 13				}
> > 14				else {
> > 15					mTEXT(true);
> > 16					theRetToken=_returnToken;
> > 17				}
> > -------------------------------------------------------------
> > 
> > 				
> > 
> > 
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at yci.com  Wed Oct 30 12:31:31 2002
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:07 2004
Subject: [antlr-interest] Re: generated code not compilable - with par
	amet ers.
Message-ID: <170826586F3BD511910D0200C110AAA8032B4E88@memail03.bco-home.com>

or make a top level rule that calls a protected TEXT with the correct value,
e.g.

TOP_TEXT: TEXT(false);

Monty

> -----Original Message-----
> From: praveen_c [mailto:praveen_c@yahoo.com]
> Sent: Wednesday, October 30, 2002 11:59 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: generated code not compilable - with
> paramet ers.
> 
> 
> This rule( TEXT ) is referred in some other rule with a slightly 
> different twist ( which is why I had the boolean in the first 
> place ). I wanted to reuse the same rule without having to code 
> another one again.
> 
> I could use an instance variable, but I wanted to stay away from it 
> because then I will have to make sure that I set/reset the instance 
> variables at various points. I can see it getting a bit complex.
> 
> I'll go with copying the rule into the place where I was referring to 
> this one. If you guys can think of other alternatives please let me 
> know.
> 
> Thanks,
> Praveen.
> 
> --- In antlr-interest@y..., mzukowski@y... wrote:
> > Where is that param coming from?  nextToken() doesn't know anything 
> about
> > it.  It doesn't make sense to have a parameter passed in to a non-
> protected
> > rule in the lexer.  Why don't you use an instance variable?
> > 
> > Monty
> > 
> > > -----Original Message-----
> > > From: praveen_c [mailto:praveen_c@y...]
> > > Sent: Wednesday, October 30, 2002 9:54 AM
> > > To: antlr-interest@y...
> > > Subject: [antlr-interest] generated code not compilable - with
> > > parameters.
> > > 
> > > 
> > > I got ANT 2.7.2 and got rid of the previous problem. Thanks guys.
> > > 
> > > Looks like I'm onto the next one. I pasted the rule and code 
> fragment 
> > > at the end of this message. Line 15 of the generated code should 
> have 
> > > an additional boolean parameter. How do I tell ant to generate an 
> > > additional param?? I don't think I've control on that.
> > > 
> > > Please help.
> > > 
> > > Thanks,
> > > Praveen.
> > > 
> > > ------------------------GRAMMAR-----------------------
> > > TEXT [boolean stopAtEndingAngleBracket]:   (END_LOOP) => END_LOOP 
> { 
> > > $setType(END_LOOP); } |
> > >         (
> > >         options 
> > >             {
> > >                 generateAmbigWarnings=false;
> > >             }:
> > >             ( { !isEndOfText(stopAtEndingAngleBracket) }? . )* 
> > >         );
> > > ------------------------END GRAMMAR-----------------------
> > > 
> > > ------------------------GENERATED CODE--------------------
> > > 1 public Token nextToken() throws TokenStreamException {
> > > 2 	Token theRetToken=null;
> > > 3 tryAgain:
> > > 4	for (;;) {
> > > 5		Token _token = null;
> > > 6		int _ttype = Token.INVALID_TYPE;
> > > 7		resetText();
> > > 8		try {   // for char stream error handling
> > > 9			try {   // for lexical error handling
> > > 10				if ((LA(1)=='<') && 
> (LA(2)=='@')) {
> > > 11					mTAG(true);
> > > 12					
> theRetToken=_returnToken;
> > > 13				}
> > > 14				else {
> > > 15					mTEXT(true);
> > > 16					
> theRetToken=_returnToken;
> > > 17				}
> > > -------------------------------------------------------------
> > > 
> > > 				
> > > 
> > > 
> > > 
> > > 
> > >  
> > > 
> > > Your use of Yahoo! Groups is subject to 
> > http://docs.yahoo.com/info/terms/
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From praveen_c at yahoo.com  Wed Oct 30 13:09:43 2002
From: praveen_c at yahoo.com (praveen_c)
Date: Mon Dec 20 16:15:07 2004
Subject: [antlr-interest] Re: generated code not compilable - with par amet ers.
In-Reply-To: <170826586F3BD511910D0200C110AAA8032B4E88@memail03.bco-home.com>
Message-ID: <apphqn+3uca@eGroups.com>

Good idea! I'll try that.

Thanks.

--- In antlr-interest@y..., mzukowski@y... wrote:
> or make a top level rule that calls a protected TEXT with the 
correct value,
> e.g.
> 
> TOP_TEXT: TEXT(false);
> 
> Monty
> 
> > -----Original Message-----
> > From: praveen_c [mailto:praveen_c@y...]
> > Sent: Wednesday, October 30, 2002 11:59 AM
> > To: antlr-interest@y...
> > Subject: [antlr-interest] Re: generated code not compilable - with
> > paramet ers.
> > 
> > 
> > This rule( TEXT ) is referred in some other rule with a slightly 
> > different twist ( which is why I had the boolean in the first 
> > place ). I wanted to reuse the same rule without having to code 
> > another one again.
> > 
> > I could use an instance variable, but I wanted to stay away from 
it 
> > because then I will have to make sure that I set/reset the 
instance 
> > variables at various points. I can see it getting a bit complex.
> > 
> > I'll go with copying the rule into the place where I was 
referring to 
> > this one. If you guys can think of other alternatives please let 
me 
> > know.
> > 
> > Thanks,
> > Praveen.
> > 
> > --- In antlr-interest@y..., mzukowski@y... wrote:
> > > Where is that param coming from?  nextToken() doesn't know 
anything 
> > about
> > > it.  It doesn't make sense to have a parameter passed in to a 
non-
> > protected
> > > rule in the lexer.  Why don't you use an instance variable?
> > > 
> > > Monty
> > > 
> > > > -----Original Message-----
> > > > From: praveen_c [mailto:praveen_c@y...]
> > > > Sent: Wednesday, October 30, 2002 9:54 AM
> > > > To: antlr-interest@y...
> > > > Subject: [antlr-interest] generated code not compilable - with
> > > > parameters.
> > > > 
> > > > 
> > > > I got ANT 2.7.2 and got rid of the previous problem. Thanks 
guys.
> > > > 
> > > > Looks like I'm onto the next one. I pasted the rule and code 
> > fragment 
> > > > at the end of this message. Line 15 of the generated code 
should 
> > have 
> > > > an additional boolean parameter. How do I tell ant to 
generate an 
> > > > additional param?? I don't think I've control on that.
> > > > 
> > > > Please help.
> > > > 
> > > > Thanks,
> > > > Praveen.
> > > > 
> > > > ------------------------GRAMMAR-----------------------
> > > > TEXT [boolean stopAtEndingAngleBracket]:   (END_LOOP) => 
END_LOOP 
> > { 
> > > > $setType(END_LOOP); } |
> > > >         (
> > > >         options 
> > > >             {
> > > >                 generateAmbigWarnings=false;
> > > >             }:
> > > >             ( { !isEndOfText(stopAtEndingAngleBracket) }? . )
* 
> > > >         );
> > > > ------------------------END GRAMMAR-----------------------
> > > > 
> > > > ------------------------GENERATED CODE--------------------
> > > > 1 public Token nextToken() throws TokenStreamException {
> > > > 2 	Token theRetToken=null;
> > > > 3 tryAgain:
> > > > 4	for (;;) {
> > > > 5		Token _token = null;
> > > > 6		int _ttype = Token.INVALID_TYPE;
> > > > 7		resetText();
> > > > 8		try {   // for char stream error handling
> > > > 9			try {   // for lexical error handling
> > > > 10				if ((LA(1)=='<') && 
> > (LA(2)=='@')) {
> > > > 11					mTAG(true);
> > > > 12					
> > theRetToken=_returnToken;
> > > > 13				}
> > > > 14				else {
> > > > 15					mTEXT(true);
> > > > 16					
> > theRetToken=_returnToken;
> > > > 17				}
> > > > -------------------------------------------------------------
> > > > 
> > > > 				
> > > > 
> > > > 
> > > > 
> > > > 
> > > >  
> > > > 
> > > > Your use of Yahoo! Groups is subject to 
> > > http://docs.yahoo.com/info/terms/
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dude at darkfigure.org  Wed Oct 30 15:39:12 2002
From: dude at darkfigure.org (Paul J. Lucas)
Date: Mon Dec 20 16:15:07 2004
Subject: [antlr-interest] Patch to fix "method to big" errors
Message-ID: <Pine.LNX.4.21.0210301535340.10546-200000@oldmac.pauljlucas.org>

	ANTLR was generating static arrays that were huge for my lexer.
	It made Java complain about the method being too big (over 65535
	bytes).

	I hacked the ANTLR source code to change the way the tables are
	generated.  I've attached a patch file.  I hope this makes it
	into the main ANTLR source.

	- Paul

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
--- JavaCodeGenerator.java-old	Wed Oct 30 15:12:16 2002
+++ JavaCodeGenerator.java	Wed Oct 30 15:12:05 2002
@@ -1184,15 +1184,14 @@
 		p.growToInclude(maxVocabulary);
 				// initialization data
 		println(
-			"private static final long " + getBitsetName(i) + "_data_" + "[] = { " +
-			p.toStringOfWords() + 
-			" };"
+			"private static long[] init" + getBitsetName(i)
+			+ "() {\nfinal long data[] = { "
+			+ p.toStringOfWords() + " };\nreturn data;\n}"
 			);
 				// BitSet object
 		println(
-			"public static final BitSet " + getBitsetName(i) + " = new BitSet(" +
-			getBitsetName(i) + "_data_" + 
-			");"
+			"public static final BitSet " + getBitsetName(i)
+			+ " = new BitSet( init" + getBitsetName(i) + "());"
 			);
 	    }
     }
From parrt at jguru.com  Wed Oct 30 16:04:15 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:07 2004
Subject: [antlr-interest] Patch to fix "method to big" errors
In-Reply-To: <Pine.LNX.4.21.0210301535340.10546-200000@oldmac.pauljlucas.org>
Message-ID: <4ADC2A82-EC64-11D6-8B1C-0030653DE0D6@jguru.com>

Hi Paul,

Have you tried the 2.7.2 version(s) yet?  I fixed LOTS of stuff there.

Ter

On Wednesday, October 30, 2002, at 03:39  PM, Paul J. Lucas wrote:

> 	ANTLR was generating static arrays that were huge for my lexer.
> 	It made Java complain about the method being too big (over 65535
> 	bytes).
>
> 	I hacked the ANTLR source code to change the way the tables are
> 	generated.  I've attached a patch file.  I hope this makes it
> 	into the main ANTLR source.
>
> 	- Paul
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
> <patch>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From amejdi at ertonline.gr  Thu Oct 31 04:10:23 2002
From: amejdi at ertonline.gr (Anakreon Mejdi)
Date: Mon Dec 20 16:15:07 2004
Subject: [antlr-interest] Labeled subrules
Message-ID: <3DC11DAF.2020700@ertonline.gr>

In the documentation is mentioned that the labeled subrules will be
implemented in an other way.

Does this mean that in the next release of antlr it will not be supported?

Suppose I have this rule
a
:
    A^ B C l:(D^ (E)+)
;

How can I achieve having the same AST the rule 'a' produces
without labeled sub rule but having the D^ E subtle defined in rule 'a'?

The only option I have is defining:
a
: A^ B C c
;

c
:
D^ (E)+
;

Thanks in advanced, Anakreon



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From kresimir.saric at bigfoot.com  Thu Oct 31 06:28:02 2002
From: kresimir.saric at bigfoot.com (kresimir_saric)
Date: Mon Dec 20 16:15:07 2004
Subject: [antlr-interest] Re: RTF spec/grammar in (E)BNF
In-Reply-To: <apo31j+mu41@eGroups.com>
Message-ID: <apreli+2sai@eGroups.com>

You can find v1.7 of RTF spec in .DOC format on www.wotsit.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From user_sofia at biris.freeserve.co.uk  Thu Oct 31 06:57:19 2002
From: user_sofia at biris.freeserve.co.uk (elias_biris)
Date: Mon Dec 20 16:15:07 2004
Subject: [antlr-interest] Re: antlr distro: still alpha ?
In-Reply-To: <1BE2947C-EB5C-11D6-8B1C-0030653DE0D6@jguru.com>
Message-ID: <aprgcf+5rju@eGroups.com>

Ok then I will propose to start using a4 now...

Thanks.



--- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
> Hi Elias,
> 
> I'm (unfortunately) not very strict in my release procedures.  The 
> current a4 release is really a damn close approximation to the final 
> release.  Only one "bug" to fix and a few small features to add then 
> I'm ready to go (well, fix the doc too).  I expect a christmas *full* 
> release.  Does this help?
> 
> Terence
> 
> On Tuesday, October 29, 2002, at 06:36  AM, elias_biris wrote:
> 
> > Hi,
> >
> > I would like to propose to my company to use antlr for parser
> > generation, and would like to propose the latest 2.7.2a version ...
> > Due to political reasons, I anticipate there would be some raised
> > eyebrows for the suggestion of an alpha release.
> >
> > Is there a chance that 2.7.2 will soon be a stable release or at least
> > beta ?
> >
> > thanks in advance
> >
> > Elias
> >
> >
> >
> >
> > Your use of Yahoo! Groups is subject to 
> > http://docs.yahoo.com/info/terms/
> >
> >
> --
> Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org
> Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From gudnabrsam at yahoo.com  Thu Oct 31 07:10:01 2002
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:07 2004
Subject: [antlr-interest] Re: RTF spec/grammar in (E)BNF
In-Reply-To: <apreli+2sai@eGroups.com>
Message-ID: <20021031151001.35496.qmail@web20418.mail.yahoo.com>

Great link, thanks!

-Matt

--- kresimir_saric <kresimir.saric@bigfoot.com> wrote:
> You can find v1.7 of RTF spec in .DOC format on
> www.wotsit.org
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do you Yahoo!?
HotJobs - Search new jobs daily now
http://hotjobs.yahoo.com/

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From user_sofia at biris.freeserve.co.uk  Thu Oct 31 08:19:29 2002
From: user_sofia at biris.freeserve.co.uk (elias_biris)
Date: Mon Dec 20 16:15:07 2004
Subject: [antlr-interest] Solaris
Message-ID: <aprl6h+106kb@eGroups.com>

I have tried recently to build antlr on Solaris (5.7) using gcc
(2.95.2 19991024) and jdk 1.3.1. In summary I think that the build
process needs to be addressed asap and at the least to be documented
properly. I get all sorts of problems, listed below:

1- version 2.7.2a4. All seemed to build ok apart from the make install
part which fails with an error related to actions of the install-sh
script. For instance, the jars are all placed on the top level
directory and make gets confused when trying to call
'../scripts/install-sh' to put the jars to the designated directory,
when it should instead call ./scripts/install-sh

Also if you dare do a 'make clean' at any point you loose the jars and
subsequent make falls over.

For the existence of the jars themselves, I found the process a bit
confusing: when I untarred the tarball, there was an antlr.jar at the
top level directory but subsequent invocations (through the
out-of-box) Makefile to

java -cp /user/ebiris/installs/antlr-2.7.2a2/antlrall.jar antlr.Tool 
 antlr.g

falls over, since the antlrall.jar is not there. I had to issue a
mkalljar first to get the jar, and then make would proceed.

Also checking in the accompanying install.html does not help much...
There is also an inconsistency in that file as jdk1.1 does not work
with the antlr code any longer (errors regarding hashset class which
does not exist in jdk 1.1).

I hope someone can enlighten me about the compilation errors above ...
I will try to patch things up but the process for antlr.jar and
antlrall.jar construction is not very clear to me.


Thanks

Elias




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From user_sofia at biris.freeserve.co.uk  Thu Oct 31 08:25:01 2002
From: user_sofia at biris.freeserve.co.uk (elias_biris)
Date: Mon Dec 20 16:15:07 2004
Subject: [antlr-interest] Re: Solaris
In-Reply-To: <aprl6h+106kb@eGroups.com>
Message-ID: <aprlgt+7lk9@eGroups.com>

I also tried antlr 2.7.1 and 2.7.0. There appears to be no configure
script in those distributions... Is that correct?

thanks

--- In antlr-interest@y..., "elias_biris" <user_sofia@b...> wrote:
> I have tried recently to build antlr on Solaris (5.7) using gcc
> (2.95.2 19991024) and jdk 1.3.1. In summary I think that the build
> process needs to be addressed asap and at the least to be documented
> properly. I get all sorts of problems, listed below:
> 
> 1- version 2.7.2a4. All seemed to build ok apart from the make install
> part which fails with an error related to actions of the install-sh
> script. For instance, the jars are all placed on the top level
> directory and make gets confused when trying to call
> '../scripts/install-sh' to put the jars to the designated directory,
> when it should instead call ./scripts/install-sh
> 
> Also if you dare do a 'make clean' at any point you loose the jars and
> subsequent make falls over.
> 
> For the existence of the jars themselves, I found the process a bit
> confusing: when I untarred the tarball, there was an antlr.jar at the
> top level directory but subsequent invocations (through the
> out-of-box) Makefile to
> 
> java -cp /user/ebiris/installs/antlr-2.7.2a2/antlrall.jar antlr.Tool 
>  antlr.g
> 
> falls over, since the antlrall.jar is not there. I had to issue a
> mkalljar first to get the jar, and then make would proceed.
> 
> Also checking in the accompanying install.html does not help much...
> There is also an inconsistency in that file as jdk1.1 does not work
> with the antlr code any longer (errors regarding hashset class which
> does not exist in jdk 1.1).
> 
> I hope someone can enlighten me about the compilation errors above ...
> I will try to patch things up but the process for antlr.jar and
> antlrall.jar construction is not very clear to me.
> 
> 
> Thanks
> 
> Elias


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Oct 31 09:08:55 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:07 2004
Subject: [antlr-interest] Labeled subrules
In-Reply-To: <3DC11DAF.2020700@ertonline.gr>
Message-ID: <6FDF0218-ECF3-11D6-A07E-0030653DE0D6@jguru.com>


On Thursday, October 31, 2002, at 04:10  AM, Anakreon Mejdi wrote:

> In the documentation is mentioned that the labeled subrules will be
> implemented in an other way.
>
> Does this mean that in the next release of antlr it will not be 
> supported?

Well, it's not supported now ;)  You have to do the subrule as you've 
shown at the moment.

Sorry...

Terence

>
> Suppose I have this rule
> a
> :
>     A^ B C l:(D^ (E)+)
> ;
>
> How can I achieve having the same AST the rule 'a' produces
> without labeled sub rule but having the D^ E subtle defined in rule 
> 'a'?
>
> The only option I have is defining:
> a
> : A^ B C c
> ;
>
> c
> :
> D^ (E)+
> ;
>
> Thanks in advanced, Anakreon
>
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Oct 31 09:59:15 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:15:07 2004
Subject: [antlr-interest] Solaris
In-Reply-To: <aprl6h+106kb@eGroups.com>
Message-ID: <7855B146-ECFA-11D6-A07E-0030653DE0D6@jguru.com>

Hi...Sorry about that...

Can you try just

java -cp .:antlr-2.7.2a4-blortblort.jar antlr.Tool t.g

?

Everything is compiled for the java stuff...not sure if you're doing 
C++ output or not...

Ter

On Thursday, October 31, 2002, at 08:19  AM, elias_biris wrote:

> I have tried recently to build antlr on Solaris (5.7) using gcc
> (2.95.2 19991024) and jdk 1.3.1. In summary I think that the build
> process needs to be addressed asap and at the least to be documented
> properly. I get all sorts of problems, listed below:
>
> 1- version 2.7.2a4. All seemed to build ok apart from the make install
> part which fails with an error related to actions of the install-sh
> script. For instance, the jars are all placed on the top level
> directory and make gets confused when trying to call
> '../scripts/install-sh' to put the jars to the designated directory,
> when it should instead call ./scripts/install-sh
>
> Also if you dare do a 'make clean' at any point you loose the jars and
> subsequent make falls over.
>
> For the existence of the jars themselves, I found the process a bit
> confusing: when I untarred the tarball, there was an antlr.jar at the
> top level directory but subsequent invocations (through the
> out-of-box) Makefile to
>
> java -cp /user/ebiris/installs/antlr-2.7.2a2/antlrall.jar antlr.Tool
>  antlr.g
>
> falls over, since the antlrall.jar is not there. I had to issue a
> mkalljar first to get the jar, and then make would proceed.
>
> Also checking in the accompanying install.html does not help much...
> There is also an inconsistency in that file as jdk1.1 does not work
> with the antlr code any longer (errors regarding hashset class which
> does not exist in jdk 1.1).
>
> I hope someone can enlighten me about the compilation errors above ...
> I will try to patch things up but the process for antlr.jar and
> antlrall.jar construction is not very clear to me.
>
>
> Thanks
>
> Elias
>
>
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From luke.evans at seagatesoftware.com  Thu Oct 31 14:25:12 2002
From: luke.evans at seagatesoftware.com (Luke Evans)
Date: Mon Dec 20 16:15:07 2004
Subject: [antlr-interest] Syntax documentor (was: ANTLR 2.7.3)
Message-ID: <A399661DAF14DA46AAB21B088F3887DC066DDC38@vanent14.crystald.net>

OK... now I know of its existence I want one - what an impetuous society we live in  ;-)

Ter, any chance of snagging the implementation of your documentation stuff?  This has come at a 'good time' as we're thinking about how we document and communicate our language.  We can do this the long way... or we can use the your cool lout generator for our syntax.

We've noticed that this isn't in the current 2.7.2a4 JAR.

Cheers,

Luke



> ----------
> From: 	Terence Parr
> Reply To: 	antlr-interest@yahoogroups.com
> Sent: 	Thursday, October 10, 2002 12:03 PM
> To: 	antlr-interest@yahoogroups.com
> Subject: 	Re: [antlr-interest] ANTLR 2.7.3
> 
> <<File: t.pdf>><<File: ATT438826.txt>>
> 
> On Wednesday, October 9, 2002, at 10:16  AM, Luke Evans wrote:
> 
> > OK, it's another one of those 'when is the next official point release'
> > question...
> >
> > Antlr seems to be creeping slowly-ish towards 2.7.3.  Is this an 
> > asymptote,
> > or will it get there?  ;-)
> 
> <snicker>
> 
> Yep, for sure by january 2003, you'll have full 2.7.2.  I'm teaching at 
> U San Francisco a course on languages; we'll need the latest and stable 
> release.
> 
> Sounds like we need to stick in the C# output now.  Further, Ric has a 
> bit of work left.  Also, I have some Loring Craymer bugs to fix too ;)
> 
> I unfortunately started a new feature instead of fixing the last few 
> bugs, but I need the features to do a presentation.  Specifically, I 
> have AST to tree diagram and grammar to syntax diagram generators 
> almost complete and in antlr.util.*.  I generate Lout output and then 
> convert to PDF or whatever from there.  I can also make it generate a 
> GIF or whatever graphics format you want if you're willing to download 
> some more tools.  This stuff is *way* kewl.  Wait til you see!  I 
> include a sample output PDF file for your drooling pleasure.  Also the 
> stuff is really easy to use:
> 
> String lout1 = LoutGenerator.treeToLout("(EXPR stat stat)");
> String lout2 = LoutGenerator. grammarToLout("a : A B ;");
> 
> L8R G8Rs,
> Ter
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From cela_vei at yahoo.com  Thu Oct 31 14:50:21 2002
From: cela_vei at yahoo.com (cela_vei)
Date: Mon Dec 20 16:15:07 2004
Subject: [antlr-interest] Linker Problem with 2.7.a2 in Solaris
Message-ID: <apsc3d+edv2@eGroups.com>

I am starting to use 2.7a2. I have a simple grammer file
with just one rule. I am trying to link the files

CC file.o file2.o -lantlr

using the libantlr.a

It gives me unresolved external for a lot of symbols.

void antlr::LLkParser::traceIn(const char*)
antlr::MismatchedCharException::MismatchedCharException
antlr::NoViableAltForCharException

and many more.

Any suggestions as to what I am doing wrong?

Thanks
Cela



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

