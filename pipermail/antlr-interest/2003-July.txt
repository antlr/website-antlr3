From imolanet at yahoo.it  Tue Jul  1 00:53:14 2003
From: imolanet at yahoo.it (Patrik Suzzi)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: c# code generation with Visual Studio .NET
In-Reply-To: <004d01c31a25$a2f6eef0$c3351f3e@Bob>
Message-ID: <bdrela+hbt9@eGroups.com>


-------------------------------------------------------------
 -- -                    REPLY MESSAGE                  - --
-------------------------------------------------------------
Thanks a lot for these instructions.. 
Now I'm done exams about C# and Java. then I'm just starting 
to project and build Cpp 2 Csharp translator for a Thesis .

It's a big work, but If anyone is interested, please contact me.

Thanks : Patrik

P.S.

In order to start I need build VS tool. When I've done I will 
reply in this mailing-list  with the same topic
-------------------------------------------------------------
 -- -     ITALIAN TRANSLATION FOR REPLY MESSAGE         - --
-------------------------------------------------------------
Grazie mille per queste istruzioni..
Ora ho finito gli esami sul C# e su Java. Cos? posso cominciare
a progettare e costruire un traduttore Cpp 2 Csharp per la Tesi.

E' un grosso lavoro, ma se qualcuno ? interessato, mi contatti per favore

Grazie: Patrik

P.S.
Allo scopo di partire Dovrei costruire uno strumento per VS. Quando
avr? finito risponder? in questa mailing-list con lo stesso soggetto

-------------------------------------------------------------
 -- -                END OF REPLY MESSAGE               - --
-------------------------------------------------------------


--- In antlr-interest@yahoogroups.com, <bulk@e...> wrote:
> Annoyingly the CustomTool thing is part of the VS Customisation Kit
> which is only available under contract to Microsoft for people like
> ActiveState and the ActiveReports people to produce commercial products
> that tightly integrate with VS.NET. It has been publicly documented
> though (as MS left it as a public class by accident) and so in VS.NET
> 2003 it has made it part of the public object model for user-level
> customisation in the same way as menu items can be added.
> 
> I haven't got VS.NET 2003 yet, but as far as I can tell the build system
> is exactly the same as the 2002 version which is disappointingly
> inflexible for C# projects. Thinking about it though, there should be a
> way around this problem: Create a CustomTool for .g files and in the
> processing logic, use the VSProject and VSProjectItem interfaces to add
> the resultant files to the project if they weren't already there and
> reload them if they are. I'm not sure if the dependency logic in VS.NET
> is smart enough to deal with that though, but its worth a try :)
> 
> In the meantime I made a horrible but fairly effective workaround:
> Create a dummy C++ project in your solution, make it a Win32 command
> line app or dll or whatever. Ignore the files the Create Project Wizard
> creates but add your parser.g file in that project as a source file and
> set up a custom build operation for it. You'll have to spend a bit of
> time passing all the necessary parameters so it copies the resultant .cs
> files to your C# project but you only have to do it once (unless you are
> creating ANTLR projects frequently in which case you could write your
> own custom wizard to sort it out). Now just make the building of your C#
> project dependant on the C++ project and your files will always be up to
> date.
> 
> Actually I don't know if I did this right or if theres a bug in VS.NET,
> but the way I set mine up, ANTLR always gets rerun when I go to compile
> the C# project whether or not the .g file has changed. Still, my machine
> is fast enough to run even java at a decent speed so it doesn't bother
> me too much.
> 
> Regards,
> 
> Richard
> 
> -----Original Message-----
> From: micheal_jor [mailto:open.zone@v...] 
> Sent: 05 May 2003 22:52
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: c# code generation with Visual Studio .NET
> 
> 
> --- In antlr-interest@yahoogroups.com, "Ney, Richard" 
> <richard.ney@a...> wrote:
> > Patrik,
> 
> > The work around I did was to setup a menu item in the Tools menu of
> the IDE.
> > This at least allows me to select a .g file and compile it. Until
> someone
> > has the time to write the add-in for .NET languages this is the
> best we have
> > at this time.
> 
> VS.NET's CustomTool model (for code-generators) is limited because it 
> only allows the generation of a single source file for each input 
> file. It does not support a code generator - like ANTLR - that can 
> generate *multiple* outputSourceCode files from a single 
> codegenSource file.
> 
> Given that *most* ANTLR grammar files are indeed multi-ouput, we 
> decided against developing a VS.NET CustomTool interface for ANTLR/C# 
> for the moment. Any such interface would be limited to a outputting a 
> single source file per *.g file and we didn't fancy having our 
> Lexers, Parsers and TreeParsers all pop out in the same *huge* source 
> file.
> 
> I haven't look at VS.NET 2003 yet in any great detail as far as this 
> issue in considered so, there may be hope yet.
> 
> Cheers,
> 
> Micheal
> ANTLR/C# codegen 
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From imolanet at yahoo.it  Tue Jul  1 04:11:08 2003
From: imolanet at yahoo.it (Patrik Suzzi)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <bdke9b+irao@eGroups.com>
Message-ID: <bdrq8c+n3u7@eGroups.com>

--- In antlr-interest@yahoogroups.com, "tdjastrzebski"
<tdjastrzebski@y...> wrote:
> I really like Antlr more and more.
> 
> With just a single change in file PreservingFilterWriter.java 
> (File.getParentFile() exists since jdk 1.2) I managed to compile 
> whole Antlr with JSharp under .Net so I do not need Java any more ...
>
> Tom Jastrzebski

So cool. 
If you Allow, I've three questions:
1)what is JSharp ?
2)is JSharp included in VS.NET or I have to catch them on the net ?
3)now you have a .NET dll that produce multiple files from one single
input file ?

Thanks: Patrik



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From frankhil at junglemate.com  Tue Jul  1 10:44:22 2003
From: frankhil at junglemate.com (frankhileman)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <bdke9b+irao@eGroups.com>
Message-ID: <bdsh9m+n85u@eGroups.com>

Hello,

I would also like to use Antlr without the JVM, but I did not want 
to install J#. Is there any way I could get the exe from you? Could 
you post it in the files section? I suppose I would need some J# 
runtime assemblies as well?

Thanks in advance,
Frank Hileman



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From aditsu at yahoo.com  Tue Jul  1 20:03:59 2003
From: aditsu at yahoo.com (Adrian Sandor)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] recognizer vs translator
Message-ID: <bdti2v+3nr8@eGroups.com>


If I have a grammar which is good for recognizing a language, then 
how can I write a translator for that language without modifying the 
grammar? I mean I want to keep the translator rules separately (even 
if they are in the same file).

Adrian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lloyd at galador.net  Tue Jul  1 20:27:19 2003
From: lloyd at galador.net (lloyd_from_far)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Ambiguity with similar token with different length ...
In-Reply-To: <bdsh9m+n85u@eGroups.com>
Message-ID: <bdtjen+10p39@eGroups.com>

ANTLR has a tedious behavior which I wonder if there is anyway to go 
around:

let say in my option I have: {
k = 2;
}

and have 2 lexer tokens like:
LT: "<=";
LE: '<';

I am sure that my grammar would have ambiguity warning while 
generating with 'java antl.Tool', in fact if I ever have (ever in the 
parser or the lexer, even if 'k' is big enough) 2 rules which have 
similar begining and different length I would have such warning even 
if there is no real ambiguity.

How to solve this problem ?
I mean how should I write my rules, or which tag should I employ for 
writting warning free grammar ?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lloyd at galador.net  Tue Jul  1 20:29:50 2003
From: lloyd at galador.net (lloyd_from_far)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <bdrq8c+n3u7@eGroups.com>
Message-ID: <bdtjje+dc4e@eGroups.com>

I'm interested.
could you provide us a link ?  or something ?
at any rate my email is lloyd@galador.net

> > I really like Antlr more and more.
> > 
> > With just a single change in file PreservingFilterWriter.java 
> > (File.getParentFile() exists since jdk 1.2) I managed to compile 
> > whole Antlr with JSharp under .Net so I do not need Java any 
more ...
> >
> > Tom Jastrzebski



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lloyd at galador.net  Tue Jul  1 20:31:47 2003
From: lloyd at galador.net (lloyd_from_far)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] ANTLR runtime on CE
In-Reply-To: <bdrela+hbt9@eGroups.com>
Message-ID: <bdtjn3+6fs1@eGroups.com>

I managed to build an ANTLR runtime on windows CE.
I have yet to test it, but let me know if you are interested...


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From paultaney at yahoo.com  Tue Jul  1 20:35:24 2003
From: paultaney at yahoo.com (paul taney)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <bdsh9m+n85u@eGroups.com>
Message-ID: <20030702033525.15427.qmail@web20704.mail.yahoo.com>


--- frankhileman <frankhil@junglemate.com> wrote:

> I would also like to use Antlr without the JVM, but
> I did not want to install J#
> 

gcj compiles java to native code.

    http://gcc.gnu.org/onlinedocs/gcc-3.3/gcj/

paul

__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lloyd at galador.net  Tue Jul  1 22:33:39 2003
From: lloyd at galador.net (Lloyd Dupont)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] strange bug (v 2.7.2)
Message-ID: <003701c3405b$7e112400$730010ac@5dservices.com.au>

(I join you a simple failing grammar)

basically I have a simple tokens definition like that:
//--------------------------- lexer.g ----------------
class FMSqlLexer extends Lexer;
options {
k = 3;
charVocabulary = '3' .. '177';
}

NOT_EQ: ("<>") | ("!=") | ("^=") ; 
LE: ("<=") ; 
LessT: "<" ; 
// ---------- end of lexer ----------

and ANTLR find it ambiguous !

what's wrong ?  
I mean which clues should I give to ANTLR to help it understand its errors ?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030702/95654983/attachment.html
From parrt at cs.usfca.edu  Tue Jul  1 22:56:20 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] strange bug (v 2.7.2)
In-Reply-To: <003701c3405b$7e112400$730010ac@5dservices.com.au>
Message-ID: <E71B005A-AC51-11D7-A859-000393BB647E@cs.usfca.edu>

What's the warning say?

Ter

On Tuesday, July 1, 2003, at 10:33  PM, Lloyd Dupont wrote:

> (I join you a simple failing grammar)
> ?
> basically I have a simple tokens definition like that:
> //--------------------------- lexer.g ----------------
> class FMSqlLexer extends Lexer;
> options {
> k = 3;
> charVocabulary = '3' .. '177';
> }
>
> NOT_EQ: ("<>") | ("!=") | ("^=") ;
> LE: ("<=") ;
> LessT: "<" ;
> // ---------- end of lexer ----------
>
> and ANTLR find it ambiguous !
>
> what's wrong ??
> I mean which clues should I give to ANTLR to help it understand its 
> errors ?
> ?
> ?
>
> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com link sharing, pure-n-simple




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lloyd at galador.net  Tue Jul  1 23:01:59 2003
From: lloyd at galador.net (Lloyd Dupont)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] strange bug (v 2.7.2)
References: <E71B005A-AC51-11D7-A859-000393BB647E@cs.usfca.edu>
Message-ID: <004401c3405f$73c2c180$730010ac@5dservices.com.au>

:> java antlr.Tool FileMaker2.g
ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
FileMaker2.g: warning:lexical nondeterminism between rules NOT_EQ and LE
upon
FileMaker2.g:     k==1:'<'
FileMaker2.g:     k==2:'='
FileMaker2.g:     k==3:<end-of-token>

:>
----- Original Message -----
From: "Terence Parr" <parrt@cs.usfca.edu>
To: <antlr-interest@yahoogroups.com>
Sent: Wednesday, July 02, 2003 3:56 PM
Subject: Re: [antlr-interest] strange bug (v 2.7.2)


What's the warning say?

Ter

On Tuesday, July 1, 2003, at 10:33  PM, Lloyd Dupont wrote:

> (I join you a simple failing grammar)
>
> basically I have a simple tokens definition like that:
> //--------------------------- lexer.g ----------------
> class FMSqlLexer extends Lexer;
> options {
> k = 3;
> charVocabulary = '3' .. '177';
> }
>
> NOT_EQ: ("<>") | ("!=") | ("^=") ;
> LE: ("<=") ;
> LessT: "<" ;
> // ---------- end of lexer ----------
>
> and ANTLR find it ambiguous !
>
> what's wrong ?
> I mean which clues should I give to ANTLR to help it understand its
> errors ?
>
>
>
> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com link sharing, pure-n-simple






Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: FileMaker2.g
Type: application/octet-stream
Size: 828 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20030702/15568291/FileMaker2.obj
From a_j_key at yahoo.com  Wed Jul  2 01:34:21 2003
From: a_j_key at yahoo.com (a_j_key)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] 2 lexers and stream filter
Message-ID: <bdu5ed+cncn@eGroups.com>

Hi,

I'm trying to translate Java sourcecode with JavaDocs and normal 
comments. I've looked into the examples and read documentation but I 
still cannot figure it out how to connect them together with the 
filter.

Here is the code from the main methode:

MyLexer lexer = new MyLexer(r); //input stream
lexer.setTokenObjectClass("antlr.CommonHiddenStreamToken");

TokenStreamHiddenTokenFilter filter = new TokenStreamHiddenTokenFilter
(lexer);
filter.hide(SL_COMMENT);

JavaDocLexer doclexer = new JavaDocLexer(lexer.getInputstate());
TokenStreamSelector selector = new TokenStreamSelector();
selector.addInputStream(lexer, "lexer");
selector.addInputStream(doclexer, "doclexer");
selector.select("lexer");

MyParser parser = new MyParser(selector);
parser.setASTNodeClass("antlr.CommonASTWithHiddenTokens");
parser.compilationUnit();

Could someone tell me how I can solve it? I really appreciate your 
help.

Kind regards,

AKey


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lubos.vnuk at rts.at  Wed Jul  2 03:21:15 2003
From: lubos.vnuk at rts.at (Lubos Vnuk)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: strange bug (v 2.7.2)
In-Reply-To: <003701c3405b$7e112400$730010ac@5dservices.com.au>
Message-ID: <bdubmr+o5r1@eGroups.com>

I think it might be the linear approximation of the lookahead.

ANTLR thinks anything starting with '<' or '!' or '^', and being 
followed by '>' or '=' is the token NOT_EQ.

Merging LE and NOT_EQ could help.

Lubos.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lubos.vnuk at rts.at  Wed Jul  2 03:26:03 2003
From: lubos.vnuk at rts.at (Lubos Vnuk)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: ANTLR runtime on CE
In-Reply-To: <bdtjn3+6fs1@eGroups.com>
Message-ID: <bdubvr+o76c@eGroups.com>

I'm definitely interested. Working on a grammar on my PocketPC sounds 
like an interesting option for me. Could you provide the files?

Thanks,
Lubos.



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lloyd at galador.net  Wed Jul  2 03:40:38 2003
From: lloyd at galador.net (Lloyd Dupont)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: ANTLR runtime on CE
References: <bdubvr+o76c@eGroups.com>
Message-ID: <00fd01c34086$60a3aac0$0300000a@hermes>

Hi Lubos, you'll have to wait .... friday, everything is at the office.
And tomorrow I have a day off...

First t
----- Original Message ----- 
From: "Lubos Vnuk" <lubos.vnuk@rts.at>
To: <antlr-interest@yahoogroups.com>
Sent: Wednesday, July 02, 2003 8:26 PM
Subject: [antlr-interest] Re: ANTLR runtime on CE


> I'm definitely interested. Working on a grammar on my PocketPC sounds
> like an interesting option for me. Could you provide the files?
>
> Thanks,
> Lubos.
>
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lloyd at galador.net  Wed Jul  2 05:03:14 2003
From: lloyd at galador.net (Lloyd Dupont)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: strange bug (v 2.7.2)
References: <bdubmr+o5r1@eGroups.com>
Message-ID: <013701c34091$eaf18c00$0300000a@hermes>

from memory in some sample code I found they have a rule like that

token {
    NOT_EQ; LessT; LE;
}

NOT_EQ: '<'
    ( LA(2) '=' { _ttype = LessT} | ....to be continued ..)

I can't remember better, sorry, I haven't write any ANTLR code since a
while.
Anyway it seems silly to me, this should suffice, isn't it ?
options { k= 2; }
NOT_EQ = "<>" | "!=" ;
LessT = "<=";

or something that simple....
why should I have to check it myself .....

ok, let you know .......

anyway all my stuff has to wait until friday (vacation tomorrow)...
CU
Lloyd

----- Original Message ----- 
From: "Lubos Vnuk" <lubos.vnuk@rts.at>
To: <antlr-interest@yahoogroups.com>
Sent: Wednesday, July 02, 2003 8:21 PM
Subject: [antlr-interest] Re: strange bug (v 2.7.2)


> I think it might be the linear approximation of the lookahead.
>
> ANTLR thinks anything starting with '<' or '!' or '^', and being
> followed by '>' or '=' is the token NOT_EQ.
>
> Merging LE and NOT_EQ could help.
>
> Lubos.
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From johnson at faradayco.com  Wed Jul  2 07:45:32 2003
From: johnson at faradayco.com (Faraday)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Auto Response
Message-ID: <E19XirU-0007eL-00@nameless3.mywhm.com>

We received your mail.

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From tdjastrzebski at yahoo.com  Wed Jul  2 08:20:42 2003
From: tdjastrzebski at yahoo.com (tdjastrzebski)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Bug in c# case-insensitive lexer
Message-ID: <bdut8a+ls01@eGroups.com>

Since I am new to Antlr I had to spend half a day to figure this out. 
But at least I learned a lot how it works under the hood. Not to 
mention the opporunity to help improving such a good tool.

Here is what I found:
with option caseSensitiveLiterals set to false lexer creates literals 
hashtable passing to its constructor CaseInsensitiveHashCodeProvider 
but it does NOT pass CaseInsensitiveComparer. That is why tokens in 
uppercase are not being recognized properly.

So appropriate line in lexer should read:

literals = new Hashtable( new 
System.Collections.CaseInsensitiveHashCodeProvider(), new 
System.Collections.CaseInsensitiveComparer());

instead of:

literals = new Hashtable( new 
System.Collections.CaseInsensitiveHashCodeProvider(), null);

Which should be corrected in line 1252 of CSharpCodeGenerator.java 
file.

Regards,
Tom Jastrzebski



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From ddavis2d3bz at yahoo.com  Wed Jul  2 08:35:55 2003
From: ddavis2d3bz at yahoo.com (ddavis2d3bz)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] DCE Grammar
Message-ID: <bduu4r+5fsp@eGroups.com>

Hi I am looking for a DCE grammar. I would appreciate pointers to a complete or even 
partial grammar.

Thanks

Don Davis




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From gudnabrsam at yahoo.com  Wed Jul  2 08:37:44 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] recognizer vs translator
In-Reply-To: <bdti2v+3nr8@eGroups.com>
Message-ID: <20030702153744.73252.qmail@web20418.mail.yahoo.com>

I think the accepted way to do this is to have your
grammar create an AST, then create a TreeParser that
walks your AST and performs your translation for you.

-Matt

--- Adrian Sandor <aditsu@yahoo.com> wrote:
> 
> If I have a grammar which is good for recognizing a
> language, then 
> how can I write a translator for that language
> without modifying the 
> grammar? I mean I want to keep the translator rules
> separately (even 
> if they are in the same file).
> 
> Adrian
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Wed Jul  2 10:20:59 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] strange bug (v 2.7.2)
In-Reply-To: <004401c3405f$73c2c180$730010ac@5dservices.com.au>
Message-ID: <8C2FFECE-ACB1-11D7-A859-000393BB647E@cs.usfca.edu>

This is an approximate lookahead issue.  Break it up like this:

NE : "<>" ;

NE2: "!=" {$setType(NE);}

....

Ter

On Tuesday, July 1, 2003, at 11:01  PM, Lloyd Dupont wrote:

> :> java antlr.Tool FileMaker2.g
> ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
> FileMaker2.g: warning:lexical nondeterminism between rules NOT_EQ and 
> LE
> upon
> FileMaker2.g:     k==1:'<'
> FileMaker2.g:     k==2:'='
> FileMaker2.g:     k==3:<end-of-token>
>
> :>
> ----- Original Message -----
> From: "Terence Parr" <parrt@cs.usfca.edu>
> To: <antlr-interest@yahoogroups.com>
> Sent: Wednesday, July 02, 2003 3:56 PM
> Subject: Re: [antlr-interest] strange bug (v 2.7.2)
>
>
> What's the warning say?
>
> Ter
>
> On Tuesday, July 1, 2003, at 10:33  PM, Lloyd Dupont wrote:
>
>> (I join you a simple failing grammar)
>>
>> basically I have a simple tokens definition like that:
>> //--------------------------- lexer.g ----------------
>> class FMSqlLexer extends Lexer;
>> options {
>> k = 3;
>> charVocabulary = '3' .. '177';
>> }
>>
>> NOT_EQ: ("<>") | ("!=") | ("^=") ;
>> LE: ("<=") ;
>> LessT: "<" ;
>> // ---------- end of lexer ----------
>>
>> and ANTLR find it ambiguous !
>>
>> what's wrong ?
>> I mean which clues should I give to ANTLR to help it understand its
>> errors ?
>>
>>
>>
>> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
> --
> Professor Comp. Sci., University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Co-founder, http://www.jguru.com
> Co-founder, http://www.knowspam.net enjoy email again!
> Co-founder, http://www.peerscope.com link sharing, pure-n-simple
>
>
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
> <FileMaker2.g>
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com link sharing, pure-n-simple




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lgc at mail1.jpl.nasa.gov  Wed Jul  2 10:38:11 2003
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: recognizer vs translator
In-Reply-To: <bdti2v+3nr8@eGroups.com>
Message-ID: <bdv5a3+upak@eGroups.com>

Adrian--

What you want to do is to annotate your grammar so that it constructs 
a syntax tree, then transform it with tree walker passes and then 
generate output from the final tree.  Take a look at the examples 
provided with the ANTLR distribution and the contributed grammars (and 
RTFM on tree walkers).

--Loring


--- In antlr-interest@yahoogroups.com, "Adrian Sandor" <aditsu@y...> 
wrote:
> 
> If I have a grammar which is good for recognizing a language, then 
> how can I write a translator for that language without modifying the 
> grammar? I mean I want to keep the translator rules separately (even 
> if they are in the same file).
> 
> Adrian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From open.zone at virgin.net  Wed Jul  2 12:06:52 2003
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Bug in c# case-insensitive lexer
In-Reply-To: <bdut8a+ls01@eGroups.com>
Message-ID: <bdvagc+sh5c@eGroups.com>

Thanks for the report Tom,

This issue has already been fixed. I'll arrange a service release for 
the C# bits as soon as schedule permits.

Cheers,

Micheal
ANTLR/C# codegen

> So appropriate line in lexer should read:
> 
> literals = new Hashtable( new 
> System.Collections.CaseInsensitiveHashCodeProvider(), new 
> System.Collections.CaseInsensitiveComparer());
> 
> instead of:
> 
> literals = new Hashtable( new 
> System.Collections.CaseInsensitiveHashCodeProvider(), null);
> 
> Which should be corrected in line 1252 of CSharpCodeGenerator.java 
> file.
> 
> Regards,
> Tom Jastrzebski


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From tdjastrzebski at yahoo.com  Wed Jul  2 12:11:50 2003
From: tdjastrzebski at yahoo.com (tdjastrzebski)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <bdrq8c+n3u7@eGroups.com>
Message-ID: <bdvapm+ojfj@eGroups.com>

> > I really like Antlr more and more.
> > 
> > With just a single change in file PreservingFilterWriter.java 
> > (File.getParentFile() exists since jdk 1.2) I managed to compile 
> > whole Antlr with JSharp under .Net so I do not need Java any 
more ...
> >
> > Tom Jastrzebski
> 
> So cool. 
> If you Allow, I've three questions:
> 1)what is JSharp ?
> 2)is JSharp included in VS.NET or I have to catch them on the net ?
> 3)now you have a .NET dll that produce multiple files from one 
single
> input file ?
> 

Hi Patrik,
1) see: http://msdn.microsoft.com/vjsharp/
2) yes, it is included in most versions
3) yes, but actually it is .exe

Regards,
Tom Jastrzebski


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From tdjastrzebski at yahoo.com  Wed Jul  2 12:15:22 2003
From: tdjastrzebski at yahoo.com (tdjastrzebski)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <bdtjje+dc4e@eGroups.com>
Message-ID: <bdvb0a+7qnt@eGroups.com>

I will not make it available publicly without author's permission.
Tom Jastrzebski

> I'm interested.
> could you provide us a link ?  or something ?
> at any rate my email is lloyd@g...
> 
> > > I really like Antlr more and more.
> > > 
> > > With just a single change in file PreservingFilterWriter.java 
> > > (File.getParentFile() exists since jdk 1.2) I managed to 
compile 
> > > whole Antlr with JSharp under .Net so I do not need Java any 
> more ...
> > >



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From tdjastrzebski at yahoo.com  Wed Jul  2 12:18:41 2003
From: tdjastrzebski at yahoo.com (tdjastrzebski)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <bdtjje+dc4e@eGroups.com>
Message-ID: <bdvb6h+okf8@eGroups.com>

e-mail me at tdjastrzebski@wp.pl and I'll send you a copy of what I 
got
Tom Jastrzebski

wrote:
> I'm interested.
> could you provide us a link ?  or something ?
> at any rate my email is lloyd@g...
> 
> > > I really like Antlr more and more.
> > > 
> > > With just a single change in file PreservingFilterWriter.java 
> > > (File.getParentFile() exists since jdk 1.2) I managed to 
compile 
> > > whole Antlr with JSharp under .Net so I do not need Java any 
> more ...
> > >
> > > Tom Jastrzebski


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From tdjastrzebski at yahoo.com  Wed Jul  2 12:21:27 2003
From: tdjastrzebski at yahoo.com (tdjastrzebski)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <bdsh9m+n85u@eGroups.com>
Message-ID: <bdvbbn+82s3@eGroups.com>

--- In antlr-interest@yahoogroups.com, "frankhileman" <frankhil@j...> 
wrote:
> Hello,
> 
> I would also like to use Antlr without the JVM, but I did not want 
> to install J#. Is there any way I could get the exe from you? Could 
> you post it in the files section? I suppose I would need some J# 
> runtime assemblies as well?
> 

e-mail me at tdjastrzebski@wp.pl and I'll send you a copy of what I 
got. you just need .Net runtime 
(http://msdn.microsoft.com/netframework/)

Tom Jastrzebski



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From tdjastrzebski at yahoo.com  Wed Jul  2 12:27:16 2003
From: tdjastrzebski at yahoo.com (tdjastrzebski)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Bug in c# case-insensitive lexer
In-Reply-To: <bdvagc+sh5c@eGroups.com>
Message-ID: <bdvbmk+5trc@eGroups.com>

Hi Michael,
is there a current list of known issues available somewhere?
Tom Jastrzebski

> Thanks for the report Tom,
> 
> This issue has already been fixed. I'll arrange a service release 
for 
> the C# bits as soon as schedule permits.
> 
> Cheers,
> 
> Micheal
> ANTLR/C# codegen
> 
> > So appropriate line in lexer should read:
> > 
> > literals = new Hashtable( new 
> > System.Collections.CaseInsensitiveHashCodeProvider(), new 
> > System.Collections.CaseInsensitiveComparer());
> > 
> > instead of:
> > 
> > literals = new Hashtable( new 
> > System.Collections.CaseInsensitiveHashCodeProvider(), null);
> > 
> > Which should be corrected in line 1252 of 
CSharpCodeGenerator.java 
> > file.
> > 
> > Regards,
> > Tom Jastrzebski


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From andrew at adersoftware.com  Wed Jul  2 13:03:36 2003
From: andrew at adersoftware.com (Andrew Deren)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <bdvbbn+82s3@eGroups.com>
Message-ID: <200307021507906.SM01108@CS>

I was also able to use J# to generate Tool.exe file for .NET
As Tom mentioned, there was only one change needed, which it seems Microsoft
team missed from their java library implementation.
There are quite a few warnings, but I used the .NET tool for couple of my
projects and works same as java version.
I don't know about a legal issue, but I think it would be good if antlr
would provide .NET version of tool. Especially for people who only use the
C#  version (me). It's easier to integrate into VS and is only one 500K
executable file.
Andrew 

-----Original Message-----
From: tdjastrzebski [mailto:tdjastrzebski@yahoo.com] 
Sent: Wednesday, July 02, 2003 1:21 PM
To: antlr-interest@yahoogroups.com

--- In antlr-interest@yahoogroups.com, "frankhileman" <frankhil@j...> 
wrote:
> Hello,
> 
> I would also like to use Antlr without the JVM, but I did not want 
> to install J#. Is there any way I could get the exe from you? Could 
> you post it in the files section? I suppose I would need some J# 
> runtime assemblies as well?
> 

e-mail me at tdjastrzebski@wp.pl and I'll send you a copy of what I 
got. you just need .Net runtime 
(http://msdn.microsoft.com/netframework/)

Tom Jastrzebski



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From meissnersd at yahoo.com  Wed Jul  2 14:41:36 2003
From: meissnersd at yahoo.com (Karl Meissner)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <200307021507906.SM01108@CS>
Message-ID: <20030702214136.65571.qmail@web40601.mail.yahoo.com>


This would help me too.   The whole rest of the project ( 10 to 20 developers)  is in C#. It is 
all MsDev. 

Getting the sun java install out of the build/release chain would simplify a lot. 

--- Andrew Deren <andrew@adersoftware.com> wrote:
> I was also able to use J# to generate Tool.exe file for .NET
> As Tom mentioned, there was only one change needed, which it seems Microsoft
> team missed from their java library implementation.
> There are quite a few warnings, but I used the .NET tool for couple of my
> projects and works same as java version.
> I don't know about a legal issue, but I think it would be good if antlr
> would provide .NET version of tool. Especially for people who only use the
> C#  version (me). It's easier to integrate into VS and is only one 500K
> executable file.
> Andrew 
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From tdjastrzebski at yahoo.com  Wed Jul  2 15:09:46 2003
From: tdjastrzebski at yahoo.com (tdjastrzebski)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <200307021507906.SM01108@CS>
Message-ID: <bdvl7a+gccb@eGroups.com>

> I was also able to use J# to generate Tool.exe file for .NET
> As Tom mentioned, there was only one change needed, which it seems 
Microsoft
> team missed from their java library implementation.

They did not forget. This is a legal issue. J# can be Java compatible 
up to version 1.1.4 while File.getParentFile() was introduced in jdk 
1.2.
Tom Jastrzebski


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lloyd at galador.net  Wed Jul  2 15:32:41 2003
From: lloyd at galador.net (Lloyd Dupont)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] strange bug (v 2.7.2)
References: <8C2FFECE-ACB1-11D7-A859-000393BB647E@cs.usfca.edu>
Message-ID: <005601c340e9$d9ba03b0$0300000a@hermes>

big thanks for this easy solution !

----- Original Message ----- 
From: "Terence Parr" <parrt@cs.usfca.edu>
To: <antlr-interest@yahoogroups.com>
Sent: Thursday, July 03, 2003 3:20 AM
Subject: Re: [antlr-interest] strange bug (v 2.7.2)


> This is an approximate lookahead issue.  Break it up like this:
>
> NE : "<>" ;
>
> NE2: "!=" {$setType(NE);}
>
> ....
>
> Ter
>
> On Tuesday, July 1, 2003, at 11:01  PM, Lloyd Dupont wrote:
>
> > :> java antlr.Tool FileMaker2.g
> > ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
> > FileMaker2.g: warning:lexical nondeterminism between rules NOT_EQ and
> > LE
> > upon
> > FileMaker2.g:     k==1:'<'
> > FileMaker2.g:     k==2:'='
> > FileMaker2.g:     k==3:<end-of-token>
> >
> > :>
> > ----- Original Message -----
> > From: "Terence Parr" <parrt@cs.usfca.edu>
> > To: <antlr-interest@yahoogroups.com>
> > Sent: Wednesday, July 02, 2003 3:56 PM
> > Subject: Re: [antlr-interest] strange bug (v 2.7.2)
> >
> >
> > What's the warning say?
> >
> > Ter
> >
> > On Tuesday, July 1, 2003, at 10:33  PM, Lloyd Dupont wrote:
> >
> >> (I join you a simple failing grammar)
> >>
> >> basically I have a simple tokens definition like that:
> >> //--------------------------- lexer.g ----------------
> >> class FMSqlLexer extends Lexer;
> >> options {
> >> k = 3;
> >> charVocabulary = '3' .. '177';
> >> }
> >>
> >> NOT_EQ: ("<>") | ("!=") | ("^=") ;
> >> LE: ("<=") ;
> >> LessT: "<" ;
> >> // ---------- end of lexer ----------
> >>
> >> and ANTLR find it ambiguous !
> >>
> >> what's wrong ?
> >> I mean which clues should I give to ANTLR to help it understand its
> >> errors ?
> >>
> >>
> >>
> >> Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
> > --
> > Professor Comp. Sci., University of San Francisco
> > Creator, ANTLR Parser Generator, http://www.antlr.org
> > Co-founder, http://www.jguru.com
> > Co-founder, http://www.knowspam.net enjoy email again!
> > Co-founder, http://www.peerscope.com link sharing, pure-n-simple
> >
> >
> >
> >
> >
> >
> > Your use of Yahoo! Groups is subject to
> > http://docs.yahoo.com/info/terms/
> >
> >
> >
> >
> >
> > Your use of Yahoo! Groups is subject to
> > http://docs.yahoo.com/info/terms/
> >
> > <FileMaker2.g>
> --
> Professor Comp. Sci., University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Co-founder, http://www.jguru.com
> Co-founder, http://www.knowspam.net enjoy email again!
> Co-founder, http://www.peerscope.com link sharing, pure-n-simple
>
>
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lloyd at galador.net  Wed Jul  2 15:38:17 2003
From: lloyd at galador.net (Lloyd Dupont)
Date: Mon Dec 20 16:15:45 2004
Subject: [OT] Re: [antlr-interest] Re: Managed to compile under .Net !!
References: <bdvl7a+gccb@eGroups.com>
Message-ID: <007301c340ea$a1ea07e0$0300000a@hermes>

> They did not forget. This is a legal issue. J# can be Java compatible
> up to version 1.1.4 while File.getParentFile() was introduced in jdk
> 1.2.
> Tom Jastrzebski
>
ha ?
I don't understand why it is a legal issue reading your comment.
btw, as you seems to know a fair bit about that I have a question.
I'm both a Java & .NET (C#) programmer, and I'm quite frustrated that J#
stopped at 1.1.4.
I found a swing library for .NET, by Microsoft, but..... without the JTable
& JTree ! arrggghh....

why don't they implement a JdK superior to 1.1.4 ?
a 1.4 implementation, or even just 1.2 would be good !
I crave for Swing.NET !

do you know why ?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rjc at trump.net.au  Wed Jul  2 16:19:33 2003
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:15:45 2004
Subject: [OT] Re: [antlr-interest] Re: Managed to compile under
  .Net !!
In-Reply-To: <007301c340ea$a1ea07e0$0300000a@hermes>
References: <bdvl7a+gccb@eGroups.com>
Message-ID: <4.2.0.58.20030703090913.00b16ba8@postoffice.trump.net.au>

Hello,

At 08:38 AM 3/07/2003 +1000, Lloyd Dupont wrote:
> > They did not forget. This is a legal issue. J# can be Java compatible
> > up to version 1.1.4 while File.getParentFile() was introduced in jdk
> > 1.2.
> > Tom Jastrzebski
> >
>ha ?
>I don't understand why it is a legal issue reading your comment.
>btw, as you seems to know a fair bit about that I have a question.
>I'm both a Java & .NET (C#) programmer, and I'm quite frustrated that J#
>stopped at 1.1.4.
>I found a swing library for .NET, by Microsoft, but..... without the JTable
>& JTree ! arrggghh....

I have a patch here to enable java 1.1 compilation:
         http://www.trump.net.au/~rjc/antlr/index.html

It replaces a File.getParentFile() call with f.getParent() and replaces a 
Hashset use with Hashtable(...interesting that J# appeared to know about 
1.2 collections).

>why don't they implement a JdK superior to 1.1.4 ?
>a 1.4 implementation, or even just 1.2 would be good !
>I crave for Swing.NET !
>
>do you know why ?

Banned by court order maybe?  Also would hurt their C# push.

I think you can get third party apps to provide an emulation layer to run 
JVM apps on CLR and to run CLR applications on JVM.

- Robert


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From tdjastrzebski at yahoo.com  Wed Jul  2 17:09:10 2003
From: tdjastrzebski at yahoo.com (tdjastrzebski)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Bug in c# case-insensitive lexer
In-Reply-To: <bdvagc+sh5c@eGroups.com>
Message-ID: <bdvs76+btb7@eGroups.com>

Since you mentioned forthcoming service release

I am sure you realize this by now, but just in case


Exceptions in .Net Framework are really meant to be used only in 
exceptional situations. In another words, although just having an 
exception handler costs virtually nothing, handling exceptions is a 
HUGE performance hit.

I mentioned that because browsing Antlr generated code as well as the 
runtime I notice exceptions often being used more for convenience and 
form, but not necessary for efficiency.
Good example is CharScanner.testLiteralsTable() method. Using 
exception handler instead of testing if hashtable contains particular 
key makes code run about twice faster but ONLY if the key IS found. 
If the key is not found handling the exception slows down  release 
code execution about 25 times compared to a version checking first if 
the key exists and if so pulling the appropriate object. Sample 
solution:

public virtual int testLiteralsTable(int ttype)
{
	string key = text.ToString();
	
	if (literals.ContainsKey(key)) {
		return (int) literals[key];
	} else {
		return ttype;
	}		
}

public virtual int testLiteralsTable(string someText, int ttype)
{
	if (literals.ContainsKey(someText)) {
		return (int) literals[someText];
	} else {
		return ttype;
	}		
}

Also throwing MismatchedTokenException in Parser.match() (to 
initialize backtracking, I guess) while performing syntactic 
predicate does not seem to be the best possible approach. In 
development debug environment it slows down parse time of a short 
text from a fraction of a second to several seconds. But I am too new 
to Antlr to dare to suggest anything.

Besides that I am really looking forward for future versions of this 
truly good tool.

Regards,
Tom Jastrzebski


> Thanks for the report Tom,
> 
> This issue has already been fixed. I'll arrange a service release 
for 
> the C# bits as soon as schedule permits.
> 
> Cheers,
> 
> Micheal
> ANTLR/C# codegen
> 
> > So appropriate line in lexer should read:
> > 
> > literals = new Hashtable( new 
> > System.Collections.CaseInsensitiveHashCodeProvider(), new 
> > System.Collections.CaseInsensitiveComparer());
> > 
> > instead of:
> > 
> > literals = new Hashtable( new 
> > System.Collections.CaseInsensitiveHashCodeProvider(), null);
> > 
> > Which should be corrected in line 1252 of 
CSharpCodeGenerator.java 
> > file.
> > 
> > Regards,
> > Tom Jastrzebski


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From tdjastrzebski at yahoo.com  Wed Jul  2 17:22:44 2003
From: tdjastrzebski at yahoo.com (tdjastrzebski)
Date: Mon Dec 20 16:15:45 2004
Subject: [OT] Re: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <4.2.0.58.20030703090913.00b16ba8@postoffice.trump.net.au>
Message-ID: <bdvt0k+b2en@eGroups.com>

> Banned by court order maybe?
yes, as a part for settlement between MS and Sun
the whole story is available at 
http://www.microsoft.com/presspass/java/

Tom Jastrzebski



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From open.zone at virgin.net  Wed Jul  2 18:12:27 2003
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Bug in c# case-insensitive lexer
In-Reply-To: <bdvs76+btb7@eGroups.com>
Message-ID: <bdvvtr+akra@eGroups.com>

> Since you mentioned forthcoming service release

> I am sure you realize this by now, but just in case


> Good example is CharScanner.testLiteralsTable() method. 

<SNIP>

> Sample solution:
> 
> public virtual int testLiteralsTable(int ttype)
> {
> 	string key = text.ToString();
> 	
> 	if (literals.ContainsKey(key)) {
> 		return (int) literals[key];
> 	} else {
> 		return ttype;
> 	}		
> }
> 
> public virtual int testLiteralsTable(string someText, int ttype)
> {
> 	if (literals.ContainsKey(someText)) {
> 		return (int) literals[someText];
> 	} else {
> 		return ttype;
> 	}		
> }

Thanks again Tom for you comments. This is what those functions look 
like at the moment:

public virtual int testLiteralsTable(int ttype)
{
   string tokenText = text.ToString();

   if ( (tokenText == null) || (tokenText == string.Empty) )
      return ttype;
   else
   {
      object typeAsObject = literals[tokenText];
      return (typeAsObject == null) ? ttype : ((int) typeAsObject);
   }
}
		
public virtual int testLiteralsTable(string someText, int ttype)
{
   if ( (someText == null) || (someText == string.Empty) )
      return ttype;
   else
   {
      object typeAsObject = literals[someText];
      return (typeAsObject == null) ? ttype : ((int) typeAsObject);
   }
}
		

> Also throwing MismatchedTokenException in Parser.match() (to 
> initialize backtracking, I guess) while performing syntactic 
> predicate does not seem to be the best possible approach.

I'm not sure there is an issue here but either way this is one for 
ANTLR v3 I'm afraid. Unless I receive a good patch for an alternate 
design... ;-)

> But I am too new to Antlr to dare to suggest anything.
> 
> Besides that I am really looking forward for future versions 
> of this truly good tool.

;-)

Cheers,

Micheal
ANTLR/C#



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From Anthony.Youngman at ECA-International.com  Thu Jul  3 01:47:53 2003
From: Anthony.Youngman at ECA-International.com (Anthony W Youngman)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
Message-ID: <C7FE35004D40FD45AA342991B88CE40409A3EA@lnml1.eca-international.local>

Where's the legal stuff saying it CAN'T be compatible?

The whole legal fuss was over the fact that MS was calling their stuff
"Java" when it couldn't pass the certification tests, and was
*deliberately* making their implementation appear to produce portable
code when it was stuffed with Win32 extensions.

As far as I know, there is ABSOLUTELY NO BARRIER to MS including
Java-compatibility stuff. The two points at issue are that MS is acting
like a spoilt brat, and that Sun got an injunction saying that MS
couldn't call it "Java" unless it could pass the Java-compatibility
tests (or in other words "don't abuse our trademark").

Cheers,
Wol.

-----Original Message-----
From: tdjastrzebski [mailto:tdjastrzebski@yahoo.com] 
Sent: 02 July 2003 23:10
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: Managed to compile under .Net !!


> I was also able to use J# to generate Tool.exe file for .NET
> As Tom mentioned, there was only one change needed, which it seems 
Microsoft
> team missed from their java library implementation.

They did not forget. This is a legal issue. J# can be Java compatible 
up to version 1.1.4 while File.getParentFile() was introduced in jdk 
1.2.
Tom Jastrzebski


 

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 9911 7799, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

From Anthony.Youngman at ECA-International.com  Thu Jul  3 01:56:12 2003
From: Anthony.Youngman at ECA-International.com (Anthony W Youngman)
Date: Mon Dec 20 16:15:45 2004
Subject: [OT] Re: [antlr-interest] Re: Managed to compile under .Net !!
Message-ID: <C7FE35004D40FD45AA342991B88CE40409A3EB@lnml1.eca-international.local>

That's just a biased summary (no bad vibes meant - of course it's biased
- it's by a participant in the dispute :-)

But where is the reference that bans them?

As I understand it, there are no restrictions saying they can't be
Java-compatible - at any version! They're just not allowed to abuse the
Java trademark by claiming that MS code will run on a Sun/Blackdown/IBM
JVM if it won't.

Should they care to implement the JDK1.2 interface then (a) there is
nothing to stop them, and (b) there is nothing to stop them saying "J#
will run Java 1.2 code". What they *cannot* do is call the resulting J#
"Java" because J# won't run on a Java 1.2 JVM.

Cheers,
Wol

-----Original Message-----
From: tdjastrzebski [mailto:tdjastrzebski@yahoo.com] 
Sent: 03 July 2003 01:23
To: antlr-interest@yahoogroups.com
Subject: [OT] Re: [antlr-interest] Re: Managed to compile under .Net !!


> Banned by court order maybe?
yes, as a part for settlement between MS and Sun
the whole story is available at 
http://www.microsoft.com/presspass/java/

Tom Jastrzebski



 

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 9911 7799, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

From tdjastrzebski at yahoo.com  Thu Jul  3 03:07:12 2003
From: tdjastrzebski at yahoo.com (tdjastrzebski)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409A3EA@lnml1.eca-international.local>
Message-ID: <be0v8g+10ui2@eGroups.com>

> Where's the legal stuff saying it CAN'T be compatible?

http://safariexamples.informit.com/0130320722/mslegal/java/settlement.
html
- see section 6(a) and others
They can not even improve performance (!) - section 7(a)iii

Well, you are right. It can be compatible but ... they (MS) would 
need a new license for it. Current license does not allow them to go 
beyond version 1.1.4 (http://java.sun.com/pr/2001/01/pr010123-
01.html).

I think MS is just afraid that if they continue to develop new 
versions compatible with new "official" versions Sun could try to 
prove in court that this is still Java but named J#. (J++ was not 
named Java too). And they would probably win.

Of course MS could get a new license but I am not sure they actually 
could. And right now, I am sure, they do not want to.
Remember, whatever they say this is primary about business and 
competition.

> MS is acting like a spoilt brat

Well, I think it is kind of new Sun's point of view, when they want 
MS to distribute their VM :) But read their older statements...

Cheers,
Tom Jastrzebski



<Anthony.Youngman@E...> wrote:
> Where's the legal stuff saying it CAN'T be compatible?
> 
> The whole legal fuss was over the fact that MS was calling their 
stuff
> "Java" when it couldn't pass the certification tests, and was
> *deliberately* making their implementation appear to produce 
portable
> code when it was stuffed with Win32 extensions.
> 
> As far as I know, there is ABSOLUTELY NO BARRIER to MS including
> Java-compatibility stuff. The two points at issue are that MS is 
acting
> like a spoilt brat, and that Sun got an injunction saying that MS
> couldn't call it "Java" unless it could pass the Java-compatibility
> tests (or in other words "don't abuse our trademark").
> 
> Cheers,
> Wol.
> 
> -----Original Message-----
> From: tdjastrzebski [mailto:tdjastrzebski@y...] 
> Sent: 02 July 2003 23:10
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: Managed to compile under .Net !!
> 
> 
> > I was also able to use J# to generate Tool.exe file for .NET
> > As Tom mentioned, there was only one change needed, which it 
seems 
> Microsoft
> > team missed from their java library implementation.
> 
> They did not forget. This is a legal issue. J# can be Java 
compatible 
> up to version 1.1.4 while File.getParentFile() was introduced in 
jdk 
> 1.2.
> Tom Jastrzebski
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 
> This transmission is intended for the named recipient only. It may 
contain private and confidential information. If this has come to you 
in error you must not act on anything disclosed in it, nor must you 
copy it, modify it, disseminate it in any way, or show it to anyone. 
Please e-mail the sender to inform us of the transmission error or 
telephone ECA International immediately and delete the e-mail from 
your information system.
> 
> Telephone numbers for ECA International offices are: Sydney +61 (0)
2 9911 7799, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 
and New York +1 212 582 2333.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From Anthony.Youngman at ECA-International.com  Thu Jul  3 03:28:57 2003
From: Anthony.Youngman at ECA-International.com (Anthony W Youngman)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
Message-ID: <C7FE35004D40FD45AA342991B88CE40409A3EC@lnml1.eca-international.local>

I'd refer you to clause 7 too ...

Note that it says the purpose of all the previous stuff is "to enable MS
to continue shipping existing product 'as is' ". Hence the ban on
improving it ... Note also that the "existing product" was called "Java"
when it breached the compatibility requirements and, as such, was not
allowed to be called Java as per the contract.

In other words, this was a "get-out" agreement, to avoid MS being forced
to pull the plug on Java developers - it was in Sun's interest and in
MS's interest to allow the existing state of affairs to continue, but
Sun did not want MS to make further incompatible modifications.

Oh - and when I said MS was behaving like a spoilt brat I wasn't
thinking of the current legal spat - I was thinking of this one. It was
ALWAYS an option open to MS to submit their JVM for testing, and if it
had passed the compatibility tests it would have been fine to ship. But
MS chose to drop the product, rather than fix those places where it
failed the compatibility tests.

The whole point of the Sun lawsuit was that MS had licenced Sun code,
and was using the Java trademark, and contrary to the terms of the
contract was shipping a product that failed the compatibility tests. If
MS had fixed the compatibility problem they would have been allowed to
continue shipping updated JVMs.

All that agreement says is that MS could continue to sell their existing
1.1.4 JVM. It also prevents them shipping an improved product that is in
breach of the original contract. If MS had chosen to abide by the
contract then they could have shipped an updated JVM! THAT is why I said
they were behaving like spoilt brats - they broke their side of the
agreement, and when the other side complained they picked up their
marbles and went home ...

Cheers,
Wol

-----Original Message-----
From: tdjastrzebski [mailto:tdjastrzebski@yahoo.com] 
Sent: 03 July 2003 11:07
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: Managed to compile under .Net !!


> Where's the legal stuff saying it CAN'T be compatible?

http://safariexamples.informit.com/0130320722/mslegal/java/settlement.
html
- see section 6(a) and others
They can not even improve performance (!) - section 7(a)iii

Well, you are right. It can be compatible but ... they (MS) would 
need a new license for it. Current license does not allow them to go 
beyond version 1.1.4 (http://java.sun.com/pr/2001/01/pr010123-
01.html).

I think MS is just afraid that if they continue to develop new 
versions compatible with new "official" versions Sun could try to 
prove in court that this is still Java but named J#. (J++ was not 
named Java too). And they would probably win.

Of course MS could get a new license but I am not sure they actually 
could. And right now, I am sure, they do not want to.
Remember, whatever they say this is primary about business and 
competition.

> MS is acting like a spoilt brat

Well, I think it is kind of new Sun's point of view, when they want 
MS to distribute their VM :) But read their older statements...

Cheers,
Tom Jastrzebski



<Anthony.Youngman@E...> wrote:
> Where's the legal stuff saying it CAN'T be compatible?
> 
> The whole legal fuss was over the fact that MS was calling their 
stuff
> "Java" when it couldn't pass the certification tests, and was
> *deliberately* making their implementation appear to produce 
portable
> code when it was stuffed with Win32 extensions.
> 
> As far as I know, there is ABSOLUTELY NO BARRIER to MS including
> Java-compatibility stuff. The two points at issue are that MS is 
acting
> like a spoilt brat, and that Sun got an injunction saying that MS
> couldn't call it "Java" unless it could pass the Java-compatibility
> tests (or in other words "don't abuse our trademark").
> 
> Cheers,
> Wol.
> 
> -----Original Message-----
> From: tdjastrzebski [mailto:tdjastrzebski@y...] 
> Sent: 02 July 2003 23:10
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: Managed to compile under .Net !!
> 
> 
> > I was also able to use J# to generate Tool.exe file for .NET
> > As Tom mentioned, there was only one change needed, which it 
seems 
> Microsoft
> > team missed from their java library implementation.
> 
> They did not forget. This is a legal issue. J# can be Java 
compatible 
> up to version 1.1.4 while File.getParentFile() was introduced in 
jdk 
> 1.2.
> Tom Jastrzebski
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 
> This transmission is intended for the named recipient only. It may 
contain private and confidential information. If this has come to you 
in error you must not act on anything disclosed in it, nor must you 
copy it, modify it, disseminate it in any way, or show it to anyone. 
Please e-mail the sender to inform us of the transmission error or 
telephone ECA International immediately and delete the e-mail from 
your information system.
> 
> Telephone numbers for ECA International offices are: Sydney +61 (0)
2 9911 7799, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 
and New York +1 212 582 2333.


 

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 9911 7799, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

From tdjastrzebski at yahoo.com  Thu Jul  3 04:09:05 2003
From: tdjastrzebski at yahoo.com (tdjastrzebski)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409A3EC@lnml1.eca-international.local>
Message-ID: <be12sh+hs1p@eGroups.com>

I did not say that it is not all Microsoft's fault. Indeed, it is.
But under current agreement, which they were force to sing as a 
penalty, Microsoft can not develop the product (regardless it is J++ 
or J#) any further than version 1.1.4. Which means thay can not even 
do reverse engineering and implement functionality found in new 
versions. Some other company could, but not Microsoft.

Tom Jastrzebski


--- In antlr-interest@yahoogroups.com, "Anthony W Youngman" 
<Anthony.Youngman@E...> wrote:
> I'd refer you to clause 7 too ...
> 
> Note that it says the purpose of all the previous stuff is "to 
enable MS
> to continue shipping existing product 'as is' ". Hence the ban on
> improving it ... Note also that the "existing product" was 
called "Java"
> when it breached the compatibility requirements and, as such, was 
not
> allowed to be called Java as per the contract.
> 
> In other words, this was a "get-out" agreement, to avoid MS being 
forced
> to pull the plug on Java developers - it was in Sun's interest and 
in
> MS's interest to allow the existing state of affairs to continue, 
but
> Sun did not want MS to make further incompatible modifications.
> 
> Oh - and when I said MS was behaving like a spoilt brat I wasn't
> thinking of the current legal spat - I was thinking of this one. It 
was
> ALWAYS an option open to MS to submit their JVM for testing, and if 
it
> had passed the compatibility tests it would have been fine to ship. 
But
> MS chose to drop the product, rather than fix those places where it
> failed the compatibility tests.
> 
> The whole point of the Sun lawsuit was that MS had licenced Sun 
code,
> and was using the Java trademark, and contrary to the terms of the
> contract was shipping a product that failed the compatibility 
tests. If
> MS had fixed the compatibility problem they would have been allowed 
to
> continue shipping updated JVMs.
> 
> All that agreement says is that MS could continue to sell their 
existing
> 1.1.4 JVM. It also prevents them shipping an improved product that 
is in
> breach of the original contract. If MS had chosen to abide by the
> contract then they could have shipped an updated JVM! THAT is why I 
said
> they were behaving like spoilt brats - they broke their side of the
> agreement, and when the other side complained they picked up their
> marbles and went home ...
> 
> Cheers,
> Wol
> 
> -----Original Message-----
> From: tdjastrzebski [mailto:tdjastrzebski@y...] 
> Sent: 03 July 2003 11:07
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: Managed to compile under .Net !!
> 
> 
> > Where's the legal stuff saying it CAN'T be compatible?
> 
> 
http://safariexamples.informit.com/0130320722/mslegal/java/settlement.
> html
> - see section 6(a) and others
> They can not even improve performance (!) - section 7(a)iii
> 
> Well, you are right. It can be compatible but ... they (MS) would 
> need a new license for it. Current license does not allow them to 
go 
> beyond version 1.1.4 (http://java.sun.com/pr/2001/01/pr010123-
> 01.html).
> 
> I think MS is just afraid that if they continue to develop new 
> versions compatible with new "official" versions Sun could try to 
> prove in court that this is still Java but named J#. (J++ was not 
> named Java too). And they would probably win.
> 
> Of course MS could get a new license but I am not sure they 
actually 
> could. And right now, I am sure, they do not want to.
> Remember, whatever they say this is primary about business and 
> competition.
> 
> > MS is acting like a spoilt brat
> 
> Well, I think it is kind of new Sun's point of view, when they want 
> MS to distribute their VM :) But read their older statements...
> 
> Cheers,
> Tom Jastrzebski
> 
> 
> 
> <Anthony.Youngman@E...> wrote:
> > Where's the legal stuff saying it CAN'T be compatible?
> > 
> > The whole legal fuss was over the fact that MS was calling their 
> stuff
> > "Java" when it couldn't pass the certification tests, and was
> > *deliberately* making their implementation appear to produce 
> portable
> > code when it was stuffed with Win32 extensions.
> > 
> > As far as I know, there is ABSOLUTELY NO BARRIER to MS including
> > Java-compatibility stuff. The two points at issue are that MS is 
> acting
> > like a spoilt brat, and that Sun got an injunction saying that MS
> > couldn't call it "Java" unless it could pass the Java-
compatibility
> > tests (or in other words "don't abuse our trademark").
> > 
> > Cheers,
> > Wol.
> > 
> > -----Original Message-----
> > From: tdjastrzebski [mailto:tdjastrzebski@y...] 
> > Sent: 02 July 2003 23:10
> > To: antlr-interest@yahoogroups.com
> > Subject: [antlr-interest] Re: Managed to compile under .Net !!
> > 
> > 
> > > I was also able to use J# to generate Tool.exe file for .NET
> > > As Tom mentioned, there was only one change needed, which it 
> seems 
> > Microsoft
> > > team missed from their java library implementation.
> > 
> > They did not forget. This is a legal issue. J# can be Java 
> compatible 
> > up to version 1.1.4 while File.getParentFile() was introduced in 
> jdk 
> > 1.2.
> > Tom Jastrzebski
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to
> > http://docs.yahoo.com/info/terms/ 
> > 
> > 
> > 
> > This transmission is intended for the named recipient only. It 
may 
> contain private and confidential information. If this has come to 
you 
> in error you must not act on anything disclosed in it, nor must you 
> copy it, modify it, disseminate it in any way, or show it to 
anyone. 
> Please e-mail the sender to inform us of the transmission error or 
> telephone ECA International immediately and delete the e-mail from 
> your information system.
> > 
> > Telephone numbers for ECA International offices are: Sydney +61 
(0)
> 2 9911 7799, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 
> and New York +1 212 582 2333.
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 
> This transmission is intended for the named recipient only. It may 
contain private and confidential information. If this has come to you 
in error you must not act on anything disclosed in it, nor must you 
copy it, modify it, disseminate it in any way, or show it to anyone. 
Please e-mail the sender to inform us of the transmission error or 
telephone ECA International immediately and delete the e-mail from 
your information system.
> 
> Telephone numbers for ECA International offices are: Sydney +61 (0)
2 9911 7799, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 
and New York +1 212 582 2333.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From tdjastrzebski at yahoo.com  Thu Jul  3 04:19:58 2003
From: tdjastrzebski at yahoo.com (tdjastrzebski)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Re: Bug in c# case-insensitive lexer
In-Reply-To: <bdvvtr+akra@eGroups.com>
Message-ID: <be13gu+4pi2@eGroups.com>

> > Also throwing MismatchedTokenException in Parser.match() (to 
> > initialize backtracking, I guess) while performing syntactic 
> > predicate does not seem to be the best possible approach.
> 
> I'm not sure there is an issue here but either way this is one for 
> ANTLR v3 I'm afraid. Unless I receive a good patch for an alternate 
> design... ;-)

That is the result of my research on why certain texts of similar 
length parse MUCH slower than others. I would be more than happy to 
send you a complete test if you'd like to take a look at it.

Tom Jastrzebski


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From set at nortelnetworks.com  Thu Jul  3 10:18:09 2003
From: set at nortelnetworks.com (setuk_x)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Guidance Required
Message-ID: <be1ogh+4itk@eGroups.com>

I am new Java and Antlr.
I have written a basic parser in Perl before - but it is proving slow 
and unwieldy and so I am looking to Antlr to fill the gap.
I need to parse a text file which contains text in the format 
(simplest form)
DES  MAIL1 
TN   001 0 02 00 
TYPE SL1 
CDEN DD
CUST 0 
KLS  1 
FDN  
TGAR 0 
LDN  NO
NCOS 4 
SGRP 0 
RNPG 0 
SCI  0 
SSU  
XLST 
SCPW 
SFLT NO

I need to be able to classify each line a specific type so I can pass 
these types to the parser and validate that what I have is a valid 
record.

Is the best way to do this using Lexer tokens? Such as:-

class TNBLexer extends Lexer;
options { k = 5;
		  defaultErrorHandler = true;
	    }
// TNB is mostly uppercase but we need lowercase in here because of 
the CPND

TN  : (("TN")+ (NUMERIC)+ NEWLINE);
DES : (("DES") (ANYTHING)+);
DATE: (("DATE")+ (NUMERIC NUMERIC '/'NUMERIC NUMERIC '/'NUMERIC 
NUMERIC));
WS:   ((' ')|('\t')){$setType(Token.SKIP);};

protected ANYTHING : ((ALPHA|NUMERIC|PUNCTUATION));
protected ALPHA : ('a'..'z'|'A'..'Z');
protected NUMERIC :('0'..'9');
protected PUNCTUATION :('_'|'-
'|'+'|'/'|';'|'#'|'*'|'\\'|':'|','|'\''|'.'|'?');
protected NEWLINE: ((('\r' '\n')+ |('\n')+ | ('\r')) { newline(); });

Or am I completely on the wrong track.
I am wading my way through the doc at the moment so any advice would 
be helpful.

Thanks Simon




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From gudnabrsam at yahoo.com  Thu Jul  3 10:42:33 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:45 2004
Subject: [antlr-interest] Guidance Required
In-Reply-To: <be1ogh+4itk@eGroups.com>
Message-ID: <20030703174233.82105.qmail@web20422.mail.yahoo.com>

I'm no expert, but it looks to me like you have
combined the work of your parser and lexer.  I'm just
guessing here, but something like this might be what
you want:

//parser rules

file //assuming all are optional
  : (des)? (tn)? (type)? (cden)?
    (cust)? (kls)? (fdn)? (tgar)?
    (ldn)? (ncos)? (sgrp)? (rnpg)?
    (sci)? (ssu)? (xlst)? (scpw)? (sflt)?
//don't know where the date rule goes
    EOF
  ;

protected tn : "TN" (NUMERIC)+ NEWLINE ;
protected des : "DES" anything NEWLINE ;
protected anything
  : (
     (ALPHA)+
     | (NUMERIC)+
     | PUNCTUATION
    )+ //I'm guessing...
  ;

protected date
  : "DATE"
    NUMERIC NUMERIC '/'
    NUMERIC NUMERIC '/'
    NUMERIC NUMERIC
  ;

//lexer rules

/* there are probably better ways to wrap
   single-character tokens into "word" tokens...
*/
WS:   ' ' | '\t' {$setType(Token.SKIP);} ;
ALPHA : ('a'..'z'|'A'..'Z');
NUMERIC :('0'..'9');
PUNCTUATION
  : '_' | '-' | '+' | '/' | ';' | '#'
  | '*' | '\\' | ':' | ',' | '\'' | '.' | '?'
  ;

NEWLINE
  : ('\r' '\n')+ | ('\n')+ | ('\r')+
    { newline(); })
  ;


-Matt


--- setuk_x <set@nortelnetworks.com> wrote:
> I am new Java and Antlr.
> I have written a basic parser in Perl before - but
> it is proving slow 
> and unwieldy and so I am looking to Antlr to fill
> the gap.
> I need to parse a text file which contains text in
> the format 
> (simplest form)
> DES  MAIL1 
> TN   001 0 02 00 
> TYPE SL1 
> CDEN DD
> CUST 0 
> KLS  1 
> FDN  
> TGAR 0 
> LDN  NO
> NCOS 4 
> SGRP 0 
> RNPG 0 
> SCI  0 
> SSU  
> XLST 
> SCPW 
> SFLT NO
> 
> I need to be able to classify each line a specific
> type so I can pass 
> these types to the parser and validate that what I
> have is a valid 
> record.
> 
> Is the best way to do this using Lexer tokens? Such
> as:-
> 
> class TNBLexer extends Lexer;
> options { k = 5;
> 		  defaultErrorHandler = true;
> 	    }
> // TNB is mostly uppercase but we need lowercase in
> here because of 
> the CPND
> 
> TN  : (("TN")+ (NUMERIC)+ NEWLINE);
> DES : (("DES") (ANYTHING)+);
> DATE: (("DATE")+ (NUMERIC NUMERIC '/'NUMERIC NUMERIC
> '/'NUMERIC 
> NUMERIC));
> WS:   ((' ')|('\t')){$setType(Token.SKIP);};
> 
> protected ANYTHING : ((ALPHA|NUMERIC|PUNCTUATION));
> protected ALPHA : ('a'..'z'|'A'..'Z');
> protected NUMERIC :('0'..'9');
> protected PUNCTUATION :('_'|'-
> '|'+'|'/'|';'|'#'|'*'|'\\'|':'|','|'\''|'.'|'?');
> protected NEWLINE: ((('\r' '\n')+ |('\n')+ | ('\r'))
> { newline(); });
> 
> Or am I completely on the wrong track.
> I am wading my way through the doc at the moment so
> any advice would 
> be helpful.
> 
> Thanks Simon
> 
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From frankhil at junglemate.com  Thu Jul  3 10:44:24 2003
From: frankhil at junglemate.com (frankhileman)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <200307021507906.SM01108@CS>
Message-ID: <be1q1o+bqnd@eGroups.com>

> I think it would be good if antlr
> would provide .NET version of tool. Especially for people who only 
use the
> C#  version (me). It's easier to integrate into VS and is only one 
500K
> executable file.

Yes, I agree strongly. If you don't use Java for anything else, it 
is just another maintenance burden.

Frank Hileman


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From frankhil at junglemate.com  Thu Jul  3 10:58:26 2003
From: frankhil at junglemate.com (frankhileman)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409A3EA@lnml1.eca-international.local>
Message-ID: <be1qs2+bb7p@eGroups.com>

--- In antlr-interest@yahoogroups.com, "Anthony W Youngman" 
<Anthony.Youngman@E...> wrote:
> Where's the legal stuff saying it CAN'T be compatible?
> 
> The whole legal fuss was over the fact that MS was calling their 
stuff
> "Java" when it couldn't pass the certification tests, and was
> *deliberately* making their implementation appear to produce 
portable
> code when it was stuffed with Win32 extensions.
> 
> As far as I know, there is ABSOLUTELY NO BARRIER to MS including
> Java-compatibility stuff. The two points at issue are that MS is 
acting
> like a spoilt brat, and that Sun got an injunction saying that MS
> couldn't call it "Java" unless it could pass the Java-compatibility
> tests (or in other words "don't abuse our trademark").

If Sun had put Java into ISO or ECMA certification, with no 
trademark on the name, all the subsequent legal crapola would 
probably never have happened. We would be using third-party tests to 
determine conformance to an ISO standard. Sun did more to kill Java 
than anyone, I think.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From open.zone at virgin.net  Thu Jul  3 11:00:34 2003
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] OFF-TOPIC: Re: Managed to compile under .Net !!
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409A3EC@lnml1.eca-international.local>
Message-ID: <be1r02+8crr@eGroups.com>

This isn't the place for thrashing over all this again but my 2 bits:

> Oh - and when I said MS was behaving like a spoilt brat I wasn't
> thinking of the current legal spat - I was thinking of this one. It 
was
> ALWAYS an option open to MS to submit their JVM for testing, and if 
it
> had passed the compatibility tests it would have been fine to ship. 
But
> MS chose to drop the product, rather than fix those places where it
> failed the compatibility tests.

My memory may be a little suspect but, this whole issue was really 
about two plays:
(1) Sun's attempt to use the JVM as a channel for installing it's own 
proprietary middleware platform on all OS that ran a JVM - Windows in 
particular. This could have effectively killed off OSes as products.
(2) MS's attempt to thwart Sun's Java platform (not language) by 
separating the Java language from the Java platform.

> The whole point of the Sun lawsuit was that MS had licenced Sun 
code,
> and was using the Java trademark, and contrary to the terms of the
> contract was shipping a product that failed the compatibility tests.

MS's jvm was nevertheless recognized as the most compliant *at the 
time* (if you ignore the JNI/middleware-ish bits it chose not to 
implement).

Of course MS was guilty of polluting some of the inbuilt packages 
with platform-specific types/members.

> If MS had fixed the compatibility problem they would have been 
allowed to
> continue shipping updated JVMs.

All the while helping Sun to undermine the Windows platform?. There 
was talk then of including what became J2EE in the standard platform 
and using the intergration of Java with the Netscape browser as a 
delivery channel. What then happens to COM, MTS/COM+, MSMQ, IIS....

> If MS had chosen to abide by the
> contract then they could have shipped an updated JVM! THAT is why I 
said
> they were behaving like spoilt brats - they broke their side of the
> agreement, and when the other side complained they picked up their
> marbles and went home ...

I've read a lot of the text of the contract and depending on my 
political whims, the day of the week and whose lobbying me the 
hardest, either or both of Sun and MS could be right, wrong or both!.

Regardless of personal opinions of the events and the outcome, I'm 
just glad that Sun and MS's little splat over Java & Windows produced 
both J2SE/J2EE and .NET/Mono/dotGNU.

Cheers,

Micheal
ANTLR/C#


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From open.zone at virgin.net  Thu Jul  3 11:04:01 2003
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: Bug in c# case-insensitive lexer
In-Reply-To: <be13gu+4pi2@eGroups.com>
Message-ID: <be1r6h+h1ua@eGroups.com>

--- In antlr-interest@yahoogroups.com, "tdjastrzebski" 
<tdjastrzebski@y...> wrote:
> > > Also throwing MismatchedTokenException in Parser.match() (to 
> > > initialize backtracking, I guess) while performing syntactic 
> > > predicate does not seem to be the best possible approach.
> > 
> > I'm not sure there is an issue here but either way this is one 
for 
> > ANTLR v3 I'm afraid. Unless I receive a good patch for an 
alternate 
> > design... ;-)
> 
> That is the result of my research on why certain texts of similar 
> length parse MUCH slower than others. I would be more than happy to 
> send you a complete test if you'd like to take a look at it.

That would be cool. I promise to have a look at it as soon as our 
schedule permits.

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From open.zone at virgin.net  Thu Jul  3 11:18:57 2003
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <be1q1o+bqnd@eGroups.com>
Message-ID: <be1s2h+7rta@eGroups.com>

> > I think it would be good if antlr
> > would provide .NET version of tool. Especially for people who 
only 
> use the
> > C#  version (me). It's easier to integrate into VS and is only 
one 
> 500K
> > executable file.
> 
> Yes, I agree strongly. If you don't use Java for anything else, it 
> is just another maintenance burden.
> 
> Frank Hileman

Hmmm,....."just another maintenance burden" is an unfair 
characterization of Java with respect to ANTLR usage even on 
purely .NET projects. Nevertheless, I have wanted to eliminate Java 
entirely on many occasions in the past too. In fact, we had a .NET 
executable available - courtesy of J# - long before ANTLR/C# was 
born. It is seldom used today.

If a decision is taken to _always_ produce a .NET executable of the 
ANTLR tool itself using J#, hidden within that is an implicit 
assumption then that ANTLR would restrict itself to using JDK1.1.4 
features only. Otherwise we end up with two code bases.

Personally, I can see no strong arguments in favour of such a 
restriction just to support the availability of a .NET executable. 

Of course, if a robust Java-to-CIL compiler were to become 
available.....

Cheers,

Micheal
ANTLR/C#


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From set at nortelnetworks.com  Thu Jul  3 11:51:34 2003
From: set at nortelnetworks.com (setuk_x)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: Guidance Required
In-Reply-To: <20030703174233.82105.qmail@web20422.mail.yahoo.com>
Message-ID: <be1tvm+10756@eGroups.com>

OK recoded with the following.
Given a file which starts "TN 000 00 00 00"
It errors not recognising character
When debugging the parser code the first comparison against a literal 
TN doesn't evalate to true - even though the first token is a literal 
TN.
Any ideas.

//Attempt to classify the TNB File into TNB Records
// Containing explicit tokens

class TNBParser extends Parser;
options { k = 3;
		  defaultErrorHandler = true;
	    }
	    //A tnbfile consists of one or more tnbrecords
tnbfile  :  (record)+  EOF;

record //A tnbrecord consists of this number of explicit values
	    :  ( (tn) (des)? (date))
	    ;

protected tn : "TN" (NUMERIC)+ NEWLINE ;
protected des : "DES" anything NEWLINE ;
protected anything :
      (
		(ALPHA)+
	  | (NUMERIC)+
	  | (PUNCTUATION)+
	  );
protected date
  : "DATE"
    NUMERIC NUMERIC FW_SLASH
    NUMERIC NUMERIC FW_SLASH
    NUMERIC NUMERIC
  ;
	
class TNBLexer extends Lexer;
options { k = 3;
		  defaultErrorHandler = true;
	    }
// TNB is mostly uppercase but we need lowercase in here because of 
the CPND

WS: '\t' {$setType(Token.SKIP);} ;

protected ALPHA : ('a'..'z'|'A'..'Z');
protected NUMERIC :('0'..'9');
protected PUNCTUATION :('_'|'-
'|'+'|FW_SLASH|';'|'#'|'*'|'\\'|':'|','|'\''|'.'|'?');
protected NEWLINE: ((('\r' '\n')+ |('\n')+ | ('\r')) { newline(); });
protected SPACE: ' ';
protected FW_SLASH: '/';



--- In antlr-interest@yahoogroups.com, Matt Benson <gudnabrsam@y...> 
wrote:
> I'm no expert, but it looks to me like you have
> combined the work of your parser and lexer.  I'm just
> guessing here, but something like this might be what
> you want:
> 
> //parser rules
> 
> file //assuming all are optional
>   : (des)? (tn)? (type)? (cden)?
>     (cust)? (kls)? (fdn)? (tgar)?
>     (ldn)? (ncos)? (sgrp)? (rnpg)?
>     (sci)? (ssu)? (xlst)? (scpw)? (sflt)?
> //don't know where the date rule goes
>     EOF
>   ;
> 
> protected tn : "TN" (NUMERIC)+ NEWLINE ;
> protected des : "DES" anything NEWLINE ;
> protected anything
>   : (
>      (ALPHA)+
>      | (NUMERIC)+
>      | PUNCTUATION
>     )+ //I'm guessing...
>   ;
> 
> protected date
>   : "DATE"
>     NUMERIC NUMERIC '/'
>     NUMERIC NUMERIC '/'
>     NUMERIC NUMERIC
>   ;
> 
> //lexer rules
> 
> /* there are probably better ways to wrap
>    single-character tokens into "word" tokens...
> */
> WS:   ' ' | '\t' {$setType(Token.SKIP);} ;
> ALPHA : ('a'..'z'|'A'..'Z');
> NUMERIC :('0'..'9');
> PUNCTUATION
>   : '_' | '-' | '+' | '/' | ';' | '#'
>   | '*' | '\\' | ':' | ',' | '\'' | '.' | '?'
>   ;
> 
> NEWLINE
>   : ('\r' '\n')+ | ('\n')+ | ('\r')+
>     { newline(); })
>   ;
> 
> 
> -Matt
> 
> 
> --- setuk_x <set@n...> wrote:
> > I am new Java and Antlr.
> > I have written a basic parser in Perl before - but
> > it is proving slow 
> > and unwieldy and so I am looking to Antlr to fill
> > the gap.
> > I need to parse a text file which contains text in
> > the format 
> > (simplest form)
> > DES  MAIL1 
> > TN   001 0 02 00 
> > TYPE SL1 
> > CDEN DD
> > CUST 0 
> > KLS  1 
> > FDN  
> > TGAR 0 
> > LDN  NO
> > NCOS 4 
> > SGRP 0 
> > RNPG 0 
> > SCI  0 
> > SSU  
> > XLST 
> > SCPW 
> > SFLT NO
> > 
> > I need to be able to classify each line a specific
> > type so I can pass 
> > these types to the parser and validate that what I
> > have is a valid 
> > record.
> > 
> > Is the best way to do this using Lexer tokens? Such
> > as:-
> > 
> > class TNBLexer extends Lexer;
> > options { k = 5;
> > 		  defaultErrorHandler = true;
> > 	    }
> > // TNB is mostly uppercase but we need lowercase in
> > here because of 
> > the CPND
> > 
> > TN  : (("TN")+ (NUMERIC)+ NEWLINE);
> > DES : (("DES") (ANYTHING)+);
> > DATE: (("DATE")+ (NUMERIC NUMERIC '/'NUMERIC NUMERIC
> > '/'NUMERIC 
> > NUMERIC));
> > WS:   ((' ')|('\t')){$setType(Token.SKIP);};
> > 
> > protected ANYTHING : ((ALPHA|NUMERIC|PUNCTUATION));
> > protected ALPHA : ('a'..'z'|'A'..'Z');
> > protected NUMERIC :('0'..'9');
> > protected PUNCTUATION :('_'|'-
> > '|'+'|'/'|';'|'#'|'*'|'\\'|':'|','|'\''|'.'|'?');
> > protected NEWLINE: ((('\r' '\n')+ |('\n')+ | ('\r'))
> > { newline(); });
> > 
> > Or am I completely on the wrong track.
> > I am wading my way through the doc at the moment so
> > any advice would 
> > be helpful.
> > 
> > Thanks Simon
> > 
> > 
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to
> > http://docs.yahoo.com/info/terms/ 
> > 
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lgc at mail1.jpl.nasa.gov  Thu Jul  3 13:25:59 2003
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: Guidance Required
In-Reply-To: <be1tvm+10756@eGroups.com>
Message-ID: <be23gn+83fq@eGroups.com>

"protected" in ANTLR is not the same as "protected" in Java or C++.  
In the lexer, a "protected" rule cannot be invoked by nextToken().  
I'd have to look at the ANTLR source to figure out what "protected" 
means for parser rules--I think that the protected keyword is passed 
through to the code generator in 2.7.2, but I'm not at all sure.

As a first step, none of your lexer rules should be "protected", and 
that is probably true of the parser rules as well.

--Loring


--- In antlr-interest@yahoogroups.com, "setuk_x" <set@n...> wrote:
> OK recoded with the following.
> Given a file which starts "TN 000 00 00 00"
> It errors not recognising character
> When debugging the parser code the first comparison against a 
literal 
> TN doesn't evalate to true - even though the first token is a 
literal 
> TN.
> Any ideas.
> 
> //Attempt to classify the TNB File into TNB Records
> // Containing explicit tokens
> 
> class TNBParser extends Parser;
> options { k = 3;
> 		  defaultErrorHandler = true;
> 	    }
> 	    //A tnbfile consists of one or more tnbrecords
> tnbfile  :  (record)+  EOF;
> 
> record //A tnbrecord consists of this number of explicit values
> 	    :  ( (tn) (des)? (date))
> 	    ;
> 
> protected tn : "TN" (NUMERIC)+ NEWLINE ;
> protected des : "DES" anything NEWLINE ;
> protected anything :
>       (
> 		(ALPHA)+
> 	  | (NUMERIC)+
> 	  | (PUNCTUATION)+
> 	  );
> protected date
>   : "DATE"
>     NUMERIC NUMERIC FW_SLASH
>     NUMERIC NUMERIC FW_SLASH
>     NUMERIC NUMERIC
>   ;
> 	
> class TNBLexer extends Lexer;
> options { k = 3;
> 		  defaultErrorHandler = true;
> 	    }
> // TNB is mostly uppercase but we need lowercase in here because of 
> the CPND
> 
> WS: '\t' {$setType(Token.SKIP);} ;
> 
> protected ALPHA : ('a'..'z'|'A'..'Z');
> protected NUMERIC :('0'..'9');
> protected PUNCTUATION :('_'|'-
> '|'+'|FW_SLASH|';'|'#'|'*'|'\\'|':'|','|'\''|'.'|'?');
> protected NEWLINE: ((('\r' '\n')+ |('\n')+ | ('\r')) { newline(); 
});
> protected SPACE: ' ';
> protected FW_SLASH: '/';
> 
> 
> 
> --- In antlr-interest@yahoogroups.com, Matt Benson <gudnabrsam@y...> 
> wrote:
> > I'm no expert, but it looks to me like you have
> > combined the work of your parser and lexer.  I'm just
> > guessing here, but something like this might be what
> > you want:
> > 
> > //parser rules
> > 
> > file //assuming all are optional
> >   : (des)? (tn)? (type)? (cden)?
> >     (cust)? (kls)? (fdn)? (tgar)?
> >     (ldn)? (ncos)? (sgrp)? (rnpg)?
> >     (sci)? (ssu)? (xlst)? (scpw)? (sflt)?
> > //don't know where the date rule goes
> >     EOF
> >   ;
> > 
> > protected tn : "TN" (NUMERIC)+ NEWLINE ;
> > protected des : "DES" anything NEWLINE ;
> > protected anything
> >   : (
> >      (ALPHA)+
> >      | (NUMERIC)+
> >      | PUNCTUATION
> >     )+ //I'm guessing...
> >   ;
> > 
> > protected date
> >   : "DATE"
> >     NUMERIC NUMERIC '/'
> >     NUMERIC NUMERIC '/'
> >     NUMERIC NUMERIC
> >   ;
> > 
> > //lexer rules
> > 
> > /* there are probably better ways to wrap
> >    single-character tokens into "word" tokens...
> > */
> > WS:   ' ' | '\t' {$setType(Token.SKIP);} ;
> > ALPHA : ('a'..'z'|'A'..'Z');
> > NUMERIC :('0'..'9');
> > PUNCTUATION
> >   : '_' | '-' | '+' | '/' | ';' | '#'
> >   | '*' | '\\' | ':' | ',' | '\'' | '.' | '?'
> >   ;
> > 
> > NEWLINE
> >   : ('\r' '\n')+ | ('\n')+ | ('\r')+
> >     { newline(); })
> >   ;
> > 
> > 
> > -Matt
> > 
> > 
> > --- setuk_x <set@n...> wrote:
> > > I am new Java and Antlr.
> > > I have written a basic parser in Perl before - but
> > > it is proving slow 
> > > and unwieldy and so I am looking to Antlr to fill
> > > the gap.
> > > I need to parse a text file which contains text in
> > > the format 
> > > (simplest form)
> > > DES  MAIL1 
> > > TN   001 0 02 00 
> > > TYPE SL1 
> > > CDEN DD
> > > CUST 0 
> > > KLS  1 
> > > FDN  
> > > TGAR 0 
> > > LDN  NO
> > > NCOS 4 
> > > SGRP 0 
> > > RNPG 0 
> > > SCI  0 
> > > SSU  
> > > XLST 
> > > SCPW 
> > > SFLT NO
> > > 
> > > I need to be able to classify each line a specific
> > > type so I can pass 
> > > these types to the parser and validate that what I
> > > have is a valid 
> > > record.
> > > 
> > > Is the best way to do this using Lexer tokens? Such
> > > as:-
> > > 
> > > class TNBLexer extends Lexer;
> > > options { k = 5;
> > > 		  defaultErrorHandler = true;
> > > 	    }
> > > // TNB is mostly uppercase but we need lowercase in
> > > here because of 
> > > the CPND
> > > 
> > > TN  : (("TN")+ (NUMERIC)+ NEWLINE);
> > > DES : (("DES") (ANYTHING)+);
> > > DATE: (("DATE")+ (NUMERIC NUMERIC '/'NUMERIC NUMERIC
> > > '/'NUMERIC 
> > > NUMERIC));
> > > WS:   ((' ')|('\t')){$setType(Token.SKIP);};
> > > 
> > > protected ANYTHING : ((ALPHA|NUMERIC|PUNCTUATION));
> > > protected ALPHA : ('a'..'z'|'A'..'Z');
> > > protected NUMERIC :('0'..'9');
> > > protected PUNCTUATION :('_'|'-
> > > '|'+'|'/'|';'|'#'|'*'|'\\'|':'|','|'\''|'.'|'?');
> > > protected NEWLINE: ((('\r' '\n')+ |('\n')+ | ('\r'))
> > > { newline(); });
> > > 
> > > Or am I completely on the wrong track.
> > > I am wading my way through the doc at the moment so
> > > any advice would 
> > > be helpful.
> > > 
> > > Thanks Simon
> > > 
> > > 
> > > 
> > > 
> > >  
> > > 
> > > Your use of Yahoo! Groups is subject to
> > > http://docs.yahoo.com/info/terms/ 
> > > 
> > > 
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > SBC Yahoo! DSL - Now only $29.95 per month!
> > http://sbc.yahoo.com


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From vijay at mindspring.com  Thu Jul  3 13:48:28 2003
From: vijay at mindspring.com (dharbari2)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: ANTLR translation - e.g. Java->tree->Java
In-Reply-To: <bdb818+i919@eGroups.com>
Message-ID: <be24qs+c58s@eGroups.com>


Would love to get a copy too. 
vijay@mindspring.com
thanks

Vijay

--- In antlr-interest@yahoogroups.com, "atripp54321" <atripp@c...> 
wrote:
> I have a straightforward JavaEmitter class that produces 
> decent-looking java code from an ANTLR AST.
> I'll mail it to you (I assume it's poor edicate to post
> 900 lines of code).
> 
> Andy
> 
> --- In antlr-interest@yahoogroups.com, "Tim Tyler" <tt2333@y...>
> wrote:
> > I'm contemplating an ANTLR translation project.
> > 
> > To do this I need to reconstruct the Java file from its tree.
> > 
> > There seem to be several problems.
> > 
> > One is that unicode information seems to get blatted.
> > 
> > Another is that most of the Java parsers I can see
> > strip out comments and white space.  I'm likely to
> > be wanting to preserve these as much as possible -
> > and maybe have them in the parse tree.
> > 
> > About the only existing Java ANTLR translation project
> > I'm aware of is Jalopy: http://jalopy.sourceforge.net/
> > 
> > Jalopy suggests that something is at least possible - but
> > it is big and complex - and I'd like a bit of a less hairy
> > example.
> > 
> > Are there any other ANTLR translation projects out there?
> > 
> > I'm a bit suprised ANTLR isn't already a little more translation-
> > oriented.
> > 
> > After all, being able to reconstruct the original file is a good 
> > test for having parsed it correctly ;-)


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Thu Jul  3 15:30:42 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] please check out new website
Message-ID: <FB420932-ADA5-11D7-A859-000393BB647E@cs.usfca.edu>

Folks,

I'll be pushing the new antlr website next week.  You can take a quick 
look now:

http://www.antlr.org/

and let me know your opinion.  It's set up to be a community-based 
site...i have edit/delete permission, but you can add what you want in 
the various categories and I have a generic "File sharing" category 
where we can host or link to patches, resources, etc...

You can publish an article by linking or uploading an html file.  If 
you have images and stuff, just upload a zip and I unzip it looking for 
an index.html and then point at that on my site.

Some of the text needs to be fixed and i need to remove some old 
look-n-feel stuff from old pages, but I'm getting close.

Also, note that I'll be giving away the complete source to this site as 
an example of my jguru-lib that I hope to release at the end of the 
summer.  It has all the page statemachine and string template stuff as 
well as all the goodies from withing jGuru and PeerScope code.  I'll be 
providing complete source to http://www.peerscope.com also.  This antlr 
site is actually pretty generic.  There is some code feeding off a dir 
full of data that says what the site looks like.  An easy way to get a 
project site together if you want one.

Ter
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com link sharing, pure-n-simple




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lloyd at galador.net  Thu Jul  3 18:27:15 2003
From: lloyd at galador.net (lloyd_from_far)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: ANTLR runtime on CE
In-Reply-To: <bdubvr+o76c@eGroups.com>
Message-ID: <be2l5j+uknt@eGroups.com>

--- In antlr-interest@yahoogroups.com, "Lubos Vnuk" <lubos.vnuk@r...> 
wrote:
> I'm definitely interested. Working on a grammar on my PocketPC 
sounds 
> like an interesting option for me. Could you provide the files?
> 
> Thanks,
> Lubos.

Hi Lubos, I don't have your email here, could you email me again 
(lloyd@5dservices.com.au)


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lloyd at galador.net  Thu Jul  3 19:49:41 2003
From: lloyd at galador.net (Lloyd Dupont)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] please check out new website
References: <FB420932-ADA5-11D7-A859-000393BB647E@cs.usfca.edu>
Message-ID: <000b01c341d6$ebd1ae20$730010ac@5dservices.com.au>

I didn't test the file sharing link.
but this new version looks quite nice

----- Original Message -----
From: "Terence Parr" <parrt@cs.usfca.edu>
To: <antlr-interest@yahoogroups.com>
Sent: Friday, July 04, 2003 8:30 AM
Subject: [antlr-interest] please check out new website


> Folks,
>
> I'll be pushing the new antlr website next week.  You can take a quick
> look now:
>
> http://www.antlr.org/
>
> and let me know your opinion.  It's set up to be a community-based
> site...i have edit/delete permission, but you can add what you want in
> the various categories and I have a generic "File sharing" category
> where we can host or link to patches, resources, etc...
>
> You can publish an article by linking or uploading an html file.  If
> you have images and stuff, just upload a zip and I unzip it looking for
> an index.html and then point at that on my site.
>
> Some of the text needs to be fixed and i need to remove some old
> look-n-feel stuff from old pages, but I'm getting close.
>
> Also, note that I'll be giving away the complete source to this site as
> an example of my jguru-lib that I hope to release at the end of the
> summer.  It has all the page statemachine and string template stuff as
> well as all the goodies from withing jGuru and PeerScope code.  I'll be
> providing complete source to http://www.peerscope.com also.  This antlr
> site is actually pretty generic.  There is some code feeding off a dir
> full of data that says what the site looks like.  An easy way to get a
> project site together if you want one.
>
> Ter
> --
> Professor Comp. Sci., University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Co-founder, http://www.jguru.com
> Co-founder, http://www.knowspam.net enjoy email again!
> Co-founder, http://www.peerscope.com link sharing, pure-n-simple
>
>
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From oneway_111 at yahoo.com  Thu Jul  3 21:29:10 2003
From: oneway_111 at yahoo.com (ow)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] please check out new website
In-Reply-To: <FB420932-ADA5-11D7-A859-000393BB647E@cs.usfca.edu>
Message-ID: <20030704042910.48709.qmail@web21414.mail.yahoo.com>


--- Terence Parr <parrt@cs.usfca.edu> wrote:
> Folks,
> 
> I'll be pushing the new antlr website next week.  You can take a quick 
> look now:
> 
> http://www.antlr.org/
> 
> and let me know your opinion.  It's set up to be a community-based 
> site...i have edit/delete permission, but you can add what you want in 
> the various categories and I have a generic "File sharing" category 
> where we can host or link to patches, resources, etc...
> 

Looks very good, great job. Congratulations!







__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From j_scandaliaris at yahoo.es  Thu Jul  3 23:51:16 2003
From: j_scandaliaris at yahoo.es (Jorge Scandaliaris)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] please check out new website
In-Reply-To: <FB420932-ADA5-11D7-A859-000393BB647E@cs.usfca.edu>
Message-ID: <001a01c341f8$af250680$03001aac@zoys>

Looks nice, good job!

Jorge

> -----Original Message-----
> From: Terence Parr [mailto:parrt@cs.usfca.edu]
> Sent: Friday, July 04, 2003 12:31 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] please check out new website
> 
> Folks,
> 
> I'll be pushing the new antlr website next week.  You can take a quick
> look now:
> 
> http://www.antlr.org/
> 
> and let me know your opinion.  It's set up to be a community-based
> site...i have edit/delete permission, but you can add what you want in
> the various categories and I have a generic "File sharing" category
> where we can host or link to patches, resources, etc...
> 
> You can publish an article by linking or uploading an html file.  If
> you have images and stuff, just upload a zip and I unzip it looking
for
> an index.html and then point at that on my site.
> 
> Some of the text needs to be fixed and i need to remove some old
> look-n-feel stuff from old pages, but I'm getting close.
> 
> Also, note that I'll be giving away the complete source to this site
as
> an example of my jguru-lib that I hope to release at the end of the
> summer.  It has all the page statemachine and string template stuff as
> well as all the goodies from withing jGuru and PeerScope code.  I'll
be
> providing complete source to http://www.peerscope.com also.  This
antlr
> site is actually pretty generic.  There is some code feeding off a dir
> full of data that says what the site looks like.  An easy way to get a
> project site together if you want one.
> 
> Ter
> --
> Professor Comp. Sci., University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Co-founder, http://www.jguru.com
> Co-founder, http://www.knowspam.net enjoy email again!
> Co-founder, http://www.peerscope.com link sharing, pure-n-simple
> 
> 
> 
> 
> 
> 
> Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Fri Jul  4 02:03:07 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] please check out new website
In-Reply-To: <FB420932-ADA5-11D7-A859-000393BB647E@cs.usfca.edu>; from parrt@cs.usfca.edu on Thu, Jul 03, 2003 at 03:30:42PM -0700
References: <FB420932-ADA5-11D7-A859-000393BB647E@cs.usfca.edu>
Message-ID: <20030704110307.F6984@cs.utwente.nl>

On Thu, Jul 03, 2003 at 03:30:42PM -0700, Terence Parr wrote:
> I'll be pushing the new antlr website next week.  You can take a quick 
> look now:

Looks very nice. Nice design :)

> and let me know your opinion.  It's set up to be a community-based 
> site...i have edit/delete permission, but you can add what you want in 
> the various categories and I have a generic "File sharing" category
> where we can host or link to patches, resources, etc...

Just dumped a develsnapshot there to test. Works like a charm I think.
Would be nice if the uploader could modify/delete the entry lateron.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Before they invented drawing boards, what did they go back to?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From set at nortelnetworks.com  Fri Jul  4 02:33:18 2003
From: set at nortelnetworks.com (Simon Taylor)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: Guidance Required
Message-ID: <8F20221FB47FD51190AD00508BCF36BA03F69BF4@znsgy0k3.europe.nortel.com>

I agree - looking at it - right not to use protected in the parser and also
in this context in the lexer.

Also - what is the correct way to specify a string literal and be able to
match it.
Do I have to specify it in the lexer so it gets its own token type and also
in the parser so it can match it?

-----Original Message-----
From: lgcraymer [mailto:lgc@mail1.jpl.nasa.gov] 
Sent: 03 July 2003 21:26
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: Guidance Required


"protected" in ANTLR is not the same as "protected" in Java or C++.  
In the lexer, a "protected" rule cannot be invoked by nextToken().  
I'd have to look at the ANTLR source to figure out what "protected" 
means for parser rules--I think that the protected keyword is passed 
through to the code generator in 2.7.2, but I'm not at all sure.

As a first step, none of your lexer rules should be "protected", and 
that is probably true of the parser rules as well.

--Loring


--- In antlr-interest@yahoogroups.com, "setuk_x" <set@n...> wrote:
> OK recoded with the following.
> Given a file which starts "TN 000 00 00 00"
> It errors not recognising character
> When debugging the parser code the first comparison against a
literal 
> TN doesn't evalate to true - even though the first token is a
literal 
> TN.
> Any ideas.
> 
> //Attempt to classify the TNB File into TNB Records
> // Containing explicit tokens
> 
> class TNBParser extends Parser;
> options { k = 3;
> 		  defaultErrorHandler = true;
> 	    }
> 	    //A tnbfile consists of one or more tnbrecords
> tnbfile  :  (record)+  EOF;
> 
> record //A tnbrecord consists of this number of explicit values
> 	    :  ( (tn) (des)? (date))
> 	    ;
> 
> protected tn : "TN" (NUMERIC)+ NEWLINE ;
> protected des : "DES" anything NEWLINE ;
> protected anything :
>       (
> 		(ALPHA)+
> 	  | (NUMERIC)+
> 	  | (PUNCTUATION)+
> 	  );
> protected date
>   : "DATE"
>     NUMERIC NUMERIC FW_SLASH
>     NUMERIC NUMERIC FW_SLASH
>     NUMERIC NUMERIC
>   ;
> 	
> class TNBLexer extends Lexer;
> options { k = 3;
> 		  defaultErrorHandler = true;
> 	    }
> // TNB is mostly uppercase but we need lowercase in here because of
> the CPND
> 
> WS: '\t' {$setType(Token.SKIP);} ;
> 
> protected ALPHA : ('a'..'z'|'A'..'Z');
> protected NUMERIC :('0'..'9');
> protected PUNCTUATION :('_'|'- 
> '|'+'|FW_SLASH|';'|'#'|'*'|'\\'|':'|','|'\''|'.'|'?');
> protected NEWLINE: ((('\r' '\n')+ |('\n')+ | ('\r')) { newline();
});
> protected SPACE: ' ';
> protected FW_SLASH: '/';
> 
> 
> 
> --- In antlr-interest@yahoogroups.com, Matt Benson <gudnabrsam@y...>
> wrote:
> > I'm no expert, but it looks to me like you have
> > combined the work of your parser and lexer.  I'm just guessing here, 
> > but something like this might be what you want:
> > 
> > //parser rules
> > 
> > file //assuming all are optional
> >   : (des)? (tn)? (type)? (cden)?
> >     (cust)? (kls)? (fdn)? (tgar)?
> >     (ldn)? (ncos)? (sgrp)? (rnpg)?
> >     (sci)? (ssu)? (xlst)? (scpw)? (sflt)?
> > //don't know where the date rule goes
> >     EOF
> >   ;
> > 
> > protected tn : "TN" (NUMERIC)+ NEWLINE ;
> > protected des : "DES" anything NEWLINE ;
> > protected anything
> >   : (
> >      (ALPHA)+
> >      | (NUMERIC)+
> >      | PUNCTUATION
> >     )+ //I'm guessing...
> >   ;
> > 
> > protected date
> >   : "DATE"
> >     NUMERIC NUMERIC '/'
> >     NUMERIC NUMERIC '/'
> >     NUMERIC NUMERIC
> >   ;
> > 
> > //lexer rules
> > 
> > /* there are probably better ways to wrap
> >    single-character tokens into "word" tokens...
> > */
> > WS:   ' ' | '\t' {$setType(Token.SKIP);} ;
> > ALPHA : ('a'..'z'|'A'..'Z');
> > NUMERIC :('0'..'9');
> > PUNCTUATION
> >   : '_' | '-' | '+' | '/' | ';' | '#'
> >   | '*' | '\\' | ':' | ',' | '\'' | '.' | '?'
> >   ;
> > 
> > NEWLINE
> >   : ('\r' '\n')+ | ('\n')+ | ('\r')+
> >     { newline(); })
> >   ;
> > 
> > 
> > -Matt
> > 
> > 
> > --- setuk_x <set@n...> wrote:
> > > I am new Java and Antlr.
> > > I have written a basic parser in Perl before - but
> > > it is proving slow
> > > and unwieldy and so I am looking to Antlr to fill
> > > the gap.
> > > I need to parse a text file which contains text in
> > > the format 
> > > (simplest form)
> > > DES  MAIL1 
> > > TN   001 0 02 00 
> > > TYPE SL1 
> > > CDEN DD
> > > CUST 0 
> > > KLS  1 
> > > FDN  
> > > TGAR 0 
> > > LDN  NO
> > > NCOS 4 
> > > SGRP 0 
> > > RNPG 0 
> > > SCI  0 
> > > SSU  
> > > XLST 
> > > SCPW 
> > > SFLT NO
> > > 
> > > I need to be able to classify each line a specific
> > > type so I can pass
> > > these types to the parser and validate that what I
> > > have is a valid 
> > > record.
> > > 
> > > Is the best way to do this using Lexer tokens? Such
> > > as:-
> > > 
> > > class TNBLexer extends Lexer;
> > > options { k = 5;
> > > 		  defaultErrorHandler = true;
> > > 	    }
> > > // TNB is mostly uppercase but we need lowercase in
> > > here because of
> > > the CPND
> > > 
> > > TN  : (("TN")+ (NUMERIC)+ NEWLINE);
> > > DES : (("DES") (ANYTHING)+);
> > > DATE: (("DATE")+ (NUMERIC NUMERIC '/'NUMERIC NUMERIC '/'NUMERIC
> > > NUMERIC));
> > > WS:   ((' ')|('\t')){$setType(Token.SKIP);};
> > > 
> > > protected ANYTHING : ((ALPHA|NUMERIC|PUNCTUATION)); protected 
> > > ALPHA : ('a'..'z'|'A'..'Z'); protected NUMERIC :('0'..'9');
> > > protected PUNCTUATION :('_'|'-
> > > '|'+'|'/'|';'|'#'|'*'|'\\'|':'|','|'\''|'.'|'?');
> > > protected NEWLINE: ((('\r' '\n')+ |('\n')+ | ('\r'))
> > > { newline(); });
> > > 
> > > Or am I completely on the wrong track.
> > > I am wading my way through the doc at the moment so
> > > any advice would
> > > be helpful.
> > > 
> > > Thanks Simon
> > > 
> > > 
> > > 
> > > 
> > >  
> > > 
> > > Your use of Yahoo! Groups is subject to 
> > > http://docs.yahoo.com/info/terms/
> > > 
> > > 
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > SBC Yahoo! DSL - Now only $29.95 per month! http://sbc.yahoo.com


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030704/739c08cf/attachment.html
From rjc at trump.net.au  Fri Jul  4 05:15:28 2003
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] please check out new website
In-Reply-To: <FB420932-ADA5-11D7-A859-000393BB647E@cs.usfca.edu>
Message-ID: <4.2.0.58.20030704221217.00b16a10@postoffice.trump.net.au>

Hello,

At 03:30 PM 3/07/2003 -0700, Terence Parr wrote:

>http://www.antlr.org/
>
>and let me know your opinion.  It's set up to be a community-based
>site...i have edit/delete permission, but you can add what you want in
>the various categories and I have a generic "File sharing" category
>where we can host or link to patches, resources, etc...
>
>You can publish an article by linking or uploading an html file.  If
>you have images and stuff, just upload a zip and I unzip it looking for
>an index.html and then point at that on my site.

I added a link to my 3 antlr patches....

You might want some sort of editorial control....wouldn't want your file 
sharing to turn into a porn and warez warehouse. ;-)

- Robert


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From imolanet at yahoo.it  Fri Jul  4 05:12:57 2003
From: imolanet at yahoo.it (Patrik Suzzi)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] C# generator no working
Message-ID: <be3r09+a7bn@eGroups.com>

Hi ! 
I've some problems when building C# lexer and parser. 

Now I know that:
I can compile & run the first example that generate Java code with t.g
-> then i believe that antlr does work

I've tried to build C# from the grammar at the bottom of the page, but
I receive the following error message:
java.lang .. NoClassDefFoundError: antlr/actionscsharp/ActionLexer

Is this caused by the version of antlr i'm using ?

on antlr site is possible to download only the following file:
antlr-2.7.2.zip (-> I'm using antlr-2.7.2 but I don't know how obtain
complete version number like antlr-2.7.2a2 .. ) 

can I have information about major/minor releases ?




-----------------GRAMMAR-------------------
options {
     language  = "CSharp";
}

class P extends Parser;

startRule
    :   n:NAME
        {System.out.println("Hi there, "+n.getText());}
    ;

class L extends Lexer;

// one-or-more letters followed by a newline
NAME:   ( 'a'..'z'|'A'..'Z' )+ NEWLINE
    ;

NEWLINE
    :   '\r' '\n'   // DOS
    |   '\n'        // UNIX
    ;
-------------END-GRAMMAR-------------------

Thanks !! : Patrik Suzzi


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Fri Jul  4 10:04:41 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] the new site
Message-ID: <9A347C32-AE41-11D7-A859-000393BB647E@cs.usfca.edu>

Thanks for the feedback everyone!  Glad you like it.  I paid an 
excellent designer out of my pocket to do the look-n-feel.

I like the main page / secondary page split.  A little weird that the 
left navigation bar is only on the secondary pages, but I wanted the 
main page to be a "summary" page of each of the various categories.

The concept for the site is that there are 2 types of folks: (1) new 
users asking what, why, how much, who uses it and (2) current users 
asking about doc, grammars,?tools, news etc...  I split this up and 
hopefully it is the right approach.

Feel free to add more stuff folks as the data and site is real, just at 
a different port (8080) as you can see.

I'll be playing with this all weekend and hopefully launch on Monday.

As for people posting bad stuff etc... well, I'll worry about that if 
it becomes an issue. :)

I'll be happy to receive more feedback or suggestions :)

Oh, I'll be doing an email snooper gateway thing so that the 
antlr-interest list (this list) will be mirrored on the site. :)  I'll 
have it integrated into the search engine too.  (I'll be using Lucene 
for seaching if anybody wants to know).

Best regards,
Terence
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com link sharing, pure-n-simple




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From imolanet at yahoo.it  Fri Jul  4 12:47:09 2003
From: imolanet at yahoo.it (Patrik Suzzi)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: the new site
In-Reply-To: <9A347C32-AE41-11D7-A859-000393BB647E@cs.usfca.edu>
Message-ID: <be4lju+tmnn@eGroups.com>

hello !

the new site is so good.

but why don't you use syilesheets to gain uniformity on the site ?

for example documentation pages are written with a different style 
with all other pages of the site.

if you include a line in every documentation page, between <head> 
and </head> tags, you can change the look of all these pages only by 
editing the stylesheet

the line is:

<LINK type='text/css' rel='stylesheet' href='../style/style.css'/>

where href indicates the path of the stylesheet

so you can change thousand of documentation pages, just by editing 
the stylesheet.

an example of stylesheet is:
H1
{
  color: green;
  font-family: verdana;
}
P
{
  font-size: 12 px;
  font-family: arial;
}

Last i've observed if you edit your css's files with Visual 
Studio .NET, it helps with intellisense: giving for each Tag all 
possible attributes, and for all attributes it give a list of all 
possible finite-values.

(I do not love MS but this is a rapid developement tool) 

Please excuse me for my poor english..
with best regards: 
                             Patrik Suzzi (Imola - Bologna - Italy)



--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> 
wrote:
> Thanks for the feedback everyone!  Glad you like it.  I paid an 
> excellent designer out of my pocket to do the look-n-feel.
> 
> I like the main page / secondary page split.  A little weird that 
the 
> left navigation bar is only on the secondary pages, but I wanted 
the 
> main page to be a "summary" page of each of the various categories.
> 
> The concept for the site is that there are 2 types of folks: (1) 
new 
> users asking what, why, how much, who uses it and (2) current 
users 
> asking about doc, grammars,?tools, news etc...  I split this up 
and 
> hopefully it is the right approach.
> 
> Feel free to add more stuff folks as the data and site is real, 
just at 
> a different port (8080) as you can see.
> 
> I'll be playing with this all weekend and hopefully launch on 
Monday.
> 
> As for people posting bad stuff etc... well, I'll worry about that 
if 
> it becomes an issue. :)
> 
> I'll be happy to receive more feedback or suggestions :)
> 
> Oh, I'll be doing an email snooper gateway thing so that the 
> antlr-interest list (this list) will be mirrored on the site. :)  
I'll 
> have it integrated into the search engine too.  (I'll be using 
Lucene 
> for seaching if anybody wants to know).
> 
> Best regards,
> Terence
> --
> Professor Comp. Sci., University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Co-founder, http://www.jguru.com
> Co-founder, http://www.knowspam.net enjoy email again!
> Co-founder, http://www.peerscope.com link sharing, pure-n-simple


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From dm at cs.yorku.ca  Fri Jul  4 14:08:31 2003
From: dm at cs.yorku.ca (Dave Makalsky)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] the new site
In-Reply-To: <9A347C32-AE41-11D7-A859-000393BB647E@cs.usfca.edu>
References: <9A347C32-AE41-11D7-A859-000393BB647E@cs.usfca.edu>
Message-ID: <3F05ECCF.5090501@cs.yorku.ca>

Hi:

May I suggest putting your lecture material for the parser course on the 
site.

Cheers,

DM

Terence Parr wrote:

>Thanks for the feedback everyone!  Glad you like it.  I paid an 
>excellent designer out of my pocket to do the look-n-feel.
>
>I like the main page / secondary page split.  A little weird that the 
>left navigation bar is only on the secondary pages, but I wanted the 
>main page to be a "summary" page of each of the various categories.
>
>The concept for the site is that there are 2 types of folks: (1) new 
>users asking what, why, how much, who uses it and (2) current users 
>asking about doc, grammars, tools, news etc...  I split this up and 
>hopefully it is the right approach.
>
>Feel free to add more stuff folks as the data and site is real, just at 
>a different port (8080) as you can see.
>
>I'll be playing with this all weekend and hopefully launch on Monday.
>
>As for people posting bad stuff etc... well, I'll worry about that if 
>it becomes an issue. :)
>
>I'll be happy to receive more feedback or suggestions :)
>
>Oh, I'll be doing an email snooper gateway thing so that the 
>antlr-interest list (this list) will be mirrored on the site. :)  I'll 
>have it integrated into the search engine too.  (I'll be using Lucene 
>for seaching if anybody wants to know).
>
>Best regards,
>Terence
>--
>Professor Comp. Sci., University of San Francisco
>Creator, ANTLR Parser Generator, http://www.antlr.org
>Co-founder, http://www.jguru.com
>Co-founder, http://www.knowspam.net enjoy email again!
>Co-founder, http://www.peerscope.com link sharing, pure-n-simple
>
>
>
>
> 
>
>Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
>
>  
>



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From open.zone at virgin.net  Fri Jul  4 14:37:31 2003
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: C# generator no working
In-Reply-To: <be3r09+a7bn@eGroups.com>
Message-ID: <be4s2r+j378@eGroups.com>

Ciao Patrick,

> Hi ! 
> I've some problems when building C# lexer and parser. 
> 
> Now I know that:
> I can compile & run the first example that generate Java code with 
t.g
> -> then i believe that antlr does work
> 
> I've tried to build C# from the grammar at the bottom of the page, 
but
> I receive the following error message:
> java.lang .. NoClassDefFoundError: antlr/actionscsharp/ActionLexer

Sounds like one of the following:
1. ANTLR is not fully built or,
2. the antlr/actions/csharp/ActionLexer.class file is missing or,
3. you have a classpath issue

Please check and try again.

> Is this caused by the version of antlr i'm using ?

ANTLR 2.7.2 is the latest version. The 2.7.2a? versions were pre-
release versions (alpha/beta) and should not be used. Some are 
*incompatible* with the 2.7.2 release.

Finally, your included grammar (which I have removed from my reply) 
contains embedded Java action code. ANTLR would generate the output 
files but they would not compile with any C# compiler with the 
embedded Java code. You need to change those to C# syntax.

Cheers,

Micheal
ANTLR/C# codegen



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From open.zone at virgin.net  Fri Jul  4 15:07:57 2003
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] ANTLR C# Service Pack 1 on new website
Message-ID: <be4trt+hhbu@eGroups.com>

Website entry:
http://www.antlr.org/share/list

Grab the file here: 
http://www.antlr.org/share/1057353989224/C:/antlr-2.7.2-CSharp-
SP1.zip


--------------------------------------------------------------
Changes since ANTLR 2.7.2:

- AST node/tree copying by using the C#/CLR ICloneable infrastructure 
is now deprecated. AST node/copying is done via reflection in any 
case. Copy constructors and Clone methods flagged as obsolete.

- Fixed bug in case insensitive support (sorry to long-suffering 
users trying to get BASIC compilers/interpreters working)

- Fixed minor issue with ASTNULL handing in TreeParsers (might apply 
to C++ and Java too - line 3964 in CSharpCodeGenerator.java). See 
related posts in the archives.

- changes in tesLiteralsTable() methods to avoid frequent exception 
throws that hurt lexer performance

- All Exception classes are now marked with the [Serializable] 
attribute (thanks Soumen Sarkur)

- The antlr.SemanticException type is now properly imported for all 
Lexers (thrown on predicate failure).


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Fri Jul  4 16:01:20 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] ANTLR C# Service Pack 1 on new website
In-Reply-To: <be4trt+hhbu@eGroups.com>
Message-ID: <6D25123E-AE73-11D7-A859-000393BB647E@cs.usfca.edu>

Let me fix the site...first patch has space in file name and this one 
comes in with C: on the top...

I keep forgetting non-Unix computers exist ;)  Sorry about that.

Let see, I guess I should disallow anything with a space and then 
remove all crap on the front of the filename so it's plain file.  
Weird.  On my system, just the filename appears not the whole path.  I 
guess each computer will send something different.  I'll have to search 
backwards for a ':' or a '/' I guess.

I'll patch up the descriptor / resource on my end so you don't have to 
reupload.

Ter

On Friday, July 4, 2003, at 03:07  PM, micheal_jor wrote:

> Website entry:
> http://www.antlr.org/share/list
>
> Grab the file here:
> http://www.antlr.org/share/1057353989224/C:/antlr-2.7.2-CSharp-
> SP1.zip
>
>
> --------------------------------------------------------------
> Changes since ANTLR 2.7.2:
>
> - AST node/tree copying by using the C#/CLR ICloneable infrastructure
> is now deprecated. AST node/copying is done via reflection in any
> case. Copy constructors and Clone methods flagged as obsolete.
>
> - Fixed bug in case insensitive support (sorry to long-suffering
> users trying to get BASIC compilers/interpreters working)
>
> - Fixed minor issue with ASTNULL handing in TreeParsers (might apply
> to C++ and Java too - line 3964 in CSharpCodeGenerator.java). See
> related posts in the archives.
>
> - changes in tesLiteralsTable() methods to avoid frequent exception
> throws that hurt lexer performance
>
> - All Exception classes are now marked with the [Serializable]
> attribute (thanks Soumen Sarkur)
>
> - The antlr.SemanticException type is now properly imported for all
> Lexers (thrown on predicate failure).
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com link sharing, pure-n-simple




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Fri Jul  4 16:34:22 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] ok, fixed upload for wacky filenames :)
Message-ID: <0A726D55-AE78-11D7-A859-000393BB647E@cs.usfca.edu>

Ok, the file sharing thing is saner now...it deals with PC and unix 
filenames by ensuring just the actual filename is used and it rejects 
any spaces in the actual filename (the path is irrelevant--nice of the 
PC browser to send it anyway...bloody M$).

So, share away :)

Thanks for the patches from the C# generator folks and the tip that my 
file upload was hosed ;)

Ter
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com link sharing, pure-n-simple




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From open.zone at virgin.net  Fri Jul  4 16:59:46 2003
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: ANTLR C# Service Pack 1 on new website
In-Reply-To: <6D25123E-AE73-11D7-A859-000393BB647E@cs.usfca.edu>
Message-ID: <be54di+tp4m@eGroups.com>

> Let me fix the site...first patch has space in file name and this 
one 
> comes in with C: on the top...

Hi Prof!,

I'm amazed you found time left to build a new website infrastructure 
seeing as you've launched a few businesses and taught the class in 
the same timeframe  ;-)

The site is a much needed improvement over the old (current?) site. 
As for the C# update files, Kunle removed the spaces second time 
around and that seemed to do the trick. I noticed you've already 
removed the duplicate entry. Thanks.

> I keep forgetting non-Unix computers exist ;)  Sorry about that.

No worries. I don't even know what a Unix is or what it eats... ;-)

> Let see, I guess I should disallow anything with a space and then 
> remove all crap on the front of the filename so it's plain file.  
> Weird.  On my system, just the filename appears not the whole 
path.  I 
> guess each computer will send something different.  I'll have to 
search 
> backwards for a ':' or a '/' I guess.

Sound like you'd be parsing something. May I recommend ANTLR?
 
> I'll patch up the descriptor / resource on my end so you don't have 
to 
> reupload.

Cool. Thanks.

If you like, we'd be happy to do a C#/.NET version of the 
website/peerscope infrastructure. Actually Kunle would. Any plans for 
blogs on the site?  ;-)

Cheers,

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From frankhil at junglemate.com  Sat Jul  5 09:04:08 2003
From: frankhil at junglemate.com (frankhileman)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <be1s2h+7rta@eGroups.com>
Message-ID: <be6sto+5rkn@eGroups.com>

--- In antlr-interest@yahoogroups.com, "micheal_jor" 
<open.zone@v...> wrote:
> Hmmm,....."just another maintenance burden" is an unfair 
> characterization of Java with respect to ANTLR usage even on 
> purely .NET projects. Nevertheless, I have wanted to eliminate 
Java 
> entirely on many occasions in the past too. In fact, we had a .NET 
> executable available - courtesy of J# - long before ANTLR/C# was 
> born. It is seldom used today.
> 
> If a decision is taken to _always_ produce a .NET executable of 
the 
> ANTLR tool itself using J#, hidden within that is an implicit 
> assumption then that ANTLR would restrict itself to using JDK1.1.4 
> features only. Otherwise we end up with two code bases.
> 
> Personally, I can see no strong arguments in favour of such a 
> restriction just to support the availability of a .NET executable. 

I can understand why you would not want this restriction. Actually 
it is not a .NET exe that is important; a native exe would do. From 
the perspective of people who only wish to use Antlr, and not build 
it, the JVM dependency is a hefty bit of luggage with its own 
versioning issues. That is all I meant. Many .NET developers don't 
use the JVM at all anymore, except for things like Antlr.

Frank Hileman


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Sat Jul  5 09:42:50 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: the new site
In-Reply-To: <be4lju+tmnn@eGroups.com>
Message-ID: <B7176B22-AF07-11D7-A859-000393BB647E@cs.usfca.edu>

Hi :)

I'd rather not rely on CSS for the look...my string template stuff 
works great for the pages...it's just that the doc has some formatting 
text inside...I'll be redoing the doc soon anyway. ;)

Thanks for the note.
Terence

On Friday, July 4, 2003, at 12:47  PM, Patrik Suzzi wrote:

> hello !
>
> the new site is so good.
>
> but why don't you use syilesheets to gain uniformity on the site ?
>
> for example documentation pages are written with a different style
> with all other pages of the site.
>
> if you include a line in every documentation page, between <head>
> and </head> tags, you can change the look of all these pages only by
> editing the stylesheet
>
> the line is:
>
> <LINK type='text/css' rel='stylesheet' href='../style/style.css'/>
>
> where href indicates the path of the stylesheet
>
> so you can change thousand of documentation pages, just by editing
> the stylesheet.
>
> an example of stylesheet is:
> H1
> {
>   color: green;
>   font-family: verdana;
> }
> P
> {
>   font-size: 12 px;
>   font-family: arial;
> }
>
> Last i've observed if you edit your css's files with Visual
> Studio .NET, it helps with intellisense: giving for each Tag all
> possible attributes, and for all attributes it give a list of all
> possible finite-values.
>
> (I do not love MS but this is a rapid developement tool)
>
> Please excuse me for my poor english..
> with best regards:
>                              Patrik Suzzi (Imola - Bologna - Italy)
>
>
>
> --- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...>
> wrote:
>> Thanks for the feedback everyone!  Glad you like it.  I paid an
>> excellent designer out of my pocket to do the look-n-feel.
>>
>> I like the main page / secondary page split.  A little weird that
> the
>> left navigation bar is only on the secondary pages, but I wanted
> the
>> main page to be a "summary" page of each of the various categories.
>>
>> The concept for the site is that there are 2 types of folks: (1)
> new
>> users asking what, why, how much, who uses it and (2) current
> users
>> asking about doc, grammars,?tools, news etc...  I split this up
> and
>> hopefully it is the right approach.
>>
>> Feel free to add more stuff folks as the data and site is real,
> just at
>> a different port (8080) as you can see.
>>
>> I'll be playing with this all weekend and hopefully launch on
> Monday.
>>
>> As for people posting bad stuff etc... well, I'll worry about that
> if
>> it becomes an issue. :)
>>
>> I'll be happy to receive more feedback or suggestions :)
>>
>> Oh, I'll be doing an email snooper gateway thing so that the
>> antlr-interest list (this list) will be mirrored on the site. :)
> I'll
>> have it integrated into the search engine too.  (I'll be using
> Lucene
>> for seaching if anybody wants to know).
>>
>> Best regards,
>> Terence
>> --
>> Professor Comp. Sci., University of San Francisco
>> Creator, ANTLR Parser Generator, http://www.antlr.org
>> Co-founder, http://www.jguru.com
>> Co-founder, http://www.knowspam.net enjoy email again!
>> Co-founder, http://www.peerscope.com link sharing, pure-n-simple
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com link sharing, pure-n-simple


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Sat Jul  5 09:43:38 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <be6sto+5rkn@eGroups.com>
Message-ID: <D4294B36-AF07-11D7-A859-000393BB647E@cs.usfca.edu>

Hi gang,

could be useful to get a binary antlr tool for pc's :)  Feel free to 
upload one to the file sharing area :)

Ter
On Saturday, July 5, 2003, at 09:04  AM, frankhileman wrote:

> --- In antlr-interest@yahoogroups.com, "micheal_jor"
> <open.zone@v...> wrote:
>> Hmmm,....."just another maintenance burden" is an unfair
>> characterization of Java with respect to ANTLR usage even on
>> purely .NET projects. Nevertheless, I have wanted to eliminate
> Java
>> entirely on many occasions in the past too. In fact, we had a .NET
>> executable available - courtesy of J# - long before ANTLR/C# was
>> born. It is seldom used today.
>>
>> If a decision is taken to _always_ produce a .NET executable of
> the
>> ANTLR tool itself using J#, hidden within that is an implicit
>> assumption then that ANTLR would restrict itself to using JDK1.1.4
>> features only. Otherwise we end up with two code bases.
>>
>> Personally, I can see no strong arguments in favour of such a
>> restriction just to support the availability of a .NET executable.
>
> I can understand why you would not want this restriction. Actually
> it is not a .NET exe that is important; a native exe would do. From
> the perspective of people who only wish to use Antlr, and not build
> it, the JVM dependency is a hefty bit of luggage with its own
> versioning issues. That is all I meant. Many .NET developers don't
> use the JVM at all anymore, except for things like Antlr.
>
> Frank Hileman
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com link sharing, pure-n-simple


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From open.zone at virgin.net  Sat Jul  5 13:47:42 2003
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <be6sto+5rkn@eGroups.com>
Message-ID: <be7dhe+s760@eGroups.com>

> I can understand why you would not want this restriction. Actually 
> it is not a .NET exe that is important; a native exe would do. From 
> the perspective of people who only wish to use Antlr, and not build 
> it, the JVM dependency is a hefty bit of luggage with its own 
> versioning issues.

You are absolutely correct about the usefulness of native binaries 
for the ANTLR tool itself.

> That is all I meant. Many .NET developers don't 
> use the JVM at all anymore, except for things like Antlr.

;-)

I actually agree with you on this. Unfortunately, J# is the only 
option available to me currently. GCJ doesn't do Windows executables 
AFAICT and I don't have TowerJ, JOVE or other similar Java-NativeCode 
compilers that do support recent versions of the Java2 platform.

Perhaps someone on the list does?

Micheal




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Sat Jul  5 13:52:18 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: Managed to compile under .Net !!
In-Reply-To: <be7dhe+s760@eGroups.com>
Message-ID: <909D24B8-AF2A-11D7-936D-000393BB647E@cs.usfca.edu>

Does GCJ actually work these days?  It wouldn't even come close to 
compiling let alone running ANTLR when I checked months ago.

Ter

On Saturday, July 5, 2003, at 01:47  PM, micheal_jor wrote:

>> I can understand why you would not want this restriction. Actually
>> it is not a .NET exe that is important; a native exe would do. From
>> the perspective of people who only wish to use Antlr, and not build
>> it, the JVM dependency is a hefty bit of luggage with its own
>> versioning issues.
>
> You are absolutely correct about the usefulness of native binaries
> for the ANTLR tool itself.
>
>> That is all I meant. Many .NET developers don't
>> use the JVM at all anymore, except for things like Antlr.
>
> ;-)
>
> I actually agree with you on this. Unfortunately, J# is the only
> option available to me currently. GCJ doesn't do Windows executables
> AFAICT and I don't have TowerJ, JOVE or other similar Java-NativeCode
> compilers that do support recent versions of the Java2 platform.
>
> Perhaps someone on the list does?
>
> Micheal
>
>
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com link sharing, pure-n-simple




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From paultaney at yahoo.com  Sat Jul  5 16:48:09 2003
From: paultaney at yahoo.com (paul taney)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] didn't manage to compile under gcj
In-Reply-To: <909D24B8-AF2A-11D7-936D-000393BB647E@cs.usfca.edu>
Message-ID: <20030705234809.87314.qmail@web80601.mail.yahoo.com>


--- Terence Parr <parrt@cs.usfca.edu> wrote:
> Does GCJ actually work these days?  It wouldn't even
> come close to 
> compiling let alone running ANTLR when I checked
> months ago.
> 

I'm running on RedHat with 2.4.7-10 kernal.

$ gcj --version
2.96

This is what I did to try to use gjc:

I think what it wants in the CLASSPATH is
gcc-3.3/libjava  and
gcc-3.3/build/i686-pc-linux-gnu/libjava

so I added to .bashrc
export GCJ=/usr/local/gcc/gcc-3.3/libjava:\
/usr/local/gcc/gcc-3.3/build/i686-pc-linux-gnu/libjava
export CLASSPATHGNU=$GCJ:$CLASSPATH:.

$ source .bashrc

Then try to compile some things in 
$ cd antlr-2.7.2/examples/java/java:

$ gcj --classpath $CLASSPATHGNU \
    JavaLexer.java \
    JavaRecognizer.java \
    JavaTokenTypes.java \
    JavaTreeParser.java \
    JavaTreeParserTokenTypes.java \
    Main.java

this is what I get:

JavaTreeParser.java: In class `JavaTreeParser':
JavaTreeParser.java: In method
`compilationUnit(antlr.collections.AST)':
JavaTreeParser.java:34: Incompatible type \
for `='. Explicit cast needed to convert
`antlr.ASTNULLType' to `antlr.collections.AST'.
			if (_t==null) _t=ASTNULL;
                                        ^
JavaTreeParser.java:58: Incompatible type \
for `='. Explicit cast needed to convert
`antlr.ASTNULLType' to `antlr.collections.AST'.
				if (_t==null) _t=ASTNULL;

<snip>

and 50 more such messages.

I don't know what it means.  If you suggest 
a fix I'll try it.

paul



__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From paultaney at yahoo.com  Sat Jul  5 16:57:44 2003
From: paultaney at yahoo.com (paul taney)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] didn't manage to compile under gcj
In-Reply-To: <20030705234809.87314.qmail@web80601.mail.yahoo.com>
Message-ID: <20030705235744.89194.qmail@web80604.mail.yahoo.com>


Aha!

After casting all ASTNULLs with 

    (antlr.collections.AST)ASTNULL

there's only one error showing:

    antlr/debug/misc/ASTFrame.java:0: bad class index
0

But I don't get that one...
paul


--- paul taney <paultaney@yahoo.com> wrote:
> 
> --- Terence Parr <parrt@cs.usfca.edu> wrote:
> > Does GCJ actually work these days?  It wouldn't
> even
> > come close to 
> > compiling let alone running ANTLR when I checked
> > months ago.
> > 
> 
> I'm running on RedHat with 2.4.7-10 kernal.
> 
> $ gcj --version
> 2.96
> 
> This is what I did to try to use gjc:
> 
> I think what it wants in the CLASSPATH is
> gcc-3.3/libjava  and
> gcc-3.3/build/i686-pc-linux-gnu/libjava
> 
> so I added to .bashrc
> export GCJ=/usr/local/gcc/gcc-3.3/libjava:\
>
/usr/local/gcc/gcc-3.3/build/i686-pc-linux-gnu/libjava
> export CLASSPATHGNU=$GCJ:$CLASSPATH:.
> 
> $ source .bashrc
> 
> Then try to compile some things in 
> $ cd antlr-2.7.2/examples/java/java:
> 
> $ gcj --classpath $CLASSPATHGNU \
>     JavaLexer.java \
>     JavaRecognizer.java \
>     JavaTokenTypes.java \
>     JavaTreeParser.java \
>     JavaTreeParserTokenTypes.java \
>     Main.java
> 
> this is what I get:
> 
> JavaTreeParser.java: In class `JavaTreeParser':
> JavaTreeParser.java: In method
> `compilationUnit(antlr.collections.AST)':
> JavaTreeParser.java:34: Incompatible type \
> for `='. Explicit cast needed to convert
> `antlr.ASTNULLType' to `antlr.collections.AST'.
> 			if (_t==null) _t=ASTNULL;
>                                         ^
> JavaTreeParser.java:58: Incompatible type \
> for `='. Explicit cast needed to convert
> `antlr.ASTNULLType' to `antlr.collections.AST'.
> 				if (_t==null) _t=ASTNULL;
> 
> <snip>
> 
> and 50 more such messages.
> 
> I don't know what it means.  If you suggest 
> a fix I'll try it.
> 
> paul
> 
> 
> 
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Sat Jul  5 17:10:32 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] didn't manage to compile under gcj
In-Reply-To: <20030705235744.89194.qmail@web80604.mail.yahoo.com>
Message-ID: <42042077-AF46-11D7-936D-000393BB647E@cs.usfca.edu>

Wow.. GCJ has gotten much better...yeah I got really weird errors that 
just don't make sense.  Try running it as ASTFrame is not really 
needed.  Let us know if you can run antlr on a simple grammar file. :)

Thanks,
Terence

On Saturday, July 5, 2003, at 04:57  PM, paul taney wrote:

>
> Aha!
>
> After casting all ASTNULLs with
>
>     (antlr.collections.AST)ASTNULL
>
> there's only one error showing:
>
>     antlr/debug/misc/ASTFrame.java:0: bad class index
> 0
>
> But I don't get that one...
> paul
>
>
> --- paul taney <paultaney@yahoo.com> wrote:
>>
>> --- Terence Parr <parrt@cs.usfca.edu> wrote:
>>> Does GCJ actually work these days?  It wouldn't
>> even
>>> come close to
>>> compiling let alone running ANTLR when I checked
>>> months ago.
>>>
>>
>> I'm running on RedHat with 2.4.7-10 kernal.
>>
>> $ gcj --version
>> 2.96
>>
>> This is what I did to try to use gjc:
>>
>> I think what it wants in the CLASSPATH is
>> gcc-3.3/libjava  and
>> gcc-3.3/build/i686-pc-linux-gnu/libjava
>>
>> so I added to .bashrc
>> export GCJ=/usr/local/gcc/gcc-3.3/libjava:\
>>
> /usr/local/gcc/gcc-3.3/build/i686-pc-linux-gnu/libjava
>> export CLASSPATHGNU=$GCJ:$CLASSPATH:.
>>
>> $ source .bashrc
>>
>> Then try to compile some things in
>> $ cd antlr-2.7.2/examples/java/java:
>>
>> $ gcj --classpath $CLASSPATHGNU \
>>     JavaLexer.java \
>>     JavaRecognizer.java \
>>     JavaTokenTypes.java \
>>     JavaTreeParser.java \
>>     JavaTreeParserTokenTypes.java \
>>     Main.java
>>
>> this is what I get:
>>
>> JavaTreeParser.java: In class `JavaTreeParser':
>> JavaTreeParser.java: In method
>> `compilationUnit(antlr.collections.AST)':
>> JavaTreeParser.java:34: Incompatible type \
>> for `='. Explicit cast needed to convert
>> `antlr.ASTNULLType' to `antlr.collections.AST'.
>> 			if (_t==null) _t=ASTNULL;
>>                                         ^
>> JavaTreeParser.java:58: Incompatible type \
>> for `='. Explicit cast needed to convert
>> `antlr.ASTNULLType' to `antlr.collections.AST'.
>> 				if (_t==null) _t=ASTNULL;
>>
>> <snip>
>>
>> and 50 more such messages.
>>
>> I don't know what it means.  If you suggest
>> a fix I'll try it.
>>
>> paul
>>
>>
>>
>> __________________________________
>> Do you Yahoo!?
>> SBC Yahoo! DSL - Now only $29.95 per month!
>> http://sbc.yahoo.com
>>
>>
>>
>> Your use of Yahoo! Groups is subject to
>> http://docs.yahoo.com/info/terms/
>>
>>
>
>
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com link sharing, pure-n-simple




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From paultaney at yahoo.com  Sat Jul  5 17:36:52 2003
From: paultaney at yahoo.com (paul taney)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] didn't manage to compile under gcj
In-Reply-To: <42042077-AF46-11D7-936D-000393BB647E@cs.usfca.edu>
Message-ID: <20030706003652.53061.qmail@web80606.mail.yahoo.com>


--- Terence Parr <parrt@cs.usfca.edu> wrote:
> Wow.. GCJ has gotten much better...yeah I got really
> weird errors that 
> just don't make sense.  Try running it as ASTFrame
> is not really 
> needed.  Let us know if you can run antlr on a
> simple grammar file. :)


This is what I did.  Is it right?

$ cp antlr/*.java test4terr
$ cd test4terr
$ gcj --classpath $CLASSPATHGNU Tool.java

gives us a bunch of undefined reference errors.
$ ./go 2>&1 | grep "undefined" | wc -l
     53

Here's the first couple:

$ ./go
/usr/lib/gcc-lib/i386-redhat-linux/2.96/../../../crt1.o:
In function `_start':
/usr/lib/gcc-lib/i386-redhat-linux/2.96/../../../crt1.o(.text+0x18):
undefined reference to `main'
/tmp/ccwi6Ai9.o: In function `__finitQ25antlr4Tool':
/home/ptaney/antlr/antlr-2.7.2/test4terr/Tool.java(.text+0xb4):
undefined reference to
`_CL_Q45antlr11collections4impl6BitSet'

paul


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Sat Jul  5 17:41:56 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] didn't manage to compile under gcj
In-Reply-To: <20030706003652.53061.qmail@web80606.mail.yahoo.com>
Message-ID: <A565EA44-AF4A-11D7-936D-000393BB647E@cs.usfca.edu>

Hmm...yeah that looks pretty screwed up to me...can't seem to find any 
of my classes.  Perhaps it a config issue, but I'm guessing that GCJ 
ain't ready for primetime yet ;)

Ter

On Saturday, July 5, 2003, at 05:36  PM, paul taney wrote:

>
> --- Terence Parr <parrt@cs.usfca.edu> wrote:
>> Wow.. GCJ has gotten much better...yeah I got really
>> weird errors that
>> just don't make sense.  Try running it as ASTFrame
>> is not really
>> needed.  Let us know if you can run antlr on a
>> simple grammar file. :)
>
>
> This is what I did.  Is it right?
>
> $ cp antlr/*.java test4terr
> $ cd test4terr
> $ gcj --classpath $CLASSPATHGNU Tool.java
>
> gives us a bunch of undefined reference errors.
> $ ./go 2>&1 | grep "undefined" | wc -l
>      53
>
> Here's the first couple:
>
> $ ./go
> /usr/lib/gcc-lib/i386-redhat-linux/2.96/../../../crt1.o:
> In function `_start':
> /usr/lib/gcc-lib/i386-redhat-linux/2.96/../../../crt1.o(.text+0x18):
> undefined reference to `main'
> /tmp/ccwi6Ai9.o: In function `__finitQ25antlr4Tool':
> /home/ptaney/antlr/antlr-2.7.2/test4terr/Tool.java(.text+0xb4):
> undefined reference to
> `_CL_Q45antlr11collections4impl6BitSet'
>
> paul
>
>
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com link sharing, pure-n-simple




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From paultaney at yahoo.com  Sat Jul  5 17:48:19 2003
From: paultaney at yahoo.com (paul taney)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] didn't manage to compile under gcj
In-Reply-To: <A565EA44-AF4A-11D7-936D-000393BB647E@cs.usfca.edu>
Message-ID: <20030706004819.60342.qmail@web80606.mail.yahoo.com>


--- Terence Parr <parrt@cs.usfca.edu> wrote:
> Hmm...yeah that looks pretty screwed up to
> me...can't seem to find any 
> of my classes.  Perhaps it a config issue, but I'm
> guessing that GCJ 
> ain't ready for primetime yet ;)
> 
> Ter


Wait a minute!  I needed a star there, right?

$ gcj --classpath $CLASSPATHGNU *.java

Now all I get is 6 of these, may just want 
another cast:

CppCodeGenerator.java: In class
`antlr.CppCodeGenerator':
CppCodeGenerator.java: In method
`antlr.CppCodeGenerator()':
CppCodeGenerator.java:97: Incompatible type for `='.
Can't convert `antlr.CppCharFormatter' to
`antlr.CharFormatter'.
		charFormatter = new CppCharFormatter();
                              ^
1 error




__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Sat Jul  5 18:07:24 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] didn't manage to compile under gcj
In-Reply-To: <20030706004819.60342.qmail@web80606.mail.yahoo.com>
Message-ID: <33ADA690-AF4E-11D7-936D-000393BB647E@cs.usfca.edu>

Hmm....i wonder why javac doesn't complain...seems correct "super = 
sub" type assignment.  Hmm..add a cast and see if it works! ;)

Thanks for trying this out...it would really be nice to get some 
compiled code going.

Ter

On Saturday, July 5, 2003, at 05:48  PM, paul taney wrote:

>
> --- Terence Parr <parrt@cs.usfca.edu> wrote:
>> Hmm...yeah that looks pretty screwed up to
>> me...can't seem to find any
>> of my classes.  Perhaps it a config issue, but I'm
>> guessing that GCJ
>> ain't ready for primetime yet ;)
>>
>> Ter
>
>
> Wait a minute!  I needed a star there, right?
>
> $ gcj --classpath $CLASSPATHGNU *.java
>
> Now all I get is 6 of these, may just want
> another cast:
>
> CppCodeGenerator.java: In class
> `antlr.CppCodeGenerator':
> CppCodeGenerator.java: In method
> `antlr.CppCodeGenerator()':
> CppCodeGenerator.java:97: Incompatible type for `='.
> Can't convert `antlr.CppCharFormatter' to
> `antlr.CharFormatter'.
> 		charFormatter = new CppCharFormatter();
>                               ^
> 1 error
>
>
>
>
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com link sharing, pure-n-simple




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From imolanet at yahoo.it  Sat Jul  5 18:43:02 2003
From: imolanet at yahoo.it (Patrik Suzzi)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: C# generator no working
In-Reply-To: <be4s2r+j378@eGroups.com>
Message-ID: <be7ur6+lh01@eGroups.com>

--- In antlr-interest@yahoogroups.com, "micheal_jor" 
<open.zone@v...> wrote:
> Ciao Patrick,

Ciao micheal; excuse me for problems that I continously encounter ..

> 1. ANTLR is not fully built or,
what i have to do to build all ?

> 2. the antlr/actions/csharp/ActionLexer.class file is missing or ..
checked: the class is on the right place

> 3. you have a classpath issue

checking (system - advanced properties - environment variables..)
variable name: "CLASSPATH"
variable value: "C:\antlr-2.7.2\antlr.jar"

checking only line in autoexec.bat
path = C:\j2sdk1.4.1_02\bin\;C:\antlr-2.7.2\;%path%

> Please check and try again.
checked as you can see above; unfortunately still doesn't work :(

> Finally, your included grammar (which I have removed from my 
reply) 

 ok: the line is changed:
 {System.Console.WriteLine("Hi there, "+n.getText());}


Before to end I've a pair of questions:

1) I need ant to build C# lexer + parser ?
2) what I can do with solution on lib/csharp ?


Thanks a lot for hearing me: Patrik


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From jige at altern.org  Sun Jul  6 05:51:05 2003
From: jige at altern.org (gromje)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Need help for tree parsing
Message-ID: <be95vp+c5m2@eGroups.com>

Hi there,

I'm trying to build my first small (actually very very small !) 
interpreter using antlr. I successfully built my lexer/parser, and I 
now need to build a tree parser to parse my AST and interpret it.

I'm looking for resources/advices that might help me getting started 
building this tree parser. I found some examples (Pascal and Basic 
interpreters), but they sometime look very different for a newbie 
like me. I need to find the best way to parse my AST and interpret 
this new (very experimental !) scripting language I'm trying to build.
Thanks in advance.

Cheers  /jerome


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From petrov at programist.ru  Sun Jul  6 08:26:28 2003
From: petrov at programist.ru (qwpetrov)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] please tell me what does it mean "AST" and what does it doing
Message-ID: <be9f34+bvee@eGroups.com>

Hi all! 
I think this is a  very stupip question "please tell me what does it 
mean "AST" and what does it doing?"... But i am new in antlr and i 
haven`t a lot of time to learn it... so please answer to my question. 
It`s very important for me.

e-mail: petrov@programist.ru


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From paultaney at yahoo.com  Sun Jul  6 09:08:53 2003
From: paultaney at yahoo.com (paul taney)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] please tell me what does it mean "AST" and what does it doing
In-Reply-To: <be9f34+bvee@eGroups.com>
Message-ID: <20030706160853.56215.qmail@web80605.mail.yahoo.com>


--- qwpetrov <petrov@programist.ru> wrote:
> Hi all! 
> I think this is a  very stupip question "please tell
> me what does it 
> mean "AST" and what does it doing?"

One of the main techniques computer scientists use
for reducing the "burden of complexity" (the babel of
languages) is to divide problems up into logical
parts.  In the case of language translation or
compilation they employ this "divide and conquer" 
pattern by translating first into an "intermediate
representation" and then once again to the chip's
language (or "virtual machine").  ASTs are a family
of intermediate "tree languages" that are used for
this purpose.  They vaguely resemble lisp, a
language with "Lots of Silly Parentheses" which 
make it friendly to the machine, less friendly 
to human readers.

If you are interested to the tune of $15, Amazon
has a deal for you:  Terrence Parr's out-of-print
book "Language Translation Using PCCTS & C++" is
there used (3 copies).  For $60 new, I recommend
"Modern Compiler Implementation in [C|Java|ML]" by 
Andrew Appel.  Three books, same material in each.

Mr. Parr's current doc on antlr (which was PCCTS) is 
freely distributed with the antlr package.  Or read 
his course materials from a recent university course 
at

http://www.cs.usfca.edu/~parrt/course/652/index.html

Yours,
paul




__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Sun Jul  6 11:01:15 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] please tell me what does it mean "AST" and what does it doing
In-Reply-To: <be9f34+bvee@eGroups.com>
Message-ID: <D60FD490-AFDB-11D7-936D-000393BB647E@cs.usfca.edu>

I wrote a document specifically for you ;)  Here is a pointer into it:

http://www.antlr.org/doc/glossary.html#AST

Terence

On Sunday, July 6, 2003, at 08:26  AM, qwpetrov wrote:

> Hi all!
> I think this is a  very stupip question "please tell me what does it
> mean "AST" and what does it doing?"... But i am new in antlr and i
> haven`t a lot of time to learn it... so please answer to my question.
> It`s very important for me.
>
> e-mail: petrov@programist.ru
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com link sharing, pure-n-simple




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lloyd at galador.net  Sun Jul  6 20:01:23 2003
From: lloyd at galador.net (lloyd_from_far)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] dummy ambiguity question
Message-ID: <beanq3+6a5f@eGroups.com>

sorry for the dummy question, I'm doing some ANTLR again and fall in 
the traps for young player again :-)

how to express the below grammar simply ?
(the problem is the DOT rule, I want a top level DOT token, but I 
don't manage to lex it !):
---------- myLexer.g --------------
DOT : '.' ;
NUMBER
    :
    	(
            N DOT N
            | DOT N
            | N DOT
        )
        ( 'e' ( PLUS | MINUS )? N )?
    ;
protected N : ( '0' .. '9' ) + ;



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lloyd at galador.net  Sun Jul  6 21:12:21 2003
From: lloyd at galador.net (Lloyd Dupont)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] dummy ambiguity question
References: <beanq3+6a5f@eGroups.com>
Message-ID: <009601c3443d$f7fea360$730010ac@5dservices.com.au>

no worries, probably my mistake, it has gone away ? !!!

----- Original Message -----
From: "lloyd_from_far" <lloyd@galador.net>
To: <antlr-interest@yahoogroups.com>
Sent: Monday, July 07, 2003 1:01 PM
Subject: [antlr-interest] dummy ambiguity question


> sorry for the dummy question, I'm doing some ANTLR again and fall in
> the traps for young player again :-)
>
> how to express the below grammar simply ?
> (the problem is the DOT rule, I want a top level DOT token, but I
> don't manage to lex it !):
> ---------- myLexer.g --------------
> DOT : '.' ;
> NUMBER
>     :
>     (
>             N DOT N
>             | DOT N
>             | N DOT
>         )
>         ( 'e' ( PLUS | MINUS )? N )?
>     ;
> protected N : ( '0' .. '9' ) + ;
>
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From petrov at programist.ru  Mon Jul  7 01:04:44 2003
From: petrov at programist.ru (qwpetrov)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: please tell me what does it mean "AST" and what does it doing
In-Reply-To: <D60FD490-AFDB-11D7-936D-000393BB647E@cs.usfca.edu>
Message-ID: <beb9is+ktqe@eGroups.com>

TNX =)


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lubos.vnuk at rts.at  Mon Jul  7 02:29:06 2003
From: lubos.vnuk at rts.at (Lubos Vnuk)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: dummy ambiguity question
In-Reply-To: <beanq3+6a5f@eGroups.com>
Message-ID: <bebeh2+gs0f@eGroups.com>

Try this one:

class NUMLexer extends Lexer;
options {
k = 2;
}

NUMBER :
	  N ( '.' (N)? )?  (EXPONENT)?
	| '.' N (EXPONENT)?
	| '.' 	{$setType(DOT);}
;

protected EXPONENT : 'e' ( '+' | '-' )? N
;

protected N : ( '0' .. '9' )+
;




HTH,
Lubos


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lloyd at galador.net  Mon Jul  7 02:37:07 2003
From: lloyd at galador.net (Lloyd Dupont)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Re: dummy ambiguity question
References: <bebeh2+gs0f@eGroups.com>
Message-ID: <006d01c3446b$5507f480$0300000a@hermes>

simple and elegant, thanks :-)

----- Original Message ----- 
From: "Lubos Vnuk" <lubos.vnuk@rts.at>
To: <antlr-interest@yahoogroups.com>
Sent: Monday, July 07, 2003 7:29 PM
Subject: [antlr-interest] Re: dummy ambiguity question


> Try this one:
>
> class NUMLexer extends Lexer;
> options {
> k = 2;
> }
>
> NUMBER :
>   N ( '.' (N)? )?  (EXPONENT)?
> | '.' N (EXPONENT)?
> | '.' {$setType(DOT);}
> ;
>
> protected EXPONENT : 'e' ( '+' | '-' )? N
> ;
>
> protected N : ( '0' .. '9' )+
> ;
>
>
>
>
> HTH,
> Lubos
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From meissnersd at yahoo.com  Mon Jul  7 07:47:17 2003
From: meissnersd at yahoo.com (Karl Meissner)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] importVocab
Message-ID: <20030707144717.45328.qmail@web40614.mail.yahoo.com>


How do I import a vocab in another directory?

  importVocab=GeneratedCode\\ST; // reads PTokenTypes.txt

does not work


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Mon Jul  7 08:13:47 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] importVocab
In-Reply-To: <20030707144717.45328.qmail@web40614.mail.yahoo.com>; from meissnersd@yahoo.com on Mon, Jul 07, 2003 at 07:47:17AM -0700
References: <20030707144717.45328.qmail@web40614.mail.yahoo.com>
Message-ID: <20030707171347.H6984@cs.utwente.nl>

On Mon, Jul 07, 2003 at 07:47:17AM -0700, Karl Meissner wrote:
> How do I import a vocab in another directory?
> 
>   importVocab=GeneratedCode\\ST; // reads PTokenTypes.txt
> 
> does not work

That particular use is not directly supported. Antlr searches per default
in the current directory and the directory specified with -o (in that
order) If you're using -o GeneratedCode in your setup than only using ST
should do the job. Other option is copying the xTokenTypes.txt files
around.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Before they invented drawing boards, what did they go back to?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lubos.vnuk at rts.at  Mon Jul  7 09:04:31 2003
From: lubos.vnuk at rts.at (Lubos Vnuk)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Paraphrase option and C++ generation
Message-ID: <bec5mf+be9f@eGroups.com>

Hi;

If I specify:
DOUBLE_QUOTE options { paraphrase = "\"";} : "\"";

then I'll get this in the generated C++ Parser source:
const char* MyParser::tokenNames[] = {
...
	"\\\"",
...
}

I suppose it should be just a single backslash.
How can I define a double qoute paraphrase?

Lubos.



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From db at dawnbreaks.net  Mon Jul  7 09:54:54 2003
From: db at dawnbreaks.net (David Bullock)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Need help to finish a grammar for the IETF's ABNF language
Message-ID: <20030708020201.K78152-200000@arwen.lorien.dawnbreaks.net>

Hi folks,

I was wondering if someone had time to help me with
a (short) grammar.  This is partly a learning exercise
for me, since I still don't quite "get" where to draw
the line between the parser and the lexer.

However, the grammar itself should be a useful one:
it is the self-description of the IETF's Augmented BNF
grammar, converted to an ANTLR-parseable grammar.
The purpose of this translator is to convert other
IETF specifications (such as the forthcoming revision
to the Generic URI Syntax), which use ABNF, into
ANTLR grammars.

I've already done much of the hackwork of converting
the syntax, but the placement of rules into either
the parser or the lexer needs some help.  My basic
confusion is, if one of the rules defines the token:

    OCTET
        // 8 bits of data
        : '\u0000'..'\u00FF'
        ;

... does this doom the lexer to only ever giving the
token 'OCTET', and causing the otherwise lexable rule:

    SP
        // space
        : '\u0020'
        ;

to become a parser rule?

(I know about 'protected' ... assume that, for the
purposes of this question, both OCTET and SP are
 referenced from a parser rule)


The text file abnf.g is attached, with heavy commenting.
Any revisions towards 'compiles with ANTLR without warnings'
would be very much appreciated.  If you could explain your
thought processes and the decisions you make, that would be
even better!

RFC 2234 can be found at
ftp://ftp.rfc-editor.org/in-notes/rfc2234.txt


many thanks,
a parsing newbie,
David Bullock


PS.
I will offer the finished translator for inclusion on the
ANTLR resources page, if it is successful.  I realise there
is still a lot to do after the grammar compiles.

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
/**
 * An ANTLR Parser for the IETF's ABNF grammar: translates ABNF
 * grammars into ANTLR grammars.
 * 
 * This grammar is a straightforward adaption of the ABNF
 * syntax from section 4 of RFC 2234, quite mechanically 
 * acording to the following rules:
 * 
 *  1. replace '-' with '_' in rule names
 *  2. replace '[...]' productions with '(...)?'
 *  3. replace '=' between rulename and definition
 *  4. replace '/' with '|'
 *  5. digest cardinality operators to: '*' or '+' or '?' and relocate to tail of subrule, grouping single references where necessary (ie. '1*DIGIT' becomes '(DIGIT)+')
 *  6. comments denoted with ';' changed to '//'
 *  7. ANTLR rule terminator ';' added
 *  8. convert %xHH literal references to '\u00HH' literal references
 *  9. convert 'literal-literal' ranges to 'literal'..'literal' ranges
 * 10. non-semantic formatting applied as per ANTLR established practice
 * 11. add additional grouping parentheses where the original relied on 
 *     the reader knowing the ABNF 'concatenation' operator (LWS) is 
 *     stronger than the 'alternative operator' ("|") (the rule for LWSP
 *     needed this treatment) 
 *
 * The purpose of this ANTLR grammar is to make a tool
 * which will do all of the above transformations automatically,
 * thus assisting quick transcription of any IETF specified 
 * grammar for use with ANTLR.
 *
 * The ABNF grammar is defined at ftp://ftp.rfc-editor.org/in-notes/rfc2234.txt
 *
 * Work yet to be done:
 *
 *  1. decide what to do with literals in what
 *     appear to be parser rules
 *
 *  2. de-capitalize that subset of the 'core'
 *     rules which are not lexer rules
 *
 *  3. decide which rules are lexer rules, and 
 *     which rules are parser rules
 *
 *  4. for parser rules, separate them into ABNFGrammar
 *     and ABNFCore parsers, and make the ABNFGrammar
 *     push the ABNFCore parser onto the parser stack 
 *     when required.    
 */
class ABNFGrammarParser extends Parser;

rulelist
    : ( rule | ((c_wsp)* c_nl) )+
    ;

rule
    // continues if next line starts
    // with white space
    : rulename defined_as elements c_nl
    ;

rulename
    : ALPHA (ALPHA | DIGIT | "-")*
    ;

defined_as
    // rules definition and
    // incremental alternatives
    : (c_wsp)* ("=" | "=/") (c_wsp)*
    ;
    
elements
    : alternation (c_wsp)*
    ;

c_wsp
    : WSP | (c_nl WSP)
    ;

c_nl
    // comment or newline
    : comment | CRLF
    ;
    
comment
    : ";" (WSP | VCHAR)* CRLF
    ;

alternation
    : concatenation ((c_wsp)* "/" (c_wsp)* concatenation)*
    ;

concatenation
    : repetition ((c_wsp)+ repetition)*
    ;
    
repetition
    : (repeat)? element
    ;

repeat
    : (DIGIT)+ | ((DIGIT)* "*" (DIGIT)*)
    ;

element
    : rulename | group | option 
    | char_val | num_val | prose_val
    ;

group
    : "(" (c_wsp)* alternation (c_wsp)* ")"
    ;

option
    : "[" (c_wsp)* alternation (c_wsp)* "]"
    ;

char_val
    // quoted string of SP and VCHAR without DQUOTE
    : DQUOTE ('\u0020'..'\u0021' | '\u0023'..'\u007E')* DQUOTE
    ;

num_val
    : "%" (bin_val | dec_val | hex_val)
    ;

bin_val
    // series of concatenated bit values
    // or single ONEOF range
    : "b" (BIT)* (("." (BIT)*)+ | ("-" (BIT)+))?
    ;

dec_val
    : "d" (DIGIT)+ ( ("." (DIGIT)+ )+ | ("-" (DIGIT)+) )?
    ;

hex_val
    : "x" (HEXDIG)+ ( ("." (HEXDIG)+ )+ | ("-" (HEXDIG)+) )?
    ;

prose_val
    // bracketed string of SP and VCHAR without angles
    // prose description, to be used as last resort
    : "<" ('\u0020'..'\u003D' | '\u003F'..'\u007E')* ">"
    ;


/*
 * The ABNFGrammarParser relies on a core set of 
 * rules which all ITEF ABNF grammars assume exist.
 * However, these rules are not special to the 
 * specification of the ABNF grammar, and so we are
 * attempting here to achieve parser reuse. 
 */
// TODO: DECIDE WHICH RULES BELOW BELONG HERE.
// class ABNFCoreParser extends Parser;


/*
 * The ABNFGrammarParser <em>and</em> the ABNFCoreParser
 * <em>both</em> rely on the tokens produced by this Lexer.
 */
// TODO: DECIDE WHICH RULES BELOW BELONG HERE.
// class ABNFCoreLexer extends Lexer;



// The following capitalized rules are from section 6.1
// of RFC 2234.  
    
ALPHA
    // A-Z | a-z
    : '\u0041'..'\u005A' | '\u0061'..'\u007A'
    ;

BIT
    : "0" | "1"
    ;

CHAR
    // any 7-bit US-ASCII character, excluding NUL
    : '\u0001'..'\u007F'
    ;

CR
    // carriage return
    : '\u000D'
    ;

CRLF
    // Internet standard newline
    : CR LF
    ;

CTL
    // controls
    : '\u0000'..'\u001F' | '\u007F'
    ;

DIGIT
    // 0-9
    : '\u0030'..'\u0039'
    ; 

DQUOTE
    // " (Double Quote)
    : '\u0022'
    ;

HEXDIG
    : DIGIT | "A" | "B" | "C" | "D" | "E" | "F"
    ;

HTAB
    // horizontal tab
    : '\u0009'
    ;   

LF
    // linefeed
    : '\u000A'
    ;

LWSP
    // linear white space (past newline)    
    : (WSP | (CRLF WSP))*
    ;

OCTET
    // 8 bits of data
    : '\u0000'..'\u00FF'
    ;

SP
    // space
    : '\u0020'
    ;

VCHAR
    // visible (printing) characters
    : '\u0021'..'\u007E'
    ;
    
WSP
    // white space
    : SP | HTAB
    ;
From mtiller at ford.com  Mon Jul  7 10:22:30 2003
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Summary of ANTLR Issues
Message-ID: <6F7AD2AD5765D3118A7A00902787302127C240D2@na1fcm06.dearborn.ford.com>

I'm working on putting together a paper on some work I've been doing.  I've used ANTLR on this project and I'm quite pleased with it overall.  Nevertheless, there are some aspects of ANTLR that I found cumbersome.  In the paper, I plan to document some of the issues I had with ANTLR and I thought it would be best to lay these things out here in the newsgroup so that people can correct any possible misunderstandings I've had and also to give "the powers that be" some feedback as well so that future versions of ANTLR might address some of these issues.
 
My goal here is to be as constructive as possible and I hope nobody takes this too personally.
 
First, some background:  This is a parser for the Modelica modeling language.  An interesting thing to keep in mind about this project (and this will be covered in the paper) is that I'm not building a compiler.  I'm building something more like a source code analysis tool.  Another thing to keep in mind is that I am an engineer with no real formal training in compiler design (which might be apparent from the goofy way I've done things :-).
 
OK, now for some observations:
 
Synthetic tokens:
 
I find myself using "synthetic" tokens quite often.  However, I'm not sure if this is because I think in some "strange" way about the AST I'm building or if perhaps that the language I'm parsing just doesn't suit itself to utilizing the existing tokens?
 
I like to see an AST that is populated with meaningful structural entities.  That means nodes for "declarations", "definitions", "inheritance", etc.  All the examples I see in ANTLR use existing tokens as the roots for these trees.  Now this works reasonably well for expression parsing where the operators exist as tokens already and they really are fundamentally the nodes in the system (i.e. [+ [* 2 3] 7]).  But it doesn't seem to make sense for things like declarations.  I mean sure you might have a token (e.g. a keyword) in your particular language (e.g. "declare" in something like "declare Int x;") that would work for this, but I didn't have something like that most of the time.
 
Another interesting observation.  Many books use the word "terminals" when discussing the tokens that the lexer generates.  I find it somewhat ironic therefore that without synthetic nodes, these "terminals" end up being the nodes in the AST rather than the leaves.  In other words, they are the leaves of the grammar, but the nodes in the AST.  Perhaps I'm just dense, but I haven't really been able to reconcile that in my head.  It seems to me that it makes sense to introduce nodes that are related to *rules* (some rules, not all rules) as well as tokens.
 
So, you are probably saying...ANTLR supports imaginary tokens so what are you on about here.  And that is certainly true.  But I get the sense that synthetic tokens are considered "second class" because there doesn't seem to be direct support for them.  By "direct support", I mean the ability to use them for automatic AST construction.  For example, why not allow the following:
 
declaration<AST=DeclarationNode>
  : type name ";"
  ;
 
The idea here would be to allow something like the "^" operator for the rule itself and be able to specify a synthetic token.  This could be equivalent to:
 
declaration
  : type name ";"
   { ## = #[DECLARATION, "declaration", ##]; }
  ;
 
Which I find myself doing all through my code.  This not only has benefits in terms of automatic tree construction, but it would be very handy for issues related to heterogeneous ASTs...which leads me to...
 
Heterogeneous ASTs:
 
For my project, I used heterogeneous ASTs.  What can I say, I guess I was just born hetero!  :-).  But I feel a little out of place in a largely homogenous AST world (I'm sure there are other heteros out there, but we definitely seem to be in the minority).
 
Again, you are probably saying "but ANTLR doesn't show any bias for AST orientation, what are you complaining about?".  Well, it is true that ANTLR supports heterogeneous ASTs for the most part.  It seems that it probably works better in Java than in C++.  I had several problems with trying to use heterogeneous ASTs in C++.  Perhaps some of this is my own stupidity, but what I found was:
 
1) There is a major bug in 2.7.2 that prevents you from cloning hetero ASTs in C++ (another indication that most people use homogenous ASTs).
2) Even though I can associate heterogeneous types with tokens, ANTLR doesn't respect them for synthetic tokens.  By "respect" I mean that it doesn't generate the appropriate factory initialization code (there is a workaround for this by creating a dummy rule that utilizes the synthetic tokens as terminals) and it doesn't allow you to operate on specific members and methods for your heterogeneous ASTs in the production rules (because you have to manually create them so it has to use the factory and therefore uses a generic interface).  The former is what I was eluding to at the end of the previous section on synthetic nodes.
3) Building your own custom AST types is a tedious task.  Ideally, it would be quite slick if you could formalize some kind of "mixin" idiom in the grammar itself so that you didn't have to worry about the explicit details of how to inherit from this or define a template method for that.  Currently, you have to really get to know the C++ AST classes and the class hierarchy is (in my opinion) pretty awkward, which leads me to....
 
C++ AST Classes:
 
If you look at the C++ hierarchy for AST components, you see all sorts of types.  Off the top of my head you have AST, BaseAST, CommonAST, ASTRef, RefAST, nullAST (along with several other types I cannot remember).  In addition, every time you want to create your own AST, you have to not only define your own type but also define several methods *that cannot be inherited* and then define a reference type (at least the examples indicate you should, but I think that currently this only applies if you are associating the type with a terminal token but if synthetic nodes were properly supported you'd need to do this in every case).
 
Looking at the current structure, there has to be a better way.  Ric Klaren put it very nicely when he said:
 
"The big annoyance in my experience is the reference counter and the
reliance of the support code on RefAST's. Those usually defeat any chance
at using template or nice ways to leverage polymorphism."
 
But I think there is a bigger picture here to keep in mind.  Ric is right, much of the complexity comes from the RefAST material.  But what do you need reference counting for?!?  It seems to me that this was probably meant to mirror the way things on done on the Java side.  But when I think of reference counting, I think of situations where one object is likely to be referenced (i.e. shared) by several other objects.  But this isn't the case for AST nodes.  An AST node cannot be shared in practice (e.g., because it includes too much specific information about its siblings).  That is why we have the "clone" method in the first place.  So if ASTs cannot, for practical purposes, be shared then why not simply reimplement them with a memory management scheme that makes sense for non-sharing objects (e.g. the parent explicitly deletes its children when it gets deleted).  This kind of setup would greatly simplify the class structure and facilitate either templates or (even better) !
 polymorphism.
 
My goal would be that I can implement something as simple as:
 
class MyNode : public antlr::AST
{
   // My data, my methods
};
 
...rather than the current approach which is quite a bit more involved...

typedef antlr::ASTRefCount<My_AST> RefMyAST;

class MyAST : public antlr::CommonAST {
public:
    MyAST( void )
    {
    }
    ~MyAST( void )
    {
    }
    void initialize( antlr::RefToken t )
    {
        antlr::CommonAST::initialize(t);
        // more stuff....
        // ...
    }
    void initialize(int t,const std::string& txt)
    {
        setType(t);
        setText(txt);
    }
    /// Initialize the AST from a stream (need to document this!)
    void initialize( std::istream& infile );
    /// Clone this instance (used by several support lib algorithms)
    antlr::RefAST clone( void )
    {
        MyAST *ast = new MyAST(*this);
        return antlr::RefAST(ast);
    }
    void addChild( RefMy_AST c )
    {
        antlr::BaseAST::addChild( static_cast<antlr::RefAST>(c) );
    }
    static antlr::RefAST factory( void )
    {
        antlr::RefAST ret = static_cast<antlr::RefAST>(RefMyAST(new MyAST));
        return ret;
    }
};

By utilizing the C pre-processor I was able to simplify the above considerably which is a good thing because I have about 35 individual synthetic token types in my system.
 
Now I recognize that it may not always be possible to get things as simple as "class MyNode : public antlr::AST { ... };".  If it isn't possible, then it would be ideal to have some facility for having ANTLR using some kind of "mix-in" approach where I can just define:
 
class MyNode : public antlr::AST {
};
 
...and then ANTLR does something like what CORBA does where it uses that original class and its own specific stuff together to form another class to be used in the framework, e.g.
 
class MyNode_Impl : public MyNode, public antlr::AST_Impl {
   // Add clone methods, etc.
};
 
The idea would be to minimize the work necessary in creating the custom types.
 
XML, DOM, ASTs, etc:
 
OK, one last thing.  One of the issues that anyone working with a custom language these days has to face is "Why didn't you just develop and XML schema and forget about all this lexer parser stuff?".  The answer to this question is pretty much what Terrence laid out in "Humans should not have to grok XML" which addresses the issues nicely (but still doesn't quite convince most people who only have on neuron and it always fires "XML!").
 
But, there is a more subtle issue here.  While it may be true that the language itself may not be ideally represented in XML, I have to wonder whether it might make sense to try and mimic (or, as an option, use) a DOM interface for describing ASTs.  It seems like the DOM is essentially the AST for XML and perhaps it might make sense to use the same approach in ANTLR.  I was thinking specifically about reuse of algorithms and libraries built around a DOM interface.  To me, there is much more "synergy" at this level than in trying to cram domain-specific languages into an XML formalism.
 
Conclusion:
 
I think that with the exception of the C++ class hierarchy, much of this is easy to address.  Looking at my grammar, things would be greatly simplified if the following were possible:
 
1) Automatic construction of synthetic nodes via a syntax like:
 
declaration<AST=DeclarationNode>
  : type name ";"
  ;
 
2) Ability to reference heterogeneous methods and members , e.g.:
 
type<AST=TypeNode>
  IDENT ("." IDENT)* { ... }
  ;
 
declaration<AST=DeclarationNode>
  : t:type name ";" { ##->setType(t->getTypeName()); }
  ;
 
3) Definitions of custom AST types should involve a minimum of code.
 
 
OK, so that is my feedback.  As I said, I've tried to be constructive and propose solutions and not just complain about the current functionality.  I don't know enough about the backend side of ANTLR to be more specific.
 
--
Mike
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030707/59c4b030/attachment.html
From parrt at cs.usfca.edu  Mon Jul  7 12:23:32 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:46 2004
Subject: [antlr-interest] Summary of ANTLR Issues
In-Reply-To: <6F7AD2AD5765D3118A7A00902787302127C240D2@na1fcm06.dearborn.ford.com>
Message-ID: <7F03F5F5-B0B0-11D7-936D-000393BB647E@cs.usfca.edu>


On Monday, July 7, 2003, at 10:22  AM, Tiller, Michael (M.M.) wrote:

> I'm working on putting together a paper on some work I've been doing.? 
> I've used ANTLR on this project and I'm quite pleased with it 
> overall.? Nevertheless, there are some aspects of ANTLR that I found 
> cumbersome.? In the paper, I plan to document some of the issues I had 
> with ANTLR and I thought it would be best to lay these things out here 
> in the newsgroup so that people can correct any possible 
> misunderstandings I've had and also to give "the powers that be" some 
> feedback as well so that future versions of ANTLR might address some 
> of these issues.
> ?
> My goal here is to be as constructive as possible and I hope nobody 
> takes this too personally.

Heck no.  Sounds like a good idea.  Loring, Monty and I will be in OR 
this Fri for a 3 day "cabal".  Perfect timing.  We're talking about 
what we don't like and what we want to add etc...

> ?First, some background:? This is a parser for the Modelica modeling 
> language.? An interesting thing to keep in mind about this project 
> (and this will be covered in the paper) is that I'm not building a 
> compiler.? I'm building something more like a source code analysis 
> tool.? Another thing to keep in mind is that I am an engineer with no 
> real formal training in compiler design (which might be apparent from 
> the goofy way I've done things :-).
> ?
> OK, now for some observations:
> ?
> Synthetic?tokens:
> ?
> I find myself using "synthetic" tokens quite often.? However, I'm not 
> sure if this is because I think in some "strange" way about the AST 
> I'm building or if perhaps that the language I'm parsing just doesn't 
> suit itself to utilizing the existing tokens?
> ?
> I like to see an AST that is populated with meaningful structural 
> entities.? That means nodes for "declarations", "definitions", 
> "inheritance", etc.? All the examples I see in ANTLR use existing 
> tokens as the roots for these trees.? Now this works reasonably well 
> for expression parsing where the operators exist as tokens already and 
> they really are fundamentally the nodes in the system (i.e. [+ [* 2 3] 
> 7]).? But it doesn't seem to make sense for things like declarations.? 
> I mean sure you might have a token (e.g. a keyword) in your particular 
> language (e.g. "declare" in something like "declare Int x;") that 
> would work for this, but I didn't have something like that most of the 
> time.

Yep...we call these imaginary tokens...the Java grammar uses them all 
over.

> Another interesting observation.? Many books use the?word "terminals" 
> when discussing the tokens that the lexer generates.? I find it 
> somewhat ironic therefore that without synthetic nodes, these 
> "terminals" end up being the nodes in the AST rather than the leaves.? 
> In other words, they are the leaves of the grammar, but the nodes in 
> the AST.? Perhaps I'm just dense, but I haven't really been able to 
> reconcile that in my head.? It seems to me that it makes sense to 
> introduce nodes that are related to *rules* (some rules, not all 
> rules) as well as tokens.

Imaginary tokens are for grouping things in the tree as you say like 
DECLARE node or STATEMENT_LIST.  There are an infinite number of 
grammars that can recognize Java, but they can all generate the same 
AST (the one I have is pretty decent).  SO, the issue is why tie your 
internal structure of the language to something that reflects the 
personal grammar writing style of someone.  Better to focus on the 
abstract structure and then make the tree building code in the grammar 
do that.

You are asking for a parse tree not an AST when you mention the word 
"rules".

> ?
> So, you are probably saying...ANTLR supports imaginary tokens so what 
> are you on about here.? And that is certainly true.? But I get the 
> sense that synthetic tokens are considered "second class" because 
> there doesn't seem to be direct support for them.? By "direct 
> support", I mean the ability to use them for automatic AST 
> construction.? For example, why not allow the following:
> ?
> declaration<AST=DeclarationNode>
> ? : type name ";"
> ? ;

In this case because we don't like parse trees, we like ASTs. :)

> ?
> The idea here would be to allow something like the "^" operator for 
> the rule itself and be able to specify a synthetic token.? This could 
> be equivalent to:
> ?
> declaration
> ? : type name ";"
> ?? { ## = #[DECLARATION, "declaration", ##]; }
> ? ;
> ?
> Which I find myself doing all through my code.?

Me too.  yes, better support for this could be had.

>  This not only has benefits in terms of automatic tree construction, 
> but it would be very handy for issues related to heterogeneous 
> ASTs...which leads me to...
> ?
> Heterogeneous ASTs:
> ?
> For my project, I used heterogeneous ASTs.? What can I say, I guess I 
> was just born hetero!? :-).? But I feel a little out of place in a 
> largely homogenous AST world (I'm sure there are other heteros out 
> there, but we definitely seem to be in the minority).
> ?
> Again, you are probably saying "but ANTLR doesn't show any bias for 
> AST orientation, what are you complaining about?".? Well, it is true 
> that ANTLR supports heterogeneous ASTs for the most part.? It seems 
> that it probably works better in Java than in C++.? I had several 
> problems with trying to use heterogeneous ASTs in C++.? Perhaps some 
> of this is my own stupidity, but what I found was:
> ?
> 1) There is a major bug in 2.7.2 that prevents you from cloning hetero 
> ASTs in C++ (another indication that most people use homogenous ASTs).
> 2) Even though I can associate heterogeneous types with tokens, ANTLR 
> doesn't respect them for synthetic tokens.? By "respect" I mean that 
> it doesn't generate the appropriate factory initialization code (there 
> is a workaround for this by creating a dummy rule that utilizes the 
> synthetic tokens as terminals) and it doesn't allow you to operate on 
> specific members and methods for your heterogeneous ASTs in the 
> production rules (because you have to manually create them so it has 
> to use the factory and therefore uses a generic interface).? The 
> former is what I was eluding to at the end of the previous section on 
> synthetic nodes.
> 3) Building your own custom AST types is a tedious task.? Ideally, it 
> would be quite slick if you could formalize some kind of "mixin" idiom 
> in the grammar itself?so that you didn't have to worry about the 
> explicit details of how to inherit from this or define a template 
> method for that.? Currently, you have to really get to know the 
> C++?AST classes and the class hierarchy is (in my opinion) pretty 
> awkward, which leads me to....

Well,

expr : atom (PLUS^ atom)* ;

would be pretty hard to beat, n'est-ce pas?  I'm mean one character, 
right? ;)  I admit that the notation is not necessarily so good for 
declarations, but works well for statements too:

returnStat : "return"^ expr SEMI ;

> ?
> C++ AST Classes:

I'll let Ric address this.

> ?
> If you look at the C++ hierarchy for AST components, you see all sorts 
> of types.? Off the top of my head you have AST, BaseAST, CommonAST, 
> ASTRef, RefAST, nullAST (along with several other types I cannot 
> remember).? In addition, every time you want to create your own AST, 
> you have to not only define your own type but also?define several 
> methods *that cannot be inherited* and then define a reference type 
> (at least the examples?indicate you should, but I think that currently 
> this only applies if you are associating the type with a terminal 
> token but if synthetic nodes were properly supported you'd need to do 
> this in every case).
> ?
> Looking at the current structure, there has to be a better way.? Ric 
> Klaren put it very nicely when he said:
> ?
> "The big annoyance in my experience is the reference counter and the
> reliance of the support code on RefAST's. Those usually defeat any 
> chance
> at using template or nice ways to leverage polymorphism."
> ?
> But I think there is a bigger picture here to keep in mind.? Ric is 
> right, much of the complexity comes from the RefAST material.? But 
> what do you need reference counting for?!?? It seems to me that this 
> was probably meant to mirror the way things on done on the Java side.? 
> But when I think of reference counting, I think of situations where 
> one object is likely to be referenced (i.e. shared) by several other 
> objects.? But this isn't the case for AST nodes.? An AST node 
> cannot?be shared in practice (e.g., because it includes too much 
> specific information about its siblings).? That is why we have the 
> "clone" method in the first place.? So if ASTs cannot, for practical 
> purposes, be shared then why not simply reimplement them with a memory 
> management scheme that makes sense for non-sharing objects (e.g. the 
> parent explicitly deletes its children when it gets deleted).? This 
> kind of setup would greatly simplify the class structure and 
> facilitate either templates or (even better) polymorphism.
> ?
> My goal would be that I can implement something as simple as:
> ?
> class MyNode : public antlr::AST
> {
> ?? // My data, my methods
> };
> ?
> ...rather than the current approach which is quite a bit more 
> involved...
>
> typedef antlr::ASTRefCount<My_AST> RefMyAST;
>
> class MyAST : public antlr::CommonAST {
> public:
> ??? MyAST( void )
> ??? {
> ??? }
> ??? ~MyAST( void )
> ??? {
> ??? }
> ??? void initialize( antlr::RefToken t )
> ??? {
> ??????? antlr::CommonAST::initialize(t);
> ??????? // more stuff....
> ??????? // ...
> ??? }
> ??? void initialize(int t,const std::string& txt)
> ??? {
> ??????? setType(t);
> ??????? setText(txt);
> ??? }
> ??? /// Initialize the AST from a stream (need to document this!)
> ??? void initialize( std::istream& infile );
> ??? /// Clone this instance (used by several support lib algorithms)
> ??? antlr::RefAST clone( void )
> ??? {
> ??????? MyAST *ast = new MyAST(*this);
> ??????? return antlr::RefAST(ast);
> ??? }
> ??? void addChild( RefMy_AST c )
> ??? {
> ??????? antlr::BaseAST::addChild( static_cast<antlr::RefAST>(c) );
> ??? }
> ??? static antlr::RefAST factory( void )
> ??? {
> ??????? antlr::RefAST ret = static_cast<antlr::RefAST>(RefMyAST(new 
> MyAST));
> ??????? return ret;
> ??? }
> };
> By utilizing the C pre-processor I was able to simplify the above 
> considerably which is a good thing because I have about 35 individual 
> synthetic token types in my system.
> ?
> Now I recognize that it may not always be possible to get things as 
> simple as "class MyNode : public antlr::AST { ... };".? If it isn't 
> possible, then it would be ideal to have some facility for having 
> ANTLR using some kind of "mix-in" approach where I can just define:
> ?
> class MyNode : public antlr::AST {
> };
> ?
> ...and then ANTLR does something like what CORBA does where it uses 
> that original class and its own specific stuff together to form 
> another class to be used in the framework, e.g.
> ?
> class MyNode_Impl : public MyNode, public antlr::AST_Impl {
> ?? // Add clone methods, etc.
> };
> ?
> The idea would be to minimize the work necessary in creating the 
> custom types.
> ?
> XML, DOM, ASTs, etc:
> ?
> OK, one last thing.? One of the issues that anyone working with a 
> custom language these days has to face is "Why didn't you just develop 
> and XML schema and forget about all this lexer parser stuff?".? The 
> answer to this question is pretty much what Terrence laid out in 
> "Humans should not have to grok XML" which addresses the issues nicely 
> (but still doesn't quite convince most people who only have on neuron 
> and it always fires "XML!").

Hoooray for me! ;)

> ?
> But, there is a more subtle issue here.? While it may be true that the 
> language itself may not be ideally represented in XML, I have to 
> wonder whether it might make sense to try and mimic (or, as an option, 
> use) a DOM interface for describing ASTs.?

I tried, but the bastards used the same method names as I did (I was 
here first, btw) ;) and so the return types conflict! :(  I cannot 
implement DOM in my AST. :(

>  It seems like the DOM is essentially the AST for XML and perhaps it 
> might make sense to use the same approach in ANTLR.? I was thinking 
> specifically about reuse of algorithms and libraries built around a 
> DOM interface.? To me, there is much more "synergy" at this level than 
> in trying to cram domain-specific languages into an XML formalism.
> ?

Yep, next round I'll yield to XML world and make my AST compatible with 
theirs.

....
?
> OK, so that is my feedback.? As I said, I've tried to be constructive 
> and propose solutions and not just complain about the current 
> functionality.? I don't know enough about the backend side of ANTLR to 
> be more specific.

Mike, thanks very much for your feedback.  Clearly you spent a lot of 
time thinking about this. :)

Best regards,
Terence
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com link sharing, pure-n-simple




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From meissnersd at yahoo.com  Mon Jul  7 13:05:15 2003
From: meissnersd at yahoo.com (Karl Meissner)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] importVocab
In-Reply-To: <20030707171347.H6984@cs.utwente.nl>
Message-ID: <20030707200515.74254.qmail@web40611.mail.yahoo.com>


Makes sense.   Thanks

--- Ric Klaren <klaren@cs.utwente.nl> wrote:
> On Mon, Jul 07, 2003 at 07:47:17AM -0700, Karl Meissner wrote:
> > How do I import a vocab in another directory?
> > 
> >   importVocab=GeneratedCode\\ST; // reads PTokenTypes.txt
> > 
> > does not work
> 
> That particular use is not directly supported. Antlr searches per default
> in the current directory and the directory specified with -o (in that
> order) If you're using -o GeneratedCode in your setup than only using ST
> should do the job. Other option is copying the xTokenTypes.txt files
> around.
> 
> Cheers,
> 
> Ric
> -- 
> -----+++++*****************************************************+++++++++-------
>     ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
> -----+++++*****************************************************+++++++++-------
>   Before they invented drawing boards, what did they go back to?
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mtiller at ford.com  Mon Jul  7 13:47:55 2003
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Summary of ANTLR Issues
Message-ID: <6F7AD2AD5765D3118A7A00902787302127C240D4@na1fcm06.dearborn.ford.com>



> -----Original Message-----
> From: Terence Parr [mailto:parrt@cs.usfca.edu]
> Sent: Monday, July 07, 2003 3:24 PM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] Summary of ANTLR Issues
>

> On Monday, July 7, 2003, at 10:22  AM, Tiller, Michael (M.M.) wrote:
> 
> > My goal here is to be as constructive as possible and I hope nobody 
> > takes this too personally.
> 
> Heck no.  Sounds like a good idea.  Loring, Monty and I will be in OR 
> this Fri for a 3 day "cabal".  Perfect timing.  We're talking about 
> what we don't like and what we want to add etc...

The timing wasn't a coincidence.  I noted your schedule and moved my
timetable on feedback up to catch your Cabal.

> > Another interesting observation.? Many books use the?word 
> "terminals" 
> > when discussing the tokens that the lexer generates.? I find it 
> > somewhat ironic therefore that without synthetic nodes, these 
> > "terminals" end up being the nodes in the AST rather than 
> the leaves.? 
> > In other words, they are the leaves of the grammar, but the 
> nodes in 
> > the AST.? Perhaps I'm just dense, but I haven't really been able to 
> > reconcile that in my head.? It seems to me that it makes sense to 
> > introduce nodes that are related to *rules* (some rules, not all 
> > rules) as well as tokens.
> 
> Imaginary tokens are for grouping things in the tree as you say like 
> DECLARE node or STATEMENT_LIST.  There are an infinite number of 
> grammars that can recognize Java, but they can all generate the same 
> AST (the one I have is pretty decent).  SO, the issue is why tie your 
> internal structure of the language to something that reflects the 
> personal grammar writing style of someone.  Better to focus on the 
> abstract structure and then make the tree building code in 
> the grammar do that.

OK, I'm with you so far.

> You are asking for a parse tree not an AST when you mention the word 
> "rules".
> 
> ...
> > declaration<AST=DeclarationNode>
> > ? : type name ";"
> > ? ;
> 
> In this case because we don't like parse trees, we like ASTs. :)

OK, hold on.  I specifically said I wanted this for *some* rules (e.g. rules
that also corresponded to significant structural entities in the AST).  I
certainly understand that you don't want to do this for all rules.  I also
understand that your imaginary tokens may not even correspond to specific
rules.  BUT, the currently capabilities only let you associate tokens
with...well...tokens (which is also very specific to the parse tree :-).
Being able to associate them with *some* rules would still be an
improvement, e.g.

The idea would be to use this judiciously in places in the grammar where the
rules also represented logical AST nodes.

> > Heterogeneous ASTs:
> > ?
> > ...
> 
> Well,
> 
> expr : atom (PLUS^ atom)* ;
> 
> would be pretty hard to beat, n'est-ce pas?  I'm mean one character, 
> right? ;)  I admit that the notation is not necessarily so good for 
> declarations, but works well for statements too:
> 
> returnStat : "return"^ expr SEMI ;

I agree with you that it is hard to beat one character for brevity, but I'm
still not quite sure what this is in response to?  This was in the
"Heterogeneous AST" section of my note but I don't see any real
correspondence to hetero ASTs here.  I agree the tree construction is nice
in ANTLR and very important.  I know about "^" and I use it.

> > OK, one last thing.? One of the issues that anyone working with a 
> > custom language these days has to face is "Why didn't you 
> just develop 
> > and XML schema and forget about all this lexer parser stuff?".? The 
> > answer to this question is pretty much what Terrence laid out in 
> > "Humans should not have to grok XML" which addresses the 
> issues nicely 
> > (but still doesn't quite convince most people who only have 
> on neuron 
> > and it always fires "XML!").
> 
> Hoooray for me! ;)

By the way, I should clarify my parenthetical comment above.  To capture the
true intent, I should have written:

(but still doesn't quite convince THOSE people who only have one neuron and
it always first "XML!")


--
Mike

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lgc at mail1.jpl.nasa.gov  Mon Jul  7 15:24:15 2003
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Re: Summary of ANTLR Issues
In-Reply-To: <7F03F5F5-B0B0-11D7-936D-000393BB647E@cs.usfca.edu>
Message-ID: <becruf+708b@eGroups.com>

Just to add my two cents ...

--Loring


--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> 
wrote:
> 
> On Monday, July 7, 2003, at 10:22  AM, Tiller, Michael (M.M.) wrote:
> > Synthetic?tokens:
> > ?
> > I find myself using "synthetic" tokens quite often.? However, I'm 
not 
> > sure if this is because I think in some "strange" way about the 
AST 
> > I'm building or if perhaps that the language I'm parsing just 
doesn't 
> > suit itself to utilizing the existing tokens?
> > ?
> > I like to see an AST that is populated with meaningful structural 
> > entities.? That means nodes for "declarations", "definitions", 
> > "inheritance", etc.? All the examples I see in ANTLR use existing 
> > tokens as the roots for these trees.? Now this works reasonably 
well 
> > for expression parsing where the operators exist as tokens already 
and 
> > they really are fundamentally the nodes in the system (i.e. [+ [* 
2 3] 
> > 7]).? But it doesn't seem to make sense for things like 
declarations.? 
> > I mean sure you might have a token (e.g. a keyword) in your 
particular 
> > language (e.g. "declare" in something like "declare Int x;") that 
> > would work for this, but I didn't have something like that most of 
the 
> > time.
> 
> Yep...we call these imaginary tokens...the Java grammar uses them 
all 
> over.
> 
> > Another interesting observation.? Many books use the?word 
"terminals" 
> > when discussing the tokens that the lexer generates.? I find it 
> > somewhat ironic therefore that without synthetic nodes, these 
> > "terminals" end up being the nodes in the AST rather than the 
leaves.

The textbooks are all biased towards parse trees.  The generated trees 
incorporate the structural semantics of the grammar that you used to 
recognize elements in the parse tree.  ANTLR uses concrete syntax 
trees (AST is a misnomer) instead of parse trees--this gives more 
flexibility for tree transformation.

If you are mildly clever, you can usually use existing tokens to 
structure a syntax tree.  For "C", for example, ";" can be used as the 
root for a simple statement, ")" for a function, "=" for an 
assignment, <id> for a declaration, and so forth.

That said, it would not be that difficult to have ANTLR generate parse 
trees--it just takes adding a root to the AST returned by a rule.  If 
there is sentiment for supporting parse trees as well as ASTs (may 
have some value for interfacing to other tools), that would probably 
make it into ANTLR 3.

> > So, you are probably saying...ANTLR supports imaginary tokens so 
what 
> > are you on about here.? And that is certainly true.? But I get the 
> > sense that synthetic tokens are considered "second class" because 
> > there doesn't seem to be direct support for them.? By "direct 
> > support", I mean the ability to use them for automatic AST 
> > construction.? For example, why not allow the following:
> > ?
> > declaration<AST=DeclarationNode>
> > ? : type name ";"
> > ? ;
> 
> In this case because we don't like parse trees, we like ASTs. :)
> 
> > ?
> > The idea here would be to allow something like the "^" operator 
for 
> > the rule itself and be able to specify a synthetic token.? This 
could 
> > be equivalent to:
> > ?
> > declaration
> > ? : type name ";"
> > ?? { ## = #[DECLARATION, "declaration", ##]; }
> > ? ;
> > ?
> > Which I find myself doing all through my code.?
> 
> Me too.  yes, better support for this could be had.

I've actually implemented equivalent functionality in my tree rewrite 
stuff and that is something that you can expect to see in ANTLR 3.  
Licensing issues (I can release it under Open Source license, but not 
as PD; Ter is keeping ANTLR 2 PD just to avoid opening a can of worms) 
have kept me from releasing this stuff before now.

> >  This not only has benefits in terms of automatic tree 
construction, 
> > but it would be very handy for issues related to heterogeneous 
> > ASTs...which leads me to...
> > ?
> > Heterogeneous ASTs:
> > ?
> > For my project, I used heterogeneous ASTs.? What can I say, I 
guess I 
> > was just born hetero!? :-).? But I feel a little out of place in a 
> > largely homogenous AST world (I'm sure there are other heteros out 
> > there, but we definitely seem to be in the minority).
> > ?

Actually, the AST support in ANTLR 2 is a bit primitive, and there are 
other things broken in the canonical 2.7.2 distribution--the 
"guessing" tests were removed from AST construction statements so that 
 strange behavior will result if you have a grammar with syntactic 
predicates that constructs an AST.  ANTLR 2 has a glaring lack of test 
scaffolding:  this problem should have been caught during testing.  
ANTLR 2 works well if you don't demand too much of the AST support 
structure.

> > Again, you are probably saying "but ANTLR doesn't show any bias 
for 
> > AST orientation, what are you complaining about?".? Well, it is 
true 
> > that ANTLR supports heterogeneous ASTs for the most part.? It 
seems 
> > that it probably works better in Java than in C++.? I had several 
> > problems with trying to use heterogeneous ASTs in C++.? Perhaps 
some 
> > of this is my own stupidity, but what I found was:
> > ?
> > 1) There is a major bug in 2.7.2 that prevents you from cloning 
hetero 
> > ASTs in C++ (another indication that most people use homogenous 
ASTs).
> > 2) Even though I can associate heterogeneous types with tokens, 
ANTLR 
> > doesn't respect them for synthetic tokens.? By "respect" I mean 
that 
> > it doesn't generate the appropriate factory initialization code 
(there 
> > is a workaround for this by creating a dummy rule that utilizes 
the 
> > synthetic tokens as terminals) and it doesn't allow you to operate 
on 
> > specific members and methods for your heterogeneous ASTs in the 
> > production rules (because you have to manually create them so it 
has 
> > to use the factory and therefore uses a generic interface).? The 
> > former is what I was eluding to at the end of the previous section 
on 
> > synthetic nodes.
> > 3) Building your own custom AST types is a tedious task.? Ideally, 
it 
> > would be quite slick if you could formalize some kind of "mixin" 
idiom 
> > in the grammar itself?so that you didn't have to worry about the 
> > explicit details of how to inherit from this or define a template 
> > method for that.? Currently, you have to really get to know the 
> > C++?AST classes and the class hierarchy is (in my opinion) pretty 
> > awkward, which leads me to....

That is on the table for ANTLR 3--I think that there is no reason not 
to support automatic generation of AST classes and to support get/set 
attributes as part of the ANTLR language syntax.

--Loring


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From open.zone at virgin.net  Mon Jul  7 18:44:48 2003
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Re: C# generator no working
In-Reply-To: <be7ur6+lh01@eGroups.com>
Message-ID: <bed7mg+ppjm@eGroups.com>

Ciao Patrick,

> > 1. ANTLR is not fully built or,
> what i have to do to build all ?

Please check the install.html that is supplied with ANTLR. You need 
to do something like:

java antlr.build.Tool build

from the top of the ANTLR directory.

> > 2. the antlr/actions/csharp/ActionLexer.class file is missing 
or ..
> checked: the class is on the right place

The error message you posted indicated that this file wasn't found. 
If it indeed in the correct place, it strongly suggests that you have 
a classpath issue.

> > 3. you have a classpath issue
> 
> checking (system - advanced properties - environment variables..)
> variable name: "CLASSPATH"
> variable value: "C:\antlr-2.7.2\antlr.jar"
> 
> checking only line in autoexec.bat
> path = C:\j2sdk1.4.1_02\bin\;C:\antlr-2.7.2\;%path%

I've found that it's easier to set the classpath on the commandline 
when you run java applications than to use a CLASSPATH environment 
variable. For example:

java -cp "C:\antlr-2.7.2\antlr.jar" antlr.Tool file.g

Please check and try again.

> Before to end I've a pair of questions:
> 
> 1) I need ant to build C# lexer + parser ?

No. You can use Ant (or NAnt on a Windows-with-.NET platform) to 
build your projects. See the csharp examples in "examples\csharp".

> 2) what I can do with solution on lib/csharp ?

It is linked to the antlr.runtime.dll project as well as the 
JavaParser project provided as one of the examples. You need to build 
the sample itself using the NAnt build file in examples/csharp/java 
to be able to play with the JavaParser. The NAnt file runs ANTLR to 
generate the C# source for the Lexer and the Parser.

Cheers,

Micheal
ANTLR/C#



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lgc at mail1.jpl.nasa.gov  Mon Jul  7 21:05:24 2003
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Re: didn't manage to compile under gcj
In-Reply-To: <20030706004819.60342.qmail@web80606.mail.yahoo.com>
Message-ID: <bedfu4+q1dt@eGroups.com>

Paul--

Inquiring minds want to know--what's the latest?  Can ANTLR be made 
to work with GCJ?

--Loring

--- In antlr-interest@yahoogroups.com, paul taney <paultaney@y...> 
wrote:
> 
> --- Terence Parr <parrt@c...> wrote:
> > Hmm...yeah that looks pretty screwed up to
> > me...can't seem to find any 
> > of my classes.  Perhaps it a config issue, but I'm
> > guessing that GCJ 
> > ain't ready for primetime yet ;)
> > 
> > Ter
> 
> 
> Wait a minute!  I needed a star there, right?
> 
> $ gcj --classpath $CLASSPATHGNU *.java
> 
> Now all I get is 6 of these, may just want 
> another cast:
> 
> CppCodeGenerator.java: In class
> `antlr.CppCodeGenerator':
> CppCodeGenerator.java: In method
> `antlr.CppCodeGenerator()':
> CppCodeGenerator.java:97: Incompatible type for `='.
> Can't convert `antlr.CppCharFormatter' to
> `antlr.CharFormatter'.
> 		charFormatter = new CppCharFormatter();
>                               ^
> 1 error
> 
> 
> 
> 
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From aditsu at yahoo.com  Tue Jul  8 01:07:17 2003
From: aditsu at yahoo.com (Adrian Sandor)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Re: recognizer vs translator
In-Reply-To: <20030702153744.73252.qmail@web20418.mail.yahoo.com>
Message-ID: <bedu3l+p9k4@eGroups.com>

thanks for the advice;
I followed this path, however the tree grammar ends up being almost 
as complicated as the parser grammar, and I still need to modify both 
in parallel, is there any way I can improve this? maybe by using 
wildcards or reusing parser rules?

what I'm trying to do is a source code formatter for C++

Adrian

--- In antlr-interest@yahoogroups.com, Matt Benson <gudnabrsam@y...> 
wrote:
> I think the accepted way to do this is to have your
> grammar create an AST, then create a TreeParser that
> walks your AST and performs your translation for you.
> 
> -Matt
> 
> --- Adrian Sandor <aditsu@y...> wrote:
> > 
> > If I have a grammar which is good for recognizing a
> > language, then 
> > how can I write a translator for that language
> > without modifying the 
> > grammar? I mean I want to keep the translator rules
> > separately (even 
> > if they are in the same file).
> > 
> > Adrian



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From aditsu at yahoo.com  Tue Jul  8 01:41:51 2003
From: aditsu at yahoo.com (Adrian Sandor)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] ambiguity
Message-ID: <bee04f+mlue@eGroups.com>


I'm trying to parse C++ source code (for writing a formatter), and I 
stumbled on a problem
take a look at this program:

//---snip
int f(int x){return x;}
typedef char c;

int main()
{
int x=5, y;
y=(f)(x);
y=(c)(x);
}
//---snip

it compiles ok, and look at the last 2 instructions: lexically they 
are identical, but semantically the first one is a function call and 
the second one is a cast
the question is.. how should I write the parser? should I still try 
to distinguish the 2 instructions, or should I treat them the same 
way sintactically? (for this project it could be ok)

thanks

Adrian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From abreneliere at telys.com  Tue Jul  8 01:52:34 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] ambiguity
In-Reply-To: <bee04f+mlue@eGroups.com>
Message-ID: <001701c3452e$463b00f0$ae646464@lavaserver>



> -----Message d'origine-----
> De?: Adrian Sandor [mailto:aditsu@yahoo.com]
> Envoy??: mardi 8 juillet 2003 10:42
> ??: antlr-interest@yahoogroups.com
> Objet?: [antlr-interest] ambiguity
> 
> 
> I'm trying to parse C++ source code (for writing a formatter), and I
> stumbled on a problem
> take a look at this program:
> 
> //---snip
> int f(int x){return x;}
> typedef char c;
> 
> int main()
> {
> int x=5, y;
> y=(f)(x);
> y=(c)(x);
> }
> //---snip
> 
> it compiles ok, and look at the last 2 instructions: lexically they
> are identical, but semantically the first one is a function call and
> the second one is a cast
> the question is.. how should I write the parser? should I still try
> to distinguish the 2 instructions, or should I treat them the same
> way sintactically? (for this project it could be ok)
> 
> thanks
> 
> Adrian
> 

It depends on the actions you have to perform for each case. If actions
are different for each case, you should differentiate them semantically,
if they are identical, you don't have to.

To distinguish them semantically, you should ask the question : how
should an instruction be identified as a cast or as a function call ?

Cordially,
Anthony Breneliere


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Tue Jul  8 03:26:28 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] ambiguity
In-Reply-To: <bee04f+mlue@eGroups.com>; from aditsu@yahoo.com on Tue, Jul 08, 2003 at 08:41:51AM -0000
References: <bee04f+mlue@eGroups.com>
Message-ID: <20030708122627.I6984@cs.utwente.nl>

On Tue, Jul 08, 2003 at 08:41:51AM -0000, Adrian Sandor wrote:
> I'm trying to parse C++ source code (for writing a formatter),

You know there's a C++ parser in the resources section on antlr.org ? (I
think it was the resources section anyway)

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Wit is cultured insolence. --- Aristotle


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Tue Jul  8 04:13:48 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Summary of ANTLR Issues
In-Reply-To: <6F7AD2AD5765D3118A7A00902787302127C240D2@na1fcm06.dearborn.ford.com>; from mtiller@ford.com on Mon, Jul 07, 2003 at 01:22:30PM -0400
References: <6F7AD2AD5765D3118A7A00902787302127C240D2@na1fcm06.dearborn.ford.com>
Message-ID: <20030708131348.J6984@cs.utwente.nl>

On Mon, Jul 07, 2003 at 01:22:30PM -0400, Tiller, Michael (M.M.) wrote:
> Synthetic tokens:
>
> I find myself using "synthetic" tokens quite often.

This is normal no worries ;)

> or if perhaps that the language I'm parsing just doesn't suit itself to
> utilizing the existing tokens?

Depens much on the situation I guess. As long as you can stuff something at
the begin of a subtree that's nice and recognizable by a treeparser you'll
be ok. At least I am ok, I think, while I do that :)

> It seems to me that it makes sense to introduce nodes that are related to
> *rules* (some rules, not all rules) as well as tokens.

Looking at it pragmatically with LL(k) grammars you can often wind up in a
situation that your rule(name)s aren't that meaningfull. Of course this
depends a lot on what you're parsing. Basically you want some tree kindoff
structure rolling out of your parser, antlr is very pragmatic about it and
allows you to shape that tree very much to your liking. There are tools
where you don't have this luxury and you only have the parse tree (those
suck imho :) ).

> So, you are probably saying...ANTLR supports imaginary tokens so what are
> you on about here.  ....
> ... By "direct support", I mean the ability to
> use them for automatic AST construction.

I think Loring is sitting on some nice stuff he'll release when the lawyers
are banished from this universe ;)

> Heterogeneous ASTs:
>
> For my project, I used heterogeneous ASTs.

Quite brave ;)

> Again, you are probably saying "but ANTLR doesn't show any bias for AST
> orientation, what are you complaining about?".

Hmm looking at how the code for heterogenous stuff looked in 2.7.1 I'd say
there was a pretty strong bias for homogeneous ASTs. (Java and C++) Okay it
was possible to use but you would certainly run into surprises. 2.7.2
improved a bit and it might now work better in more cases.

> I had several problems with trying to use heterogeneous ASTs in C++.

I'm not surprised. I would like to use them but I won't bother while the
current support library is in place.

> 1) There is a major bug in 2.7.2 that prevents you from cloning hetero ASTs
> in C++ (another indication that most people use homogenous ASTs).

Do tell ;) I must admit that while I made the cloning stuff I probably did
not think of all possible uses in the support lib and stuff so maybe you
stumbled on something I overlooked.

> 2) Even though I can associate heterogeneous types with tokens, ANTLR
> doesn't respect them for synthetic tokens.  By "respect" I mean that it
> doesn't generate the appropriate factory initialization code (there is a
> workaround for this by creating a dummy rule that utilizes the synthetic
> tokens as terminals) and it doesn't allow you to operate on specific
> members and methods for your heterogeneous ASTs in the production rules
> (because you have to manually create them so it has to use the factory and
> therefore uses a generic interface).  The former is what I was eluding to
> at the end of the previous section on synthetic nodes.

If you could supply me with a small compileable grammar written as you
would expect things to be handled (no workarounds) then I can have a look.

> Currently, you have to really get to know the C++ AST classes and the class
> hierarchy is (in my opinion) pretty awkward, which leads me to....

I hear you it is a mess.

> C++ AST Classes:
>
> If you look at the C++ hierarchy for AST components, you see all sorts of
> types.  Off the top of my head you have AST, BaseAST, CommonAST, ASTRef,
> RefAST, nullAST (along with several other types I cannot remember).  In
> addition, every time you want to create your own AST, you have to not only
> define your own type but also define several methods *that cannot be
> inherited* and then define a reference type (at least the examples indicate
> you should, but I think that currently this only applies if you are
> associating the type with a terminal token but if synthetic nodes were
> properly supported you'd need to do this in every case).

The C++ hierarchy basically mirrors the java one (although some of the
above classes might be interfaces in java, not sure) It is a very direct
port of the java code using a reference counter to mimic java's garbage
collection. I'm annoyed with it myself but won't rewrite (if I have time)
untill we get to the ANTLR 3 series. The codebase of ANTLR 2 is not ideal.

> But I think there is a bigger picture here to keep in mind.  Ric is right,
> much of the complexity comes from the RefAST material.  But what do you
> need reference counting for?!?

The reference counter makes the treebuilding code a lot easier. I msyelf
would lean towards a construction with a custom allocator or something
similar. It would probably also depend a lot on how Loring's new tree
building stuff would work under the hood to see what's most practical.

> So if ASTs cannot, for practical purposes, be shared then why not simply
> reimplement them with a memory management scheme that makes sense for
> non-sharing objects (e.g. the parent explicitly deletes its children when
> it gets deleted).  This kind of setup would greatly simplify the class
> structure and facilitate either templates or (even better) ! polymorphism.

Automatically deleting children could be hairy... But losing the reference
counter is one of my top priorities in a rewrite.

> Now I recognize that it may not always be possible to get things as simple
> as "class MyNode : public antlr::AST { ... };".  If it isn't possible, then
> it would be ideal to have some facility for having ANTLR using some kind of
> "mix-in" approach where I can just define:

I'm currently thinking in the lines of some templates and trait classes to
customize most of the token/AST behaviour. Nothing really worked out yet
but I have some ideas for a direction.

> ...and then ANTLR does something like what CORBA does where it uses that
> original class and its own specific stuff together to form another class to
> be used in the framework, e.g.
>
> class MyNode_Impl : public MyNode, public antlr::AST_Impl {
>    // Add clone methods, etc.
> };
>
> The idea would be to minimize the work necessary in creating the custom
> types.

I dunno I personally don't mind doing some simple groundwork, it gives you
a lot more control than a tool that tries to be intelligent. But I agree
that things could be easier. But seeing that I still don't see
heterogeneous AST's as something 100% ready for production code, I'd not
put it on a high priority to provide something like this. (but in the
future it would be a good idea :) )

> I think that with the exception of the C++ class hierarchy, much of this is
> easy to address.  Looking at my grammar, things would be greatly simplified
> if the following were possible:
>
> 1) Automatic construction of synthetic nodes via a syntax like:
>
> declaration<AST=DeclarationNode>
>   : type name ";"
>   ;

Personally I'd wait for Loring's stuff before adding stuff like this. (I
don't mind the ## = #( .. ) syntax too much) Maybe I'd go for Monty's
suggestion of a macro facility in antlr then it would be easy to make some
sugar for this.

> 2) Ability to reference heterogeneous methods and members , e.g.:
>
> declaration<AST=DeclarationNode>
>   : t:type name ";" { ##->setType(t->getTypeName()); }
>   ;

I do not follow, this should already be supported. If it's not working it's
a bug.

> 3) Definitions of custom AST types should involve a minimum of code.

Agree.

> OK, so that is my feedback.  As I said, I've tried to be constructive and
> propose solutions and not just complain about the current functionality.  I
> don't know enough about the backend side of ANTLR to be more specific.

Thank you for the feedback :)

BTW I yesterday put up a new snapshot and it has some heterogeneous AST
fixes. Not sure if they affect your problems.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  "You can't expect to wield supreme executive power just because some
   watery tot throws a sword at you!"
  --- Monty Python and the Holy Grail


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lloyd at galador.net  Tue Jul  8 04:56:25 2003
From: lloyd at galador.net (Lloyd Dupont)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Tree parser
Message-ID: <00ea01c34547$f58ba4b0$0300000a@hermes>

I wonder if there is any good TreeParser tutorial ?

'cause I will write a tree parser for the second time soon, for work this time, and the first time I found the process painfull & undocumented although very usefull to have a clean, without C# code, lexer/parser with just the parsing logic, and the 'business logic' in a third parser with multiple pass.

So this time I intend to definitely clarify my mind on this topic and eventually write a tutorial, but I wondered if it was worth the effort, I mean is there already one or is it worth spare some time to do it ?

cheers,
Lloyd
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030708/928dc6ad/attachment.html
From a_j_key at yahoo.com  Tue Jul  8 08:22:52 2003
From: a_j_key at yahoo.com (a_j_key)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Re: 2 lexers and stream filter - is there no one who can help me...? plz
In-Reply-To: <bdu5ed+cncn@eGroups.com>
Message-ID: <beenkc+re68@eGroups.com>

Hi,

I'm still stuck with this problem. I assume the solution is pretty 
easy... but I've got no more ideas.

I really appreaciate your help.

AJKey


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From paultaney at yahoo.com  Tue Jul  8 09:18:37 2003
From: paultaney at yahoo.com (paul taney)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Re: didn't manage to compile under gcj
In-Reply-To: <bedfu4+q1dt@eGroups.com>
Message-ID: <20030708161837.54457.qmail@web80602.mail.yahoo.com>


--- lgcraymer <lgc@mail1.jpl.nasa.gov> wrote:
> Paul--
> 
> Inquiring minds want to know--what's the latest? 
> Can ANTLR be made 
> to work with GCJ?


Thanks for asking.  I dropped it right there because
I'm no java expert.  Dunno what to do with these
errors. (And with jikes, I'm quite satisfied with
the speed of antlr/java)

Why don't you coach me a little off the list, Loring?
Dont think people need to see the gory bits, much :-)

I'll be a little slow getting back to you right now,
but I'd be into trying this.

If someone else wants to try it also, that would be
great.  Here's my classpath.  YMMV.

echo $CLASSPATHGNU
/usr/local/gcc/gcc-3.3/libjava:\
/usr/local/gcc/gcc-3.3/build/i686\-pc-linux-gnu/libjava:\
/usr/local/java/j2sdk1.4.2<snip>


One doesn't cast while instantiating, so we have
to make other objects just to cast them...  Or what?

----
JavaCodeGenerator.java:77: Incompatible type for `='.
Can't convert `antlr.JavaCharFormatter' to
`antlr.CharFormatter'.
        charFormatter = new JavaCharFormatter();
----
CppCodeGenerator.java:97: Incompatible type for `='.
Can't convert `antlr.CppCharFormatter' to
`antlr.CharFormatter'.
		charFormatter = new CppCharFormatter();
----
DiagnosticCodeGenerator.java:33: Incompatible type for
`='. Can't convert `antlr.JavaCharFormatter' to
`antlr.CharFormatter'.
        charFormatter = new JavaCharFormatter();
----
DocBookCodeGenerator.java:40: Incompatible type for
`='. Can't convert `antlr.JavaCharFormatter' to
`antlr.CharFormatter'.
        charFormatter = new JavaCharFormatter();
----
HTMLCodeGenerator.java:37: Incompatible type for `='.
Can't convert `antlr.JavaCharFormatter' to
`antlr.CharFormatter'.
        charFormatter = new JavaCharFormatter();
----

> --- In antlr-interest@yahoogroups.com, paul taney
> <paultaney@y...> 
> wrote:
> > 
> > --- Terence Parr <parrt@c...> wrote:
> > > Hmm...yeah that looks pretty screwed up to
> > > me...can't seem to find any 
> > > of my classes.  Perhaps it a config issue, but
> I'm
> > > guessing that GCJ 
> > > ain't ready for primetime yet ;)
> > > 
> > > Ter
> > 
> > 
> > Wait a minute!  I needed a star there, right?
> > 
> > $ gcj --classpath $CLASSPATHGNU *.java
> > 
> > Now all I get is 6 of these, may just want 
> > another cast:
> > 
> > CppCodeGenerator.java: In class
> > `antlr.CppCodeGenerator':
> > CppCodeGenerator.java: In method
> > `antlr.CppCodeGenerator()':
> > CppCodeGenerator.java:97: Incompatible type for
> `='.
> > Can't convert `antlr.CppCharFormatter' to
> > `antlr.CharFormatter'.
> > 		charFormatter = new CppCharFormatter();
> >                               ^
> > 1 error
> > 
> > 
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > SBC Yahoo! DSL - Now only $29.95 per month!
> > http://sbc.yahoo.com
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From frankhil at junglemate.com  Tue Jul  8 10:44:14 2003
From: frankhil at junglemate.com (frankhileman)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Please post latest antlr.runtime.dll, antlr.runtime.pdb ?
Message-ID: <beevte+j9te@eGroups.com>

Hello,

Thanks to everyone for at least thinking about how to remove the JVM 
dependency on the windows antler exe. The people here are amazingly 
helpful. Tom Jastrzebski has been kind enough to post the 
latest .net exe to the new website, http://www.antlr.org . I 
was wondering if someone could post the latest .net build of 
antlr.runtime.dll and antlr.runtime.pdb. Thanks,

Frank Hileman


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Tue Jul  8 12:58:19 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] www is switching over to new site
Message-ID: <85856F46-B17E-11D7-936D-000393BB647E@cs.usfca.edu>

Folks,

I think I have a preliminary new site together and thus have switched 
DNS (should be updated in your DNS servers within 24 hours) to point to 
a new box that runs the ANTLR.org site.  http://www.antlr.org will 
point at new site as soon as DNS propagates.  I'll leave old site up 
for a few days just to make sure *some* site lives for everybody.

In the meantime,

http://65.219.20.153/

works for new site.

SO, new site ain't perfect and I need some new buttons and so on, but 
it is a big improvement over old site.  New box is locked down tight 
enough / isolated enough that I am willing to allow ssh access for me 
from outside world so I can edit content and make chagnes from the road 
in OR and Seattle this coming week.

I should have email etc...

Anybody accessing the antlr depot will need to point to lobby.jguru.com 
now instead of antlr.org for that IP address.

Ter
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com link sharing, pure-n-simple




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mtiller at ford.com  Tue Jul  8 13:04:06 2003
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Summary of ANTLR Issues
Message-ID: <6F7AD2AD5765D3118A7A00902787302127C240E6@na1fcm06.dearborn.ford.com>


> -----Original Message-----
> From: Ric Klaren [mailto:klaren@cs.utwente.nl]
> Subject: Re: [antlr-interest] Summary of ANTLR Issues
> 
> On Mon, Jul 07, 2003 at 01:22:30PM -0400, Tiller, Michael 
> (M.M.) wrote:


> > 1) There is a major bug in 2.7.2 that prevents you from 
> cloning hetero ASTs
> > in C++ (another indication that most people use homogenous ASTs).
> 
> Do tell ;) I must admit that while I made the cloning stuff I 
> probably did
> not think of all possible uses in the support lib and stuff 
> so maybe you
> stumbled on something I overlooked.

This was mentioned previously by someone else in the group.  I just implemented what they suggested.  It just meant changing this:

  AST(const AST& other) : ref(other.ref->increment()) {}

to this:
        
  AST(const AST& other) : ref(0) {}

> > 2) Even though I can associate heterogeneous types with tokens, ANTLR
> > doesn't respect them for synthetic tokens.  By "respect" I mean that it
> > doesn't generate the appropriate factory initialization code (there is a
> > workaround for this by creating a dummy rule that utilizes the synthetic
> > tokens as terminals) and it doesn't allow you to operate on specific
> > members and methods for your heterogeneous ASTs in the production rules
> > (because you have to manually create them so it has to use the factory and
> > therefore uses a generic interface).  The former is what I was eluding to
> > at the end of the previous section on synthetic nodes.
> 
> If you could supply me with a small compileable grammar written as you
> would expect things to be handled (no workarounds) then I can 
> have a look.

The problem is, what I want won't compile.  Well, at least if I include everything I want it won't compile.  I'm attaching two versions of "treewalk.g" from the "imagNodeAST" example (for C++).  The first version will compile (in the ANTLR sense at least) but fails during C++ compilation because ANTLR uses a generic interface when I want it to be smart enough to use the specific interface.  Another version addresses something you mention later on...

> > I think that with the exception of the C++ class hierarchy, 
> much of this is
> > easy to address.  Looking at my grammar, things would be 
> greatly simplified
> > if the following were possible:
> >
> > 1) Automatic construction of synthetic nodes via a syntax like:
> >
> > declaration<AST=DeclarationNode>
> >   : type name ";"
> >   ;
> 
> Personally I'd wait for Loring's stuff before adding stuff 
> like this. (I don't mind the ## = #( .. ) syntax too much) Maybe I'd go for Monty's
> suggestion of a macro facility in antlr then it would be easy 
> to make some sugar for this.

I'm using the ##=#(...) trick now.  That isn't so much of a burden.

> > 2) Ability to reference heterogeneous methods and members , e.g.:
> >
> > declaration<AST=DeclarationNode>
> >   : t:type name ";" { ##->setType(t->getTypeName()); }
> >   ;
> 
> I do not follow, this should already be supported. If it's not working it's
> a bug.

I think you misunderstand me.  If I specify an AST for a *TOKEN*, e.g.

tokens {
  BLOCK<AST=My_AST>
}

Then I'm OK so long as BLOCK isn't imaginary.  If it is imaginary, you need to create a dummy rule to get ANTLR to generate the appropriate 

> 
> > 3) Definitions of custom AST types should involve a minimum of code.
> 
> Agree.

I modified the treewalk.g file from the imagNodeAST example for C++.  You could be able to save these files in that directory and (assuming you can build the baseline example), simply rename this files to "treewalk.g" and see the issue list for each one.  Here is a breakdown of the included files:

MyAST.hpp:

  Needed to compile this stuff

treewalk1.g:

  This shows how heterogeneous ASTs should be created and used.  There are two problems with this version.  First, the factory initialization is not done correctly.  Second, I cannot access a specific method on my heterogeneous AST.

treewalk2.g:

  This version generates an appropriate factory initialization (by using the workaround of adding the dummy rule where BLOCK appears as a terminal in the rule).  Note that this version still suffers from the problem that the hetero specific method is still not accessible in the "block" rule.  I don't think this is a bug, I think it is impossible as long as you manually build the node.  This is because the manual construction relies on the factory interface which is generic.  I suppose you could inspect the "BLOCK" type and then add a cast at this point or circumvent the factory somehow.

treewalk3.g:

  This shows how I would like to do (i.e. associate specific AST types at rules).  You mention above that you think this is a bug if it isn't supported.  I would point out that ANTLR cannot compile this and I see no mention of this particular syntax in the ANTLR documentation.  As such, I don't think this is a bug...ANTLR simply cannot do this (currently).

--
Mike


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: MyAST.hpp
Type: application/octet-stream
Size: 1092 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20030708/10fcd531/MyAST.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: treewalk1.g
Type: application/octet-stream
Size: 1618 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20030708/10fcd531/treewalk1.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: treewalk2.g
Type: application/octet-stream
Size: 1643 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20030708/10fcd531/treewalk2.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: treewalk3.g
Type: application/octet-stream
Size: 1668 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20030708/10fcd531/treewalk3.obj
From rodrigobamboo at hotmail.com  Tue Jul  8 18:42:17 2003
From: rodrigobamboo at hotmail.com (Rodrigo B. de Oliveira)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Parsing expressions inside a double quoted string?
Message-ID: <Sea1-DAV47AI70h9Car00061870@hotmail.com>

Hi,

First of all: great tool! I'm really in love with it :-)

Now, to my problem.

I'm developing a toy language to make sure I get this
compiler thing, you know, and boy, It's fun! :-)

The toy language feels a lot like python and btw I was amazed at how
easy and elegant it was to support the INDENT, DEDENT stuff:
write a filter! beautiful.

Well, my problem is that I want the language to support expressions
inside double quoted strings for easy formatting.

An example:

the_man = "Elvin Jones"
print("${the_man} is the man!")
print("2 + 2 = ${2 + 2}")

The idea is that one will be able to embed any valid expression inside
double quoted strings by using the ${} marker.

Any suggestions on how to better achieve this?

Thanks,
Rodrigo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030708/198d4691/attachment.html
From aditsu at yahoo.com  Tue Jul  8 18:56:13 2003
From: aditsu at yahoo.com (Adrian Sandor)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Re: ambiguity
In-Reply-To: <20030708122627.I6984@cs.utwente.nl>
Message-ID: <befsnt+oq7a@eGroups.com>

I know; I took a look at it and it made me feel sick
besides, I think it will be a good experience to write my own C++ 
grammar (even if it's not perfect), and I will have no worries about 
copyright, ownership, credits etc.

Adrian

--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> On Tue, Jul 08, 2003 at 08:41:51AM -0000, Adrian Sandor wrote:
> > I'm trying to parse C++ source code (for writing a formatter),
> 
> You know there's a C++ parser in the resources section on 
antlr.org ? (I
> think it was the resources section anyway)
> 
> Cheers,
> 
> Ric
> -- 
> -----
+++++*****************************************************+++++++++---
----
>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893722  ----
> -----
+++++*****************************************************+++++++++---
----
>   Wit is cultured insolence. --- Aristotle


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lloyd at galador.net  Tue Jul  8 18:59:09 2003
From: lloyd at galador.net (Lloyd Dupont)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Re: ambiguity
References: <befsnt+oq7a@eGroups.com>
Message-ID: <012801c345bd$b0ecf2c0$730010ac@5dservices.com.au>

> I know; I took a look at it and it made me feel sick
it's normal, it's C++
yours would be sick prone too ...

(or not fully functional, it's your choice :-)

> besides, I think it will be a good experience to write my own C++ 
> grammar (even if it's not perfect), and I will have no worries about 
> copyright, ownership, credits etc.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From tomdavies at optushome.com.au  Tue Jul  8 22:05:58 2003
From: tomdavies at optushome.com.au (Tom Davies)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Eclipse plugin gone?
Message-ID: <1057727158.1454.9.camel@al>

I can't find the eclipse plugin on the neww ebsite :-(

Tom

-- 
Tom Davies <tomdavies@optushome.com.au>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Tue Jul  8 22:10:38 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Eclipse plugin gone?
In-Reply-To: <1057727158.1454.9.camel@al>
Message-ID: <ADC6E7F5-B1CB-11D7-936D-000393BB647E@cs.usfca.edu>

Howdy...i have forgotten this and probably other stuff...somebody can 
repost using file sharing...or, I can find soon and post.

Ter
On Tuesday, July 8, 2003, at 10:05  PM, Tom Davies wrote:

> I can't find the eclipse plugin on the neww ebsite :-(
>
> Tom
>
> -- 
> Tom Davies <tomdavies@optushome.com.au>
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com link sharing, pure-n-simple




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From pete.forman at westerngeco.com  Wed Jul  9 01:05:57 2003
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Parsing expressions inside a double  quoted
 string?
In-Reply-To: <Sea1-DAV47AI70h9Car00061870@hotmail.com>
Message-ID: <5.1.1.1.2.20030709090419.0445ad80@wgmail2.gatwick.eur.slb.com>

At 2003-07-08 22:42 -0300, Rodrigo B. de Oliveira wrote:
>Well, my problem is that I want the language to support expressions
>inside double quoted strings for easy formatting.

Switch to a different lexer inside the double quotes.

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Wed Jul  9 02:17:55 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Summary of ANTLR Issues
In-Reply-To: <6F7AD2AD5765D3118A7A00902787302127C240E6@na1fcm06.dearborn.ford.com>; from mtiller@ford.com on Tue, Jul 08, 2003 at 04:04:06PM -0400
References: <6F7AD2AD5765D3118A7A00902787302127C240E6@na1fcm06.dearborn.ford.com>
Message-ID: <20030709111755.M6984@cs.utwente.nl>

On Tue, Jul 08, 2003 at 04:04:06PM -0400, Tiller, Michael (M.M.) wrote:
> > Do tell ;) I must admit that while I made the cloning stuff I 
> > probably did
> > not think of all possible uses in the support lib and stuff 
> > so maybe you
> > stumbled on something I overlooked.
> 
> This was mentioned previously by someone else in the group.  I just implemented what they suggested.  It just meant changing this:
> 
>   AST(const AST& other) : ref(other.ref->increment()) {}
> 
> to this:
>         
>   AST(const AST& other) : ref(0) {}

Already fixed in snapshots.

> The problem is, what I want won't compile.  Well, at least if I include
> everything I want it won't compile.  I'm attaching two versions of
> "treewalk.g" from the "imagNodeAST" example (for C++).  The first version
> will compile (in the ANTLR sense at least) but fails during C++ compilation
> because ANTLR uses a generic interface when I want it to be smart enough to
> use the specific interface.  Another version addresses something you
> mention later on...

Thanks I will look at them.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Wo das Chaos auf die Ordnung trifft, gewinnt meist das Chaos, weil es
  besser organisiert ist. --- Friedrich Nietzsche


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rodrigobamboo at hotmail.com  Wed Jul  9 03:43:56 2003
From: rodrigobamboo at hotmail.com (Rodrigo Oliveira)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Parsing expressions inside a double quoted string?
Message-ID: <Sea1-F122eoc8KEPWsW00040e09@hotmail.com>

You mean by using a filter?

>
>At 2003-07-08 22:42 -0300, Rodrigo B. de Oliveira wrote:
> >Well, my problem is that I want the language to support expressions
> >inside double quoted strings for easy formatting.
>
>Switch to a different lexer inside the double quotes.
>
>--
>Pete Forman                -./\.-  Disclaimer: This post is originated
>WesternGeco                  -./\.-   by myself and does not represent
>pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
>http://petef.port5.com           -./\.-   Hughes or their divisions.

_________________________________________________________________
MSN Messenger: converse com os seus amigos online.  
http://messenger.msn.com.br


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From colettekirwan at yahoo.co.uk  Wed Jul  9 05:47:52 2003
From: colettekirwan at yahoo.co.uk (colettekirwan)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] AST NODE CHOICE
Message-ID: <beh2to+hhe0@eGroups.com>

Hi,

I was wondering is it possible using the antlr grammar to  generate a 
tree node based on a choice i.e

I have the following grammar in my Parser

test_statement:! 
 e2:node1_list e1:node2_list e3:(node3_list | node4_list)
        {## = #([TEST_STATEMENT,"TEST_STATEMENT"],#e2,#e1,#e3);}
       
 ; 

I want the last node e3 to be either node3_list or node4_list 
depending on the User's input. The above grammar compiles but does 
not work i.e my Parser code does not generate any code relating to e3.

Is it possible using the antlr grammar that I can state let e3 be 
either node3_list or node4_list depending on Input?

Regards

Colette


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Wed Jul  9 06:09:41 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] AST NODE CHOICE
In-Reply-To: <beh2to+hhe0@eGroups.com>; from colettekirwan@yahoo.co.uk on Wed, Jul 09, 2003 at 12:47:52PM -0000
References: <beh2to+hhe0@eGroups.com>
Message-ID: <20030709150941.R6984@cs.utwente.nl>

On Wed, Jul 09, 2003 at 12:47:52PM -0000, colettekirwan wrote:
> I was wondering is it possible using the antlr grammar to  generate a 
> tree node based on a choice i.e
> 
> I have the following grammar in my Parser
> 
> test_statement:!
>  e2:node1_list e1:node2_list e3:(node3_list | node4_list)
>         {## = #([TEST_STATEMENT,"TEST_STATEMENT"],#e2,#e1,#e3);}
>        
>  ; 
> 
> I want the last node e3 to be either node3_list or node4_list 
> depending on the User's input. The above grammar compiles but does 
> not work i.e my Parser code does not generate any code relating to e3.

Labeled subrules do not work e.g. label:( x|y|z ).

Something like this should do the job if I understood the problem correctly
(assuming java & I did not typo/laps in C++ somewhere):

e2:node1_list e1:node2_list (e3:node3_list | e4:node4_list)
{
	AST t;
	if ( #e3 )
		t = #e3;
	else
		t = #e4;
	## = #([TEST_STATEMENT,"TEST_STATEMENT"],#e2,#e1,t);
}

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Before they invented drawing boards, what did they go back to?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From pete.forman at westerngeco.com  Wed Jul  9 07:19:54 2003
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Parsing expressions inside a double  quoted
 string?
In-Reply-To: <Sea1-F122eoc8KEPWsW00040e09@hotmail.com>
Message-ID: <5.1.1.1.2.20030709151657.04404b70@wgmail2.gatwick.eur.slb.com>

At 2003-07-09 07:43 -0300, Rodrigo Oliveira wrote:
>You mean by using a filter?

Not a filter but a second lexer.  The main lexer should switch to the 
second when it finds the opening double quote.  One example is in the Java 
parser for javadoc comments IIRC.

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From Geert-Jan.Laat-de at dsm.com  Wed Jul  9 07:58:36 2003
From: Geert-Jan.Laat-de at dsm.com (Laat-de, Geert-Jan)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Creating ANTLR cpp library using Borland C++Builder 6
Message-ID: <51DF4D0F94E1D511AE9A00508BDF80A2020A6E4E@nlurm00ntms001.urm03.dsm-group.com>

Hi all,

I tried building the antlr 2.7.2 dev snapshot 7-7-2003 library using Borland
C++Builder 6. To be able to generate the library I had to change the
following:

config.hpp:      line 154: Comment out the #undef ANTLR_CCTYPE_NEEDS_STD
CharScanner.hpp: line 12:  Added #include <stdio.h> // include the
definition for EOF
                 line 93:  Added ANTLR_USE_NAMESPACE(std) to the exit call.
                 line 99:  Added ANTLR_USE_NAMESPACE(std) to the exit call.
Parser.cpp:      line 154: Added ANTLR_USE_NAMESPACE(std) to the exit call.
String.cpp:      line 26:  Added ANTLR_USE_NAMESPACE(std) to the sprintf
call.
TreeParser.cpp:  line 74:  Added ANTLR_USE_NAMESPACE(std) to the exit call.

And, in the project options in the TLib tab I had to increase the default
page size to 0x0040.

Just wanted to share my experiences with you.

Best regards,

Geert-Jan de Laat

This e-mail is for the intended recipient only.
If you have received it by mistake please let us know by reply and then
delete it from your system; access, disclosure, copying, distribution or
reliance on any of it by anyone else is prohibited.
If you as intended recipient have received this e-mail incorrectly, please
notify the sender (via e-mail) immediately.

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Wed Jul  9 09:05:15 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Creating ANTLR cpp library using Borland C++Builder 6
In-Reply-To: <51DF4D0F94E1D511AE9A00508BDF80A2020A6E4E@nlurm00ntms001.urm03.dsm-group.com>; from Geert-Jan.Laat-de@dsm.com on Wed, Jul 09, 2003 at 04:58:36PM +0200
References: <51DF4D0F94E1D511AE9A00508BDF80A2020A6E4E@nlurm00ntms001.urm03.dsm-group.com>
Message-ID: <20030709180515.U6984@cs.utwente.nl>

Hi,

On Wed, Jul 09, 2003 at 04:58:36PM +0200, Laat-de, Geert-Jan wrote:
> I tried building the antlr 2.7.2 dev snapshot 7-7-2003 library using Borland
> C++Builder 6. To be able to generate the library I had to change the
> following:
> 
> config.hpp:      line 154: Comment out the #undef ANTLR_CCTYPE_NEEDS_STD

Could you supply me the the #ifdef stuff to discern between the various C++
builders ? So I can tailor the config.hpp to work out of the box.

I'll add the generic changes.

The exits I'll probably fix by junking the unused panic methods.

Thanks for the feeback!

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Quidquid latine dictum sit, altum viditur.
                 (Whatever is said in Latin sounds profound.)


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lgc at mail1.jpl.nasa.gov  Wed Jul  9 11:05:45 2003
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Re: Summary of ANTLR Issues
In-Reply-To: <20030709175233.T6984@cs.utwente.nl>
Message-ID: <behlhp+buva@eGroups.com>

Actually, immediate invocation of an AST method is something that 
ANTLR 3 probably won't support--we are likely to change the way ASTs 
are constructed to optimize away the problem of excessive AST node 
allocation (creating a node and then never using it).  The idea is 
that ANTLR would construct a list of AST operations (node creation, 
add sibling, make root) and then apply them at the end of a rule.  You 
would have to have "MyMethod" called by the constructor.

--Loring


--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> Hi,
> 
> On Tue, Jul 08, 2003 at 04:04:06PM -0400, Tiller, Michael (M.M.) 
wrote:
> -----snip---
> tokens {
> 	BLOCK<AST=My_AST>; // imaginary token
> }
> 
> block
> 	:	LCURLY! ( statement )* RCURLY!
> 		// add imaginary BLOCK node on top of statement list
> 		{
>             #block = #([BLOCK, "BLOCK"], #block);
>             // I told ANTLR that a BLOCK had type "MyAST" so
>             // I should be able to do this:
>             #block->MyMethod();
>         }
> 	;
> ----snip----
> 
> There is one issue with the block rule, which cannot be fixed easily 
(would
> require a 2nd pass over the action blocks in a rule). ANTLR has no 
way of
> knowing that you will use the block rules return AST with a custom 
ast
> type. This is why the MyMethod call will fail. The return AST types 
are
> hardcoded to or the default RefAST or the default custom AST for the
> parser. A work around could be (but you probably found it already):
> 
> { RefMyAST b = #([BLOCK, "BLOCK"]); ## = #( b, #block ); 
b->MyMethod(); }
> 
> Under the hood #([BLOCK,"BLOCK"]) seems to generate the right AST 
type, so
> that's good.
> 
> Then there's the issue with the initializeFactory which is a bit 
vague-ish
> and does not make me happy because it is in a piece of the code that 
is a
> horrible hack already. I'm thinking about a different solution 
that's
> cleaner.
> 
> >   You mention above that you think this is a bug if it isn't
> >   supported.
> 
> I was more refering to the ##->MyMethod() in that case (or whatever 
you had
> as example there. Not the rule<AST=MyAST> that's of course not 
supported.)
> Though I was incorrect in that the ##->somemethod would function in 
your
> case. I guess I was still in a (homogeneous) custom AST type thought 
set.
> 
> To summarize. 
> 
> This particular use of ##->somemethod on the return AST of a rule is 
I
> guess something for ANTLR 3, or I have to rearchitect a number of 
things in
> the codegenerator setup (which also forces me to touch java and C# 
modes)
> I'm afraid you have to do with the workaround here for now :(
> 
> The missing factory init I'll fix in the next snapshot.
> 
> Cheers,
> 
> Ric
> --
> 
-----+++++*****************************************************+++++++
++-------
>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893722  ----
> 
-----+++++*****************************************************+++++++
++-------
>   Quidquid latine dictum sit, altum viditur.
>                  (Whatever is said in Latin sounds profound.)


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mtiller at ford.com  Wed Jul  9 12:46:53 2003
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Question about factories
Message-ID: <6F7AD2AD5765D3118A7A00902787302127C240F3@na1fcm06.dearborn.ford.com>

Note: I'm using antlr-2.7.2 and C++ code generation...
 
I noticed that the initializeASTFactory() method for my generated parser is not static.  Why?  More specifically, why should I have to instantiate a lexer so I can instantiate my parser so I can initialize an ASTFactory (which I'm using to generate trees outside my parser) so I can duplicate a node in my AST.  This seems overly complicated.  First, if initializeASTFactory was static (it doesn't seem to use any members of the parser), I wouldn't have to instantiate anything.  Even better, it would also be possible to generate a derived factory class from ASTFactory that just calls the static initializeASTFactory on itself in its constructor.  This way, I'd just have instantiate the factory type specific to my parser (no manual initialization required).
 
Am I missing something?
 
--
Mike
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030709/71dab09e/attachment.html
From mtiller at ford.com  Wed Jul  9 13:06:19 2003
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Re: Summary of ANTLR Issues
Message-ID: <6F7AD2AD5765D3118A7A00902787302127C240F4@na1fcm06.dearborn.ford.com>

> From: lgcraymer [mailto:lgc@mail1.jpl.nasa.gov]
> Subject: [antlr-interest] Re: Summary of ANTLR Issues
> 
> 
> Actually, immediate invocation of an AST method is something that 
> ANTLR 3 probably won't support--we are likely to change the way ASTs 
> are constructed to optimize away the problem of excessive AST node 
> allocation (creating a node and then never using it).  The idea is 
> that ANTLR would construct a list of AST operations (node creation, 
> add sibling, make root) and then apply them at the end of a 
> rule.  You would have to have "MyMethod" called by the constructor.
> 
> --Loring

Really!  That seems a little extreme to me.  Not only does it remove the
ability to work on the heterogeneous ASTS, it seems to remove the ability to
work on the current AST completely?!?  Do you really think it will be worth
it do this?  Wouldn't a clever allocator (that recycled ASTs) be much
better?

This would be really disappointing (in my opinion) because I work on the
current AST all the time (providing scoping information, annotating the AST
nodes with relationship information).  Sure I have to do a silly cast now
(because of the lack of heteroAST support), but I couldn't even use my
casting trick in this case! (if I'm understanding you correctly)

--
Mike

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lgc at mail1.jpl.nasa.gov  Wed Jul  9 15:12:09 2003
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Re: Summary of ANTLR Issues
In-Reply-To: <6F7AD2AD5765D3118A7A00902787302127C240F4@na1fcm06.dearborn.ford.com>
Message-ID: <bei3vp+rdd6@eGroups.com>

You misunderstand.  An attribute syntax would also need to be added 
(not a problem--that would provide a base for specifications that 
could be for used automatic AST class generation) to properly support 
heterogeneous AST classes, but I think that we should do that anyway.  
The idea of using a "smart custom allocator" sounds good in theory, 
but may not save much in practice--initialization still has to be done 
for each "new", and a good allocator is already fairly efficient for 
reusing memory blocks.

As far as the usage that you mention, the major impact would be to 
move some AST processing from the parsing pass to a tree walker 
pass.  I don't see that as being a problem.

ANTLR 3 tree support (including heterogeneous AST) will be better and 
more actively maintained--my version of antlr.g uses heteroASTs 
for tree grammar construction--than in ANTLR 2.

--Loring


--- In antlr-interest@yahoogroups.com, "Tiller, Michael (M.M.)" 
<mtiller@f...> wrote:
> > From: lgcraymer [mailto:lgc@m...]
> > Subject: [antlr-interest] Re: Summary of ANTLR Issues
> > 
> > 
> > Actually, immediate invocation of an AST method is something that 
> > ANTLR 3 probably won't support--we are likely to change the way 
ASTs 
> > are constructed to optimize away the problem of excessive AST node 
> > allocation (creating a node and then never using it).  The idea is 
> > that ANTLR would construct a list of AST operations (node 
creation, 
> > add sibling, make root) and then apply them at the end of a 
> > rule.  You would have to have "MyMethod" called by the 
constructor.
> > 
> > --Loring
> 
> Really!  That seems a little extreme to me.  Not only does it remove 
the
> ability to work on the heterogeneous ASTS, it seems to remove the 
ability to
> work on the current AST completely?!?  Do you really think it will 
be worth
> it do this?  Wouldn't a clever allocator (that recycled ASTs) be 
much
> better?
> 
> This would be really disappointing (in my opinion) because I work on 
the
> current AST all the time (providing scoping information, annotating 
the AST
> nodes with relationship information).  Sure I have to do a silly 
cast now
> (because of the lack of heteroAST support), but I couldn't even use 
my
> casting trick in this case! (if I'm understanding you correctly)
> 
> --
> Mike


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From Geert-Jan.Laat-de at dsm.com  Thu Jul 10 00:08:13 2003
From: Geert-Jan.Laat-de at dsm.com (Laat-de, Geert-Jan)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Creating ANTLR cpp library using Borland C++
	Builder 6
Message-ID: <51DF4D0F94E1D511AE9A00508BDF80A2020A6E4F@nlurm00ntms001.urm03.dsm-group.com>

Ric,

The variable __BCPLUSPLUS__ (already used in the config.hpp) has the version
info. For C++Builder 6 __BCPLUSPLUS__ is defined as 0x0560.

Best regards,

Geert-Jan

> -----Original Message-----
> From: Ric Klaren [mailto:klaren@cs.utwente.nl]
> Sent: woensdag 9 juli 2003 18:05
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] Creating ANTLR cpp library using Borland
> C++Builder 6
> 
> 
> Hi,
> 
> On Wed, Jul 09, 2003 at 04:58:36PM +0200, Laat-de, Geert-Jan wrote:
> > I tried building the antlr 2.7.2 dev snapshot 7-7-2003 
> library using Borland
> > C++Builder 6. To be able to generate the library I had to change the
> > following:
> > 
> > config.hpp:      line 154: Comment out the #undef 
> ANTLR_CCTYPE_NEEDS_STD
> 
> Could you supply me the the #ifdef stuff to discern between 
> the various C++
> builders ? So I can tailor the config.hpp to work out of the box.
> 
> I'll add the generic changes.
> 
> The exits I'll probably fix by junking the unused panic methods.
> 
> Thanks for the feeback!
> 
> Ric
> -- 
> -----+++++****************************************************
> *+++++++++-------
>     ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 
> 4893722  ----
> -----+++++****************************************************
> *+++++++++-------
>   Quidquid latine dictum sit, altum viditur.
>                  (Whatever is said in Latin sounds profound.)
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

This e-mail is for the intended recipient only.
If you have received it by mistake please let us know by reply and then
delete it from your system; access, disclosure, copying, distribution or
reliance on any of it by anyone else is prohibited.
If you as intended recipient have received this e-mail incorrectly, please
notify the sender (via e-mail) immediately.

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From j_scandaliaris at yahoo.es  Thu Jul 10 01:35:45 2003
From: j_scandaliaris at yahoo.es (Jorge Scandaliaris)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Latest C++ dev. snapshot (20030626)
Message-ID: <000501c346be$45dedd70$03001aac@zoys>

Ric,

            I wonder what I am doing wrong, when I run java
"antlr.build.Tool build" I get some error messages. It seems as if the
build tool is trying to run "java antlr.Tool -o
F:\tools\antlr-2.7.2\antlr ./antlr/antlr.g" even before the Tool.java is
compiled. 

            I tried putting the for loop at the beginning of "build"
method (from antlr/build/ANTLR.java) and it seems to work. Is that OK?

 

public void build(Tool tool) {

        if ( !rootIsValidANTLRDir(tool) ) {

            return;

        }

        for (int i=0; i<srcdir.length; i++) {

            String cmd = compiler+" -d "+root+"
"+root+"/"+srcdir[i]+"/*.java";

            tool.system(cmd);

        }

        // run ANTLR on its own .g files

        tool.antlr(root+"/antlr/antlr.g");

        tool.antlr(root+"/antlr/tokdef.g");

        tool.antlr(root+"/antlr/preprocessor/preproc.g");

        tool.antlr(root+"/antlr/actions/java/action.g");

        tool.antlr(root+"/antlr/actions/cpp/action.g");

        tool.antlr(root+"/antlr/actions/csharp/action.g");

       

    } 

 

            This seems to work, i.e. I can run antlr and generate the
cpp files. The problem is that the MSVC compiler gives then some errors,
complaining about pure virtual functions not defined:

            antlr::Parser::LA(int)

and 

            antlr::Parser::LT(int)

in 

            ... \lib\cpp\antlr\parser.hpp

 

            Any ideas? Maybe this has something to do with the way I
compiled the static library: to get it to compile I replaced SOME
appearances of 

#if defined(_MSC_VER) && !defined(__ICL) // Microsoft Visual C++

            with

#if defined(_MSC_VER) && !defined(__ICL) && (_MSC_VER > 1200) //
Microsoft Visual C++

            in the places where the compiler complained (you told me
there was some new .net-specific stuff in here).

 

            This is not crucial for me now, I was just looking to take
advantage of the bug fixes introduced (I use some workarounds now and my
application works with them). I just thought the feedback might be
useful. Note also I had similar problems with previous snapshots, so I
would discard the build problem I describe at the beginning as the cause
(w/ previous snapshots, the build tool worked ok).

 

            Regards,

 

Jorge

 

 




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From j.klaren at utwente.nl  Thu Jul 10 01:58:10 2003
From: j.klaren at utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Latest C++ dev. snapshot (20030626)
In-Reply-To: <000501c346be$45dedd70$03001aac@zoys>; from j_scandaliaris@yahoo.es on Thu, Jul 10, 2003 at 10:35:45AM +0200
References: <000501c346be$45dedd70$03001aac@zoys>
Message-ID: <20030710105810.B16787@cs.utwente.nl>

Hi,

On Thu, Jul 10, 2003 at 10:35:45AM +0200, Jorge Scandaliaris wrote:
>             I wonder what I am doing wrong, when I run java
> "antlr.build.Tool build" I get some error messages. It seems as if the
> build tool is trying to run "java antlr.Tool -o
> F:\tools\antlr-2.7.2\antlr ./antlr/antlr.g" even before the Tool.java is
> compiled. 
> 
>             I tried putting the for loop at the beginning of "build"
> method (from antlr/build/ANTLR.java) and it seems to work. Is that OK?

Would have to ask Terence, I don't use the new build tool.

> 
>  
> 
> public void build(Tool tool) {
> 
>         if ( !rootIsValidANTLRDir(tool) ) {
> 
>             return;
> 
>         }
> 
>         for (int i=0; i<srcdir.length; i++) {
> 
>             String cmd = compiler+" -d "+root+"
> "+root+"/"+srcdir[i]+"/*.java";
> 
>             tool.system(cmd);
> 
>         }
> 
>         // run ANTLR on its own .g files
> 
>         tool.antlr(root+"/antlr/antlr.g");
> 
>         tool.antlr(root+"/antlr/tokdef.g");
> 
>         tool.antlr(root+"/antlr/preprocessor/preproc.g");
> 
>         tool.antlr(root+"/antlr/actions/java/action.g");
> 
>         tool.antlr(root+"/antlr/actions/cpp/action.g");
> 
>         tool.antlr(root+"/antlr/actions/csharp/action.g");
> 
>     } 
> 
> 
>             This seems to work, i.e. I can run antlr and generate the
> cpp files. The problem is that the MSVC compiler gives then some errors,
> complaining about pure virtual functions not defined:

This is a screw up of mine in that snapshot, it is fixed in a newer one
available at http://wwwhome.cs.utwente.nl/~klaren/antlr/

>             Any ideas? Maybe this has something to do with the way I
> compiled the static library: to get it to compile I replaced SOME
> appearances of 
> 
> #if defined(_MSC_VER) && !defined(__ICL) // Microsoft Visual C++
> 
>             with
> 
> #if defined(_MSC_VER) && !defined(__ICL) && (_MSC_VER > 1200) //
> Microsoft Visual C++

This should be ok (I think) I have to do the same myself since the VC7
changes borked VC6.

>             This is not crucial for me now, I was just looking to take
> advantage of the bug fixes introduced (I use some workarounds now and my
> application works with them). I just thought the feedback might be
> useful. Note also I had similar problems with previous snapshots, so I
> would discard the build problem I describe at the beginning as the cause
> (w/ previous snapshots, the build tool worked ok).

Thank you for the feedback :) The stuff needs to be brought back inline for
VC6 :( at least for the static build.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     "Never argue with an idiot, for they will bring you down to their
              level and beat you with experience." --- Unknown

From klaren at cs.utwente.nl  Thu Jul 10 01:58:10 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Latest C++ dev. snapshot (20030626)
In-Reply-To: <000501c346be$45dedd70$03001aac@zoys>; from j_scandaliaris@yahoo.es on Thu, Jul 10, 2003 at 10:35:45AM +0200
References: <000501c346be$45dedd70$03001aac@zoys>
Message-ID: <20030710105810.B16787@cs.utwente.nl>

Hi,

On Thu, Jul 10, 2003 at 10:35:45AM +0200, Jorge Scandaliaris wrote:
>             I wonder what I am doing wrong, when I run java
> "antlr.build.Tool build" I get some error messages. It seems as if the
> build tool is trying to run "java antlr.Tool -o
> F:\tools\antlr-2.7.2\antlr ./antlr/antlr.g" even before the Tool.java is
> compiled. 
> 
>             I tried putting the for loop at the beginning of "build"
> method (from antlr/build/ANTLR.java) and it seems to work. Is that OK?

Would have to ask Terence, I don't use the new build tool.

> 
>  
> 
> public void build(Tool tool) {
> 
>         if ( !rootIsValidANTLRDir(tool) ) {
> 
>             return;
> 
>         }
> 
>         for (int i=0; i<srcdir.length; i++) {
> 
>             String cmd = compiler+" -d "+root+"
> "+root+"/"+srcdir[i]+"/*.java";
> 
>             tool.system(cmd);
> 
>         }
> 
>         // run ANTLR on its own .g files
> 
>         tool.antlr(root+"/antlr/antlr.g");
> 
>         tool.antlr(root+"/antlr/tokdef.g");
> 
>         tool.antlr(root+"/antlr/preprocessor/preproc.g");
> 
>         tool.antlr(root+"/antlr/actions/java/action.g");
> 
>         tool.antlr(root+"/antlr/actions/cpp/action.g");
> 
>         tool.antlr(root+"/antlr/actions/csharp/action.g");
> 
>     } 
> 
> 
>             This seems to work, i.e. I can run antlr and generate the
> cpp files. The problem is that the MSVC compiler gives then some errors,
> complaining about pure virtual functions not defined:

This is a screw up of mine in that snapshot, it is fixed in a newer one
available at http://wwwhome.cs.utwente.nl/~klaren/antlr/

>             Any ideas? Maybe this has something to do with the way I
> compiled the static library: to get it to compile I replaced SOME
> appearances of 
> 
> #if defined(_MSC_VER) && !defined(__ICL) // Microsoft Visual C++
> 
>             with
> 
> #if defined(_MSC_VER) && !defined(__ICL) && (_MSC_VER > 1200) //
> Microsoft Visual C++

This should be ok (I think) I have to do the same myself since the VC7
changes borked VC6.

>             This is not crucial for me now, I was just looking to take
> advantage of the bug fixes introduced (I use some workarounds now and my
> application works with them). I just thought the feedback might be
> useful. Note also I had similar problems with previous snapshots, so I
> would discard the build problem I describe at the beginning as the cause
> (w/ previous snapshots, the build tool worked ok).

Thank you for the feedback :) The stuff needs to be brought back inline for
VC6 :( at least for the static build.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     "Never argue with an idiot, for they will bring you down to their
              level and beat you with experience." --- Unknown


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Thu Jul 10 02:28:53 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Question about factories
In-Reply-To: <6F7AD2AD5765D3118A7A00902787302127C240F3@na1fcm06.dearborn.ford.com>; from mtiller@ford.com on Wed, Jul 09, 2003 at 03:46:53PM -0400
References: <6F7AD2AD5765D3118A7A00902787302127C240F3@na1fcm06.dearborn.ford.com>
Message-ID: <20030710112853.C16787@cs.utwente.nl>

Hi,

On Wed, Jul 09, 2003 at 03:46:53PM -0400, Tiller, Michael (M.M.) wrote:
> Note: I'm using antlr-2.7.2 and C++ code generation...
>  
> I noticed that the initializeASTFactory() method for my generated parser is
> not static.  Why?

Dunno ;) It probably grew that way when I was implementing the stuff. But
you have a point it could probably be static.

> Even better, it would also be possible to generate a derived factory class
> from ASTFactory that just calls the static initializeASTFactory on itself
> in its constructor. This way, I'd just have instantiate the factory type
> specific to my parser (no manual initialization required).

The problem with the factory is that it needs to be the same thing for a
complete lexer/parser/treewalker/rewriter chain. Trying to do all factory
initializations intelligently might prove cumbersome. At the time I
couldn't think of a failproof way of guaranteeing the right initializations
in a complete chain of (tree)parsers (without having to hack too much into
antlr).

Furthermore I wanted it to crash if people tried to see how far they'd get
without reading the release notes/docs. It is very easy to screw up your
project by not initializing the factory correctly. Going on the amount of
mail I got about crashes due to no RTFM I think that was a good decision ;)

Basically I'm still of the opinion that trying to do heterogenous AST's
with ANTLR 2 is not a good idea. At least one should be prepared to run
into vague bugs oversights etc. More than once I've been on the verge of
just ripping it out, (motto: if you can't do it well don't do it).

I'll look at making the thing static and the subclass idea when I have some
more time (next weekish probably).

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  "You can't expect to wield supreme executive power just because some
   watery tot throws a sword at you!"
  --- Monty Python and the Holy Grail


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Thu Jul 10 02:47:21 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Re: Summary of ANTLR Issues
In-Reply-To: <behlhp+buva@eGroups.com>; from lgc@mail1.jpl.nasa.gov on Wed, Jul 09, 2003 at 06:05:45PM -0000
References: <6F7AD2AD5765D3118A7A00902787302127C240F4@na1fcm06.dearborn.ford.com> <bei3vp+rdd6@eGroups.com> <20030709175233.T6984@cs.utwente.nl> <behlhp+buva@eGroups.com>
Message-ID: <20030710114721.D16787@cs.utwente.nl>

Hi,

On Wed, Jul 09, 2003 at 06:05:45PM -0000, lgcraymer wrote:
> Actually, immediate invocation of an AST method is something that 
> ANTLR 3 probably won't support--we are likely to change the way ASTs 
> are constructed to optimize away the problem of excessive AST node 
> allocation (creating a node and then never using it).  The idea is 
> that ANTLR would construct a list of AST operations (node creation, 
> add sibling, make root) and then apply them at the end of a rule.  You 
> would have to have "MyMethod" called by the constructor.

Sounds like a good solution to getting rid of a lot of the action.g horror.
Although you still have the problem of having to do two passes over an
action to see which nodes are actually referenced? Or it might shift the
problem to creating a set of AST operations that would get thrown away ?
(But you guys probably thought of that ;) )

And you then have a way to specify that a certain AST type has different
parameters?

Would it still be possible to label parts of the tree, so you can do stuff
after it's been constructed? For some stuff a parser/treeparser chain is a
bit overkill although it might depend on the amount of trouble it is to
make such a chain in the new setup.

Will the new codegenerator lose the (ab)use of exceptions for parsing ?
This eats cycles, and makes the binaries bigger in C++ mode. (And somewhat
prevents targetting old C)

I wouldn't mind seeing some code generated by any prototype if available ;)

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Wo das Chaos auf die Ordnung trifft, gewinnt meist das Chaos, weil es
  besser organisiert ist. --- Friedrich Nietzsche


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From j_scandaliaris at yahoo.es  Thu Jul 10 03:41:46 2003
From: j_scandaliaris at yahoo.es (Jorge Scandaliaris)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] dev. snapshot 20030707 OK
Message-ID: <000a01c346cf$e0d780a0$03001aac@zoys>

Ric,

            I just managed to compile some simple examples with the
20030707 dev. snapshot. In summary:

1.- Built antlr modifying antlr/build/ANTLR.java (put for loop at
beginning)

2.- Replaced 

#if defined(_MSC_VER) && !defined(__ICL) // Microsoft Visual C++

with

#if defined(_MSC_VER) && !defined(__ICL) && (_MSC_VER > 1200) //
Microsoft Visual C++

in places where compiler was complaining (basically where the "template
class ...." stuff appears.

            Regards,

 

Jorge

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030710/de16fbb5/attachment.html
From defordusa at yahoo.com  Thu Jul 10 04:39:47 2003
From: defordusa at yahoo.com (defordusa)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Using PipedWriter & PipedReader
Message-ID: <bejja3+iu6f@eGroups.com>

I am attempting to create an instance of a lexer using a PipedReader 
that is connected to a PipedWriter. However I am having problems with 
the program hanging, it will process the frist write to the 
PipedWriter instance but hangs after processing it and never returns.

What I am trying to do is create the lexer (FnfL) and parser (FnfP)
one time only and reuse it, for performance reasons I can't afford 
the overhead of continually creating new instances of the lexer and 
parser.

Here is the code I use (has anyone else done this or maybe done it a 
different way)?

        /*
         * Execute the Scanner Recognizer
         */
        FnfL lexer = null;
        PipedReader in = null;
        PipedWriter pw = null;
        try
        {
            pw = new PipedWriter();
            in = new PipedReader(pw);
        }
        catch( IOException e )
        {
            e.printStackTrace();
            System.exit(1);
        }

        // Initialize the lexer
        lexer = new FnfL( in );

        // Initialize and start the parser
        try
        {
            String names[] =
            {
                "Joe Shmoe;",
                "Jane D Shmoe;",
                "Paddy O'Furniture;",
            };

            FnfP parser = new FnfP(lexer);
            for( int nn=0; nn<names.length; nn++ )
            {
                pw.write(names[nn]);
                pw.flush();
                parser.startRule();    // <<-- PROGRAM HANGS HERE!!!!
            }
        }
        catch(Exception e)
        {
            System.err.println("exception: "+e);
            e.printStackTrace();
        }



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mrosgood at yahoo.com  Thu Jul 10 08:52:35 2003
From: mrosgood at yahoo.com (Jason Osgood)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Re: Summary of ANTLR Issues
In-Reply-To: <7F03F5F5-B0B0-11D7-936D-000393BB647E@cs.usfca.edu>
Message-ID: <bek243+5kkd@eGroups.com>

Hi Terence Parr-


You wrote:

> Yep, next round I'll yield to XML world and make my 
> AST compatible with theirs.

Please don't feel you have to do this on my account.  

At the rate XML and its APIs are "innovating" -- DOM -> JDOM -> XOM ->
something RelaxNG inspired -> etc. -- I expect that the drunken
sailor's strategy of rediscovery will eventually hit upon s-lists in
about a decade or so.  Which would make the whole exercise look pretty
silly, no?

For some reason I'm reminded of "Calvin & Hobbes", where Calvin runs
around in circles and then collapses in exhaustion.  Whew!


Cheers, Jason Osgood



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From madison_stjames at yahoo.com  Thu Jul 10 09:35:55 2003
From: madison_stjames at yahoo.com (madison_stjames)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Parsing Extended ASCII Characters
Message-ID: <bek4lb+kb2k@eGroups.com>

Hello,

I am trying to parse a file with the following character in it 
(which it turns out is an extended ASCII character): >>.

Any ideas on how to get the lexer to recognize this? 

Thanks!

~ msj


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From gudnabrsam at yahoo.com  Thu Jul 10 09:41:16 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Parsing Extended ASCII Characters
In-Reply-To: <bek4lb+kb2k@eGroups.com>
Message-ID: <20030710164116.91248.qmail@web20415.mail.yahoo.com>

http://www.antlr.org/doc/options.html#_bb14


--- madison_stjames <madison_stjames@yahoo.com> wrote:
> Hello,
> 
> I am trying to parse a file with the following
> character in it 
> (which it turns out is an extended ASCII character):
> >>.
> 
> Any ideas on how to get the lexer to recognize this?
> 
> 
> Thanks!
> 
> ~ msj
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From charlweed at yahoo.com  Thu Jul 10 13:23:39 2003
From: charlweed at yahoo.com (charlweed)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] How to use java parser to grab expressions from source?
Message-ID: <beki0b+l82u@eGroups.com>

To make a long story short, I have a personal project to add 
a "replace fields with setters" function to the Netbeans Java editor. 
All I want to do (at the moment) is be able to transform Java source 
code by replacing instances of 
    someIndentifier = <expression>; 
with 
    setSomeIndentifier(<expression>);
For all valid expressions.

After much experimenting with the example Java stuff in the antlr 
distribution, it seems that the original source is not stored in the 
finished AST tree. 
Accordingly, I am currently trying to augment the expression() or 
assignmentExpression() method in JavaRecognizer, but I'm stumbling 
around in the dark. I tried a method to transform the AST variable 
expression_AST back into source code by walking it and it's sub 
nodes. However:
(A) the AST tree seems to be empty for the life of these calls , and 
(B) I still can't find the original source.
I get the (sinking) feeling that I need to extend several classes, 
and use them instead of the defaults, but even after walking through 
the tutorial, I'm afraid I don't know where to start for 
JavaRecognizer and/or JavaLexer.

Any tips or pointers would be very much appreciated. 

Thank you!

Charlweed 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From paultaney at yahoo.com  Thu Jul 10 13:37:42 2003
From: paultaney at yahoo.com (paul taney)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] How to use java parser to grab expressions from source?
In-Reply-To: <beki0b+l82u@eGroups.com>
Message-ID: <20030710203742.68535.qmail@web80606.mail.yahoo.com>

charlie,

You might want to start with Andy Tripp's
java beautifier.  It's working for me, as
I try to emit jython.  You have to put back
parens and semis and things that were torn off.  
His code does that.

    http://jazillian.com/antlr/emitter.html

paul

--- charlweed <charlweed@yahoo.com> wrote:
> To make a long story short, I have a personal
> project to add 
> a "replace fields with setters" function to the
> Netbeans Java editor. 
> All I want to do (at the moment) is be able to
> transform Java source 
> code by replacing instances of 
>     someIndentifier = <expression>; 
> with 
>     setSomeIndentifier(<expression>);
> For all valid expressions.
> 
> After much experimenting with the example Java stuff
> in the antlr 
> distribution, it seems that the original source is
> not stored in the 
> finished AST tree. 
> Accordingly, I am currently trying to augment the
> expression() or 
> assignmentExpression() method in JavaRecognizer, but
> I'm stumbling 
> around in the dark. I tried a method to transform
> the AST variable 
> expression_AST back into source code by walking it
> and it's sub 
> nodes. However:
> (A) the AST tree seems to be empty for the life of
> these calls , and 
> (B) I still can't find the original source.
> I get the (sinking) feeling that I need to extend
> several classes, 
> and use them instead of the defaults, but even after
> walking through 
> the tutorial, I'm afraid I don't know where to start
> for 
> JavaRecognizer and/or JavaLexer.
> 
> Any tips or pointers would be very much appreciated.
> 
> 
> Thank you!
> 
> Charlweed 
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lgc at mail1.jpl.nasa.gov  Thu Jul 10 14:46:00 2003
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <20030708161837.54457.qmail@web80602.mail.yahoo.com>
Message-ID: <bekmqo+2on7@eGroups.com>

All--

Since Paul and I took this discussion offline (my role has been 
mostly to interpret the compiler error messages while he does all the 
real work), he has made some impressive progress.  After adding a few 
type casts to the ANTLR source, all of ANTLR compiles and we appear to 
be down to one link error--java.lang.Throwable methods cannot be 
found.

At this point, our best guess is that this is fixed in the version of 
gcj used by RHUG (<http://sources.redhat.com/rhug/>--they call for a 
recent development snapshot) to get all of their Java projects to 
compile (some of which are more demanding than ANTLR).  Unfortunately, 
Paul is stuck with a slow connection and has a family emergency to 
attend to, and I'm spending my spare time trying to prepare for this 
weekend's discussions.  We won't be able to take the last small steps 
for several days.  If anyone out there wants to produce an executable 
sooner, you have our blessings.  I'll post his diffs and compilation 
script (neither of us have yet looked into gcj makefiles) below.

--Loring

=================================================================
File diffs:
$ diff backup2/CppCodeGenerator.java
CppCodeGenerator.java
97c97
<               charFormatter = (antlr.CharFormatter) new
CppCharFormatter();
---
>               charFormatter = new CppCharFormatter();
$ diff backup2/CSharpCodeGenerator.java
CSharpCodeGenerator.java
3841,3842c3841
<             antlr.actions.csharp.ActionLexer lexer =
new antlr.actions.csharp.ActionLexer(actionStr, 
<                                                                      
                   currentRule, this, tInfo);
---
>             antlr.actions.csharp.ActionLexer lexer =
new antlr.actions.csharp.ActionLexer(actionStr,
currentRule, this, tInfo);
$ diff backup2/DiagnosticCodeGenerator.java
DiagnosticCodeGenerator.java
33c33
<         charFormatter = (antlr.CharFormatter) new
JavaCharFormatter();
---
>         charFormatter = new JavaCharFormatter();
$ diff backup2/DocBookCodeGenerator.java
DocBookCodeGenerator.java
40c40
<         charFormatter = (antlr.CharFormatter) new
JavaCharFormatter();
---
>         charFormatter = new JavaCharFormatter();
$ diff backup2/HTMLCodeGenerator.java
HTMLCodeGenerator.java
37c37
<         charFormatter = (antlr.CharFormatter) new
JavaCharFormatter();
---
>         charFormatter = new JavaCharFormatter();
$ diff backup2/JavaCodeGenerator.java
JavaCodeGenerator.java
77c77
<         charFormatter = (antlr.CharFormatter) new
JavaCharFormatter();
---
>         charFormatter = new JavaCharFormatter();

===========================================================
Compilation script:
gcj -o antlr --main=Tool \
        antlr/*.java \
        antlr/actions/cpp/*.java \
        antlr/actions/csharp/*.java \
        antlr/actions/java/*.java \
        antlr/build/*.java \
        antlr/collections/*.java \
        antlr/collections/impl/*.java \
        antlr/debug/*.java \
        antlr/preprocessor/*.java

============================================================

--- In antlr-interest@yahoogroups.com, paul taney <paultaney@y...> 
wrote:
> 
> --- lgcraymer <lgc@m...> wrote:
> > Paul--
> > 
> > Inquiring minds want to know--what's the latest? 
> > Can ANTLR be made 
> > to work with GCJ?
> 
> 
> Thanks for asking.  I dropped it right there because
> I'm no java expert.  Dunno what to do with these
> errors. (And with jikes, I'm quite satisfied with
> the speed of antlr/java)
> 
> Why don't you coach me a little off the list, Loring?
> Dont think people need to see the gory bits, much :-)
> 
> I'll be a little slow getting back to you right now,
> but I'd be into trying this.
> 
> If someone else wants to try it also, that would be
> great.  Here's my classpath.  YMMV.
> 
> echo $CLASSPATHGNU
> /usr/local/gcc/gcc-3.3/libjava:\
> /usr/local/gcc/gcc-3.3/build/i686\-pc-linux-gnu/libjava:\
> /usr/local/java/j2sdk1.4.2<snip>
> 
> 
> One doesn't cast while instantiating, so we have
> to make other objects just to cast them...  Or what?
> 
> ----
> JavaCodeGenerator.java:77: Incompatible type for `='.
> Can't convert `antlr.JavaCharFormatter' to
> `antlr.CharFormatter'.
>         charFormatter = new JavaCharFormatter();
> ----
> CppCodeGenerator.java:97: Incompatible type for `='.
> Can't convert `antlr.CppCharFormatter' to
> `antlr.CharFormatter'.
> 		charFormatter = new CppCharFormatter();
> ----
> DiagnosticCodeGenerator.java:33: Incompatible type for
> `='. Can't convert `antlr.JavaCharFormatter' to
> `antlr.CharFormatter'.
>         charFormatter = new JavaCharFormatter();
> ----
> DocBookCodeGenerator.java:40: Incompatible type for
> `='. Can't convert `antlr.JavaCharFormatter' to
> `antlr.CharFormatter'.
>         charFormatter = new JavaCharFormatter();
> ----
> HTMLCodeGenerator.java:37: Incompatible type for `='.
> Can't convert `antlr.JavaCharFormatter' to
> `antlr.CharFormatter'.
>         charFormatter = new JavaCharFormatter();
> ----
> 
> > --- In antlr-interest@yahoogroups.com, paul taney
> > <paultaney@y...> 
> > wrote:
> > > 
> > > --- Terence Parr <parrt@c...> wrote:
> > > > Hmm...yeah that looks pretty screwed up to
> > > > me...can't seem to find any 
> > > > of my classes.  Perhaps it a config issue, but
> > I'm
> > > > guessing that GCJ 
> > > > ain't ready for primetime yet ;)
> > > > 
> > > > Ter
> > > 
> > > 
> > > Wait a minute!  I needed a star there, right?
> > > 
> > > $ gcj --classpath $CLASSPATHGNU *.java
> > > 
> > > Now all I get is 6 of these, may just want 
> > > another cast:
> > > 
> > > CppCodeGenerator.java: In class
> > > `antlr.CppCodeGenerator':
> > > CppCodeGenerator.java: In method
> > > `antlr.CppCodeGenerator()':
> > > CppCodeGenerator.java:97: Incompatible type for
> > `='.
> > > Can't convert `antlr.CppCharFormatter' to
> > > `antlr.CharFormatter'.
> > > 		charFormatter = new CppCharFormatter();
> > >                               ^
> > > 1 error
> > > 
> > > 
> > > 
> > > 
> > > __________________________________
> > > Do you Yahoo!?
> > > SBC Yahoo! DSL - Now only $29.95 per month!
> > > http://sbc.yahoo.com
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to
> > http://docs.yahoo.com/info/terms/ 
> > 
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lgc at mail1.jpl.nasa.gov  Thu Jul 10 16:30:28 2003
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Re: Summary of ANTLR Issues
In-Reply-To: <20030710114721.D16787@cs.utwente.nl>
Message-ID: <beksuk+n2a9@eGroups.com>

Ric--

Comments below.

--Loring


--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> Hi,
> 
> On Wed, Jul 09, 2003 at 06:05:45PM -0000, lgcraymer wrote:
> > Actually, immediate invocation of an AST method is something that 
> > ANTLR 3 probably won't support--we are likely to change the way 
ASTs 
> > are constructed to optimize away the problem of excessive AST node 
> > allocation (creating a node and then never using it).  The idea is 
> > that ANTLR would construct a list of AST operations (node 
creation, 
> > add sibling, make root) and then apply them at the end of a rule.  
You 
> > would have to have "MyMethod" called by the constructor.
> 
> Sounds like a good solution to getting rid of a lot of the action.g 
horror.
> Although you still have the problem of having to do two passes over 
an
> action to see which nodes are actually referenced? Or it might shift 
the
> problem to creating a set of AST operations that would get thrown 
away ?
> (But you guys probably thought of that ;) )

At this point, this is just an item for discussion this weekend--right 
now, we mostly have individual biases and have not even attempted to  
reach any agreements.  I'd like to see ANTLR-specific stuff--token and 
AST manipulation, tree construction--moved out of actions and into the 
antlr grammar.  That would make retargeting of both ANTLR and ANTLR 
applications easier.  With improved support for code generation, it 
should be easy to add these extensions.  This would probably mean that 
code would be generated for AST operations which might not be used; 
since they would mostly be get/set operators, they would be inline 
methods and cost nothing when not used.

> And you then have a way to specify that a certain AST type has 
different
> parameters?

Not yet--I haven't thought through possible syntaxes.  The first step 
is to convince Ter that this is the right way to go, and then worry 
about a clean syntax.

> Would it still be possible to label parts of the tree, so you can do 
stuff
> after it's been constructed? For some stuff a parser/treeparser 

I would think so--construction optimization is local to each rule, and 
rules would still return constructed subtrees.

chain is a
> bit overkill although it might depend on the amount of trouble it is 
to
> make such a chain in the new setup.

Creating the chain will be minimal effort--automatic tree grammar 
generation is a big help.  At this point, I have done enough work with 
diff3 that I'm pretty confident about code maintenance after 
regeneration of tree grammars.

> Will the new codegenerator lose the (ab)use of exceptions for 
parsing ?
> This eats cycles, and makes the binaries bigger in C++ mode. (And 
somewhat
> prevents targetting old C)

I don't know.  My guess is that Ter's template stuff will make it 
easier to write code generators, so this might become a target 
language issue.  [Right now, the XXXCodeGenerator.java files are so 
awful that you can't even consider such a paradigm shift for a target 
language.]  Exceptions are pretty natural for Java, but a late 
addition to C++.

> I wouldn't mind seeing some code generated by any prototype if 
available ;)

It will still be awhile.  I'm hoping that this will end up as an open 
source project with Ter as gatekeeper--with good design specs, the 
gatekeeper approach is a good way to take advantage of volunteer labor 
and still maintain consistency as to quality and appearance of 
developed code.  Ter's still wrestling with the dilemma of "I want to 
write it myself so that ANTLR does not become a gawdawful mess" versus 
"I really don't have the time".  That's not an easy decision to make.  
If we do go the open development route, we might see something by the 
middle of next year or earlier.

> Cheers,
> 
> Ric
> --
> 
-----+++++*****************************************************+++++++
++-------
>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893722  ----
> 
-----+++++*****************************************************+++++++
++-------
>   Wo das Chaos auf die Ordnung trifft, gewinnt meist das Chaos, weil 
es
>   besser organisiert ist. --- Friedrich Nietzsche


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From paultaney at yahoo.com  Thu Jul 10 17:05:40 2003
From: paultaney at yahoo.com (paul taney)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <bekmqo+2on7@eGroups.com>
Message-ID: <20030711000540.4582.qmail@web80603.mail.yahoo.com>

Loring,

You're too kind.

I have put the --classpath back into the script
and added this to that path:

    /usr/local/gcc/gcc-3.3/libjava/java/lang

because that's were gcc's Throwable lives.  And 
added ".o" to the -o arg (because it complained 
that antlr was a dir).

Now the compile script is:

gcj --classpath $CLASSPATHGNU -o antlr.o --main=Tool \
         antlr/*.java \
         antlr/actions/cpp/*.java \
         antlr/actions/csharp/*.java \
         antlr/actions/java/*.java \
         antlr/build/*.java \
         antlr/collections/*.java \
         antlr/collections/impl/*.java \
         antlr/debug/*.java \
         antlr/preprocessor/*.java


Still we have:

/tmp/ccfeKrb0.o: In function
`antlr::ANTLRError::ANTLRError(void)':
/usr/local/antlr/antlr-2.7.2/antlr/ANTLRError.java(.data+0x44):
undefined reference to
`java::lang::Throwable::getCause(void)'
/usr/local/antlr/antlr-2.7.2/antlr/ANTLRError.java(.data+0x48):
undefined reference to
`java::lang::Throwable::initCause(java::lang::Throwable
*)'
/usr/local/antlr/antlr-2.7.2/antlr/ANTLRError.java(.data+0x5c):
undefined reference to
`java::lang::Throwable::getStackTrace(void)'
/usr/local/antlr/antlr-2.7.2/antlr/ANTLRError.java(.data+0x60):
undefined reference to
`java::lang::Throwable::setStackTrace(JArray<java::lang::StackTraceElement
*> *)'
<snip>

$ grep getCause $PATH/Throwable.java
  public Throwable getCause()
   * Then if <code>getCause()</code> doesn't return
null it adds a line
    Throwable cause = getCause();
        cause = cause.getCause();


Anybody have a clue?

paul


--- lgcraymer <lgc@mail1.jpl.nasa.gov> wrote:
> All--
> 
> Since Paul and I took this discussion offline (my
> role has been 
> mostly to interpret the compiler error messages
> while he does all the 
> real work), he has made some impressive progress. 
> After adding a few 
> type casts to the ANTLR source, all of ANTLR
> compiles and we appear to 
> be down to one link error--java.lang.Throwable
> methods cannot be 
> found.
> 
> At this point, our best guess is that this is fixed
> in the version of 
> gcj used by RHUG
> (<http://sources.redhat.com/rhug/>--they call for a 
> recent development snapshot) to get all of their
> Java projects to 
> compile (some of which are more demanding than
> ANTLR).  Unfortunately, 
> Paul is stuck with a slow connection and has a
> family emergency to 
> attend to, and I'm spending my spare time trying to
> prepare for this 
> weekend's discussions.  We won't be able to take the
> last small steps 
> for several days.  If anyone out there wants to
> produce an executable 
> sooner, you have our blessings.  I'll post his diffs
> and compilation 
> script (neither of us have yet looked into gcj
> makefiles) below.
> 
> --Loring
> 
>
=================================================================
> File diffs:
> $ diff backup2/CppCodeGenerator.java
> CppCodeGenerator.java
> 97c97
> <               charFormatter =
> (antlr.CharFormatter) new
> CppCharFormatter();
> ---
> >               charFormatter = new
> CppCharFormatter();
> $ diff backup2/CSharpCodeGenerator.java
> CSharpCodeGenerator.java
> 3841,3842c3841
> <             antlr.actions.csharp.ActionLexer lexer
> =
> new antlr.actions.csharp.ActionLexer(actionStr, 
> <                                                   
>                   
>                    currentRule, this, tInfo);
> ---
> >             antlr.actions.csharp.ActionLexer lexer
> =
> new antlr.actions.csharp.ActionLexer(actionStr,
> currentRule, this, tInfo);
> $ diff backup2/DiagnosticCodeGenerator.java
> DiagnosticCodeGenerator.java
> 33c33
> <         charFormatter = (antlr.CharFormatter) new
> JavaCharFormatter();
> ---
> >         charFormatter = new JavaCharFormatter();
> $ diff backup2/DocBookCodeGenerator.java
> DocBookCodeGenerator.java
> 40c40
> <         charFormatter = (antlr.CharFormatter) new
> JavaCharFormatter();
> ---
> >         charFormatter = new JavaCharFormatter();
> $ diff backup2/HTMLCodeGenerator.java
> HTMLCodeGenerator.java
> 37c37
> <         charFormatter = (antlr.CharFormatter) new
> JavaCharFormatter();
> ---
> >         charFormatter = new JavaCharFormatter();
> $ diff backup2/JavaCodeGenerator.java
> JavaCodeGenerator.java
> 77c77
> <         charFormatter = (antlr.CharFormatter) new
> JavaCharFormatter();
> ---
> >         charFormatter = new JavaCharFormatter();
> 
>
===========================================================
> Compilation script:
> gcj --classpath $CLASSPATHGNU -o antlr.o --main=Tool
\
>         antlr/*.java \
>         antlr/actions/cpp/*.java \
>         antlr/actions/csharp/*.java \
>         antlr/actions/java/*.java \
>         antlr/build/*.java \
>         antlr/collections/*.java \
>         antlr/collections/impl/*.java \
>         antlr/debug/*.java \
>         antlr/preprocessor/*.java
> 
>
============================================================
> 
> --- In antlr-interest@yahoogroups.com, paul taney
> <paultaney@y...> 
> wrote:
> > 
> > --- lgcraymer <lgc@m...> wrote:
> > > Paul--
> > > 
> > > Inquiring minds want to know--what's the latest?
> 
> > > Can ANTLR be made 
> > > to work with GCJ?
> > 
> > 
> > Thanks for asking.  I dropped it right there
> because
> > I'm no java expert.  Dunno what to do with these
> > errors. (And with jikes, I'm quite satisfied with
> > the speed of antlr/java)
> > 
> > Why don't you coach me a little off the list,
> Loring?
> > Dont think people need to see the gory bits, much
> :-)
> > 
> > I'll be a little slow getting back to you right
> now,
> > but I'd be into trying this.
> > 
> > If someone else wants to try it also, that would
> be
> > great.  Here's my classpath.  YMMV.
> > 
> > echo $CLASSPATHGNU
> > /usr/local/gcc/gcc-3.3/libjava:\
> >
>
/usr/local/gcc/gcc-3.3/build/i686\-pc-linux-gnu/libjava:\
> > /usr/local/java/j2sdk1.4.2<snip>
> > 
> > 
> > One doesn't cast while instantiating, so we have
> > to make other objects just to cast them...  Or
> what?
> > 
> > ----
> > JavaCodeGenerator.java:77: Incompatible type for
> `='.
> > Can't convert `antlr.JavaCharFormatter' to
> > `antlr.CharFormatter'.
> >         charFormatter = new JavaCharFormatter();
> > ----
> > CppCodeGenerator.java:97: Incompatible type for
> `='.
> > Can't convert `antlr.CppCharFormatter' to
> > `antlr.CharFormatter'.
> > 		charFormatter = new CppCharFormatter();
> > ----
> > DiagnosticCodeGenerator.java:33: Incompatible type
> for
> > `='. Can't convert `antlr.JavaCharFormatter' to
> > `antlr.CharFormatter'.
> >         charFormatter = new JavaCharFormatter();
> > ----
> > DocBookCodeGenerator.java:40: Incompatible type
> for
> > `='. Can't convert `antlr.JavaCharFormatter' to
> > `antlr.CharFormatter'.
> >         charFormatter = new JavaCharFormatter();
> > ----
> > HTMLCodeGenerator.java:37: Incompatible type for
> `='.
> > Can't convert `antlr.JavaCharFormatter' to
> > `antlr.CharFormatter'.
> >         charFormatter = new JavaCharFormatter();
> > ----
> > 
> > > --- In antlr-interest@yahoogroups.com, paul
> taney
> > > <paultaney@y...> 
> > > wrote:
> > > > 
> > > > --- Terence Parr <parrt@c...> wrote:
> > > > > Hmm...yeah that looks pretty screwed up to
> > > > > me...can't seem to find any 
> > > > > of my classes.  Perhaps it a config issue,
> but
> > > I'm
> > > > > guessing that GCJ 
> > > > > ain't ready for primetime yet ;)
> > > > > 
> > > > > Ter
> > > > 
> > > > 
> > > > Wait a minute!  I needed a star there, right?
> > > > 
> > > > $ gcj --classpath $CLASSPATHGNU *.java
> 
=== message truncated ===


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From charlweed at yahoo.com  Thu Jul 10 17:11:19 2003
From: charlweed at yahoo.com (charlweed)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] Re: How to use java parser to grab expressions from source?
In-Reply-To: <20030710203742.68535.qmail@web80606.mail.yahoo.com>
Message-ID: <bekvb7+gt62@eGroups.com>

Thanks Paul.
Right now I'm going to try Jparse. I don't know how it compares to 
the beautifier, but I just spent some time geting the makefiles to 
work on windows so I'm going to try it first ;-)

Cjharlweed

--- In antlr-interest@yahoogroups.com, paul taney <paultaney@y...> 
wrote:
> charlie,
> 
> You might want to start with Andy Tripp's
> java beautifier.  It's working for me, as
> I try to emit jython.  You have to put back
> parens and semis and things that were torn off.  
> His code does that.
> 
>     http://jazillian.com/antlr/emitter.html
> 
> paul
> 
> --- charlweed <charlweed@y...> wrote:
> > To make a long story short, I have a personal
> > project to add 
> > a "replace fields with setters" function to the
> > Netbeans Java editor. 
> > All I want to do (at the moment) is be able to
> > transform Java source 
> > code by replacing instances of 
> >     someIndentifier = <expression>; 
> > with 
> >     setSomeIndentifier(<expression>);
> > For all valid expressions.
> > 
> > After much experimenting with the example Java stuff
> > in the antlr 
> > distribution, it seems that the original source is
> > not stored in the 
> > finished AST tree. 
> > Accordingly, I am currently trying to augment the
> > expression() or 
> > assignmentExpression() method in JavaRecognizer, but
> > I'm stumbling 
> > around in the dark. I tried a method to transform
> > the AST variable 
> > expression_AST back into source code by walking it
> > and it's sub 
> > nodes. However:
> > (A) the AST tree seems to be empty for the life of
> > these calls , and 
> > (B) I still can't find the original source.
> > I get the (sinking) feeling that I need to extend
> > several classes, 
> > and use them instead of the defaults, but even after
> > walking through 
> > the tutorial, I'm afraid I don't know where to start
> > for 
> > JavaRecognizer and/or JavaLexer.
> > 
> > Any tips or pointers would be very much appreciated.
> > 
> > 
> > Thank you!
> > 
> > Charlweed 
> > 
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to
> > http://docs.yahoo.com/info/terms/ 
> > 
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rjc at trump.net.au  Thu Jul 10 19:40:40 2003
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <20030711000540.4582.qmail@web80603.mail.yahoo.com>
References: <bekmqo+2on7@eGroups.com>
Message-ID: <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au>

At 05:05 PM 10/07/2003 -0700, paul taney wrote:

>Anybody have a clue?

Yes why not just try to compile the jar:

ie gcj --main=Tool antlr.jar

  - Robert



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From paultaney at yahoo.com  Thu Jul 10 19:47:19 2003
From: paultaney at yahoo.com (paul taney)
Date: Mon Dec 20 16:15:47 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au>
Message-ID: <20030711024719.59555.qmail@web80606.mail.yahoo.com>


--- Robert Colquhoun <rjc@trump.net.au> wrote:
> At 05:05 PM 10/07/2003 -0700, paul taney wrote:
> 
> >Anybody have a clue?
> 
> Yes why not just try to compile the jar:
> 
> ie gcj --main=Tool antlr.jar
> 
>   - Robert

Thank you.

$ gcj --main=Tool antlr.jar
antlr.jar:0: Not a valid Java .class file.

$ gcj --main=Tool ./antlr.jar
./antlr.jar:0: Not a valid Java .class file.


Is there an option for compiling a jar file?


$ gcj --help
Usage: gcj [options] file...
Options:
<snip>

I don't see one...

paul



__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From dm at cs.yorku.ca  Thu Jul 10 19:55:17 2003
From: dm at cs.yorku.ca (Dave Makalsky)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <20030711024719.59555.qmail@web80606.mail.yahoo.com>
References: <20030711024719.59555.qmail@web80606.mail.yahoo.com>
Message-ID: <3F0E2715.9050803@cs.yorku.ca>

As far as I understand you can't compile jars, just run them.  I think 
you need to create the class files first and then you can jar them.

Cheers,

DM

paul taney wrote:

>--- Robert Colquhoun <rjc@trump.net.au> wrote:
>  
>
>>At 05:05 PM 10/07/2003 -0700, paul taney wrote:
>>
>>    
>>
>>>Anybody have a clue?
>>>      
>>>
>>Yes why not just try to compile the jar:
>>
>>ie gcj --main=Tool antlr.jar
>>
>>  - Robert
>>    
>>
>
>Thank you.
>
>$ gcj --main=Tool antlr.jar
>antlr.jar:0: Not a valid Java .class file.
>
>$ gcj --main=Tool ./antlr.jar
>./antlr.jar:0: Not a valid Java .class file.
>
>
>Is there an option for compiling a jar file?
>
>
>$ gcj --help
>Usage: gcj [options] file...
>Options:
><snip>
>
>I don't see one...
>
>paul
>
>
>
>__________________________________
>Do you Yahoo!?
>SBC Yahoo! DSL - Now only $29.95 per month!
>http://sbc.yahoo.com
>
> 
>
>Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
>
>  
>



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lloyd at galador.net  Thu Jul 10 23:16:07 2003
From: lloyd at galador.net (Lloyd Dupont)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] setting the access level of my parsers/lexers ?
Message-ID: <00f301c34773$eb86ff90$730010ac@5dservices.com.au>

I'm writting a library, and the parser lexer should not bother the lexer, i.e. they should be internal class (C# package protection level).

is it possible to set the class protection level ?
like internal/public/protected ?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030711/d8226973/attachment.html
From petrov at programist.ru  Fri Jul 11 00:17:54 2003
From: petrov at programist.ru (qwpetrov)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Does VB.NET (for ANTLR) grammar  exist?
Message-ID: <belob2+76ps@eGroups.com>

Hi everybody!
Does someone know that  VB.NET (for ANTLR) grammar  exist or not? And 
if exist - where i can get it?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From ladermann at hbg.dpa.de  Fri Jul 11 00:26:57 2003
From: ladermann at hbg.dpa.de (Marco Ladermann)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Two Questions on Tree Generating Parsers
Message-ID: <200307110926.58151.ladermann@hbg.dpa.de>

Hi,

while building a tree generating parser, I'm struggling with the problem of 
replacing the nodes of a subrule with one single custom (heterogeneous) node.
(A b c D)* should be aggregated to (MyNode[A, b, c, D])*. Here the notation 
MyNode[A, b, c, D] means that MyNode depends in someway on the original 
nodes.

My first attemt was to shut off the automatic tree generation for that subrule 
(! A b c D { action } )*, but I found no obvious macro to get my node 
appended to the currentAST in "action". The only workaraund I found was:
(A! b! c! d:D<AST=MyNode> { action on d })*, which looks quite ugly and ad 
hoc.

Does someone have an idea to to do this a little bit more elegant?

During my experiments with which grammar produces which code, I found that the 
tree generating code is *not* guarded by "if (inputState.guessing == 0)". I 
didn't test it, but I was wondering if that can do any harm to the parser, 
when using syntactic lookahead?

Greetings
Marco
-- 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rjc at trump.net.au  Fri Jul 11 01:05:26 2003
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <20030711024719.59555.qmail@web80606.mail.yahoo.com>
References: <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au>
Message-ID: <4.2.0.58.20030711175917.00b16a88@postoffice.trump.net.au>

At 07:47 PM 10/07/2003 -0700, paul taney wrote:

>--- Robert Colquhoun <rjc@trump.net.au> wrote:
> > At 05:05 PM 10/07/2003 -0700, paul taney wrote:
> >
> > >Anybody have a clue?
> >
> > Yes why not just try to compile the jar:
> >
> > ie gcj --main=Tool antlr.jar
> >
> >   - Robert
>
>Thank you.
>
>$ gcj --main=Tool antlr.jar
>antlr.jar:0: Not a valid Java .class file.
>
>$ gcj --main=Tool ./antlr.jar
>./antlr.jar:0: Not a valid Java .class file.
>
>
>Is there an option for compiling a jar file?

Yes as well as ordinary class files.

I just tried it -  the standard build procedure from 2.7.2 though produces 
an antlr.jar which looks to be missing some CSharp actions classes:

-sh-2.05b$ gcj --main=Tool antlr.jar
antlr/CSharpCodeGenerator.java: In class `antlr.CSharpCodeGenerator':
antlr/CSharpCodeGenerator.java: In method 
`antlr.CSharpCodeGenerator.processActi
onForSpecialSymbols(java.lang.String,int,antlr.RuleBlock,antlr.ActionTransIn 
fo)'
:
antlr/CSharpCodeGenerator.java:3824: cannot find file for class 
antlr.actions.cs
harp.ActionLexer
antlr/CSharpCodeGenerator.java:3824: cannot find file for class 
antlr.actions.cs
harp.ActionLexer
antlr/CSharpCodeGenerator.java:3824: cannot find file for class 
antlr.actions.cs
harp.ActionLexer
antlr/CSharpCodeGenerator.java:3824: cannot find file for class 
antlr.actions.cs
harp.ActionLexer
antlr/CSharpCodeGenerator.java:3824: cannot find file for class 
antlr.actions.cs
harp.ActionLexer
antlr/CSharpCodeGenerator.java:3824: cannot find file for class 
antlr.actions.cs
harp.ActionLexer
antlr/CSharpCodeGenerator.java:3824: cannot find file for class 
antlr.actions.cs
harp.ActionLexer
antlr/CSharpCodeGenerator.java:3840: cannot find file for class 
antlr.actions.cs
harp.ActionLexer
antlr/CSharpCodeGenerator.java:3840: cannot find file for class 
antlr.actions.cs
harp.ActionLexer
antlr/CSharpCodeGenerator.java:3840: cannot find file for class 
antlr.actions.cs
harp.ActionLexer
antlr/CSharpCodeGenerator.java:3840: class 
'antlr.actions.csharp.ActionLexer' ha
s no method named '<init>' matching signature 
'(Ljava/lang/String;Lantlr/RuleBlo
ck;Lantlr/CodeGenerator;Lantlr/ActionTransInfo;)V'
antlr/CSharpCodeGenerator.java:3840: expected type 'null' but stack 
contains 'vo
id'
antlr/CSharpCodeGenerator.java:3840: confused by earlier errors, bailing out

-sh-2.05b$ gcj --version
gcj (GCC) 3.2.2 20030222 (Red Hat Linux 3.2.2-5)
Copyright (C) 2002 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

-sh-2.05b$ man gcj
GCJ(1)                                GNU                               GCJ(1)

NAME
        gcj - Ahead-of-time compiler for the Java language

SYNOPSIS
        gcj [-Idir...] [-d dir...]
            [--CLASSPATH=path] [--classpath=path]
            [-foption...] [--encoding=name]
            [--main=classname] [-Dname[=value]...]
            [-C] [--resource resource-name] [-d directory]
            [-Wwarn...]
            sourcefile...

DESCRIPTION
        As gcj is just another front end to gcc, it supports many of the same
        options as gcc.    This manual only documents the options specific to
        gcj.

OPTIONS
        Input and output files

        A gcj command is like a gcc command, in that it consists of a number of
        options and file names.  The following kinds of input file names are
        supported:

        file.java
            Java source files.

        file.class
            Java bytecode files.

        file.zip
        file.jar
            An archive containing one or more ".class" files, all of which are
            compiled.  The archive may be compressed.

        @file
.....

  - Robert

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rjc at trump.net.au  Fri Jul 11 02:11:27 2003
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <4.2.0.58.20030711175917.00b16a88@postoffice.trump.net.au>
References: <20030711024719.59555.qmail@web80606.mail.yahoo.com>
 <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au>
Message-ID: <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>

Hello,

I got it going:

-sh-2.05b$ gcj --main=antlr.Tool antlr.jar
antlr/PreservingFileWriter.java: In class `antlr.PreservingFileWriter':
antlr/PreservingFileWriter.java: In method 
`antlr.PreservingFileWriter.close()':
antlr/PreservingFileWriter.java:54: warning: exception handler inside code that
is being protected
antlr/Tool.java: In class `antlr.Tool':
antlr/Tool.java: In method 
`antlr.Tool.copyFile(java.lang.String,java.lang.Strin
g)':
antlr/Tool.java:113: warning: exception handler inside code that is being 
protec
ted
-sh-2.05b$ ls -l antlr.jar a.out
-rw-r--r--    1 rjc      users      358680 Jul 11 18:42 antlr.jar
-rwxr-xr-x    1 rjc      users     2570901 Jul 11 18:43 a.out
-sh-2.05b$ ./a.out
ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
usage: java antlr.Tool [args] file.g
   -o outputDir       specify output directory where all output generated.
   -glib superGrammar specify location of supergrammar file.
   -debug             launch the ParseView debugger upon parser invocation.
   -html              generate a html file from your grammar.
   -docbook           generate a docbook sgml file from your grammar.
   -diagnostic        generate a textfile with diagnostics.
   -trace             have all rules call traceIn/traceOut.
   -traceLexer        have lexer rules call traceIn/traceOut.
   -traceParser       have parser rules call traceIn/traceOut.
   -traceTreeParser   have tree parser rules call traceIn/traceOut.
   -h|-help|--help    this message
-sh-2.05b$ cp ../maverick/src/org/maverickdbms/tools/BASIC.g .
-sh-2.05b$ ./a.out BASIC.g
ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
-sh-2.05b$

Had to do some hacking to the antlr sources to get it working and remove 
the debug classes from the jar.

Will follow up with a patch if anybody wants.

  - Robert

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Fri Jul 11 03:29:06 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>; from rjc@trump.net.au on Fri, Jul 11, 2003 at 07:11:27PM +1000
References: <20030711024719.59555.qmail@web80606.mail.yahoo.com> <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au> <4.2.0.58.20030711175917.00b16a88@postoffice.trump.net.au> <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
Message-ID: <20030711122906.D20099@cs.utwente.nl>

Hey,

On Fri, Jul 11, 2003 at 07:11:27PM +1000, Robert Colquhoun wrote:
> Had to do some hacking to the antlr sources to get it working and remove 
> the debug classes from the jar.
> 
> Will follow up with a patch if anybody wants.

I'd be interested. If I can incorporate this in my configure build, then
we'd soon see an antlr RPM for redhat 9. Which gcc version are you using btw?

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Quidquid latine dictum sit, altum viditur.
                 (Whatever is said in Latin sounds profound.)


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From pete.forman at westerngeco.com  Fri Jul 11 04:27:24 2003
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <20030711122906.D20099@cs.utwente.nl>
References: <"from rjc"@trump.net.au>
 <20030711024719.59555.qmail@web80606.mail.yahoo.com>
 <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711175917.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
Message-ID: <5.1.1.1.2.20030711121413.01f8dae0@wgmail2.gatwick.eur.slb.com>

A colleague has taken an expression parser that I've written using
ANTLR and compiled it using GCJ.  He reports that it now runs 30
times faster.

Two notes are

1) The regular javac was used to compile from .java to .class.  GCJ
    was invoked on the .class files, both of my code and the ANTLR
    library.

2) GCJ currently supports JDK 1.2.  We needed to replace some features
    that were new in JDK 1.4 with other code.

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Fri Jul 11 04:56:15 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Re: Summary of ANTLR Issues
In-Reply-To: <beksuk+n2a9@eGroups.com>; from lgc@mail1.jpl.nasa.gov on Thu, Jul 10, 2003 at 11:30:28PM -0000
References: <20030710114721.D16787@cs.utwente.nl> <beksuk+n2a9@eGroups.com>
Message-ID: <20030711135615.E20099@cs.utwente.nl>

Hi,

On Thu, Jul 10, 2003 at 11:30:28PM -0000, lgcraymer wrote:
> Comments below.

Thanks!

> ....  This would probably mean that
> code would be generated for AST operations which might not be used;
> since they would mostly be get/set operators, they would be inline
> methods and cost nothing when not used.

I was more referencing to the cost of creating/deleting objects for
the construction of the AST. Anything not going through memory management
routines is a win.

> > Will the new codegenerator lose the (ab)use of exceptions for parsing ?
> > This eats cycles, and makes the binaries bigger in C++ mode. (And somewhat
> > prevents targetting old C)
>
> I don't know.  My guess is that Ter's template stuff will make it
> easier to write code generators, so this might become a target
> language issue.  [Right now, the XXXCodeGenerator.java files are so
> awful that you can't even consider such a paradigm shift for a target
> language.]  Exceptions are pretty natural for Java, but a late
> addition to C++.

Well in java it will be/is expensive as well (as someone pointed out
recently) AFAIK exception handling is expensive no matter how smart it is
implemented. Not sure how java will compare to C++ on this, will be mostly
implementation dependent. 

Actually the use of exceptions was the only thing I didn't really like
about antlr when switching to it from the cocktail toolbox. If we mimick
the codegen of cocktails ell LL(1) parser generator then we don't need to
use exceptions (other than for real parse errors).

> It will still be awhile.  I'm hoping that this will end up as an open
> source project with Ter as gatekeeper--with good design specs, the
> gatekeeper approach is a good way to take advantage of volunteer labor
> and still maintain consistency as to quality and appearance of
> developed code.

Looking at the past one 'gatekeeper' might not be enough. I agree that
having a set bunch of people guard the consistency/quality of the code is a
good idea (tm).

> Ter's still wrestling with the dilemma of "I want to write it myself so
> that ANTLR does not become a gawdawful mess" versus "I really don't have
> the time".  That's not an easy decision to make.

Sure isn't :/

> If we do go the open development route, we might see something by the
> middle of next year or earlier.

End of next year then ;)

How about grammar inheritance btw ?

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh, no,
  of course, we ... that is ... well, yes, in fact,' said Ponder. 'Adrian
    goes round the back and ... er ... prods it with his foot. But in a
     technical way,' he added. --- From: Hogfather by Terry Pratchett.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rjc at trump.net.au  Fri Jul 11 06:47:49 2003
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <20030711122906.D20099@cs.utwente.nl>
References: <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
 <20030711024719.59555.qmail@web80606.mail.yahoo.com>
 <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711175917.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
Message-ID: <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>

At 12:29 PM 11/07/2003 +0200, Ric Klaren wrote:
>Hey,
>
>On Fri, Jul 11, 2003 at 07:11:27PM +1000, Robert Colquhoun wrote:
> > Had to do some hacking to the antlr sources to get it working and remove
> > the debug classes from the jar.
> >
> > Will follow up with a patch if anybody wants.
>
>I'd be interested. If I can incorporate this in my configure build, then
>we'd soon see an antlr RPM for redhat 9. Which gcc version are you using btw?

I need to fix the patch up first, gjc complained about some synchronization 
in the antlr.collections.impl classes, i went overboard and removed the 
Vector and Stack classes and replaced with java.util versions...

-sh-2.05b$ ls -l antlr.jar a.out
-rw-r--r--    1 rjc      users      358680 Jul 11 18:42 antlr.jar
-rwxr-xr-x    1 rjc      users     2570901 Jul 11 18:43 a.out
-sh-2.05b$ ldd a.out
         libgcc_s.so.1 => /lib/libgcc_s.so.1 (0x4001f000)
         libgcj.so.3 => /usr/lib/libgcj.so.3 (0x40027000)
         libm.so.6 => /lib/libm.so.6 (0x4060a000)
         libpthread.so.0 => /lib/libpthread.so.0 (0x4062b000)
         libz.so.1 => /usr/lib/libz.so.1 (0x4067c000)
         libdl.so.2 => /lib/libdl.so.2 (0x4068b000)
         libc.so.6 => /lib/libc.so.6 (0x4068e000)
         /lib/ld-linux.so.2 => /lib/ld-linux.so.2 (0x40000000)
-sh-2.05b$ gcj --version
gcj (GCC) 3.2.2 20030222 (Red Hat Linux 3.2.2-5)
Copyright (C) 2002 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

You pay quite a size penalty with the  gcj version - 2.6mb and you also 
might need to ship gcj.so which weighs in around 6mb.....compared to 
shipping 360k for antlr.jar and the 5mb java 1.3 runtime.

On the grammar i tried ~5k lines the antlr.Tool gcj executable was about 
50% faster....i think the time difference is mainly jvm startup ie if your 
jvm is already running ie with an ant build the times even out.

  - Robert


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rjc at trump.net.au  Fri Jul 11 07:05:58 2003
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <5.1.1.1.2.20030711121413.01f8dae0@wgmail2.gatwick.eur.slb.
 com>
References: <20030711122906.D20099@cs.utwente.nl>
 <"from rjc"@trump.net.au>
 <20030711024719.59555.qmail@web80606.mail.yahoo.com>
 <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711175917.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
Message-ID: <4.2.0.58.20030711234813.017435b0@postoffice.trump.net.au>

Hi Pete,

At 12:27 PM 11/07/2003 +0100, Pete Forman wrote:
>A colleague has taken an expression parser that I've written using
>ANTLR and compiled it using GCJ.  He reports that it now runs 30
>times faster.

Thats quite a performance improvement!   Does the timing include starting 
up the jvm then parsing a single expression and shutting down the jvm?

>Two notes are
>
>1) The regular javac was used to compile from .java to .class.  GCJ
>     was invoked on the .class files, both of my code and the ANTLR
>     library.

Compiling from class files is easier - bytecodes are much more concise than 
source but still higher level than regular asm so that the original program 
semantics can be mostly re-constructed in the compiler.

>2) GCJ currently supports JDK 1.2.  We needed to replace some features
>     that were new in JDK 1.4 with other code.

Not all of 1.2 - one of the things missing when compiling antlr was any 
support at all for swing.  The awt stuff might also have been a bit suspect.

  - Robert


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Fri Jul 11 07:00:59 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>; from rjc@trump.net.au on Fri, Jul 11, 2003 at 11:47:49PM +1000
References: <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au> <20030711024719.59555.qmail@web80606.mail.yahoo.com> <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au> <4.2.0.58.20030711175917.00b16a88@postoffice.trump.net.au> <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au> <20030711122906.D20099@cs.utwente.nl> <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>
Message-ID: <20030711160059.G20099@cs.utwente.nl>

Hi,

On Fri, Jul 11, 2003 at 11:47:49PM +1000, Robert Colquhoun wrote:
> I need to fix the patch up first, gjc complained about some synchronization
> in the antlr.collections.impl classes, i went overboard and removed the
> Vector and Stack classes and replaced with java.util versions...

Think those existed for some older java version not sure. But I still look
forward to a patch.

> -sh-2.05b$ ls -l antlr.jar a.out
> -rw-r--r--    1 rjc      users      358680 Jul 11 18:42 antlr.jar
> -rwxr-xr-x    1 rjc      users     2570901 Jul 11 18:43 a.out
> -sh-2.05b$ ldd a.out
>          libgcc_s.so.1 => /lib/libgcc_s.so.1 (0x4001f000)
>          libgcj.so.3 => /usr/lib/libgcj.so.3 (0x40027000)
>          libm.so.6 => /lib/libm.so.6 (0x4060a000)
>          libpthread.so.0 => /lib/libpthread.so.0 (0x4062b000)
>          libz.so.1 => /usr/lib/libz.so.1 (0x4067c000)
>          libdl.so.2 => /lib/libdl.so.2 (0x4068b000)
>          libc.so.6 => /lib/libc.so.6 (0x4068e000)
>          /lib/ld-linux.so.2 => /lib/ld-linux.so.2 (0x40000000)
> -sh-2.05b$ gcj --version
> gcj (GCC) 3.2.2 20030222 (Red Hat Linux 3.2.2-5)
> Copyright (C) 2002 Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.  There is NO
> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
>
> You pay quite a size penalty with the  gcj version - 2.6mb and you also
> might need to ship gcj.so which weighs in around 6mb.....compared to
> shipping 360k for antlr.jar and the 5mb java 1.3 runtime.

That's a stripped binary? If I make a redhat 9 rpm I hope it can use the
redhat installed gcj.so, probably it's also possible to compile it
staticaly (or only do gcj.so statically). And what's 2.6 Mb nowadays ;)
Advantage of using gcj is that it comes default nowadays with most linux
distributions, this unlike java for which you have to dig around first.
Also no classpath trouble. No trouble in figuring out you'd have to run
antlr.Tool etc. It would also open the opportunity for distributions to
ship antlr with/in place of pccts.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Wo das Chaos auf die Ordnung trifft, gewinnt meist das Chaos, weil es
  besser organisiert ist. --- Friedrich Nietzsche


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rjc at trump.net.au  Fri Jul 11 07:40:47 2003
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <20030711160059.G20099@cs.utwente.nl>
References: <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
 <20030711024719.59555.qmail@web80606.mail.yahoo.com>
 <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711175917.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
 <20030711122906.D20099@cs.utwente.nl>
 <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>
Message-ID: <4.2.0.58.20030712001508.0173e8f8@postoffice.trump.net.au>

At 04:00 PM 11/07/2003 +0200, Ric Klaren wrote:
>Hi,
>
>On Fri, Jul 11, 2003 at 11:47:49PM +1000, Robert Colquhoun wrote:
> > I need to fix the patch up first, gjc complained about some synchronization
> > in the antlr.collections.impl classes, i went overboard and removed the
> > Vector and Stack classes and replaced with java.util versions...
>
>Think those existed for some older java version not sure. But I still look
>forward to a patch.

I will break that patch out separately anyway the synchronization stuff in 
collections.impl is only a warning.  It still compiles.

> > You pay quite a size penalty with the  gcj version - 2.6mb and you also
> > might need to ship gcj.so which weighs in around 6mb.....compared to
> > shipping 360k for antlr.jar and the 5mb java 1.3 runtime.
>
>That's a stripped binary?

Stripped is 1.64mb

>If I make a redhat 9 rpm I hope it can use the
>redhat installed gcj.so, probably it's also possible to compile it
>staticaly (or only do gcj.so statically). And what's 2.6 Mb nowadays ;)
>Advantage of using gcj is that it comes default nowadays with most linux
>distributions, this unlike java for which you have to dig around first.
>Also no classpath trouble. No trouble in figuring out you'd have to run
>antlr.Tool etc. It would also open the opportunity for distributions to
>ship antlr with/in place of pccts.

Yes, shipping pccts is not real good.

Be careful wanting linux distributions to ship your software - its a double 
edged sword.  Half the time they end up distributing an ancient version of 
your software usually with their own custom patches which break all sorts 
of things.  Of course *you* end up having to support this as 99% of people 
who use the linux distribution refuse to pay for it and thus get no support 
from the vendor.   ;-)

  - Robert


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From defordusa at yahoo.com  Fri Jul 11 08:04:47 2003
From: defordusa at yahoo.com (defordusa)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Reusing Lexer/Parser instances
Message-ID: <bemjmf+7fsv@eGroups.com>

My application needs to perform MANY small translations (on the order 
of millions). In order to improve performance I would like to be able 
to reuse instance of the lexer and parser.

I originally posted a question about using the PipedWriter and 
PipedReader classes found in Java 1.3 and above, as I figured this 
way I could write something in the PipedWriter, call the appropriate 
parser rule and get the results. However, I have been unable to get 
this to work as I appear to need to somehow get the lexer to stop 
trying to read on the PipedReader and thus the lexer blocks on a read.

I have been able to reuse the lexer and parser instances calling 
setInputState and setTokenBuffer on the lexer and parser 
respectively. However, I still have the overhead of millions of 
instances being created, dramatically reducing performance.

Is there a better way of doing this?


Here is a snippet of my code:

...
...
...
while( in.ready() )
{
  lexer.setInputState(new LexerSharedInputState(new StringReader
(in.readLine())));
  parser.setTokenBuffer( new TokenBuffer(lexer) );
  parser.startRule();
}
...
...
...


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Fri Jul 11 08:20:49 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Reusing Lexer/Parser instances
In-Reply-To: <bemjmf+7fsv@eGroups.com>; from defordusa@yahoo.com on Fri, Jul 11, 2003 at 03:04:47PM -0000
References: <bemjmf+7fsv@eGroups.com>
Message-ID: <20030711172049.I20099@cs.utwente.nl>

Hi,

On Fri, Jul 11, 2003 at 03:04:47PM -0000, defordusa wrote:
> I have been able to reuse the lexer and parser instances calling 
> setInputState and setTokenBuffer on the lexer and parser 
> respectively. However, I still have the overhead of millions of 
> instances being created, dramatically reducing performance.
> 
> Is there a better way of doing this?
> 
> Here is a snippet of my code:
> ...
> while( in.ready() )
> {
>   lexer.setInputState(new LexerSharedInputState(new StringReader
> (in.readLine())));
>   parser.setTokenBuffer( new TokenBuffer(lexer) );
>   parser.startRule();
> }

Have a look at:

- CharScanner.getInputState() (get an existing SharedLexerInputState from 
  the lexer)
- LexerSharedInputState.reset() (have to do that between invocations,
  resets line info and some other bookkeeping)
- InputBuffer.reset() (called by the above reset)
- CharBuffer.java

Hmmm looks like in java you might have to write a subclass of CharBuffer to
include a method to hook a new Reader to the buffer or something.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  "Of all the things i've lost i miss my mind the most -Ozzy Osbourne


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From aditsu at yahoo.com  Fri Jul 11 09:54:00 2003
From: aditsu at yahoo.com (Adrian Sandor)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] another nondeterminism question
Message-ID: <bemq38+e8md@eGroups.com>

why do I get a nondeterminism warning for this grammar:

class l1 extends Lexer;
options{k=2;}
protected A: 'a' | "bb";
B: 'b';
S: (A)+;

but I don't get any warning when I change S to:

S: A (A)+;

and how can I solve it for the first case?
I tried many things but to no avail...

thanks
Adrian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rodrigobamboo at hotmail.com  Fri Jul 11 11:25:31 2003
From: rodrigobamboo at hotmail.com (Rodrigo B. de Oliveira)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Parsing expressions inside a double  quoted string?
References: <5.1.1.1.2.20030709151657.04404b70@wgmail2.gatwick.eur.slb.com>
Message-ID: <Sea1-DAV73XktM1qjj000000afe@hotmail.com>

Oh, I see.

I didn't think it was possible... I've just went through all the docs and
it's clear how it works now, thanks.

I still haven't been able to figure it all out. For a start I want the
lexers to transform this:

"Hello ${foo}, ${2 + 2}"

into this:

"Hello" + (foo) + ", " + (2 + 2)

I'll give it some thought again later tonite.

Thanks again,
Rodrigo

----- Original Message ----- 
From: "Pete Forman" <pete.forman@westerngeco.com>
To: <antlr-interest@yahoogroups.com>; <antlr-interest@yahoogroups.com>
Sent: Wednesday, July 09, 2003 11:19 AM
Subject: Re: [antlr-interest] Parsing expressions inside a double quoted
string?


> At 2003-07-09 07:43 -0300, Rodrigo Oliveira wrote:
> >You mean by using a filter?
>
> Not a filter but a second lexer.  The main lexer should switch to the
> second when it finds the opening double quote.  One example is in the Java
> parser for javadoc comments IIRC.
>
> -- 
> Pete Forman                -./\.-  Disclaimer: This post is originated
> WesternGeco                  -./\.-   by myself and does not represent
> pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
> http://petef.port5.com           -./\.-   Hughes or their divisions.
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>
>

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lgc at mail1.jpl.nasa.gov  Fri Jul 11 11:11:26 2003
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Re: Summary of ANTLR Issues
In-Reply-To: <20030711135615.E20099@cs.utwente.nl>
Message-ID: <bemuke+ku6i@eGroups.com>

--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote: 
> How about grammar inheritance btw ?

That's a point of discussion.  The functionality of grammar 
inheritance will be provided in some form, but the current approach is 
unloved.  I'd like to see equivalent functionality provided via a 
tree-structured repository (translators/grammars/rules) accessible 
through a browser in an IDE.  The idea is that you should be able to 
import say, a lexer, "expression" and its subrules from a parser 
grammar, and other rules as appropriate when constructing a new 
translator.  A language developer's workbench/IDE (possibly built on 
top of Eclipse) is likely to be a key feature of ANTLR 3 and this 
would be one of the support features.

--Loring


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From andrew at adersoftware.com  Fri Jul 11 11:20:49 2003
From: andrew at adersoftware.com (Andrew Deren)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Parsing expressions inside a double  quoted string?
In-Reply-To: <Sea1-DAV73XktM1qjj000000afe@hotmail.com>
Message-ID: <200307111322389.SM01108@CS>

I had similar problem a while ago. I was doing lexer/parser for cold fusion
which has expressions inside of # ("Hello #foo# #2+2#")
What I did was to use predicates. It would be easier to do with rule based
parser generator.
Just have a variable that holds current lexer "mode". 
Default mode, InString and expressionInString. Initially I wanted to use 2
lexers/parsers, but couldn't find enough docs on that. My current solution
works as expected, but I don't like it.
Andrew

-----Original Message-----
From: Rodrigo B. de Oliveira [mailto:rodrigobamboo@hotmail.com] 
Sent: Friday, July 11, 2003 12:26 PM
To: antlr-interest@yahoogroups.com

Oh, I see.

I didn't think it was possible... I've just went through all the docs and
it's clear how it works now, thanks.

I still haven't been able to figure it all out. For a start I want the
lexers to transform this:

"Hello ${foo}, ${2 + 2}"

into this:

"Hello" + (foo) + ", " + (2 + 2)

I'll give it some thought again later tonite.

Thanks again,
Rodrigo

----- Original Message ----- 
From: "Pete Forman" <pete.forman@westerngeco.com>
To: <antlr-interest@yahoogroups.com>; <antlr-interest@yahoogroups.com>
Sent: Wednesday, July 09, 2003 11:19 AM
Subject: Re: [antlr-interest] Parsing expressions inside a double quoted
string?


> At 2003-07-09 07:43 -0300, Rodrigo Oliveira wrote:
> >You mean by using a filter?
>
> Not a filter but a second lexer.  The main lexer should switch to the
> second when it finds the opening double quote.  One example is in the Java
> parser for javadoc comments IIRC.
>
> -- 
> Pete Forman                -./\.-  Disclaimer: This post is originated
> WesternGeco                  -./\.-   by myself and does not represent
> pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
> http://petef.port5.com           -./\.-   Hughes or their divisions.
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>
>

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From meissnersd at yahoo.com  Fri Jul 11 11:32:53 2003
From: meissnersd at yahoo.com (Karl Meissner)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] XSL?
Message-ID: <20030711183253.54162.qmail@web40604.mail.yahoo.com>



What do you guys think of the TreeWalker compared to XSL?
You can convert AST to XML and pass it to an XSL transform with embedded script actions...



__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From brian-l-smith at uiowa.edu  Fri Jul 11 11:40:36 2003
From: brian-l-smith at uiowa.edu (Brian Smith)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Re: Summary of ANTLR Issues
In-Reply-To: <bemuke+ku6i@eGroups.com>
References: <bemuke+ku6i@eGroups.com>
Message-ID: <3F0F04A4.6000605@uiowa.edu>

lgcraymer wrote:
> --- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote: 
> 
>>How about grammar inheritance btw ?
> 
> That's a point of discussion.  The functionality of grammar 
> inheritance will be provided in some form, but the current approach is 
> unloved.  I'd like to see equivalent functionality provided via a 

Please look at the approach that SDF2 uses. It is elegant and much more 
flexible than grammar inheritance. Instead, SDF2 uses parameterized 
grammar modules that can be combined together via an "import" mechanism. 
Basically, you seperate your grammar into a bunch of subgrammars, then 
you have a master grammar that "imports" all of the subgrammars to 
create a comprehensive one.

SDF2 is neat in other ways too; for example, it doesn't have seperate 
lexers and parsers, and it us full LR(k). It is based on the work titled 
(something like) "Scannerless Generalized LR(k) Parsing." But, the 
toolchain is really based on a completely different archicture than ANTLR.

Love,
Brian



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From sumav_99 at yahoo.com  Fri Jul 11 16:37:14 2003
From: sumav_99 at yahoo.com (Suma Venkatesh)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] How to parse java source code ?
Message-ID: <20030711233714.23654.qmail@web40612.mail.yahoo.com>

Hi,

  Iam looking for a parser which can parse an input java source code.I 
mean the parser
should read
the source code and identify the variable names and types.

Eg: Input is :
  import java.util.*;

public class HelloWorld{

public static void main(String args[]) {

String message = "Hello World";
int count =0;

	while(count <10) {
             System.out.println(message);
             count++;
        }

}

Output should be :

Variables: type name
           int  count
           String message

Can ANTLR do this and if so how ??

PLEASE HELP ME!!

thanks in advance,
suma


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From dbrumley at cs.stanford.edu  Fri Jul 11 18:27:23 2003
From: dbrumley at cs.stanford.edu (fooblah2003)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] special characters in string literals?
Message-ID: <beno5r+mdnh@eGroups.com>

Does anyone know if ANTLR imposes keyword restrictions in the parser?

I can define:
class MyParser extends Parser;
list: 
|ID {/* reduce 0 */ } 
|"readonly" { /* reduce 1 */ } 
|"read-only" {/* reduce 2 */ } 
;


class MyLexer extends Lexer;
ID options {testLiterals=true; }: ('a'..'z')+;


If I run the parser w/ input "readonly", then reduce1 is executed.
However, with "read-only" reduce0 is executed, not reduce 2.

When I look at MyParserTokenTypes.java, I see:

        int LITERAL_readonly = 6;
// "read-only" = 7


i.e. the literal "read-only" is commented out.
Is this a bug, and can I get around it?  I have a similar problem
with wanting to define in the parser "http://" as a string literal,
with similar problems.

thanks,
david


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From Matthew.Ford at forward.com.au  Fri Jul 11 21:41:32 2003
From: Matthew.Ford at forward.com.au (Matthew Ford)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Parsing expressions inside a double  quoted string?
References: <200307111322389.SM01108@CS>
Message-ID: <001a01c3482f$de9e87a0$0400a8c0@NOTEBOOK>


I my case the problem was inside [  ]   (array indexing)
The language I was parsing suddenly became whitespace sensitive when inside
[ ]
So I used the following in the lexer to control the return of whitespace
You might be able to do something similar inside "  " to return different
tokens in these cases for '${' and  '}'
and drive your parser that way.

matthew

LBRACK  options { paraphrase = "'['";}
  : '[' {booleanStack.push(true); } // return white space
  ;
RBRACK  options { paraphrase = "']'";}
 : ']' {
        booleanStack.pop();
         if (booleanStack.empty()) {
          throw new RecognitionException("Unmatched ']'",getFilename(),
getLine());
         }
        } // restore last state

// Whitespace -- ignored ,   well mostly except inside  [ ]
WS options { paraphrase = "'white-space'";}
   : ( ' '
  | '\t'
  | '\f' {$setText(" "); } // replace with space. I use to delimit [] in
printer output
  | '\b' {$setText(" "); } // replace with space. I use to delimit [] in
printer output
  // handle newlines
  | ( '\r'('\n')?    // Macintosh or Dos
   | '\n'    // Unix (the right way according to Ter)
   )
   { newline(); }
  )
  {
   if (!booleanStack.peek()) {   // skip if not inside  [ ]
     _ttype = Token.SKIP;
   }
  }
 ;

----- Original Message -----
From: "Andrew Deren" <andrew@adersoftware.com>
To: <antlr-interest@yahoogroups.com>
Sent: Saturday, July 12, 2003 4:20 AM
Subject: RE: [antlr-interest] Parsing expressions inside a double quoted
string?


> I had similar problem a while ago. I was doing lexer/parser for cold
fusion
> which has expressions inside of # ("Hello #foo# #2+2#")
> What I did was to use predicates. It would be easier to do with rule based
> parser generator.
> Just have a variable that holds current lexer "mode".
> Default mode, InString and expressionInString. Initially I wanted to use 2
> lexers/parsers, but couldn't find enough docs on that. My current solution
> works as expected, but I don't like it.
> Andrew
>
> -----Original Message-----
> From: Rodrigo B. de Oliveira [mailto:rodrigobamboo@hotmail.com]
> Sent: Friday, July 11, 2003 12:26 PM
> To: antlr-interest@yahoogroups.com
>
> Oh, I see.
>
> I didn't think it was possible... I've just went through all the docs and
> it's clear how it works now, thanks.
>
> I still haven't been able to figure it all out. For a start I want the
> lexers to transform this:
>
> "Hello ${foo}, ${2 + 2}"
>
> into this:
>
> "Hello" + (foo) + ", " + (2 + 2)
>
> I'll give it some thought again later tonite.
>
> Thanks again,
> Rodrigo
>
> ----- Original Message -----
> From: "Pete Forman" <pete.forman@westerngeco.com>
> To: <antlr-interest@yahoogroups.com>; <antlr-interest@yahoogroups.com>
> Sent: Wednesday, July 09, 2003 11:19 AM
> Subject: Re: [antlr-interest] Parsing expressions inside a double quoted
> string?
>
>
> > At 2003-07-09 07:43 -0300, Rodrigo Oliveira wrote:
> > >You mean by using a filter?
> >
> > Not a filter but a second lexer.  The main lexer should switch to the
> > second when it finds the opening double quote.  One example is in the
Java
> > parser for javadoc comments IIRC.
> >
> > --
> > Pete Forman                -./\.-  Disclaimer: This post is originated
> > WesternGeco                  -./\.-   by myself and does not represent
> > pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
> > http://petef.port5.com           -./\.-   Hughes or their divisions.
> >
> >
> >
> >
> > Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/
> >
> >
> >
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From Matthew.Ford at forward.com.au  Fri Jul 11 21:50:39 2003
From: Matthew.Ford at forward.com.au (Matthew Ford)
Date: Mon Dec 20 16:15:48 2004
Subject: Fw: [antlr-interest] Parsing expressions inside a double  quoted string?
Message-ID: <002501c34831$24551920$0400a8c0@NOTEBOOK>

Just another point
Note that the switching takes place in the Lexer and is controlled by the
Lexer.  This means limited context parsing (none?)
But you don't have the parser feeding back to the lexer trying to control
the Lexer which gives look ahead problems.

----- Original Message -----
From: "Matthew Ford" <Matthew.Ford@forward.com.au>
To: <antlr-interest@yahoogroups.com>
Sent: Saturday, July 12, 2003 2:41 PM
Subject: Re: [antlr-interest] Parsing expressions inside a double quoted
string?


>
> I my case the problem was inside [  ]   (array indexing)
> The language I was parsing suddenly became whitespace sensitive when
inside
> [ ]
> So I used the following in the lexer to control the return of whitespace
> You might be able to do something similar inside "  " to return different
> tokens in these cases for '${' and  '}'
> and drive your parser that way.
>
> matthew
>
> LBRACK  options { paraphrase = "'['";}
>   : '[' {booleanStack.push(true); } // return white space
>   ;
> RBRACK  options { paraphrase = "']'";}
>  : ']' {
>         booleanStack.pop();
>          if (booleanStack.empty()) {
>           throw new RecognitionException("Unmatched ']'",getFilename(),
> getLine());
>          }
>         } // restore last state
>
> // Whitespace -- ignored ,   well mostly except inside  [ ]
> WS options { paraphrase = "'white-space'";}
>    : ( ' '
>   | '\t'
>   | '\f' {$setText(" "); } // replace with space. I use to delimit [] in
> printer output
>   | '\b' {$setText(" "); } // replace with space. I use to delimit [] in
> printer output
>   // handle newlines
>   | ( '\r'('\n')?    // Macintosh or Dos
>    | '\n'    // Unix (the right way according to Ter)
>    )
>    { newline(); }
>   )
>   {
>    if (!booleanStack.peek()) {   // skip if not inside  [ ]
>      _ttype = Token.SKIP;
>    }
>   }
>  ;
>
> ----- Original Message -----
> From: "Andrew Deren" <andrew@adersoftware.com>
> To: <antlr-interest@yahoogroups.com>
> Sent: Saturday, July 12, 2003 4:20 AM
> Subject: RE: [antlr-interest] Parsing expressions inside a double quoted
> string?
>
>
> > I had similar problem a while ago. I was doing lexer/parser for cold
> fusion
> > which has expressions inside of # ("Hello #foo# #2+2#")
> > What I did was to use predicates. It would be easier to do with rule
based
> > parser generator.
> > Just have a variable that holds current lexer "mode".
> > Default mode, InString and expressionInString. Initially I wanted to use
2
> > lexers/parsers, but couldn't find enough docs on that. My current
solution
> > works as expected, but I don't like it.
> > Andrew
> >
> > -----Original Message-----
> > From: Rodrigo B. de Oliveira [mailto:rodrigobamboo@hotmail.com]
> > Sent: Friday, July 11, 2003 12:26 PM
> > To: antlr-interest@yahoogroups.com
> >
> > Oh, I see.
> >
> > I didn't think it was possible... I've just went through all the docs
and
> > it's clear how it works now, thanks.
> >
> > I still haven't been able to figure it all out. For a start I want the
> > lexers to transform this:
> >
> > "Hello ${foo}, ${2 + 2}"
> >
> > into this:
> >
> > "Hello" + (foo) + ", " + (2 + 2)
> >
> > I'll give it some thought again later tonite.
> >
> > Thanks again,
> > Rodrigo
> >
> > ----- Original Message -----
> > From: "Pete Forman" <pete.forman@westerngeco.com>
> > To: <antlr-interest@yahoogroups.com>; <antlr-interest@yahoogroups.com>
> > Sent: Wednesday, July 09, 2003 11:19 AM
> > Subject: Re: [antlr-interest] Parsing expressions inside a double quoted
> > string?
> >
> >
> > > At 2003-07-09 07:43 -0300, Rodrigo Oliveira wrote:
> > > >You mean by using a filter?
> > >
> > > Not a filter but a second lexer.  The main lexer should switch to the
> > > second when it finds the opening double quote.  One example is in the
> Java
> > > parser for javadoc comments IIRC.
> > >
> > > --
> > > Pete Forman                -./\.-  Disclaimer: This post is originated
> > > WesternGeco                  -./\.-   by myself and does not represent
> > > pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
> > > http://petef.port5.com           -./\.-   Hughes or their divisions.
> > >
> > >
> > >
> > >
> > > Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/
> > >
> > >
> > >
> >
> >
> >
> > Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/
> >
> >
> >
> >
> >
> >
> > Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/
> >
> >
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From bogdan_mt at yahoo.com  Sat Jul 12 02:25:43 2003
From: bogdan_mt at yahoo.com (bogdan_mt)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Re: Reusing Lexer/Parser instances
In-Reply-To: <bemjmf+7fsv@eGroups.com>
Message-ID: <beok6n+lr6v@eGroups.com>

--- In antlr-interest@yahoogroups.com, "defordusa" <defordusa@y...> 
wrote:
> My application needs to perform MANY small translations (on the 
order 
> of millions). In order to improve performance I would like to be 
able 
> to reuse instance of the lexer and parser.


You have to patch ANTLR a bit, to be able to do something like:

lexer.getInputState().getCharBuffer().setReader(new StringReader
(in.readLine()));

Unfortunately InputBuffer input is protected in 
LexerSharedInputState, so you have to add a public getter method, 
and maybe also cast the result to charBuffer.
In CharBuffer you have to add a setter method for Reader input.
    
And don't forget to call reset() on 
LexerSharedInputState.                    

Even better, implement your own StringReader, based on Java sources, 
so that you can set the StringReader input without creating a new 
StringReader each time.            

lexer.getInputState().getCharBuffer().getStringReader().setString
(in.readLine());

Regards,
Bogdan





> I originally posted a question about using the PipedWriter and 
> PipedReader classes found in Java 1.3 and above, as I figured this 
> way I could write something in the PipedWriter, call the 
appropriate 
> parser rule and get the results. However, I have been unable to 
get 
> this to work as I appear to need to somehow get the lexer to stop 
> trying to read on the PipedReader and thus the lexer blocks on a 
read.
> 
> I have been able to reuse the lexer and parser instances calling 
> setInputState and setTokenBuffer on the lexer and parser 
> respectively. However, I still have the overhead of millions of 
> instances being created, dramatically reducing performance.
> 
> Is there a better way of doing this?
> 
> 
> Here is a snippet of my code:
> 
> ...
> ...
> ...
> while( in.ready() )
> {
>   lexer.setInputState(new LexerSharedInputState(new StringReader
> (in.readLine())));
>   parser.setTokenBuffer( new TokenBuffer(lexer) );
>   parser.startRule();
> }
> ...
> ...
> ...


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From paultaney at yahoo.com  Sat Jul 12 10:21:18 2003
From: paultaney at yahoo.com (paul taney)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <20030711160059.G20099@cs.utwente.nl>
Message-ID: <20030712172118.97181.qmail@web80606.mail.yahoo.com>

Ric wrote:
...If I make a redhat 9 rpm I hope it can use 
the
redhat installed gcj.so, probably it's also possible
to compile it
staticaly (or only do gcj.so statically). And what's
2.6 Mb nowadays ;)
Advantage of using gcj is that it comes default
nowadays with most linux distributions

----

Ric, 

I found these guys very responsive:

    rhug-rhats@sources.redhat.com

What they showed me is that a default install of
gcc3.3 on RH7.2 isn't gonna cut it.  It does not
overwrite /usr/bin/gcj or libgcj.so

You don't want to see this date!

    $ ls -l /usr/lib/libgcj.so.2.0.0
    -rwxr-xr-x    1 root     root      
    8405787 Sep  6  2001 /usr/lib/libgcj.so.2.0.0


green@redhat.com is an antlr user, and he might
upload an RH9 executable or help you make an rpm.
I'll cross post.


paul



__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From brian-l-smith at uiowa.edu  Sat Jul 12 18:44:49 2003
From: brian-l-smith at uiowa.edu (Brian Smith)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Re: Reusing Lexer/Parser instances
In-Reply-To: <beok6n+lr6v@eGroups.com>
References: <beok6n+lr6v@eGroups.com>
Message-ID: <3F10B991.5000307@uiowa.edu>

I had a requirement that I had to recognize identifiers ("unquoted 
names" below) quickly. After profiling to find the performance problem 
in my application, I ended up writing this in my lexer (SmnLexer.g) so 
that I could reuse a lexer instance. It isn't the most elegant but it 
works in my application:

private static class StringMatchBuffer extends antlr.InputBuffer {
StringMatchBuffer() { super(); }
    public String text;

    /** Ensure that the input buffer is sufficiently full */
    public void fill(int amount) { syncConsume(); }

    public String getLAChars() {
       return text.substring(markerOffset + numToConsume);
    }

    public String getMarkedChars() {
         throw new UnsupportedOperationException();
    }

    /** Get a lookahead character */
    public char LA(int i) throws antlr.CharStreamException {
        int index = markerOffset + numToConsume + i - 1;
        return index >= text.length() ? EOF_CHAR : text.charAt(index);
    }

    /** Sync up deferred consumption */
    protected void syncConsume() {
        markerOffset += numToConsume;
        numToConsume = 0;
    }
}

private final static StringMatchBuffer stringMatchBuffer
      = new StringMatchBuffer();
private final static SmnLexer stringMatchLexer
      = new SmnLexer(new antlr.LexerSharedInputState(stringMatchBuffer));
private int rememberTokenType;

public static synchronized boolean matchesUnquotedName(String s) {
     try {
         stringMatchBuffer.text = s;
         stringMatchLexer.inputState.reset();
         stringMatchLexer.rememberTokenType = Token.INVALID_TYPE;
         stringMatchLexer.resetText();
         stringMatchLexer.mUNQUOTED_NAME(false);
         return stringMatchLexer.rememberTokenType
                ==  SmnLexerTokenTypes.UNQUOTED_NAME
            && stringMatchLexer.LA(1) == EOF_CHAR;
     } catch (ANTLRException e) {
         return false;
     }
}

Lexer rule:

UNQUOTED_NAME
     : ( ('A'..'Z' | 'a'..'z') ('A'..'Z' | 'a'..'z' | '0'..'9' | '_' )* )
     {   $setType(testLiteralsTable(_ttype));
         rememberTokenType = _ttype;
     }
     ;




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From tomdavies at optushome.com.au  Sun Jul 13 18:10:16 2003
From: tomdavies at optushome.com.au (Tom Davies)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Comments and translation
Message-ID: <1058145016.3306.15.camel@al>

Hi,

I'm writing a translator from a 4GL to Java. The input and output text
is very different. I need to preserve comments in the output, but am
finding this hard to get to grips with.

The current documentation says:
'The current "hidden token" stream filter clearly solves the "ignore but
preserve whitespace" problem really well, but it does not handle
comments too well in most situations.  For example, in real translation
problems you want to collect comments at various single tree nodes (like
DECL or METHOD) for interpretation rather than leaving them strewn
throughout the tree.  You really need a stream splitter that buffers up
the comments on a separate stream so you can say "give me all comments  
consumed during the recognition of this rule" or "give me all comments
found between these two real tokens." That is almost certainly something
you need for translation of comments.'

This is the sort of stuff I want to do, what's the current
recommendation for how to achieve it?

Thanks,
  Tom

-- 
Tom Davies <tomdavies@optushome.com.au>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rjc at trump.net.au  Sun Jul 13 19:19:32 2003
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <20030711160059.G20099@cs.utwente.nl>
References: <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
 <20030711024719.59555.qmail@web80606.mail.yahoo.com>
 <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711175917.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
 <20030711122906.D20099@cs.utwente.nl>
 <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>
Message-ID: <4.2.0.58.20030714115646.01757a98@postoffice.trump.net.au>

Hello,

At 04:00 PM 11/07/2003 +0200, Ric Klaren wrote:
>Hi,
>
>On Fri, Jul 11, 2003 at 11:47:49PM +1000, Robert Colquhoun wrote:
> > I need to fix the patch up first, gjc complained about some synchronization
> > in the antlr.collections.impl classes, i went overboard and removed the
> > Vector and Stack classes and replaced with java.util versions...
>
>Think those existed for some older java version not sure. But I still look
>forward to a patch.

It builds with lots of warnings but i have put a simple(2 line) patch to 
build with gcj at:
         http://www.trump.net.au/~rjc/antlr/

 From scratch:

     wget http://www.antlr.org/download/antlr-2.7.2.tar.gz
     wget http://www.trump.net.au/~rjc/antlr/antlr-gcj.diff
     tar xvfz antlr-2.7.2.tar.gz
     cd antlr-2.7.2
     patch -p1 < ../antlr-gcj.diff
     find antlr -name '*.class' -exec rm {} \;
     javac -classpath . antlr/build/*.java
     javac -classpath . antlr/J*.java
     java -classpath . antlr.build.Tool build
     java -classpath . antlr.build.Tool jar
     gcj -o antlr --main antlr.Tool antlr.jar

And there should be an executable called 'antlr' which runs antlr.Tool in 
the current directory

>That's a stripped binary? If I make a redhat 9 rpm I hope it can use the
>redhat installed gcj.so, probably it's also possible to compile it
>staticaly (or only do gcj.so statically).

I am not sure but i think libgcj has a hidden bytecode interpreter 
somewhere in the library for the dynamic java code generation and 
loading...might not link statically very well without pulling in the whole 
library.

>  And what's 2.6 Mb nowadays ;)
>Advantage of using gcj is that it comes default nowadays with most linux
>distributions, this unlike java for which you have to dig around first.
>Also no classpath trouble. No trouble in figuring out you'd have to run
>antlr.Tool etc. It would also open the opportunity for distributions to
>ship antlr with/in place of pccts.

I also looked at the 2.7.2 configure/make/make install system - that 
appears to have got out of step with the java antlr.build system.  For 
instance antlr.jar is only the runtime if built with configure/make but is 
the whole lot if done with antlr.build

Also java source files are kind of different from C/C++ there are no 
includes(making for a much faster compile) and dependencies can be very 
complicated it might be better if the configure/make system just compiles 
everything from scratch.  This would also get rid of the 300k java_deps 
file reducing download size.

ie What is faster compiling 100k lines of java files or parsing a 300k text 
file figuring dependencies and stat'ing all the java source files then 
finally getting around to compiling the resulting set plus crossing fingers 
that java_deps is up to date and the one line java change you just made 
hasn't destroyed the dependency tree.

  - Robert


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From wineme_dineme_sixtynineme10 at yahoo.com  Sun Jul 13 19:22:23 2003
From: wineme_dineme_sixtynineme10 at yahoo.com (wineme_dineme_sixtynineme10)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] uh oh! these yahoo groups are going away!
Message-ID: <bet44v+2ul3@eGroups.com>

i just read that Yahoo is going to be cleaning up their Groups by getting read of all of the groups that have anything to do with porn, sex, dating, or anything that "they" think is offensive.  what the hell?

there IS a place that everybody is going to though so that we all still exchange emails, chat, and send pics.  everybody from Yahoo seems to be going there, so it's cool.

it's free, and the link is, http://www.thesexclub.4all.cc/

Have Fun.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From anthony.kong at ufjia.com  Sun Jul 13 19:30:06 2003
From: anthony.kong at ufjia.com (Anthony Kong)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] How to parse java source code ?
Message-ID: <F799E3404E90D411BA5300508BE311CE0161AAFA@pop3.ufjia.com>

I guess you can take a look at http://www.antlr.org/. It is a reasonably
easy-to-use parser. Well documented.

Regards,


Anthony

-----Original Message-----
From: Suma Venkatesh [mailto:sumav_99@yahoo.com]
Sent: Saturday, July 12, 2003 7:37 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] How to parse java source code ?


Hi,

  Iam looking for a parser which can parse an input java source code.I 
mean the parser
should read
the source code and identify the variable names and types.

Eg: Input is :
  import java.util.*;

public class HelloWorld{

public static void main(String args[]) {

String message = "Hello World";
int count =0;

	while(count <10) {
             System.out.println(message);
             count++;
        }

}

Output should be :

Variables: type name
           int  count
           String message

Can ANTLR do this and if so how ??

PLEASE HELP ME!!

thanks in advance,
suma


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Mon Jul 14 02:28:09 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <4.2.0.58.20030714115646.01757a98@postoffice.trump.net.au>; from rjc@trump.net.au on Mon, Jul 14, 2003 at 12:19:32PM +1000
References: <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au> <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au> <20030711024719.59555.qmail@web80606.mail.yahoo.com> <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au> <4.2.0.58.20030711175917.00b16a88@postoffice.trump.net.au> <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au> <20030711122906.D20099@cs.utwente.nl> <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au> <20030711160059.G20099@cs.utwente.nl> <4.2.0.58.20030714115646.01757a98@postoffice.trump.net.au>
Message-ID: <20030714112808.A28461@cs.utwente.nl>

Hi,

On Mon, Jul 14, 2003 at 12:19:32PM +1000, Robert Colquhoun wrote:
> >  And what's 2.6 Mb nowadays ;)
> >Advantage of using gcj is that it comes default nowadays with most linux
> >distributions, this unlike java for which you have to dig around first.
> >Also no classpath trouble. No trouble in figuring out you'd have to run
> >antlr.Tool etc. It would also open the opportunity for distributions to
> >ship antlr with/in place of pccts.
>
> I also looked at the 2.7.2 configure/make/make install system - that
> appears to have got out of step with the java antlr.build system.  For
> instance antlr.jar is only the runtime if built with configure/make but is
> the whole lot if done with antlr.build

That's already fixed in my devel snapshots. Ter changed this shortly before
release and I missed because I had too little time to retest the stuff
before release.

> Also java source files are kind of different from C/C++ there are no
> includes(making for a much faster compile) and dependencies can be very
> complicated it might be better if the configure/make system just compiles
> everything from scratch.  This would also get rid of the 300k java_deps
> file reducing download size.

I started to use that stuff after java screwed up dependencies on me a few
times. Maybe that it's better now. In general this makefile thing compiles
antlr's java stuff faster than default javac on all the files on my Sun.
Also it builds along all the other antlr stuff I'm interested in.

I considered using Terence's java built for it when I fixed the stuff when
I fixed it after 2.7.2 release, decided against it though since the
configure script catches some stuff that needed to be caught anyway and I
don't want to do a javac `find . *.java` etc. to do small recompiles on my
system since it's slow.

After compress that java_deps file only amounts to 23k nothing to get
excited about ;) It is generated with Bob Werken's javad (which again uses
antlr) so I have faith in the quality of the dependencies.

Currently I don't see reasons to meddle with my Makefile system anymore, it
works. At a later point I might change it to use Terence's java build tool.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  "Of all the things i've lost i miss my mind the most -Ozzy Osbourne


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rjc at trump.net.au  Mon Jul 14 06:06:49 2003
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <20030714112808.A28461@cs.utwente.nl>
References: <4.2.0.58.20030714115646.01757a98@postoffice.trump.net.au>
 <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
 <20030711024719.59555.qmail@web80606.mail.yahoo.com>
 <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711175917.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
 <20030711122906.D20099@cs.utwente.nl>
 <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>
 <20030711160059.G20099@cs.utwente.nl>
 <4.2.0.58.20030714115646.01757a98@postoffice.trump.net.au>
Message-ID: <4.2.0.58.20030714222122.0168d7c0@postoffice.trump.net.au>

At 11:28 AM 14/07/2003 +0200, Ric Klaren wrote:
>On Mon, Jul 14, 2003 at 12:19:32PM +1000, Robert Colquhoun wrote:
> > I also looked at the 2.7.2 configure/make/make install system - that
> > appears to have got out of step with the java antlr.build system.  For
> > instance antlr.jar is only the runtime if built with configure/make but is
> > the whole lot if done with antlr.build
>
>That's already fixed in my devel snapshots. Ter changed this shortly before
>release and I missed because I had too little time to retest the stuff
>before release.

ok.

> > Also java source files are kind of different from C/C++ there are no
> > includes(making for a much faster compile) and dependencies can be very
> > complicated it might be better if the configure/make system just compiles
> > everything from scratch.  This would also get rid of the 300k java_deps
> > file reducing download size.
>
>I started to use that stuff after java screwed up dependencies on me a few
>times. Maybe that it's better now. In general this makefile thing compiles
>antlr's java stuff faster than default javac on all the files on my Sun.
>Also it builds along all the other antlr stuff I'm interested in.

But does it do a correct compile?

As soon as you make a java change you need to recalculate the dependency 
tree using some tool.  That's not happening with the configure/make stuff 
at the moment there is only the original dependencies.

>I considered using Terence's java built for it when I fixed the stuff when
>I fixed it after 2.7.2 release, decided against it though since the
>configure script catches some stuff that needed to be caught anyway and I
>don't want to do a javac `find . *.java` etc. to do small recompiles on my
>system since it's slow.

How long?

>After compress that java_deps file only amounts to 23k nothing to get
>excited about ;) It is generated with Bob Werken's javad (which again uses
>antlr) so I have faith in the quality of the dependencies.

Yes but javad is *not* shipped with antlr....java_deps is out of date as 
soon as you make a change to the java code.

>Currently I don't see reasons to meddle with my Makefile system anymore, it
>works. At a later point I might change it to use Terence's java build tool.

I have been trying to get the java build tool to work better.

At the moment there is a nasty cyclical dependency between antlr.Tool and 
antlr.g.  The current build system assumes antlr.Tool classes and the Lexer 
and Parser classes from antlr.g are available to bootstrap the 
system....not sure if there is another way around this.

I should also mention the configure/make system requires cygwin or similar 
to work on windows which makes it hard to use for windows developers who 
have no unix experience.

I have managed to get an antlr.exe to build on cygwin for windows.  It is a 
bit rough though the gcj compiler(version 3.2.0 prerelease) refused to 
compile finally clauses plus multiple problems in the collections.impl and 
debug classes.

  - Robert


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Mon Jul 14 07:12:27 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <4.2.0.58.20030714222122.0168d7c0@postoffice.trump.net.au>; from rjc@trump.net.au on Mon, Jul 14, 2003 at 11:06:49PM +1000
References: <20030711024719.59555.qmail@web80606.mail.yahoo.com> <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au> <4.2.0.58.20030711175917.00b16a88@postoffice.trump.net.au> <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au> <20030711122906.D20099@cs.utwente.nl> <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au> <20030711160059.G20099@cs.utwente.nl> <4.2.0.58.20030714115646.01757a98@postoffice.trump.net.au> <20030714112808.A28461@cs.utwente.nl> <4.2.0.58.20030714222122.0168d7c0@postoffice.trump.net.au>
Message-ID: <20030714161227.C28461@cs.utwente.nl>

Hi,

On Mon, Jul 14, 2003 at 11:06:49PM +1000, Robert Colquhoun wrote:
> But does it do a correct compile?

So far I have no complaints about it. It is pretty defensive and tends to
compile a few files too many but it beats compiling all for me, also it
grabs along .g file dependecies and remakes which I personally like a lot.
When I started with antlr I pretty often had 'funny' results with standard
javac and dependencies (probably something long fixed since then). I guess
I'm a guy that likes to know for sure things are ok when he types in 'make' ;)

> As soon as you make a java change you need to recalculate the dependency
> tree using some tool.  That's not happening with the configure/make stuff
> at the moment there is only the original dependencies.

The deps don't change that often. The majority of people will install antlr
as a package and not develop/change stuff inside antlr. The java savy
people (or people that follow the instructions from install.html) will most
probably just use Ter's version, and/or their favourite java IDE.

The people used to unix/linux will see the configure and probably be able
to install stuff using that without too much glitches.

Of course it is a good point that the Makefile's don't regenerate
dependencies. So I agree that they are lacking with respect to that.

> How long?

Long enough for me to do it the way I did it, with the added bonus of
recompiling .g files, don't have exact figures at the moment.

> >After compress that java_deps file only amounts to 23k nothing to get
> >excited about ;) It is generated with Bob Werken's javad (which again uses
> >antlr) so I have faith in the quality of the dependencies.
>
> Yes but javad is *not* shipped with antlr....java_deps is out of date as
> soon as you make a change to the java code.

AFAIK java_deps only changed one or two times in it's history. There's not
much change to antlr's source tree with respect to dependencies. Again most
people will not be hacking antlr just look for a way to install the tool.

> I have been trying to get the java build tool to work better.

Nice :) I'm sure Terence will like any improvements to it.

> At the moment there is a nasty cyclical dependency between antlr.Tool and
> antlr.g.  The current build system assumes antlr.Tool classes and the Lexer
> and Parser classes from antlr.g are available to bootstrap the
> system....not sure if there is another way around this.

Maybe a bootstrap.jar could be added to the distro to fix this ? Dunno,
Terence probably has an opinion about it.

> I should also mention the configure/make system requires cygwin or similar
> to work on windows which makes it hard to use for windows developers who
> have no unix experience.

Something I can't do much about ;) Though the build of antlr does not rely
on the configure/Makefile stuff. Configure is not used to generate a
config.hpp in the C++ case. All steps necessary to build antlr or one if
it's runtimes is pretty straightforward and for at least the C++ part
documented, with the disappearance of the mkjar scripts the java part is
probably less clear. Then again antlr ships I think with a precompiled
antlr.jar so that should not be too big a problem.

Before the makefile/configure stuff was added most stuff was built using a
few simple scripts/batchfiles, the C++ part had no makefiles if I recall
right (maybe some stuff in contrib). The scripts did not handle
dependencies between the .g files and the java files, which the makefile
setup does (or should).

Although the configure/makefile built system might not be perfect, for me
it works very well, and it should be since I rely on it while working on
antlr. Indeed there's some friction between java and makefiles but I'm
willing to take that risk ;)

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Wo das Chaos auf die Ordnung trifft, gewinnt meist das Chaos, weil es
  besser organisiert ist. --- Friedrich Nietzsche

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From pete.forman at westerngeco.com  Mon Jul 14 09:01:28 2003
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <4.2.0.58.20030714222122.0168d7c0@postoffice.trump.net.au>
References: <20030714112808.A28461@cs.utwente.nl>
 <4.2.0.58.20030714115646.01757a98@postoffice.trump.net.au>
 <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
 <20030711024719.59555.qmail@web80606.mail.yahoo.com>
 <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711175917.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
 <20030711122906.D20099@cs.utwente.nl>
 <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>
 <20030711160059.G20099@cs.utwente.nl>
 <4.2.0.58.20030714115646.01757a98@postoffice.trump.net.au>
Message-ID: <5.1.1.1.2.20030714165008.01e33f48@wgmail2.gatwick.eur.slb.com>

At 2003-07-14 23:06 +1000, Robert Colquhoun wrote:
>At 11:28 AM 14/07/2003 +0200, Ric Klaren wrote:
> >On Mon, Jul 14, 2003 at 12:19:32PM +1000, Robert Colquhoun wrote:
> > > Also java source files are kind of different from C/C++ there are no
> > > includes(making for a much faster compile) and dependencies can be very

Includes are done with the import statement.

> > > complicated it might be better if the configure/make system just compiles
> > > everything from scratch.  This would also get rid of the 300k java_deps
> > > file reducing download size.
> >
> >I started to use that stuff after java screwed up dependencies on me a few
> >times. Maybe that it's better now. In general this makefile thing compiles
> >antlr's java stuff faster than default javac on all the files on my Sun.
> >Also it builds along all the other antlr stuff I'm interested in.
>
>As soon as you make a java change you need to recalculate the dependency
>tree using some tool.  That's not happening with the configure/make stuff
>at the moment there is only the original dependencies.

The Java compiler handles dependencies internally.  If you compile
just one file then all the .java files it references are compiled as
well (including indirect references) if they have no .class.  It is
often enough just to name those files with a main() on javac's command
line.

The traditional way of compiling C/C++ one file at a time under make
or similar is not well suited to Java.  It is best if javac can be
invoked once only during a build.

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From oliver at zeigermann.de  Mon Jul 14 10:00:36 2003
From: oliver at zeigermann.de (Oliver Zeigermann)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Re: XSL?
In-Reply-To: <20030711183253.54162.qmail@web40604.mail.yahoo.com>
Message-ID: <beunjk+9u31@eGroups.com>

Quite right! If *speed* does not matter it is mainly a question of 
taste and your experience. Some people might not be used to XSLT, 
but rather tree grammars and vice-versa.

--- In antlr-interest@yahoogroups.com, Karl Meissner 
<meissnersd@y...> wrote:
> 
> 
> What do you guys think of the TreeWalker compared to XSL?
> You can convert AST to XML and pass it to an XSL transform with 
embedded script actions...
> 
> 
> 
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From meissnersd at yahoo.com  Mon Jul 14 10:43:16 2003
From: meissnersd at yahoo.com (Karl Meissner)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Re: XSL?
In-Reply-To: <beunjk+9u31@eGroups.com>
Message-ID: <20030714174316.32228.qmail@web40613.mail.yahoo.com>


So XSL is very slow?  Have not used it much...


--- Oliver Zeigermann <oliver@zeigermann.de> wrote:
> Quite right! If *speed* does not matter it is mainly a question of 
> taste and your experience. Some people might not be used to XSLT, 
> but rather tree grammars and vice-versa.
> 
> --- In antlr-interest@yahoogroups.com, Karl Meissner 
> <meissnersd@y...> wrote:
> > 
> > 
> > What do you guys think of the TreeWalker compared to XSL?
> > You can convert AST to XML and pass it to an XSL transform with 
> embedded script actions...
> > 
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > SBC Yahoo! DSL - Now only $29.95 per month!
> > http://sbc.yahoo.com
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From paultaney at yahoo.com  Mon Jul 14 11:23:32 2003
From: paultaney at yahoo.com (paul taney)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Re: XSL?
In-Reply-To: <20030714174316.32228.qmail@web40613.mail.yahoo.com>
Message-ID: <20030714182332.12488.qmail@web80606.mail.yahoo.com>


--- Karl Meissner <meissnersd@yahoo.com> wrote:
> 
> So XSL is very slow?  Have not used it much...
> 
>

> --- Oliver Zeigermann <oliver@zeigermann.de> wrote:
> > Quite right! If *speed* does not matter it is
> mainly a question of taste 


It might be fast as hell, but it looks like
some walker's debug output.

paul

----
e.g. from http://www.w3.org/TR/xslt11/#N3791

<snip>

given an XML document with this structure

<customers>
  <customer>
    <name>...</name>
    <order>...</order>
    <order>...</order>
  </customer>
  <customer>
    <name>...</name>
    <order>...</order>
    <order>...</order>
  </customer>
</customers>

the following would create an HTML document containing
a table with a row for each customer element

<xsl:template match="/">
  <html>
    <head>
      <title>Customers</title>
    </head>
    <body>
      <table>
	<tbody>
	  <xsl:for-each select="customers/customer">
	    <tr>
	      <th>
		<xsl:apply-templates select="name"/>
	      </th>
	      <xsl:for-each select="order">
		<td>
		  <xsl:apply-templates/>
		</td>
	      </xsl:for-each>
	    </tr>
	  </xsl:for-each>
	</tbody>
      </table>
    </body>
  </html>
</xsl:template>

<snip>


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From yhhf_dy at yahoo.com  Mon Jul 14 14:18:52 2003
From: yhhf_dy at yahoo.com (Fan Yang)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] C++ Grammar with automatic tree construction?
Message-ID: <bev6ns+ls6v@eGroups.com>

Hi,

I have read John Lilley's C++ grammar and its ANTLR conversion, I 
realized that there was no AST construction in the grammar. 

After read documents and played with samples, I'm trying to add AST 
generation part to C++ grammar. It's complicated to add this part 
from scratch for me who are relative new to ANTLR. 

I think there should be lots people use this C++ grammar, would you 
please tell me right way to implement it. Or Does anybody have C++ 
grammar with AST generation, would you please post it here or send it 
to me by email. 

Thanks in advance.

Fan 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From charlweed at yahoo.com  Mon Jul 14 15:25:15 2003
From: charlweed at yahoo.com (charlweed)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Re: How to parse java source code ?
In-Reply-To: <F799E3404E90D411BA5300508BE311CE0161AAFA@pop3.ufjia.com>
Message-ID: <bevakb+l137@eGroups.com>

I'm afraid I must disagree with the opinion that ANTLR is  "easy-to-
use" and "well documented". As to the later, the javadocs are not in  
the distribution, and are not built from the makefile. The Javadocs 
online are from the NEXT version, and are accordingly incomplete, and 
are inaccurate for 2.7.2. And you NEED the javadocs because you must 
extend the classes and write your own to  get anything done.

As for easy to use, perhaps ANTLR is easy compared to writing your 
own from scratch, but even figuring out how to use the Java parser 
example is quite difficult if you are completely new to ANTLR. It 
took me almost two work days to figure out that the Java parser 
example can't be used-out-of-the-box for doing what I ( and Suma 
Venkatesh ) want, namely parsing Java source, then processing the 
text that makes up the source. I posted a request for help on this 
topic myself ( message 8888 ), and the single response I received 
referred me to http://jazillian.com/antlr/JavaEmitter.html which may 
be what both of us originally wanted. JavaEmitter is not a small 
chunk of work, and could not be written without a thorough 
understanding of ANTLR.

ANTLR may be great, but including some more user-friendly tools, ANT 
buildfiles, and some more examples that are solutions to common 
newbie problems, would make it much easier to use.



--- In antlr-interest@yahoogroups.com, Anthony Kong 
<anthony.kong@u...> wrote:
> I guess you can take a look at http://www.antlr.org/. It is a 
reasonably
> easy-to-use parser. Well documented.
> 
> Regards,
> 
> 
> Anthony
> 
> -----Original Message-----
> From: Suma Venkatesh [mailto:sumav_99@y...]
> Sent: Saturday, July 12, 2003 7:37 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] How to parse java source code ?
> 
> 
> Hi,
> 
>   Iam looking for a parser which can parse an input java source 
code.I 
> mean the parser
> should read
> the source code and identify the variable names and types.
> 
> Eg: Input is :
>   import java.util.*;
> 
> public class HelloWorld{
> 
> public static void main(String args[]) {
> 
> String message = "Hello World";
> int count =0;
> 
> 	while(count <10) {
>              System.out.println(message);
>              count++;
>         }
> 
> }
> 
> Output should be :
> 
> Variables: type name
>            int  count
>            String message
> 
> Can ANTLR do this and if so how ??
> 
> PLEASE HELP ME!!
> 
> thanks in advance,
> suma
> 
> 
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From gudnabrsam at yahoo.com  Mon Jul 14 15:48:15 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Re: How to parse java source code ?
In-Reply-To: <bevakb+l137@eGroups.com>
Message-ID: <20030714224815.61402.qmail@web20405.mail.yahoo.com>

The Javadoc API is simply not enough to understand
ANTLR.  The manual available on the site is
comprehensive though difficult to understand for the
novice.  You MUST check out Terence's USF course on
Computer Languages, which is referenced through the
ANTLR site, if you want a ground-up presentation of
parsing in general with a focus on the ANTLR tool.  I
hadn't followed half the course before my
understanding of the tool grew enormously.

-Matt

--- charlweed <charlweed@yahoo.com> wrote:
> I'm afraid I must disagree with the opinion that
> ANTLR is  "easy-to-
> use" and "well documented". As to the later, the
> javadocs are not in  
> the distribution, and are not built from the
> makefile. The Javadocs 
> online are from the NEXT version, and are
> accordingly incomplete, and 
> are inaccurate for 2.7.2. And you NEED the javadocs
> because you must 
> extend the classes and write your own to  get
> anything done.
> 
> As for easy to use, perhaps ANTLR is easy compared
> to writing your 
> own from scratch, but even figuring out how to use
> the Java parser 
> example is quite difficult if you are completely new
> to ANTLR. It 
> took me almost two work days to figure out that the
> Java parser 
> example can't be used-out-of-the-box for doing what
> I ( and Suma 
> Venkatesh ) want, namely parsing Java source, then
> processing the 
> text that makes up the source. I posted a request
> for help on this 
> topic myself ( message 8888 ), and the single
> response I received 
> referred me to
> http://jazillian.com/antlr/JavaEmitter.html which
> may 
> be what both of us originally wanted. JavaEmitter is
> not a small 
> chunk of work, and could not be written without a
> thorough 
> understanding of ANTLR.
> 
> ANTLR may be great, but including some more
> user-friendly tools, ANT 
> buildfiles, and some more examples that are
> solutions to common 
> newbie problems, would make it much easier to use.
> 
> 
> 
> --- In antlr-interest@yahoogroups.com, Anthony Kong 
> <anthony.kong@u...> wrote:
> > I guess you can take a look at
> http://www.antlr.org/. It is a 
> reasonably
> > easy-to-use parser. Well documented.
> > 
> > Regards,
> > 
> > 
> > Anthony
> > 
> > -----Original Message-----
> > From: Suma Venkatesh [mailto:sumav_99@y...]
> > Sent: Saturday, July 12, 2003 7:37 AM
> > To: antlr-interest@yahoogroups.com
> > Subject: [antlr-interest] How to parse java source
> code ?
> > 
> > 
> > Hi,
> > 
> >   Iam looking for a parser which can parse an
> input java source 
> code.I 
> > mean the parser
> > should read
> > the source code and identify the variable names
> and types.
> > 
> > Eg: Input is :
> >   import java.util.*;
> > 
> > public class HelloWorld{
> > 
> > public static void main(String args[]) {
> > 
> > String message = "Hello World";
> > int count =0;
> > 
> > 	while(count <10) {
> >              System.out.println(message);
> >              count++;
> >         }
> > 
> > }
> > 
> > Output should be :
> > 
> > Variables: type name
> >            int  count
> >            String message
> > 
> > Can ANTLR do this and if so how ??
> > 
> > PLEASE HELP ME!!
> > 
> > thanks in advance,
> > suma
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > SBC Yahoo! DSL - Now only $29.95 per month!
> > http://sbc.yahoo.com
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From sumav_99 at yahoo.com  Mon Jul 14 16:16:48 2003
From: sumav_99 at yahoo.com (Suma Venkatesh)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Re: How to parse java source code ?
In-Reply-To: <20030714224815.61402.qmail@web20405.mail.yahoo.com>
Message-ID: <20030714231648.17425.qmail@web40608.mail.yahoo.com>

Hi
 guys,

  Thank u so much for all your help.Iam busy with other work right now,will email u all
with lots of questions very soon.

thanks again,
suma

--- Matt Benson <gudnabrsam@yahoo.com> wrote:
> The Javadoc API is simply not enough to understand
> ANTLR.  The manual available on the site is
> comprehensive though difficult to understand for the
> novice.  You MUST check out Terence's USF course on
> Computer Languages, which is referenced through the
> ANTLR site, if you want a ground-up presentation of
> parsing in general with a focus on the ANTLR tool.  I
> hadn't followed half the course before my
> understanding of the tool grew enormously.
> 
> -Matt
> 
> --- charlweed <charlweed@yahoo.com> wrote:
> > I'm afraid I must disagree with the opinion that
> > ANTLR is  "easy-to-
> > use" and "well documented". As to the later, the
> > javadocs are not in  
> > the distribution, and are not built from the
> > makefile. The Javadocs 
> > online are from the NEXT version, and are
> > accordingly incomplete, and 
> > are inaccurate for 2.7.2. And you NEED the javadocs
> > because you must 
> > extend the classes and write your own to  get
> > anything done.
> > 
> > As for easy to use, perhaps ANTLR is easy compared
> > to writing your 
> > own from scratch, but even figuring out how to use
> > the Java parser 
> > example is quite difficult if you are completely new
> > to ANTLR. It 
> > took me almost two work days to figure out that the
> > Java parser 
> > example can't be used-out-of-the-box for doing what
> > I ( and Suma 
> > Venkatesh ) want, namely parsing Java source, then
> > processing the 
> > text that makes up the source. I posted a request
> > for help on this 
> > topic myself ( message 8888 ), and the single
> > response I received 
> > referred me to
> > http://jazillian.com/antlr/JavaEmitter.html which
> > may 
> > be what both of us originally wanted. JavaEmitter is
> > not a small 
> > chunk of work, and could not be written without a
> > thorough 
> > understanding of ANTLR.
> > 
> > ANTLR may be great, but including some more
> > user-friendly tools, ANT 
> > buildfiles, and some more examples that are
> > solutions to common 
> > newbie problems, would make it much easier to use.
> > 
> > 
> > 
> > --- In antlr-interest@yahoogroups.com, Anthony Kong 
> > <anthony.kong@u...> wrote:
> > > I guess you can take a look at
> > http://www.antlr.org/. It is a 
> > reasonably
> > > easy-to-use parser. Well documented.
> > > 
> > > Regards,
> > > 
> > > 
> > > Anthony
> > > 
> > > -----Original Message-----
> > > From: Suma Venkatesh [mailto:sumav_99@y...]
> > > Sent: Saturday, July 12, 2003 7:37 AM
> > > To: antlr-interest@yahoogroups.com
> > > Subject: [antlr-interest] How to parse java source
> > code ?
> > > 
> > > 
> > > Hi,
> > > 
> > >   Iam looking for a parser which can parse an
> > input java source 
> > code.I 
> > > mean the parser
> > > should read
> > > the source code and identify the variable names
> > and types.
> > > 
> > > Eg: Input is :
> > >   import java.util.*;
> > > 
> > > public class HelloWorld{
> > > 
> > > public static void main(String args[]) {
> > > 
> > > String message = "Hello World";
> > > int count =0;
> > > 
> > > 	while(count <10) {
> > >              System.out.println(message);
> > >              count++;
> > >         }
> > > 
> > > }
> > > 
> > > Output should be :
> > > 
> > > Variables: type name
> > >            int  count
> > >            String message
> > > 
> > > Can ANTLR do this and if so how ??
> > > 
> > > PLEASE HELP ME!!
> > > 
> > > thanks in advance,
> > > suma
> > > 
> > > 
> > > __________________________________
> > > Do you Yahoo!?
> > > SBC Yahoo! DSL - Now only $29.95 per month!
> > > http://sbc.yahoo.com
> > > 
> > >  
> > > 
> > > Your use of Yahoo! Groups is subject to 
> > http://docs.yahoo.com/info/terms/
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to
> > http://docs.yahoo.com/info/terms/ 
> > 
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com
> 
>  
> 
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From paultaney at yahoo.com  Mon Jul 14 16:53:20 2003
From: paultaney at yahoo.com (paul taney)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Re: How to parse java source code ?
In-Reply-To: <20030714224815.61402.qmail@web20405.mail.yahoo.com>
Message-ID: <20030714235320.93182.qmail@web80603.mail.yahoo.com>


> > >   I am looking for a parser which can parse an
> > input java source 
> > code.I 
> > > mean the parser
> > > should read
> > > the source code and identify the variable names
> > and types.

Matt,

I would humbly suggest that if that's all you want to
do and this is not a toy to help you learn antlr
then you are using a sledge to hammer the
proverbial mosquito...  You not need to "parse", 
as that's complex, you may only need to "grep"...

Right tool for the job may be python, perl or 
% egrep "int|String|bool|etc" file | cut -f2 
or something like that.  Describe the general
problem.

paul

----  python example follows.  Only does 3 types...
#!/usr/bin/python
# grep the vars out of some.java like this:  
# python grepVars.py <some.java

import re, sys
debug = 0

pat0 = re.compile("(String) (\w*)")
pat1 = re.compile("(Boolean) (\w*)")
pat2 = re.compile("(int) (\w*)")
pat3 = re.compile("(float) (\w*)")
# etc.

for line in sys.stdin.xreadlines():
    line = line[:-1] # chomp
    mo0 = re.search(pat0, line)
    mo1 = re.search(pat1, line)
    mo2 = re.search(pat2, line)
    mo3 = re.search(pat3, line)
    # etc.
    
    if mo0:
        if debug: print "// pat0.  groups=%s" %
repr(mo0.groups())
        print "I see %s %s: %s" % (duh(mo0.group(1)),
mo0.group(1), mo0.group(2))
    elif mo1:
        if debug: print "// pat1.  groups=%s" %
repr(mo1.groups())
        print "I see %s %s: %s" % (duh(mo1.group(1)),
mo1.group(1), mo1.group(2))
    elif mo2:
        if debug: print "// pat2.  groups=%s" %
repr(mo2.groups())
        print "I see %s %s: %s" % (duh(mo2.group(1)),
mo2.group(1), mo2.group(2))
    elif mo3:
        if debug: print "// pat3.  groups=%s" %
repr(mo3.groups())
        print "I see %s %s: %s" % (duh(mo3.group(1)),
mo3.group(1), mo3.group(2))

    else:
        pass
        #print line

    def duh(st):
        if st[0] in "aeiou":
            return "an"
        else:
            return "a"
# EOF

$ python grepVars.py <matts.java
I see a String: args
I see a String: message
I see an int: count

----
Input file: grepVars.java, something like:

> > > Eg: Input is :
> > >   import java.util.*;
> > > 
> > > public class HelloWorld{
> > > 
> > > public static void main(String args[]) {
> > > 
> > > String message = "Hello World";
> > > int count =0;
> > > 
> > > 	while(count <10) {
> > >              System.out.println(message);
> > >              count++;
> > >         }
> > > 
> > > }
> > > 
> > > Output should be :
> > > 
> > > Variables: type name
> > >            int  count
> > >            String message
> > > 
> > > Can ANTLR do this and if so how ??
> > > 
> > > PLEASE HELP ME!!
> > > 
> > > thanks in advance,
> > > suma



__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rjc at trump.net.au  Mon Jul 14 17:36:23 2003
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <5.1.1.1.2.20030714165008.01e33f48@wgmail2.gatwick.eur.slb.
 com>
References: <4.2.0.58.20030714222122.0168d7c0@postoffice.trump.net.au>
 <20030714112808.A28461@cs.utwente.nl>
 <4.2.0.58.20030714115646.01757a98@postoffice.trump.net.au>
 <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
 <20030711024719.59555.qmail@web80606.mail.yahoo.com>
 <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711175917.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
 <20030711122906.D20099@cs.utwente.nl>
 <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>
 <20030711160059.G20099@cs.utwente.nl>
 <4.2.0.58.20030714115646.01757a98@postoffice.trump.net.au>
Message-ID: <6.0.0.8.0.20030715100835.00a77bb0@postoffice.trump.net.au>

At 02:01 AM 15/07/2003, Pete Forman wrote:
>At 2003-07-14 23:06 +1000, Robert Colquhoun wrote:
> >At 11:28 AM 14/07/2003 +0200, Ric Klaren wrote:
> > >On Mon, Jul 14, 2003 at 12:19:32PM +1000, Robert Colquhoun wrote:
> > > > Also java source files are kind of different from C/C++ there are no
> > > > includes(making for a much faster compile) and dependencies can be very
>
>Includes are done with the import statement.

But that is not like a C/C++ #include which pulls in another file which the 
compiler has to parse.  Java 'package' and 'import' is a bit like C++ 
'namespace' and the 'using' directive.

In bigger C/C++ it is not unusual for the compiler to have to pull in > 
10,000 lines of includes every time it parses a single source file.  This 
takes time slowing the build perhaps more time than compiling the actual 
source files themselves.  Some compilers do precompiled headers to try and 
mitigate this.

> >As soon as you make a java change you need to recalculate the dependency
> >tree using some tool.  That's not happening with the configure/make stuff
> >at the moment there is only the original dependencies.
>
>The Java compiler handles dependencies internally.  If you compile
>just one file then all the .java files it references are compiled as
>well (including indirect references) if they have no .class.  It is
>often enough just to name those files with a main() on javac's command
>line.

Can get in trouble though if you compile one file that has a dependency 
which already has a class file available....it doesnt check to see if the 
dependency source is out of date with respect to its class file unless the 
dependency itself is also specified on the command line.

>The traditional way of compiling C/C++ one file at a time under make
>or similar is not well suited to Java.  It is best if javac can be
>invoked once only during a build.

Yes for sure - the javac compiler has to start up a jvm which is expensive, 
some relief can be gained by using a compiler like jikes if you like makefiles.

  - Robert


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From pete.forman at westerngeco.com  Tue Jul 15 00:54:44 2003
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <6.0.0.8.0.20030715100835.00a77bb0@postoffice.trump.net.au>
References: <5.1.1.1.2.20030714165008.01e33f48@wgmail2.gatwick.eur.slb.com>
 <4.2.0.58.20030714222122.0168d7c0@postoffice.trump.net.au>
 <20030714112808.A28461@cs.utwente.nl>
 <4.2.0.58.20030714115646.01757a98@postoffice.trump.net.au>
 <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
 <20030711024719.59555.qmail@web80606.mail.yahoo.com>
 <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711175917.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
 <20030711122906.D20099@cs.utwente.nl>
 <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>
 <20030711160059.G20099@cs.utwente.nl>
 <4.2.0.58.20030714115646.01757a98@postoffice.trump.net.au>
Message-ID: <5.1.1.1.2.20030715083112.02008538@wgmail2.gatwick.eur.slb.com>

At 2003-07-15 10:36 +1000, Robert Colquhoun wrote:
>At 02:01 AM 15/07/2003, Pete Forman wrote:
> >At 2003-07-14 23:06 +1000, Robert Colquhoun wrote:
> > >At 11:28 AM 14/07/2003 +0200, Ric Klaren wrote:
> > > >On Mon, Jul 14, 2003 at 12:19:32PM +1000, Robert Colquhoun wrote:
> > > > > Also java source files are kind of different from C/C++ there are no
> > > > > includes(making for a much faster compile) and dependencies can 
> be very
> >
> >Includes are done with the import statement.
>
>But that is not like a C/C++ #include which pulls in another file which the
>compiler has to parse.  Java 'package' and 'import' is a bit like C++
>'namespace' and the 'using' directive.

True, I had simplified the matter.

>In bigger C/C++ it is not unusual for the compiler to have to pull in >
>10,000 lines of includes every time it parses a single source file.  This
>takes time slowing the build perhaps more time than compiling the actual
>source files themselves.  Some compilers do precompiled headers to try and
>mitigate this.

Loosely speaking again, Java "headers" are precompiled.  A reference to
a class or interface will read in its .class file.  If that file does
not exist or is out of date wrt its source then it is compiled (once).

> > >As soon as you make a java change you need to recalculate the dependency
> > >tree using some tool.  That's not happening with the configure/make stuff
> > >at the moment there is only the original dependencies.
> >
> >The Java compiler handles dependencies internally.  If you compile
> >just one file then all the .java files it references are compiled as
> >well (including indirect references) if they have no .class.  It is
> >often enough just to name those files with a main() on javac's command
> >line.
>
>Can get in trouble though if you compile one file that has a dependency
>which already has a class file available....it doesnt check to see if the
>dependency source is out of date with respect to its class file unless the
>dependency itself is also specified on the command line.

Not true.  Here's a simple example of it working.

a/A.java:
package a;
import b.B;
class A {
   private B myB;
   public A() {
     myB = new B();
   }
}

b/B.java:
package b;
public class B {
   private int foo = 0;
   public B() {
     foo = 1;
   }
}

command line:
javac -classpath . a/A.java

results:
A.class is always generated.
B.class is generated if B.java is newer than it.

There is no explicit reference to B on the command line.

> >The traditional way of compiling C/C++ one file at a time under make
> >or similar is not well suited to Java.  It is best if javac can be
> >invoked once only during a build.
>
>Yes for sure - the javac compiler has to start up a jvm which is expensive,
>some relief can be gained by using a compiler like jikes if you like 
>makefiles.

My point is that all the work that is traditionally done by make
depend is done in javac.  Avoiding multiple JVM startups is a bonus.

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From oliver at zeigermann.de  Tue Jul 15 01:58:07 2003
From: oliver at zeigermann.de (Oliver Zeigermann)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Re: XSL?
In-Reply-To: <20030714174316.32228.qmail@web40613.mail.yahoo.com>
Message-ID: <bf0fmv+fdbt@eGroups.com>

First of all XSLT needs to be parsed, interpreted and finally
executed. Using compiled Java code the first two steps are spared.
Additonally, you will need quite some experience to make an XSLT
transformation fast, but it is possible. Naive transformations
generally tend to perform poorly...

Oliver

--- In antlr-interest@yahoogroups.com, Karl Meissner <meissnersd@y...>
wrote:
> 
> So XSL is very slow?  Have not used it much...
> 
> 
> --- Oliver Zeigermann <oliver@z...> wrote:
> > Quite right! If *speed* does not matter it is mainly a question
of 
> > taste and your experience. Some people might not be used to XSLT, 
> > but rather tree grammars and vice-versa.
> > 
> > --- In antlr-interest@yahoogroups.com, Karl Meissner 
> > <meissnersd@y...> wrote:
> > > 
> > > 
> > > What do you guys think of the TreeWalker compared to XSL?
> > > You can convert AST to XML and pass it to an XSL transform with 
> > embedded script actions...
> > > 
> > > 
> > > 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rjc at trump.net.au  Tue Jul 15 04:14:14 2003
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <5.1.1.1.2.20030715083112.02008538@wgmail2.gatwick.eur.slb.
 com>
References: <6.0.0.8.0.20030715100835.00a77bb0@postoffice.trump.net.au>
 <5.1.1.1.2.20030714165008.01e33f48@wgmail2.gatwick.eur.slb.com>
 <4.2.0.58.20030714222122.0168d7c0@postoffice.trump.net.au>
 <20030714112808.A28461@cs.utwente.nl>
 <4.2.0.58.20030714115646.01757a98@postoffice.trump.net.au>
 <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
 <20030711024719.59555.qmail@web80606.mail.yahoo.com>
 <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711175917.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
 <20030711122906.D20099@cs.utwente.nl>
 <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>
 <20030711160059.G20099@cs.utwente.nl>
 <4.2.0.58.20030714115646.01757a98@postoffice.trump.net.au>
Message-ID: <4.2.0.58.20030715210200.0175d910@postoffice.trump.net.au>

At 08:54 AM 15/07/2003 +0100, Pete Forman wrote:
>At 2003-07-15 10:36 +1000, Robert Colquhoun wrote:
> > > >As soon as you make a java change you need to recalculate the dependency
> > > >tree using some tool.  That's not happening with the configure/make 
> stuff
> > > >at the moment there is only the original dependencies.
> > >
> > >The Java compiler handles dependencies internally.  If you compile
> > >just one file then all the .java files it references are compiled as
> > >well (including indirect references) if they have no .class.  It is
> > >often enough just to name those files with a main() on javac's command
> > >line.
> >
> >Can get in trouble though if you compile one file that has a dependency
> >which already has a class file available....it doesnt check to see if the
> >dependency source is out of date with respect to its class file unless the
> >dependency itself is also specified on the command line.
>
>Not true.  Here's a simple example of it working.

And here is another example:

public class A {
     public static void main(String[] args) {
         System.out.println("B.value = " + B.value);
     }
}
public class B {
     public static final int value = C.value;
}
public class C {
     public static final int value = 1;
}

C:\test>javac A.java
C:\test>java A
C.value = 1
C:\test>notepad C.java  <--change C.value to 2
C:\test>javac A.java
C:\test>java A
C.value = 1
C:\test>

Things get worse as soon as interfaces, Class.forName(), reflection, custom 
class loaders etc start getting used.

  - Robert


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From a_j_key at yahoo.com  Tue Jul 15 08:27:49 2003
From: a_j_key at yahoo.com (a_j_key)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Options bloc since which version?
Message-ID: <bf16hl+d07r@eGroups.com>

Hi,

I read in the ANTLR history about the options block. Does anyone know 
since which version it's a part of ANTLR?

Regardsm

ajk


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Tue Jul 15 15:13:52 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] another nondeterminism question
Message-ID: <72C9789739C4214096AE945753B11EA32A5E4E@mypxmail04.bco-home.com>

That's a weird bug you ran into, I think.  It should give warnings in both
cases.  You could solve this with a syntactic predicate:

S: (A)=>(A)+;

-----Original Message-----
From: Adrian Sandor [mailto:aditsu@yahoo.com] 
Sent: Friday, July 11, 2003 9:54 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] another nondeterminism question


why do I get a nondeterminism warning for this grammar:

class l1 extends Lexer;
options{k=2;}
protected A: 'a' | "bb";
B: 'b';
S: (A)+;

but I don't get any warning when I change S to:

S: A (A)+;

and how can I solve it for the first case?
I tried many things but to no avail...

thanks
Adrian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From M.Wirth at seeburger.de  Wed Jul 16 06:10:18 2003
From: M.Wirth at seeburger.de (Wirth. Michael)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] caseSensitive for one rule
Message-ID: <164986BA012AA2468F7F6AA0562D7BDC06C550@seedebrexch.seeburger.de>

Hi,

is there a way to set caseSensitive to false in one rule in the parser?
Something like I wrote below.
I want that the "end", "End", "eNd", ... ist matched. Only in this rule.
"start" should only be matched as "start", not as "Start".


ruleOne : "start" ruleTwo ;

ruleTwo :	
        options 
        {	
            caseSensitive = false;
        }:
        tok1:"end"
    ;

Is this possible?


Greetings,
	Michael

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Wed Jul 16 06:18:06 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] caseSensitive for one rule
In-Reply-To: <164986BA012AA2468F7F6AA0562D7BDC06C550@seedebrexch.seeburger.de>; from M.Wirth@seeburger.de on Wed, Jul 16, 2003 at 03:10:18PM +0200
References: <164986BA012AA2468F7F6AA0562D7BDC06C550@seedebrexch.seeburger.de>
Message-ID: <20030716151805.A3177@cs.utwente.nl>

On Wed, Jul 16, 2003 at 03:10:18PM +0200, Wirth. Michael wrote:
> is there a way to set caseSensitive to false in one rule in the parser?
> Something like I wrote below.
> I want that the "end", "End", "eNd", ... ist matched. Only in this rule.
> "start" should only be matched as "start", not as "Start".

In the parser I'd give you very little chance, since casesensitive is
handled in the lexer. Feedback from parser to lexer is in general a bad idea.

Nothing stops you though to look in the parser at the text belonging to the
start token and bombing out if it's not equal to "start". E.g. have
casesensitive turned off all the time and...

> ruleOne : "start" ruleTwo ;

ruleOne: s:"start" 
{ if ( ! s.getText().equals("start") ) throw ... } ruleTwo

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  "I don't have anything against Java - it's the best damn implementation
              of UCSD Pascal ever released..." --- Larry Smith


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From M.Wirth at seeburger.de  Wed Jul 16 06:25:01 2003
From: M.Wirth at seeburger.de (Wirth. Michael)
Date: Mon Dec 20 16:15:48 2004
Subject: AW: [antlr-interest] caseSensitive for one rule
Message-ID: <164986BA012AA2468F7F6AA0562D7BDC06C551@seedebrexch.seeburger.de>

yes, this is a way, but the code I wrote is only an example.
My origin code is much longer an there are more than one parser,
which are all extended from one superparser. So I have to write
the if-statement with the comparision in every parser at every
match of a token :(

But when I have to do this I have to. 

Thanks for this quick answer.


> -----Urspr?ngliche Nachricht-----
> Von: Ric Klaren [mailto:klaren@cs.utwente.nl]
> Gesendet: Mittwoch, 16. Juli 2003 15:18
> An: antlr-interest@yahoogroups.com
> Betreff: Re: [antlr-interest] caseSensitive for one rule
> 
> 
> On Wed, Jul 16, 2003 at 03:10:18PM +0200, Wirth. Michael wrote:
> > is there a way to set caseSensitive to false in one rule in 
> the parser?
> > Something like I wrote below.
> > I want that the "end", "End", "eNd", ... ist matched. Only 
> in this rule.
> > "start" should only be matched as "start", not as "Start".
> 
> In the parser I'd give you very little chance, since casesensitive is
> handled in the lexer. Feedback from parser to lexer is in 
> general a bad idea.
> 
> Nothing stops you though to look in the parser at the text 
> belonging to the
> start token and bombing out if it's not equal to "start". E.g. have
> casesensitive turned off all the time and...
> 
> > ruleOne : "start" ruleTwo ;
> 
> ruleOne: s:"start" 
> { if ( ! s.getText().equals("start") ) throw ... } ruleTwo
> 
> Cheers,
> 
> Ric
> --
> -----+++++****************************************************
> *+++++++++-------
>     ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 
> 4893722  ----
> -----+++++****************************************************
> *+++++++++-------
>   "I don't have anything against Java - it's the best damn 
> implementation
>               of UCSD Pascal ever released..." --- Larry Smith
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From pete.forman at westerngeco.com  Wed Jul 16 07:18:48 2003
From: pete.forman at westerngeco.com (Pete Forman)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] GCJ
In-Reply-To: <4.2.0.58.20030715210200.0175d910@postoffice.trump.net.au>
References: <5.1.1.1.2.20030715083112.02008538@wgmail2.gatwick.eur.slb.com>
 <6.0.0.8.0.20030715100835.00a77bb0@postoffice.trump.net.au>
 <5.1.1.1.2.20030714165008.01e33f48@wgmail2.gatwick.eur.slb.com>
 <4.2.0.58.20030714222122.0168d7c0@postoffice.trump.net.au>
 <20030714112808.A28461@cs.utwente.nl>
 <4.2.0.58.20030714115646.01757a98@postoffice.trump.net.au>
 <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
 <20030711024719.59555.qmail@web80606.mail.yahoo.com>
 <4.2.0.58.20030711123816.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711175917.00b16a88@postoffice.trump.net.au>
 <4.2.0.58.20030711190741.01743020@postoffice.trump.net.au>
 <20030711122906.D20099@cs.utwente.nl>
 <4.2.0.58.20030711232832.00b16a88@postoffice.trump.net.au>
 <20030711160059.G20099@cs.utwente.nl>
 <4.2.0.58.20030714115646.01757a98@postoffice.trump.net.au>
Message-ID: <5.1.1.1.2.20030716151218.01fbb3f8@wgmail2.gatwick.eur.slb.com>

At 2003-07-15 21:14 +1000, Robert Colquhoun wrote:
>At 08:54 AM 15/07/2003 +0100, Pete Forman wrote:
> >Not true.  Here's a simple example of it working.
>
>And here is another example:
>[of dependency management not working]

Ouch.

>Things get worse as soon as interfaces, Class.forName(), reflection, custom
>class loaders etc start getting used.

Yes indeed.

-- 
Pete Forman                -./\.-  Disclaimer: This post is originated
WesternGeco                  -./\.-   by myself and does not represent
pete.forman@westerngeco.com    -./\.-   opinion of Schlumberger, Baker
http://petef.port5.com           -./\.-   Hughes or their divisions.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rodrigobamboo at hotmail.com  Wed Jul 16 08:34:29 2003
From: rodrigobamboo at hotmail.com (Rodrigo B. de Oliveira)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] caseSensitive for one rule
References: <164986BA012AA2468F7F6AA0562D7BDC06C551@seedebrexch.seeburger.de>
Message-ID: <Sea1-DAV50dZIL3fCCN0000a922@hotmail.com>

Well, not quite, you can always write a AssertLowerCase(Token t) function
and call it from every case sensitive rule. It can still be a lot of work
though.

ruleOne: s:"start"
{ AssertLowerCase(s); } ruleTwo

Rodrigo


----- Original Message ----- 
From: "Wirth. Michael" <M.Wirth@seeburger.de>
To: <antlr-interest@yahoogroups.com>
Sent: Wednesday, July 16, 2003 10:25 AM
Subject: AW: [antlr-interest] caseSensitive for one rule


yes, this is a way, but the code I wrote is only an example.
My origin code is much longer an there are more than one parser,
which are all extended from one superparser. So I have to write
the if-statement with the comparision in every parser at every
match of a token :(

But when I have to do this I have to.

Thanks for this quick answer.

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From ives.landrieu at pandora.be  Wed Jul 16 09:43:15 2003
From: ives.landrieu at pandora.be (ilandrieu)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Bug in buildTokenTypeASTClassMap generation(antlr 2.7.2)
Message-ID: <bf3vb3+cd5g@eGroups.com>

Hi,     
     
I'm not a user of antlr, but I am using it to compile the Java Data Objects  
reference implementation. Their grammar file contains rules like:     
     
    IMPORT = "import"         <AST=com.sun.jdori.common.query.tree.Node>;      
     
(the quotes around import are important, I could not throw them out). This leads 
to the generation of the following code in antlr 2.7.2 for the method  
buildTokenTypeASTClassMap in the parser class :     
     
	protected void buildTokenTypeASTClassMap() {     
		tokenTypeToASTClassMap = new Hashtable();     
		tokenTypeToASTClassMap.put(new Integer("import"),    
com.sun.jdori.common.query.tree.Node.class);     
        ....     
     
This code causes a NumberFormatException("import" cannot be parsed to an 
integer value) when called (as happens in the  constructor of the parser class).     
The correct code seems to be:     
  
	tokenTypeToASTClassMap.put(new Integer(IMPORT),     
                                        com.sun.jdori.common.query.tree.Node.class);     
     
I solved my problem, but I wanted to know whether this is a known issue with  
antlr 2.7.2 (or should I file it somewhere?), or is it a problem in the JDO grammar  
file?     
     
Cheers,     
Ives     
     
     


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From abreneliere at telys.com  Wed Jul 16 10:12:36 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] How to pass a pointer from a rule to another in the Treewalker in C++ ?
Message-ID: <001c01c34bbd$747431e0$ae646464@lavaserver>

// Here is the root rule, ciaoTreeDocument :

ciaoTreeDocument
	:	( statementA )*
;

// A pointer is created, named '_curstat'.
// This pointer is passed to the rule 'statProperties'
// Everything is OK when the rule is called, and _curstat is OK, with a
type 'CObject *'

statementA
	{	
		CObject * _curstat = world->addObject();
		_curstat->aP(CATEGORY, "Statement"); 
	}
	:	#(R_STA ( statProperties[ _curstat ])* statement) 
;

// In the statProperties rule, _curstat has changed : the value of the
pointer has changed,
// and the type of _curstat has also changed :

// _curstat IS NOW 'antlr::ASTRefCount<antlr::AST>' instead of 'CObject
*' !!!!!!!!!!!

statProperties
	[ CObject * _curstat ]
	:	statStateA[ _curstat ]
	|	statId[ _curstat ]
;

So, my question is :

Any idea to pass a pointer from a rule to another in the Treewalker in
C++ ?

Cordially,
Anthony



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From antlrlist at yahoo.com  Wed Jul 16 10:19:31 2003
From: antlrlist at yahoo.com (antlrlist)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Re: caseSensitive for one rule
In-Reply-To: <164986BA012AA2468F7F6AA0562D7BDC06C550@seedebrexch.seeburger.de>
Message-ID: <bf41f4+i9v4@eGroups.com>


Hello!

If you're trying to turn CaseSensitive *on some parser rules* I cannot
help you - the AssertLowerCase solution is the best one I can think of.

However, if you want to turn CaseSensitive on and off on some *tokens*
you should modify the *Lexer*, not the *Parser*.

( Sorry if I sound rude. Sometimes when I try to stress something it
seems I'm angry - this is not the case :) )

Namely you should turn off CaseSensitive (or CaseSentiviteLiterals;
that would be more efficient, but maybe not enough powerful) and then
override testLiteralsTable in your lexer (I'll asume java mode):

<pre>
options {
caseSensitiveLiterals=false; // all literals are case-insensitive
testLiterals=false; // Activate in IDENT
}
tokens{
   END="end";     // case insensitive
   START="start"; // case *sensitive*
   FOO="foo";     // case *sensitive*
   ...
}

{
    /** override testLiteralsTable **/
    public int testLiteralsTable(String text, int oldtype)
    {
        int newtype = super.testLiteralsTable(text, oldtype);
        switch(ttype)
        {
           // case sensitive tokens
           case START : case FOO: case ... :
              // return IDENT-or-whatever if is not
              // completely lowercase (this could be more refined)
              if(isLowerCase(text)) return oldtype;
              return newtype;
           // case insensitive tokens
           default:
              return newtype;
        }
    }
}
...

// Surely you'll have an IDENT-like rule, where reserved words have to
// be recognized. 
IDENT
:  options { testLiterals=true; }: 
   LETTER (LETTER|DIGIT)*
;
</pre>

I have not tried this out, but it should work fine. Please report!

Enrique.

PS: as a side note, I don't like using unnamed tokens - writing
"start" in parser rules instead of START - with this solution you
might not be able to use them.


--- In antlr-interest@yahoogroups.com, "Wirth. Michael" <M.Wirth@s...>
wrote:
> Hi,
> 
> is there a way to set caseSensitive to false in one rule in the parser?
> Something like I wrote below.
> I want that the "end", "End", "eNd", ... ist matched. Only in this rule.
> "start" should only be matched as "start", not as "Start".
> 
> 
> ruleOne : "start" ruleTwo ;
> 
> ruleTwo :	
>         options 
>         {	
>             caseSensitive = false;
>         }:
>         tok1:"end"
>     ;
> 
> Is this possible?
> 
> 
> Greetings,
> 	Michael


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From aditsu at yahoo.com  Wed Jul 16 11:25:44 2003
From: aditsu at yahoo.com (Adrian Sandor)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Re: another nondeterminism question
In-Reply-To: <72C9789739C4214096AE945753B11EA32A5E4E@mypxmail04.bco-home.com>
Message-ID: <bf45b8+kjdk@eGroups.com>

ok, I tried with the following grammar:

class l1 extends Lexer;
options{k=2;}
protected A: 'a' | "bb";
B: 'b';
S: (A)=>(A)+;

and I got:

ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
t1.g: warning:lexical nondeterminism between rules B and S upon
t1.g:     k==1:'b'
t1.g:     k==2:<end-of-token>
t1.g:5: warning:Syntactic predicate ignored for single alternative


Adrian

--- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> That's a weird bug you ran into, I think.  It should give warnings 
in both
> cases.  You could solve this with a syntactic predicate:
> 
> S: (A)=>(A)+;
> 
> -----Original Message-----
> From: Adrian Sandor [mailto:aditsu@y...] 
> Sent: Friday, July 11, 2003 9:54 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] another nondeterminism question
> 
> 
> why do I get a nondeterminism warning for this grammar:
> 
> class l1 extends Lexer;
> options{k=2;}
> protected A: 'a' | "bb";
> B: 'b';
> S: (A)+;
> 
> but I don't get any warning when I change S to:
> 
> S: A (A)+;
> 
> and how can I solve it for the first case?
> I tried many things but to no avail...
> 
> thanks
> Adrian
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Wed Jul 16 11:45:49 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:48 2004
Subject: [antlr-interest] Re: another nondeterminism question
Message-ID: <72C9789739C4214096AE945753B11EA32A5E5B@mypxmail04.bco-home.com>

OK, this is an linear approximation issue.  If you had A:"aa" | "bb" things
would work.  This example is very abstract.  I would code it like this:

S: ('a' | "bb")+
   | 'b' {$setType(B);}
   ;

Look up linear approximation in the FAQ & archives.

Monty
-----Original Message-----
From: Adrian Sandor [mailto:aditsu@yahoo.com] 
Sent: Wednesday, July 16, 2003 11:26 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: another nondeterminism question


ok, I tried with the following grammar:

class l1 extends Lexer;
options{k=2;}
protected A: 'a' | "bb";
B: 'b';
S: (A)=>(A)+;

and I got:

ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
t1.g: warning:lexical nondeterminism between rules B and S upon
t1.g:     k==1:'b'
t1.g:     k==2:<end-of-token>
t1.g:5: warning:Syntactic predicate ignored for single alternative


Adrian

--- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> That's a weird bug you ran into, I think.  It should give warnings
in both
> cases.  You could solve this with a syntactic predicate:
> 
> S: (A)=>(A)+;
> 
> -----Original Message-----
> From: Adrian Sandor [mailto:aditsu@y...]
> Sent: Friday, July 11, 2003 9:54 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] another nondeterminism question
> 
> 
> why do I get a nondeterminism warning for this grammar:
> 
> class l1 extends Lexer;
> options{k=2;}
> protected A: 'a' | "bb";
> B: 'b';
> S: (A)+;
> 
> but I don't get any warning when I change S to:
> 
> S: A (A)+;
> 
> and how can I solve it for the first case?
> I tried many things but to no avail...
> 
> thanks
> Adrian
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Wed Jul 16 11:49:05 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Re: another nondeterminism question
Message-ID: <72C9789739C4214096AE945753B11EA32A5E5C@mypxmail04.bco-home.com>

In fact you may need a syntactic predicate because of the linear
approximation issue:


S: ('a'|"bb")=>('a' | "bb")+
   | 'b' {$setType(B);}
   ;

Let me know, I don't have time to try it out right now.

Monty
-----Original Message-----
From: mzukowski@yci.com [mailto:mzukowski@yci.com] 
Sent: Wednesday, July 16, 2003 11:46 AM
To: antlr-interest@yahoogroups.com
Subject: RE: [antlr-interest] Re: another nondeterminism question


OK, this is an linear approximation issue.  If you had A:"aa" | "bb" things
would work.  This example is very abstract.  I would code it like this:

S: ('a' | "bb")+
   | 'b' {$setType(B);}
   ;

Look up linear approximation in the FAQ & archives.

Monty
-----Original Message-----
From: Adrian Sandor [mailto:aditsu@yahoo.com] 
Sent: Wednesday, July 16, 2003 11:26 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: another nondeterminism question


ok, I tried with the following grammar:

class l1 extends Lexer;
options{k=2;}
protected A: 'a' | "bb";
B: 'b';
S: (A)=>(A)+;

and I got:

ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
t1.g: warning:lexical nondeterminism between rules B and S upon
t1.g:     k==1:'b'
t1.g:     k==2:<end-of-token>
t1.g:5: warning:Syntactic predicate ignored for single alternative


Adrian

--- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> That's a weird bug you ran into, I think.  It should give warnings
in both
> cases.  You could solve this with a syntactic predicate:
> 
> S: (A)=>(A)+;
> 
> -----Original Message-----
> From: Adrian Sandor [mailto:aditsu@y...]
> Sent: Friday, July 11, 2003 9:54 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] another nondeterminism question
> 
> 
> why do I get a nondeterminism warning for this grammar:
> 
> class l1 extends Lexer;
> options{k=2;}
> protected A: 'a' | "bb";
> B: 'b';
> S: (A)+;
> 
> but I don't get any warning when I change S to:
> 
> S: A (A)+;
> 
> and how can I solve it for the first case?
> I tried many things but to no avail...
> 
> thanks
> Adrian
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From aditsu at yahoo.com  Wed Jul 16 12:29:57 2003
From: aditsu at yahoo.com (Adrian Sandor)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Re: another nondeterminism question
In-Reply-To: <72C9789739C4214096AE945753B11EA32A5E5C@mypxmail04.bco-home.com>
Message-ID: <bf493l+bcro@eGroups.com>


wow, this really worked! thanks a lot! I had tried many things but I 
didn't try to parse B and setType for it in the S rule, till I read 
your message

if you say the example is very abstract, then how about this sample:

protected NLCHAR0: '\r'|'\n';
protected NLCHAR: NLCHAR0 | ("//")=>COMM | '/' {$setType(SLASH);};
protected NNLWSCHAR: ' ' | '\t';
protected WSCHAR: NNLWSCHAR | NLCHAR;
NNLWS: (NNLWSCHAR)+;
NLWS: NLCHAR (WSCHAR)*;
protected COMM: "//" (~('\r'|'\n'))* NLCHAR0;

(NL=newline, NNL = non-newline; WS=whitespace)
now it works, thanks to you :)

Adrian

--- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> In fact you may need a syntactic predicate because of the linear
> approximation issue:
> 
> 
> S: ('a'|"bb")=>('a' | "bb")+
>    | 'b' {$setType(B);}
>    ;
> 
> Let me know, I don't have time to try it out right now.
> 
> Monty
> -----Original Message-----
> From: mzukowski@y... [mailto:mzukowski@y...] 
> Sent: Wednesday, July 16, 2003 11:46 AM
> To: antlr-interest@yahoogroups.com
> Subject: RE: [antlr-interest] Re: another nondeterminism question
> 
> 
> OK, this is an linear approximation issue.  If you had A:"aa" 
| "bb" things
> would work.  This example is very abstract.  I would code it like 
this:
> 
> S: ('a' | "bb")+
>    | 'b' {$setType(B);}
>    ;
> 
> Look up linear approximation in the FAQ & archives.
> 
> Monty
> -----Original Message-----
> From: Adrian Sandor [mailto:aditsu@y...] 
> Sent: Wednesday, July 16, 2003 11:26 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: another nondeterminism question
> 
> 
> ok, I tried with the following grammar:
> 
> class l1 extends Lexer;
> options{k=2;}
> protected A: 'a' | "bb";
> B: 'b';
> S: (A)=>(A)+;
> 
> and I got:
> 
> ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
> t1.g: warning:lexical nondeterminism between rules B and S upon
> t1.g:     k==1:'b'
> t1.g:     k==2:<end-of-token>
> t1.g:5: warning:Syntactic predicate ignored for single alternative
> 
> 
> Adrian
> 
> --- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> > That's a weird bug you ran into, I think.  It should give warnings
> in both
> > cases.  You could solve this with a syntactic predicate:
> > 
> > S: (A)=>(A)+;
> > 
> > -----Original Message-----
> > From: Adrian Sandor [mailto:aditsu@y...]
> > Sent: Friday, July 11, 2003 9:54 AM
> > To: antlr-interest@yahoogroups.com
> > Subject: [antlr-interest] another nondeterminism question
> > 
> > 
> > why do I get a nondeterminism warning for this grammar:
> > 
> > class l1 extends Lexer;
> > options{k=2;}
> > protected A: 'a' | "bb";
> > B: 'b';
> > S: (A)+;
> > 
> > but I don't get any warning when I change S to:
> > 
> > S: A (A)+;
> > 
> > and how can I solve it for the first case?
> > I tried many things but to no avail...
> > 
> > thanks
> > Adrian



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From ngormley at hotmail.com  Wed Jul 16 14:19:21 2003
From: ngormley at hotmail.com (ngormley1974)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] ANTLR 3 License
Message-ID: <bf4fgp+q99d@eGroups.com>

Hi,

Ter, have you had any thoughts about ANTLR 3 licensing?

I use ANTLR for commerical and non-commercial projects, and wouldn't 
mind knowing whats around that particular corner.

Thanks,
Niall


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Wed Jul 16 15:39:45 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] ANTLR 3 License
In-Reply-To: <bf4fgp+q99d@eGroups.com>
Message-ID: <665CFF18-B7DE-11D7-8B17-000A95891192@cs.usfca.edu>


On Wednesday, July 16, 2003, at 02:19 PM, ngormley1974 wrote:

> Hi,
>
> Ter, have you had any thoughts about ANTLR 3 licensing?

Yep.  Lots. I"m thinking essentially the BSD license.  You can do what 
you want with it, just don't sue me. ;)

>
> I use ANTLR for commerical and non-commercial projects, and wouldn't
> mind knowing whats around that particular corner.

Will BSD work for you (and anybody else)?

Ter
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com pure link sharing




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From agarrett at amfam.com  Wed Jul 16 16:09:01 2003
From: agarrett at amfam.com (cunctator69)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] NEWBIE: Parsing log files
Message-ID: <bf4lud+mn40@eGroups.com>

I've got what seems to be a fairly straightforward
problem, but I've had no luck solving it, nor have I
found an answer in the fairly copious antlr docs. I'm
sure it's there, but I don't think I'm recognizing it.

I'm trying to use antlr to parse a Log4J log file. The
problem is that I'm trying to match something like:

// from the parser
startRule
	:	(record)+
	;
record 
	: 	date time priority DASH! message
	;

and message represents everything from DASH to the end
of the line. I tried a rule like:

message
	:	UP_TO_EOL
	;

// lexer

UP_TO_EOL
	:LETTER (options {greedy=false;} :.)* '\n'
	;

but that conflicts with:

WORD
	:	('a'..'z' | 'A'..'Z')+
	;

As I said, it seems pretty straightforward. I
understand why I'm getting the ambiguity warning -- I
just can't figure out how to build a single
unambiguous token that matches from an arbitrary point
to the end of the line. I would appreciate any
guidance offered.

Thanks,
Alex


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From bob at werken.com  Wed Jul 16 16:21:34 2003
From: bob at werken.com (bob mcwhirter)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] ANTLR 3 License
In-Reply-To: <665CFF18-B7DE-11D7-8B17-000A95891192@cs.usfca.edu>
Message-ID: <Pine.LNX.3.96.1030716192124.23728G-100000@exeter.exeter.org>

> Will BSD work for you (and anybody else)?

BSD rocks.

	-bob


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rodrigobamboo at hotmail.com  Wed Jul 16 17:22:37 2003
From: rodrigobamboo at hotmail.com (Rodrigo B. de Oliveira)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] ANTLR 3 License
References: <665CFF18-B7DE-11D7-8B17-000A95891192@cs.usfca.edu>
Message-ID: <Sea1-DAV54fhsXHp0pA0000b65d@hotmail.com>

> 
> Will BSD work for you (and anybody else)?
> 

BSD is cool.

Rodrigo

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From antlrlist at yahoo.com  Wed Jul 16 17:37:14 2003
From: antlrlist at yahoo.com (antlrlist)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Re: NEWBIE: Parsing log files
In-Reply-To: <bf4lud+mn40@eGroups.com>
Message-ID: <bf4r3q+kl30@eGroups.com>


If DASH is only used at the beginig of a message, then the easiest way
I can think about is using your DASH to recognize the begining of
"message"; I mean having a rule like this on the lexer:

// a MESSAGE is a DASH followed by 0 or more 'non \n' chars and a '\n'
// at the end 
MESSAGE : DASH (~'\n')* '\n';

and then in your parser:

record : date time priority MESSAGE
       ;

If the las log does not end with '\n', you'll have to add EOF:

MESSAGE : DASH (~('\n'|EOF))* ('\n'|EOF) ;

Does this help?

Cheers, 

Enrique



--- In antlr-interest@yahoogroups.com, "cunctator69" <agarrett@a...>
wrote:
> I've got what seems to be a fairly straightforward
> problem, but I've had no luck solving it, nor have I
> found an answer in the fairly copious antlr docs. I'm
> sure it's there, but I don't think I'm recognizing it.
> 
> I'm trying to use antlr to parse a Log4J log file. The
> problem is that I'm trying to match something like:
> 
> // from the parser
> startRule
> 	:	(record)+
> 	;
> record 
> 	: 	date time priority DASH! message
> 	;
> 
> and message represents everything from DASH to the end
> of the line. I tried a rule like:
> 
> message
> 	:	UP_TO_EOL
> 	;
> 
> // lexer
> 
> UP_TO_EOL
> 	:LETTER (options {greedy=false;} :.)* '\n'
> 	;
> 
> but that conflicts with:
> 
> WORD
> 	:	('a'..'z' | 'A'..'Z')+
> 	;
> 
> As I said, it seems pretty straightforward. I
> understand why I'm getting the ambiguity warning -- I
> just can't figure out how to build a single
> unambiguous token that matches from an arbitrary point
> to the end of the line. I would appreciate any
> guidance offered.
> 
> Thanks,
> Alex


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From Matthew.Ford at forward.com.au  Wed Jul 16 18:04:12 2003
From: Matthew.Ford at forward.com.au (Matthew Ford)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] ANTLR 3 License
References: <665CFF18-B7DE-11D7-8B17-000A95891192@cs.usfca.edu>
 <Sea1-DAV54fhsXHp0pA0000b65d@hotmail.com>
Message-ID: <004101c34bff$55ba9220$0400a8c0@NOTEBOOK>

Yes BSD is Ok for me too.
I currently use Antlr in commercial projects and its great.
matthew
----- Original Message -----
From: "Rodrigo B. de Oliveira" <rodrigobamboo@hotmail.com>
To: <antlr-interest@yahoogroups.com>
Sent: Thursday, July 17, 2003 10:22 AM
Subject: Re: [antlr-interest] ANTLR 3 License


> >
> > Will BSD work for you (and anybody else)?
> >
>
> BSD is cool.
>
> Rodrigo
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rmsanjivp at yahoo.com  Wed Jul 16 18:41:24 2003
From: rmsanjivp at yahoo.com (rmsanjivp)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] How to make stop matching in one lexical rule and start in another??
Message-ID: <bf4us4+88kc@eGroups.com>

Hi!

I want to match a character '!' in both identifier and operator. How
can I make antrl stop matching in ID rule and start matching the OP
rule?

ID: ('a'..'z' | 'A'..'Z')('a'..'z' | 'A'..'Z' | '!')*;
OP: '!' '=';

I want that if the input is like a!!!=2 then a!! comes as ID.

Can anyone tell me how to do that?

Thanks,
Sanjiv


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From aditsu at yahoo.com  Wed Jul 16 22:14:00 2003
From: aditsu at yahoo.com (Adrian Sandor)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Re: another nondeterminism question
In-Reply-To: <72C9789739C4214096AE945753B11EA32A5E5C@mypxmail04.bco-home.com>
Message-ID: <bf5bao+6phi@eGroups.com>


well, everything is ok... except that once the lexer starts 
recognizing an S, it fails to detect a B:

the grammar:
---8<---
class l1 extends Lexer;
S: ('a' | "bb")=>('a' | "bb")+ | 'b' {$setType(B);};

class p1 extends Parser;
start: (S|B)+;
--->8---

input data: aba
result: exception: line 1:3: expecting 'b', found 'a'

this is still ok for the "//" comments in my grammar, but it's not ok 
in other cases, like Sanjiv's message 
http://groups.yahoo.com/group/antlr-interest/message/8965

I'm going to read about that linear approximation thing...

Adrian

--- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> In fact you may need a syntactic predicate because of the linear
> approximation issue:
> 
> 
> S: ('a'|"bb")=>('a' | "bb")+
>    | 'b' {$setType(B);}
>    ;
> 
> Let me know, I don't have time to try it out right now.
> 
> Monty
> -----Original Message-----
> From: mzukowski@y... [mailto:mzukowski@y...] 
> Sent: Wednesday, July 16, 2003 11:46 AM
> To: antlr-interest@yahoogroups.com
> Subject: RE: [antlr-interest] Re: another nondeterminism question
> 
> 
> OK, this is an linear approximation issue.  If you had A:"aa" 
| "bb" things
> would work.  This example is very abstract.  I would code it like 
this:
> 
> S: ('a' | "bb")+
>    | 'b' {$setType(B);}
>    ;
> 
> Look up linear approximation in the FAQ & archives.
> 
> Monty
> -----Original Message-----
> From: Adrian Sandor [mailto:aditsu@y...] 
> Sent: Wednesday, July 16, 2003 11:26 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: another nondeterminism question
> 
> 
> ok, I tried with the following grammar:
> 
> class l1 extends Lexer;
> options{k=2;}
> protected A: 'a' | "bb";
> B: 'b';
> S: (A)=>(A)+;
> 
> and I got:
> 
> ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
> t1.g: warning:lexical nondeterminism between rules B and S upon
> t1.g:     k==1:'b'
> t1.g:     k==2:<end-of-token>
> t1.g:5: warning:Syntactic predicate ignored for single alternative
> 
> 
> Adrian
> 
> --- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> > That's a weird bug you ran into, I think.  It should give warnings
> in both
> > cases.  You could solve this with a syntactic predicate:
> > 
> > S: (A)=>(A)+;
> > 
> > -----Original Message-----
> > From: Adrian Sandor [mailto:aditsu@y...]
> > Sent: Friday, July 11, 2003 9:54 AM
> > To: antlr-interest@yahoogroups.com
> > Subject: [antlr-interest] another nondeterminism question
> > 
> > 
> > why do I get a nondeterminism warning for this grammar:
> > 
> > class l1 extends Lexer;
> > options{k=2;}
> > protected A: 'a' | "bb";
> > B: 'b';
> > S: (A)+;
> > 
> > but I don't get any warning when I change S to:
> > 
> > S: A (A)+;
> > 
> > and how can I solve it for the first case?
> > I tried many things but to no avail...
> > 
> > thanks
> > Adrian
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From M.Wirth at seeburger.de  Wed Jul 16 23:28:36 2003
From: M.Wirth at seeburger.de (Wirth. Michael)
Date: Mon Dec 20 16:15:49 2004
Subject: AW: [antlr-interest] Re: caseSensitive for one rule
Message-ID: <164986BA012AA2468F7F6AA0562D7BDC0572C6@seedebrexch.seeburger.de>

I think this is a nice idea. Thanks.
But now I have found an other way.

I have found out that the token which I want to match case
insensitive is always standing behind another token. So I
match this token (the one before "end" in the example below)
than I catch the following word as an identifier. In a treeparser
I can now check this word however I want.

Thanks for the help. Sorry that I don't find out this solution before
asking in this list. But perhaps I can use your way in another project
or someoneelse use it.

Antlr is great!

> -----Urspr?ngliche Nachricht-----
> Von: antlrlist [mailto:antlrlist@yahoo.com]
> Gesendet: Mittwoch, 16. Juli 2003 19:20
> An: antlr-interest@yahoogroups.com
> Betreff: [antlr-interest] Re: caseSensitive for one rule
> 
> 
> 
> Hello!
> 
> If you're trying to turn CaseSensitive *on some parser rules* I cannot
> help you - the AssertLowerCase solution is the best one I can 
> think of.
> 
> However, if you want to turn CaseSensitive on and off on some *tokens*
> you should modify the *Lexer*, not the *Parser*.
> 
> ( Sorry if I sound rude. Sometimes when I try to stress something it
> seems I'm angry - this is not the case :) )
> 
> Namely you should turn off CaseSensitive (or CaseSentiviteLiterals;
> that would be more efficient, but maybe not enough powerful) and then
> override testLiteralsTable in your lexer (I'll asume java mode):
> 
> <pre>
> options {
> caseSensitiveLiterals=false; // all literals are case-insensitive
> testLiterals=false; // Activate in IDENT
> }
> tokens{
>    END="end";     // case insensitive
>    START="start"; // case *sensitive*
>    FOO="foo";     // case *sensitive*
>    ...
> }
> 
> {
>     /** override testLiteralsTable **/
>     public int testLiteralsTable(String text, int oldtype)
>     {
>         int newtype = super.testLiteralsTable(text, oldtype);
>         switch(ttype)
>         {
>            // case sensitive tokens
>            case START : case FOO: case ... :
>               // return IDENT-or-whatever if is not
>               // completely lowercase (this could be more refined)
>               if(isLowerCase(text)) return oldtype;
>               return newtype;
>            // case insensitive tokens
>            default:
>               return newtype;
>         }
>     }
> }
> ...
> 
> // Surely you'll have an IDENT-like rule, where reserved words have to
> // be recognized. 
> IDENT
> :  options { testLiterals=true; }: 
>    LETTER (LETTER|DIGIT)*
> ;
> </pre>
> 
> I have not tried this out, but it should work fine. Please report!
> 
> Enrique.
> 
> PS: as a side note, I don't like using unnamed tokens - writing
> "start" in parser rules instead of START - with this solution you
> might not be able to use them.
> 
> 
> --- In antlr-interest@yahoogroups.com, "Wirth. Michael" <M.Wirth@s...>
> wrote:
> > Hi,
> > 
> > is there a way to set caseSensitive to false in one rule in 
> the parser?
> > Something like I wrote below.
> > I want that the "end", "End", "eNd", ... ist matched. Only 
> in this rule.
> > "start" should only be matched as "start", not as "Start".
> > 
> > 
> > ruleOne : "start" ruleTwo ;
> > 
> > ruleTwo :	
> >         options 
> >         {	
> >             caseSensitive = false;
> >         }:
> >         tok1:"end"
> >     ;
> > 
> > Is this possible?
> > 
> > 
> > Greetings,
> > 	Michael
 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From Anthony.Youngman at ECA-International.com  Thu Jul 17 00:22:24 2003
From: Anthony.Youngman at ECA-International.com (Anthony W Youngman)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] ANTLR 3 License
Message-ID: <C7FE35004D40FD45AA342991B88CE40409A445@lnml1.eca-international.local>

Everybody else has said "yes", but can I throw a spanner in the works?

I'd much prefer LGPL. The only real "advantage" of BSD is that it allows
other people to take advantage of your work, make money from it, and
"improve" or otherwise tamper with it "in secret".

The LGPL will mean that if they want to do that, they have to keep Antlr
identifiably separate and publish any changes they have made to Antlr
itself. If you go down the LGPL route, though, you really need to make
explicit the fact that any code generated by Antlr is *not* covered by
the Antlr licence.

The other advantage of the LGPL is that you should ask anybody providing
a "substantive patch" or more to assign copyright to you. If a condition
of that assignment is that any Antlr containing that code will be
available under the LGPL, it then allows you (Ter) to licence Antlr to
any company that wants to make money such that you get some money to
feed back into Antlr too.

This isn't an unusual approach - to name various companies that do it,
we have MySQL, TT with KDE, and even Cygnus (part of RedHat) with gcc
(except they all use the GPL).

Cheers,
Wol

-----Original Message-----
From: Terence Parr [mailto:parrt@cs.usfca.edu] 
Sent: 16 July 2003 23:40
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] ANTLR 3 License



On Wednesday, July 16, 2003, at 02:19 PM, ngormley1974 wrote:

> Hi,
>
> Ter, have you had any thoughts about ANTLR 3 licensing?

Yep.  Lots. I"m thinking essentially the BSD license.  You can do what 
you want with it, just don't sue me. ;)

>
> I use ANTLR for commerical and non-commercial projects, and wouldn't
> mind knowing whats around that particular corner.

Will BSD work for you (and anybody else)?

Ter
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com pure link sharing




 

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 9911 7799, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

From lgc at mail1.jpl.nasa.gov  Thu Jul 17 00:49:09 2003
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Re: ANTLR 3 License
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409A445@lnml1.eca-international.local>
Message-ID: <bf5kdl+uqfm@eGroups.com>

Ter has aggressively kept ANTLR public domain.  LGPL violates the PD 
philosophy that anyone should be allowed to take advantage of the 
work, make money from it, or otherwise tamper with it in secret.

--Loring


--- In antlr-interest@yahoogroups.com, "Anthony W Youngman" 
<Anthony.Youngman@E...> wrote:
> Everybody else has said "yes", but can I throw a spanner in the 
works?
> 
> I'd much prefer LGPL. The only real "advantage" of BSD is that it 
allows
> other people to take advantage of your work, make money from it, 
and
> "improve" or otherwise tamper with it "in secret".
> 
> The LGPL will mean that if they want to do that, they have to keep 
Antlr
> identifiably separate and publish any changes they have made to 
Antlr
> itself. If you go down the LGPL route, though, you really need to 
make
> explicit the fact that any code generated by Antlr is *not* 
covered by
> the Antlr licence.
> 
> The other advantage of the LGPL is that you should ask anybody 
providing
> a "substantive patch" or more to assign copyright to you. If a 
condition
> of that assignment is that any Antlr containing that code will be
> available under the LGPL, it then allows you (Ter) to licence 
Antlr to
> any company that wants to make money such that you get some money 
to
> feed back into Antlr too.
> 
> This isn't an unusual approach - to name various companies that do 
it,
> we have MySQL, TT with KDE, and even Cygnus (part of RedHat) with 
gcc
> (except they all use the GPL).
> 
> Cheers,
> Wol
> 
> -----Original Message-----
> From: Terence Parr [mailto:parrt@c...] 
> Sent: 16 July 2003 23:40
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] ANTLR 3 License
> 
> 
> 
> On Wednesday, July 16, 2003, at 02:19 PM, ngormley1974 wrote:
> 
> > Hi,
> >
> > Ter, have you had any thoughts about ANTLR 3 licensing?
> 
> Yep.  Lots. I"m thinking essentially the BSD license.  You can do 
what 
> you want with it, just don't sue me. ;)
> 
> >
> > I use ANTLR for commerical and non-commercial projects, and 
wouldn't
> > mind knowing whats around that particular corner.
> 
> Will BSD work for you (and anybody else)?
> 
> Ter
> --
> Professor Comp. Sci., University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Co-founder, http://www.jguru.com
> Co-founder, http://www.knowspam.net enjoy email again!
> Co-founder, http://www.peerscope.com pure link sharing
> 
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 
> This transmission is intended for the named recipient only. It may 
contain private and confidential information. If this has come to 
you in error you must not act on anything disclosed in it, nor must 
you copy it, modify it, disseminate it in any way, or show it to 
anyone. Please e-mail the sender to inform us of the transmission 
error or telephone ECA International immediately and delete the e-
mail from your information system.
> 
> Telephone numbers for ECA International offices are: Sydney +61 (0)
2 9911 7799, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 
and New York +1 212 582 2333.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From oliver at zeigermann.de  Thu Jul 17 00:57:06 2003
From: oliver at zeigermann.de (Oliver Zeigermann)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Re: ANTLR 3 License
In-Reply-To: <bf5kdl+uqfm@eGroups.com>
Message-ID: <bf5ksi+mr3u@eGroups.com>

--- In antlr-interest@yahoogroups.com, "lgcraymer" <lgc@m...> wrote:
> Ter has aggressively kept ANTLR public domain.  LGPL violates the
PD 
> philosophy that anyone should be allowed to take advantage of the 
> work, make money from it, or otherwise tamper with it in secret.
> 
> --Loring
> 

Another problem is that applying a stricter license to ANTLR 3 than to
ANTLR 2 might split the community.

Oliver


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From abreneliere at telys.com  Thu Jul 17 02:37:25 2003
From: abreneliere at telys.com (=?iso-8859-1?Q?Anthony_Breneli=E8re?=)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Bug ? In C++, the parameters passed to a rule become ASTRefCount<AST>
Message-ID: <000b01c34c47$0ab5c720$ae646464@lavaserver>

// Here is the root rule, ciaoTreeDocument :

 

ciaoTreeDocument

      :     ( statementA )*

;

 

// A pointer is created, named '_curstat'.

// This pointer is passed to the rule 'statProperties'

// Everything is OK when the rule is called, and _curstat is OK, with a
type 'CObject *'

 

statementA

      {     

            CObject * _curstat = world->addObject();

            _curstat->aP(CATEGORY, "Statement"); 

      }

      :     #(R_STA ( statProperties[ _curstat ])* statement) 

;

 

// In the statProperties rule, _curstat has changed : the value of the
pointer has changed, // and the type of _curstat has also changed :

 

// _curstat IS NOW 'antlr::ASTRefCount<antlr::AST>' instead of 'CObject
*' !!!!!!!!!!!

 

statProperties

      [ CObject * _curstat ]

      :     statStateA[ _curstat ]

      |     statId[ _curstat ]

;

 

So, my question is :

 

Any idea to pass a pointer from a rule to another rule in the Treewalker
in

C++ ?

 

Cordially,

Anthony

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030717/72f8e5fd/attachment.html
From klaren at cs.utwente.nl  Thu Jul 17 03:06:14 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Bug ? In C++, the parameters passed to a rule become ASTRefCount<AST>
In-Reply-To: <000b01c34c47$0ab5c720$ae646464@lavaserver>; from abreneliere@telys.com on Thu, Jul 17, 2003 at 11:37:25AM +0200
References: <000b01c34c47$0ab5c720$ae646464@lavaserver>
Message-ID: <20030717120614.D3177@cs.utwente.nl>

Hi,

On Thu, Jul 17, 2003 at 11:37:25AM +0200, Anthony Brenelire wrote:
> // Here is the root rule, ciaoTreeDocument :
>
> ciaoTreeDocument
>
>       :     ( statementA )*
>
> ;
>
> // A pointer is created, named '_curstat'.
>
> // This pointer is passed to the rule 'statProperties'
>
> // Everything is OK when the rule is called, and _curstat is OK, with a
> type 'CObject *'
>
> statementA
>       {
>
>             CObject * _curstat = world->addObject();
>             _curstat->aP(CATEGORY, "Statement");
>       }
>
>       :     #(R_STA ( statProperties[ _curstat ])* statement)
>
> ;
>
> // In the statProperties rule, _curstat has changed : the value of the
> pointer has changed, // and the type of _curstat has also changed :
>
> // _curstat IS NOW 'antlr::ASTRefCount<antlr::AST>' instead of 'CObject
> *' !!!!!!!!!!!

This sounds more as a memory corruption bug to me than as a problem with
antlr. Did you inspect the generated code for strange things? Try turning
genHashLines off and stepping through the code step by step to see what
actually changes the pointer.

> Any idea to pass a pointer from a rule to another rule in the Treewalker
> in C++ ?

In principle your approach to passing a pointer is ok, at least I'm not
seeing anything strange about it.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Wit is cultured insolence. --- Aristotle


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From j.klaren at utwente.nl  Thu Jul 17 03:19:27 2003
From: j.klaren at utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Bug in buildTokenTypeASTClassMap generation(antlr 2.7.2)
In-Reply-To: <bf3vb3+cd5g@eGroups.com>; from ives.landrieu@pandora.be on Wed, Jul 16, 2003 at 04:43:15PM -0000
References: <bf3vb3+cd5g@eGroups.com>
Message-ID: <20030717121927.E3177@cs.utwente.nl>

Hi,

On Wed, Jul 16, 2003 at 04:43:15PM -0000, ilandrieu wrote:
> I'm not a user of antlr, but I am using it to compile the Java Data Objects  
> reference implementation. Their grammar file contains rules like:     
>      
>     IMPORT = "import"         <AST=com.sun.jdori.common.query.tree.Node>;      
>      
> (the quotes around import are important, I could not throw them out). This
> leads to the generation of the following code in antlr 2.7.2 for the method
> buildTokenTypeASTClassMap in the parser class : 
>      
> 	protected void buildTokenTypeASTClassMap() {     
> 		tokenTypeToASTClassMap = new Hashtable();     
> 		tokenTypeToASTClassMap.put(new Integer("import"),    
> com.sun.jdori.common.query.tree.Node.class);     
>         ....

Could reproduce it. Could you try changing in JavaCodegenerator.java in the
method getTokenASTNodeMap the line:

					println("tokenTypeToASTClassMap.put(new Integer("+s+"), "+
							ts.getASTNodeType()+".class);");

To:


					println("tokenTypeToASTClassMap.put(new Integer("+ts.getTokenType()+"), "+
							ts.getASTNodeType()+".class);");

I think that will fix the problem. I'll put up a snapshot with the fix
shortly at http://wwwhome.cs.utwente.nl/~klaren/antlr/

> I solved my problem, but I wanted to know whether this is a known issue
> with antlr 2.7.2 (or should I file it somewhere?), or is it a problem in
> the JDO grammar file?  

Now it's a known issue ;)

Thanks for the report!

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Chaos is found in greatest abundance wherever order is being sought.
  --- Terry Pratchet

From klaren at cs.utwente.nl  Thu Jul 17 03:19:27 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Bug in buildTokenTypeASTClassMap generation(antlr 2.7.2)
In-Reply-To: <bf3vb3+cd5g@eGroups.com>; from ives.landrieu@pandora.be on Wed, Jul 16, 2003 at 04:43:15PM -0000
References: <bf3vb3+cd5g@eGroups.com>
Message-ID: <20030717121927.E3177@cs.utwente.nl>

Hi,

On Wed, Jul 16, 2003 at 04:43:15PM -0000, ilandrieu wrote:
> I'm not a user of antlr, but I am using it to compile the Java Data Objects  
> reference implementation. Their grammar file contains rules like:     
>      
>     IMPORT = "import"         <AST=com.sun.jdori.common.query.tree.Node>;      
>      
> (the quotes around import are important, I could not throw them out). This
> leads to the generation of the following code in antlr 2.7.2 for the method
> buildTokenTypeASTClassMap in the parser class : 
>      
> 	protected void buildTokenTypeASTClassMap() {     
> 		tokenTypeToASTClassMap = new Hashtable();     
> 		tokenTypeToASTClassMap.put(new Integer("import"),    
> com.sun.jdori.common.query.tree.Node.class);     
>         ....

Could reproduce it. Could you try changing in JavaCodegenerator.java in the
method getTokenASTNodeMap the line:

					println("tokenTypeToASTClassMap.put(new Integer("+s+"), "+
							ts.getASTNodeType()+".class);");

To:


					println("tokenTypeToASTClassMap.put(new Integer("+ts.getTokenType()+"), "+
							ts.getASTNodeType()+".class);");

I think that will fix the problem. I'll put up a snapshot with the fix
shortly at http://wwwhome.cs.utwente.nl/~klaren/antlr/

> I solved my problem, but I wanted to know whether this is a known issue
> with antlr 2.7.2 (or should I file it somewhere?), or is it a problem in
> the JDO grammar file?  

Now it's a known issue ;)

Thanks for the report!

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Chaos is found in greatest abundance wherever order is being sought.
  --- Terry Pratchet


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From j.klaren at utwente.nl  Thu Jul 17 04:02:46 2003
From: j.klaren at utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Paraphrase option and C++ generation
In-Reply-To: <bec5mf+be9f@eGroups.com>; from lubos.vnuk@rts.at on Mon, Jul 07, 2003 at 04:04:31PM -0000
References: <bec5mf+be9f@eGroups.com>
Message-ID: <20030717130246.F3177@cs.utwente.nl>

Hi,

Sorry this one got a bit snowed under. It affects Java codegeneration as
well it seems on my quick inspection.

Problem is that antlr's parser and tokendefinition parser do not dequote
the strings they store internally (these two even seem to follow different
behaviour !?). Which then blows up when they get quoted in the
codegenerators for java/C++.

On Mon, Jul 07, 2003 at 04:04:31PM -0000, Lubos Vnuk wrote:
> If I specify:
> DOUBLE_QUOTE options { paraphrase = "\"";} : "\"";
>
> I suppose it should be just a single backslash.
> How can I define a double qoute paraphrase?

Ugh this is bad every work around I could think off produced something
different :/

Maybe Terence has an idea...

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  "Good judgement comes from experience.
     Experience comes from bad judgement." --- Unknown

From klaren at cs.utwente.nl  Thu Jul 17 04:02:46 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Paraphrase option and C++ generation
In-Reply-To: <bec5mf+be9f@eGroups.com>; from lubos.vnuk@rts.at on Mon, Jul 07, 2003 at 04:04:31PM -0000
References: <bec5mf+be9f@eGroups.com>
Message-ID: <20030717130246.F3177@cs.utwente.nl>

Hi,

Sorry this one got a bit snowed under. It affects Java codegeneration as
well it seems on my quick inspection.

Problem is that antlr's parser and tokendefinition parser do not dequote
the strings they store internally (these two even seem to follow different
behaviour !?). Which then blows up when they get quoted in the
codegenerators for java/C++.

On Mon, Jul 07, 2003 at 04:04:31PM -0000, Lubos Vnuk wrote:
> If I specify:
> DOUBLE_QUOTE options { paraphrase = "\"";} : "\"";
>
> I suppose it should be just a single backslash.
> How can I define a double qoute paraphrase?

Ugh this is bad every work around I could think off produced something
different :/

Maybe Terence has an idea...

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  "Good judgement comes from experience.
     Experience comes from bad judgement." --- Unknown


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From ives.landrieu at pandora.be  Thu Jul 17 05:12:16 2003
From: ives.landrieu at pandora.be (Ives Landrieu)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Bug in buildTokenTypeASTClassMap generation(antlr
 2.7.2)
In-Reply-To: <20030717121927.E3177@cs.utwente.nl>
References: <bf3vb3+cd5g@eGroups.com> <20030717121927.E3177@cs.utwente.nl>
Message-ID: <3F1692A0.9020304@pandora.be>

Ric Klaren wrote:

>Hi,
>
>On Wed, Jul 16, 2003 at 04:43:15PM -0000, ilandrieu wrote:
>  
>
>>I'm not a user of antlr, but I am using it to compile the Java Data Objects  
>>reference implementation. Their grammar file contains rules like:     
>>     
>>    IMPORT = "import"         <AST=com.sun.jdori.common.query.tree.Node>;      
>>     
>>(the quotes around import are important, I could not throw them out). This
>>leads to the generation of the following code in antlr 2.7.2 for the method
>>buildTokenTypeASTClassMap in the parser class : 
>>     
>>	protected void buildTokenTypeASTClassMap() {     
>>		tokenTypeToASTClassMap = new Hashtable();     
>>		tokenTypeToASTClassMap.put(new Integer("import"),    
>>com.sun.jdori.common.query.tree.Node.class);     
>>        ....
>>    
>>
>
>Could reproduce it. Could you try changing in JavaCodegenerator.java in the
>method getTokenASTNodeMap the line:
>
>					println("tokenTypeToASTClassMap.put(new Integer("+s+"), "+
>							ts.getASTNodeType()+".class);");
>
>To:
>
>
>					println("tokenTypeToASTClassMap.put(new Integer("+ts.getTokenType()+"), "+
>							ts.getASTNodeType()+".class);");
>
>I think that will fix the problem. I'll put up a snapshot with the fix
>shortly at http://wwwhome.cs.utwente.nl/~klaren/antlr/
>  
>
That snapshot fixes the problem for me.

>  
>
>>I solved my problem, but I wanted to know whether this is a known issue
>>with antlr 2.7.2 (or should I file it somewhere?), or is it a problem in
>>the JDO grammar file?  
>>    
>>
>
>Now it's a known issue ;)
>  
>
It WAS a known issue ;-)

>Thanks for the report!
>  
>
Thanks for the quick reply!

>Cheers,
>  
>
Schol ;-),
Ives

>Ric
>  
>


From ives.landrieu at pandora.be  Thu Jul 17 05:12:16 2003
From: ives.landrieu at pandora.be (Ives Landrieu)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Bug in buildTokenTypeASTClassMap generation(antlr
 2.7.2)
In-Reply-To: <20030717121927.E3177@cs.utwente.nl>
References: <bf3vb3+cd5g@eGroups.com> <20030717121927.E3177@cs.utwente.nl>
Message-ID: <3F1692A0.9020304@pandora.be>

Ric Klaren wrote:

>Hi,
>
>On Wed, Jul 16, 2003 at 04:43:15PM -0000, ilandrieu wrote:
>  
>
>>I'm not a user of antlr, but I am using it to compile the Java Data Objects  
>>reference implementation. Their grammar file contains rules like:     
>>     
>>    IMPORT = "import"         <AST=com.sun.jdori.common.query.tree.Node>;      
>>     
>>(the quotes around import are important, I could not throw them out). This
>>leads to the generation of the following code in antlr 2.7.2 for the method
>>buildTokenTypeASTClassMap in the parser class : 
>>     
>>	protected void buildTokenTypeASTClassMap() {     
>>		tokenTypeToASTClassMap = new Hashtable();     
>>		tokenTypeToASTClassMap.put(new Integer("import"),    
>>com.sun.jdori.common.query.tree.Node.class);     
>>        ....
>>    
>>
>
>Could reproduce it. Could you try changing in JavaCodegenerator.java in the
>method getTokenASTNodeMap the line:
>
>					println("tokenTypeToASTClassMap.put(new Integer("+s+"), "+
>							ts.getASTNodeType()+".class);");
>
>To:
>
>
>					println("tokenTypeToASTClassMap.put(new Integer("+ts.getTokenType()+"), "+
>							ts.getASTNodeType()+".class);");
>
>I think that will fix the problem. I'll put up a snapshot with the fix
>shortly at http://wwwhome.cs.utwente.nl/~klaren/antlr/
>  
>
That snapshot fixes the problem for me.

>  
>
>>I solved my problem, but I wanted to know whether this is a known issue
>>with antlr 2.7.2 (or should I file it somewhere?), or is it a problem in
>>the JDO grammar file?  
>>    
>>
>
>Now it's a known issue ;)
>  
>
It WAS a known issue ;-)

>Thanks for the report!
>  
>
Thanks for the quick reply!

>Cheers,
>  
>
Schol ;-),
Ives

>Ric
>  
>



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From venkyat at yahoo.com  Thu Jul 17 06:42:15 2003
From: venkyat at yahoo.com (venkyat)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] reengineering from generated java to grammar source
Message-ID: <bf693n+udde@eGroups.com>

hey,
We have bumped into a serious problem.  We currently have few java 
class files that were generated using a grammar file with antlr 
sometime in the year 2000.  Unfortunately, we don't have any 
remainings of the grammar file.  is there a way to do some re-
engineering to generate the grammar file from the generated java 
source files ?

if that's possible, I can decompile the java class files to java 
source and then generate the grammar file.

Please let me know if there's a way.

regards,
-venky


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From abt at gmx.de  Thu Jul 17 07:15:07 2003
From: abt at gmx.de (Andreas B. Thun)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] catch Exception in thread "main"  when buildimg C++ runtime lib
Message-ID: <bf6b1b+nfeh@eGroups.com>

Hi!

Can anyone help? I am using Linux SuSE 8.2 with
Java version 1.4.1_02.
When making antlr, the makefile stops :-(

TIA,
Andi

CLASSPATH is ok:
cm/antlr-2.7.2> ll $CLASSPATH
-rwxr-----    1 abt      users      358273 2003-01-20 01:47
/home/abt/cm/c++/antlr-2.7.2/antlr.jar

cm/antlr-2.7.2> ./configure --prefix=/usr/local
checking if examples must be built... no
checking if BOOTSTRAP_JAR is set... /antlrall.jar
checking for ar... /usr/bin/ar
checking for as... /usr/bin/as
checking for gcc... gcc
checking for C compiler default output... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for executable suffix...
checking for object suffix... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking how to run the C preprocessor... gcc -E
checking for g++... g++
checking whether we are using the GNU C++ compiler... yes
checking whether g++ accepts -g... yes
checking how to run the C++ preprocessor... g++ -E
checking for doxygen... /usr/bin/doxygen
checking for a BSD compatible install... /usr/bin/install -c
You have CLASSPATH /home/abt/cm/c++/antlr-2.7.2/antlr.jar:., hope it
is correct
checking for javac... javac
checking if javac works... yes
checking for java... java
checking for uudecode... yes
checking if uudecode can decode base 64 file... yes
checking if java works... yes
checking for jar... jar
checking for ld... /usr/bin/ld
checking whether ln -s works... yes
checking whether make sets ${MAKE}... yes
checking for makedepend... /usr/bin/X11/makedepend
checking for mkdir... /bin/mkdir
checking for nm... /usr/bin/nm
checking for ranlib... ranlib
checking for rm... /bin/rm
checking for strip... /usr/bin/strip
checking for gtar... no
checking for tar... /bin/tar
checking for tclsh... /usr/bin/tclsh
checking for touch... /usr/bin/touch
checking for ANSI C header files... yes
checking for stdlib.h... yes
checking for unistd.h... yes
checking for gcc option to accept ANSI C... none needed
checking for an ANSI C-conforming const... yes
checking for inline... inline
checking for stdlib.h... (cached) yes
checking for working malloc... yes
checking for strcasecmp... yes
configure: creating ./config.status
config.status: creating scripts/Config.make
config.status: creating scripts/antlr-config
config.status: creating scripts/run-antlr

cm/antlr-2.7.2> make
=============================
Making dependencies...
=============================
make[1]: Entering directory `/home/abt/cm/antlr-2.7.2/antlr'
make[2]: Entering directory `/home/abt/cm/antlr-2.
7.2/antlr/preprocessor'
make[2]: Leaving directory `/home/abt/cm/antlr-2.7
.2/antlr/preprocessor'
make[2]: Entering directory `/home/abt/cm/antlr-2.7.2/antlr/actions'
make[3]: Entering directory `/home/abt/cm/antlr-2.
7.2/antlr/actions/java'
make[3]: Leaving directory `/home/abt/cm/antlr-2.7
.2/antlr/actions/java'
make[3]: Entering directory `/home/abt/cm/antlr-2.
7.2/antlr/actions/cpp'
make[3]: Leaving directory `/home/abt/cm/antlr-2.7
.2/antlr/actions/cpp'
make[2]: Leaving directory `/home/abt/cm/antlr-2.7.2/antlr/actions'
make[2]: Entering directory `/home/abt/cm/antlr-2.
7.2/antlr/collections'
make[3]: Entering directory
`/home/abt/cm/antlr-2.7.2/antlr/collections/impl'
make[3]: Leaving directory
`/home/abt/cm/antlr-2.7.2/antlr/collections/impl'
make[2]: Leaving directory `/home/abt/cm/antlr-2.7
.2/antlr/collections'
make[2]: Entering directory `/home/abt/cm/antlr-2.7.2/antlr/debug'
make[3]: Entering directory `/home/abt/cm/antlr-2.
7.2/antlr/debug/misc'
make[3]: Leaving directory `/home/abt/cm/antlr-2.7.2/antlr/debug/misc'
make[2]: Leaving directory `/home/abt/cm/antlr-2.7.2/antlr/debug'
make[1]: Leaving directory `/home/abt/cm/antlr-2.7.2/antlr'
make[1]: Entering directory `/home/abt/cm/antlr-2.7.2/lib'
make[2]: Entering directory `/home/abt/cm/antlr-2.7.2/lib/cpp'
make[3]: Entering directory `/home/abt/cm/antlr-2.7.2/lib/cpp/src'
make[3]: Leaving directory `/home/abt/cm/antlr-2.7.2/lib/cpp/src'
make[3]: Entering directory `/home/abt/cm/antlr-2.7.2/lib/cpp/antlr'
make[3]: Leaving directory `/home/abt/cm/antlr-2.7.2/lib/cpp/antlr'
make[2]: Leaving directory `/home/abt/cm/antlr-2.7.2/lib/cpp'
make[1]: Leaving directory `/home/abt/cm/antlr-2.7.2/lib'
=============================
Making antlr ...
=============================
make[1]: Entering directory `/home/abt/cm/antlr-2.7.2/antlr'
java -cp /home/abt/cm/antlr-2.7.2/antlrall.jar antlr.Tool   antlr.g
Exception in thread "main" java.lang.NoClassDefFoundError: antlr/Tool
make[1]: *** [.antlr.g] Error 1
make[1]: Leaving directory `/home/abt/cm/antlr-2.7.2/antlr'
make: *** [subdirs] Error 2
cm/antlr-2.7.2>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Thu Jul 17 07:32:07 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] catch Exception in thread "main"  when buildimg C++ runtime lib
In-Reply-To: <bf6b1b+nfeh@eGroups.com>; from abt@gmx.de on Thu, Jul 17, 2003 at 02:15:07PM -0000
References: <bf6b1b+nfeh@eGroups.com>
Message-ID: <20030717163207.H3177@cs.utwente.nl>

On Thu, Jul 17, 2003 at 02:15:07PM -0000, Andreas B. Thun wrote:
> Can anyone help? I am using Linux SuSE 8.2 with
> Java version 1.4.1_02.
> When making antlr, the makefile stops :-(

Grab a snapshot with bugfixes from

http://wwwhome.cs.utwente.nl/~klaren/antlr/

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  "I think we better split up."
  "Good idea. We can do more damage that way."
  --- Ghostbusters


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From jbb at acm.org  Thu Jul 17 07:37:31 2003
From: jbb at acm.org (jbb@acm.org)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] catch Exception in thread "main"  when buildimg C++
 runtime lib
In-Reply-To: <bf6b1b+nfeh@eGroups.com> (abt@gmx.de)
References: <bf6b1b+nfeh@eGroups.com>
Message-ID: <E19d9sx-0005Su-00@gecko.home.org>

I am not familiar with the antlr build process you are using but I do
notice that your config script reports:

...snip...
You have CLASSPATH /home/abt/cm/c++/antlr-2.7.2/antlr.jar:., hope it
is correct
...snip...

                   notice   ^^^^^^^^^

and then later in the sequence of make's you try to invoke antlr as:

...snip...
make[1]: Entering directory `/home/abt/cm/antlr-2.7.2/antlr'
java -cp /home/abt/cm/antlr-2.7.2/antlrall.jar antlr.Tool   antlr.g
Exception in thread "main" java.lang.NoClassDefFoundError: antlr/Tool
make[1]: *** [.antlr.g] Error 1
make[1]: Leaving directory `/home/abt/cm/antlr-2.7.2/antlr'
...snip...


notice that the -cp phrase of the java compile command wants the antlr
jar file to be in ..../cm/antlr.... and not in ..../cm/c++/antlr....

maybe copy or move the antlr.jar file to the location that the java
compile command is expecting?

hope this helps....

	-jbb

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From antlrlist at yahoo.com  Thu Jul 17 07:39:03 2003
From: antlrlist at yahoo.com (antlrlist)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Re: Paraphrase option and C++ generation
In-Reply-To: <20030717130246.F3177@cs.utwente.nl>
Message-ID: <bf6ce7+nr1c@eGroups.com>


Hmmm...

Can't you just use the unicode escape sequence of the quote char?

DOUBLE_QUOTE options { paraphrase = "\u0022";} : "\u0022";

Does this change anything?

Cheers,

Enrique

--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> Hi,
> 
> Sorry this one got a bit snowed under. It affects Java codegeneration as
> well it seems on my quick inspection.
> 
> Problem is that antlr's parser and tokendefinition parser do not dequote
> the strings they store internally (these two even seem to follow
different
> behaviour !?). Which then blows up when they get quoted in the
> codegenerators for java/C++.
> 
> On Mon, Jul 07, 2003 at 04:04:31PM -0000, Lubos Vnuk wrote:
> > If I specify:
> > DOUBLE_QUOTE options { paraphrase = "\"";} : "\"";
> >
> > I suppose it should be just a single backslash.
> > How can I define a double qoute paraphrase?
> 
> Ugh this is bad every work around I could think off produced something
> different :/
> 
> Maybe Terence has an idea...
> 
> Cheers,
> 
> Ric
> --
>
-----+++++*****************************************************+++++++++-------
>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893722  ----
>
-----+++++*****************************************************+++++++++-------
>   "Good judgement comes from experience.
>      Experience comes from bad judgement." --- Unknown


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Thu Jul 17 07:48:42 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Re: Paraphrase option and C++ generation
In-Reply-To: <bf6ce7+nr1c@eGroups.com>; from antlrlist@yahoo.com on Thu, Jul 17, 2003 at 02:39:03PM -0000
References: <20030717130246.F3177@cs.utwente.nl> <bf6ce7+nr1c@eGroups.com>
Message-ID: <20030717164841.I3177@cs.utwente.nl>

On Thu, Jul 17, 2003 at 02:39:03PM -0000, antlrlist wrote:
> Can't you just use the unicode escape sequence of the quote char?
> 
> DOUBLE_QUOTE options { paraphrase = "\u0022";} : "\u0022";

The '\' only will get quoted so you'd effectively only end up with a
paraphrase of \u0022 for the double quote. Antlr stores the paraphrase text
as is and then quotes it again on codegen. This needs a patch in how antlr
deals with this stuff.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     "Evil will always triumph, because Good is dumb." ---  Spaceballs


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Thu Jul 17 08:28:14 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] reengineering from generated java to grammar
	 source
Message-ID: <72C9789739C4214096AE945753B11EA32A5E61@mypxmail04.bco-home.com>

There is currently no automated way I know of to do that.  Someone very
familiar with ANTLR should be able to reconstruct a grammar for you though.
If you have the money you can hire me as a consultant to do it.  Contact me
through www.codetransform.com.  Otherwise you can start making grammars and
inspect the generated source code and figure out how to reverse engineer it.
That's a great way to learn how antlr works too!

Monty

-----Original Message-----
From: venkyat [mailto:venkyat@yahoo.com] 
Sent: Thursday, July 17, 2003 6:42 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] reengineering from generated java to grammar
source


hey,
We have bumped into a serious problem.  We currently have few java 
class files that were generated using a grammar file with antlr 
sometime in the year 2000.  Unfortunately, we don't have any 
remainings of the grammar file.  is there a way to do some re- engineering
to generate the grammar file from the generated java 
source files ?

if that's possible, I can decompile the java class files to java 
source and then generate the grammar file.

Please let me know if there's a way.

regards,
-venky


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Thu Jul 17 08:30:53 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Re: another nondeterminism question
Message-ID: <72C9789739C4214096AE945753B11EA32A5E62@mypxmail04.bco-home.com>

Ack.  Apparently we need a syn pred in the loop as well!  Try some
variations of this and inspect the generated code to make sure it is working
correctly.  Ignore the warning about superfluous syn preds if one comes up.

class l1 extends Lexer;
S: ('a' | "bb")=>(('a')=>'a' | ("bb")=>"bb")+ | 'b' {$setType(B);};

Monty

-----Original Message-----
From: Adrian Sandor [mailto:aditsu@yahoo.com] 
Sent: Wednesday, July 16, 2003 10:14 PM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: another nondeterminism question



well, everything is ok... except that once the lexer starts 
recognizing an S, it fails to detect a B:

the grammar:
---8<---
class l1 extends Lexer;
S: ('a' | "bb")=>('a' | "bb")+ | 'b' {$setType(B);};

class p1 extends Parser;
start: (S|B)+;
--->8---

input data: aba
result: exception: line 1:3: expecting 'b', found 'a'

this is still ok for the "//" comments in my grammar, but it's not ok 
in other cases, like Sanjiv's message 
http://groups.yahoo.com/group/antlr-interest/message/8965

I'm going to read about that linear approximation thing...

Adrian

--- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> In fact you may need a syntactic predicate because of the linear 
> approximation issue:
> 
> 
> S: ('a'|"bb")=>('a' | "bb")+
>    | 'b' {$setType(B);}
>    ;
> 
> Let me know, I don't have time to try it out right now.
> 
> Monty
> -----Original Message-----
> From: mzukowski@y... [mailto:mzukowski@y...]
> Sent: Wednesday, July 16, 2003 11:46 AM
> To: antlr-interest@yahoogroups.com
> Subject: RE: [antlr-interest] Re: another nondeterminism question
> 
> 
> OK, this is an linear approximation issue.  If you had A:"aa"
| "bb" things
> would work.  This example is very abstract.  I would code it like
this:
> 
> S: ('a' | "bb")+
>    | 'b' {$setType(B);}
>    ;
> 
> Look up linear approximation in the FAQ & archives.
> 
> Monty
> -----Original Message-----
> From: Adrian Sandor [mailto:aditsu@y...]
> Sent: Wednesday, July 16, 2003 11:26 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: another nondeterminism question
> 
> 
> ok, I tried with the following grammar:
> 
> class l1 extends Lexer;
> options{k=2;}
> protected A: 'a' | "bb";
> B: 'b';
> S: (A)=>(A)+;
> 
> and I got:
> 
> ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
> t1.g: warning:lexical nondeterminism between rules B and S upon
> t1.g:     k==1:'b'
> t1.g:     k==2:<end-of-token>
> t1.g:5: warning:Syntactic predicate ignored for single alternative
> 
> 
> Adrian
> 
> --- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> > That's a weird bug you ran into, I think.  It should give warnings
> in both
> > cases.  You could solve this with a syntactic predicate:
> > 
> > S: (A)=>(A)+;
> > 
> > -----Original Message-----
> > From: Adrian Sandor [mailto:aditsu@y...]
> > Sent: Friday, July 11, 2003 9:54 AM
> > To: antlr-interest@yahoogroups.com
> > Subject: [antlr-interest] another nondeterminism question
> > 
> > 
> > why do I get a nondeterminism warning for this grammar:
> > 
> > class l1 extends Lexer;
> > options{k=2;}
> > protected A: 'a' | "bb";
> > B: 'b';
> > S: (A)+;
> > 
> > but I don't get any warning when I change S to:
> > 
> > S: A (A)+;
> > 
> > and how can I solve it for the first case?
> > I tried many things but to no avail...
> > 
> > thanks
> > Adrian
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From ebruno at solution-soft.com  Thu Jul 17 08:51:31 2003
From: ebruno at solution-soft.com (Eric Bruno)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] ANTLR 3 License
In-Reply-To: <665CFF18-B7DE-11D7-8B17-000A95891192@cs.usfca.edu>
References: <bf4fgp+q99d@eGroups.com>
Message-ID: <5.2.0.9.2.20030717084833.04131dd0@mailbox.solution-soft.com>

At 03:39 PM 7/16/03 -0700, you wrote:

>On Wednesday, July 16, 2003, at 02:19 PM, ngormley1974 wrote:
>
> > Hi,
> >
> > Ter, have you had any thoughts about ANTLR 3 licensing?
>
>Yep.  Lots. I"m thinking essentially the BSD license.  You can do what
>you want with it, just don't sue me. ;)
>
> >
> > I use ANTLR for commerical and non-commercial projects, and wouldn't
> > mind knowing whats around that particular corner.
>
>Will BSD work for you (and anybody else)?
>
>Ter


We also use antlr in our SafeVelocity commercial product so a BSD license 
would be the
the preferred model.

>--
>Professor Comp. Sci., University of San Francisco
>Creator, ANTLR Parser Generator, http://www.antlr.org
>Co-founder, http://www.jguru.com
>Co-founder, http://www.knowspam.net enjoy email again!
>Co-founder, http://www.peerscope.com pure link sharing
>
>
>
>
>
>
>Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/

+----------------------------------------------------------------+
| Eric Bruno                          | Disclaimer:              |
| Software Architect                  | All Opinions expressed   |
| Solution-Soft                       | are my own. They do not  |
| 2350 Mission College Blvd,Suite 777 | necessarily represent    |
| Santa Clara, CA 95054-1534          | the official             |
| 408-346-1420 (voice)                | positions                |
| 408-346-1499 (fax)                  | of Solution-Soft.        |
+----------------------------------------------------------------+


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From abt at gmx.de  Thu Jul 17 09:07:20 2003
From: abt at gmx.de (Andreas B. Thun)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Re: catch Exception in thread "main"  when buildimg C++ runtime lib
In-Reply-To: <20030717163207.H3177@cs.utwente.nl>
Message-ID: <bf6hjo+k6ou@eGroups.com>

> Grab a snapshot with bugfixes from
> 
> http://wwwhome.cs.utwente.nl/~klaren/antlr/

Looks much better. Thx a lot!!!


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From braden at endoframe.com  Thu Jul 17 09:22:36 2003
From: braden at endoframe.com (Braden McDaniel)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Re: ANTLR 3 License
In-Reply-To: <bf5kdl+uqfm@eGroups.com>
References: <bf5kdl+uqfm@eGroups.com>
Message-ID: <1058458956.1e34f7d6f1b26@webmail.spamcop.net>

Quoting lgcraymer <lgc@mail1.jpl.nasa.gov>:

> Ter has aggressively kept ANTLR public domain.

BSD isn't public domain, either. "Public domain" means, effectively, that 
*anyone* has copyright; no rights are reserved by the author.

>  LGPL violates the PD
> philosophy that anyone should be allowed to take advantage of the
> work, make money from it, or otherwise tamper with it in secret.

That's inaccurate.

One is required to distribute one's modifications to LGPL software only if the 
combined work is distributed. Within that limitation, it is quite possible 
to "take advantage of the work, make money from it, or otherwise tamper with 
it in secret."

-- 
Braden McDaniel                           e-mail: <braden@endoframe.com>
<http://endoframe.com>                    Jabber: <braden@jabber.org>

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From braden at endoframe.com  Thu Jul 17 09:24:59 2003
From: braden at endoframe.com (Braden McDaniel)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Re: ANTLR 3 License
In-Reply-To: <bf5ksi+mr3u@eGroups.com>
References: <bf5ksi+mr3u@eGroups.com>
Message-ID: <1058459099.943dad3b005fe@webmail.spamcop.net>

Quoting Oliver Zeigermann <oliver@zeigermann.de>:

> --- In antlr-interest@yahoogroups.com, "lgcraymer" <lgc@m...> wrote:
> > Ter has aggressively kept ANTLR public domain.  LGPL violates the
> PD
> > philosophy that anyone should be allowed to take advantage of the
> > work, make money from it, or otherwise tamper with it in secret.
> >
> > --Loring
> >
> 
> Another problem is that applying a stricter license to ANTLR 3 than to
> ANTLR 2 might split the community.

Yeah... It would be almost as if the new version were written in a different 
progamming language. ;-)

-- 
Braden McDaniel                           e-mail: <braden@endoframe.com>
<http://endoframe.com>                    Jabber: <braden@jabber.org>

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From atripp at comcast.net  Thu Jul 17 10:11:47 2003
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] JavaEmitter class fixed.
Message-ID: <bf6lcj+3one@eGroups.com>

I've made a few fixes to my JavaEmitter class, so that it...ummm...
how do I say this nicely...actually WORKS without modifications
to the standard ANTLR download.

JavaEmitter takes an AST produced from ANTLR via java.g, and 
prints the AST as reasonably-formatted Java code.

Go to antlr.org and click on "JavaEmitter" under "File Sharing".

Andy


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From atripp at comcast.net  Thu Jul 17 10:18:48 2003
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] FancyAST class
Message-ID: <bf6lpo+hmar@eGroups.com>

I have a FancyAST class that's a subclass of ANTLR's 
CommonAST class. It has many functions to make AST tree manipulation
easier:

  * Each AST knows who its parent is: getParent()
  * Support for comments: addComment(), addComments(), getComments(),
setComments(), findAllComments()
  * Ability to clone an entire tree: cloneAST()
  * Some useful methods: getLastChild(), getLastSibling(),
getChildCount(), getChildNumber(), addChild()
  * Useful methods to insert, remove, and replace and AST in the tree:
insert(), remove(), replace()
  * Get a child with a given text, type, or both: findID(),
findType(), find()
  * Search entire AST tree by text or type: findID(), findType()
  * Display AST tree structure: showTree()
  * Search for a ancestor with a given type: findParentWithType()

Some of these methods may overlap with functionality provided 
by CommonAST. But I was kinda suprised that CommonAST didn't
include these methods.  Seems like you'd need these things to
do any real work with ASTs.

Anyone interested in this? If so, I'll add it to the "File Sharing"
section of antlr.org.

Andy


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From atripp at comcast.net  Thu Jul 17 10:36:55 2003
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Enhance ANTLR to support comments?
Message-ID: <bf6mrn+o5vq@eGroups.com>

I'd like to propose enhancing ANTLR to explicitly
support comments.

The proposal is here:
http://jazillian.com/antlr/antlrComments.html

I realize that theoretically, a "compiler-compiler"
shouldn't deal with comments. But it just seems like it's
a big enough real-world issue (witness the countless
"How do I handle comments" posts) that it should be dealt with.

It seems like a couple of small changes to ANTLR could
be made to have ANTLR-generated lexers attach comments to
Tokens, without breaking any existing ANTLR-based apps.

Let me know what you think of the idea, even if you think
"Blasphemy!"

Andy


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Thu Jul 17 10:50:02 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Enhance ANTLR to support comments?
Message-ID: <72C9789739C4214096AE945753B11EA32A5E66@mypxmail04.bco-home.com>

>>From the parser's point of view, I don't see how this is much different from
using a HiddenTokenStream, except that is is less flexible.  Your proposal
only deals with lexers though.  When parsing you routinely throw away tokens
such as ';' and ','.  They don't get into the tree.  And do you want to
attach comments to the preceding statement (like ones at the end of a line)
or the following statement (like javadoc)?  Both is the answer.  Have you
read the paper linked to recently on this list?  There are various semantic
issues related to comment handling that are detailed in there.
http://research.sun.com/projects/jackpot/COM.sun.mlvdv.doc.scam_nov01.abs.ht
ml

Monty

-----Original Message-----
From: atripp54321 [mailto:atripp@comcast.net] 
Sent: Thursday, July 17, 2003 10:37 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Enhance ANTLR to support comments?


I'd like to propose enhancing ANTLR to explicitly
support comments.

The proposal is here: http://jazillian.com/antlr/antlrComments.html

I realize that theoretically, a "compiler-compiler"
shouldn't deal with comments. But it just seems like it's
a big enough real-world issue (witness the countless
"How do I handle comments" posts) that it should be dealt with.

It seems like a couple of small changes to ANTLR could
be made to have ANTLR-generated lexers attach comments to Tokens, without
breaking any existing ANTLR-based apps.

Let me know what you think of the idea, even if you think "Blasphemy!"

Andy


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From braden at endoframe.com  Thu Jul 17 13:46:09 2003
From: braden at endoframe.com (Braden McDaniel)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] ANTLR 3 License
In-Reply-To: <20030717201112.6882.qmail@web20419.mail.yahoo.com>
References: <20030717201112.6882.qmail@web20419.mail.yahoo.com>
Message-ID: <1058474769.65eb1736b09ac@webmail.spamcop.net>

Quoting Matt Benson <gudnabrsam@yahoo.com>:

> Wow.  That was rough.  Personally, I'm not the least
> bit ashamed to admit having difficulty in
> understanding the dizzying wording of the various
> open-source licenses.

That reflects the unfortunate fact that, "I'm a techie; I shouldn't be 
expected to understand a legal document," has become an accepted means of 
evading the chore of dealing with and understanding the issues of policy that 
are an inevitable consequence of writing code. In general, such documents are 
written to be understandable and unambiguous--with the unfortunate side effect 
of making them verbose and tedious to read.

As a matter of fact, there are plenty of software engineers working at 
software companies who routinely and confidently use and depend on LGPL 
software. Assertions to the contrary exhibit ignorance.

I am not trying to promote the LGPL for use with a future version of ANTLR. In 
fact, as long as my ability to continue to use ANTLR output with my LGPL 
software is not threatened--and I do not anticipate that it will be--I have no 
opinion on the matter. However, just about every message posted decrying the 
potential application of the LGPL to ANTLR has included varying amounts of 
inaccuracy, much of which has obviously been FUD repeated n-hand. As someone 
who develops LGPL software, I may be inclined to respond harshly to gross 
inaccuracies resulting from what I perceive as in-your-face intellectual 
laziness.

-- 
Braden McDaniel                           e-mail: <braden@endoframe.com>
<http://endoframe.com>                    Jabber: <braden@jabber.org>

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Thu Jul 17 14:06:16 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] updated news item about the 2003 ANTLR cabal
Message-ID: <81257795-B89A-11D7-8B17-000A95891192@cs.usfca.edu>

Folks,

Cabal "spawn" (notes etc...) available at:

http://www.antlr.org/workshop/cabal-2003/index.html

warning for the faint of heart: pictures included. ;)

Terence
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com pure link sharing




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From ngormley at hotmail.com  Thu Jul 17 14:06:11 2003
From: ngormley at hotmail.com (Niall Gormley (Hotmail))
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] ANTLR 3 License
References: <sf16aa65.080@prv-mail20.provo.novell.com>
Message-ID: <BAY1-DAV24PQKL5zLw40000500b@hotmail.com>

Ter,

BSD is well tested, lots of companies redistribute BSD derived binaries.

I would also say it would be the easiest to get approval through corporate
legal teams, and thus gets my vote, with my company hat on.

Once you mention (L)GPL it makes it more difficult, and even offputting for
commercial use, but I do think they have a certain value.

As for ANTLR 3 being generated by ANTLR, I'm my opinion this is a good sign
of the maturity of this type of product.

Looking forward to contributing.....

Thanks,
Niall







 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From gudnabrsam at yahoo.com  Thu Jul 17 14:05:49 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] ANTLR 3 License
In-Reply-To: <1058474769.65eb1736b09ac@webmail.spamcop.net>
Message-ID: <20030717210549.23743.qmail@web20413.mail.yahoo.com>

I have personally made no arguments either for or
against LGPL and I use and contribute to software
under this license, complying with its terms to my
best ability based on my understanding of them.  I
will also make no attempt to contradict your assertion
that I am (like others, I'm sure) too lazy to wade
through the "reams of electrons" that constitute these
open-source licenses, preferring to adhere to the
distilled "bottom line" accepted by the community at
large and shared by those with more patience.  I use
open-source software as much as possible (for damned
near everything I suppose); however I limit the ways
in which I use an open-source package to the aspects
of its license I think I understand.  Rest assured
that when an issue arises for which I need a thorough
understanding of "X" license, I will invest the
appropriate neurons.  In the meantime, I feel like my
approach is not as reckless as it could be and I will
not lose sleep over your (fairly on-target)
accusations because my comfort is worth more to me
than your approval, ya know?

-Matt

--- Braden McDaniel <braden@endoframe.com> wrote:
> Quoting Matt Benson <gudnabrsam@yahoo.com>:
> 
> > Wow.  That was rough.  Personally, I'm not the
> least
> > bit ashamed to admit having difficulty in
> > understanding the dizzying wording of the various
> > open-source licenses.
> 
> That reflects the unfortunate fact that, "I'm a
> techie; I shouldn't be 
> expected to understand a legal document," has become
> an accepted means of 
> evading the chore of dealing with and understanding
> the issues of policy that 
> are an inevitable consequence of writing code. In
> general, such documents are 
> written to be understandable and unambiguous--with
> the unfortunate side effect 
> of making them verbose and tedious to read.
> 
> As a matter of fact, there are plenty of software
> engineers working at 
> software companies who routinely and confidently use
> and depend on LGPL 
> software. Assertions to the contrary exhibit
> ignorance.
> 
> I am not trying to promote the LGPL for use with a
> future version of ANTLR. In 
> fact, as long as my ability to continue to use ANTLR
> output with my LGPL 
> software is not threatened--and I do not anticipate
> that it will be--I have no 
> opinion on the matter. However, just about every
> message posted decrying the 
> potential application of the LGPL to ANTLR has
> included varying amounts of 
> inaccuracy, much of which has obviously been FUD
> repeated n-hand. As someone 
> who develops LGPL software, I may be inclined to
> respond harshly to gross 
> inaccuracies resulting from what I perceive as
> in-your-face intellectual 
> laziness.
> 
> -- 
> Braden McDaniel                           e-mail:
> <braden@endoframe.com>
> <http://endoframe.com>                    Jabber:
<braden@jabber.org>


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From braden at endoframe.com  Thu Jul 17 20:19:07 2003
From: braden at endoframe.com (Braden McDaniel)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] ANTLR 3 License
In-Reply-To: <1058468600.82dba8028a293@webmail.spamcop.net>
References: <Pine.LNX.3.96.1030717143111.23491A-100000@exeter.exeter.org>
	 <1058468600.82dba8028a293@webmail.spamcop.net>
Message-ID: <1058498346.28092.7.camel@catalyst>

On Thu, 2003-07-17 at 15:03, Braden McDaniel wrote:

[snip]

> I simply do not see how Clause 6 can be read to support the conclusion that 
> you and Andrew Oliver have reached. However, I'll contact licenses@gnu.org for 
> clarification. Thanks for the reference, and I'll post the conclusion to antlr-
> interest.

Here's my response from David Turner:

        On Thu, 2003-07-17 at 15:14, braden@endoframe.com via RT wrote:
        
        > In support of the assertion that Java code that depends on LGPL-licensed Java 
        > code via "import" (in, e.g., a JAR archive) must also be licensed using the 
        > LGPL, I was recently referred to this message:
        > 
        >   <http://article.gmane.org/gmane.comp.jakarta.poi.devel/5900>
        > 
        > I do not agree with that assertion--my reading of Clause 6 of the LGPL does 
        > not support it--and I am inclined to think that you have been misinterpreted. 
        > Could you please clarify this? If I am in fact incorrect, I would appreciate 
        > an articulation of how Clause 6 supports the aforementioned assertion.
        
        You are correct that this is a misreading of Section 6.  

Terse; but understandably so, given that a this man was probably quite
tired of the hubbub Andrew Oliver's erroneous reading caused. For more
info, see Slashdot. :-/

-- 
Braden McDaniel                           e-mail: <braden@endoframe.com>
<http://endoframe.com>                    Jabber: <braden@jabber.org>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From Anthony.Youngman at ECA-International.com  Fri Jul 18 00:17:10 2003
From: Anthony.Youngman at ECA-International.com (Anthony W Youngman)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] ANTLR 3 License
Message-ID: <C7FE35004D40FD45AA342991B88CE40409A44C@lnml1.eca-international.local>

The intent is extremely clear.

And if you have difficulty understanding the Open Source licences, I
would conclude that you haven't read any MS EULAs :-)

Also, Open Source licence violations are almost always settled amicably.
I can think of only one court case - MySQL/NuSphere - and I gather
NuSphere caved in once their lawyers realised they were in blatant
breach of both the letter and spirit of the licence. But note I said
*blatant* breach of the *spirit* of the licence.

I know I started this - if I started a flame war then sorry. But I have
a strong preference for the LGPL. (I don't particularly like the GPL.)
But the standard Open Source rule is "he who writes the code makes the
rules". Having been involved (with a personal interest) in another "what
licence should we use" battle, I'm well aware of the issues involved...

Cheers,
Wol

-----Original Message-----
From: Matt Benson [mailto:gudnabrsam@yahoo.com] 
Sent: 17 July 2003 21:11
To: antlr-interest@yahoogroups.com
Subject: RE: [antlr-interest] ANTLR 3 License


Wow.  That was rough.  Personally, I'm not the least
bit ashamed to admit having difficulty in
understanding the dizzying wording of the various
open-source licenses.

-Matt

--- Braden McDaniel <braden@endoframe.com> wrote:
> Quoting Joe Comuzzi <jcomuzzi@novell.com>:
> 
> > At the risk of adding to the flame war - I have to
> say that the
> > discussion below proves why no software engineer
> working for a software
> > company wants to go near the LGPL It means you get
> to spend time in
> > meetings in the company of lawyers.
> 
> Or be reasonably confident in one's own literacy.
> 
> -- 
> Braden McDaniel                           e-mail:
> <braden@endoframe.com>
> <http://endoframe.com>                    Jabber:
> <braden@jabber.org>
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 9911 7799, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

From wiggjd at sbu.ac.uk  Fri Jul 18 04:52:24 2003
From: wiggjd at sbu.ac.uk (David Wigg)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Re: Enhance ANTLR support for comments?
Message-ID: <3F17DF78.2010806@sbu.ac.uk>

I would like to support this suggestion strongly.

When I was saving comments I "overloaded?" the consume function 
which enabled me to interleave the comments again using line 
numbers (and that's another thing which should be in standard 
ANTLR, Line and Column numbers!). It was horrendous and I don't 
think it ever worked perfectly!

At the time I tried working out a system of giving comments a 
special type number (as Andy suggests) which the parser would 
know to ignore (such as zero) but provide a feature (in 
consume?) which would enable us to pick up the comments after 
parsing in the correct sequence (I don't think it would matter 
whether multi-line or end-of-line if they were in sequence) but 
I gave up because I didn't have the time to understand all the 
antlr support code.

I agree that saying you can do all these things by using this or 
that technique is quite unhelpful. We are not all steeped in 
understanding how ANTLR works, we use a car but we don't have to 
know how it works, and we are not all programming geniuses 
anyway (as much as we'd like to think we were pretty good at it!).

David
Research Fellow
Centre for Systems and Software Engineering
South Bank University
London, UK.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From gudnabrsam at yahoo.com  Fri Jul 18 07:44:12 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] ANTLR 3 License
In-Reply-To: <1058498346.28092.7.camel@catalyst>
Message-ID: <20030718144412.63504.qmail@web20422.mail.yahoo.com>

Okay, just because the conversation got interesting, I
took it upon myself to read section six and some of
the text immediately preceding that section.  Meaning
no disrespect, it seems to me that (assuming he was
correctly quoted in the POI development forum) Dave
Turner's responses there and below are contradictory. 
My interpretation of the answer

"DT:  This sort of linking falls under section 6 of
the LGPL."

is:  "Java code that depends on LGPL Java classes via
import statements and/or fully-qualified class names
must fulfill the terms of section 6 of the LGPL to
remain in compliance."

  This is in direct opposition to Braden's
interpretation, which has received DT's blessings this
week.

  If indeed these disputes are usually settled
amicably, I guess all anyone can do is do the best he
can to the best of his knowledge and/or ability, and
cooperate cheerfully to ameliorate any abuses of which
he may find himself guilty.

!

--- Braden McDaniel <braden@endoframe.com> wrote:
> On Thu, 2003-07-17 at 15:03, Braden McDaniel wrote:
> 
> [snip]
> 
> > I simply do not see how Clause 6 can be read to
> support the conclusion that 
> > you and Andrew Oliver have reached. However, I'll
> contact licenses@gnu.org for 
> > clarification. Thanks for the reference, and I'll
> post the conclusion to antlr-
> > interest.
> 
> Here's my response from David Turner:
> 
>         On Thu, 2003-07-17 at 15:14,
> braden@endoframe.com via RT wrote:
>         
>         > In support of the assertion that Java code
> that depends on LGPL-licensed Java 
>         > code via "import" (in, e.g., a JAR
> archive) must also be licensed using the 
>         > LGPL, I was recently referred to this
> message:
>         > 
>         >  
>
<http://article.gmane.org/gmane.comp.jakarta.poi.devel/5900>
>         > 
>         > I do not agree with that assertion--my
> reading of Clause 6 of the LGPL does 
>         > not support it--and I am inclined to think
> that you have been misinterpreted. 
>         > Could you please clarify this? If I am in
> fact incorrect, I would appreciate 
>         > an articulation of how Clause 6 supports
> the aforementioned assertion.
>         
>         You are correct that this is a misreading of
> Section 6.  
> 
> Terse; but understandably so, given that a this man
> was probably quite
> tired of the hubbub Andrew Oliver's erroneous
> reading caused. For more
> info, see Slashdot. :-/
> 
> -- 
> Braden McDaniel                           e-mail:
> <braden@endoframe.com>
> <http://endoframe.com>                    Jabber:
> <braden@jabber.org>
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From wiggjd at sbu.ac.uk  Fri Jul 18 08:26:09 2003
From: wiggjd at sbu.ac.uk (David Wigg)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Support.cpp in C++ version  of ANTLR
Message-ID: <3F181191.4010400@sbu.ac.uk>

This is to do with *this which seems to be a special case.

I have seen,

"return *this;"  (my grammar accepts this as a statement)

and

"const sentry _Ok(*this);"  (my grammar refuses this as a 
parameter_declaration because it doesn't satisfy the test for 
qiPtrMember)

which I assume to be a function declaration

Would it be correct to modify qualifiedItemIs(int) in 
support.cpp to treat *this as a qiPtrMember?

At the moment it doesn't allow STAR ID unless a type has been 
seen already.

Thanks.

David.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Fri Jul 18 10:04:49 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] License last word ;)
Message-ID: <F0CF1A3C-B941-11D7-AD60-000A95891192@cs.usfca.edu>

Howdy folks,

Very interesting discussion and I appreciate the people who spent the 
time to dig into the licenses.  My preference is actually "public 
domain" (as in no restrictions of any kind), but because people could 
sue me for putting out crappy (or good; doesn't matter) software, I 
need some indemnity clause.  Further, w/o that clause Loring Craymer at 
NASA and probably others are not able to contribute.

I also like BSD because it seems to be the "shortest to read" ;)  If 
you have to explain the rules, then people tend to freak.  yes, 
somebody could take the software and "steal" it but given it's 
complexity and the fact that I'm obviously willing to support it (14 
years now), there would be little point.

Oddly enough, even with the "public domain" status of my current 
license I still have to sign formal paper-based letters for big 
companies saying they can use the stuff for free.  Cracks me up.

Anyway, assume BSD license.

Best regards,
Terence
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com pure link sharing
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1247 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20030718/f2e35d7f/attachment.bin
From parrt at cs.usfca.edu  Fri Jul 18 10:18:26 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] upper, lower case for tokens, rule names
Message-ID: <D793D90B-B943-11D7-AD60-000A95891192@cs.usfca.edu>

Does anyone have an opinion on the whole "rule names start with lower 
case letter" and tokens start with upper case concept borrowed from 
yacc in the old days?

It's pretty easy to do two passes over the grammar to find all rule 
definitions and then walk the actual rules where you'd know that "x" is 
a rule if it's defined as a rule and a token if not defined.  Of course 
that makes it easy make lots of mistakes: undefined rule becomes a 
token definition etc...

Just a thought that occurred to me that we might do away with this 
"old" notion for a future version of the tool.

Terence
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com pure link sharing




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rodrigobamboo at hotmail.com  Fri Jul 18 10:47:16 2003
From: rodrigobamboo at hotmail.com (Rodrigo B. de Oliveira)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] upper, lower case for tokens, rule names
References: <D793D90B-B943-11D7-AD60-000A95891192@cs.usfca.edu>
Message-ID: <Sea1-DAV21aFgeVtdEi0000f35d@hotmail.com>

From: "Terence Parr" <parrt@cs.usfca.edu>
> Does anyone have an opinion on the whole "rule names start with lower
> case letter" and tokens start with upper case concept borrowed from
> yacc in the old days?
>

I don't like it since rule names become method names and then the class
might end up with a lot of public methods that don't necessarily fit the
particular coding convention one might be using. I know that's the case for
my parser.

This particular issue could be solved in a different way, perhaps?

>
> Just a thought that occurred to me that we might do away with this
> "old" notion for a future version of the tool.
>

I say "go for it!" :-) Terence
> --
> Professor Comp. Sci., University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Co-founder, http://www.jguru.com
> Co-founder, http://www.knowspam.net enjoy email again!
> Co-founder, http://www.peerscope.com pure link sharing
>
>
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>
>

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Fri Jul 18 10:40:26 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] upper, lower case for tokens, rule names
Message-ID: <72C9789739C4214096AE945753B11EA32A5E77@mypxmail04.bco-home.com>

It is nice to be able to distinguish tokens from rule names visually, mainly
because tree operators function differently on tokens vs rules.  As long as
a syntax highlighter could figure it out pretty easily then it's ok with me.

Monty

-----Original Message-----
From: Terence Parr [mailto:parrt@cs.usfca.edu] 
Sent: Friday, July 18, 2003 10:18 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] upper, lower case for tokens, rule names


Does anyone have an opinion on the whole "rule names start with lower 
case letter" and tokens start with upper case concept borrowed from 
yacc in the old days?

It's pretty easy to do two passes over the grammar to find all rule 
definitions and then walk the actual rules where you'd know that "x" is 
a rule if it's defined as a rule and a token if not defined.  Of course 
that makes it easy make lots of mistakes: undefined rule becomes a 
token definition etc...

Just a thought that occurred to me that we might do away with this 
"old" notion for a future version of the tool.

Terence
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org Co-founder,
http://www.jguru.com Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com pure link sharing




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From braden at endoframe.com  Fri Jul 18 10:40:25 2003
From: braden at endoframe.com (Braden McDaniel)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] ANTLR 3 License
In-Reply-To: <20030718144412.63504.qmail@web20422.mail.yahoo.com>
References: <20030718144412.63504.qmail@web20422.mail.yahoo.com>
Message-ID: <1058550025.d3e405bba87d5@webmail.spamcop.net>

Quoting Matt Benson <gudnabrsam@yahoo.com>:

> Okay, just because the conversation got interesting, I
> took it upon myself to read section six and some of
> the text immediately preceding that section.  Meaning
> no disrespect, it seems to me that (assuming he was
> correctly quoted in the POI development forum) Dave
> Turner's responses there and below are contradictory.
> My interpretation of the answer
> 
> "DT:  This sort of linking falls under section 6 of
> the LGPL."
> 
> is:  "Java code that depends on LGPL Java classes via
> import statements and/or fully-qualified class names
> must fulfill the terms of section 6 of the LGPL to
> remain in compliance."
> 
>   This is in direct opposition to Braden's
> interpretation, which has received DT's blessings this
> week.

In fact, it is not.

The point of contention was not whether Clause 6 applies. It was an issue of 
what Clause 6 requires.

-- 
Braden McDaniel                           e-mail: <braden@endoframe.com>
<http://endoframe.com>                    Jabber: <braden@jabber.org>

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Fri Jul 18 11:10:55 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] upper, lower case for tokens, rule names
In-Reply-To: <72C9789739C4214096AE945753B11EA32A5E77@mypxmail04.bco-home.com>
Message-ID: <2CD464F6-B94B-11D7-AD60-000A95891192@cs.usfca.edu>


On Friday, July 18, 2003, at 10:40 AM, mzukowski@yci.com wrote:

> It is nice to be able to distinguish tokens from rule names visually, 
> mainly
> because tree operators function differently on tokens vs rules.  As 
> long as
> a syntax highlighter could figure it out pretty easily then it's ok 
> with me.

True.  Also, some people I know use a special char to indicate instance 
variable etc...  perhaps some people would choose a special char or 
other pattern for token names like tkIdentifier, tkDecl, etc...  or 
rProgram, rExpr, rAtom.

Terence
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com pure link sharing




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From lgc at mail1.jpl.nasa.gov  Fri Jul 18 11:29:12 2003
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] Re: upper, lower case for tokens, rule names
In-Reply-To: <2CD464F6-B94B-11D7-AD60-000A95891192@cs.usfca.edu>
Message-ID: <bf9e9o+aqif@eGroups.com>

Ter--

I wrote this once, had yahoo throw me into the ether.  I prefer the 
current approach, not only for visual effect (which is pretty 
important--highlighting is not an option for black-and-white text) but 
for catching rules moved from one type of grammar (lexer, parser, tree 
walker) to another.  In the current scheme, moving a lexer rule is a 
clear error as is moving a parser/treewalker rule into a lexer.  
Parser and treewalker rules are handled by indeterminacy warnings when 
moving parser rule to treewalker, and by finding an unexpected "#(" in 
a parser grammar.  [I point out that it is occasionally correct to 
move rules and edit them to fit--that's a "feature" of being able to 
parse in the lexer.]

I expect that the current distinction is also a help in a classroom 
situation--it does clearly distinguish tokens from parser rule 
references, and that has to help those unfamiliar with language 
translation concepts.

--Loring


--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> 
wrote:
> 
> On Friday, July 18, 2003, at 10:40 AM, mzukowski@y... wrote:
> 
> > It is nice to be able to distinguish tokens from rule names 
visually, 
> > mainly
> > because tree operators function differently on tokens vs rules.  
As 
> > long as
> > a syntax highlighter could figure it out pretty easily then it's 
ok 
> > with me.
> 
> True.  Also, some people I know use a special char to indicate 
instance 
> variable etc...  perhaps some people would choose a special char or 
> other pattern for token names like tkIdentifier, tkDecl, etc...  or 
> rProgram, rExpr, rAtom.
> 
> Terence
> --
> Professor Comp. Sci., University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Co-founder, http://www.jguru.com
> Co-founder, http://www.knowspam.net enjoy email again!
> Co-founder, http://www.peerscope.com pure link sharing


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Fri Jul 18 11:45:10 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] upper, lower case for tokens, rule names
In-Reply-To: <D793D90B-B943-11D7-AD60-000A95891192@cs.usfca.edu>; from parrt@cs.usfca.edu on Fri, Jul 18, 2003 at 10:18:26AM -0700
References: <D793D90B-B943-11D7-AD60-000A95891192@cs.usfca.edu>
Message-ID: <20030718204508.A24495@cs.utwente.nl>

On Fri, Jul 18, 2003 at 10:18:26AM -0700, Terence Parr wrote:
> Does anyone have an opinion on the whole "rule names start with lower 
> case letter" and tokens start with upper case concept borrowed from 
> yacc in the old days?

Could live with it could live without it. Personally I'd prolly still
upcase the tokens and lowcase the rules. Some enforcement of uniformity is
not bad either. It's nice to know when you get a grammer dumped in front of
you that it follows the same conventions as one is used to.

> It's pretty easy to do two passes over the grammar to find all rule 
> definitions and then walk the actual rules where you'd know that "x" is 
> a rule if it's defined as a rule and a token if not defined.  Of course 
> that makes it easy make lots of mistakes: undefined rule becomes a 
> token definition etc...

Don't know I'd rather declare any tokens in a tokens section anyway and do
away with the BASIC-ish declare on the spot strategy that induces often
mistakes through typos.

Anyway I can live with either.

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     Innovation makes enemies of all those who prospered under the old
   regime, and only lukewarm support is forthcoming from those who would
               prosper under the new. --- Niccol Machiavelli


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From gudnabrsam at yahoo.com  Fri Jul 18 12:10:06 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] ANTLR 3 License
In-Reply-To: <1058550025.d3e405bba87d5@webmail.spamcop.net>
Message-ID: <20030718191006.70303.qmail@web20415.mail.yahoo.com>

Advance apologies for beating this dead horse...

This discussion is the reason I have dreaded the day I
would have to try and make sense of an open-source
license (on that note, BSD does read like Dick and
Jane).  But the day has come, and I might as well face
it like a man, so here goes:

I am still not resolved to this explanation.  In one
of your earlier messages you quoted the first
paragraph of LGPL Section 6 and went on to say that,
with regard to a hypothetical "work that uses the
Library", where "Library" is understood to mean one
licensed under the terms of the LGPL, requirement 6a
must be met if our hypothetical "work" includes a
distribution of the "Library," whereas requirement 6b
should be met otherwise.  But let's jump back a
moment.  Here's that first paragraph yet again:


As an exception to the Sections above, you may also
combine or link a "work that uses the Library" with
the Library to produce a work containing portions of
the Library, and distribute that work under terms of
your choice, provided that the terms permit
modification of the work for the customer's own use
and reverse engineering for debugging such
modifications.


What did that say?  That "the terms of your choice"
must "permit modification of the work" "and reverse
engineering"?  This seems to clearly require the
customer to be given the right to modify not only the
"Library" (already covered in the LGPL), but of the
"work" (again, short for "work that uses the Library")
as well.

Am I out of my mind?  Shall I forego all confidence in
my own literacy, to paraphrase you?


-Matt

--- Braden McDaniel <braden@endoframe.com> wrote:
> Quoting Matt Benson <gudnabrsam@yahoo.com>:
> 
> > Okay, just because the conversation got
> interesting, I
> > took it upon myself to read section six and some
> of
> > the text immediately preceding that section. 
> Meaning
> > no disrespect, it seems to me that (assuming he
> was
> > correctly quoted in the POI development forum)
> Dave
> > Turner's responses there and below are
> contradictory.
> > My interpretation of the answer
> > 
> > "DT:  This sort of linking falls under section 6
> of
> > the LGPL."
> > 
> > is:  "Java code that depends on LGPL Java classes
> via
> > import statements and/or fully-qualified class
> names
> > must fulfill the terms of section 6 of the LGPL to
> > remain in compliance."
> > 
> >   This is in direct opposition to Braden's
> > interpretation, which has received DT's blessings
> this
> > week.
> 
> In fact, it is not.
> 
> The point of contention was not whether Clause 6
> applies. It was an issue of 
> what Clause 6 requires.
> 
> -- 
> Braden McDaniel                           e-mail:
> <braden@endoframe.com>
> <http://endoframe.com>                    Jabber:
> <braden@jabber.org>
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From prathibaa_m at kongu.ac.in  Fri Jul 18 12:54:34 2003
From: prathibaa_m at kongu.ac.in (Prathibaa.M)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] how to install antlr.........
In-Reply-To: <F0CF1A3C-B941-11D7-AD60-000A95891192@cs.usfca.edu>
References: <F0CF1A3C-B941-11D7-AD60-000A95891192@cs.usfca.edu>
Message-ID: <20030718194959.M25704@kongu.ac.in>

hai,

?? I am new to this Antlr group...I have downloaded ANTLR..But i don't know how to install it..& work with ANTLR...From the manual,I came to know that to change Environmental? path variable...but i don't know how to change that one...I am having JDK1.3 installed in my system...Tell me in detail how to install and work...

with interest, 
prathibaa.m

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030719/3b4d1b58/attachment.html
From braden at endoframe.com  Fri Jul 18 12:47:52 2003
From: braden at endoframe.com (Braden McDaniel)
Date: Mon Dec 20 16:15:49 2004
Subject: [antlr-interest] ANTLR 3 License
In-Reply-To: <20030718191006.70303.qmail@web20415.mail.yahoo.com>
References: <20030718191006.70303.qmail@web20415.mail.yahoo.com>
Message-ID: <1058557672.51760f6ba4dcf@webmail.spamcop.net>

Quoting Matt Benson <gudnabrsam@yahoo.com>:

[snip]

> What did that say?  That "the terms of your choice"
> must "permit modification of the work" "and reverse
> engineering"?  This seems to clearly require the
> customer to be given the right to modify not only the
> "Library" (already covered in the LGPL), but of the
> "work" (again, short for "work that uses the Library")
> as well.
> 
> Am I out of my mind?  Shall I forego all confidence in
> my own literacy, to paraphrase you?

No, you're not out of your mind. That's the exact clause that the Apache folks 
have a (real) problem with. The LGPL *is* imposing some restriction (albeit a 
relatively loose one) on distribution of a work that uses LGPL code. What it's 
*not* doing is requiring that the combined work be covered by the LGPL (or 
even that the source be made available), and that was the claim I originally 
disputed.

Oddly, Brad Kuhn's comment to Slashdot is at odds with this: "LGPL's S. 6 
allows you to make new works that link with the LGPL'ed code, and license them 
any way you see fit." In spite of his authority, I would have conclude that 
Mr. Kuhn's statement is not wholly accurate.

-- 
Braden McDaniel                           e-mail: <braden@endoframe.com>
<http://endoframe.com>                    Jabber: <braden@jabber.org>

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From open.zone at virgin.net  Fri Jul 18 13:12:11 2003
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: upper, lower case for tokens, rule names
In-Reply-To: <bf9e9o+aqif@eGroups.com>
Message-ID: <bf9kar+3m8a@eGroups.com>

> Ter--
> 
> I prefer the 
> current approach, not only for visual effect (which is pretty 
> important--highlighting is not an option for black-and-white text) 
but 
> for catching rules moved from one type of grammar (lexer, parser, 
tree 
> walker) to another.

I also think the present UpperCase or lowerCase case distinction 
should be preserved. 

It is simple and non-intrusive, it prevents accidental 
copying/pasting of rules from lexer to parser/treewalker (as Loring 
pointed out) and, the issue about method naming in the generated 
parsers can be resolved with a rulename-to-methodname transformation 
in ANTLR 3.

Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From braden at endoframe.com  Fri Jul 18 13:26:57 2003
From: braden at endoframe.com (Braden McDaniel)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] ANTLR 3 License
In-Reply-To: <20030718200514.98815.qmail@web20420.mail.yahoo.com>
References: <20030718200514.98815.qmail@web20420.mail.yahoo.com>
Message-ID: <1058560017.5b07bdf8b6f4a@webmail.spamcop.net>

Quoting Matt Benson <gudnabrsam@yahoo.com>:

> Basically, then, at the risk of repeating myself, I
> read that as "LGPL necessitates that dependent Java
> code be available under some open-source-spirited
> license."

Incorrect; and I quite explicitly said otherwise in my previous posting.

Exactly what part of the LGPL is leading you to this conclusion?

-- 
Braden McDaniel                           e-mail: <braden@endoframe.com>
<http://endoframe.com>                    Jabber: <braden@jabber.org>

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From braden at endoframe.com  Fri Jul 18 13:26:57 2003
From: braden at endoframe.com (Braden McDaniel)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] ANTLR 3 License
In-Reply-To: <20030718200514.98815.qmail@web20420.mail.yahoo.com>
References: <20030718200514.98815.qmail@web20420.mail.yahoo.com>
Message-ID: <1058560017.5b07bdf8b6f4a@webmail.spamcop.net>

Quoting Matt Benson <gudnabrsam@yahoo.com>:

> Basically, then, at the risk of repeating myself, I
> read that as "LGPL necessitates that dependent Java
> code be available under some open-source-spirited
> license."

Incorrect; and I quite explicitly said otherwise in my previous posting.

Exactly what part of the LGPL is leading you to this conclusion?

-- 
Braden McDaniel                           e-mail: <braden@endoframe.com>
<http://endoframe.com>                    Jabber: <braden@jabber.org>

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From open.zone at virgin.net  Fri Jul 18 13:27:49 2003
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: Enhance ANTLR support for comments?
In-Reply-To: <3F17DF78.2010806@sbu.ac.uk>
Message-ID: <bf9l85+uqm6@eGroups.com>

Hi David,

> I would like to support this suggestion strongly.

I suspect the comments-handling suggestion probably translates into a 
requirement for more docs and clarity on the HiddenTokenStream 
mechanism. It already exists in ANTLR and supports quite flexible 
handling of out-of-band data (such as comments and whitespace) 
present in a TokenStream.

> When I was saving comments I "overloaded?" the consume function 
> which enabled me to interleave the comments again using line 
> numbers (and that's another thing which should be in standard 
> ANTLR, Line and Column numbers!). It was horrendous and I don't 
> think it ever worked perfectly!

For ANTLR 3, I would actually like even better support than that for 
token locations. At the least it should be:
- source (e.g. filename, URL etc)
- start line & column
- end line & column

One complicating issue is that depending on the constraints of 
execution environment, I might want a compact or even more compact 
representation of these. For instance, I might want to shoehorn both 
the line and column numbers into a single 32-bit integer (16:16 or 
24:8 split) or leave them as two separate integers.

Not sure how ANTLR 3 can support such scenarios easily.

Cheers,

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From gudnabrsam at yahoo.com  Fri Jul 18 13:33:00 2003
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] ANTLR 3 License
In-Reply-To: <1058560017.5b07bdf8b6f4a@webmail.spamcop.net>
Message-ID: <20030718203300.36617.qmail@web20422.mail.yahoo.com>

ARGH! :)

from Section 6:

you may also combine or link a "work that uses the
Library" with the Library to produce a work containing
portions of the Library, and distribute that work
under terms of your choice, provided that the terms
permit modification of the work for the customer's own
use and reverse engineering for debugging such
modifications.


"the terms permit modification of the work for the
customer's own use and reverse engineering", "the
work" being "a 'work that uses the Library'."


If I write a "work that uses the Library" under the
LGPL, this says that I can license MY work under the
terms of my choice PROVIDED that those terms permit
modification.  Where is the communication gap here?

-Matt

--- Braden McDaniel <braden@endoframe.com> wrote:
> Quoting Matt Benson <gudnabrsam@yahoo.com>:
> 
> > Basically, then, at the risk of repeating myself,
> I
> > read that as "LGPL necessitates that dependent
> Java
> > code be available under some open-source-spirited
> > license."
> 
> Incorrect; and I quite explicitly said otherwise in
> my previous posting.
> 
> Exactly what part of the LGPL is leading you to this
> conclusion?
> 
> -- 
> Braden McDaniel                           e-mail:
> <braden@endoframe.com>
> <http://endoframe.com>                    Jabber:
> <braden@jabber.org>
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From braden at endoframe.com  Fri Jul 18 13:40:44 2003
From: braden at endoframe.com (Braden McDaniel)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] ANTLR 3 License
In-Reply-To: <20030718203300.36617.qmail@web20422.mail.yahoo.com>
References: <20030718203300.36617.qmail@web20422.mail.yahoo.com>
Message-ID: <1058560844.bd9090f649b55@webmail.spamcop.net>

Quoting Matt Benson <gudnabrsam@yahoo.com>:

[snip]

> If I write a "work that uses the Library" under the
> LGPL, this says that I can license MY work under the
> terms of my choice PROVIDED that those terms permit
> modification.  Where is the communication gap here?

I can only guess you are inferring "open source" from "permit modification", 
which is a non sequitur I cannot account for.

-- 
Braden McDaniel                           e-mail: <braden@endoframe.com>
<http://endoframe.com>                    Jabber: <braden@jabber.org>

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From open.zone at virgin.net  Fri Jul 18 13:43:11 2003
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: updated news item about the 2003 ANTLR cabal
In-Reply-To: <81257795-B89A-11D7-8B17-000A95891192@cs.usfca.edu>
Message-ID: <bf9m4v+m38v@eGroups.com>

> Folks,
> 
> Cabal "spawn" (notes etc...) available at:
> 
> http://www.antlr.org/workshop/cabal-2003/index.html
> 
> warning for the faint of heart: pictures included. ;)

Not sure which doc this fits in at the moment but, I'd like to add 
support for dynamic lexer/parser/treeparser generation and 
instantiation to the melting pot.

This is to say, I would like to be able to have my running program 
invoke some ANTLR functionality that accepts a grammar string/file, 
processes it and generates a lexer/parser/treeparser that I can then 
use immediately. Of course any error in the grammar raises an 
exception...

Micheal.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Fri Jul 18 13:45:53 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: Enhance ANTLR support for comments?
In-Reply-To: <bf9l85+uqm6@eGroups.com>
Message-ID: <D29A98CD-B960-11D7-A9D4-000A95891192@cs.usfca.edu>


On Friday, July 18, 2003, at 01:27 PM, micheal_jor wrote:
> One complicating issue is that depending on the constraints of
> execution environment, I might want a compact or even more compact
> representation of these. For instance, I might want to shoehorn both
> the line and column numbers into a single 32-bit integer (16:16 or
> 24:8 split) or leave them as two separate integers.
>
> Not sure how ANTLR 3 can support such scenarios easily.

One of the thoughts we had in the cabal was that you would specify the 
token attributes in an ANTLR formalism and the code generator would be 
able to decide how to encode in the target language.  For example, you 
might do

token {
   // text and type predefined perhaps
   int start;
   int stop;
   String filename;
}

At NeXT I had to encode token type and line number into a 32 bit int, 
but in other cases it had to be an object.  The code generator could 
generate either depending on options and what attributes you had in 
there.

Just some thoughts we had.  We're thinking about language independence 
pretty heavily since I expect to make building a code generator for 
ANTLR pretty easy.  Lots of back ends will appear I hope.  I'm going to 
go so far as to have a text-based intermediate form (if wanted) so that 
you don't even have to build the code generator in ANTLR.  You could 
build the python code generator in python for example as it's just 
reading a text file with all the "hard parts" filled in :)

Terence
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com pure link sharing




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Fri Jul 18 13:47:33 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: updated news item about the 2003 ANTLR cabal
In-Reply-To: <bf9m4v+m38v@eGroups.com>
Message-ID: <0EA3D3D3-B961-11D7-A9D4-000A95891192@cs.usfca.edu>

Hi Michael,

Yes, we've been talking about this too.  The intermediate form that I 
talked about in my last post (just pushed send) could easily be 
interpreted.  In fact, I'm going to use that as a testing "hook point" 
for the analyzer and main engine as well as an interpreter support 
thing.

:)

Ter

On Friday, July 18, 2003, at 01:43 PM, micheal_jor wrote:

>> Folks,
>>
>> Cabal "spawn" (notes etc...) available at:
>>
>> http://www.antlr.org/workshop/cabal-2003/index.html
>>
>> warning for the faint of heart: pictures included. ;)
>
> Not sure which doc this fits in at the moment but, I'd like to add
> support for dynamic lexer/parser/treeparser generation and
> instantiation to the melting pot.
>
> This is to say, I would like to be able to have my running program
> invoke some ANTLR functionality that accepts a grammar string/file,
> processes it and generates a lexer/parser/treeparser that I can then
> use immediately. Of course any error in the grammar raises an
> exception...
>
> Micheal.
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com pure link sharing




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From Matthew.Ford at forward.com.au  Fri Jul 18 14:40:55 2003
From: Matthew.Ford at forward.com.au (Matthew Ford)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] ANTLR 3 License
References: <20030718203300.36617.qmail@web20422.mail.yahoo.com>
Message-ID: <001701c34d75$44cd3f40$0400a8c0@NOTEBOOK>

One way around this I have seen in Java MP3 decoders is to distribute the
jar files as seperate files.
Actually with Sun's SPI you don't even need an import in your code.
But even so putting an import in your code I don't think would invoke this
section as long as you did not "produce a work containing portions of the
Library", ie keep the jar files seperate.
Well thats my non-legal two bits worth.

----- Original Message -----
From: "Matt Benson" <gudnabrsam@yahoo.com>
To: <antlr-interest@yahoogroups.com>
Sent: Saturday, July 19, 2003 6:33 AM
Subject: RE: [antlr-interest] ANTLR 3 License


> ARGH! :)
>
> from Section 6:
>
> you may also combine or link a "work that uses the
> Library" with the Library to produce a work containing
> portions of the Library, and distribute that work
> under terms of your choice, provided that the terms
> permit modification of the work for the customer's own
> use and reverse engineering for debugging such
> modifications.
>
>
> "the terms permit modification of the work for the
> customer's own use and reverse engineering", "the
> work" being "a 'work that uses the Library'."
>
>
> If I write a "work that uses the Library" under the
> LGPL, this says that I can license MY work under the
> terms of my choice PROVIDED that those terms permit
> modification.  Where is the communication gap here?
>
> -Matt
>
> --- Braden McDaniel <braden@endoframe.com> wrote:
> > Quoting Matt Benson <gudnabrsam@yahoo.com>:
> >
> > > Basically, then, at the risk of repeating myself,
> > I
> > > read that as "LGPL necessitates that dependent
> > Java
> > > code be available under some open-source-spirited
> > > license."
> >
> > Incorrect; and I quite explicitly said otherwise in
> > my previous posting.
> >
> > Exactly what part of the LGPL is leading you to this
> > conclusion?
> >
> > --
> > Braden McDaniel                           e-mail:
> > <braden@endoframe.com>
> > <http://endoframe.com>                    Jabber:
> > <braden@jabber.org>
> >
> >
> >
> > Your use of Yahoo! Groups is subject to
> > http://docs.yahoo.com/info/terms/
> >
> >
>
>
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From Matthew.Ford at forward.com.au  Fri Jul 18 14:45:20 2003
From: Matthew.Ford at forward.com.au (Matthew Ford)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] how to install antlr.........
References: <F0CF1A3C-B941-11D7-AD60-000A95891192@cs.usfca.edu> <20030718194959.M25704@kongu.ac.in>
Message-ID: <002b01c34d75$e2936a10$0400a8c0@NOTEBOOK>

Hi Prathibaa,
If you would like to email me privately, (i.e. off-list) I will see if I can get you up and running.
Email me directly at  matthew.ford@forward.com.au
all the best
matthew
  ----- Original Message ----- 
  From: Prathibaa.M 
  To: antlr-interest@yahoogroups.com 
  Sent: Saturday, July 19, 2003 5:54 AM
  Subject: [antlr-interest] how to install antlr.........


  hai,

     I am new to this Antlr group...I have downloaded ANTLR..But i don't know how to install it..& work with ANTLR...From the manual,I came to know that to change Environmental  path variable...but i don't know how to change that one...I am having JDK1.3 installed in my system...Tell me in detail how to install and work... 


  with interest, 
  prathibaa.m 




  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030719/d2067db2/attachment.html
From paultaney at yahoo.com  Fri Jul 18 14:51:36 2003
From: paultaney at yahoo.com (paul taney)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] how to install antlr.........
In-Reply-To: <20030718194959.M25704@kongu.ac.in>
Message-ID: <20030718215136.58472.qmail@web80605.mail.yahoo.com>


--- "Prathibaa.M" <prathibaa_m@kongu.ac.in> wrote:
> hai,
> 
>    I am new to this Antlr group...I have downloaded
> ANTLR..But i don't know how to install it..& work
> with ANTLR...From the manual,I came to know that to
> change Environmental  path variable...but i don't
> know how to change that one...

Hi,

Try this tutorial and follow the links under 
Installation.

http://supportweb.cs.bham.ac.uk/documentation/tutorials/docsystem/build/tutorials/antlr/antlr.html#ANTLR-Installation


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Fri Jul 18 14:59:44 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] how to install antlr.........
In-Reply-To: <20030718215136.58472.qmail@web80605.mail.yahoo.com>
Message-ID: <23D892BE-B96B-11D7-A9D4-000A95891192@cs.usfca.edu>

I just added a link to this section of his doc in the getting started  
document :)

Ter

On Friday, July 18, 2003, at 02:51 PM, paul taney wrote:

>
> --- "Prathibaa.M" <prathibaa_m@kongu.ac.in> wrote:
>> hai,
>>
>>    I am new to this Antlr group...I have downloaded
>> ANTLR..But i don't know how to install it..& work
>> with ANTLR...From the manual,I came to know that to
>> change Environmental  path variable...but i don't
>> know how to change that one...
>
> Hi,
>
> Try this tutorial and follow the links under
> Installation.
>
> http://supportweb.cs.bham.ac.uk/documentation/tutorials/docsystem/ 
> build/tutorials/antlr/antlr.html#ANTLR-Installation
>
>
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com
>
>
>
> Your use of Yahoo! Groups is subject to  
> http://docs.yahoo.com/info/terms/
>
>
>
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com pure link sharing




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Fri Jul 18 16:02:13 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] ANTLR 3 License
In-Reply-To: <20030718224745.25098.qmail@web20421.mail.yahoo.com>
Message-ID: <DE6DB2F7-B973-11D7-A9D4-000A95891192@cs.usfca.edu>

Yeah...let's talk about something else :)

Ter

On Friday, July 18, 2003, at 03:47 PM, Matt Benson wrote:

> Regardless of a bunch of verbal hairsplitting the
> traditional way of writing most programs is with
> source code.  Thus the most sensible (or at least
> straightforward) means of modifying them is by
> modifying that same source code.  If this hardline
> interpretation of the wording is valid, great.  It
> just doesn't fill me with confidence.  Thanks for all
> your time.  Are you as sick of this subject as I am?
>
> -Matt
>
> --- Braden McDaniel <braden@endoframe.com> wrote:
>> Quoting Matt Benson <gudnabrsam@yahoo.com>:
>>
>>> Indeed I do infer open-source or the like from
>> "permit
>>> modification."  Other than reverse-engineering
>> and/or
>>> access to source code, what sensible means of
>>> modifying "work that uses the Library" would be
>> left
>>> to me as a customer?
>>
>> The most obvious (and potentially useful) route is
>> modification of the binary
>> with a hex editor. Modification could also be any of
>> various forms of
>> reconfiguration. Note that prohibition of
>> modification and reverse engineering
>> in a license may not be enforceable, as these acts
>> are not traditionally
>> protected by copyright. Nonetheless, I believe some
>> software licenses have
>> attempted to assert such terms.
>>
>> If the license *meant* "permit use and modification
>> of the work's source
>> code", that is what it would say. It does not.
>>
>> -- 
>> Braden McDaniel                           e-mail:
>> <braden@endoframe.com>
>> <http://endoframe.com>                    Jabber:
> <braden@jabber.org>
>
>
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com pure link sharing




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From aditsu at yahoo.com  Sat Jul 19 05:53:19 2003
From: aditsu at yahoo.com (Adrian Sandor)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: another nondeterminism question
In-Reply-To: <72C9789739C4214096AE945753B11EA32A5E62@mypxmail04.bco-home.com>
Message-ID: <bfbevv+g8oc@eGroups.com>

the problem is that the new syn preds make NO difference
I compared the generated lexers (java source code) and besides a
renamed counter variable, they're identical

my initial approach was something like this:

class l1 extends Lexer;
protected A: 'a' | ("bb")=>"bb" | 'b'{$setType(B);};
S: (A)+;

but it also fails because when the lexer matches a single 'b' inside
the S, it doesn't care that it has a different type and continues the loop

I'm wondering if antlr is simply unable to generate a lexer for this
"too complicated" language

Adrian

--- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> Ack.  Apparently we need a syn pred in the loop as well!  Try some
> variations of this and inspect the generated code to make sure it is
working
> correctly.  Ignore the warning about superfluous syn preds if one
comes up.
> 
> class l1 extends Lexer;
> S: ('a' | "bb")=>(('a')=>'a' | ("bb")=>"bb")+ | 'b' {$setType(B);};
> 
> Monty
> 
> -----Original Message-----
> From: Adrian Sandor [mailto:aditsu@y...] 
> Sent: Wednesday, July 16, 2003 10:14 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: another nondeterminism question
> 
> 
> 
> well, everything is ok... except that once the lexer starts 
> recognizing an S, it fails to detect a B:
> 
> the grammar:
> ---8<---
> class l1 extends Lexer;
> S: ('a' | "bb")=>('a' | "bb")+ | 'b' {$setType(B);};
> 
> class p1 extends Parser;
> start: (S|B)+;
> --->8---
> 
> input data: aba
> result: exception: line 1:3: expecting 'b', found 'a'
> 
> this is still ok for the "//" comments in my grammar, but it's not ok 
> in other cases, like Sanjiv's message 
> http://groups.yahoo.com/group/antlr-interest/message/8965
> 
> I'm going to read about that linear approximation thing...
> 
> Adrian
> 
> --- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> > In fact you may need a syntactic predicate because of the linear 
> > approximation issue:
> > 
> > 
> > S: ('a'|"bb")=>('a' | "bb")+
> >    | 'b' {$setType(B);}
> >    ;
> > 
> > Let me know, I don't have time to try it out right now.
> > 
> > Monty
> > -----Original Message-----
> > From: mzukowski@y... [mailto:mzukowski@y...]
> > Sent: Wednesday, July 16, 2003 11:46 AM
> > To: antlr-interest@yahoogroups.com
> > Subject: RE: [antlr-interest] Re: another nondeterminism question
> > 
> > 
> > OK, this is an linear approximation issue.  If you had A:"aa"
> | "bb" things
> > would work.  This example is very abstract.  I would code it like
> this:
> > 
> > S: ('a' | "bb")+
> >    | 'b' {$setType(B);}
> >    ;
> > 
> > Look up linear approximation in the FAQ & archives.
> > 
> > Monty
> > -----Original Message-----
> > From: Adrian Sandor [mailto:aditsu@y...]
> > Sent: Wednesday, July 16, 2003 11:26 AM
> > To: antlr-interest@yahoogroups.com
> > Subject: [antlr-interest] Re: another nondeterminism question
> > 
> > 
> > ok, I tried with the following grammar:
> > 
> > class l1 extends Lexer;
> > options{k=2;}
> > protected A: 'a' | "bb";
> > B: 'b';
> > S: (A)=>(A)+;
> > 
> > and I got:
> > 
> > ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
> > t1.g: warning:lexical nondeterminism between rules B and S upon
> > t1.g:     k==1:'b'
> > t1.g:     k==2:<end-of-token>
> > t1.g:5: warning:Syntactic predicate ignored for single alternative
> > 
> > 
> > Adrian
> > 
> > --- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> > > That's a weird bug you ran into, I think.  It should give warnings
> > in both
> > > cases.  You could solve this with a syntactic predicate:
> > > 
> > > S: (A)=>(A)+;
> > > 
> > > -----Original Message-----
> > > From: Adrian Sandor [mailto:aditsu@y...]
> > > Sent: Friday, July 11, 2003 9:54 AM
> > > To: antlr-interest@yahoogroups.com
> > > Subject: [antlr-interest] another nondeterminism question
> > > 
> > > 
> > > why do I get a nondeterminism warning for this grammar:
> > > 
> > > class l1 extends Lexer;
> > > options{k=2;}
> > > protected A: 'a' | "bb";
> > > B: 'b';
> > > S: (A)+;
> > > 
> > > but I don't get any warning when I change S to:
> > > 
> > > S: A (A)+;
> > > 
> > > and how can I solve it for the first case?
> > > I tried many things but to no avail...
> > > 
> > > thanks
> > > Adrian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From aditsu at yahoo.com  Sat Jul 19 06:36:25 2003
From: aditsu at yahoo.com (Adrian Sandor)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] working with AST
Message-ID: <bfbhgp+5ctd@eGroups.com>

I have a parser which builds an AST, and uses some syntactic
predicates; currently it's basically a list, it doesn't have levels,
and when I parse the AST for translation, I need to use similar
predicates for correct recognition
I know I should create subtrees for easier processing, but the only
example I saw was for expressions where it was very easy to use the
operators as roots, but in my case I can't find any specific token to
identify the subtree uniquely
is there any way to create and add non-existing tokens as roots to
mark certain kinds of subtrees?

e.g. I have:
rule1: (test1) => alt1 | alt2;

then I want to "label" the two alternatives, e.g. #(ALT1 alt1) and
#(ALT2 alt2), where ALT1 and ALT2 did not exist in the lexer
can I do that? or something similar?

Adrian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From open.zone at virgin.net  Sat Jul 19 07:19:10 2003
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: ANTLR 3 codegen (was: Enhance ANTLR support for comments?)
In-Reply-To: <D29A98CD-B960-11D7-A9D4-000A95891192@cs.usfca.edu>
Message-ID: <bfbk0u+8r7v@eGroups.com>

> Terence Parr <parrt@c...> wrote:
> 
> On Friday, July 18, 2003, at 01:27 PM, micheal_jor wrote:
> > One complicating issue is that depending on the constraints of
> > execution environment, I might want a compact or even more compact
> > representation of these. For instance, I might want to shoehorn 
both
> > the line and column numbers into a single 32-bit integer (16:16 or
> > 24:8 split) or leave them as two separate integers.
> >
> > Not sure how ANTLR 3 can support such scenarios easily.
> 
> One of the thoughts we had in the cabal was that you would specify 
the 
> token attributes in an ANTLR formalism and the code generator would 
be 
> able to decide how to encode in the target language.  For example, 
you 
> might do
> 
> token {
>    // text and type predefined perhaps
>    int start;
>    int stop;
>    String filename;
> }

In my mental model, there are perhaps four issues involved here:

1) Should the attributes listed above be supported as standard for 
*all* ANTLR tokens and AST nodes?

==> "Yes" would be my answer on this. I can't think of a project 
where I haven't needed this. "filename" might 
become "resourceLocation" or similar if support for sources other 
than files (e.g zip archives, urls etc) is added.

2) How can ANTLR [grammars] be extended to support declarative custom 
AST-node-attributes specification in a language-neutral manner?

==> Have to think about this a bit. Support for both homogenous and 
heterogenous trees makes this a little tricky.

3) Should ANTLR support custom token-attributes and how?

==> I haven't needed to do this except to add filename/line/col info. 
What do people think?.

4) How can we ensure that implementation decisions like "should I 
store line/col info in two 32-bit ints or a single int?" are properly 
left to ANTLR codegens?

==> This really needs head banging together to thrash stuff out. 
Would we end up with a set of interfaces each for OO, IMP, FP etc 
language families?

> At NeXT I had to encode token type and line number into a 32 bit 
int, 
> but in other cases it had to be an object.  The code generator 
could 
> generate either depending on options and what attributes you had in 
> there.

Cool. Seems you already have a jump on (4) above.

> Just some thoughts we had.  We're thinking about language 
independence 
> pretty heavily since I expect to make building a code generator for 
> ANTLR pretty easy.

Hopefully not so easy that the codegens aren't able to make often 
drastic implementation decisions as above. Actually, we could have a 
two-tier system:
TIER-1: The set of codegen interfaces that result from (4) above 
would support the development of fully integrated ANTLR codegens that 
require more work to build but in return produce the 
fastest/smallest/tighest[/prettiest?] code.
TIER-2: The intermediate form that you describe below on the other 
hand could allow anyone to build a very decent codegen in record time.

> Lots of back ends will appear I hope.  I'm going to 
> go so far as to have a text-based intermediate form (if wanted) so 
that 
> you don't even have to build the code generator in ANTLR.  You 
could 
> build the python code generator in python for example as it's just 
> reading a text file with all the "hard parts" filled in :)
> 
> Terence

Cheers,

Micheal



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From prathibaa_m at kongu.ac.in  Sat Jul 19 14:19:33 2003
From: prathibaa_m at kongu.ac.in (Prathibaa.M)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] how to install antlr.........
In-Reply-To: <F0CF1A3C-B941-11D7-AD60-000A95891192@cs.usfca.edu>
References: <F0CF1A3C-B941-11D7-AD60-000A95891192@cs.usfca.edu>
Message-ID: <20030719211935.M32083@kongu.ac.in>

hai,

?? I am new to this Antlr group...I have downloaded ANTLR..But i don't 
know how to install it..& work with ANTLR...From the manual,I came to know 
that to change Environmental? path variable...but i don't know how to 
change that one...I am having JDK1.3 installed in my system...Tell me in 
detail how to install and work...

with interest, 
prathibaa.m




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030720/8f0ee6aa/attachment.html
From nico123 at adinet.com.uy  Sun Jul 20 10:44:14 2003
From: nico123 at adinet.com.uy (Nico)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Newbie - rule help
Message-ID: <001001c34ee6$8d624c60$0200a8c0@viper2000>

Hi all. I don't have this rule very clear.
Can anyone help me telling in detail what the code in braces does?

modifiers
 : ( modifier )*
  {#modifiers = #([MODIFIERS, "MODIFIERS"], #modifiers);}
 ;

I have confusion because I have also found same rule like this

modifiers
 : ( modifier )*
  {#modifiers = #(#[MODIFIERS, "MODIFIERS"], #modifiers);}
 ;

With an extra # before  [MODIFIERS

regards
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030720/a9dea7c3/attachment.html
From Anthony.Youngman at ECA-International.com  Mon Jul 21 01:29:38 2003
From: Anthony.Youngman at ECA-International.com (Anthony W Youngman)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: upper, lower case for tokens, rule names
Message-ID: <C7FE35004D40FD45AA342991B88CE40409A456@lnml1.eca-international.local>

My first reaction was "I didn't know about this rule", and then further
reading makes me suspect that's just because I've been writing a
grammar. I haven't dug into the geneerated code.

If (as I suspect) this rule applies to generated code, then the more
rules like this the better... :-) I sometimes work with generated code,
and the less effort you need to try to get to grips with what it's doing
the better. And the more naming conventions you have the better. I used
to work with Fortran, and always stuck rigidly to the default typing
rules, despite always also using the "no undeclared variables" switch on
the compiler. It reduces the brain overload when hunting down a bug :-)
So count me in as saying "keep the rule", too.

Cheers,
Wol

-----Original Message-----
From: micheal_jor [mailto:open.zone@virgin.net] 
Sent: 18 July 2003 21:12
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: upper, lower case for tokens, rule names


> Ter--
> 
> I prefer the 
> current approach, not only for visual effect (which is pretty 
> important--highlighting is not an option for black-and-white text) 
but 
> for catching rules moved from one type of grammar (lexer, parser, 
tree 
> walker) to another.

I also think the present UpperCase or lowerCase case distinction 
should be preserved. 

It is simple and non-intrusive, it prevents accidental 
copying/pasting of rules from lexer to parser/treewalker (as Loring 
pointed out) and, the issue about method naming in the generated 
parsers can be resolved with a rulename-to-methodname transformation 
in ANTLR 3.

Micheal


 

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 9911 7799, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

From colettekirwan at yahoo.co.uk  Mon Jul 21 06:33:09 2003
From: colettekirwan at yahoo.co.uk (colettekirwan)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Preserve Whitespace example
Message-ID: <bfgq2l+gf3q@eGroups.com>

Hi,

can any one tell me what is the new url to the description of the 
preservewhitespace example as the original URL

http://www.antlr.org/fieldguide/whitespace 

is no longer valid


Thanks

Colette


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From M.Wirth at seeburger.de  Mon Jul 21 06:35:08 2003
From: M.Wirth at seeburger.de (Wirth. Michael)
Date: Mon Dec 20 16:15:50 2004
Subject: AW: [antlr-interest] Preserve Whitespace example
Message-ID: <164986BA012AA2468F7F6AA0562D7BDC0572D6@seedebrexch.seeburger.de>

look at your filesystem under 
    %installationDirOfAntlr%\examples\java\preserveWhiteSpace
and
    %installationDirOfAntlr%\examples\cpp\preserveWhiteSpace
and
    %installationDirOfAntlr%\examples\csharp\preserveWhiteSpace

> -----Urspr?ngliche Nachricht-----
> Von: colettekirwan [mailto:colettekirwan@yahoo.co.uk]
> Gesendet: Montag, 21. Juli 2003 15:33
> An: antlr-interest@yahoogroups.com
> Betreff: [antlr-interest] Preserve Whitespace example
> 
> 
> Hi,
> 
> can any one tell me what is the new url to the description of the 
> preservewhitespace example as the original URL
> 
> http://www.antlr.org/fieldguide/whitespace 
> 
> is no longer valid
> 
> 
> Thanks
> 
> Colette
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From petrov at programist.ru  Mon Jul 21 06:44:28 2003
From: petrov at programist.ru (qwpetrov)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] VB.NET grammar
Message-ID: <bfgqns+kmp7@eGroups.com>

Have someone ever wrote (or see) grammar of Visual Basic .NET? I you 
see (or can share) please send me a letter with source code to this e-
mail address:
petrov@programist.ru
or:
alexp@dotsite.spb.ru


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From colettekirwan at yahoo.co.uk  Mon Jul 21 06:49:54 2003
From: colettekirwan at yahoo.co.uk (colettekirwan)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: Preserve Whitespace example
In-Reply-To: <164986BA012AA2468F7F6AA0562D7BDC0572D6@seedebrexch.seeburger.de>
Message-ID: <bfgr22+5ui5@eGroups.com>

HI,
I am not looking for the example just the explanation of the example

Regards

Colette

--- In antlr-interest@yahoogroups.com, "Wirth. Michael" 
<M.Wirth@s...> wrote:
> look at your filesystem under 
>     %installationDirOfAntlr%\examples\java\preserveWhiteSpace
> and
>     %installationDirOfAntlr%\examples\cpp\preserveWhiteSpace
> and
>     %installationDirOfAntlr%\examples\csharp\preserveWhiteSpace
> 
> > -----Urspr?ngliche Nachricht-----
> > Von: colettekirwan [mailto:colettekirwan@y...]
> > Gesendet: Montag, 21. Juli 2003 15:33
> > An: antlr-interest@yahoogroups.com
> > Betreff: [antlr-interest] Preserve Whitespace example
> > 
> > 
> > Hi,
> > 
> > can any one tell me what is the new url to the description of the 
> > preservewhitespace example as the original URL
> > 
> > http://www.antlr.org/fieldguide/whitespace 
> > 
> > is no longer valid
> > 
> > 
> > Thanks
> > 
> > Colette
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to 
> > http://docs.yahoo.com/info/terms/ 
> > 
> > 
> >


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From atripp at comcast.net  Mon Jul 21 08:09:22 2003
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: Enhance ANTLR to support comments?
In-Reply-To: <72C9789739C4214096AE945753B11EA32A5E67@mypxmail04.bco-home.com>
Message-ID: <bfgvn2+oord@eGroups.com>

*sigh* 

Sure enough, the hidden token stream stuff
(http://antlr.org/doc/streams.html)
is just about exactly what I'm asking for.
You guys are way ahead of me :)

I am going to keep the comments separate from the
normal lexing and parsing. The AST that's
associated with a comment may be long gone by the time
I'm done with the tree. Or, as Monty points out, it may
be gone before I even get started.

Instead, I'll try to keep an informal description of the
statement that the comment goes with e.g. "this comment goes
before the third 'else if' clause in function f()".
I know, it sure won't work perfectly, but this seems like
the "least-worst" solution.

Andy


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Mon Jul 21 08:29:18 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] working with AST
Message-ID: <72C9789739C4214096AE945753B11EA32A5E81@mypxmail04.bco-home.com>

tokens{
ALT1;
ALT2;
}

rule1: (test1)=> alt1 {##=#(#[ALT1], ##);}
       | alt2 {##=#(#[ALT2],##);}

This is a common idiom.  I use it all over the gcc grammar for instance.
http://www.codetransform.com/gcc.html

## means "the current tree"
#[ALT1] means create a new node with ALT1 as the type
#() means create a new tree with the nodes given

Monty

-----Original Message-----
From: Adrian Sandor [mailto:aditsu@yahoo.com] 
Sent: Saturday, July 19, 2003 6:36 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] working with AST


I have a parser which builds an AST, and uses some syntactic predicates;
currently it's basically a list, it doesn't have levels, and when I parse
the AST for translation, I need to use similar predicates for correct
recognition I know I should create subtrees for easier processing, but the
only example I saw was for expressions where it was very easy to use the
operators as roots, but in my case I can't find any specific token to
identify the subtree uniquely is there any way to create and add
non-existing tokens as roots to mark certain kinds of subtrees?

e.g. I have:
rule1: (test1) => alt1 | alt2;

then I want to "label" the two alternatives, e.g. #(ALT1 alt1) and #(ALT2
alt2), where ALT1 and ALT2 did not exist in the lexer can I do that? or
something similar?

Adrian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Mon Jul 21 08:32:00 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: ANTLR 3 codegen (was: Enhance ANTLR supp
	ort for comments?)
Message-ID: <72C9789739C4214096AE945753B11EA32A5E82@mypxmail04.bco-home.com>

> 
> 3) Should ANTLR support custom token-attributes and how?
>
> ==> I haven't needed to do this except to add filename/line/col info. 
> What do people think?.

The GCC preprocessor can have a whole stack of filename/line info to show
how the error originated from files that were included.  Most people don't
need more than above but some people will.

Monty

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Mon Jul 21 08:33:00 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Newbie - rule help
Message-ID: <72C9789739C4214096AE945753B11EA32A5E83@mypxmail04.bco-home.com>

They are both the same, one is just shorthand for the other.

Monty

-----Original Message-----
From: Nico [mailto:nico123@adinet.com.uy] 
Sent: Sunday, July 20, 2003 10:44 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Newbie - rule help


Hi all. I don't have this rule very clear.
Can anyone help me telling in detail what the code in braces does?

modifiers
 : ( modifier )*
  {#modifiers = #([MODIFIERS, "MODIFIERS"], #modifiers);}
 ;

I have confusion because I have also found same rule like this

modifiers
 : ( modifier )*
  {#modifiers = #(#[MODIFIERS, "MODIFIERS"], #modifiers);}
 ;

With an extra # before  [MODIFIERS

regards

Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From nico123 at adinet.com.uy  Mon Jul 21 12:47:47 2003
From: nico123 at adinet.com.uy (nico123@adinet.com.uy)
Date: Mon Dec 20 16:15:50 2004
Subject: Asunto: RE: [antlr-interest] Newbie - rule help
In-Reply-To: <72C9789739C4214096AE945753B11EA32A5E83@mypxmail04.bco-home.com>
Message-ID: <3F0866870000F266@nfs03.in.adinet.com.uy>

Ok, but what exactly means
I know this #([MODIFIERS, "MODIFIERS"] means create a node, of type MODIFIERS
and text "MODIFIERS".

But what is the last #modifiers for ?
And the first one: #modifiers =

regards,


>-- Mensaje original --
>To: antlr-interest@yahoogroups.com
>From: mzukowski@yci.com
>Date: Mon, 21 Jul 2003 08:33:00 -0700
>Subject: RE: [antlr-interest] Newbie - rule help
>Reply-To: antlr-interest@yahoogroups.com
>
>
>They are both the same, one is just shorthand for the other.
>
>Monty
>
>-----Original Message-----
>From: Nico [mailto:nico123@adinet.com.uy] 
>Sent: Sunday, July 20, 2003 10:44 AM
>To: antlr-interest@yahoogroups.com
>Subject: [antlr-interest] Newbie - rule help
>
>
>Hi all. I don't have this rule very clear.
>Can anyone help me telling in detail what the code in braces does?
>
>modifiers
> : ( modifier )*
>  {#modifiers = #([MODIFIERS, "MODIFIERS"], #modifiers);}
> ;
>
>I have confusion because I have also found same rule like this
>
>modifiers
> : ( modifier )*
>  {#modifiers = #(#[MODIFIERS, "MODIFIERS"], #modifiers);}
> ;
>
>With an extra # before  [MODIFIERS
>
>regards
>
>Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 
>
> 
>
>Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>
>



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From naileshs at yahoo.com  Mon Jul 21 13:04:47 2003
From: naileshs at yahoo.com (naileshs)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Where can I find the 2.7.1 version for download
Message-ID: <bfhh0v+14l8@eGroups.com>

I cannot find the http://www.antlr.org/download.html 2.7.1 version.
Was it taken off because of a special reason?

thanks
Nailesh


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Mon Jul 21 14:09:22 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:50 2004
Subject: Asunto: RE: [antlr-interest] Newbie - rule help
Message-ID: <72C9789739C4214096AE945753B11EA32A5E90@mypxmail04.bco-home.com>

#modifiers is the AST being build for that rule.  ## is the same thing.  So
the first #modifiers is assigning the result of the tree construction.  The
second is making the #modifiers a child of the node MODIFIERS.

Monty

-----Original Message-----
From: nico123@adinet.com.uy [mailto:nico123@adinet.com.uy] 
Sent: Monday, July 21, 2003 12:48 PM
To: antlr-interest@yahoogroups.com
Subject: Asunto: RE: [antlr-interest] Newbie - rule help


Ok, but what exactly means
I know this #([MODIFIERS, "MODIFIERS"] means create a node, of type
MODIFIERS and text "MODIFIERS".

But what is the last #modifiers for ?
And the first one: #modifiers =

regards,


>-- Mensaje original --
>To: antlr-interest@yahoogroups.com
>From: mzukowski@yci.com
>Date: Mon, 21 Jul 2003 08:33:00 -0700
>Subject: RE: [antlr-interest] Newbie - rule help
>Reply-To: antlr-interest@yahoogroups.com
>
>
>They are both the same, one is just shorthand for the other.
>
>Monty
>
>-----Original Message-----
>From: Nico [mailto:nico123@adinet.com.uy]
>Sent: Sunday, July 20, 2003 10:44 AM
>To: antlr-interest@yahoogroups.com
>Subject: [antlr-interest] Newbie - rule help
>
>
>Hi all. I don't have this rule very clear.
>Can anyone help me telling in detail what the code in braces does?
>
>modifiers
> : ( modifier )*
>  {#modifiers = #([MODIFIERS, "MODIFIERS"], #modifiers);}
> ;
>
>I have confusion because I have also found same rule like this
>
>modifiers
> : ( modifier )*
>  {#modifiers = #(#[MODIFIERS, "MODIFIERS"], #modifiers);}
> ;
>
>With an extra # before  [MODIFIERS
>
>regards
>
>Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
>
> 
>
>Your use of Yahoo! Groups is subject to 
>http://docs.yahoo.com/info/terms/
>
>
>



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Mon Jul 21 15:38:32 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Where can I find the 2.7.1 version for download
In-Reply-To: <bfhh0v+14l8@eGroups.com>; from naileshs@yahoo.com on Mon, Jul 21, 2003 at 08:04:47PM -0000
References: <bfhh0v+14l8@eGroups.com>
Message-ID: <20030722003832.A3397@cs.utwente.nl>

On Mon, Jul 21, 2003 at 08:04:47PM -0000, naileshs wrote:
> I cannot find the http://www.antlr.org/download.html 2.7.1 version.
> Was it taken off because of a special reason?

Probably got shuffled in the reorganization. 2.7.1 has it's issues though a
patched up version can be found at: 

http://wwwhome.cs.utwente.nl/~klaren/antlr/

Technically that is a development snapshot but it's more stable as 2.7.1.

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Time what is time - I wish I knew how to tell You why - It hurts to know -
          Aren't we machines - Time what is time - Unlock the door
               - And see the truth - Then time is time again
                From: 'Time what is Time' by Blind Guardian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From 98vdxjfr02 at sneakemail.com  Tue Jul 22 06:49:19 2003
From: 98vdxjfr02 at sneakemail.com (mafw14)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Handling identifiers
Message-ID: <bfjfcv+ho05@eGroups.com>

Hi,

I know this ought to be a FAQ but I have been hunting for a long
time for a solution to this and have failed to find anything
useful.

I am trying to develop a parser to handle an expression evaluator.  I
am really stuck on one particular part of the grammar file.  The lexer
needs to differentiate between literal strings and identifiers.  If
literal strings always were enclosed in quotes there would be no
problem, but in this language the double quotes are optional if there
is no other ambiguity.  Therefore a group of letters could be an
identifier or a literal string.  I can maintain a list of identifiers
in a hash table but I don't know how to call a routine from the lexer
to accomplish this.

Extract from grammar:

// string literals - this is easy!
STRING_T:
    '\"'!
    (LETTER_OR_DIGIT)* 
    '\"'!
    ;

protected
LETTERS
    options {testLiterals=true; } :
    (LETTER)+
    ;

// This could be an identifier or a literal string?
// -- don't know what to do here.....	
IDENTIFIER
    options {testLiterals=true; } :
    t:LETTERS { System.out.println(t.getText()); }
    ;

Please advise.  Thanks,
Mark


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From colettekirwan at yahoo.co.uk  Tue Jul 22 09:51:05 2003
From: colettekirwan at yahoo.co.uk (colettekirwan)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Token Stream Question
Message-ID: <bfjq1p+id27@eGroups.com>

Hi

I was wondering if some could please explain what I am doing wrong.

Using the "Lexical Analysis With Antlr" Lecture Notes, I copied the 
example that explains how to ignore but not throw away whitespaces.

But everytime I run the example I get the following error.
D:\antlrTest>java -classpath D:\antlrTest\antlr.jar;. TestMain < 
test.in
a = 2;
{

      a=3;

}

b=aException in thread "main" line 9:8: unexpected char: 0x?F
        at TestLexer.nextToken(TestLexer.java:148)
        at antlr.TokenStreamHiddenTokenFilter.consume
(TokenStreamHiddenTokenFilt
er.java:38)
        at antlr.TokenStreamHiddenTokenFilter.nextToken
(TokenStreamHiddenTokenFi
lter.java:148)
        at antlr.TokenBuffer.fill(TokenBuffer.java:69)
        at antlr.TokenBuffer.LT(TokenBuffer.java:86)
        at antlr.LLkParser.LT(LLkParser.java:56)
        at TestParser.stat(TestParser.java:121)
        at TestParser.slist(TestParser.java:61)
        at TestMain.main(TestMain.java:25)



I am using the latest version of antlr, and believe I have copied the 
grammar code from the article correctly.

Below is a copy of the grammar code I am using.
class TestParser extends Parser;

{
public void hidden(Token tok) 
{
antlr.CommonHiddenStreamToken t = (antlr.CommonHiddenStreamToken)tok;
for ( ; t!=null ; t=TestMain.filter.getHiddenAfter(t) ) 
  {
  System.out.print(t.getText());
  }
}
}

slist
: ( stat )+
;

stat: l:LBRACE {hidden(l);} (stat)+ r:RBRACE {hidden(r);}
| id:ID {hidden(id);} a:ASSIGN {hidden(a);} expr s:SEMI {hidden(s);}
;

expr: i1:INT {hidden(i1);}
| i2:ID {hidden(i2);}
;

class TestLexer extends Lexer;
options {
charVocabulary='\u0000'..'\uFFFE';
}
WS : (' '
| '\t'
| ('\n'|'\r'('\n')?) {newline();}
)+
;



SL_COMMENT
: "//"
(~('\n'|'\r'))* ('\n'|'\r'('\n')?)
{newline();}
;

LBRACE: '{'
;

RBRACE: '}'
;

LPAREN: '('
;
RPAREN: ')'
;

STAR: '*'
;

PLUS: '+'
;
SEMI: ';'
;

ASSIGN: '='
;

protected
DIGIT
: '0'..'9'
;

INT : (DIGIT)+
;

ID : ('a'..'z')+
;


Any help with the above quesion, one be greatly appreciated.
Also if any one knows the new location to the Description of the 
preserve Whitespace example, that  would be great


Thanks



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Tue Jul 22 09:56:21 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Token Stream Question
In-Reply-To: <bfjq1p+id27@eGroups.com>
Message-ID: <6BCBB3DB-BC65-11D7-8BEE-000A95891192@cs.usfca.edu>

Howdy.  That unexpected char in nextToken implies that it received a 
char from the input stream that does not predict any of the tokens.  
Could be a weird EOF thing 0xFF.  It's on a PC, which is not something 
I tested the notes on sorry.  Perhaps drop the charVocab to '\u00FE' 
and see what happens.

Ter

On Tuesday, July 22, 2003, at 09:51 AM, colettekirwan wrote:

> Hi
>
> I was wondering if some could please explain what I am doing wrong.
>
> Using the "Lexical Analysis With Antlr" Lecture Notes, I copied the
> example that explains how to ignore but not throw away whitespaces.
>
> But everytime I run the example I get the following error.
> D:\antlrTest>java -classpath D:\antlrTest\antlr.jar;. TestMain <
> test.in
> a = 2;
> {
>
>       a=3;
>
> }
>
> b=aException in thread "main" line 9:8: unexpected char: 0x?F
>         at TestLexer.nextToken(TestLexer.java:148)
>         at antlr.TokenStreamHiddenTokenFilter.consume
> (TokenStreamHiddenTokenFilt
> er.java:38)
>         at antlr.TokenStreamHiddenTokenFilter.nextToken
> (TokenStreamHiddenTokenFi
> lter.java:148)
>         at antlr.TokenBuffer.fill(TokenBuffer.java:69)
>         at antlr.TokenBuffer.LT(TokenBuffer.java:86)
>         at antlr.LLkParser.LT(LLkParser.java:56)
>         at TestParser.stat(TestParser.java:121)
>         at TestParser.slist(TestParser.java:61)
>         at TestMain.main(TestMain.java:25)
>
>
>
> I am using the latest version of antlr, and believe I have copied the
> grammar code from the article correctly.
>
> Below is a copy of the grammar code I am using.
> class TestParser extends Parser;
>
> {
> public void hidden(Token tok)
> {
> antlr.CommonHiddenStreamToken t = (antlr.CommonHiddenStreamToken)tok;
> for ( ; t!=null ; t=TestMain.filter.getHiddenAfter(t) )
>   {
>   System.out.print(t.getText());
>   }
> }
> }
>
> slist
> : ( stat )+
> ;
>
> stat: l:LBRACE {hidden(l);} (stat)+ r:RBRACE {hidden(r);}
> | id:ID {hidden(id);} a:ASSIGN {hidden(a);} expr s:SEMI {hidden(s);}
> ;
>
> expr: i1:INT {hidden(i1);}
> | i2:ID {hidden(i2);}
> ;
>
> class TestLexer extends Lexer;
> options {
> charVocabulary='\u0000'..'\uFFFE';
> }
> WS : (' '
> | '\t'
> | ('\n'|'\r'('\n')?) {newline();}
> )+
> ;
>
>
>
> SL_COMMENT
> : "//"
> (~('\n'|'\r'))* ('\n'|'\r'('\n')?)
> {newline();}
> ;
>
> LBRACE: '{'
> ;
>
> RBRACE: '}'
> ;
>
> LPAREN: '('
> ;
> RPAREN: ')'
> ;
>
> STAR: '*'
> ;
>
> PLUS: '+'
> ;
> SEMI: ';'
> ;
>
> ASSIGN: '='
> ;
>
> protected
> DIGIT
> : '0'..'9'
> ;
>
> INT : (DIGIT)+
> ;
>
> ID : ('a'..'z')+
> ;
>
>
> Any help with the above quesion, one be greatly appreciated.
> Also if any one knows the new location to the Description of the
> preserve Whitespace example, that  would be great
>
>
> Thanks
>
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com pure link sharing




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From colettekirwan at yahoo.co.uk  Tue Jul 22 10:13:54 2003
From: colettekirwan at yahoo.co.uk (colettekirwan)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: Token Stream Question
In-Reply-To: <6BCBB3DB-BC65-11D7-8BEE-000A95891192@cs.usfca.edu>
Message-ID: <bfjrci+v7jr@eGroups.com>

Hi,

Still having difficulty,

I reduced the char vocab range as suggested and also checked both 
my .g and test.in file with a hex editor.

Any more suggestions would be greatly appreciated

Thanks

Colette


--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> 
wrote:
> Howdy.  That unexpected char in nextToken implies that it received 
a 
> char from the input stream that does not predict any of the 
tokens.  
> Could be a weird EOF thing 0xFF.  It's on a PC, which is not 
something 
> I tested the notes on sorry.  Perhaps drop the charVocab 
to '\u00FE' 
> and see what happens.
> 
> Ter
> 
> On Tuesday, July 22, 2003, at 09:51 AM, colettekirwan wrote:
> 
> > Hi
> >
> > I was wondering if some could please explain what I am doing 
wrong.
> >
> > Using the "Lexical Analysis With Antlr" Lecture Notes, I copied 
the
> > example that explains how to ignore but not throw away 
whitespaces.
> >
> > But everytime I run the example I get the following error.
> > D:\antlrTest>java -classpath D:\antlrTest\antlr.jar;. TestMain <
> > test.in
> > a = 2;
> > {
> >
> >       a=3;
> >
> > }
> >
> > b=aException in thread "main" line 9:8: unexpected char: 0x?F
> >         at TestLexer.nextToken(TestLexer.java:148)
> >         at antlr.TokenStreamHiddenTokenFilter.consume
> > (TokenStreamHiddenTokenFilt
> > er.java:38)
> >         at antlr.TokenStreamHiddenTokenFilter.nextToken
> > (TokenStreamHiddenTokenFi
> > lter.java:148)
> >         at antlr.TokenBuffer.fill(TokenBuffer.java:69)
> >         at antlr.TokenBuffer.LT(TokenBuffer.java:86)
> >         at antlr.LLkParser.LT(LLkParser.java:56)
> >         at TestParser.stat(TestParser.java:121)
> >         at TestParser.slist(TestParser.java:61)
> >         at TestMain.main(TestMain.java:25)
> >
> >
> >
> > I am using the latest version of antlr, and believe I have copied 
the
> > grammar code from the article correctly.
> >
> > Below is a copy of the grammar code I am using.
> > class TestParser extends Parser;
> >
> > {
> > public void hidden(Token tok)
> > {
> > antlr.CommonHiddenStreamToken t = (antlr.CommonHiddenStreamToken)
tok;
> > for ( ; t!=null ; t=TestMain.filter.getHiddenAfter(t) )
> >   {
> >   System.out.print(t.getText());
> >   }
> > }
> > }
> >
> > slist
> > : ( stat )+
> > ;
> >
> > stat: l:LBRACE {hidden(l);} (stat)+ r:RBRACE {hidden(r);}
> > | id:ID {hidden(id);} a:ASSIGN {hidden(a);} expr s:SEMI {hidden
(s);}
> > ;
> >
> > expr: i1:INT {hidden(i1);}
> > | i2:ID {hidden(i2);}
> > ;
> >
> > class TestLexer extends Lexer;
> > options {
> > charVocabulary='\u0000'..'\uFFFE';
> > }
> > WS : (' '
> > | '\t'
> > | ('\n'|'\r'('\n')?) {newline();}
> > )+
> > ;
> >
> >
> >
> > SL_COMMENT
> > : "//"
> > (~('\n'|'\r'))* ('\n'|'\r'('\n')?)
> > {newline();}
> > ;
> >
> > LBRACE: '{'
> > ;
> >
> > RBRACE: '}'
> > ;
> >
> > LPAREN: '('
> > ;
> > RPAREN: ')'
> > ;
> >
> > STAR: '*'
> > ;
> >
> > PLUS: '+'
> > ;
> > SEMI: ';'
> > ;
> >
> > ASSIGN: '='
> > ;
> >
> > protected
> > DIGIT
> > : '0'..'9'
> > ;
> >
> > INT : (DIGIT)+
> > ;
> >
> > ID : ('a'..'z')+
> > ;
> >
> >
> > Any help with the above quesion, one be greatly appreciated.
> > Also if any one knows the new location to the Description of the
> > preserve Whitespace example, that  would be great
> >
> >
> > Thanks
> >
> >
> >
> >
> >
> > Your use of Yahoo! Groups is subject to 
> > http://docs.yahoo.com/info/terms/
> >
> >
> >
> --
> Professor Comp. Sci., University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Co-founder, http://www.jguru.com
> Co-founder, http://www.knowspam.net enjoy email again!
> Co-founder, http://www.peerscope.com pure link sharing


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Tue Jul 22 10:24:58 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: Token Stream Question
In-Reply-To: <bfjrci+v7jr@eGroups.com>
Message-ID: <6B062BC8-BC69-11D7-8BEE-000A95891192@cs.usfca.edu>

Is there a weird char on the end?  Is it that weird PC ctrl-z char?

Perhaps you should modify the output lexer file to put in a print 
statement and check what that char/int is exactly.  Or, run thru 
debugger :)

Ter

On Tuesday, July 22, 2003, at 10:13 AM, colettekirwan wrote:

> Hi,
>
> Still having difficulty,
>
> I reduced the char vocab range as suggested and also checked both
> my .g and test.in file with a hex editor.
>
> Any more suggestions would be greatly appreciated
>
> Thanks
>
> Colette
>
>
> --- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...>
> wrote:
>> Howdy.  That unexpected char in nextToken implies that it received
> a
>> char from the input stream that does not predict any of the
> tokens.
>> Could be a weird EOF thing 0xFF.  It's on a PC, which is not
> something
>> I tested the notes on sorry.  Perhaps drop the charVocab
> to '\u00FE'
>> and see what happens.
>>
>> Ter
>>
>> On Tuesday, July 22, 2003, at 09:51 AM, colettekirwan wrote:
>>
>>> Hi
>>>
>>> I was wondering if some could please explain what I am doing
> wrong.
>>>
>>> Using the "Lexical Analysis With Antlr" Lecture Notes, I copied
> the
>>> example that explains how to ignore but not throw away
> whitespaces.
>>>
>>> But everytime I run the example I get the following error.
>>> D:\antlrTest>java -classpath D:\antlrTest\antlr.jar;. TestMain <
>>> test.in
>>> a = 2;
>>> {
>>>
>>>       a=3;
>>>
>>> }
>>>
>>> b=aException in thread "main" line 9:8: unexpected char: 0x?F
>>>         at TestLexer.nextToken(TestLexer.java:148)
>>>         at antlr.TokenStreamHiddenTokenFilter.consume
>>> (TokenStreamHiddenTokenFilt
>>> er.java:38)
>>>         at antlr.TokenStreamHiddenTokenFilter.nextToken
>>> (TokenStreamHiddenTokenFi
>>> lter.java:148)
>>>         at antlr.TokenBuffer.fill(TokenBuffer.java:69)
>>>         at antlr.TokenBuffer.LT(TokenBuffer.java:86)
>>>         at antlr.LLkParser.LT(LLkParser.java:56)
>>>         at TestParser.stat(TestParser.java:121)
>>>         at TestParser.slist(TestParser.java:61)
>>>         at TestMain.main(TestMain.java:25)
>>>
>>>
>>>
>>> I am using the latest version of antlr, and believe I have copied
> the
>>> grammar code from the article correctly.
>>>
>>> Below is a copy of the grammar code I am using.
>>> class TestParser extends Parser;
>>>
>>> {
>>> public void hidden(Token tok)
>>> {
>>> antlr.CommonHiddenStreamToken t = (antlr.CommonHiddenStreamToken)
> tok;
>>> for ( ; t!=null ; t=TestMain.filter.getHiddenAfter(t) )
>>>   {
>>>   System.out.print(t.getText());
>>>   }
>>> }
>>> }
>>>
>>> slist
>>> : ( stat )+
>>> ;
>>>
>>> stat: l:LBRACE {hidden(l);} (stat)+ r:RBRACE {hidden(r);}
>>> | id:ID {hidden(id);} a:ASSIGN {hidden(a);} expr s:SEMI {hidden
> (s);}
>>> ;
>>>
>>> expr: i1:INT {hidden(i1);}
>>> | i2:ID {hidden(i2);}
>>> ;
>>>
>>> class TestLexer extends Lexer;
>>> options {
>>> charVocabulary='\u0000'..'\uFFFE';
>>> }
>>> WS : (' '
>>> | '\t'
>>> | ('\n'|'\r'('\n')?) {newline();}
>>> )+
>>> ;
>>>
>>>
>>>
>>> SL_COMMENT
>>> : "//"
>>> (~('\n'|'\r'))* ('\n'|'\r'('\n')?)
>>> {newline();}
>>> ;
>>>
>>> LBRACE: '{'
>>> ;
>>>
>>> RBRACE: '}'
>>> ;
>>>
>>> LPAREN: '('
>>> ;
>>> RPAREN: ')'
>>> ;
>>>
>>> STAR: '*'
>>> ;
>>>
>>> PLUS: '+'
>>> ;
>>> SEMI: ';'
>>> ;
>>>
>>> ASSIGN: '='
>>> ;
>>>
>>> protected
>>> DIGIT
>>> : '0'..'9'
>>> ;
>>>
>>> INT : (DIGIT)+
>>> ;
>>>
>>> ID : ('a'..'z')+
>>> ;
>>>
>>>
>>> Any help with the above quesion, one be greatly appreciated.
>>> Also if any one knows the new location to the Description of the
>>> preserve Whitespace example, that  would be great
>>>
>>>
>>> Thanks
>>>
>>>
>>>
>>>
>>>
>>> Your use of Yahoo! Groups is subject to
>>> http://docs.yahoo.com/info/terms/
>>>
>>>
>>>
>> --
>> Professor Comp. Sci., University of San Francisco
>> Creator, ANTLR Parser Generator, http://www.antlr.org
>> Co-founder, http://www.jguru.com
>> Co-founder, http://www.knowspam.net enjoy email again!
>> Co-founder, http://www.peerscope.com pure link sharing
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com pure link sharing




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Tue Jul 22 12:49:29 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] whitespace example moved to new site
In-Reply-To: <bfjq1p+id27@eGroups.com>
Message-ID: <9B5292EE-BC7D-11D7-8BEE-000A95891192@cs.usfca.edu>


On Tuesday, July 22, 2003, at 09:51 AM, colettekirwan wrote:
> Also if any one knows the new location to the Description of the
> preserve Whitespace example, that  would be great
>


Ooops...still moving stuff over.  It's there now.  Look for it under 
articles.

Ter
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com pure link sharing




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From aditsu at yahoo.com  Tue Jul 22 13:02:33 2003
From: aditsu at yahoo.com (Adrian Sandor)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: working with AST
In-Reply-To: <72C9789739C4214096AE945753B11EA32A5E81@mypxmail04.bco-home.com>
Message-ID: <bfk58p+8md1@eGroups.com>


thanks a lot Monty, it worked like a charm! :)
I actually overloaded the match function in the tree parser (to get 
the text of every element) and I was having problems because the 
predicates were matched twice (so their text was output twice)
but now everything is fine :)

Adrian

--- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> tokens{
> ALT1;
> ALT2;
> }
> 
> rule1: (test1)=> alt1 {##=#(#[ALT1], ##);}
>        | alt2 {##=#(#[ALT2],##);}
> 
> This is a common idiom.  I use it all over the gcc grammar for 
instance.
> http://www.codetransform.com/gcc.html
> 
> ## means "the current tree"
> #[ALT1] means create a new node with ALT1 as the type
> #() means create a new tree with the nodes given
> 
> Monty
> 
> -----Original Message-----
> From: Adrian Sandor [mailto:aditsu@y...] 
> Sent: Saturday, July 19, 2003 6:36 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] working with AST
> 
> 
> I have a parser which builds an AST, and uses some syntactic 
predicates;
> currently it's basically a list, it doesn't have levels, and when I 
parse
> the AST for translation, I need to use similar predicates for 
correct
> recognition I know I should create subtrees for easier processing, 
but the
> only example I saw was for expressions where it was very easy to 
use the
> operators as roots, but in my case I can't find any specific token 
to
> identify the subtree uniquely is there any way to create and add
> non-existing tokens as roots to mark certain kinds of subtrees?
> 
> e.g. I have:
> rule1: (test1) => alt1 | alt2;
> 
> then I want to "label" the two alternatives, e.g. #(ALT1 alt1) and #
(ALT2
> alt2), where ALT1 and ALT2 did not exist in the lexer can I do 
that? or
> something similar?
> 
> Adrian



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Tue Jul 22 13:19:38 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: working with AST
Message-ID: <72C9789739C4214096AE945753B11EA32A5E9F@mypxmail04.bco-home.com>

FYI, the inputState.guessing variable tells you whether you are in a
predicate or not, you could look at that to know whether to output text or
not.

Monty

-----Original Message-----
From: Adrian Sandor [mailto:aditsu@yahoo.com] 
Sent: Tuesday, July 22, 2003 1:03 PM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: working with AST



thanks a lot Monty, it worked like a charm! :)
I actually overloaded the match function in the tree parser (to get 
the text of every element) and I was having problems because the 
predicates were matched twice (so their text was output twice) but now
everything is fine :)

Adrian

--- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> tokens{
> ALT1;
> ALT2;
> }
> 
> rule1: (test1)=> alt1 {##=#(#[ALT1], ##);}
>        | alt2 {##=#(#[ALT2],##);}
> 
> This is a common idiom.  I use it all over the gcc grammar for
instance.
> http://www.codetransform.com/gcc.html
> 
> ## means "the current tree"
> #[ALT1] means create a new node with ALT1 as the type
> #() means create a new tree with the nodes given
> 
> Monty
> 
> -----Original Message-----
> From: Adrian Sandor [mailto:aditsu@y...]
> Sent: Saturday, July 19, 2003 6:36 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] working with AST
> 
> 
> I have a parser which builds an AST, and uses some syntactic
predicates;
> currently it's basically a list, it doesn't have levels, and when I
parse
> the AST for translation, I need to use similar predicates for
correct
> recognition I know I should create subtrees for easier processing,
but the
> only example I saw was for expressions where it was very easy to
use the
> operators as roots, but in my case I can't find any specific token
to
> identify the subtree uniquely is there any way to create and add 
> non-existing tokens as roots to mark certain kinds of subtrees?
> 
> e.g. I have:
> rule1: (test1) => alt1 | alt2;
> 
> then I want to "label" the two alternatives, e.g. #(ALT1 alt1) and #
(ALT2
> alt2), where ALT1 and ALT2 did not exist in the lexer can I do
that? or
> something similar?
> 
> Adrian



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Tue Jul 22 13:58:01 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: another nondeterminism question
Message-ID: <72C9789739C4214096AE945753B11EA32A5EA0@mypxmail04.bco-home.com>

Argh.  Could you summarize your different attempts so I can try them out and
see what is happening?

Thanks,

Monty

-----Original Message-----
From: Adrian Sandor [mailto:aditsu@yahoo.com] 
Sent: Saturday, July 19, 2003 5:53 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: another nondeterminism question


the problem is that the new syn preds make NO difference
I compared the generated lexers (java source code) and besides a renamed
counter variable, they're identical

my initial approach was something like this:

class l1 extends Lexer;
protected A: 'a' | ("bb")=>"bb" | 'b'{$setType(B);};
S: (A)+;

but it also fails because when the lexer matches a single 'b' inside the S,
it doesn't care that it has a different type and continues the loop

I'm wondering if antlr is simply unable to generate a lexer for this "too
complicated" language

Adrian

--- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> Ack.  Apparently we need a syn pred in the loop as well!  Try some 
> variations of this and inspect the generated code to make sure it is
working
> correctly.  Ignore the warning about superfluous syn preds if one
comes up.
> 
> class l1 extends Lexer;
> S: ('a' | "bb")=>(('a')=>'a' | ("bb")=>"bb")+ | 'b' {$setType(B);};
> 
> Monty
> 
> -----Original Message-----
> From: Adrian Sandor [mailto:aditsu@y...]
> Sent: Wednesday, July 16, 2003 10:14 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: another nondeterminism question
> 
> 
> 
> well, everything is ok... except that once the lexer starts
> recognizing an S, it fails to detect a B:
> 
> the grammar:
> ---8<---
> class l1 extends Lexer;
> S: ('a' | "bb")=>('a' | "bb")+ | 'b' {$setType(B);};
> 
> class p1 extends Parser;
> start: (S|B)+;
> --->8---
> 
> input data: aba
> result: exception: line 1:3: expecting 'b', found 'a'
> 
> this is still ok for the "//" comments in my grammar, but it's not ok
> in other cases, like Sanjiv's message 
> http://groups.yahoo.com/group/antlr-interest/message/8965
> 
> I'm going to read about that linear approximation thing...
> 
> Adrian
> 
> --- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> > In fact you may need a syntactic predicate because of the linear
> > approximation issue:
> > 
> > 
> > S: ('a'|"bb")=>('a' | "bb")+
> >    | 'b' {$setType(B);}
> >    ;
> > 
> > Let me know, I don't have time to try it out right now.
> > 
> > Monty
> > -----Original Message-----
> > From: mzukowski@y... [mailto:mzukowski@y...]
> > Sent: Wednesday, July 16, 2003 11:46 AM
> > To: antlr-interest@yahoogroups.com
> > Subject: RE: [antlr-interest] Re: another nondeterminism question
> > 
> > 
> > OK, this is an linear approximation issue.  If you had A:"aa"
> | "bb" things
> > would work.  This example is very abstract.  I would code it like
> this:
> > 
> > S: ('a' | "bb")+
> >    | 'b' {$setType(B);}
> >    ;
> > 
> > Look up linear approximation in the FAQ & archives.
> > 
> > Monty
> > -----Original Message-----
> > From: Adrian Sandor [mailto:aditsu@y...]
> > Sent: Wednesday, July 16, 2003 11:26 AM
> > To: antlr-interest@yahoogroups.com
> > Subject: [antlr-interest] Re: another nondeterminism question
> > 
> > 
> > ok, I tried with the following grammar:
> > 
> > class l1 extends Lexer;
> > options{k=2;}
> > protected A: 'a' | "bb";
> > B: 'b';
> > S: (A)=>(A)+;
> > 
> > and I got:
> > 
> > ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
> > t1.g: warning:lexical nondeterminism between rules B and S upon
> > t1.g:     k==1:'b'
> > t1.g:     k==2:<end-of-token>
> > t1.g:5: warning:Syntactic predicate ignored for single alternative
> > 
> > 
> > Adrian
> > 
> > --- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> > > That's a weird bug you ran into, I think.  It should give warnings
> > in both
> > > cases.  You could solve this with a syntactic predicate:
> > > 
> > > S: (A)=>(A)+;
> > > 
> > > -----Original Message-----
> > > From: Adrian Sandor [mailto:aditsu@y...]
> > > Sent: Friday, July 11, 2003 9:54 AM
> > > To: antlr-interest@yahoogroups.com
> > > Subject: [antlr-interest] another nondeterminism question
> > > 
> > > 
> > > why do I get a nondeterminism warning for this grammar:
> > > 
> > > class l1 extends Lexer;
> > > options{k=2;}
> > > protected A: 'a' | "bb";
> > > B: 'b';
> > > S: (A)+;
> > > 
> > > but I don't get any warning when I change S to:
> > > 
> > > S: A (A)+;
> > > 
> > > and how can I solve it for the first case?
> > > I tried many things but to no avail...
> > > 
> > > thanks
> > > Adrian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From Anthony.Youngman at ECA-International.com  Wed Jul 23 01:19:09 2003
From: Anthony.Youngman at ECA-International.com (Anthony W Youngman)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] ANTLR questionaire
Message-ID: <C7FE35004D40FD45AA342991B88CE40409A468@lnml1.eca-international.local>

A *BIG* problem with a questionnaire like that - especially if filled in
at download - is users like me. An experienced (guru?) programmer, but
with no oo or compiler experience, most of those questions would have
made perfect sense syntactically, but been semantically incomprehensible
... :-)

Designing good questionnaires is extremely hard work!

Cheers,
Wol

-----Original Message-----
From: atripp54321 [mailto:atripp@comcast.net] 
Sent: 22 July 2003 16:35
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] ANTLR questionaire


It might be nice to have every ANTLR user fill out
a quick questionaire. I think this was mentioned in the cabal notes.
Here are my suggestions for some questions to ask to get a feel
for what people are doing with ANTLR and who these people are.

To get a true picture, it might be necessary to have people answer
these questions when downloading ANTLR, rather than posting to the
mailing list, as there may be a lot of users who don't follow the list.

Andy

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 9911 7799, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

From dm at cs.yorku.ca  Wed Jul 23 06:24:11 2003
From: dm at cs.yorku.ca (Dave Makalsky)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] My hairy dilemma...
In-Reply-To: <bfm0jl+q2l2@eGroups.com>
References: <bfm0jl+q2l2@eGroups.com>
Message-ID: <3F1E8C7B.1080902@cs.yorku.ca>

What do you think, Mr. Parr?  :)

This is by far the most ridiculous spam I've ever seen!

<bush> ::= Heart-shaped | Arrow | Landing Strip | Clean |  Smiley | Scary

What kind of lookahead do we need for this nasty grammar? 

:)

Cheers,

DM

daria_delish wrote:

>Should I shave my bush?
>I need some input on this...No can give me a consistent answer. :(
>
>Heart-shape
>Arrow
>Landing Strip
>Shaved clean
>Smiley face
>Or do nothing and leave it hairy-scarey.
>
>What do you think? This is what it looks like now
>
>http://www.MyHairyDilemma.b3.nu
>
>
> 
>
>Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 
>
>  
>



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Wed Jul 23 08:50:44 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: another nondeterminism question
Message-ID: <72C9789739C4214096AE945753B11EA32A5EA7@mypxmail04.bco-home.com>

I also couldn't figure out how to get this to work with syntactic predicates
because of ANTLR's linear approximation.  So, basically I had to do full
LL(k) analysis by hand and put it into semantic predicates.  For this simple
example it wasn't too hard.  

S: {LA(1)=='a'||(LA(1)=='b' && (LA(2)=='b'))}?
    ('a' | {LA(1)=='b' && (LA(2)=='b')}?"bb")+ 
   | 'b' {$setType(B);}
   ;

output:
S: a
B: b
S: a

Test it out and let me know if there are other inputs that fail.

Look at the generated code and note that semantic predicates are preceded by
the lookahead for that alternative.  Because of that the following should
work:

S: {LA(2)=='b'}?
    ('a' | {LA(2)=='b'}?"bb")+ 
   | 'b' {$setType(B);}
   ;

However I prefer the other as being more clear.  The compiler should be
optimizing the tests so there is no performance penalty.

Monty

-----Original Message-----
From: Adrian Sandor [mailto:aditsu@yahoo.com] 
Sent: Tuesday, July 22, 2003 3:10 PM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: another nondeterminism question


--- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> Argh.  Could you summarize your different attempts so I can try
them out and
> see what is happening?

I'll try, but maybe I can't remember them exactly

first, the common part (excluding the S, A, B rules):

---8<---
class l1 extends Lexer;
NL: '\r'|'\n';

class p1 extends Parser;
start: (s|b)+ NL;
s: x:S{System.out.println("S: "+x.getText());};
b: x:B{System.out.println("B: "+x.getText());};
--->8---

you can try them all with k=1 and k=2
also the input I tried is the same: aba


Attempt 1:

protected A: 'a' | "bb";
B: 'b';
S: (A)+;

results:
nondeterminism; exception: line 1:3: expecting 'b', found 'a'


Attempt 2:

protected A: 'a' | ("bb")=>"bb" | 'b'{$setType(B);};
S: (A)+;

results:
S: aba


Attempt 3:

protected A: 'a' | {LA(2)=='b'}? "bb" | {LA(2)!='b'}? 'b'{$setType (B);};
S: (A)+;

results:
S: aba


Attempt 4:

protected A: 'a' | {LA(2)=='b'}? "bb";
B: {LA(2)!='b'}? 'b';
S: (A)+;

results:
exception: line 1:2: unexpected char: 'b'


Attempt 5:

protected A: 'a' | "bb" | ('b' ~('b'))=>'b'{$setType(B);};
S: (A)+;

results:
nondeterminism; exception: line 1:3: expecting 'b', found 'a'


Attempt 6:

protected A: 'a' | BB;
B: ("bb")=>"bb"{$setType(BB);} | {LA(2)!='b'}? 'b';
protected BB: "bb";
S: (A)+;

results:
nondeterminism; exception: line 1:3: expecting 'b', found 'a'


Attempt 7:

S: ('a' | "bb")=>('a' | "bb")+ | 'b' {$setType(B);};

results:
exception: line 1:3: expecting 'b', found 'a'


Attempt 8:

S: ('a' | "bb")=>(('a')=>'a' | ("bb")=>"bb")+ | 'b' {$setType(B);};

results:
exception: line 1:3: expecting 'b', found 'a'


Attempt 9:

S: ('a'|("bb")=>"bb")+ | 'b'{$setType(B);};

results:
nondeterminism; exception: line 1:3: expecting 'b', found 'a'


Attempt 10:

S: ('a' | "bb")=>(('a')=>'a' | ("bb")=>"bb")+ | 'b' {$setType(B);};

results:
exception: line 1:3: expecting 'b', found 'a'


argh.. I'm tired, 10 should be enough
let me know if you find any solution

thanks
Adrian

> -----Original Message-----
> From: Adrian Sandor [mailto:aditsu@y...]
> Sent: Saturday, July 19, 2003 5:53 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: another nondeterminism question
> 
> 
> the problem is that the new syn preds make NO difference
> I compared the generated lexers (java source code) and besides a
renamed
> counter variable, they're identical
> 
> my initial approach was something like this:
> 
> class l1 extends Lexer;
> protected A: 'a' | ("bb")=>"bb" | 'b'{$setType(B);};
> S: (A)+;
> 
> but it also fails because when the lexer matches a single 'b'
inside the S,
> it doesn't care that it has a different type and continues the loop
> 
> I'm wondering if antlr is simply unable to generate a lexer for
this "too
> complicated" language
> 
> Adrian
> 
> --- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> > Ack.  Apparently we need a syn pred in the loop as well!  Try
some 
> > variations of this and inspect the generated code to make sure it
is
> working
> > correctly.  Ignore the warning about superfluous syn preds if one
> comes up.
> > 
> > class l1 extends Lexer;
> > S: ('a' | "bb")=>(('a')=>'a' | ("bb")=>"bb")+ | 'b' {$setType
(B);};
> > 
> > Monty
> > 
> > -----Original Message-----
> > From: Adrian Sandor [mailto:aditsu@y...]
> > Sent: Wednesday, July 16, 2003 10:14 PM
> > To: antlr-interest@yahoogroups.com
> > Subject: [antlr-interest] Re: another nondeterminism question
> > 
> > 
> > 
> > well, everything is ok... except that once the lexer starts 
> > recognizing an S, it fails to detect a B:
> > 
> > the grammar:
> > ---8<---
> > class l1 extends Lexer;
> > S: ('a' | "bb")=>('a' | "bb")+ | 'b' {$setType(B);};
> > 
> > class p1 extends Parser;
> > start: (S|B)+;
> > --->8---
> > 
> > input data: aba
> > result: exception: line 1:3: expecting 'b', found 'a'
> > 
> > this is still ok for the "//" comments in my grammar, but it's
not ok
> > in other cases, like Sanjiv's message
> > http://groups.yahoo.com/group/antlr-interest/message/8965
> > 
> > I'm going to read about that linear approximation thing...
> > 
> > Adrian
> > 
> > --- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> > > In fact you may need a syntactic predicate because of the linear 
> > > approximation issue:
> > > 
> > > 
> > > S: ('a'|"bb")=>('a' | "bb")+
> > >    | 'b' {$setType(B);}
> > >    ;
> > > 
> > > Let me know, I don't have time to try it out right now.
> > > 
> > > Monty
> > > -----Original Message-----
> > > From: mzukowski@y... [mailto:mzukowski@y...]
> > > Sent: Wednesday, July 16, 2003 11:46 AM
> > > To: antlr-interest@yahoogroups.com
> > > Subject: RE: [antlr-interest] Re: another nondeterminism
question
> > > 
> > > 
> > > OK, this is an linear approximation issue.  If you had A:"aa"
> > | "bb" things
> > > would work.  This example is very abstract.  I would code it
like
> > this:
> > > 
> > > S: ('a' | "bb")+
> > >    | 'b' {$setType(B);}
> > >    ;
> > > 
> > > Look up linear approximation in the FAQ & archives.
> > > 
> > > Monty
> > > -----Original Message-----
> > > From: Adrian Sandor [mailto:aditsu@y...]
> > > Sent: Wednesday, July 16, 2003 11:26 AM
> > > To: antlr-interest@yahoogroups.com
> > > Subject: [antlr-interest] Re: another nondeterminism question
> > > 
> > > 
> > > ok, I tried with the following grammar:
> > > 
> > > class l1 extends Lexer;
> > > options{k=2;}
> > > protected A: 'a' | "bb";
> > > B: 'b';
> > > S: (A)=>(A)+;
> > > 
> > > and I got:
> > > 
> > > ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
> > > t1.g: warning:lexical nondeterminism between rules B and S upon
> > > t1.g:     k==1:'b'
> > > t1.g:     k==2:<end-of-token>
> > > t1.g:5: warning:Syntactic predicate ignored for single
alternative
> > > 
> > > 
> > > Adrian
> > > 
> > > --- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> > > > That's a weird bug you ran into, I think.  It should give
warnings
> > > in both
> > > > cases.  You could solve this with a syntactic predicate:
> > > > 
> > > > S: (A)=>(A)+;
> > > > 
> > > > -----Original Message-----
> > > > From: Adrian Sandor [mailto:aditsu@y...]
> > > > Sent: Friday, July 11, 2003 9:54 AM
> > > > To: antlr-interest@yahoogroups.com
> > > > Subject: [antlr-interest] another nondeterminism question
> > > > 
> > > > 
> > > > why do I get a nondeterminism warning for this grammar:
> > > > 
> > > > class l1 extends Lexer;
> > > > options{k=2;}
> > > > protected A: 'a' | "bb";
> > > > B: 'b';
> > > > S: (A)+;
> > > > 
> > > > but I don't get any warning when I change S to:
> > > > 
> > > > S: A (A)+;
> > > > 
> > > > and how can I solve it for the first case?
> > > > I tried many things but to no avail...
> > > > 
> > > > thanks
> > > > Adrian
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From parrt at cs.usfca.edu  Wed Jul 23 10:02:14 2003
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] My hairy dilemma...
In-Reply-To: <3F1E8C7B.1080902@cs.yorku.ca>
Message-ID: <689E24BF-BD2F-11D7-8BEE-000A95891192@cs.usfca.edu>

Pretty funny...yeah, I can't believe spammers are actually signing up 
to the various lists...you have to register to do it with this list.  
I've been talking with Monty about using James to take over our mailing 
list and just host it at antlr.org.

Ter

On Wednesday, July 23, 2003, at 06:24 AM, Dave Makalsky wrote:

> What do you think, Mr. Parr?  :)
>
> This is by far the most ridiculous spam I've ever seen!
>
> <bush> ::= Heart-shaped | Arrow | Landing Strip | Clean |  Smiley | 
> Scary
>
> What kind of lookahead do we need for this nasty grammar?
>
> :)
>
> Cheers,
>
> DM
>
> daria_delish wrote:
>
>> Should I shave my bush?
>> I need some input on this...No can give me a consistent answer. :(
>>
>> Heart-shape
>> Arrow
>> Landing Strip
>> Shaved clean
>> Smiley face
>> Or do nothing and leave it hairy-scarey.
>>
>> What do you think? This is what it looks like now
>>
>> http://www.MyHairyDilemma.b3.nu
>>
>>
>>
>>
>> Your use of Yahoo! Groups is subject to 
>> http://docs.yahoo.com/info/terms/
>>
>>
>>
>
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
>
--
Professor Comp. Sci., University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Co-founder, http://www.jguru.com
Co-founder, http://www.knowspam.net enjoy email again!
Co-founder, http://www.peerscope.com pure link sharing




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rbugh at journee.com  Wed Jul 23 11:13:50 2003
From: rbugh at journee.com (robbugh)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Lexer Inheritance
Message-ID: <bfmj8u+lv1b@eGroups.com>

Is there a way, in ANTLR 2.7.2, to sub type a lexer adding only a new 
token to the "tokens {}" statement, i.e., without adding new rules? 
Something like the example shown below: 

class mySubLexer extends myLexer
tokens {
   NEW_TOKEN = "new_token";
}
ANTLR reports an error in this case: 

unexpected token: null 

Rob Bugh 
rbugh@journee.com


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From aditsu at yahoo.com  Wed Jul 23 19:21:53 2003
From: aditsu at yahoo.com (Adrian Sandor)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: another nondeterminism question
In-Reply-To: <72C9789739C4214096AE945753B11EA32A5EA7@mypxmail04.bco-home.com>
Message-ID: <bfnfs1+2clv@eGroups.com>

--- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> [...] I had to do full
> LL(k) analysis by hand and put it into semantic predicates.  For
this simple
> example it wasn't too hard.  
> 
> S: {LA(1)=='a'||(LA(1)=='b' && (LA(2)=='b'))}?
>     ('a' | {LA(1)=='b' && (LA(2)=='b')}?"bb")+ 
>    | 'b' {$setType(B);}
>    ;
>
> [...]
> Test it out and let me know if there are other inputs that fail.

this one works, thanks a lot :)

> [...] the following should work:
> 
> S: {LA(2)=='b'}?
>     ('a' | {LA(2)=='b'}?"bb")+ 
>    | 'b' {$setType(B);}
>    ;

sorry, this one doesn't work.. maybe I'll try to fix it

also see my next message

Adrian

> -----Original Message-----
> From: Adrian Sandor [mailto:aditsu@y...] 
> Sent: Tuesday, July 22, 2003 3:10 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: another nondeterminism question
> 
> 
> --- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> > Argh.  Could you summarize your different attempts so I can try
> them out and
> > see what is happening?
> 
> I'll try, but maybe I can't remember them exactly
> 
> first, the common part (excluding the S, A, B rules):
> 
> ---8<---
> class l1 extends Lexer;
> NL: '\r'|'\n';
> 
> class p1 extends Parser;
> start: (s|b)+ NL;
> s: x:S{System.out.println("S: "+x.getText());};
> b: x:B{System.out.println("B: "+x.getText());};
> --->8---
> 
> you can try them all with k=1 and k=2
> also the input I tried is the same: aba
> 
> 
> Attempt 1:
> 
> protected A: 'a' | "bb";
> B: 'b';
> S: (A)+;
> 
> results:
> nondeterminism; exception: line 1:3: expecting 'b', found 'a'
> 
> 
> Attempt 2:
> 
> protected A: 'a' | ("bb")=>"bb" | 'b'{$setType(B);};
> S: (A)+;
> 
> results:
> S: aba
> 
> 
> Attempt 3:
> 
> protected A: 'a' | {LA(2)=='b'}? "bb" | {LA(2)!='b'}? 'b'{$setType
(B);};
> S: (A)+;
> 
> results:
> S: aba
> 
> 
> Attempt 4:
> 
> protected A: 'a' | {LA(2)=='b'}? "bb";
> B: {LA(2)!='b'}? 'b';
> S: (A)+;
> 
> results:
> exception: line 1:2: unexpected char: 'b'
> 
> 
> Attempt 5:
> 
> protected A: 'a' | "bb" | ('b' ~('b'))=>'b'{$setType(B);};
> S: (A)+;
> 
> results:
> nondeterminism; exception: line 1:3: expecting 'b', found 'a'
> 
> 
> Attempt 6:
> 
> protected A: 'a' | BB;
> B: ("bb")=>"bb"{$setType(BB);} | {LA(2)!='b'}? 'b';
> protected BB: "bb";
> S: (A)+;
> 
> results:
> nondeterminism; exception: line 1:3: expecting 'b', found 'a'
> 
> 
> Attempt 7:
> 
> S: ('a' | "bb")=>('a' | "bb")+ | 'b' {$setType(B);};
> 
> results:
> exception: line 1:3: expecting 'b', found 'a'
> 
> 
> Attempt 8:
> 
> S: ('a' | "bb")=>(('a')=>'a' | ("bb")=>"bb")+ | 'b' {$setType(B);};
> 
> results:
> exception: line 1:3: expecting 'b', found 'a'
> 
> 
> Attempt 9:
> 
> S: ('a'|("bb")=>"bb")+ | 'b'{$setType(B);};
> 
> results:
> nondeterminism; exception: line 1:3: expecting 'b', found 'a'
> 
> 
> Attempt 10:
> 
> S: ('a' | "bb")=>(('a')=>'a' | ("bb")=>"bb")+ | 'b' {$setType(B);};
> 
> results:
> exception: line 1:3: expecting 'b', found 'a'
> 
> 
> argh.. I'm tired, 10 should be enough
> let me know if you find any solution
> 
> thanks
> Adrian
> 
> > -----Original Message-----
> > From: Adrian Sandor [mailto:aditsu@y...]
> > Sent: Saturday, July 19, 2003 5:53 AM
> > To: antlr-interest@yahoogroups.com
> > Subject: [antlr-interest] Re: another nondeterminism question
> > 
> > 
> > the problem is that the new syn preds make NO difference
> > I compared the generated lexers (java source code) and besides a
> renamed
> > counter variable, they're identical
> > 
> > my initial approach was something like this:
> > 
> > class l1 extends Lexer;
> > protected A: 'a' | ("bb")=>"bb" | 'b'{$setType(B);};
> > S: (A)+;
> > 
> > but it also fails because when the lexer matches a single 'b'
> inside the S,
> > it doesn't care that it has a different type and continues the loop
> > 
> > I'm wondering if antlr is simply unable to generate a lexer for
> this "too
> > complicated" language
> > 
> > Adrian
> > 
> > --- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> > > Ack.  Apparently we need a syn pred in the loop as well!  Try
> some 
> > > variations of this and inspect the generated code to make sure it
> is
> > working
> > > correctly.  Ignore the warning about superfluous syn preds if one
> > comes up.
> > > 
> > > class l1 extends Lexer;
> > > S: ('a' | "bb")=>(('a')=>'a' | ("bb")=>"bb")+ | 'b' {$setType
> (B);};
> > > 
> > > Monty
> > > 
> > > -----Original Message-----
> > > From: Adrian Sandor [mailto:aditsu@y...]
> > > Sent: Wednesday, July 16, 2003 10:14 PM
> > > To: antlr-interest@yahoogroups.com
> > > Subject: [antlr-interest] Re: another nondeterminism question
> > > 
> > > 
> > > 
> > > well, everything is ok... except that once the lexer starts 
> > > recognizing an S, it fails to detect a B:
> > > 
> > > the grammar:
> > > ---8<---
> > > class l1 extends Lexer;
> > > S: ('a' | "bb")=>('a' | "bb")+ | 'b' {$setType(B);};
> > > 
> > > class p1 extends Parser;
> > > start: (S|B)+;
> > > --->8---
> > > 
> > > input data: aba
> > > result: exception: line 1:3: expecting 'b', found 'a'
> > > 
> > > this is still ok for the "//" comments in my grammar, but it's
> not ok
> > > in other cases, like Sanjiv's message
> > > http://groups.yahoo.com/group/antlr-interest/message/8965
> > > 
> > > I'm going to read about that linear approximation thing...
> > > 
> > > Adrian
> > > 
> > > --- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> > > > In fact you may need a syntactic predicate because of the linear 
> > > > approximation issue:
> > > > 
> > > > 
> > > > S: ('a'|"bb")=>('a' | "bb")+
> > > >    | 'b' {$setType(B);}
> > > >    ;
> > > > 
> > > > Let me know, I don't have time to try it out right now.
> > > > 
> > > > Monty
> > > > -----Original Message-----
> > > > From: mzukowski@y... [mailto:mzukowski@y...]
> > > > Sent: Wednesday, July 16, 2003 11:46 AM
> > > > To: antlr-interest@yahoogroups.com
> > > > Subject: RE: [antlr-interest] Re: another nondeterminism
> question
> > > > 
> > > > 
> > > > OK, this is an linear approximation issue.  If you had A:"aa"
> > > | "bb" things
> > > > would work.  This example is very abstract.  I would code it
> like
> > > this:
> > > > 
> > > > S: ('a' | "bb")+
> > > >    | 'b' {$setType(B);}
> > > >    ;
> > > > 
> > > > Look up linear approximation in the FAQ & archives.
> > > > 
> > > > Monty
> > > > -----Original Message-----
> > > > From: Adrian Sandor [mailto:aditsu@y...]
> > > > Sent: Wednesday, July 16, 2003 11:26 AM
> > > > To: antlr-interest@yahoogroups.com
> > > > Subject: [antlr-interest] Re: another nondeterminism question
> > > > 
> > > > 
> > > > ok, I tried with the following grammar:
> > > > 
> > > > class l1 extends Lexer;
> > > > options{k=2;}
> > > > protected A: 'a' | "bb";
> > > > B: 'b';
> > > > S: (A)=>(A)+;
> > > > 
> > > > and I got:
> > > > 
> > > > ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
> > > > t1.g: warning:lexical nondeterminism between rules B and S upon
> > > > t1.g:     k==1:'b'
> > > > t1.g:     k==2:<end-of-token>
> > > > t1.g:5: warning:Syntactic predicate ignored for single
> alternative
> > > > 
> > > > 
> > > > Adrian
> > > > 
> > > > --- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> > > > > That's a weird bug you ran into, I think.  It should give
> warnings
> > > > in both
> > > > > cases.  You could solve this with a syntactic predicate:
> > > > > 
> > > > > S: (A)=>(A)+;
> > > > > 
> > > > > -----Original Message-----
> > > > > From: Adrian Sandor [mailto:aditsu@y...]
> > > > > Sent: Friday, July 11, 2003 9:54 AM
> > > > > To: antlr-interest@yahoogroups.com
> > > > > Subject: [antlr-interest] another nondeterminism question
> > > > > 
> > > > > 
> > > > > why do I get a nondeterminism warning for this grammar:
> > > > > 
> > > > > class l1 extends Lexer;
> > > > > options{k=2;}
> > > > > protected A: 'a' | "bb";
> > > > > B: 'b';
> > > > > S: (A)+;
> > > > > 
> > > > > but I don't get any warning when I change S to:
> > > > > 
> > > > > S: A (A)+;
> > > > > 
> > > > > and how can I solve it for the first case?
> > > > > I tried many things but to no avail...
> > > > > 
> > > > > thanks
> > > > > Adrian
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From aditsu at yahoo.com  Wed Jul 23 19:23:51 2003
From: aditsu at yahoo.com (Adrian Sandor)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Fwd: Re: another nondeterminism question
Message-ID: <20030724022351.12709.qmail@web40302.mail.yahoo.com>


here are 2 solutions that work
thanks Lubos!

--- lubos.vnuk@rzb.at wrote:
> 
> Hi Adrian,
> 
> sorry not to reply directly to the ANTLR group but
> our proxy won't let me
> log on.
> 
> 
> I have 2 solutions for you:
> 
> class Test extends Lexer;
> options {k = 2;}
> 
> S: 'a' ('a' | {LA(2)=='b'}? "bb")*
> | "bb" ('a' | {LA(2)=='b'}? "bb")*
> | 'b' {$setType(B);}
> ;
> 
> 
> 
> class Test extends Lexer;
> options {k = 2;}
> 
> S: 'a' ('a' | {LA(2)=='b'}? "bb")*;
> S2: "bb" ('a' | {LA(2)=='b'}? "bb")* {$setType(S);};
> B: 'b';
> 
> 
> You may forward this to the newsgroup if it works,
> Lubos.


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From 98vdxjfr02 at sneakemail.com  Thu Jul 24 01:24:03 2003
From: 98vdxjfr02 at sneakemail.com (mafw14)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: Handling identifiers
In-Reply-To: <72C9789739C4214096AE945753B11EA32A5E9D@mypxmail04.bco-home.com>
Message-ID: <bfo533+oo2@eGroups.com>

--- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> Do identifiers get declared?  
> 
> You may need to handle this in the parser, the same way I handle 
typedefs in
> the gcc grammar http://www.codetransform.com/gcc.html with a 
semantic
> predicate.
> 
> Could you give some sample text?
> How do you know when to put an identifier into the literals hash 
table?

Thanks for your reply.  The identifiers are not declared within
the language but are predefined.  I do not want to include them
as keywords in the language but have a class that defines them
so the identifiers can be changed and that each identifier can
have attributes (such as data type).  The language is stronly
typed so I want to prevent an integer being compared with a
float etc.

I think I have partly figured it out now - I have modified
the rule for an identifier as follows:

IDENTIFIER
	options {testLiterals=true; }
	: t:LETTERS
	{
		if (Identifier.isNotIdentifier(t.getText()))
		{
			$setType(STRING_T);
		}
	}
	;

I wish to save the data type of each literal or identifier on
the AST.  Is there an easy way to extend the AST to store
additional attibutes?  BTW: This parser is only used as a
checker and does not generate any code.

A sample of the text of the language is:

(MSG_TYPE = XXX) AND (VALUE > 0.001) OR NOT (SOURCE IN ["S1", "S22"])

where MSG_TYPE and SOURCE are identifiers of type STRING_T and
VALUE is of type REAL_T.  XXX is a literal string (does not have to
be enclosed in quotes).  The square brackets enclose a set of
strings.

Thanks, Mark.



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rameshkum45 at yahoo.com  Thu Jul 24 06:36:06 2003
From: rameshkum45 at yahoo.com (Ramesh Kumar Rangarajan)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Help on Nested Sequence
Message-ID: <20030724133606.73772.qmail@web40201.mail.yahoo.com>

Hi,

Can anyone throw some light on When exactly Nested
Sequence will be used and how it can be used in an
application. (For examples to store some data in a
nested sequence and to retrieve it back.)

It will be great if somebody could give an idea or a
sample program on this at the earliest.

Regards,
Ramesh.

__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From atripp at comcast.net  Thu Jul 24 07:12:36 2003
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] broken link on antlr.org page
Message-ID: <bfopgk+sfk9@eGroups.com>

The link to John Merrell's blog on the
"getting started" page of antlr.org should be changed to:
http://www.merrells.com/john/blog/archives/000100.html

It might be nice to have a link on the website to report
problems with the website.

Andy


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From atripp at comcast.net  Thu Jul 24 07:20:05 2003
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: ANTLR questionaire
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409A468@lnml1.eca-international.local>
Message-ID: <bfopul+92sf@eGroups.com>

I don't understand.
You're saying you can't understand these questions???
Which question don't you understand?
My whole goal with these questions was to make them
understandable by any programmer.
Heck, even most non-programmers would understand most of them!

Andy

--- In antlr-interest@yahoogroups.com, "Anthony W Youngman"
<Anthony.Youngman@E...> wrote:
> A *BIG* problem with a questionnaire like that - especially if filled in
> at download - is users like me. An experienced (guru?) programmer, but
> with no oo or compiler experience, most of those questions would have
> made perfect sense syntactically, but been semantically incomprehensible
> ... :-)



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From Anthony.Youngman at ECA-International.com  Thu Jul 24 07:27:59 2003
From: Anthony.Youngman at ECA-International.com (Anthony W Youngman)
Date: Mon Dec 20 16:15:50 2004
Subject: [antlr-interest] Re: ANTLR questionaire
Message-ID: <C7FE35004D40FD45AA342991B88CE40409A47C@lnml1.eca-international.local>

Which is why I drew a CAREFUL distinction between SYNTAX and SEMANTICS.

In other words, at the point at which I downloaded antlr, I would have
understood perfectly what you were asking. It's just that in my case,
most of the questions would not have been capable of being answered.
Just because the question makes sense doesn't mean that the questionee
can provide a sensible answer... like asking a colourblind person
whether they prefer red or green ...

Cheers,
Wol

-----Original Message-----
From: atripp54321 [mailto:atripp@comcast.net] 
Sent: 24 July 2003 15:20
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: ANTLR questionaire


I don't understand.
You're saying you can't understand these questions???
Which question don't you understand?
My whole goal with these questions was to make them
understandable by any programmer.
Heck, even most non-programmers would understand most of them!

Andy

--- In antlr-interest@yahoogroups.com, "Anthony W Youngman"
<Anthony.Youngman@E...> wrote:
> A *BIG* problem with a questionnaire like that - especially if filled
in
> at download - is users like me. An experienced (guru?) programmer, but
> with no oo or compiler experience, most of those questions would have
> made perfect sense syntactically, but been semantically
incomprehensible
> ... :-)



 

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 9911 7799, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

From mzukowski at yci.com  Thu Jul 24 08:29:22 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Re: Handling identifiers
Message-ID: <72C9789739C4214096AE945753B11EA32A5EB4@mypxmail04.bco-home.com>

You can add attributes to ASTs by subclassing.  Again the gcc grammar has an
example of that (in Java) in TNode.java.

Looks like you handled this in the lexer the right way.

Monty

-----Original Message-----
From: mafw14 [mailto:98vdxjfr02@sneakemail.com] 
Sent: Thursday, July 24, 2003 1:24 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Re: Handling identifiers


--- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> Do identifiers get declared?
> 
> You may need to handle this in the parser, the same way I handle
typedefs in
> the gcc grammar http://www.codetransform.com/gcc.html with a
semantic
> predicate.
> 
> Could you give some sample text?
> How do you know when to put an identifier into the literals hash
table?

Thanks for your reply.  The identifiers are not declared within
the language but are predefined.  I do not want to include them
as keywords in the language but have a class that defines them
so the identifiers can be changed and that each identifier can
have attributes (such as data type).  The language is stronly
typed so I want to prevent an integer being compared with a
float etc.

I think I have partly figured it out now - I have modified
the rule for an identifier as follows:

IDENTIFIER
	options {testLiterals=true; }
	: t:LETTERS
	{
		if (Identifier.isNotIdentifier(t.getText()))
		{
			$setType(STRING_T);
		}
	}
	;

I wish to save the data type of each literal or identifier on
the AST.  Is there an easy way to extend the AST to store
additional attibutes?  BTW: This parser is only used as a
checker and does not generate any code.

A sample of the text of the language is:

(MSG_TYPE = XXX) AND (VALUE > 0.001) OR NOT (SOURCE IN ["S1", "S22"])

where MSG_TYPE and SOURCE are identifiers of type STRING_T and
VALUE is of type REAL_T.  XXX is a literal string (does not have to
be enclosed in quotes).  The square brackets enclose a set of
strings.

Thanks, Mark.



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Thu Jul 24 08:30:31 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Help on Nested Sequence
Message-ID: <72C9789739C4214096AE945753B11EA32A5EB5@mypxmail04.bco-home.com>

Not enough information here to know what you are talking about.

Monty

-----Original Message-----
From: Ramesh Kumar Rangarajan [mailto:rameshkum45@yahoo.com] 
Sent: Thursday, July 24, 2003 6:36 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Help on Nested Sequence


Hi,

Can anyone throw some light on When exactly Nested
Sequence will be used and how it can be used in an
application. (For examples to store some data in a
nested sequence and to retrieve it back.)

It will be great if somebody could give an idea or a
sample program on this at the earliest.

Regards,
Ramesh.

__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From open.zone at virgin.net  Fri Jul 25 05:33:47 2003
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Full typechecker written as TreeParser?
Message-ID: <bfr83b+79ri@eGroups.com>

I am looking for samples of projects that implement full typechecking 
(or a framework that support it) using a treeparser. I am 
experimenting with typechecking for a subset of Java (defined by how 
easily/quickly I can support any particular feature) and I guess I 
just haven't grokked treeparsers fully yet. The ANTLR projects I've 
seen in the wild tend to use heavily modified visitors or other 
intractable custom evaluators for full typechecking.

The examples doesn't have to be dealing with Java. Even a small 
language like Pascal/BASIC would be fine.

Cheers,

Micheal 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mazlanmat at yahoo.com  Sat Jul 26 04:36:42 2003
From: mazlanmat at yahoo.com (mazlanmat)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Preventing antlr from calling required rule
Message-ID: <bftp4a+ac1b@eGroups.com>

Hello there
Is is possible to prevent antlr from calling required rule(let say
RuleA) after the same rule (RuleA) has been matched in the subrule
(RuleB)
Example:
MainRule
     : RuleB
       RuleA

RuleA
     : //
     ;

RuleB
     : (another rule
       | RuleA
     )
     ;

In the mainRule above, RuleA must be matched after RuleB, but RuleB
also might contains RuleA.The problem here is that after RuleA has
been matched in RuleB, MainRule will always try to match RuleA (which
is already been matched)


Thanks
Mazlan


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From oliver at zeigermann.de  Sun Jul 27 01:09:51 2003
From: oliver at zeigermann.de (Oliver Zeigermann)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Re: Preventing antlr from calling required rule
In-Reply-To: <bftp4a+ac1b@eGroups.com>
Message-ID: <bg01cf+li3b@eGroups.com>

Hi!

Your grammar seems to be quite unusual. I was wondering if there 
isn't a better way to achive what you want. 

Anyway, if this is what you want to do you might use semantic 
predicates: Set some sort of flag when RuleA is matched in RuleB and 
check for it before calling rule RuleA from MainRule.

Can not check this now, but should work like this:

<after class decl>
{
  private ruleAFlag = false;
}

MainRule
     : RuleB
       { !ruleAFlag }? RuleA
     ;

RuleA
     : //
     ;

RuleB
     : (another rule
       | RuleA { ruleAFlag = true; }
     )
     ;

Hope this helps,

Oliver

P.S.: When using this in combination with syntactic predicates you 
might run into trouble as execution of code ("ruleAFlag = true") in 
guessing mode is switchted off.


--- In antlr-interest@yahoogroups.com, "mazlanmat" <mazlanmat@y...> 
wrote:
> Hello there
> Is is possible to prevent antlr from calling required rule(let say
> RuleA) after the same rule (RuleA) has been matched in the subrule
> (RuleB)
> Example:
> MainRule
>      : RuleB
>        RuleA
> 
> RuleA
>      : //
>      ;
> 
> RuleB
>      : (another rule
>        | RuleA
>      )
>      ;
> 
> In the mainRule above, RuleA must be matched after RuleB, but RuleB
> also might contains RuleA.The problem here is that after RuleA has
> been matched in RuleB, MainRule will always try to match RuleA 
(which
> is already been matched)
> 
> 
> Thanks
> Mazlan


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From aaronnauman at yahoo.com  Sun Jul 27 09:31:33 2003
From: aaronnauman at yahoo.com (Aaron Nauman)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Building antlr libs on MS Visual C++ 6 SP5
Message-ID: <bg0up5+64c8@eGroups.com>

I ran into a couple of issues building 2.7.2 with VC6 service pack 5.

Currently config.hpp includes the following for MSVC

// For the DLL support contributed by Stephen Naughton
# ifdef ANTLR_EXPORTS
#  undef ANTLR_API
#  define ANTLR_API __declspec(dllexport)
# else
#  undef ANTLR_API
#  define ANTLR_API __declspec(dllimport)
# endif

This assumes that you are building a dll and causes problems when
trying to build a static library.  I suggest wrapping this with
something like

// Uncomment the following to build/use a DLL  
// Define ANTLR_EXPORTS in project settings when building DLL
// #define ANTLR_DLL 1

// For the DLL support contributed by Stephen Naughton
# ifdef ANTLR_DLL
#  ifdef ANTLR_EXPORTS
#   undef ANTLR_API
#   define ANTLR_API __declspec(dllexport)
#  else
#   undef ANTLR_API
#   define ANTLR_API __declspec(dllimport)
#  endif
# endif

Also there are a number of template instantiations sprinkled around
the source to keep some version of MSVC happy.  

#if defined(_MSC_VER) && !defined(__ICL) // Microsoft Visual C++
extern template class ANTLR_API ASTRefCount<AST>;
#endif

These cause warnings and are not needed in the latest versions of
MSVC.  Does anyone know which versions do require these so that we can
include those only when necessary?  I had to comment these out to
build.

Aaron


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From antlrlist at yahoo.com  Sun Jul 27 16:42:50 2003
From: antlrlist at yahoo.com (antlrlist)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Re: Full typechecker written as TreeParser?
In-Reply-To: <bfr83b+79ri@eGroups.com>
Message-ID: <bg1o1q+41a9@eGroups.com>


Hello Micheal

I've been thinking about typechecking and implementing it for the last
two months, and I've putted all I've foud about it on antlraux.

An old version of antlraux is available for download here:

http://imaginatica.us.es/~enrique/antlraux/

A newer version will be uploaded to the new site this week.

typechecking classes are contained in antlraux.context package.

The system is very simple. I call it the Scope/Declaration/Type
system, because those are the main classes you use all the time.

- Declaration for modelizing scope entries
- Scope for organizing Declarations hierarchically
- Type for types.

This way the system is powerfull enought to handle inheritance and
polymorphysm.

Have a look, and tell me what you think...

Enrique



> I am looking for samples of projects that implement full typechecking 
> (or a framework that support it) using a treeparser. I am 
> experimenting with typechecking for a subset of Java (defined by how 
> easily/quickly I can support any particular feature) and I guess I 
> just haven't grokked treeparsers fully yet. The ANTLR projects I've 
> seen in the wild tend to use heavily modified visitors or other 
> intractable custom evaluators for full typechecking.
> 
> The examples doesn't have to be dealing with Java. Even a small 
> language like Pascal/BASIC would be fine.
> 
> Cheers,
> 
> Micheal


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From tomdavies at optushome.com.au  Sun Jul 27 17:53:27 2003
From: tomdavies at optushome.com.au (Tom Davies)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Another Comments question
In-Reply-To: <1059290313.234.91810.m12@yahoogroups.com>
References: <1059290313.234.91810.m12@yahoogroups.com>
Message-ID: <1059353606.2896.9.camel@al>

I'm using the hidden tokens approach, keeping my own List of tokens, and
recording in my parser which ranges of tokens should have their comments
before a particular tree node.

So my parser rule looks like:
program
  : pSection c1:"CL"! c2:COLON!
    (specSection)? (argSection)? (commonSection)? (localSection)?
    (clDeclSection)* (procDeclSection)*
    (statement)* c3:"END"! c4:"CL"! c5:SEP!
  { ## = #([CL,"CL"], ##);
    Context.get().setBeforeComments(##,c1,c2);
    Context.get().setAfterComments(##,c3,c5);
  }
  ;

And the corresponding tree parser rule looks like:
program returns [
  UnitSpec u = null;
  String args="", common="", local="", stats="", psectionComments = ""
  ] 
  : #(c:CL (psectionComments = psection) (args=argSection)?
(common=commonSection)? (local=localSection)? stats=statementList)
  { u = new UnitSpec(
              args,
	      common,
	      local,
	      stats,
	      Context.get().getSubroutines(),
	      psectionComments + Context.get().commentsBefore(c),
	      Context.get().commentsAfter(c)
	);
  }
  ;

(Context is just the place I keep my symbol table and all the functions
which create my target code)

I also have a rule:
pStatement: ("CL"^ | "DEF"^ | "DD"^ | "ZCL"^ | "SCL"^ | "XCL"^)
	EQUALS! IDENTIFIER (FILESUFFIX)? (COMMA! "NEW")? c:SEP!
	;

I'd like to say:
pStatement: a:("CL"^ | "DEF"^ | "DD"^ | "ZCL"^ | "SCL"^ | "XCL"^)
	EQUALS! IDENTIFIER (FILESUFFIX)? (COMMA! "NEW")? b:SEP!
{ Context.get().setBeforeComments(##,a,b); }
	;

but the construct a:(...) is not allowed. Any good alternative? Can I
say ##.getToken() or an equivalent, to get 'a'?

Thanks,
  Tom

-- 
Tom Davies <tomdavies@optushome.com.au>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From prashanth501 at yahoo.com  Sun Jul 27 19:47:15 2003
From: prashanth501 at yahoo.com (prashanth501)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] _tokenSet_1.member (LA (1)) ??
Message-ID: <bg22rj+ud7j@eGroups.com>

Hi,
  In the java code generated for the parser, I see statements like

  _tokenSet_1.member (LA (1))

And there are things like _tokenSet_2 and so on.

Does anybody know, what these tokenSets are and how they are created.

Thanks.
Prashanth..



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Mon Jul 28 02:53:18 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Building antlr libs on MS Visual C++ 6 SP5
In-Reply-To: <bg0up5+64c8@eGroups.com>; from aaronnauman@yahoo.com on Sun, Jul 27, 2003 at 04:31:33PM -0000
References: <bg0up5+64c8@eGroups.com>
Message-ID: <20030728115316.A18705@cs.utwente.nl>

Hi,

On Sun, Jul 27, 2003 at 04:31:33PM -0000, Aaron Nauman wrote:
> I ran into a couple of issues building 2.7.2 with VC6 service pack 5.

I'm not suprised ;) You are trying to make a DLL or static build?

If you are willing to spend some time on the VC6 stuff could you work of a
recent snapshot? Available at 

http://wwwhome.cs.utwente.nl/~klaren/antlr/

That one is reported to work with VC7, VC7 patches broke VC6 though.

> #if defined(_MSC_VER) && !defined(__ICL) // Microsoft Visual C++
> extern template class ANTLR_API ASTRefCount<AST>;
> #endif

Still need to make a solution for the various MSVC's. Probably need some
macro to specify the required template stuff for the various versions and
control that from config.hpp.

> These cause warnings and are not needed in the latest versions of
> MSVC.  Does anyone know which versions do require these so that we can
> include those only when necessary?  I had to comment these out to
> build.

Those were needed by VC6 on a previous SP. I myself don't have easy VC6
access and I don't know the compiler to well, so any help is appreciated. 

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     Human beings, who are almost unique in having the ability to learn
   from the experience of others, are also remarkable for their apparent
         disinclination to do so. --- Douglas Adams, Last Chance to See

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From a_j_key at yahoo.com  Mon Jul 28 03:00:05 2003
From: a_j_key at yahoo.com (a_j_key)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] How to delete a node?
Message-ID: <bg2s75+n79b@eGroups.com>

Hi!

I'm asking myself how I could change a position of a special node? 
Let's say I'd like to move an expr-node to another node.

I appreciate your comments,

ajk


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Mon Jul 28 03:03:06 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Another Comments question
In-Reply-To: <1059353606.2896.9.camel@al>; from tomdavies@optushome.com.au on Mon, Jul 28, 2003 at 10:53:27AM +1000
References: <1059290313.234.91810.m12@yahoogroups.com> <1059353606.2896.9.camel@al>
Message-ID: <20030728120303.B18705@cs.utwente.nl>

Hi,

On Mon, Jul 28, 2003 at 10:53:27AM +1000, Tom Davies wrote:
> (Context is just the place I keep my symbol table and all the functions
> which create my target code)
>
> I also have a rule:
> pStatement: ("CL"^ | "DEF"^ | "DD"^ | "ZCL"^ | "SCL"^ | "XCL"^)
> 	EQUALS! IDENTIFIER (FILESUFFIX)? (COMMA! "NEW")? c:SEP!
> 	;
>
> I'd like to say:
> pStatement: a:("CL"^ | "DEF"^ | "DD"^ | "ZCL"^ | "SCL"^ | "XCL"^)
> 	EQUALS! IDENTIFIER (FILESUFFIX)? (COMMA! "NEW")? b:SEP!
> { Context.get().setBeforeComments(##,a,b); }
> 	;

You might be able to get away with

pStatement { Token a; }: ("CL"^ | "DEF"^ | "DD"^ | "ZCL"^ | "SCL"^ | "XCL"^)
{ a = ##.getToken(); }
 	EQUALS! IDENTIFIER (FILESUFFIX)? (COMMA! "NEW")? b:SEP!
 { Context.get().setBeforeComments(##,a,b); }

Else you have to label the alternatives and check them for null (or
nullAST) check the generated code to be sure.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  There are 10 kinds of people - those that understand binary and
  those that don't. --- Unknown

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From aaronnauman at yahoo.com  Mon Jul 28 07:06:38 2003
From: aaronnauman at yahoo.com (Aaron Nauman)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Re: Building antlr libs on MS Visual C++ 6 SP5
In-Reply-To: <20030728115316.A18705@cs.utwente.nl>
Message-ID: <bg3ale+3s0g@eGroups.com>


> If you are willing to spend some time on the VC6 stuff 
> could you work of a recent snapshot? Available at 

Sure, I will take a look.

If there is other versions of the service packs on VC that people
would like to have tested, let me know.  I will try to get a test bed
set up.

Aaron



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From meissnersd at yahoo.com  Mon Jul 28 10:34:28 2003
From: meissnersd at yahoo.com (Karl Meissner)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] bug reports?
Message-ID: <20030728173428.95992.qmail@web40607.mail.yahoo.com>


Ok I looked, I really did. But I cant find it on the web site.   Where do I send a bug
report on the C# implementation?

I even have a fix....



__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From kurtschwehr at yahoo.com  Mon Jul 28 11:43:38 2003
From: kurtschwehr at yahoo.com (kurtschwehr)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] beginner help - Mac OSX trouble?
Message-ID: <bg3qsq+102u1@eGroups.com>

Hey All,

Could someone please tell me what I'm doing wrong in this C++ simple
parser?  Is it 
something I did or trouble with Mac OSX 10.2.6.  I'm also using gcc
3.1.

Thanks!
-kurt


from gdb:

(1+1)

Program received signal EXC_BAD_ACCESS, Could not access memory.
antlr::ASTFactory::create(antlr::RefCount<antlr::Token>) (this=0x0,
tok={ref = 0x2e6960}) at
/usr/include/gcc/darwin/3.1/g++-v3/bits/stl_iterator.h:584

(gdb) bt
#0  antlr::ASTFactory::create(antlr::RefCount<antlr::Token>)
(this=0x0, tok={ref = 0x2e6960}) at
/usr/include/gcc/darwin/3.1/g++-v3/bits/stl_iterator.h:584
#1  0x00004770 in CalcParser::expr() (this=0xbffff9a0) at
CalcParser.cpp:40
#2  0x00005128 in main (argc=1, argv=0xbffffab4) at main.C:16
#3  0x00002940 in _start (argc=1, argv=0xbffffab4, envp=0xbffffabc) at
/SourceCache/Csu/Csu-45/crt.c:267
#4  0x000027c0 in start ()

from CalcParser::expr():
                tmp1_AST = astFactory->create(LT(1));


And here is the code:

main.C:


int main(int argc, char **argv)
{
  try {
    CalcLexer lexer(cin);
    CalcParser parser(lexer);
    parser.expr();
    RefAST t = parser.getAST();
    cout << t->toStringList() << endl;
  } catch(exception& e) {
       cerr << "exception: " << e.what() << endl;
  }
}


calc.g:

options
{
  language="Cpp";
}
class CalcLexer extends Lexer;
public
INTEGER: (DIGIT)+;
LPAREN: '(';
RPAREN: ')';
PLUS: '+';
protected
DIGIT: '0'..'9';

class CalcParser extends Parser;
options
{
  buildAST=true;
}
expr: LPAREN INTEGER (PLUS INTEGER)* RPAREN;


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Mon Jul 28 11:46:18 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] beginner help - Mac OSX trouble?
Message-ID: <72C9789739C4214096AE945753B11EA36B1CB9@mypxmail04.bco-home.com>

You have to initialize the AST factory, something like this:

 ANTLR_USE_NAMESPACE(antlr)ASTFactory my_factory;
  initializeASTFactory(my_factory);
  setASTFactory(&my_factory);

Monty

-----Original Message-----
From: kurtschwehr [mailto:kurtschwehr@yahoo.com] 
Sent: Monday, July 28, 2003 11:44 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] beginner help - Mac OSX trouble?


Hey All,

Could someone please tell me what I'm doing wrong in this C++ simple parser?
Is it 
something I did or trouble with Mac OSX 10.2.6.  I'm also using gcc 3.1.

Thanks!
-kurt


from gdb:

(1+1)

Program received signal EXC_BAD_ACCESS, Could not access memory.
antlr::ASTFactory::create(antlr::RefCount<antlr::Token>) (this=0x0, tok={ref
= 0x2e6960}) at /usr/include/gcc/darwin/3.1/g++-v3/bits/stl_iterator.h:584

(gdb) bt
#0  antlr::ASTFactory::create(antlr::RefCount<antlr::Token>)
(this=0x0, tok={ref = 0x2e6960}) at
/usr/include/gcc/darwin/3.1/g++-v3/bits/stl_iterator.h:584
#1  0x00004770 in CalcParser::expr() (this=0xbffff9a0) at CalcParser.cpp:40
#2  0x00005128 in main (argc=1, argv=0xbffffab4) at main.C:16 #3  0x00002940
in _start (argc=1, argv=0xbffffab4, envp=0xbffffabc) at
/SourceCache/Csu/Csu-45/crt.c:267 #4  0x000027c0 in start ()

from CalcParser::expr():
                tmp1_AST = astFactory->create(LT(1));


And here is the code:

main.C:


int main(int argc, char **argv)
{
  try {
    CalcLexer lexer(cin);
    CalcParser parser(lexer);
    parser.expr();
    RefAST t = parser.getAST();
    cout << t->toStringList() << endl;
  } catch(exception& e) {
       cerr << "exception: " << e.what() << endl;
  }
}


calc.g:

options
{
  language="Cpp";
}
class CalcLexer extends Lexer;
public
INTEGER: (DIGIT)+;
LPAREN: '(';
RPAREN: ')';
PLUS: '+';
protected
DIGIT: '0'..'9';

class CalcParser extends Parser;
options
{
  buildAST=true;
}
expr: LPAREN INTEGER (PLUS INTEGER)* RPAREN;


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From open.zone at virgin.net  Mon Jul 28 12:27:38 2003
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Re: bug reports?
In-Reply-To: <20030728173428.95992.qmail@web40607.mail.yahoo.com>
Message-ID: <bg3tfa+5lt6@eGroups.com>

--- In antlr-interest@yahoogroups.com, Karl Meissner 
<meissnersd@y...> wrote:
> 
> Ok I looked, I really did. But I cant find it on the web site.   
Where do I send a bug
> report on the C# implementation?

You've found it!. You can post the details to this list....  ;-)

> I even have a fix....

Cool. Just one quick note -- the filesharing section of the ANTLR 
website (www.antlr.org) contains an update to the C# bits of ANTLR. 
Please use that first to ensure that the issue you are reporting is 
still an issue.

Cheers,

Micheal
ANTLR/C#



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From netminka at netscape.net  Mon Jul 28 12:36:19 2003
From: netminka at netscape.net (netminka)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] syntactic predicates??
Message-ID: <bg3tvj+76k9@eGroups.com>


I am working on a VB6 to C# translator. There is an intermiediary 
phase
where the VB6 is xlated to VB7; if that translation didn't work,
we won't be able to go to C#. That means if there is residual VB6 
code, it must be commented out. Information that the VB6 to VB7
phase didn't work is in a comment.

So I need to scan forward in a comment to determine if the 
code inside a conditional compile should be put into the comment.
In the example below, the comment follows the single quote. 

#If 0 Then
'UPGRADE_NOTE: #If #EndIf block was not upgraded because the  
expression 0 did not evaluate to True or was not evaluated. Click for 
more: 'ms-help://MS.VSCC/commoner/redir/redirect.htm?
keyword="vbup1035"'
	Do While Not frm.Parent Is Nothing
	iVal = 1400
        Set frm = frm.Parent
	Loop
#End If

The goal above is to include the code in Do...Loop in the comment
associated with the UPGRADE_NOTE. 

My understanding of antlr is that you can't scan forward in the input 
and then push back tokens into the input. You have to use syntactic
predicates for this functionality. I use a COMMENT_PREDICATE rule
to distinguish between comments and these special cases. 

To simplify my problem I'll show just the #if case.
// VB6 code will be part of the UPGRADE comment

COMMENT_PREDICATE
	: ("'UPGRADE_NOTE: #If #EndIf block was not upgraded"
	   ( ~'#')* "#End If")
	   => NO_UPGRADE_IFBLOCK
	   {$setType(NO_UPGRADE_IFBLOCK);}
	|	( SINGLE_QUOTE)
	    => COMMENT_LITERAL
	    {$setType(COMMENT_LITERAL);}
	;
//this recognizes everything between the
//upgrade note and the next conditional dir
protected
NO_UPGRADE_IFBLOCK
	:  ("'" "UPGRADE_NOTE: #If #EndIf block was not upgraded"
	   ( ~'#')*)
	;


The above two rule have the effect of scanning through to the closing 
#END If and then pushing the #End If back on the input so that 
everything that was under the comment becomes part of the comment. 

However, I can't get this rule above, because it is protected, to 
return a token. 
If I add a rule like this:
NO_UPGRADE_NOTE
	:	( SINGLE_QUOTE)
	=> COMMENT_LITERAL
	{$setType(COMMENT_LITERAL);}
	|	NO_UPGRADE_IFBLOCK 
	{$setType(COMMENT_LITERAL);}
	;
then the rule COMMENT_PREDICATE is not called when it should be. 

Any ideas on how to get this to work? Some of the stuff that's 
documented has just not worked for me. Declaring variables results
in compile errors in generated code, etc. Is there no way to scan 
forward on the input and backtrack????? That seems like pretty basic
functionality to me. 
thanks for any assistance. 

megan adams 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From aaronnauman at yahoo.com  Mon Jul 28 13:49:06 2003
From: aaronnauman at yahoo.com (Aaron Nauman)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Re: Building antlr libs on MS Visual C++ 6 SP5
In-Reply-To: <bg3ale+3s0g@eGroups.com>
Message-ID: <bg4282+118n5@eGroups.com>


Hi Ric,

The development version fixes the DLL import/export issues.

I did some testing to try to determine which versions of VC6 require
the template instantiations.  I tried compiling with SP3 and SP4 of
VC6 and neither seemed to require their use.  I am going to try to get
a hold of VC7 tomorrow and try that.  

Any idea what versions require all the template instantiations?  There
seem to be a quite a few added to the development version, so I guess
someone must know.

Aaron


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rodrigobamboo at hotmail.com  Tue Jul 29 03:48:26 2003
From: rodrigobamboo at hotmail.com (Rodrigo B. de Oliveira)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] ANTLR backend for ruby?
Message-ID: <Sea1-DAV13GdmoOATkl0000bd9e@hotmail.com>

Let's say I wanted to write an ANTLR backend for ruby (parser generation and associate runtime support), where would I start? I mean, are there any docs/examples about it? Is it feasible right now or should I wait for the next release?

Thanks!

Rodrigo

PS: I'm just tired of writing C# code, that's all :-)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030729/ca0b3322/attachment.html
From sunshine at public.kherson.ua  Tue Jul 29 03:57:41 2003
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] ANTLR backend for ruby?
In-Reply-To: <Sea1-DAV13GdmoOATkl0000bd9e@hotmail.com>
Message-ID: <BB4C2DD5.21860%sunshine@public.kherson.ua>

on 7/29/03 13:48, Rodrigo B. de Oliveira at rodrigobamboo@hotmail.com wrote:

> Let's say I wanted to write an ANTLR backend for ruby (parser generation and
> associate runtime support), where would I start? I mean, are there any
> docs/examples about it? Is it feasible right now or should I wait for the next
> release?
> 
> Thanks!
> 
> Rodrigo
> 
> PS: I'm just tired of writing C# code, that's all :-)

Current version of ANTLR is very good. So start right now.
Docs are on the site.

I wonder...you are not developer of Ruby, yes?
Ruby develop some Japan developer as I know.

-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From wiggjd at sbu.ac.uk  Tue Jul 29 04:15:57 2003
From: wiggjd at sbu.ac.uk (wiggjd@sbu.ac.uk)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] ASTRefCount.hpp
Message-ID: <60055.81.86.235.19.1059477357.squirrel@webmail.sbu.ac.uk>

I am redeveloping our C++ parser using ANTLR.

I have come across the following coding in ASTRefCount.hpp and
I cannot make sense of the first line. It was included in
support.cpp. It must have compiled but to parse it properly I 
need to understand it. Please could the author (or anyone
else) help?

operator T* () const
	{ return ref ? static_cast<T*>(ref->ptr) : 0; }
T* operator->() const
	{ return ref ? static_cast<T*>(ref->ptr) : 0; }
T* get() const
	{ return ref ? static_cast<T*>(ref->ptr) : 0; }

Problems,
1. It doesn't seem to specify a return type
2. T* is not an operator

Thanks,

David.

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rodrigobamboo at hotmail.com  Tue Jul 29 04:50:56 2003
From: rodrigobamboo at hotmail.com (Rodrigo B. de Oliveira)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] ANTLR backend for ruby?
References: <BB4C2DD5.21860%sunshine@public.kherson.ua>
Message-ID: <Sea1-DAV45AnBfQnMKT0000bdb3@hotmail.com>

> 
> Current version of ANTLR is very good. So start right now.
> Docs are on the site.
>

Thanks. One more question: did you mean the ANTLR 2.7.2
reference manual or a more targeted document on how
to implement a new language specific ActionLexer? (I guess that's
what I'll have to implement if I want ANTLR to support a new language,
yes?)

Anyways, I should be able to figure out what to do by studying the
\antlr\actions\java\action.g grammar.

> 
> I wonder...you are not developer of Ruby, yes?
> Ruby develop some Japan developer as I know.
>

:-) No, I'm not. I'm brazilian. :-)

Best regards,
Rodrigo

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Tue Jul 29 05:01:13 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] ANTLR backend for ruby?
In-Reply-To: <Sea1-DAV13GdmoOATkl0000bd9e@hotmail.com>; from rodrigobamboo@hotmail.com on Tue, Jul 29, 2003 at 07:48:26AM -0300
References: <Sea1-DAV13GdmoOATkl0000bd9e@hotmail.com>
Message-ID: <20030729140112.A27685@cs.utwente.nl>

Hi,

On Tue, Jul 29, 2003 at 07:48:26AM -0300, Rodrigo B. de Oliveira wrote:
> Let's say I wanted to write an ANTLR backend for ruby (parser generation
> and associate runtime support), where would I start? I mean, are there any
> docs/examples about it? Is it feasible right now or should I wait for the
> next release?

There's no docs about how to implement new backends. Although if you have a
good understanding of the code ANTLR generates then you can get quite a
long way.

Important files:

antlr/*CodeGenerator.java   -> actual codegenerator
antlr/actions/*/action.g    -> does the translations of the $setXXX and
                               #( [..], .. , .. ) in the actions to target
                               code.
antlr/DefineGrammarSymbols.java  -> part of option handling
antlr/*BlockFinishingInfo.java  -> don't recall exact function offhand
antlr/*CharFormatter.java       -> does various formatting of values to
                                   target language

About all the rest you don't have to touch except for the support library.

I don't know ruby but it's probably pretty doable to write a new backend.
To start with I'd grab the generated code for a few trivial parsers and try
to translate it manually into ruby and then try to adapt the one of the
codegenerators to it. Make sure to also include a grammar including
'guessing mode' eg. one with a syntactic predicate.

Next release might still be a ways off.

HTH,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Time what is time - I wish I knew how to tell You why - It hurts to know -
          Aren't we machines - Time what is time - Unlock the door
               - And see the truth - Then time is time again
                From: 'Time what is Time' by Blind Guardian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Tue Jul 29 05:27:28 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] ASTRefCount.hpp
In-Reply-To: <60055.81.86.235.19.1059477357.squirrel@webmail.sbu.ac.uk>; from wiggjd@sbu.ac.uk on Tue, Jul 29, 2003 at 12:15:57PM +0100
References: <60055.81.86.235.19.1059477357.squirrel@webmail.sbu.ac.uk>
Message-ID: <20030729142728.B27685@cs.utwente.nl>

On Tue, Jul 29, 2003 at 12:15:57PM +0100, wiggjd@sbu.ac.uk wrote:
> I have come across the following coding in ASTRefCount.hpp and
> I cannot make sense of the first line. It was included in
> support.cpp. It must have compiled but to parse it properly I 
> need to understand it. Please could the author (or anyone
> else) help?

Not sure in what exact context you encountered it. But I think you missed
the template definition in front of the class:

template<class T> class ASTRefCount {

> 
> operator T* () const
> 	{ return ref ? static_cast<T*>(ref->ptr) : 0; }

-> Userdefined conversion from ASTRefCount<T> to T* (T is generally AST)

> T* operator->() const
> 	{ return ref ? static_cast<T*>(ref->ptr) : 0; }

Make it behave like a pointer.

> T* get() const
> 	{ return ref ? static_cast<T*>(ref->ptr) : 0; }

So the first 2 make the RefCounter behave like a pointer (to the underlying
T (AST) object) the get method can be used to get lowlevel access to the
object underlying the refcount.

If you happen to have access to the book More Effective C++ from Scott
Meyers Items 28 and 29 give quite a detailed description of this stuff.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  "I think we better split up."
  "Good idea. We can do more damage that way."
  --- Ghostbusters


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rodrigobamboo at hotmail.com  Tue Jul 29 05:45:06 2003
From: rodrigobamboo at hotmail.com (Rodrigo B. de Oliveira)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] ANTLR backend for ruby?
References: <Sea1-DAV13GdmoOATkl0000bd9e@hotmail.com> <20030729140112.A27685@cs.utwente.nl>
Message-ID: <Sea1-DAV40Ukbsm4B0e0000bfb7@hotmail.com>

Thanks, Ric! I'll give it a try and let you know how it goes.

>
> Important files:
>
> antlr/*CodeGenerator.java   -> actual codegenerator
> antlr/actions/*/action.g    -> does the translations of the $setXXX and
>                                #( [..], .. , .. ) in the actions to target
>                                code.
> antlr/DefineGrammarSymbols.java  -> part of option handling
> antlr/*BlockFinishingInfo.java  -> don't recall exact function offhand
> antlr/*CharFormatter.java       -> does various formatting of values to
>                                    target language
>
> About all the rest you don't have to touch except for the support library.
>
> I don't know ruby but it's probably pretty doable to write a new backend.
> To start with I'd grab the generated code for a few trivial parsers and
try
> to translate it manually into ruby and then try to adapt the one of the
> codegenerators to it. Make sure to also include a grammar including
> 'guessing mode' eg. one with a syntactic predicate.
>
> Next release might still be a ways off.
>
> HTH,
>
> Ric

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Tue Jul 29 05:35:00 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Re: Building antlr libs on MS Visual C++ 6 SP5
In-Reply-To: <bg4282+118n5@eGroups.com>; from aaronnauman@yahoo.com on Mon, Jul 28, 2003 at 08:49:06PM -0000
References: <bg3ale+3s0g@eGroups.com> <bg4282+118n5@eGroups.com>
Message-ID: <20030729143459.C27685@cs.utwente.nl>

Hi,

On Mon, Jul 28, 2003 at 08:49:06PM -0000, Aaron Nauman wrote:
> The development version fixes the DLL import/export issues.

Nice.

> I did some testing to try to determine which versions of VC6 require
> the template instantiations.  I tried compiling with SP3 and SP4 of
> VC6 and neither seemed to require their use.  I am going to try to get
> a hold of VC7 tomorrow and try that.

They once were added for the DLL build of VC6 if I recall right. Although
in the development snapshot the VC7 versions prevailed mostly. The original
VC6 versions looked like (using some MS extension ?):

#if defined(_MSC_VER) && !defined(__ICL) // Microsoft Visual C++
extern template class ANTLR_API ASTRefCount<AST>;
#endif

> Any idea what versions require all the template instantiations?  There
> seem to be a quite a few added to the development version, so I guess
> someone must know.

All the new ones are for VC7 DLL build, they are probably harmless for a
static build in VC7. The ones of the format:

#if defined(_MSC_VER) && !defined(__ICL) // Microsoft Visual C++
  template class ANTLR_API ASTRefCount< AST >;
  template class ANTLR_API ANTLR_USE_NAMESPACE(std)allocator< RefAST >;
  template class ANTLR_API ANTLR_USE_NAMESPACE(std)vector< RefAST >;
#endif

My guess is that there needs to be some selection macro for the right
template-curses for the right version of VC (for the right build type).

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     Innovation makes enemies of all those who prospered under the old
   regime, and only lukewarm support is forthcoming from those who would
               prosper under the new. --- Niccol Machiavelli


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From daria_delish at yahoo.com  Tue Jul 29 06:50:38 2003
From: daria_delish at yahoo.com (daria_delish)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Candy Girl!
Message-ID: <bg5u3e+gbvs@eGroups.com>

I like it when guys poke little candies in my ass and then cum in me.
I leak all different colors and then my girlfriend gets a sweet treat!

http://www.sweetcandy.u4l.com


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mtiller at ford.com  Tue Jul 29 11:20:39 2003
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] AST Node data
Message-ID: <6F7AD2AD5765D3118A7A00902787302127C24198@na1fcm06.dearborn.ford.com>

I was just reworking some of my heterogeneous AST types in C++ and I noticed
certain patterns that I thought were interesting.  I mentioning this for the
benefit of those people working on ANTLR 3 and/or reworking C++ AST support.
 
In building up my nodes during parsing, I occasionally store certain
information away directly in each node rather than using other nodes to
capture it.  For example, if I have a declaration rule that says:
 
declaration
  : (qualifiers)* type_name:IDENT var_name:IDENT ";"
  ;
 
I will suppress the generation of AST nodes for "type" and "var".  I do this
because there is nothing inherently dynamic about these two pieces of
information since they are always there and their type is known (so why use
an abstract tree to store them?).  So with tree construction markup, my rule
would then look something like:
 
declaration
  : (qualifiers)* type:IDENT! var:IDENT! ";"!
    {
       ##->p_typeName = #type->getText();
       ##->p_varName = #var->getText();
    }
  ;
 
Note the use of the "p_" prefix.  The idea here is that this is information
gleaned purely from parsing (no semantics associated with it).
 
OK, that isn't very interesting (and perhaps its even misguided :-), but the
interesting part is the other stuff on the node.  I call this "meta data"
although there is probably a more appropriate term.  This is information
that represents relationships BETWEEN NODES.  The obvious child, sibling
stuff is there, but this only covers the base relationships.  The other
"meta_data" goes beyond these simple relationships.
 
For example, as I run through the parsing (or possibly in a later pass with
a tree parser), I might want to capture some scope information.  This isn't
strictly parser data (i.e. data that is prefixed with "p_") because it
requires some knowledge of language semantics (beyond just the grammar).  In
such a case, I might capture the scope information by adding another line to
my action:
  
declaration
  : (qualifiers)* type:IDENT! var:IDENT! ";"!
    {
       ##->p_typeName = #type->getText();
       ##->p_varName = #var->getText();
       ##->m_scope = scope;
    }
  ;
 
...where scope is a member variable in my parser and it gets updated as a
descend through the tree.  Node the "m_" prefix.  This is an indication that
this is a relationship with some other node in my system (not necessarily a
parent or child either).  It is probably worth mentioning that if you were
to reverse the parsing process (i.e. output code based on the AST), the "p_"
information would have to be taken into account, but the "m_" data
shouldn't.  The "m_" data is only useful for transformations that require
semantic information.
 
OK, the pattern I noticed was that among the "m_" data, there are really
three kinds.  Some "m_" data is shorthand for stuff below my node in the
tree.  In other words, when I create the node I might do a search through my
child nodes and extract some useful information so that I have it "handy"
(i.e. I don't have to search the tree again).  Some information is related
to my context in the tree (i.e. information above this node in the AST).
Finally, some information is related to entirely different sections of the
tree.
 
Why is this classification interesting.  Well, when you call "dupTree", you
need to be able to update this information and what you do depends on the
kind of information it is.  By duplicating a node in the tree, you are
creating a copy and this affects each of these classes differently.  For
data that is referencing information below you, you need to redo the
original search that got you that data (since your children have been
duplicated too).  For data above you, you need to rely on whoever "duped"
you to fill that in (since nodes don't include any upward looking
references, at least by default).  Data that refers to other parts of the
tree is unaffected since its relationship to those nodes is not context
dependent so you can just carry it over.
 
I had already written my own "dupTree" method since ANTLR only provides this
method in association with factory objects (which I don't really like).  To
accommodate updating this information during a "dupTree", I created another
method on my nodes called "resetMetaData" (for lack of a better name) and
while clone() gets called as we work our way *down* during the dupTree,
resetMetaData() gets called on the way back *up* (so we can recover
information about child nodes).
 
Now I'm not disclosing all this because I think it is necessarily the best
way to do this (hell, I don't really know much about building
parsers/translators).  But, this provides one data point about how it might
be done by some users and this can be useful in working out the design of
any future features or enhancements.  Furthermore, it sounds like ANTLR3 is
going to try and abstract the tree building process even more and so it
seems useful to try and contribute these categorization ideas so they can be
reconciled with proposed abstractions.
 
OK, I just wanted to dump that before I forget it all and moved on to
something else.  Back to work...
 
--
Mike
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20030729/1e47aeec/attachment.html
From prashanth501 at yahoo.com  Tue Jul 29 12:02:49 2003
From: prashanth501 at yahoo.com (prashanth501)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] making AST from subrule as root AST in automatic AST generation
Message-ID: <bg6gcp+ave4@eGroups.com>

Hello,

 I've been having dome problems with automatic AST generation.
For example if I have a rule

op:
  PLUS
| MINUS
| AND
| OR

and then when i use this rule in the def of

expr: term (op^ term)*

but, expr: term ((PLUS^ | MINUS^ | AND^ | OR^) term)* 
works.

ANTLR doesnt allow me to use the '^' sign next to 'op' because op is 
a rule. Well, there are workarounds, by constructing the tree myself, 
but i would prefer if there was a mechanism to use '^' sign next to a 
rule in the automatic AST construction because, there are other 
places in my parser where it is not nice to use a fix similar to the 
one above.
 
If anybody knows how to do that, please let me know.

Thank You.
Prashanth...



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Tue Jul 29 13:39:19 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] making AST from subrule as root AST in autom
	atic AST generation
Message-ID: <72C9789739C4214096AE945753B11EA36B1CD0@mypxmail04.bco-home.com>

You can't do that currently.  You will be able to in ANTLR 3 but that's a
long ways off.
 
Monty

-----Original Message-----
From: prashanth501 [mailto:prashanth501@yahoo.com] 
Sent: Tuesday, July 29, 2003 12:03 PM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] making AST from subrule as root AST in automatic
AST generation


Hello,

 I've been having dome problems with automatic AST generation. For example
if I have a rule

op:
  PLUS
| MINUS
| AND
| OR

and then when i use this rule in the def of

expr: term (op^ term)*

but, expr: term ((PLUS^ | MINUS^ | AND^ | OR^) term)* 
works.

ANTLR doesnt allow me to use the '^' sign next to 'op' because op is 
a rule. Well, there are workarounds, by constructing the tree myself, 
but i would prefer if there was a mechanism to use '^' sign next to a 
rule in the automatic AST construction because, there are other 
places in my parser where it is not nice to use a fix similar to the 
one above.
 
If anybody knows how to do that, please let me know.

Thank You.
Prashanth...



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From jonfroehlich at hotmail.com  Tue Jul 29 16:19:03 2003
From: jonfroehlich at hotmail.com (JonFroehlich)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Possible to Maintain LineNum Info For _ALL_ AST Nodes...
Message-ID: <bg6vd7+nn6i@eGroups.com>

I've extended the CommonAST class to track line number information 
for each AST node. However, there are still a few nodes in the tree 
that don't call "initialize(token tok)" and therefore don't get their 
line # info set. For instance, using the java.g grammar, CLASS_DEF, 
VARIABLE_DEF, METHOD_DEF, etc. contain no line number information 
(though their children always do so I'm usually able to figure out 
something based on that). 

Ideally, every single node in the tree would have a line number 
assigned to it. I'm new to parsing/ANTLR so I'm not sure if this is 
possible or easy to do. 

Any advice would greatly be appreciated.

j

Please reply to the group list and not directly to my e-mail account.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From imolanet at yahoo.it  Wed Jul 30 04:54:28 2003
From: imolanet at yahoo.it (Patrik Suzzi)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Problem .. when compiling
Message-ID: <bg8blk+3pnl@eGroups.com>

Hi .. I'm Patrik / Imolanet .

Briefly i've tried with simple.g example (Ashley J.S Mills) but I 
have a problem:

1) I do not updated the classpath with "..antlr2.7.2\antlr.jar", 
instead I use to build with :

  > java -cp c:\antlr-2.7.2\antlr.jar antlr.Tool simple.g

And generator will work fine.

2) now i'm trying to compile a class that use generated file. the 
source of the class  is like :

import java.io.*;
public class Main{
	public static void main(String[] args){
		SimpleLexer simpleLexer = new SimpleLexer(System.in);
		while(true){
			try{
				simpleLexer.nextToken();
			}
			catch (Exception e){}
		}
	}
}

3) When I compile there were 100 errors, due to fact that i can't 
compile with -cp options ..

Can anyone suggest me the rigth way ?

P.S. I think that i will do set classpath, but under window is so 
catchy

Thanks .. Patrik


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From imolanet at yahoo.it  Wed Jul 30 05:03:26 2003
From: imolanet at yahoo.it (Patrik Suzzi)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Re: C# generator no working
In-Reply-To: <bed7mg+ppjm@eGroups.com>
Message-ID: <bg8c6e+13ci@eGroups.com>

--- In antlr-interest@yahoogroups.com, "micheal_jor" 
<open.zone@v...> wrote:
> Ciao Patrick,

> > > 3. you have a classpath issue
> > 
> > checking (system - advanced properties - environment variables..)
> > variable name: "CLASSPATH"
> > variable value: "C:\antlr-2.7.2\antlr.jar"
> > 
> > checking only line in autoexec.bat
> > path = C:\j2sdk1.4.1_02\bin\;C:\antlr-2.7.2\;%path%

> I've found that it's easier to set the classpath on the 
commandline 
> when you run java applications than to use a CLASSPATH environment 
> variable. For example:
> 
> java -cp "C:\antlr-2.7.2\antlr.jar" antlr.Tool file.g
> 
> Please check and try again.
> 

Ok Micheal, now the generator will work fine, but when I try to 
compile there were a lot of errors (100 !!).
Probably the compiler could not see antllr files, then report me all 
mismatch errors.

Is there a solution for compiling or I must set CLASSPATH variable 
on my (bad) Win32 system ?

Thanks a lot for time you spend hearing me: Patrik




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Wed Jul 30 05:14:09 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Possible to Maintain LineNum Info For _ALL_ AST Nodes...
In-Reply-To: <bg6vd7+nn6i@eGroups.com>; from jonfroehlich@hotmail.com on Tue, Jul 29, 2003 at 11:19:03PM -0000
References: <bg6vd7+nn6i@eGroups.com>
Message-ID: <20030730141408.E27685@cs.utwente.nl>

On Tue, Jul 29, 2003 at 11:19:03PM -0000, JonFroehlich wrote:
> Ideally, every single node in the tree would have a line number 
> assigned to it. I'm new to parsing/ANTLR so I'm not sure if this is 
> possible or easy to do.

It's best to set line info on imaginary nodes by hand. Since they are
imaginary there's no failsafe way to set the line info automatically. So
you'd probably have to do setLine, setColumn on them manually.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     Human beings, who are almost unique in having the ability to learn
   from the experience of others, are also remarkable for their apparent
         disinclination to do so. --- Douglas Adams, Last Chance to See


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From imolanet at yahoo.it  Wed Jul 30 05:59:24 2003
From: imolanet at yahoo.it (Patrik Suzzi)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] problem with classpath under winxp
Message-ID: <bg8ffc+fj2p@eGroups.com>

Problem:

Help !! I'm despond.

I've encountered following problem: 

(I work under Windows XP machine)

1) When I set the environment variable as follows:

	CLASSPATH=c:\antlr-2.7.2\antlr.jar

I'm able to run antlr generator, but I can't run any Java program.
For example the simple program that print hello world fail, with

-> Exception in thread "main" java.lang.NoClassDefFoundError: Test


2) Then if i delete CLASSPATH variable, and restart the command line 
prompt,
 the aforementioned program will work fine, but antlr doesn't work, 
except if I explicit use the -cp option, like as follows

	java -cp c:\antlr-2.7.2\antlr.jar antlr.Tool file.g



3) Ok ! i've generated antlr's output files, now I will compile ..
but when compile javac needs either java CLASSPATH variable, 
either antlr CLASSPATH variable.



If anyone, gently, could respond me I will appreciate too ..

Patrik Suzzi


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rodrigobamboo at hotmail.com  Wed Jul 30 06:33:05 2003
From: rodrigobamboo at hotmail.com (Rodrigo B. de Oliveira)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Re: C# generator no working
References: <bg8c6e+13ci@eGroups.com>
Message-ID: <Sea1-DAV72KWfzrXzPt0000ccd0@hotmail.com>

>
> Ok Micheal, now the generator will work fine, but when I try to
> compile there were a lot of errors (100 !!).
> Probably the compiler could not see antllr files, then report me all
> mismatch errors.
>

You mean the C# compiler? Have you set a reference to the antlr.runtime
assembly
in the command line?

Are u using ant to automate the build process? If you're not I strongly
encourage you to.

Here's a snip of my build.xml file:
<snip>
 <property name="antlr.home" location="\java\antlr-2.7.2" />
 <property name="antlr.runtime.dll"
location="${antlr.home}\lib\csharp\src\bin\antlr.runtime.dll" />
 <property name="nunit.framework.dll"
location="/dotnet/nunit/bin/nunit.framework.dll" />

 <target name="boop" depends="test-boo">
  <csc
   targettype="exe"
   destfile="build/boop.exe"
   srcdir="src/BooP"
   references="${antlr.runtime.dll};build/Boo.dll" />
 </target>
</snip>


See that the boop target (my parser) has a reference to the antlr.runtime
assembly. You can also see
that this assembly is located at ${antlr.home}\lib\csharp\src\bin\.

Sorry If I totally missed your point here,
Rodrigo

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From jasonriz at yahoo.com  Wed Jul 30 06:35:43 2003
From: jasonriz at yahoo.com (Jason)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] ANTLR -vs- JB
Message-ID: <20030730133543.38263.qmail@web12705.mail.yahoo.com>

Hello,

I've been tasked with writing a parser for a SQL like
query language.  Another team of developers in my
company has already written a c-language parser based
on the grammar using Flex/Bison.  I've obtained their
input files (.y and .l) and obviously it makes sense
for me to take advantage of them rather than trying to
independently construct the grammar.   My parser,
however, is to be implemented in Java.  

One of my co-workers found something called 'jb'
(http://www.cs.colorado.edu/serl/misc/jb.html) which
purports to convert the output of bison into a java
parser.  This seems like the ideal solution: all I
need to do is replace the C in the .y file I obtained
with Java and I'm all set.  A few questions:

1) Does anyone on the list have any experience with
jb.  The documentation seems pretty sketchy and I'm
not even sure that it's any longer maintained. 
Neither of these fills me with conifidence?

2) If I were to use ANTLR, of what use would the .y
and .l files be?  Would I need to manually translate
the files to syntax ANTLR understands?  I'd really
like to use ANTLR because of how well it's documented,
how actively it's maintained, and how helpful the user
community seems.

Thanks in advance for any thoughts anyone might have

-jason

__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From imolanet at yahoo.it  Wed Jul 30 06:52:42 2003
From: imolanet at yahoo.it (Patrik Suzzi)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Re: C# generator no working
In-Reply-To: <Sea1-DAV72KWfzrXzPt0000ccd0@hotmail.com>
Message-ID: <bg8ija+8bet@eGroups.com>


> 
> You mean the C# compiler? Have you set a reference to the 
antlr.runtime
> assembly
> in the command line?
> 

no i'talking about java compiler javac (see message n?9128)
..
but I aim to use C# compiler ..


> Are u using ant to automate the build process? If you're not I 
strongly
> encourage you to.

i will try, now I'm downloading documentation about Nant, it's so 
different from ant, what tool is better for you ?

I will try to use ant.

> Sorry If I totally missed your point here,

no problem .

Thanks, a lot: Patrik




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From rodrigobamboo at hotmail.com  Wed Jul 30 07:20:57 2003
From: rodrigobamboo at hotmail.com (Rodrigo B. de Oliveira)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Re: C# generator no working
References: <bg8ija+8bet@eGroups.com>
Message-ID: <Sea1-DAV312sTXEKpEt0000cdea@hotmail.com>

> no i'talking about java compiler javac (see message n?9128)

Oops...

> > Are u using ant to automate the build process? If you're not I
> > strongly
> > encourage you to.
>
> i will try, now I'm downloading documentation about Nant, it's so
> different from ant, what tool is better for you ?
>
> I will try to use ant.
>

I prefer ant. I've been using it for a long time so I'm more familiar with
its conventions and tasks. And since it has a larger user base there are
much more task libraries out there...

Rodrigo

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From klaren at cs.utwente.nl  Wed Jul 30 07:20:09 2003
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] problem with classpath under winxp
In-Reply-To: <bg8ffc+fj2p@eGroups.com>; from imolanet@yahoo.it on Wed, Jul 30, 2003 at 12:59:24PM -0000
References: <bg8ffc+fj2p@eGroups.com>
Message-ID: <20030730162009.G27685@cs.utwente.nl>

On Wed, Jul 30, 2003 at 12:59:24PM -0000, Patrik Suzzi wrote:
> (I work under Windows XP machine)

This might be of help:

http://ccp14.minerals.csiro.au/ccp/web-mirrors/farrugia/~louis/software/faq/q1.html

> 1) When I set the environment variable as follows:
> 
> 	CLASSPATH=c:\antlr-2.7.2\antlr.jar
> 
> I'm able to run antlr generator, but I can't run any Java program.
> For example the simple program that print hello world fail, with
> 
> -> Exception in thread "main" java.lang.NoClassDefFoundError: Test

Could try using 

CLASSPATH=c:\antlr-2.7.2\antlr.jar;.

Not sure if that will help.

> 3) Ok ! i've generated antlr's output files, now I will compile ..
> but when compile javac needs either java CLASSPATH variable, 
> either antlr CLASSPATH variable.

Looks like you need something more fancy:

CLASSPATH=%CLASSPATH%;c:\antlr-2.7.2\antlr.jar

(I hope I remembered this ok from the old dos days)

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     Innovation makes enemies of all those who prospered under the old
   regime, and only lukewarm support is forthcoming from those who would
               prosper under the new. --- Niccol Machiavelli


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From jbb at acm.org  Wed Jul 30 07:19:37 2003
From: jbb at acm.org (jbb@acm.org)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] problem with classpath under winxp
In-Reply-To: <bg8ffc+fj2p@eGroups.com> (message from Patrik Suzzi on Wed, 30
	Jul 2003 12:59:24 +0000)
References: <bg8ffc+fj2p@eGroups.com>
Message-ID: <E19hrnl-0002kd-00@gecko.home.org>

Patrik :-

First, please note that I am not currently typing on my WinXP machine,
so this is from memory. But I believe the following to be correct...

>1) When I set the environment variable as follows:
>
>	CLASSPATH=c:\antlr-2.7.2\antlr.jar
>
>I'm able to run antlr generator, but I can't run any Java program.
>For example the simple program that print hello world fail, with
>
>-> Exception in thread "main" java.lang.NoClassDefFoundError: Test

use

	CLASSPATH=%CLASSPATH%;c:\antlr-2.7.2\antlr.jar

the %CLASSPATH% portion inserts whatever the current value of the CLASSPATH
variable is in front of the antlr path so that all other classes will be
found before antlr.

>3) Ok ! i've generated antlr's output files, now I will compile ..
>but when compile javac needs either java CLASSPATH variable, 
>either antlr CLASSPATH variable.

use

javac -classpath %CLASSPATH%;c:\antlr-2.7.2\antlr.jar antlr.Tool file.g

(note: maybe the "%CLASSPATH%;" part isn't required here...)

also see the output of

javac

(just compile no options no files) to observe that the compiler doesn't
accept -cp but rather wants -classpath

hope this helps...

	-jbb

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From imolanet at yahoo.it  Wed Jul 30 07:29:24 2003
From: imolanet at yahoo.it (Patrik Suzzi)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Re: C# generator no working
In-Reply-To: <Sea1-DAV312sTXEKpEt0000cdea@hotmail.com>
Message-ID: <bg8ko4+4o56@eGroups.com>

--- In antlr-interest@yahoogroups.com, "Rodrigo B. de Oliveira" 
<rodrigobamboo@h...> wrote:
> > no i'talking about java compiler javac (see message n?9128)
> 
> Oops...

No prob's your mail probably bring me to develope fastest possible 
C# lexer and parser ..

> > I will try to use ant.

.. but Only a question before about: where can I learn enough about 
ant to automate the process ?


> I prefer ant. I've been using it for a long time so I'm more 
familiar with

Now I've been downloaded ant 1.5.3 and now i'm exploring the 
unzipped directory .. 

If you have some links or tips for using it I'll appreciate too:

Tanks : Patrik 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From imolanet at yahoo.it  Wed Jul 30 07:45:38 2003
From: imolanet at yahoo.it (Patrik Suzzi)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Re: problem with classpath under winxp
In-Reply-To: <E19hrnl-0002kd-00@gecko.home.org>
Message-ID: <bg8lmi+4pf6@eGroups.com>


> use
> 
> 	CLASSPATH=%CLASSPATH%;c:\antlr-2.7.2\antlr.jar

Ok , but when I wrote ...

> >	CLASSPATH=c:\antlr-2.7.2\antlr.jar

I would say that: 
I open My Computer -> Properties -> advanced -> environment variables

then 
1) if I set CLASSPATH antlr work, and java does not work
2) if I delete CLASSPATH java works antlr does not, unless I set -cp


> javac -classpath c:\antlr-2.7.2\antlr.jar antlr.Tool file.g

Thanks a lot for this line, that I hope is the correct solution.

Thanks, Thanks, and still Thanks ..

P.S. ( you remember right about dos : PATH=%PATH%; ... ; )




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Wed Jul 30 08:52:53 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] ANTLR -vs- JB
Message-ID: <72C9789739C4214096AE945753B11EA36B1CDC@mypxmail04.bco-home.com>

There is already an SQL grammar to download from the antlr.org site.
Personally I wouldn't want to maintain a .y file that has been tweaked to
generate java.  Not to mention that I wouldn't want to debug it.  ANTLR's
strength is in its sane, human readable generated code.

I haven't heard of JB so I have no opinion of it.  Do you still need C
output as well?  From antlr you could generate Java or C++.

Monty

-----Original Message-----
From: Jason [mailto:jasonriz@yahoo.com] 
Sent: Wednesday, July 30, 2003 6:36 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] ANTLR -vs- JB


Hello,

I've been tasked with writing a parser for a SQL like
query language.  Another team of developers in my
company has already written a c-language parser based
on the grammar using Flex/Bison.  I've obtained their
input files (.y and .l) and obviously it makes sense
for me to take advantage of them rather than trying to
independently construct the grammar.   My parser,
however, is to be implemented in Java.  

One of my co-workers found something called 'jb'
(http://www.cs.colorado.edu/serl/misc/jb.html) which
purports to convert the output of bison into a java
parser.  This seems like the ideal solution: all I
need to do is replace the C in the .y file I obtained
with Java and I'm all set.  A few questions:

1) Does anyone on the list have any experience with
jb.  The documentation seems pretty sketchy and I'm
not even sure that it's any longer maintained. 
Neither of these fills me with conifidence?

2) If I were to use ANTLR, of what use would the .y
and .l files be?  Would I need to manually translate
the files to syntax ANTLR understands?  I'd really
like to use ANTLR because of how well it's documented,
how actively it's maintained, and how helpful the user community seems.

Thanks in advance for any thoughts anyone might have

-jason

__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From jasonriz at yahoo.com  Wed Jul 30 09:43:03 2003
From: jasonriz at yahoo.com (Jason)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] ANTLR -vs- JB
In-Reply-To: <72C9789739C4214096AE945753B11EA36B1CDC@mypxmail04.bco-home.com>
Message-ID: <20030730164303.74512.qmail@web12706.mail.yahoo.com>

Monty,

Thanks for taking the time to respond.  It's not
actually SQL - it's MDX, very roughly speaking, it's
SQL for OLAP.  I'm also not thrilled with the idea of
maintaining the 'hybrid' .y file, but I guess it's
better than trying to write my own MDX grammar. 
Thanks again for the reply.

-jason

--- mzukowski@yci.com wrote:
> There is already an SQL grammar to download from the
> antlr.org site.
> Personally I wouldn't want to maintain a .y file
> that has been tweaked to
> generate java.  Not to mention that I wouldn't want
> to debug it.  ANTLR's
> strength is in its sane, human readable generated
> code.
> 
> I haven't heard of JB so I have no opinion of it. 
> Do you still need C
> output as well?  From antlr you could generate Java
> or C++.
> 
> Monty
> 
> -----Original Message-----
> From: Jason [mailto:jasonriz@yahoo.com] 
> Sent: Wednesday, July 30, 2003 6:36 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] ANTLR -vs- JB
> 
> 
> Hello,
> 
> I've been tasked with writing a parser for a SQL
> like
> query language.  Another team of developers in my
> company has already written a c-language parser
> based
> on the grammar using Flex/Bison.  I've obtained
> their
> input files (.y and .l) and obviously it makes sense
> for me to take advantage of them rather than trying
> to
> independently construct the grammar.   My parser,
> however, is to be implemented in Java.  
> 
> One of my co-workers found something called 'jb'
> (http://www.cs.colorado.edu/serl/misc/jb.html) which
> purports to convert the output of bison into a java
> parser.  This seems like the ideal solution: all I
> need to do is replace the C in the .y file I
> obtained
> with Java and I'm all set.  A few questions:
> 
> 1) Does anyone on the list have any experience with
> jb.  The documentation seems pretty sketchy and I'm
> not even sure that it's any longer maintained. 
> Neither of these fills me with conifidence?
> 
> 2) If I were to use ANTLR, of what use would the .y
> and .l files be?  Would I need to manually translate
> the files to syntax ANTLR understands?  I'd really
> like to use ANTLR because of how well it's
> documented,
> how actively it's maintained, and how helpful the
> user community seems.
> 
> Thanks in advance for any thoughts anyone might have
> 
> -jason
> 
> __________________________________
> Do you Yahoo!?
> Yahoo! SiteBuilder - Free, easy-to-use web site
> design software
> http://sitebuilder.yahoo.com
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Wed Jul 30 11:11:47 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] ANTLR -vs- JB
Message-ID: <72C9789739C4214096AE945753B11EA36B1CE0@mypxmail04.bco-home.com>

How complex is the grammar?  I'd say the more complex it is the worse off
you will be using the .y file because the debugging and tweaking of the .y
will get out of hand and eventually overshadow the time it would have taken
you to learn antlr and do the grammar from scratch.  More important are your
timeline, your scope, and the future of this piece of software.  

You can always take a stab at it one way and change your mind if it is not
looking good.

Monty

-----Original Message-----
From: Jason [mailto:jasonriz@yahoo.com] 
Sent: Wednesday, July 30, 2003 9:43 AM
To: antlr-interest@yahoogroups.com
Subject: RE: [antlr-interest] ANTLR -vs- JB


Monty,

Thanks for taking the time to respond.  It's not
actually SQL - it's MDX, very roughly speaking, it's
SQL for OLAP.  I'm also not thrilled with the idea of maintaining the
'hybrid' .y file, but I guess it's better than trying to write my own MDX
grammar. 
Thanks again for the reply.

-jason

--- mzukowski@yci.com wrote:
> There is already an SQL grammar to download from the antlr.org site.
> Personally I wouldn't want to maintain a .y file
> that has been tweaked to
> generate java.  Not to mention that I wouldn't want
> to debug it.  ANTLR's
> strength is in its sane, human readable generated
> code.
> 
> I haven't heard of JB so I have no opinion of it.
> Do you still need C
> output as well?  From antlr you could generate Java
> or C++.
> 
> Monty
> 
> -----Original Message-----
> From: Jason [mailto:jasonriz@yahoo.com]
> Sent: Wednesday, July 30, 2003 6:36 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] ANTLR -vs- JB
> 
> 
> Hello,
> 
> I've been tasked with writing a parser for a SQL
> like
> query language.  Another team of developers in my
> company has already written a c-language parser
> based
> on the grammar using Flex/Bison.  I've obtained
> their
> input files (.y and .l) and obviously it makes sense
> for me to take advantage of them rather than trying
> to
> independently construct the grammar.   My parser,
> however, is to be implemented in Java.
> 
> One of my co-workers found something called 'jb'
> (http://www.cs.colorado.edu/serl/misc/jb.html) which
> purports to convert the output of bison into a java
> parser.  This seems like the ideal solution: all I
> need to do is replace the C in the .y file I
> obtained
> with Java and I'm all set.  A few questions:
> 
> 1) Does anyone on the list have any experience with
> jb.  The documentation seems pretty sketchy and I'm
> not even sure that it's any longer maintained.
> Neither of these fills me with conifidence?
> 
> 2) If I were to use ANTLR, of what use would the .y
> and .l files be?  Would I need to manually translate
> the files to syntax ANTLR understands?  I'd really
> like to use ANTLR because of how well it's
> documented,
> how actively it's maintained, and how helpful the
> user community seems.
> 
> Thanks in advance for any thoughts anyone might have
> 
> -jason
> 
> __________________________________
> Do you Yahoo!?
> Yahoo! SiteBuilder - Free, easy-to-use web site
> design software
> http://sitebuilder.yahoo.com
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
> 
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From antlrlist at yahoo.com  Thu Jul 31 04:39:15 2003
From: antlrlist at yahoo.com (antlrlist)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] antlraux v0.2 released - new site (http://antlraux.sf.net)
Message-ID: <bgav53+phfv@eGroups.com>

antlraux is a support lib for antlr that I've been developing for some
time. I'm releasing it under the GPL license.

There's a new version released, and a new hosting site (sourceforge);
antlraux official site now becomes http://antlraux.sf.net.

I've also added an entry for antlraux in ANTLR's share list
(http://www.antlr.org/share/list).

You can find further information in the share list entry and in
antlraux official site.

Enjoy!

Enrique


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From Matthew.Ford at forward.com.au  Thu Jul 31 14:12:46 2003
From: Matthew.Ford at forward.com.au (Matthew Ford)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] antlraux v0.2 released - new site
 (http://antlraux.sf.net)
References: <bgav53+phfv@eGroups.com>
Message-ID: <002201c357a9$63fa6670$0400a8c0@NOTEBOOK>

Hi Enrique,
Nice looking package.  Unfortunately I cannot use it because your licencing
would force me to give away any work I use it with.

" b) You must cause any work that you distribute or publish, that in
    whole or in part contains or is derived from the Program or any
    part thereof, to be licensed as a whole at no charge to all third
    parties under the terms of this License.
"

As a private software developer/contractor (no big support company here) I
need to be able to charge for my work (keeps food on the table).  People who
contract me also want to charge for my work.

Could I encourage you (and other Antlr add-on developers) to keep the
licencing as open as Antlr's.

matthew.

----- Original Message -----
From: "antlrlist" <antlrlist@yahoo.com>
To: <antlr-interest@yahoogroups.com>
Sent: Thursday, July 31, 2003 9:39 PM
Subject: [antlr-interest] antlraux v0.2 released - new site
(http://antlraux.sf.net)


> antlraux is a support lib for antlr that I've been developing for some
> time. I'm releasing it under the GPL license.
>
> There's a new version released, and a new hosting site (sourceforge);
> antlraux official site now becomes http://antlraux.sf.net.
>
> I've also added an entry for antlraux in ANTLR's share list
> (http://www.antlr.org/share/list).
>
> You can find further information in the share list entry and in
> antlraux official site.
>
> Enjoy!
>
> Enrique
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From antlrlist at yahoo.com  Thu Jul 31 15:14:17 2003
From: antlrlist at yahoo.com (antlrlist)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Re: antlraux v0.2 released - new site (http://antlraux.sf.net)
In-Reply-To: <002201c357a9$63fa6670$0400a8c0@NOTEBOOK>
Message-ID: <bgc4bp+r1p3@eGroups.com>


Answer below...

<Matthew.Ford@f...> wrote:
> Hi Enrique,
> Nice looking package.  Unfortunately I cannot use it because your
licencing would force me to give away any work I use it with.
> 
> " b) You must cause any work that you distribute or publish, that in
>     whole or in part contains or is derived from the Program or any
>     part thereof, to be licensed as a whole at no charge to all third
>     parties under the terms of this License.
> "
> 
> As a private software developer/contractor (no big support company
here) I
> need to be able to charge for my work (keeps food on the table). 
People who
> contract me also want to charge for my work.
> 
> Could I encourage you (and other Antlr add-on developers) to keep the
> licencing as open as Antlr's.
> 
> matthew.
> 

Hi Matthew!

First of all, thanks for your feedbak!

The verb "give away" in your statement is a bit ambiguous. The GPL
only forces you to release your code along with your binaries, if you
make any releases. It does not force you to "give it away" in the
sense of "give it away for free": you can certainly sell it, as long
as you provide the binaries+source or at least provide a link were you
can download the source. Plus, you don't have to provide any
guarantees or technical support for this code.

It is true that you allow legal file copies. But you're not required
to also make it available to the public without a charge - others
could. This is because free software business model is not
product-based, but service-based: you can still charge others for
installation, maintenance, formation, etc. You don't have to offer any
support if they don't pay you.

Moreover, if you don't release your program to the public (this is,
you use it as an internal tool) you don't have to do anything; you can
keep your source for yourself.

This said, you're the first one who has shown interest in the tool. I
made the effort to release it because I wanted people to use it; if
you're really going to use it, I can change the license to another a
bit more permissive, like LGPL.

Thanks a lot for taking the time of writing your opinion.

Enrique.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From Matthew.Ford at forward.com.au  Thu Jul 31 15:30:14 2003
From: Matthew.Ford at forward.com.au (Matthew Ford)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Re: antlraux v0.2 released - new site
 (http://antlraux.sf.net)
References: <bgc4bp+r1p3@eGroups.com>
Message-ID: <000701c357b3$5036b170$0400a8c0@NOTEBOOK>

Thanks for the comments, Enrique

I would appreciate a less commercially restictive licence.
The example project I would use your package in does Algorithmic
Differentiaton on a maths language.
For this I need scope at each point in the tree and I need to update the
scope on each pass through the tree.

This work is done under contract so the option of charging for support is
not available.

I need to be able to provide to my customer a complete package they can
on-sell in what ever method their business model dictates with out
restriction.

I am happy to feed back improvements and bug fixes into utility packages
like yours as long as I can ship them with commercial software, without
licence problems.

regards
matthew

----- Original Message -----
From: "antlrlist" <antlrlist@yahoo.com>
To: <antlr-interest@yahoogroups.com>
Sent: Friday, August 01, 2003 8:14 AM
Subject: [antlr-interest] Re: antlraux v0.2 released - new site
(http://antlraux.sf.net)


>
> Answer below...
>
> <Matthew.Ford@f...> wrote:
> > Hi Enrique,
> > Nice looking package.  Unfortunately I cannot use it because your
> licencing would force me to give away any work I use it with.
> >
> > " b) You must cause any work that you distribute or publish, that in
> >     whole or in part contains or is derived from the Program or any
> >     part thereof, to be licensed as a whole at no charge to all third
> >     parties under the terms of this License.
> > "
> >
> > As a private software developer/contractor (no big support company
> here) I
> > need to be able to charge for my work (keeps food on the table).
> People who
> > contract me also want to charge for my work.
> >
> > Could I encourage you (and other Antlr add-on developers) to keep the
> > licencing as open as Antlr's.
> >
> > matthew.
> >
>
> Hi Matthew!
>
> First of all, thanks for your feedbak!
>
> The verb "give away" in your statement is a bit ambiguous. The GPL
> only forces you to release your code along with your binaries, if you
> make any releases. It does not force you to "give it away" in the
> sense of "give it away for free": you can certainly sell it, as long
> as you provide the binaries+source or at least provide a link were you
> can download the source. Plus, you don't have to provide any
> guarantees or technical support for this code.
>
> It is true that you allow legal file copies. But you're not required
> to also make it available to the public without a charge - others
> could. This is because free software business model is not
> product-based, but service-based: you can still charge others for
> installation, maintenance, formation, etc. You don't have to offer any
> support if they don't pay you.
>
> Moreover, if you don't release your program to the public (this is,
> you use it as an internal tool) you don't have to do anything; you can
> keep your source for yourself.
>
> This said, you're the first one who has shown interest in the tool. I
> made the effort to release it because I wanted people to use it; if
> you're really going to use it, I can change the license to another a
> bit more permissive, like LGPL.
>
> Thanks a lot for taking the time of writing your opinion.
>
> Enrique.
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From tdjastrzebski at yahoo.com  Thu Jul 31 16:14:02 2003
From: tdjastrzebski at yahoo.com (tdjastrzebski)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] probably too obvious to see it - plz help
Message-ID: <bgc7rq+q4d6@eGroups.com>

I ma probably too tireed to see it. Why following two lexer rules 
cause nondeterminism (k=2).

Identifier
	: ('a'..'z')+
	;
StringLiteral
	: ('n')? '\'' (~'\'')* '\''
	;

StringLiteral rule is supposed to match unicode strings like: 
n'blabla'

Thanks in advance.
Tom Jastrzebski

full test grammar:

options {
	language = "Java";
}

class TestParser extends Parser;
options {
	k = 2;
}

expression
	: (Identifier | StringLiteral) EOF
	;

class TestLexer extends Lexer;
options {
    k = 2;
}

Identifier
	: ('a'..'z')+
	;

StringLiteral
	: ('n')? '\'' (~'\'')* '\''
	;


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From iank at bearcave.com  Thu Jul 31 16:15:07 2003
From: iank at bearcave.com (iank@bearcave.com)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] antlraux v0.2 released - new site
Message-ID: <200307312315.h6VNF7Ii071872@idiom.com>


> Nice looking package.  Unfortunately I cannot use it because your licencing
> would force me to give away any work I use it with.

  I had the same thought, but given the long discussion on licenses I
  did not want to get into this again.

  I really like the BSD (and ANTLR) sytle license for code that I want
  to be in wide spread use.  As Ter says: "use it, just don't sue me".

  Ian
  www.bearcave.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Thu Jul 31 16:18:28 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] probably too obvious to see it - plz help
Message-ID: <72C9789739C4214096AE945753B11EA36B1CF9@mypxmail04.bco-home.com>

So if it sees "n" which rule is it supposed to choose?  You need to handle
the two possibilities prefixed with 'n' in one rule.

Monty

-----Original Message-----
From: tdjastrzebski [mailto:tdjastrzebski@yahoo.com] 
Sent: Thursday, July 31, 2003 4:14 PM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] probably too obvious to see it - plz help


I ma probably too tireed to see it. Why following two lexer rules 
cause nondeterminism (k=2).

Identifier
	: ('a'..'z')+
	;
StringLiteral
	: ('n')? '\'' (~'\'')* '\''
	;

StringLiteral rule is supposed to match unicode strings like: 
n'blabla'

Thanks in advance.
Tom Jastrzebski

full test grammar:

options {
	language = "Java";
}

class TestParser extends Parser;
options {
	k = 2;
}

expression
	: (Identifier | StringLiteral) EOF
	;

class TestLexer extends Lexer;
options {
    k = 2;
}

Identifier
	: ('a'..'z')+
	;

StringLiteral
	: ('n')? '\'' (~'\'')* '\''
	;


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From mzukowski at yci.com  Thu Jul 31 16:20:49 2003
From: mzukowski at yci.com (mzukowski@yci.com)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] probably too obvious to see it - plz help
Message-ID: <72C9789739C4214096AE945753B11EA36B1CFA@mypxmail04.bco-home.com>

By the way, the reason is the optional 'n' and antlr's linear approximate
lookahead.  

Monty

-----Original Message-----
From: mzukowski@yci.com [mailto:mzukowski@yci.com] 
Sent: Thursday, July 31, 2003 4:18 PM
To: antlr-interest@yahoogroups.com
Subject: RE: [antlr-interest] probably too obvious to see it - plz help


So if it sees "n" which rule is it supposed to choose?  You need to handle
the two possibilities prefixed with 'n' in one rule.

Monty

-----Original Message-----
From: tdjastrzebski [mailto:tdjastrzebski@yahoo.com] 
Sent: Thursday, July 31, 2003 4:14 PM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] probably too obvious to see it - plz help


I ma probably too tireed to see it. Why following two lexer rules 
cause nondeterminism (k=2).

Identifier
	: ('a'..'z')+
	;
StringLiteral
	: ('n')? '\'' (~'\'')* '\''
	;

StringLiteral rule is supposed to match unicode strings like: 
n'blabla'

Thanks in advance.
Tom Jastrzebski

full test grammar:

options {
	language = "Java";
}

class TestParser extends Parser;
options {
	k = 2;
}

expression
	: (Identifier | StringLiteral) EOF
	;

class TestLexer extends Lexer;
options {
    k = 2;
}

Identifier
	: ('a'..'z')+
	;

StringLiteral
	: ('n')? '\'' (~'\'')* '\''
	;


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From tdjastrzebski at yahoo.com  Thu Jul 31 17:49:41 2003
From: tdjastrzebski at yahoo.com (tdjastrzebski)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] C# and Unicode problems
Message-ID: <bgcdf5+mqmt@eGroups.com>

Hi everybody,
regardless of charVocabulary option set to '\u0000'..'\uFFFE';
non-ascii characters just disappear from token text or are not being 
recognized when parsing strings like: 'po????g??l?ja??' (beginning 
and ending with single quotes). Am I missing something? Do I have to 
create antlr.Lexer in any particular way or pass it an input stream?

Regards,
Tom Jastrzebski

sample grammar:

options {
	language = "CSharp";
}

class TestParser extends Parser;

options {
	k = 2;
}

statement
	: StringLiteral EOF
	;

class TestLexer extends Lexer;

options {
    k = 2;
    charVocabulary='\u0000'..'\uFFFE';
}

StringLiteral
	: '\'' (~'\'')* '\''
	;


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From tdjastrzebski at yahoo.com  Thu Jul 31 17:53:31 2003
From: tdjastrzebski at yahoo.com (tdjastrzebski)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] Re: probably too obvious to see it - plz help
In-Reply-To: <72C9789739C4214096AE945753B11EA36B1CF9@mypxmail04.bco-home.com>
Message-ID: <bgcdmb+f6sd@eGroups.com>

It should choose StringLiteral when 'n' is followed by '\''.
So how do I fix it ?
Tom Jastrzebski

--- In antlr-interest@yahoogroups.com, mzukowski@y... wrote:
> So if it sees "n" which rule is it supposed to choose?  You need to 
handle
> the two possibilities prefixed with 'n' in one rule.
> 
> Monty
> 
> -----Original Message-----
> From: tdjastrzebski [mailto:tdjastrzebski@y...] 
> Sent: Thursday, July 31, 2003 4:14 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] probably too obvious to see it - plz help
> 
> 
> I ma probably too tireed to see it. Why following two lexer rules 
> cause nondeterminism (k=2).
> 
> Identifier
> 	: ('a'..'z')+
> 	;
> StringLiteral
> 	: ('n')? '\'' (~'\'')* '\''
> 	;
> 
> StringLiteral rule is supposed to match unicode strings like: 
> n'blabla'
> 
> Thanks in advance.
> Tom Jastrzebski
> 
> full test grammar:
> 
> options {
> 	language = "Java";
> }
> 
> class TestParser extends Parser;
> options {
> 	k = 2;
> }
> 
> expression
> 	: (Identifier | StringLiteral) EOF
> 	;
> 
> class TestLexer extends Lexer;
> options {
>     k = 2;
> }
> 
> Identifier
> 	: ('a'..'z')+
> 	;
> 
> StringLiteral
> 	: ('n')? '\'' (~'\'')* '\''
> 	;
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


From andrew at adersoftware.com  Thu Jul 31 12:58:41 2003
From: andrew at adersoftware.com (Andrew Deren)
Date: Mon Dec 20 16:15:51 2004
Subject: [antlr-interest] C# Grammar
In-Reply-To: <bgefca+o43f@eGroups.com>
Message-ID: <200308011501346.SM01100@Andrew>

Has anyone been able to write C# grammar for antlr?
I think it should be fairly easy to convert java one, but I was hoping
someone has done it already.
Thanks.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


