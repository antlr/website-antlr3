<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] UTF-8 input?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20UTF-8%20input%3F&In-Reply-To=%3C79118B9FE8CE8E49B0D71964A79CB647033CABB3%40dekomplm002.net.plm.eds.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037365.html">
   <LINK REL="Next"  HREF="037393.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] UTF-8 input?</H1>
    <B>Xie, Linlin</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20UTF-8%20input%3F&In-Reply-To=%3C79118B9FE8CE8E49B0D71964A79CB647033CABB3%40dekomplm002.net.plm.eds.com%3E"
       TITLE="[antlr-interest] UTF-8 input?">linlin.xie at siemens.com
       </A><BR>
    <I>Fri Jan 22 04:57:40 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="037365.html">[antlr-interest] UTF-8 input?
</A></li>
        <LI>Next message: <A HREF="037393.html">[antlr-interest] UTF-8 input?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37389">[ date ]</a>
              <a href="thread.html#37389">[ thread ]</a>
              <a href="subject.html#37389">[ subject ]</a>
              <a href="author.html#37389">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi jim,

Thanks for the reply. You said I can convert my UTF8 input &quot;to UCS2
using the supplied converter in the current runtime&quot;, but I can't find
any such converter in antlr c runtime. Can you suggest me which API to
use? Btw, I searched the archive, I can see the person who had similar
problem as mine used iconv library on linux. 

Thanks in advance!
Linlin


-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Jim Idle
Sent: 20 January 2010 16:31
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] UTF-8 input?

You need to remember to state which target you are talking about.

I have written a new universal input stream for the next version of the
C runtime. It takes 8bit, 16 bit, UTF-8, UTF-16, UCS2, UTF32 and EBCDIC
(code gen will change slightly to support this). It is not well tested
right now but will be available as a snapshot 3.3 release shortly in the
downloads page.

In the meantime the easiest thing to do is to convert to UCS2 using the
supplied converter in the current runtime. Though this will not work
with surrogate pairs in UTF-16 though but most people do not need that.

If you really need UTf-8 without conversion then it is easy enough to
write, or you can just steal the code from my check in of the code in
about 10 minutes. Note that while the streams work, I have not provided
ANTLR3_STRING support for UTF-8 and so on yet and so getting $text from
such a stream may or may not work,

Jim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Xie, Linlin
</I>&gt;<i> Sent: Wednesday, January 20, 2010 3:32 AM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: [antlr-interest] UTF-8 input?
</I>&gt;<i> 
</I>&gt;<i> Can anyone tell me if antlr3.1.3 generated parser works with UTF-8
</I>&gt;<i> input? If it does, how should I configure in the grammar? I noticed
</I>&gt;<i> there are two macros ANTLR3_INLINE_INPUT_ASCII and
</I>&gt;<i> ANTLR3_INLINE_INPUT_UTF16, but no UTF-8 one.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Many thanks!
</I>&gt;<i> 
</I>&gt;<i> Linlin
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;<i> email-address
</I>



List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
Unsubscribe:
<A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037365.html">[antlr-interest] UTF-8 input?
</A></li>
	<LI>Next message: <A HREF="037393.html">[antlr-interest] UTF-8 input?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37389">[ date ]</a>
              <a href="thread.html#37389">[ thread ]</a>
              <a href="subject.html#37389">[ subject ]</a>
              <a href="author.html#37389">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
