<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Java 1.5 grammar updated
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Java%201.5%20grammar%20updated&In-Reply-To=%3CBAY142-W326D58F2027E769B22F896A5F20%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027692.html">
   <LINK REL="Next"  HREF="027697.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Java 1.5 grammar updated</H1>
    <B>Diane Nkonyereza</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Java%201.5%20grammar%20updated&In-Reply-To=%3CBAY142-W326D58F2027E769B22F896A5F20%40phx.gbl%3E"
       TITLE="[antlr-interest] Java 1.5 grammar updated">nkodidi at hotmail.com
       </A><BR>
    <I>Tue Apr  8 13:18:57 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027692.html">[antlr-interest] Java 1.5 grammar updated
</A></li>
        <LI>Next message: <A HREF="027697.html">[antlr-interest] Java 1.5 grammar updated
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27695">[ date ]</a>
              <a href="thread.html#27695">[ thread ]</a>
              <a href="subject.html#27695">[ subject ]</a>
              <a href="author.html#27695">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Thanks for the replies.

But if it's valid, why wouldn't it work for me. Could be because of the java version I'm using (1.5)?

Diane.
CC: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">john at jacelridge.com</A>; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">nkodidi at hotmail.com</A>; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">john at jacelridge.com</A>
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">SWatt at infobal.com</A>
Subject: Re: [antlr-interest] Java 1.5 grammar updated
Date: Tue, 8 Apr 2008 15:27:30 -0400

I think that the reason for this is basically historical.  It comes from C++, where a class definition must be followed by a &quot;;&quot;.  Java decided not to require that semicolon, but then needed some way to allow it.  If you read the Java Language Specification (3rd edition, 2005) by James Gosling et al., section 7.6 specifically says that &quot;;&quot; is a valid type declaration; that is, a TypeDeclaration is defined as a ClassDeclaration or an InterfaceDeclaration or a &quot;;&quot;.
Furthermore it is entirely reasonable to have a Java file with no types declared in it.  In fact the JLS suggests that package annotations occur in a file whose only other content is the package declaration.  The JLS suggests that &quot;The sole annotated package declaration, if it exists, is placed in a source file called package-info.java in the directory containing the source files for the package.  ... Typically package-info.java contains only a package declaration, preceded immediately by the annotations on the package.  While the file could technically contain the source code for one or more package-private classes, it would be very bad form.&quot; (ibid, pp. 158-159).
Peace- John

On Apr 8, 2008, at 1:04 PM, Stuart Watt wrote:Curious! I just replicated this on a different version, so both Sun JDK Java 6 on Windows and Sun JDK Java 5 on Linux compiled this file OK; interestingly no class file seems to have been created. 

I also tried gcj, and managed to break that:
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">stuart at stuart-desktop</A>:~$ gcj test.java 
/tmp/ccIIuwWz.jar:0: internal compiler error: in java_parse_file, at java/jcf-parse.c:1951
Please submit a full bug report,
with preprocessed source if appropriate.
See &lt;URL:<A HREF="http://gcc.gnu.org/bugs.html">http://gcc.gnu.org/bugs.html</A>&gt; for instructions.
For Debian GNU/Linux specific bug reporting instructions,
see &lt;URL:<A HREF="file:///usr/share/doc/gcc-4.2/README.Bugs">file:///usr/share/doc/gcc-4.2/README.Bugs</A>&gt;.
It looks like a good grammar should accept this, but clearly not all compilers comply. 

It's been ages since my last &quot;internal compiler error&quot; - it's made my day!!!

--S


Diane Nkonyereza wrote:That's strange. I can't compile such a file, I get error : 'class' or 'interface' expected.

Diane.



Date: Tue, 8 Apr 2008 12:43:30 -0400
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">swatt at infobal.com</A>
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">nkodidi at hotmail.com</A>
CC: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] Java 1.5 grammar updated

This is the same as the grammar rule in the Java spec at: <A HREF="http://java.sun.com/docs/books/jls/second_edition/html/syntax.doc.html">http://java.sun.com/docs/books/jls/second_edition/html/syntax.doc.html</A>

I was surprised by this, and being curious, I just successfully compiled a Java source file containing only a single semicolon. It seems a bit  pointless to me, but it is valid Java! 

All the best
Stuart


Diane Nkonyereza wrote:Hi all,

I have a question on the latest Java grammar. The question is related to the typeDeclaration rule.

- What is the ';' in the typeDeclaration Rule? Can someone please gives me an example of when the ';' could be an option or is it possible to just have ';' in java file and compile it successfully?
   
typeDeclaration
    :   classOrInterfaceDeclaration
    |   ';'
    ;Regards,
Diane.


&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>
</I>&gt;<i> Date: Wed, 19 Mar 2008 18:24:45 -0600
</I>&gt;<i> Subject: [antlr-interest] Java 1.5 grammar updated
</I>&gt;<i> 
</I>&gt;<i> Hi, thanks to John Ridgway, we have a major set of fixes to Java.g
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.antlr.org/grammar/1152141644268/Java.g">http://www.antlr.org/grammar/1152141644268/Java.g</A>
</I>&gt;<i> 
</I>&gt;<i> Parses JDK 1.5 source he says.
</I>&gt;<i> 
</I>&gt;<i> Terence
</I>
Get fish-slapping on Messenger Play now!
-- 
This message was scanned by ESVA and is believed to be clean. 
Click here to report this message as spam.
A prize an hour, 24 hours a day. Try Big Snap now!
-- 
This message was scanned by ESVA and is believed to be clean. 
Click here to report this message as spam.

_________________________________________________________________
Get Hotmail on your mobile. Text MSN to 63463 now!
<A HREF="http://mobile.uk.msn.com/pc/mail.aspx">http://mobile.uk.msn.com/pc/mail.aspx</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080408/18bed40e/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080408/18bed40e/attachment-0001.html</A> 
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027692.html">[antlr-interest] Java 1.5 grammar updated
</A></li>
	<LI>Next message: <A HREF="027697.html">[antlr-interest] Java 1.5 grammar updated
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27695">[ date ]</a>
              <a href="thread.html#27695">[ thread ]</a>
              <a href="subject.html#27695">[ subject ]</a>
              <a href="author.html#27695">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
