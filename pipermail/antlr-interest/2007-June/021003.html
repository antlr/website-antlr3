<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Problems debugging large grammar in ANTLRWorks
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Problems%20debugging%20large%20grammar%20in%20ANTLRWorks&In-Reply-To=%3CB36CCC332A32904F8FA3DE134A235336252653%40wavemachine.temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021002.html">
   <LINK REL="Next"  HREF="021004.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Problems debugging large grammar in ANTLRWorks</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Problems%20debugging%20large%20grammar%20in%20ANTLRWorks&In-Reply-To=%3CB36CCC332A32904F8FA3DE134A235336252653%40wavemachine.temporal-wave.com%3E"
       TITLE="[antlr-interest] Problems debugging large grammar in ANTLRWorks">jimi at temporal-wave.com
       </A><BR>
    <I>Fri Jun  1 12:17:01 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021002.html">[antlr-interest] Problems debugging large grammar in ANTLRWorks
</A></li>
        <LI>Next message: <A HREF="021004.html">[antlr-interest] Problems debugging large grammar in ANTLRWorks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21003">[ date ]</a>
              <a href="thread.html#21003">[ thread ]</a>
              <a href="subject.html#21003">[ subject ]</a>
              <a href="author.html#21003">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Debugging with ANTLRworks and the C target is not supported - I am not
sure if will do this any time soon, as the socket stuff and the way the
debug thing works does not lend itself well to doing certain things from
C. I think I saw that it serializes classes at some point and gave up
for now. 

It looks like your grammar exceeds the code generation limits for Java,
it isn't anything to do with ANTLR per se. Why java should have such a
thing, is a fair question, but it does. As for the memory question, well
Ter has said in the past that he may not be freeing up some object
references, but I don't know how true this is as of today. It seems to
me that Java just requires a lot of memory to print hello world and
isn't very good at reclaiming anything. I think the whole garbage
collection thing is a flawed idea from the start, but there are some
dilemmas if Java did not use this.

Jim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of troy runkel
</I>&gt;<i> Sent: Friday, June 01, 2007 11:32 AM
</I>&gt;<i> To: ANTLR mail-list
</I>&gt;<i> Subject: [antlr-interest] Problems debugging large grammar in
</I>&gt;<i> ANTLRWorks
</I>&gt;<i> 
</I>&gt;<i> Greetings,
</I>&gt;<i> 
</I>&gt;<i> I'm working with a fairly large grammar (1620 lines) and was hoping to
</I>&gt;<i> debug it using ANTLRWorks 1.0.1.  When I select the 'Debug...' option
</I>&gt;<i> from the Debugger menu I get the following error message popup.  My
</I>&gt;<i> grammar is using the language=C option.
</I>&gt;<i> 
</I>&gt;<i>      Error while generating the grammar:
</I>&gt;<i>      (10): internal error: group CDbg line 33: template outputFile has
</I>&gt;<i> no region called imports
</I>&gt;<i> 
</I>&gt;<i> This looks like a problem with the C code generator so I commented out
</I>&gt;<i> the language=C option line and tried again.  After that I get the
</I>&gt;<i> following error message in the Console window.
</I>&gt;<i> 
</I>&gt;<i>      [12:22:02] \tmp\antlrworks\TSQLParser.java:20: code too large
</I>&gt;<i>      [12:22:02]     public static final String[] tokenNames = new
</I>&gt;<i> String[] {
</I>&gt;<i>      [12:22:02]                                  ^
</I>&gt;<i>      [12:22:02] 1 error
</I>&gt;<i> 
</I>&gt;<i> It looks like maybe there are too many token strings in the tokenNames
</I>&gt;<i> array?  Does anybody have any advice on what I need to do to get my
</I>&gt;<i> grammar working with the ANTLRWorks debugger?
</I>&gt;<i> 
</I>&gt;<i> I also noticed that after processing the grammar ANTLRWorks is
</I>&gt;<i> consuming over 900MB of memory on my Windows XP desktop machine.  If I
</I>&gt;<i> avoid ANTLRWorks and process the grammar directly with ANTLR I get up
</I>&gt;<i> to around 600MB of memory.  Is this normal?  Does that mean there's an
</I>&gt;<i> upper bound to the size of the grammar that ANTLR can process?  I've
</I>&gt;<i> been running java with the -Xmx1490m option to avoid running out of
</I>&gt;<i> java heap space.
</I>&gt;<i> 
</I>&gt;<i> In addition to the language=C option I'm also using backtrack=true and
</I>&gt;<i> memoize=true.
</I>&gt;<i> 
</I>&gt;<i> Thanks.
</I>&gt;<i> 
</I>&gt;<i> Troy Runkel
</I></PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021002.html">[antlr-interest] Problems debugging large grammar in ANTLRWorks
</A></li>
	<LI>Next message: <A HREF="021004.html">[antlr-interest] Problems debugging large grammar in ANTLRWorks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21003">[ date ]</a>
              <a href="thread.html#21003">[ thread ]</a>
              <a href="subject.html#21003">[ subject ]</a>
              <a href="author.html#21003">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
