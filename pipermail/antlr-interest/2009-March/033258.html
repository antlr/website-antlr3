<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Bug? Invalid Java code generated
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Bug%3F%20Invalid%20Java%20code%20generated&In-Reply-To=%3C49B166DF.80909%40lancaster.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033256.html">
   <LINK REL="Next"  HREF="033257.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Bug? Invalid Java code generated</H1>
    <B>Sam Barnett-Cormack</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Bug%3F%20Invalid%20Java%20code%20generated&In-Reply-To=%3C49B166DF.80909%40lancaster.ac.uk%3E"
       TITLE="[antlr-interest] Bug? Invalid Java code generated">s.barnett-cormack at lancaster.ac.uk
       </A><BR>
    <I>Fri Mar  6 10:09:35 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033256.html">[antlr-interest] Bug? Invalid Java code generated
</A></li>
        <LI>Next message: <A HREF="033257.html">[antlr-interest] Bug? Invalid Java code generated
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33258">[ date ]</a>
              <a href="thread.html#33258">[ thread ]</a>
              <a href="subject.html#33258">[ subject ]</a>
              <a href="author.html#33258">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sam Barnett-Cormack wrote:
&gt;<i> Jim Idle wrote:
</I>&gt;&gt;<i> Sam Barnett-Cormack wrote:
</I>&gt;&gt;&gt;<i> Jim Idle wrote:
</I>&gt;&gt;&gt;&gt;<i> Sam Barnett-Cormack wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> Hi all
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> The attached grammar (which you're probably all tired of) generates 
</I>&gt;&gt;&gt;&gt;&gt;<i> Java code with an error in. I've checked, and the error isn't in a 
</I>&gt;&gt;&gt;&gt;&gt;<i> copy action or predicate - it's in the expansion of $text in a 
</I>&gt;&gt;&gt;&gt;&gt;<i> parser predicate. I don't know if I've used $text incorrectly,
</I>&gt;&gt;&gt;&gt;<i> Here is a hint. $text of what? This is a parser rule not a lexer rule.
</I>&gt;&gt;&gt;<i> &quot;The Definitive ANTLR Reference&quot;, Terence Parr, p130: Figure 6.2, 
</I>&gt;&gt;&gt;<i> Predefined Parser Rule Attributes:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &quot;Attribute: text
</I>&gt;&gt;&gt;<i> Type: String
</I>&gt;&gt;&gt;<i> Description: The text matched from the start of the rule up until the 
</I>&gt;&gt;&gt;<i> point of the $text expression evaluation...&quot;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> Oh, well you obviously already know everything already then.
</I>&gt;<i> 
</I>&gt;<i> All I'm saying is that the docs say it can be used in a parser rule. And 
</I>&gt;<i> that I know what its value should be. There's no need to assume I've 
</I>&gt;<i> done something stupid, which certainly seems to be the case when you 
</I>&gt;<i> suggest that using $text there isn't valid, or is problematic in some 
</I>&gt;<i> way, without elaborating, especially when the docs say it can be used.
</I>
Of course, it might just be that I missed something in reading the docs, 
like the fact that rule attributes are reached as ruleName.$attribute, 
not just $attribute... although that only seems to be mentioned 
implicity, in an example... and it does generate some code that would 
appear to work if the code were in the rule function, rather than 
separated into a predicate function. So it's a confusing situation.

-- 
Sam Barnett-Cormack
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033256.html">[antlr-interest] Bug? Invalid Java code generated
</A></li>
	<LI>Next message: <A HREF="033257.html">[antlr-interest] Bug? Invalid Java code generated
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33258">[ date ]</a>
              <a href="thread.html#33258">[ thread ]</a>
              <a href="subject.html#33258">[ subject ]</a>
              <a href="author.html#33258">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
