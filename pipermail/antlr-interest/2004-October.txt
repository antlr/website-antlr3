From asger at udenbysvester.dk  Fri Oct  1 06:24:48 2004
From: asger at udenbysvester.dk (soraz30)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Allowing whitespace in symbols
Message-ID: <cjjlr0+k18@eGroups.com>

I have a problem, and I'm not even sure I'm close to solving it.


I have a grammar, that defines two types of symbols, in seperate
symbol tables
AList
BList


A symbol in one of the lists, must be allowed to include spaces in
their names i.e.

in the DiagnoseList, I have "Foo Bar" as a valid entry.
in the InterventionList, I have "Poo Par" as a valid entry.

In my lexer, I have a rule that basically says (pseudo-code)
ID : [a-z0-9 ]+
   { if text in AList, _ttype=ASYMBOL; 
     if text in BList, _ttype=BSYMBOL;
   }


The parser then has
Line:- ASYMBOL BSYMBOL

On the input "Foo Bar Poo Par", this, ofcourse fails, because the rule
for ASYMBOL (that is: ID), has globbed the Poo Bar as part of the
reg-exp for ID.

Is there any way to achieve this? What I'm looking for, is a way for
the ID rule to say "Ok: That is enough. I now match an entry from one
of the lists.". 

I thought about an approach to match it manually against the lists,
and push the remainder back on the input-stream. Is this a viable
solution? Is it possible?

The symbol tables are loaded from an external source at run-time, so I
cant just insert them as literals (which, by the way, works nicely).

Thanks in advance
Asger



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From ewbank at synopsys.com  Fri Oct  1 07:58:36 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Re: check tokens for whitespace?
In-Reply-To: <cjhr5r+2lhi@eGroups.com>
Message-ID: <ODEDLGHNIFGKLNIHIHLLMEOJCOAA.ewbank@synopsys.com>

If I understand what you want to do, you can use tokens instead of some
external
command; look for information on the tokens section, and the testLiterals
option.

A quick sketch looks like this:

	class scanner extends Lexer;
	options {
		// do not, by default, attempt to detect matches against literals.
		testLiterals = false;
	}
	// define tokens for every keyword or function call...
	tokens {
		FUNC_SIN = "sin";
		FUNC_TAN = "tan";
		FUNC_COS = "cos";
	}
	...

	VAR
	options {
		// do test against the literals table here.  this means that if any of
		// the literals shown in the tokens table (or anywhere else), that will
		// be returned as the type, rather than reporting VAR.
		testLiterals = true;
	}
		: ('a'..'z') ('a'..'z'|'0'..'9')*

There's no semantic action required - the "testLiterals" option does it for
you rather than you needing to do it yourself.

> -----Original Message-----
> I think the best way would be if I could use literals (with an AST
> option) in the token definition of the lexer but this a great work around.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From ewbank at synopsys.com  Fri Oct  1 08:02:42 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Tree structure
In-Reply-To: <415C710F.6060308@yahoo.gr>
Message-ID: <ODEDLGHNIFGKLNIHIHLLAEOKCOAA.ewbank@synopsys.com>

I think the problem here is that the tree is not constructed (because of the
"!" following priVal).  Therefore, INT is
not recognized as "special" in the context of tree-building directives #(
... ).  Try removing the "!" after "priVal",
as well as prefixing "[INT ...]" with another "#", and it should work.

It is throwing away some information (the original priVal node is lost), but
this way it correctly builds the tree
components you need.

> -----Original Message-----
> From: Anakreon [mailto:anakreonmejdi@yahoo.gr]
> Sent: Thursday, September 30, 2004 16:48
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] Tree structure
>
>
>
> > priVal! : INT
> >
> > {
> >
> > #priVal = #([INT,"-15"]);
> This is a problem I have faced many times.
> The workaround for this is:
> int intType = INT;
> #priVal = #([intType, "-15"]);
>
> If this behaver is a feature of Antlr, I wish it's removed.
> Anakreon
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 

From antlr-interest-accept-sD7IdJsWXf_tvCu8z17n=Hg at yahoogroups.com  Fri Oct  1 14:05:53 2004
From: antlr-interest-accept-sD7IdJsWXf_tvCu8z17n=Hg at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:20 2004
Subject: MODERATE -- colmmagoo@yahoo.com posted to antlr-interest
Message-ID: <1096664753.623.24277.m18@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  colmmagoo@yahoo.com 

The message summary:
--------------------
FROM: colmmagoo@yahoo.com 
DATE: Fri, 1 Oct 2004 14:05:51 -0700 (PDT) 
SUBJECT: (Real 

Hi antlr-interest, 

[Language=C++ only, didn't try with Java] 

This is in the realm of triviality, but I noticed today that
antlr produces what looks like to me an obscure error 
message if a variable in an action begins with an '_' 
(underscore) char: 

// offending snippet from test.g: 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=320 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-sD7IdJsWXf_tvCu8z17n=Hg@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: Colm McHugh <colmmagoo@yahoo.com>
Subject: (Real
Date: Fri, 1 Oct 2004 14:05:51 -0700 (PDT)
Size: 1711
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041001/b70fddc6/attachment.mht
From colmmagoo at yahoo.com  Fri Oct  1 14:05:51 2004
From: colmmagoo at yahoo.com (Colm McHugh)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] (Real
In-Reply-To: <ODEDLGHNIFGKLNIHIHLLAEOKCOAA.ewbank@synopsys.com>
Message-ID: <20041001210551.39054.qmail@web52308.mail.yahoo.com>



Hi antlr-interest,

[Language=C++ only, didn't try with Java]

This is in the realm of triviality, but I noticed
today that antlr produces what looks like to me an
obscure error message if a variable in an action
begins with an '_' (underscore) char:

// offending snippet from test.g:

mexpr returns [int _rr = 0]
 {int tmp = 0;}
     :  _rr=atom (STAR tmp=atom { _rr*=tmp; )*
     ;

$ antlr test.g
ANTLR Parser Generator   Version 2.7.4   1989-2004
jGuru.com
TokenStreamException: unexpected char: '_'

Anyways, had me baffled for a few minutes so just
thought I'd share!



		
__________________________________
Do you Yahoo!?
Yahoo! Mail Address AutoComplete - You start. We finish.
http://promotions.yahoo.com/new_mail 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-CY90SM1KrNHUF2JVMCY=yiI at yahoogroups.com  Sat Oct  2 06:04:28 2004
From: antlr-interest-accept-CY90SM1KrNHUF2JVMCY=yiI at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:20 2004
Subject: MODERATE -- paq2000@yahoo.com posted to antlr-interest
Message-ID: <1096722268.851.38648.m22@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  paq2000@yahoo.com 

The message summary:
--------------------
FROM: paq2000@yahoo.com 
DATE: Sat, 02 Oct 2004 13:04:22 -0000 
SUBJECT: Newbie NonDeterminism Error 

Hi, I'm writing a scanner for a pseudo assembly language 
program. Inside, they have a command LOAD and LOADI. 

This is how my code looks: 

LOAD: "load"; LOADI: "loadi"; 

I've tried fiddling with the code, and reading FAQs and 
message boards, but I can't get rid of the error. How would 
I write it so there's no nondeterminism? 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=321 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-CY90SM1KrNHUF2JVMCY=yiI@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "PAQ2000" <paq2000@yahoo.com>
Subject: Newbie NonDeterminism Error
Date: Sat, 02 Oct 2004 13:04:22 -0000
Size: 1404
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041002/f977a639/attachment.mht
From paq2000 at yahoo.com  Sat Oct  2 06:04:22 2004
From: paq2000 at yahoo.com (PAQ2000)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Newbie NonDeterminism Error
Message-ID: <cjm90m+qpjg@eGroups.com>


Hi, I'm writing a scanner for a pseudo assembly language program.
Inside, they have a command LOAD and LOADI.

This is how my code looks:

LOAD:  "load";
LOADI: "loadi";


I've tried fiddling with the code, and reading FAQs and message
boards,  but I can't get rid of the error. How would I write it so
there's no nondeterminism?

Thanks

- Jason







 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Sat Oct  2 09:35:00 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Newbie NonDeterminism Error
In-Reply-To: <cjm90m+qpjg@eGroups.com>
References: <cjm90m+qpjg@eGroups.com>
Message-ID: <00CF7257-1491-11D9-B61B-000393B5606C@codetransform.com>


Look at the lexer documentation about "literals".

Monty

On Oct 2, 2004, at 6:04 AM, PAQ2000 wrote:

>
> Hi, I'm writing a scanner for a pseudo assembly language program.
> Inside, they have a command LOAD and LOADI.
>
> This is how my code looks:
>
> LOAD:  "load";
> LOADI: "loadi";
>
>
> I've tried fiddling with the code, and reading FAQs and message
> boards,  but I can't get rid of the error. How would I write it so
> there's no nondeterminism?
>
> Thanks
>
> - Jason
>
>
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From rd_clark at sbcglobal.net  Sat Oct  2 11:04:20 2004
From: rd_clark at sbcglobal.net (Richard Clark)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Behavior of LA(n) at EOF?
Message-ID: <7BA79CB8-149D-11D9-913E-000A95AF74F0@nextquestion.net>


I'm trying to get the antlr/eclipse bridge working and I've hit a 
glitch. I had to create an adaptor that uses an Eclipse document as an 
input source, and I'm running into an infinite loop in the lexer.

The lexer construct

COMMENT: "//" (~('\n' | '\r'))* EOLN;

generates

match("//");
{
_loop10:
do {
   if ((_tokenSet_0.member(LA(1))) {
     { match(_token_set_0); }
   }
   else {
     break _loop10;
   }
} while (true);

The problem is, if LA(1) returns CharScanner.EOF_CHAR before the 
comment is done (before an EOLN), the member(LA(1)) call returns true 
and the loop repeats forever.

Thus, what is the proper behavior for InputBuffer::LA(int i) when i is 
at or past the end of the file? Should it return EOF_CHAR (in which 
case, what should I do with the loop above) or throw an exception?

  ...Richard (directions: apply forehead to wall. repeat.)



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Sat Oct  2 11:21:13 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Behavior of LA(n) at EOF?
In-Reply-To: <7BA79CB8-149D-11D9-913E-000A95AF74F0@nextquestion.net>
References: <7BA79CB8-149D-11D9-913E-000A95AF74F0@nextquestion.net>
Message-ID: <D7D1D34A-149F-11D9-9FCD-000A95891192@cs.usfca.edu>



On Oct 2, 2004, at 11:04 AM, Richard Clark wrote:
> I'm trying to get the antlr/eclipse bridge working and I've hit a
> glitch. I had to create an adaptor that uses an Eclipse document as an
> input source, and I'm running into an infinite loop in the lexer.

Hi Richard,

Looking forward a great deal to your presentation on this next week at 
the workshop!  Woohoo!

> The lexer construct
>
> COMMENT: "//" (~('\n' | '\r'))* EOLN;
>
> generates
>
> match("//");
> {
> _loop10:
> do {
>    if ((_tokenSet_0.member(LA(1))) {
>      { match(_token_set_0); }
>    }
>    else {
>      break _loop10;
>    }
> } while (true);
>
> The problem is, if LA(1) returns CharScanner.EOF_CHAR before the
> comment is done (before an EOLN), the member(LA(1)) call returns true
> and the loop repeats forever.

Really?  Hmm...Oh, EOF is a member of "not newline".  Hmm...probably 
stupid on my part; I believe I do NOT do this in my 3.0 prototype.  Ok, 
try this:

CMT : "//" (options {greedy=false;}:.)* '\n' ;

which generates:

                 _loop3:
                 do {
                         // nongreedy exit test
                         if ((LA(1)=='\n')) break _loop3;
                         if (((LA(1) >= '\u0001' && LA(1) <= '\u00ff'))) 
{
                                 matchNot(EOF_CHAR);
                         }
                         else {
                                 break _loop3;
                         }

                 } while (true);

The set test will fail for EOF and break out of the loop and then fail 
to match EOLN.

Let me/antlr-interest know if this works. :)

Ter

>
> Thus, what is the proper behavior for InputBuffer::LA(int i) when i is
> at or past the end of the file? Should it return EOF_CHAR (in which
> case, what should I do with the loop above) or throw an exception?
>
>   ...Richard (directions: apply forehead to wall. repeat.)
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From rd_clark at sbcglobal.net  Sun Oct  3 00:04:51 2004
From: rd_clark at sbcglobal.net (Richard Clark)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Behavior of LA(n) at EOF?
In-Reply-To: <D7D1D34A-149F-11D9-9FCD-000A95891192@cs.usfca.edu>
References: <7BA79CB8-149D-11D9-913E-000A95AF74F0@nextquestion.net> <D7D1D34A-149F-11D9-9FCD-000A95891192@cs.usfca.edu>
Message-ID: <8557EAD3-150A-11D9-8BF8-000A95AF74F0@nextquestion.net>



On Oct 2, 2004, at 11:21, Terence Parr wrote:

>
>
> On Oct 2, 2004, at 11:04 AM, Richard Clark wrote:
>> I'm trying to get the antlr/eclipse bridge working and I've hit a
>> glitch. I had to create an adaptor that uses an Eclipse document as an
>> input source, and I'm running into an infinite loop in the lexer.
>
> Hi Richard,
>
> Looking forward a great deal to your presentation on this next week at
> the workshop!  Woohoo!

Work has been eating me alive, but I'll have some stuff to show. A fair 
bit of the discussion could be on the "impedance matching" needed to 
bridge antlr 2.7.x's model of the world and an interactive editor's 
model of the world.

The alternate construct worked, by the way. I can type away without the 
editor hanging.

> CMT : "//" (options {greedy=false;}:.)* '\n' ;

  ...Richard



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-Y3DK_AtQ=_2ivTo1DvegBzw at yahoogroups.com  Sun Oct  3 06:12:07 2004
From: antlr-interest-accept-Y3DK_AtQ=_2ivTo1DvegBzw at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:20 2004
Subject: MODERATE -- td@tmnet.dk posted to antlr-interest
Message-ID: <1096809127.384.3578.m22@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  td@tmnet.dk 

The message summary:
--------------------
FROM: td@tmnet.dk 
DATE: Sun, 03 Oct 2004 13:11:28 -0000 
SUBJECT: Lexer: Re-injecting characters into stream 

I've seen serveal people suggesting to re-inject characters 
back into the stream (to solve different types of problems).

However, I'm unable to find a description of how to do this 
in the docs. Any pointers or examples would be welcome. 

Thanks, Tim 

--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=322 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-Y3DK_AtQ=_2ivTo1DvegBzw@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "tim_doege" <td@tmnet.dk>
Subject: Lexer: Re-injecting characters into stream
Date: Sun, 03 Oct 2004 13:11:28 -0000
Size: 1408
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041003/3c7244cc/attachment.mht
From td at tmnet.dk  Sun Oct  3 06:11:28 2004
From: td at tmnet.dk (tim_doege)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Lexer: Re-injecting characters into stream
Message-ID: <cjotq0+a2o4@eGroups.com>




I've seen serveal people suggesting to re-inject characters back into
the stream (to solve different types of problems).
However, I'm unable to find a description of how to do this in the
docs. Any pointers or examples would be welcome.

Thanks,
Tim









 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ewbank at synopsys.com  Mon Oct  4 06:47:44 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Lexer Keywords and Identifiers (was re: Newbie NonDeterminism Error)
In-Reply-To: <cjm90m+qpjg@eGroups.com>
Message-ID: <ODEDLGHNIFGKLNIHIHLLKEPICOAA.ewbank@synopsys.com>


> LOAD:  "load";
> LOADI: "loadi";
> 
> I've tried fiddling with the code, and reading FAQs and message
> boards,  but I can't get rid of the error. How would I write it so
> there's no nondeterminism?

Easiest to use literals - define a general rule for IDENTIFIER, then
use keyword lookup to intercept and change token values. Search
for "testLiterals" and "token" in the documentation.

A skeleton looks something like this:
	class MyLex extends Lexer;
	options { testLiterals = false; }

	tokens {
		LOAD = "load";
		LOADI = "loadi";
	}

	IDENTIFIER
	options { testLiterals = true; }
		: ( ALPHA ) ( ALNUM )* ;




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-5My8NElI7Ay3yw_Gn1ilNOw at yahoogroups.com  Mon Oct  4 09:49:43 2004
From: antlr-interest-accept-5My8NElI7Ay3yw_Gn1ilNOw at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:20 2004
Subject: MODERATE -- virtualaspirin@yahoo.com posted to antlr-interest
Message-ID: <1096908583.430.4686.m25@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  virtualaspirin@yahoo.com 

The message summary:
--------------------
FROM: virtualaspirin@yahoo.com 
DATE: Mon, 4 Oct 2004 09:33:46 -0700 (PDT) 
SUBJECT: Re: [antlr-interest] Newbie NonDeterminism Error 

Hi 

Have you set the lookahead to at least 5 for this case ? 

If not, put "k=5;" in the options section of lexer. 

- Akhilesh 

--- PAQ2000 <paq2000@yahoo.com> wrote: > This is how my code
looks: > > LOAD: "load"; > LOADI: "loadi"; 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=323 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-5My8NElI7Ay3yw_Gn1ilNOw@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: Akhilesh Mritunjai <virtualaspirin@yahoo.com>
Subject: Re: [antlr-interest] Newbie NonDeterminism Error
Date: Mon, 4 Oct 2004 09:33:46 -0700 (PDT)
Size: 1417
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041004/0526bfd4/attachment.mht
From virtualaspirin at yahoo.com  Mon Oct  4 09:33:46 2004
From: virtualaspirin at yahoo.com (Akhilesh Mritunjai)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Newbie NonDeterminism Error
In-Reply-To: <cjm90m+qpjg@eGroups.com>
Message-ID: <20041004163346.90195.qmail@web50308.mail.yahoo.com>



Hi

Have you set the lookahead to at least 5 for this case
?

If not, put "k=5;" in the options section of lexer.

- Akhilesh

--- PAQ2000 <paq2000@yahoo.com> wrote:
> This is how my code looks:
> 
> LOAD:  "load";
> LOADI: "loadi";


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From lgc at mail1.jpl.nasa.gov  Mon Oct  4 14:35:47 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Re: Newbie NonDeterminism Error
In-Reply-To: <20041004163346.90195.qmail@web50308.mail.yahoo.com>
Message-ID: <cjsfnj+a5bc@eGroups.com>



This would be true if ANTLR recognized literals individually, but
ANTLR does not do that.  What actually happens is that ANTLR
constructs the token, then checks the literals table to see if there
is a match.  As it is, this particular match is not affected by lookahead.

More likely is that the literals option has not been set in the "ID"
(or whatever rule).

--Loring


--- In antlr-interest@yahoogroups.com, Akhilesh Mritunjai
<virtualaspirin@y...> wrote:
> 
> Hi
> 
> Have you set the lookahead to at least 5 for this case
> ?
> 
> If not, put "k=5;" in the options section of lexer.
> 
> - Akhilesh
> 
> --- PAQ2000 <paq2000@y...> wrote:
> > This is how my code looks:
> > 
> > LOAD:  "load";
> > LOADI: "loadi";
> 
> 
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around 
> http://mail.yahoo.com





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From paq2000 at yahoo.com  Mon Oct  4 22:36:43 2004
From: paq2000 at yahoo.com (PAQ2000)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Re: Newbie NonDeterminism Error
In-Reply-To: <cjsfnj+a5bc@eGroups.com>
Message-ID: <cjtbtb+c5v1@eGroups.com>



Thank you for the help you guys. I did read about the literals and the
lookahead values and I actually tried a combination of both your
ideas. I set k=10 and testLiterals=true. Everything seems to work. :-)







--- In antlr-interest@yahoogroups.com, "lgcraymer" <lgc@m...> wrote:
> 
> This would be true if ANTLR recognized literals individually, but
> ANTLR does not do that.  What actually happens is that ANTLR
> constructs the token, then checks the literals table to see if there
> is a match.  As it is, this particular match is not affected by
lookahead.
> 
> More likely is that the literals option has not been set in the "ID"
> (or whatever rule).
> 
> --Loring
> 
> 
> --- In antlr-interest@yahoogroups.com, Akhilesh Mritunjai
> <virtualaspirin@y...> wrote:
> > 
> > Hi
> > 
> > Have you set the lookahead to at least 5 for this case
> > ?
> > 
> > If not, put "k=5;" in the options section of lexer.
> > 
> > - Akhilesh
> > 
> > --- PAQ2000 <paq2000@y...> wrote:
> > > This is how my code looks:
> > > 
> > > LOAD:  "load";
> > > LOADI: "loadi";
> > 
> > 
> > __________________________________________________
> > Do You Yahoo!?
> > Tired of spam?  Yahoo! Mail has the best spam protection around 
> > http://mail.yahoo.com





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-BiYdmPEVsXnVJJ4iiQBdbLc at yahoogroups.com  Tue Oct  5 15:48:45 2004
From: antlr-interest-accept-BiYdmPEVsXnVJJ4iiQBdbLc at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:20 2004
Subject: MODERATE -- codeteacher@toughguy.net posted to antlr-interest
Message-ID: <1097016525.435.11502.m10@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  codeteacher@toughguy.net 

The message summary:
--------------------
FROM: codeteacher@toughguy.net 
DATE: Tue, 05 Oct 2004 22:48:40 -0000 
SUBJECT: Return value warning? 

Hi all, 

I've got the following rule: 

positiveNumeric returns [String value] : ( i:NUM_INT {value 
= i.getText();} | f:NUM_FLOAT {value = f.getText();} ); 

But ANTLR gave me this warning: warning:Rule 
'positiveNumeric' returns a value 

--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=324 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-BiYdmPEVsXnVJJ4iiQBdbLc@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "codeteacher" <codeteacher@toughguy.net>
Subject: Return value warning?
Date: Tue, 05 Oct 2004 22:48:40 -0000
Size: 1700
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041005/ebebd076/attachment.mht
From antlr-interest-accept-RAfcYghTOUzdN92rDLrGmsc at yahoogroups.com  Tue Oct  5 16:00:23 2004
From: antlr-interest-accept-RAfcYghTOUzdN92rDLrGmsc at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:20 2004
Subject: MODERATE -- codeteacher@toughguy.net posted to antlr-interest
Message-ID: <1097017223.230.71818.m22@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  codeteacher@toughguy.net 

The message summary:
--------------------
FROM: codeteacher@toughguy.net 
DATE: Tue, 05 Oct 2004 23:00:20 -0000 
SUBJECT: Custom Exception? 

Hi all, 

Is it possible that in each rule we can throw custom 
exceptions other than modifying the generated code directly?
What I mean is: 

MyRule {action} returns [type retval] throws MyException1, 
MyException2 : declaration { // we can throw MyException1 or
MyException2 and eliminate // the need to catch the 
exception and convert it. } ; 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=325 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-RAfcYghTOUzdN92rDLrGmsc@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "codeteacher" <codeteacher@toughguy.net>
Subject: Custom Exception?
Date: Tue, 05 Oct 2004 23:00:20 -0000
Size: 1542
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041005/6c46856b/attachment.mht
From codeteacher at toughguy.net  Tue Oct  5 15:48:40 2004
From: codeteacher at toughguy.net (codeteacher)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Return value warning?
Message-ID: <cjv8c8+t937@eGroups.com>



Hi all,

I've got the following rule:

positiveNumeric returns [String value] :
	( i:NUM_INT {value = i.getText();}
	| f:NUM_FLOAT {value = f.getText();} );

But ANTLR gave me this warning:
warning:Rule 'positiveNumeric' returns a value

I thought that "returns" is indeed a keyword and is fully supported by
ANTLR. I looked at the generated code and it seemed okay. Is it that
return values in grammar rules are discouraged in ANTLR? If not, how
can I suppress this message? Or did I do something wrong?

Thanks a lot.







 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From codeteacher at toughguy.net  Tue Oct  5 16:00:20 2004
From: codeteacher at toughguy.net (codeteacher)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Custom Exception?
Message-ID: <cjv924+j2r7@eGroups.com>




Hi all,

Is it possible that in each rule we can throw custom exceptions other
than modifying the generated code directly? What I mean is:

MyRule {action} returns [type retval] throws MyException1, MyException2 :
   declaration
{
    // we can throw MyException1 or MyException2 and eliminate
    // the need to catch the exception and convert it.
} ;


Thanks.










 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From csnyder at alumni.ncsu.edu  Tue Oct  5 16:22:59 2004
From: csnyder at alumni.ncsu.edu (kozchris)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Re: Return value warning?
In-Reply-To: <cjv8c8+t937@eGroups.com>
Message-ID: <cjvacj+cqdi@eGroups.com>



You are fine. I don't think you can suppress this message (at least I
haven't found a way). 

The warning is useful for checking why you haven't used the value
returned when calling a subrule. In those cases I suppress the
warnings by assigning the return value of the rule to a dummy variable. 

Using your example

mainRule {String temp;}:
 temp=positiveNumeric
;

Chris

--- In antlr-interest@yahoogroups.com, "codeteacher"
<codeteacher@t...> wrote:
> 
> Hi all,
> 
> I've got the following rule:
> 
> positiveNumeric returns [String value] :
> 	( i:NUM_INT {value = i.getText();}
> 	| f:NUM_FLOAT {value = f.getText();} );
> 
> But ANTLR gave me this warning:
> warning:Rule 'positiveNumeric' returns a value
> 
> I thought that "returns" is indeed a keyword and is fully supported by
> ANTLR. I looked at the generated code and it seemed okay. Is it that
> return values in grammar rules are discouraged in ANTLR? If not, how
> can I suppress this message? Or did I do something wrong?
> 
> Thanks a lot.





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From eitan at cs.ucla.edu  Tue Oct  5 16:36:32 2004
From: eitan at cs.ucla.edu (mazypath)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Re: check tokens for whitespace?
In-Reply-To: <ODEDLGHNIFGKLNIHIHLLMEOJCOAA.ewbank@synopsys.com>
Message-ID: <cjvb60+e8gd@eGroups.com>



Right.  I mentioned this earlier in the thread.  I also want to
specify an AST for my tokens.  I should be able to do this in the
tokens block as so:
 tokens {
  FUNC_SIN="sin"<AST=my.ast.SinClass>;
  FUNC_SIN="cos"<AST=my.ast.CosClass>;
  FUNC_SIN="tan"<AST=my.ast.TanClass>;
 }

As I mentioned before, there seems to be a bug.  ANTLR generates java
code that looks like this:
  
  protected void buildTokenTypeASTClassMap(){
    tokenTypeToASTClassMap.put(new Integer("sin"), my.ast.SinClass);
    tokenTypeToASTClassMap.put(new Integer("cos"), my.ast.CosClass);
    tokenTypeToASTClassMap.put(new Integer("tan"), my.ast.TanClass);
  }

Which of course causes an exception when java attempts to make an
integer out of the strings "sin," "cos," and "tan."

Am I doing something wronge or is ANTLR messed up?

In the meantime your suggestion works well enough.  


--- In antlr-interest@yahoogroups.com, "Bryan Ewbank" <ewbank@s...> wrote:
> If I understand what you want to do, you can use tokens instead of some
> external
> command; look for information on the tokens section, and the
testLiterals
> option.
> 
> A quick sketch looks like this:
> 
> 	class scanner extends Lexer;
> 	options {
> 		// do not, by default, attempt to detect matches against literals.
> 		testLiterals = false;
> 	}
> 	// define tokens for every keyword or function call...
> 	tokens {
> 		FUNC_SIN = "sin";
> 		FUNC_TAN = "tan";
> 		FUNC_COS = "cos";
> 	}
> 	...
> 
> 	VAR
> 	options {
> 		// do test against the literals table here.  this means that if any of
> 		// the literals shown in the tokens table (or anywhere else), that
will
> 		// be returned as the type, rather than reporting VAR.
> 		testLiterals = true;
> 	}
> 		: ('a'..'z') ('a'..'z'|'0'..'9')*
> 
> There's no semantic action required - the "testLiterals" option does
it for
> you rather than you needing to do it yourself.
> 
> > -----Original Message-----
> > I think the best way would be if I could use literals (with an AST
> > option) in the token definition of the lexer but this a great work
around.





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From klaren at cs.utwente.nl  Tue Oct  5 17:13:44 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Re: check tokens for whitespace?
In-Reply-To: <cjvb60+e8gd@eGroups.com>
References: <ODEDLGHNIFGKLNIHIHLLMEOJCOAA.ewbank@synopsys.com> <cjvb60+e8gd@eGroups.com>
Message-ID: <20041006001344.GC28118@cs.utwente.nl>


Hi,

Just had a quick peek at the codegenerator, I did not directly see a way
this could happen. So could you please post a minimal grammar that exposes
the problem ?

Cheers,

Ric

On Tue, Oct 05, 2004 at 11:36:32PM -0000, mazypath wrote:
> Right.  I mentioned this earlier in the thread.  I also want to
> specify an AST for my tokens.  I should be able to do this in the
> tokens block as so:
>  tokens {
>   FUNC_SIN="sin"<AST=my.ast.SinClass>;
...
>     tokenTypeToASTClassMap.put(new Integer("sin"), my.ast.SinClass);

-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  "You know how to use that thing?" [pointing to the sword]
  "Sure.. The pointy end goes into the other guy."
  --- The Mask of Zorro



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From eitan at cs.ucla.edu  Wed Oct  6 13:42:09 2004
From: eitan at cs.ucla.edu (mazypath)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Re: check tokens for whitespace?
In-Reply-To: <20041006001344.GC28118@cs.utwente.nl>
Message-ID: <ck1lb1+8uq5@eGroups.com>



Thanks for your help.  Your reply started me thinking.

I've been using the eclipse plugin for ANTLR.  It turns out that the
plugin is the source of the problem.  When I run antlr manually it
correctly generates the parser.  I assumed that the plugin simply
called antrl.Tool but this is apparently not the case.

If you want to see a minimal grammar that causes propblems for the
eclipse plugin (but not antlr by itself), I posted one to the jGuru
forum (where the ANTLR website says to post bugs)last week:
  http://www.jguru.com/forums/view.jsp?EID=1202512

Thank you to everyone who helped me solve this problem!

--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> Hi,
> 
> Just had a quick peek at the codegenerator, I did not directly see a way
> this could happen. So could you please post a minimal grammar that
exposes
> the problem ?
> 
> Cheers,
> 
> Ric
> 
> On Tue, Oct 05, 2004 at 11:36:32PM -0000, mazypath wrote:
> > Right.  I mentioned this earlier in the thread.  I also want to
> > specify an AST for my tokens.  I should be able to do this in the
> > tokens block as so:
> >  tokens {
> >   FUNC_SIN="sin"<AST=my.ast.SinClass>;
> ...
> >     tokenTypeToASTClassMap.put(new Integer("sin"), my.ast.SinClass);
> 
> -- 
>
-----+++++*****************************************************+++++++++-------
>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893755  ----
>
-----+++++*****************************************************+++++++++-------
>   "You know how to use that thing?" [pointing to the sword]
>   "Sure.. The pointy end goes into the other guy."
>   --- The Mask of Zorro





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From eitan at cs.ucla.edu  Wed Oct  6 13:56:55 2004
From: eitan at cs.ucla.edu (mazypath)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Re: check tokens for whitespace?
In-Reply-To: <ck1lb1+8uq5@eGroups.com>
Message-ID: <ck1m6n+ubm2@eGroups.com>



On futher investigation, it turns out that the bug in the plugin was
fixed two weekes ago (4 days before I ran into a problem) in release
3.0.3 of the plugin.



--- In antlr-interest@yahoogroups.com, "mazypath" <eitan@c...> wrote:
> 
> Thanks for your help.  Your reply started me thinking.
> 
> I've been using the eclipse plugin for ANTLR.  It turns out that the
> plugin is the source of the problem.  When I run antlr manually it
> correctly generates the parser.  I assumed that the plugin simply
> called antrl.Tool but this is apparently not the case.
> 
> If you want to see a minimal grammar that causes propblems for the
> eclipse plugin (but not antlr by itself), I posted one to the jGuru
> forum (where the ANTLR website says to post bugs)last week:
>   http://www.jguru.com/forums/view.jsp?EID=1202512
> 
> Thank you to everyone who helped me solve this problem!
> 
> --- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> > Hi,
> > 
> > Just had a quick peek at the codegenerator, I did not directly see
a way
> > this could happen. So could you please post a minimal grammar that
> exposes
> > the problem ?
> > 
> > Cheers,
> > 
> > Ric
> > 
> > On Tue, Oct 05, 2004 at 11:36:32PM -0000, mazypath wrote:
> > > Right.  I mentioned this earlier in the thread.  I also want to
> > > specify an AST for my tokens.  I should be able to do this in the
> > > tokens block as so:
> > >  tokens {
> > >   FUNC_SIN="sin"<AST=my.ast.SinClass>;
> > ...
> > >     tokenTypeToASTClassMap.put(new Integer("sin"), my.ast.SinClass);
> > 
> > -- 
> >
>
-----+++++*****************************************************+++++++++-------
> >     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893755  ----
> >
>
-----+++++*****************************************************+++++++++-------
> >   "You know how to use that thing?" [pointing to the sword]
> >   "Sure.. The pointy end goes into the other guy."
> >   --- The Mask of Zorro





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From paq2000 at yahoo.com  Wed Oct  6 13:58:15 2004
From: paq2000 at yahoo.com (PAQ2000)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Newbie ANTLR C++
Message-ID: <ck1m97+3nmu@eGroups.com>



Hi Everyone,

I'm still new to ANTLR, and I'm at a definite disadvantage because I 
don't know java, and it seems as though all the help/examples online 
are mostly in java.

But at any rate, my question is to know how I would take each token 
I scan and put it into an array. My problem is is that getText() 
returns a string, and in C/C++ there's no string datatype. How do I 
get around this problem?


Also, for those of you that helped me last time. Thank you very 
much. I might be back for more questions... no matter what, I'm 
gonna show this prof. who's boss! jk! Although, I *will* get this 
program working no matter what.






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr_lakshmi at yahoo.com  Wed Oct  6 15:51:49 2004
From: antlr_lakshmi at yahoo.com (ManimuthuLakshmi Pitchaikani)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Changing positions in AST
Message-ID: <20041006225149.11360.qmail@web90002.mail.scd.yahoo.com>

Hi,
 
How can i shift the position of node2 to node3?
 
For example:
 
Tree
|
|
|-Node1 
    |
    |---e1
|-Node3
|-Node2
    |
    |--e2
 
Thanks. 
 
Best Regards,
Lakshmi

		
---------------------------------
Do you Yahoo!?
vote.yahoo.com - Register online to vote today!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20041006/40ab577b/attachment.html
From tmiceli at sympatico.ca  Wed Oct  6 15:58:02 2004
From: tmiceli at sympatico.ca (Thierry Miceli)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Newbie ANTLR C++
In-Reply-To: <ck1m97+3nmu@eGroups.com>
Message-ID: <20041006225422.JYVP1968.tomts20-srv.bellnexxia.net@mariepoule>


 
>But at any rate, my question is to know how I would take each token I 
>scan and put it into an array. My problem is is that
>getText() returns a string, and in C/C++ there's no string datatype.

Wrong, there is a 'string' type that is part of the STL (standard template
library) that should come with your C++ compiler.

> How do I get around this problem?

This way:

std::string tokenText = token->getText();

If you want to store token text in an array, it is better to use a vector
object.

// Definition of the vector of strings object std::vector< std::string >
tokenTexts;

// Add a token text string at the end of the vector tokenTexts.push_back(
token->getText() );

For more take the time to read a good C++ manual.


Cheers,

Thierry
www.ideat-solutions.com



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From paq2000 at yahoo.com  Wed Oct  6 18:40:19 2004
From: paq2000 at yahoo.com (PAQ2000)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Re: Newbie ANTLR C++
In-Reply-To: <20041006225422.JYVP1968.tomts20-srv.bellnexxia.net@mariepoule>
Message-ID: <ck26q3+dm63@eGroups.com>



haha, thanks Thierry! I guess I'm rusty at the C++. Admittedly, I 
always avoid it whenever possible. I guess I shoulda just did what 
pilots do: "check six!"


Thanks again,

- Jason



--- In antlr-interest@yahoogroups.com, "Thierry Miceli" 
<tmiceli@s...> wrote:
>  
> >But at any rate, my question is to know how I would take each 
token I 
> >scan and put it into an array. My problem is is that
> >getText() returns a string, and in C/C++ there's no string 
datatype.
> 
> Wrong, there is a 'string' type that is part of the STL (standard 
template
> library) that should come with your C++ compiler.
> 
> > How do I get around this problem?
> 
> This way:
> 
> std::string tokenText = token->getText();
> 
> If you want to store token text in an array, it is better to use a 
vector
> object.
> 
> // Definition of the vector of strings object std::vector< 
std::string >
> tokenTexts;
> 
> // Add a token text string at the end of the vector 
tokenTexts.push_back(
> token->getText() );
> 
> For more take the time to read a good C++ manual.
> 
> 
> Cheers,
> 
> Thierry
> www.ideat-solutions.com





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ewbank at synopsys.com  Wed Oct  6 23:12:25 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Changing positions in AST
In-Reply-To: <20041006225149.11360.qmail@web90002.mail.scd.yahoo.com>
Message-ID: <ODEDLGHNIFGKLNIHIHLLCEBGCPAA.ewbank@synopsys.com>

To get nodes in the tree "out of order", you have to build that part of the
tree yourself...

Assuming you have the production

    tree: node1 node2 node3;

Replace it with something like the following.  The syntax may not be quite
right, but it's close...

    tree!: node1 node2 node3 { #( #[TREE,"TREE"], #node1, #node3, #node2); }


  How can i shift the position of node2 to node3?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20041007/e4ce841f/attachment.html
From antlr-interest-accept-PhERSFWo75FPjOaSHDiW=7o at yahoogroups.com  Thu Oct  7 03:38:25 2004
From: antlr-interest-accept-PhERSFWo75FPjOaSHDiW=7o at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:20 2004
Subject: MODERATE -- send2jafer1@yahoo.com posted to antlr-interest
Message-ID: <1097145505.409.90314.m23@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  send2jafer1@yahoo.com 

The message summary:
--------------------
FROM: send2jafer1@yahoo.com 
DATE: Thu, 07 Oct 2004 10:37:32 -0000 
SUBJECT: quick reply needed - doubt 

i am having a lot of parameters defined in the lexer , whose
input accepts values . but one among the parameters should 
accept a string which may contain " alpha numeric characters
along with a single white space in the input string which 
may come at any place in the string ( for eg in first , 
middle or last )" 

the parameter should accept the value only if it satisfies 
the above mentioned conditions otherwise it should throw an 
exception as " invalid value for the parameter x ". 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=326 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-PhERSFWo75FPjOaSHDiW=7o@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "send2jafer1" <send2jafer1@yahoo.com>
Subject: quick reply needed - doubt
Date: Thu, 07 Oct 2004 10:37:32 -0000
Size: 1797
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041007/62cc808c/attachment.mht
From antlr-interest-accept-4UfCxcfM=7IfiOKdFAozjt8 at yahoogroups.com  Thu Oct  7 07:16:20 2004
From: antlr-interest-accept-4UfCxcfM=7IfiOKdFAozjt8 at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:20 2004
Subject: MODERATE -- white_fish@mac.com posted to antlr-interest
Message-ID: <1097158580.450.74192.m23@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  white_fish@mac.com 

The message summary:
--------------------
FROM: white_fish@mac.com 
DATE: Thu, 07 Oct 2004 14:15:53 -0000 
SUBJECT: compilation of antlr C++ runtime witout cerr, cout? 

I want to my generated parser as part of a C++ application 
on a smartphone. Compiling the antlr library for the target 
platform fails do to the use of cerr, cout in BaseAST.cpp, 
LLkParser.cpp, Parser.cpp, and TreeParser.cpp. 

I don't have these output streams on the phone. This leads 
me to wonder if I need these files for the run time to 
function correctly? And if they actually must write to cout 
and cerr in order to operate correctly? I assume I must need
them since they are part of the shared library build. 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=327 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-4UfCxcfM=7IfiOKdFAozjt8@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "Chris Miner" <white_fish@mac.com>
Subject: compilation of antlr C++ runtime witout cerr, cout?
Date: Thu, 07 Oct 2004 14:15:53 -0000
Size: 1716
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041007/c660e949/attachment.mht
From ewbank at synopsys.com  Thu Oct  7 07:21:08 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] AST matching and N-ary tree nodes.
Message-ID: <ODEDLGHNIFGKLNIHIHLLMEBLCPAA.ewbank@synopsys.com>


Hi Folks,

I've been building flattened trees for things like argument lists, but am
now encountering a question of how to process these nodes in a general way,
since AST matching is generous...

	// Used to use this
		arglist : arg ( COMMA^ arg )*

	// Now use this
		arglist : arg ( COMMA! arg )*
			{ #arglist = #( #[ARGLIST], #arglist)

The problem is that I don't know how many kids the ARGLIST node can have,
and I don't see a way (v 2.7.4) to easily walk the children.

Am I building this tree in a non-ANTLR style?  Do I need to go back to using
the "COMMA^" model?

- Bryan Ewbank
"The best tool for requirements analysis and design is a crayon"



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From send2jafer1 at yahoo.com  Thu Oct  7 03:37:32 2004
From: send2jafer1 at yahoo.com (send2jafer1)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] quick reply needed - doubt
Message-ID: <ck369c+r95f@eGroups.com>





 i am having a lot of parameters defined in the lexer , whose input 
accepts values .
        but one among the parameters should accept a string which may 
contain " alpha numeric characters along with a single white space in 
the input string which may come at any place in the string ( for eg 
in first , middle or last )"

       the parameter should accept the value only if it satisfies the 
above mentioned conditions otherwise it should throw an exception as 
 " invalid value for the parameter x ".

       i have tried hidden token stream also .but it throws errors.
if anybody knows the solution let me know.









 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From white_fish at mac.com  Thu Oct  7 07:15:53 2004
From: white_fish at mac.com (Chris Miner)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] compilation of antlr C++ runtime witout cerr, cout?
Message-ID: <ck3j2p+oqar@eGroups.com>




I want to my generated parser as part of  a C++ application on a smartphone.  
Compiling the antlr library for the target platform fails do to the use of cerr, cout in 
BaseAST.cpp, LLkParser.cpp, Parser.cpp, and TreeParser.cpp.

I don't have these output streams on the phone.  This leads me to wonder if I need these 
files for the run time to function correctly?  And if they actually must write to cout and cerr 
in order to operate correctly? I assume I must need them since they are part of the shared 
library build.








 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Thu Oct  7 07:36:59 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] AST matching and N-ary tree nodes.
In-Reply-To: <ODEDLGHNIFGKLNIHIHLLMEBLCPAA.ewbank@synopsys.com>
References: <ODEDLGHNIFGKLNIHIHLLMEBLCPAA.ewbank@synopsys.com>
Message-ID: <58A802D0-186E-11D9-AE18-000393B5606C@codetransform.com>


On Oct 7, 2004, at 7:21 AM, Bryan Ewbank wrote:

>
> Hi Folks,
>
> I've been building flattened trees for things like argument lists, but 
> am
> now encountering a question of how to process these nodes in a general 
> way,
> since AST matching is generous...
>
> 	// Used to use this
> 		arglist : arg ( COMMA^ arg )*
>
> 	// Now use this
> 		arglist : arg ( COMMA! arg )*
> 			{ #arglist = #( #[ARGLIST], #arglist)
>
> The problem is that I don't know how many kids the ARGLIST node can 
> have,
> and I don't see a way (v 2.7.4) to easily walk the children.
>

The tree rule would be identical to what you had before, substituting 
ARGLIST for COMMA.  Your tree used to be #(COMMA arg1 arg2 ...)  now it 
is #(ARGLIST arg1 arg2 ...).

arglist: #(ARGLIST (arg)*);

You won't know how many are in there until you walk them all.  If you 
wanted you could keep count in the parser and store that in the ARGLIST 
node if you make a custom tree node class to hold that info.

> Am I building this tree in a non-ANTLR style?  Do I need to go back to 
> using
> the "COMMA^" model?
>
> - Bryan Ewbank
> "The best tool for requirements analysis and design is a crayon"
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr_lakshmi at yahoo.com  Thu Oct  7 13:34:03 2004
From: antlr_lakshmi at yahoo.com (ManimuthuLakshmi Pitchaikani)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Changing positions in AST
In-Reply-To: <ODEDLGHNIFGKLNIHIHLLCEBGCPAA.ewbank@synopsys.com>
Message-ID: <20041007203403.76926.qmail@web90010.mail.scd.yahoo.com>

Thanks Bryan. I got it.

Bryan Ewbank <ewbank@synopsys.com> wrote:To get nodes in the tree "out of order", you have to build that part of the tree yourself...
 
Assuming you have the production
 
    tree: node1 node2 node3;
 
Replace it with something like the following.  The syntax may not be quite right, but it's close...
 
    tree!: node1 node2 node3 { #( #[TREE,"TREE"], #node1, #node3, #node2); }
 
 
How can i shift the position of node2 to node3?


---------------------------------
Yahoo! Groups Links

   To visit your group on the web, go to:
http://groups.yahoo.com/group/antlr-interest/
  
   To unsubscribe from this group, send an email to:
antlr-interest-unsubscribe@yahoogroups.com
  
   Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 



		
---------------------------------
Do you Yahoo!?
vote.yahoo.com - Register online to vote today!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20041007/78768a88/attachment.html
From antlr-interest-accept-NpHKwpFPl9H2wqD2vd86FFw at yahoogroups.com  Thu Oct  7 13:42:37 2004
From: antlr-interest-accept-NpHKwpFPl9H2wqD2vd86FFw at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:20 2004
Subject: MODERATE -- griffon26@kfk4ever.com posted to antlr-interest
Message-ID: <1097181757.437.51291.m7@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  griffon26@kfk4ever.com 

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=328 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-NpHKwpFPl9H2wqD2vd86FFw@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: Maurice van der Pot <griffon26@kfk4ever.com>
Subject: Why no children in tree generated by C++ parser?
Date: Thu, 7 Oct 2004 22:42:03 +0200
Size: 2181
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041007/ed130689/attachment.mht
From antlr_lakshmi at yahoo.com  Thu Oct  7 13:44:48 2004
From: antlr_lakshmi at yahoo.com (ManimuthuLakshmi Pitchaikani)
Date: Mon Dec 20 16:17:20 2004
Subject: [antlr-interest] Parsing on building AST
Message-ID: <20041007204448.43622.qmail@web90008.mail.scd.yahoo.com>

Hi,
 
Now I'm parsing the tree when the AST is building up.  
 
-Head
|
|-Node1
|   |
|   |--C11 (change the value to C32 if you find same C11 in node3 also)
|
|-Node2
|
|
|-Node3
    |
    |--C31,C11,C32
 
My question is:
When i'm building the tree, I'll write Node1.  Then i'll come down till node3.  From node3, is it possible to reverse back and the change the value of the childnode in Node1?
 
Any idea, how it can be done?
 
Thanks.
 
Best Regards,
Lakshmi

		
---------------------------------
Do you Yahoo!?
Yahoo! Mail Address AutoComplete - You start. We finish.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20041007/f74ae79c/attachment.html
From griffon26 at kfk4ever.com  Thu Oct  7 13:42:03 2004
From: griffon26 at kfk4ever.com (Maurice van der Pot)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Why no children in tree generated by C++ parser?
Message-ID: <20041007204203.GA17458@kfk4ever.com>

Hi everyone,

I must say upfront I'm very new to using lexers/parsers etc.
The code that I downloaded from the ANTLR website for parsing C++ parses my 
preprocessed C++ files fine, but the AST that I get seems to have only 
siblings of the root.

Is this because the C++ grammar does not define any structure for ASTs?
If so, how am I supposed to create a useful tree? Should I modify the 
grammar, subclass the parser or is there something else I'm missing?

Thanks in advance for your help.

Regards,
Maurice van der Pot.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20041007/9c2f5a32/attachment.bin
From ewbank at synopsys.com  Thu Oct  7 14:59:44 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Why no children in tree generated by C++ parser?
In-Reply-To: <20041007204203.GA17458@kfk4ever.com>
Message-ID: <ODEDLGHNIFGKLNIHIHLLIECGCPAA.ewbank@synopsys.com>


> The AST that I get seems to have only siblings of the root.
>
> Is this because the C++ grammar does not define any structure for ASTs?
> If so, how am I supposed to create a useful tree? Should I modify the
> grammar, subclass the parser or is there something else I'm missing?

The default tree is really a forest - there's no root - so you need to
traverse the nextSibling list to see the rest of the stuff.  You can create
a single root by adding the appropriate tree construction action; it will
look something like this (assuming a dummy token ITEMLIST):

program : ( decldef )* { #program = #( #[ITEMLIST, "ITEMLIST"], #program); }

This replaces the default forest of trees (one per matched child) with a
single tree rooted at the new node ITEMLIST.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-RhevUicEjpdDf8ulWFPYyAg at yahoogroups.com  Fri Oct  8 00:01:21 2004
From: antlr-interest-accept-RhevUicEjpdDf8ulWFPYyAg at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:21 2004
Subject: MODERATE -- satinka_mc@yahoo.com posted to antlr-interest
Message-ID: <1097218881.378.18259.m1@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  satinka_mc@yahoo.com 

The message summary:
--------------------
FROM: satinka_mc@yahoo.com 
DATE: Fri, 08 Oct 2004 07:01:12 -0000 
SUBJECT: BELIEVE IT!! GET FREE CALLING CARDS $$$$$ FREE 

BELIEVE IT!! GET FREE CALLING CARDS $$$$$ FREE . Say good 
bye to prepaid calling cards! Earn free Calling cards at 
this site. 

http://tinyurl.com/4zbml 

http://www.geocities.com/stash_cf/Callfree.html 

--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=329 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-RhevUicEjpdDf8ulWFPYyAg@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "satinka_mc" <satinka_mc@yahoo.com>
Subject: BELIEVE IT!! GET FREE CALLING CARDS $$$$$ FREE
Date: Fri, 08 Oct 2004 07:01:12 -0000
Size: 1441
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041008/032898eb/attachment.mht
From m_barreteau at yahoo.co.uk  Fri Oct  8 09:38:28 2004
From: m_barreteau at yahoo.co.uk (m_barreteau)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Re: C directive as a comment
In-Reply-To: <2814351D-05A8-11D9-AF00-000393B5606C@codetransform.com>
Message-ID: <ck6fq4+imr6@eGroups.com>



--- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...> 
wrote:
> Sure, you can build something with ANTLR to do that.  A good 
starting 
> place would be my C grammar, see the link below.  You would have to 
> change the lexer to pass the comment into the parser and from 
there, in 

 I changed it into:

KEYWORD : "_KEYWORD";

MY_DIRECTIVE                       
 }
        :       "/*" KEYWORD 
                (~( '*'| '\r' | '\n' ))+  
                                        { _ttype = MyParms; }
// Is it the way to pass the content of the comment (I mean without 
prefix "/*  _KEYWORD" and suffix "*/") back to the parser? I don't 
think so.
                "*/"           
        ;

protected
MyParms:;

Comment
        :       "/*" 
                ( { LA(2) != '/' }? '*'
                | { LA(2) != 'K' && LA(3) != 'E'}? '_'
// Is there another way to consider a keyword whose length > k (k=3 
in your file)? Such comments (without the keyword) have to be ignored 
as usual.
                | "\r\n"                { deferredNewline(); }
                | ( '\r' | '\n' )       { deferredNewline();    }
                | ~( '*'| '\r' | '\n' )
                )*
                "*/"                    { _ttype = Token.SKIP;  
                                        }
        ;

 I also have some troubles about spaces even if using 'ignore' in the 
options part to parse for instance "/*   _KEYWORD A [2:4] [1:5]  */". 
How can I manage with that at the lexer level?

> an action, send the contents of the comment to another lexer/parser 
to 

I suppose that this action is something like: 
{ ## = #( #[NKeyword], ##); } but has the related rule to be 
detailed? (see next question)

> grab what you need.

 Is this other lexer/parser in charge of detailing the content of the 
directive? (e.g. ID (LBRACKET e1:primaryExpr COLON e2:primaryExpr  
RBRACKET)+)

 Many thanks.

> Monty Zukowski
> 
> ANTLR & Java Consultant -- http://www.codetransform.com
> ANSI C/GCC transformation toolkit -- 
> http://www.codetransform.com/gcc.html
> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
> 
> 
> On Sep 13, 2004, at 8:54 AM, m_barreteau wrote:
> 
> >
> >  Hi!
> >
> >  I would like to recognise a directive (I mean an instruction that
> > can be ignored by a C compiler if a given identifier is not set) 
that
> > would be hidden inside a C comment. For instance:
> >
> > /* KEYWORD [parm1:parm2] */
> >
> >  Does ANTLR 2.7.2 is able to collect these parameters ?
> >
> >  Thanks.
> >
> >
> >
> >
> >
> >
> > Yahoo! Groups Links
> >
> >
> >
> >
> >
> >
> >





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From klaren at cs.utwente.nl  Fri Oct  8 10:01:11 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Why no children in tree generated by C++ parser?
In-Reply-To: <20041007204203.GA17458@kfk4ever.com>
References: <20041007204203.GA17458@kfk4ever.com>
Message-ID: <20041008170111.GA3403@cs.utwente.nl>


On Thu, Oct 07, 2004 at 10:42:03PM +0200, Maurice van der Pot wrote:
> I must say upfront I'm very new to using lexers/parsers etc.
> The code that I downloaded from the ANTLR website for parsing C++ parses my 
> preprocessed C++ files fine, but the AST that I get seems to have only 
> siblings of the root.

AFAIK that grammar has no treebuilding embedded, so if you only turned on
the buildAST option then the generated tree might not be usefull at all.

> Is this because the C++ grammar does not define any structure for ASTs?
> If so, how am I supposed to create a useful tree? Should I modify the 
> grammar, subclass the parser or is there something else I'm missing?

You should modify the grammar for treebuilding actions. But it depends on
what you'll want to do in the subsequent tree parsers how you'll strucutre
the tree.

Cheers,

Ric
- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 Why don't we just invite them to dinner and massacre them all when they're
  drunk? You heard the man. There's seven hundred thousand of them. Ah? ..
           So it'd have to be something simple with pasta, then.
                 From: Interesting Times by Terry Pratchet



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From griffon26 at kfk4ever.com  Fri Oct  8 12:21:29 2004
From: griffon26 at kfk4ever.com (Maurice van der Pot)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Why no children in tree generated by C++ parser?
In-Reply-To: <20041008170111.GA3403@cs.utwente.nl>
References: <20041007204203.GA17458@kfk4ever.com> <20041008170111.GA3403@cs.utwente.nl>
Message-ID: <20041008192129.GB17458@kfk4ever.com>

On Fri, Oct 08, 2004 at 07:01:11PM +0200, Ric Klaren wrote:
> 
> AFAIK that grammar has no treebuilding embedded, so if you only turned on
> the buildAST option then the generated tree might not be usefull at all.

Like the first reply to my post said, it's more like a forest... that burnt down.
This was the only C++ grammar for ANTLR I could find though. Does this mean
that nobody is actually using this grammar or even ANTLR for C++? Or maybe
nobody is advertising their modified version of the grammar.

> You should modify the grammar for treebuilding actions. But it depends on
> what you'll want to do in the subsequent tree parsers how you'll strucutre
> the tree.

I was considering making a static code checker, so I'm looking to do some 
pattern matching on the tree.

Thanks,
Maurice.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20041008/4a0aee98/attachment.bin
From antlr-interest-accept-esQHZkhlIAQFAVSzfsSxpxM at yahoogroups.com  Sat Oct  9 08:21:09 2004
From: antlr-interest-accept-esQHZkhlIAQFAVSzfsSxpxM at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:21 2004
Subject: MODERATE -- olafschwarz78@yahoo.com posted to antlr-interest
Message-ID: <1097335269.269.16474.m24@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  olafschwarz78@yahoo.com 

The message summary:
--------------------
FROM: olafschwarz78@yahoo.com 
DATE: Sat, 09 Oct 2004 15:20:59 -0000 
SUBJECT: Code generation for Java-to-Java 

Hi! I have to develop a Java-to-Java Compiler which will 
make some modifications to the generated AST. 

Does anybody know a tree walker generating Java code from 
the ASTs Micheal Studman's java15.g creates? A similar 
grammar would of course also be OK. 

Unfortunately the topic of code creation is very rarely 
covered in the documentation material I found. So I am quite
unsure about the best way to build such a code generator by 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=330 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-esQHZkhlIAQFAVSzfsSxpxM@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "olafschwarz78" <olafschwarz78@yahoo.com>
Subject: Code generation for Java-to-Java
Date: Sat, 09 Oct 2004 15:20:59 -0000
Size: 1768
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041009/4f414d50/attachment.mht
From olafschwarz78 at yahoo.com  Sat Oct  9 08:20:59 2004
From: olafschwarz78 at yahoo.com (olafschwarz78)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Code generation for Java-to-Java
Message-ID: <ck8vkr+mn3d@eGroups.com>




Hi!
I have to develop a Java-to-Java Compiler which will make some 
modifications to the generated AST.

Does anybody know a tree walker generating Java code from the ASTs 
Micheal Studman's java15.g creates? A similar grammar would of 
course also be OK.

Unfortunately the topic of code creation is very rarely covered in 
the documentation material I found. So I am quite unsure about the 
best way to build such a code generator by myself. If this is really 
necessary I would be glad if you could point me to a good source to 
read up on this.

Thank you in advance
Olaf









 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From anakreonmejdi at yahoo.gr  Sat Oct  9 12:34:25 2004
From: anakreonmejdi at yahoo.gr (Anakreon)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Code generation for Java-to-Java
In-Reply-To: <ck8vkr+mn3d@eGroups.com>
Message-ID: <20041009193425.24155.qmail@web25007.mail.ukl.yahoo.com>


 --- olafschwarz78 <olafschwarz78@yahoo.com> ??????: 
> 
> 
> 
> Hi!
> I have to develop a Java-to-Java Compiler which will
> make some 
> modifications to the generated AST.
> 
> Does anybody know a tree walker generating Java code
> from the ASTs 
> Micheal Studman's java15.g creates? A similar
> grammar would of 
> course also be OK.
> 
> Unfortunately the topic of code creation is very
> rarely covered in 
> the documentation material I found. So I am quite
> unsure about the 
> best way to build such a code generator by myself.
> If this is really 
> necessary I would be glad if you could point me to a
> good source to 
> read up on this.
> 
> Thank you in advance
> Olaf
> 
Hello.
An example of what you want can be found at:
http://storm.cs.unipi.gr/~anakreon/aspa.html
In the grama directory you will find the files:
produces_*
The act files contain the action code.
Anakreon

____________________________________________________________
Do You Yahoo!?
????????? ?? ?????? @yahoo.gr ????????? ??? ??? http://www.otenet.gr


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Sat Oct  9 13:51:52 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Code generation for Java-to-Java
In-Reply-To: <ck8vkr+mn3d@eGroups.com>
References: <ck8vkr+mn3d@eGroups.com>
Message-ID: <0C39EC49-1A35-11D9-9D5E-000A95891192@cs.usfca.edu>


Take a look at the article:

http://www.antlr.org/article/rewrite.engine/index.tml


Ter
On Oct 9, 2004, at 8:20 AM, olafschwarz78 wrote:

>
>
>
> Hi!
> I have to develop a Java-to-Java Compiler which will make some
> modifications to the generated AST.
>
> Does anybody know a tree walker generating Java code from the ASTs
> Micheal Studman's java15.g creates? A similar grammar would of
> course also be OK.
>
> Unfortunately the topic of code creation is very rarely covered in
> the documentation material I found. So I am quite unsure about the
> best way to build such a code generator by myself. If this is really
> necessary I would be glad if you could point me to a good source to
> read up on this.
>
> Thank you in advance
> Olaf
>
>
>
>
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-81XTdHtzcVy_OvjpC2aSvjk at yahoogroups.com  Sat Oct  9 18:30:49 2004
From: antlr-interest-accept-81XTdHtzcVy_OvjpC2aSvjk at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:21 2004
Subject: MODERATE -- stevegianvecchio@hotmail.com posted to antlr-interest
Message-ID: <1097371849.404.58110.m14@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  stevegianvecchio@hotmail.com 

The message summary:
--------------------
FROM: stevegianvecchio@hotmail.com 
DATE: Sun, 10 Oct 2004 01:30:45 -0000 
SUBJECT: How to determine execution path? 

Greetings, 

This is more of a compiler question than an ANTLR question. 
I will give some background on what I'm doing, which you can
probably skip, because the question itself is at the end. 

BACKGROUND: 

I am building an error detection tool for an academic 
project that detects errors by finding conflicting 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=331 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-81XTdHtzcVy_OvjpC2aSvjk@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "Steve" <stevegianvecchio@hotmail.com>
Subject: How to determine execution path?
Date: Sun, 10 Oct 2004 01:30:45 -0000
Size: 2465
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041010/dfaef4ec/attachment.mht
From stevegianvecchio at hotmail.com  Sat Oct  9 18:30:45 2004
From: stevegianvecchio at hotmail.com (Steve)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] How to determine execution path?
Message-ID: <cka3c5+sbqg@eGroups.com>




Greetings,

    This is more of a compiler question than an ANTLR question. I 
will give some background on what I'm doing, which you can probably 
skip, because the question itself is at the end.

BACKGROUND:

    I am building an error detection tool for an academic project 
that detects errors by finding conflicting statements in the code. 
The target language will likely be Java, but I'd like to be able to 
extend the tool to work with other languages.

Example: 

initial statement: int x=0; implies that "x is 0."
later statement: x=y/x; implies that "x is not 0." (can't divide by 
zero)
contradiction: "x is 0" and "x is not 0"

(This is a simplification of Dawson Engler's approach to error 
detection.) 

I was planning on using ANTLR to create an abstract syntax tree which 
would be traversed to generate implications of each statement and 
then search for conflicts. The implications would need to be 
propogated based on execution path, the further the better.

THE QUESTION:

-How to determine execution path?

It would be ideal to not code this myself if the functionality is 
available in an open source tool. I would appreciate any information 
that can be provided, even if it is just pointing me in the right 
direction.

Many thanks,

Steve








 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From joanpujol at gmail.com  Sun Oct 10 09:36:44 2004
From: joanpujol at gmail.com (Joan Pujol)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Parser error management
Message-ID: <d2d18a104101009366f555ce4@mail.gmail.com>


Hi,

I'm doing a pseudocode language that's similiar to Java. It has to be
used for didactic purpouses. Thus one of the more imortants things is
a good error detection and recovery strategy. At the moment I haven't
implemented anything yet (I used the default antlr code).

My question is if someone can points me to good resources for doing a
good error management in ANTLR. Or  good error recovery in general
(that will be aplicable to ANTLR of course).

A lot of thanks in advance,

-- 
Joan Jes?s Pujol Espinar


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr_lakshmi at yahoo.com  Sun Oct 10 13:20:27 2004
From: antlr_lakshmi at yahoo.com (ManimuthuLakshmi Pitchaikani)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] leafnode value
Message-ID: <20041010202027.46337.qmail@web90002.mail.scd.yahoo.com>

Hi,
 
I want to change the value of the leafnode in the result tree.
 
The code goes here:

stop_stmt!

{

String strText = "";

CommonAST ast; 

AST[] ast1 = new AST[2]; // ast1[2];

}

: #(stp:STOP procId:PROCID

{

ast1[0] = (CommonAST) procId;

System.out.println("stop procid="+ast1[0]); 

ast1[0].setText("Hello");

procId = (CommonAST) ast1[0];

System.out.println("changed procid="+procId.getText());

}

) 

{

#stop_stmt = #([STOP,"./killproc"], procId);

System.out.println("stop_stmt procId="+procId.getText());

}

;

Am getting the value of procId as "Hello" only in System output.  But in the tree, the value is not getting changed.  Why?

Thanks.

Best Regards,

Lakshmi

 

 
 
 

		
---------------------------------
Do you Yahoo!?
vote.yahoo.com - Register online to vote today!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20041010/eb74fc12/attachment.html
From monty at codetransform.com  Sun Oct 10 13:56:41 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] leafnode value
In-Reply-To: <20041010202027.46337.qmail@web90002.mail.scd.yahoo.com>
References: <20041010202027.46337.qmail@web90002.mail.scd.yahoo.com>
Message-ID: <E3206C55-1AFE-11D9-859D-000393B5606C@codetransform.com>

You should use #procid instead of just procid.

Also, why don't you just set the text of the node directly?  
#procid.setText("Hello");

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html

On Oct 10, 2004, at 1:20 PM, ManimuthuLakshmi Pitchaikani wrote:

> Hi,
> ?
> I want to change the value of the leafnode in the result tree.
> ?
> The code goes here:
>
> stop_stmt!
>
> {
>
> String strText = "";
>
>
> CommonAST ast;
>
>  AST[] ast1 = new AST[2]; // ast1[2];
>
>
> }
>
> : #(stp:STOP procId:PROCID
>
> {
>
> ast1[0] = (CommonAST) procId;
>
> System.out.println("stop procid="+ast1[0]);
>
>
>  ast1[0].setText("Hello");
>
>
> procId = (CommonAST) ast1[0];
>
> System.out.println("changed procid="+procId.getText());
>
>
> }
>
> )
>
>  {
>
> #stop_stmt = #([STOP,"./killproc"], procId);
>
>
> System.out.println("stop_stmt procId="+procId.getText());
>
>
> }
>
> ;
>
> Am getting the value of procId as "Hello" only in System output.? But 
> in the tree, the value is not getting changed.? Why?
>
> Thanks.
>
> Best Regards,
>
> Lakshmi
>
> ?
> ?
> ?
> ?
>
> Do you Yahoo!?
> vote.yahoo.com - Register online to vote today!
>
>  Yahoo! Groups Links
>
> 	? 	To visit your group on the web, go to:
> http://groups.yahoo.com/group/antlr-interest/
> ?
> 	? 	 To unsubscribe from this group, send an email to:
> antlr-interest-unsubscribe@yahoogroups.com
> ?
> 	? 	 Your use of Yahoo! Groups is subject to the Yahoo! Terms of 
> Service.
>
>  
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 2682 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20041010/f478d983/attachment.bin
From antlr_lakshmi at yahoo.com  Sun Oct 10 16:34:11 2004
From: antlr_lakshmi at yahoo.com (ManimuthuLakshmi Pitchaikani)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] leafnode value
In-Reply-To: <E3206C55-1AFE-11D9-859D-000393B5606C@codetransform.com>
Message-ID: <20041010233411.82674.qmail@web90004.mail.scd.yahoo.com>

direct usage of #procid in 
#stop_stmt = #([STOP,"./killproc"], #procId); //result is not "Hello"

doesn't result in "Hello". 

Also, 

#stop_stmt = #([STOP,"./killproc"], #procId.setText("Hello"));

result in compilation error:

The method add(AST) in the type ASTArray is not applicable for the arguments (void) 
Do we need to define separate subrule for procId?

Monty Zukowski <monty@codetransform.com> wrote:You should use #procid instead of just procid.

Also, why don't you just set the text of the node directly? 
#procid.setText("Hello");

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html

On Oct 10, 2004, at 1:20 PM, ManimuthuLakshmi Pitchaikani wrote:

> Hi,
>  
> I want to change the value of the leafnode in the result tree.
>  
> The code goes here:
>
> stop_stmt!
>
> {
>
> String strText = "";
>
>
> CommonAST ast;
>
> AST[] ast1 = new AST[2]; // ast1[2];
>
>
> }
>
> : #(stp:STOP procId:PROCID
>
> {
>
> ast1[0] = (CommonAST) procId;
>
> System.out.println("stop procid="+ast1[0]);
>
>
> ast1[0].setText("Hello");
>
>
> procId = (CommonAST) ast1[0];
>
> System.out.println("changed procid="+procId.getText());
>
>
> }
>
> )
>
> {
>
> #stop_stmt = #([STOP,"./killproc"], procId);
>
>
> System.out.println("stop_stmt procId="+procId.getText());
>
>
> }
>
> ;
>
> Am getting the value of procId as "Hello" only in System output.  But 
> in the tree, the value is not getting changed.  Why?
>
> Thanks.
>
> Best Regards,
>
> Lakshmi
>
>  
>  
>  
>  
>
> Do you Yahoo!?
> vote.yahoo.com - Register online to vote today!
>
> Yahoo! Groups Links
>
>  To visit your group on the web, go to:
> http://groups.yahoo.com/group/antlr-interest/
>  
>  To unsubscribe from this group, send an email to:
> antlr-interest-unsubscribe@yahoogroups.com
>  
>  Your use of Yahoo! Groups is subject to the Yahoo! Terms of 
> Service.
>
> 

		
---------------------------------
Do you Yahoo!?
vote.yahoo.com - Register online to vote today!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20041010/1fd9b327/attachment.html
From wiggjd at lsbu.ac.uk  Mon Oct 11 04:05:52 2004
From: wiggjd at lsbu.ac.uk (David Wigg)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Re: Why no children in tree generated by C++ parser?
Message-ID: <416A6910.4080705@lsbu.ac.uk>


Hello Maurice,

As the latest supplier of the C++ parser in the antlr.org site I 
can confirm that I have not attempted to generate an AST as yet.

I assume the recent correspondence on this list refers to our 
version 3.0 dated 1 July 2004.

I was glad to hear that you have been able to run it 
successfully. However, if you find any problems with it please 
let me know.

We include our application code via pre-processor conditional 
statements and using subclassing, similar to the demonstration 
module, MyCode.cpp, to keep it separate from the parser code.

I would very much like to offer tree parser output, but I do not 
have sufficient spare time at present. If anyone would like to 
co-operate with me to modify the parser to produce a suitable 
AST from this parser then I would be pleased to help.

David
Research Fellow
Centre for Systems and Software Engineering
London South Bank University
UK



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From griffon26 at kfk4ever.com  Mon Oct 11 11:03:30 2004
From: griffon26 at kfk4ever.com (Maurice van der Pot)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Re: Why no children in tree generated by C++ parser?
In-Reply-To: <416A6910.4080705@lsbu.ac.uk>
References: <416A6910.4080705@lsbu.ac.uk>
Message-ID: <20041011180330.GE17458@kfk4ever.com>

On Mon, Oct 11, 2004 at 12:05:52PM +0100, David Wigg wrote:
> 
> I assume the recent correspondence on this list refers to our 
> version 3.0 dated 1 July 2004.

That's correct.

> I was glad to hear that you have been able to run it 
> successfully. However, if you find any problems with it please 
> let me know.

I did make one little change to make it accept preprocessed output
from gcc:

--- ../CPP_parser.g     2004-09-18 01:16:50.251916096 +0200
+++ CPP_parser.g        2004-09-19 16:59:17.328629528 +0200
@@ -2107,7 +2107,7 @@
		(Space)+
		n:Decimal
		(Space)+
-		(sl:StringLiteral)?
+		(sl:StringLiteral (' ' Decimal)* )?
		{
		process_line_directive((sl->getText()).data(), (n->getText()).data());  // see main()
		}

I only ran it on a few rather small source files so far, but that
will change once I move from using ANTLR and building ASTs to 
using these trees to do something useful.

> I would very much like to offer tree parser output, but I do not 
> have sufficient spare time at present. If anyone would like to 
> co-operate with me to modify the parser to produce a suitable 
> AST from this parser then I would be pleased to help.

I'm going to play a little with the grammar annotations for tree
construction. As I said, I'm new to this, so I'm not sure how easy
that will be.

Regards,
Maurice.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20041011/456199e4/attachment.bin
From antlr-interest-accept-20KMXgT3Z61o1ctcOJf9Osk at yahoogroups.com  Mon Oct 11 13:35:30 2004
From: antlr-interest-accept-20KMXgT3Z61o1ctcOJf9Osk at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:21 2004
Subject: MODERATE -- ora.et.labora@web.de posted to antlr-interest
Message-ID: <1097526930.418.53688.m21@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  ora.et.labora@web.de 

The message summary:
--------------------
FROM: ora.et.labora@web.de 
DATE: Mon, 11 Oct 2004 20:35:16 -0000 
SUBJECT: I'm stuck with my parser tree generator .. 

I do not get the picture about this parser trees and how to 
utilitze them. Here's my very simple problem: 

My parser should accept a list of (simple) expressions, for 

example: 

5+4 ; 3*2; 

My parser should then further evaluate each expression in 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=332 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-20KMXgT3Z61o1ctcOJf9Osk@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "whaefelinger" <ora.et.labora@web.de>
Subject: I'm stuck with my parser tree generator ..
Date: Mon, 11 Oct 2004 20:35:16 -0000
Size: 3232
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041011/a2455420/attachment.mht
From ora.et.labora at web.de  Mon Oct 11 13:35:16 2004
From: ora.et.labora at web.de (whaefelinger)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] I'm stuck with my parser tree generator ..
Message-ID: <ckeqq4+3i09@eGroups.com>




I do not get the picture about this parser trees and how to utilitze 
them. Here's my very simple problem: 

My parser should accept a list of (simple) expressions, for
example:

 5+4 ; 3*2; 

My parser should then further evaluate each expression in the
list and summarize  them up. So my input 5+4 ;3*2; should end
up in printing 15.

Here's my Parser:

 class CalcParser extends Parser;
  options { buildAST = true; }

  tokens { EXPR; }

  stmts
    :  ( 
            expr {
                // tree construction rule here?
            } 
            ";"!
        )+ 
    ;

  expr
    :	INT ((PLUS^|MULT^) INT)*
    ;


and this is my tree parser:

 class CalcTreeWalker extends TreeParser;

 stmts returns [float r]
 { 
    float a = 0;
    r = 0; 
 }
    : #(EXPR a=expr) { r+=a ; } 
    ;

 expr returns [float r]
 {
	float a,b;
	r=0;
 }
    :	#(PLUS  a=expr b=expr) { r = a+b; }
    |   #(MULT  a=expr b=expr) { r = a*b; }
    |	i:INT	{r = (float)Integer.parseInt(i.getText());}
    ;

In my main function I do then basically this:

  public static void main(String[] args)
  {
     ...
     // Parse the input expression
     parser.stmts();
     CommonAST t = (CommonAST)parser.getAST();
     // Print the resulting tree out in LISP notation
     System.out.println(t.toStringTree());
     CalcTreeWalker walker = new CalcTreeWalker();
     // Traverse the tree created by the parser
     float sum = walker.stmts(t);
     System.out.println("*sum => " + sum);
     ...
   }

When I run my parser on input "5+4 ; 3*2;" I do get this
output (line numbering by me):

001  /opt/jdk32/142_03/bin/java antlr.Tool calc.g
002  ANTLR Parser Generator   Version 2.7.4   1989-2004 jGuru.com
003  ( + 5 4 )
004  <AST>:0:0: expecting EXPR, found '+'
005  *sum => 0.0

The error message in 004 is what I (more or less) expected as
there is no 'EXPR' node. But how would I construct it?

Please be aware that I deliberatly do not want to "summarize"
in the 'expr' rule of my parser tree. 

I wonder whether someone can give me some help?











 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From csnyder at alumni.ncsu.edu  Mon Oct 11 14:38:41 2004
From: csnyder at alumni.ncsu.edu (kozchris)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Re: I'm stuck with my parser tree generator ..
In-Reply-To: <ckeqq4+3i09@eGroups.com>
Message-ID: <ckeuh1+dau9@eGroups.com>



Adding this should work:

expr {
  // tree construction rule here?
   ##=#(#[EXPR, "EXPR"],##);
} 

Chris
--- In antlr-interest@yahoogroups.com, "whaefelinger"
<ora.et.labora@w...> wrote:
> 
> 
> I do not get the picture about this parser trees and how to utilitze 
> them. Here's my very simple problem: 
> 
> My parser should accept a list of (simple) expressions, for
> example:
> 
>  5+4 ; 3*2; 
> 
> My parser should then further evaluate each expression in the
> list and summarize  them up. So my input 5+4 ;3*2; should end
> up in printing 15.
> 
> Here's my Parser:
> 
>  class CalcParser extends Parser;
>   options { buildAST = true; }
> 
>   tokens { EXPR; }
> 
>   stmts
>     :  ( 
>             expr {
>                 // tree construction rule here?
>             } 
>             ";"!
>         )+ 
>     ;
> 
>   expr
>     :	INT ((PLUS^|MULT^) INT)*
>     ;
> 
> 
> and this is my tree parser:
> 
>  class CalcTreeWalker extends TreeParser;
> 
>  stmts returns [float r]
>  { 
>     float a = 0;
>     r = 0; 
>  }
>     : #(EXPR a=expr) { r+=a ; } 
>     ;
> 
>  expr returns [float r]
>  {
> 	float a,b;
> 	r=0;
>  }
>     :	#(PLUS  a=expr b=expr) { r = a+b; }
>     |   #(MULT  a=expr b=expr) { r = a*b; }
>     |	i:INT	{r = (float)Integer.parseInt(i.getText());}
>     ;
> 
> In my main function I do then basically this:
> 
>   public static void main(String[] args)
>   {
>      ...
>      // Parse the input expression
>      parser.stmts();
>      CommonAST t = (CommonAST)parser.getAST();
>      // Print the resulting tree out in LISP notation
>      System.out.println(t.toStringTree());
>      CalcTreeWalker walker = new CalcTreeWalker();
>      // Traverse the tree created by the parser
>      float sum = walker.stmts(t);
>      System.out.println("*sum => " + sum);
>      ...
>    }
> 
> When I run my parser on input "5+4 ; 3*2;" I do get this
> output (line numbering by me):
> 
> 001  /opt/jdk32/142_03/bin/java antlr.Tool calc.g
> 002  ANTLR Parser Generator   Version 2.7.4   1989-2004 jGuru.com
> 003  ( + 5 4 )
> 004  <AST>:0:0: expecting EXPR, found '+'
> 005  *sum => 0.0
> 
> The error message in 004 is what I (more or less) expected as
> there is no 'EXPR' node. But how would I construct it?
> 
> Please be aware that I deliberatly do not want to "summarize"
> in the 'expr' rule of my parser tree. 
> 
> I wonder whether someone can give me some help?





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-=BlIshrBMk_BENEcTRb3j4k at yahoogroups.com  Tue Oct 12 02:10:48 2004
From: antlr-interest-accept-=BlIshrBMk_BENEcTRb3j4k at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:21 2004
Subject: MODERATE -- ora.et.labora@web.de posted to antlr-interest
Message-ID: <1097572248.365.23173.m24@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  ora.et.labora@web.de 

The message summary:
--------------------
FROM: ora.et.labora@web.de 
DATE: Tue, 12 Oct 2004 09:09:32 -0000 
SUBJECT: parser tree structure 

Hello, I'm wondering about the structure of my generated 
parse tree. Here is what I have (quite similar to my recent 
posting - but much improved now thanks to "kozchris"): 

================== parser 
====================================== /** stmts shall be a 
"list" of expressions terminated by ";" */ stmts : ( expr { 

## = #(#[STMT,"stmt"],##) ; } ";"! )+ ; 

--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=333 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-=BlIshrBMk_BENEcTRb3j4k@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "whaefelinger" <ora.et.labora@web.de>
Subject: parser tree structure
Date: Tue, 12 Oct 2004 09:09:32 -0000
Size: 2692
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041012/f37f07c5/attachment.mht
From monty at codetransform.com  Tue Oct 12 06:49:55 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] How to determine execution path?
In-Reply-To: <cka3c5+sbqg@eGroups.com>
References: <cka3c5+sbqg@eGroups.com>
Message-ID: <998AD9DE-1C55-11D9-859D-000393B5606C@codetransform.com>


There's a tool that analyzes string usage here -- 
http://www.brics.dk/JSA/ -- that might give you some ideas.

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html

On Oct 9, 2004, at 6:30 PM, Steve wrote:

>
>
>
> Greetings,
>
>     This is more of a compiler question than an ANTLR question. I
> will give some background on what I'm doing, which you can probably
> skip, because the question itself is at the end.
>
> BACKGROUND:
>
>     I am building an error detection tool for an academic project
> that detects errors by finding conflicting statements in the code.
> The target language will likely be Java, but I'd like to be able to
> extend the tool to work with other languages.
>
> Example:
>
> initial statement: int x=0; implies that "x is 0."
> later statement: x=y/x; implies that "x is not 0." (can't divide by
> zero)
> contradiction: "x is 0" and "x is not 0"
>
> (This is a simplification of Dawson Engler's approach to error
> detection.)
>
> I was planning on using ANTLR to create an abstract syntax tree which
> would be traversed to generate implications of each statement and
> then search for conflicts. The implications would need to be
> propogated based on execution path, the further the better.
>
> THE QUESTION:
>
> -How to determine execution path?
>
> It would be ideal to not code this myself if the functionality is
> available in an open source tool. I would appreciate any information
> that can be provided, even if it is just pointing me in the right
> direction.
>
> Many thanks,
>
> Steve
>
>
>
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ora.et.labora at web.de  Tue Oct 12 02:09:32 2004
From: ora.et.labora at web.de (whaefelinger)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] parser tree structure
Message-ID: <ckg70c+69po@eGroups.com>




Hello,
I'm wondering about the structure of my generated parse tree. Here is
what I have (quite similar to my recent posting - but much improved 
now thanks to "kozchris"):

================== parser ======================================
/** stmts shall be a "list" of expressions terminated by ";" */
stmts
    :  ( expr {
                ## = #(#[STMT,"stmt"],##) ;
         } 
         ";"!
        )+ 
    ;

/** an exression shall be just a number (for simplicity) */
expr:	INT ;
================================================================

Here's the tree generated on input of "1;"

 stmt 
   |
   +--1

Here's the tree generated on input of "1; 2;"

 stmt
   |
   +--stmt
        |
        +---1
        |
        +---2

I wonder here about the top most 'stmt'?


Here's the tree generated on input "1; 2 ; 3;"

  stmt
   |   
   +--stmt
       |
       +--stmt
       |    |
       +--3 +--1
            |
            +--2

Again there's this top node having just one child.

I dot not fully understand how this tree layout is
reflected by the node construction rule 

     #(#[STMT,"stmt"],##) 

Instead I expected to end up in something like:

  stmt               stmt            stmt
   |                   |               |
   +--stmt             +--stmt         +--1
   |    |              |    |
   +--3 +--stmt        +--2 +--1
        |    |
        +--2 +--1
            
   "1;2;3;"           "1;2;"          "1;"


which appears bit more regular in my eyes. Is there
a way to archieve this?











 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From atripp at comcast.net  Tue Oct 12 07:49:49 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Re: Code generation for Java-to-Java
In-Reply-To: <ck8vkr+mn3d@eGroups.com>
Message-ID: <ckgqud+4g57@eGroups.com>



--- In antlr-interest@yahoogroups.com, "olafschwarz78"
<olafschwarz78@y...> wrote:
> 
> 
> Hi!
> I have to develop a Java-to-Java Compiler which will make some 
> modifications to the generated AST.
> 
> Does anybody know a tree walker generating Java code from the ASTs 
> Micheal Studman's java15.g creates? A similar grammar would of 
> course also be OK.
> 
> Unfortunately the topic of code creation is very rarely covered in 
> the documentation material I found. So I am quite unsure about the 
> best way to build such a code generator by myself. If this is really 
> necessary I would be glad if you could point me to a good source to 
> read up on this.
> 
> Thank you in advance
> Olaf

If you prefer to just traverse the AST on your own and skip the
ANTLR tree-walking capability, just start with the
JavaEmitter code:
http://jazillian.com/antlr/emitter.html
and keep enhancing that until you're done.

Andy





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From csnyder at alumni.ncsu.edu  Tue Oct 12 07:49:01 2004
From: csnyder at alumni.ncsu.edu (kozchris)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Re: parser tree structure
In-Reply-To: <ckg70c+69po@eGroups.com>
Message-ID: <ckgqst+3rjs@eGroups.com>



The tree you get is because you wind up doing the following:
1)add child to current expr
2) add expr root
3) repeat

therefore 1;2;3;
1=> (expr 1) => (expr (expr 1 2)) => (expr (expr (expr 1 2) 3))

I think this code may be what you are trying to do.
It adds a STMTLIST root where each exprssion is a child.
therefore 1;2;3;4+5;
 ( STMTLIST ( EXPR 1 ) ( EXPR 2 ) ( EXPR 3 ) ( EXPR ( + 4 5 ) ) )

Chris

class CalcLexer extends Lexer;

protected DIGIT : '0'..'9' ;
INT : (DIGIT)+ ;
PLUS : "+";
MULTI: "*";
SEMI: ";";
NEWLINE : ('\r''\n')=> '\r''\n' //DOS
	| '\r' //MAC
	| '\n' //UNIX
	{ newline(); };

class CalcParser extends Parser;
   options { buildAST = true; }

   tokens { EXPR; STMTLIST; }
   stmts:
	(stmt)+ {##=#(#[STMTLIST, "STMTLIST"],##);} NEWLINE!
    ;

   stmt
     :  expr SEMI! {##=#(#[EXPR, "EXPR"],##);}
     ;

   expr
     :	INT ((PLUS^|MULT^) INT)*
     ;


--- In antlr-interest@yahoogroups.com, "whaefelinger"
<ora.et.labora@w...> wrote:
> 
> 
> Hello,
> I'm wondering about the structure of my generated parse tree. Here is
> what I have (quite similar to my recent posting - but much improved 
> now thanks to "kozchris"):
> 
> ================== parser ======================================
> /** stmts shall be a "list" of expressions terminated by ";" */
> stmts
>     :  ( expr {
>                 ## = #(#[STMT,"stmt"],##) ;
>          } 
>          ";"!
>         )+ 
>     ;
> 
> /** an exression shall be just a number (for simplicity) */
> expr:	INT ;
> ================================================================
> 
> Here's the tree generated on input of "1;"
> 
>  stmt 
>    |
>    +--1
> 
> Here's the tree generated on input of "1; 2;"
> 
>  stmt
>    |
>    +--stmt
>         |
>         +---1
>         |
>         +---2
> 
> I wonder here about the top most 'stmt'?
> 
> 
> Here's the tree generated on input "1; 2 ; 3;"
> 
>   stmt
>    |   
>    +--stmt
>        |
>        +--stmt
>        |    |
>        +--3 +--1
>             |
>             +--2
> 
> Again there's this top node having just one child.
> 
> I dot not fully understand how this tree layout is
> reflected by the node construction rule 
> 
>      #(#[STMT,"stmt"],##) 
> 
> Instead I expected to end up in something like:
> 
>   stmt               stmt            stmt
>    |                   |               |
>    +--stmt             +--stmt         +--1
>    |    |              |    |
>    +--3 +--stmt        +--2 +--1
>         |    |
>         +--2 +--1
>             
>    "1;2;3;"           "1;2;"          "1;"
> 
> 
> which appears bit more regular in my eyes. Is there
> a way to archieve this?





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-cBKzeSpTkWtXwds5hvCuVzc at yahoogroups.com  Tue Oct 12 08:18:59 2004
From: antlr-interest-accept-cBKzeSpTkWtXwds5hvCuVzc at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:21 2004
Subject: MODERATE -- chriss007@gmx.de posted to antlr-interest
Message-ID: <1097594339.307.14862.m25@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  chriss007@gmx.de 

The message summary:
--------------------
FROM: chriss007@gmx.de 
DATE: Tue, 12 Oct 2004 15:18:58 -0000 
SUBJECT: Problems with string literals as tokens in parser rules 

Hi there. 

I've got the following problem: I would like to use a 
'direct' token in a parser rule. The documentation says: 

"In parser rules, strings represent tokens, and each unique 
string is assigned a token type. However, ANTLR does not 
create lexer rules to match the strings. Instead, ANTLR 
enters the strings into a literals table in the associated 
lexer. ANTLR will generate code to test the text of each 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=334 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-cBKzeSpTkWtXwds5hvCuVzc@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "chr_mathis" <chriss007@gmx.de>
Subject: Problems with string literals as tokens in parser rules
Date: Tue, 12 Oct 2004 15:18:58 -0000
Size: 3314
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041012/1f70f967/attachment.mht
From antlr-interest-accept-Wt2X_9p__wC6xttvudPVySU at yahoogroups.com  Tue Oct 12 11:48:50 2004
From: antlr-interest-accept-Wt2X_9p__wC6xttvudPVySU at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:21 2004
Subject: MODERATE -- codeteacher@toughguy.net posted to antlr-interest
Message-ID: <1097606930.348.66120.m22@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  codeteacher@toughguy.net 

The message summary:
--------------------
FROM: codeteacher@toughguy.net 
DATE: Tue, 12 Oct 2004 18:48:49 -0000 
SUBJECT: Whatever Until EOL 

Hi all, 

I have the following question: Suppose we have a set of 
lexer rules as follows: 

The rule WS and NL are standard white space and new line 
rules. SL_COMMENT and ML_COMMENT are both C/C++ like 
comments (// and /* */ respectively). 

WHATEVERTILLEOL is basically all characters until the end of
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=335 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-Wt2X_9p__wC6xttvudPVySU@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "codeteacher" <codeteacher@toughguy.net>
Subject: Whatever Until EOL
Date: Tue, 12 Oct 2004 18:48:49 -0000
Size: 4375
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041012/1c73a939/attachment.mht
From codeteacher at toughguy.net  Tue Oct 12 11:48:49 2004
From: codeteacher at toughguy.net (codeteacher)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Whatever Until EOL
Message-ID: <ckh8uh+u22t@eGroups.com>




Hi all,

I have the following question: Suppose we have a set of lexer rules as
follows:

The rule WS and NL are standard white space and new line rules.
SL_COMMENT and ML_COMMENT are both C/C++ like comments (// and /* */
respectively).

WHATEVERTILLEOL is basically all characters until the end of line.
WHATEVERTILLWS is basically all characters until a whitespace has occured.
WHATEVERTILLCOMMA is basically all characters until comma occured.
WHATEVERTILLLPAREN is basically all characters until left parenthesis
occured.
WHATEVERTILLRPAREN is basically all characters until right parenthesis
occured.
----------------------------
WS: (' '|'\t'|'\f')+ ; // standard whitespace

NL: ( options {generateAmbigWarnings=false;} : // newlines
"\r\n"|'\r'|'\n') { newline(); } ;

// C++ style single line comment
SL_COMMENT: "//" (~('\n'|'\r'))* ('\n'|'\r'('\n')?)?
{$setType(Token.SKIP); newline();};

ML_COMMENT: "/*" // C-Style multi-line comment
( options { generateAmbigWarnings=false; } :
{ LA(2)!='/' }? '*'
| '\r' '\n' {newline();}
| '\r' {newline();}
| '\n' {newline();}
| ~('*'|'\n'|'\r')
)*
"*/" {$setType(Token.SKIP);} ;

WHATEVERTILLEOL: // all characters until end of line occured.
( (~('\n'|'\r'|'/'))+
| '/' (~('/'|'*'))*
)
('\n' {newline();} |'\r'('\n')? {newline();} |"//"|"/*") ;

WHATEVERTILLWS: // all characters until whitespace / newline occured.
( (~(' '|'\t'|'\f'|'\n'|'\r'|'/'))+
| '/' (~('/'|'*'))*
)
(' '|'\t'|'\f'
|'\n' {newline();}
|'\r'('\n')? {newline();}
|"//"|"/*") ;

WHATEVERTILLCOMMA: // all characters until comma occured.
( (~(','|'/'))+
| '/' (~('/'|'*'))*
)
(',') ;

WHATEVERTILLLPAREN: // all characters until left parenthesis occured.
( (~('('|'/'))+
| '/' (~('/'|'*'))*
)
('(') ;

WHATEVERTILLRPAREN: // all characters until right parenthesis occured.
( (~(')'|'/'))+
| '/' (~('/'|'*'))*
)
')' ;


---------------------


The lexer throws lexer ambiguity warnings upon these rules. How can I
fix this?

These lexer rules are going to be used in the following parser:

compilationUnit: (WS|NL)* header (WS|NL)* content (WS|NL)* footer (WS|NL)*

header: "[" "header" "]" (WS|NL)*
"keyword1" (WS|NL)* WHATEVERTILLEOL
(WS|NL)*
"keyword2" (WS|NL)* WHATEVERTILLEOL
(WS|NL)*
("keyword3" (WS|NL)* WHATEVERTILLEOL)?
(WS|NL)*
("keyword4" (WS|NL)* WHATEVERTILLEOL)? ;

content: "[" "content" "]"
((WS|NL)* WHATEVERTILLLPAREN "(" WHATEVERTILLCOMMA ","
WHATEVERTILLRPAREN ")" WHATEVERTILLEOL)+

footer: "[" "footer" "]"
((WS)* WHATEVERTILLLPAREN "(" ("Y"|"N") ")"
(WHATEVERTILLWS WS)+ (NL)+ )+

--------------------------

The sample file would look as follows:

[header]
   keyword1   somevalue // this is comment
keyword2 somvalue someothervalue // comment
keyword3 1 3$*.4--x27 /* comment 
*/ another value for keyword 3
keyword4 value (^$@11%&

[content]
this is content*key ( 77^q,8&1nn) AABBN@!(!)))0000

content2 (2177, LLS) pppp1782m

[footer]
footer number 1 (Y) 11 00 27 7' 8~ 9! 8821*T2 b7*
footr 2 (N) 0( 88 PP) 7!

----------------------------

Help would be greatly appreciated. The files are from legacy
applications with no source code. I'm very tempted to build the parser
by hand or convert the files manually, but there are so many of them.










 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From chriss007 at gmx.de  Tue Oct 12 08:18:58 2004
From: chriss007 at gmx.de (chr_mathis)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Problems with string literals as tokens in parser rules
Message-ID: <ckgsl2+us9h@eGroups.com>




Hi there.

I've got the following problem: I would like to use a 'direct' token
in a parser rule. The documentation says:

"In parser rules, strings represent tokens, and each unique string is
assigned a token type. However, ANTLR does not create lexer rules to
match the strings. Instead, ANTLR enters the strings into a literals
table in the associated lexer. ANTLR will generate code to test the
text of each token against the literals table, and change the token
type when a match is encountered before handing the token off to the
parser..."

So far so good.
If I got this right, I may write a grammar like this:

================ grammar ==========================

class MyParser extends Parser;
options {
   k=1;
}
{
  //for the access to the lexer inside the parser
  private MyLexer lexer = null;
      
  public MyParser(MyLexer lexer, boolean overloadDummy) {
    this((TokenStream)lexer);
     this.lexer = lexer;
  } 
}
                  
entry :
    ("abc" | DUMMY)
  ;

class MyLexer extends Lexer;
options {
  k=3;
}
DUMMY 
:
  "ugh"
  ;
======================== end ===========================

So 'abc' as well as 'ugh' should be matched, right?
In a main class I call the method for the 'entry'-Rule... 
If I enter 'abc' I get the follwoing message:

line 1:1: unexpected char: 'a'
        at MyLexer.nextToken(MyLexer.java:71)
        at antlr.TokenBuffer.fill(TokenBuffer.java:69)
        at antlr.TokenBuffer.LA(TokenBuffer.java:80)
        at antlr.LLkParser.LA(LLkParser.java:52)
        at MyParser.entry(MyParser.java:54)
        at Main.main(Main.java:14)

Am I making a terrible mistake?

Thanks in advance,
Christian.

Ps: Used antlr 2.7.4
And here is the Main-Class:

===================== Main =============================
import java.io.*;

public class Main {
  public static void main(String argv[]) {
    try {
      MyLexer lexer = new MyLexer(new BufferedInputStream(System.in));
      MyParser parser = new MyParser(lexer, true);
      parser.entry();
    }
    catch(Exception ex) {
      ex.printStackTrace();
    }
  }
}
===================== end ==============================








 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Tue Oct 12 12:39:19 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Problems with string literals as tokens in parser rules
In-Reply-To: <ckgsl2+us9h@eGroups.com>
References: <ckgsl2+us9h@eGroups.com>
Message-ID: <69262361-1C86-11D9-859D-000393B5606C@codetransform.com>


Look at the documentation for literals.  You need to have a rule that 
will match identifiers and then test the literals table for this scheme 
to work.

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html

On Oct 12, 2004, at 8:18 AM, chr_mathis wrote:

>
>
>
> Hi there.
>
> I've got the following problem: I would like to use a 'direct' token
> in a parser rule. The documentation says:
>
> "In parser rules, strings represent tokens, and each unique string is
> assigned a token type. However, ANTLR does not create lexer rules to
> match the strings. Instead, ANTLR enters the strings into a literals
> table in the associated lexer. ANTLR will generate code to test the
> text of each token against the literals table, and change the token
> type when a match is encountered before handing the token off to the
> parser..."
>
> So far so good.
> If I got this right, I may write a grammar like this:
>
> ================ grammar ==========================
>
> class MyParser extends Parser;
> options {
>    k=1;
> }
> {
>   //for the access to the lexer inside the parser
>   private MyLexer lexer = null;
>
>   public MyParser(MyLexer lexer, boolean overloadDummy) {
>     this((TokenStream)lexer);
>      this.lexer = lexer;
>   }
> }
>
> entry :
>     ("abc" | DUMMY)
>   ;
>
> class MyLexer extends Lexer;
> options {
>   k=3;
> }
> DUMMY
> :
>   "ugh"
>   ;
> ======================== end ===========================
>
> So 'abc' as well as 'ugh' should be matched, right?
> In a main class I call the method for the 'entry'-Rule...
> If I enter 'abc' I get the follwoing message:
>
> line 1:1: unexpected char: 'a'
>         at MyLexer.nextToken(MyLexer.java:71)
>         at antlr.TokenBuffer.fill(TokenBuffer.java:69)
>         at antlr.TokenBuffer.LA(TokenBuffer.java:80)
>         at antlr.LLkParser.LA(LLkParser.java:52)
>         at MyParser.entry(MyParser.java:54)
>         at Main.main(Main.java:14)
>
> Am I making a terrible mistake?
>
> Thanks in advance,
> Christian.
>
> Ps: Used antlr 2.7.4
> And here is the Main-Class:
>
> ===================== Main =============================
> import java.io.*;
>
> public class Main {
>   public static void main(String argv[]) {
>     try {
>       MyLexer lexer = new MyLexer(new BufferedInputStream(System.in));
>       MyParser parser = new MyParser(lexer, true);
>       parser.entry();
>     }
>     catch(Exception ex) {
>       ex.printStackTrace();
>     }
>   }
> }
> ===================== end ==============================
>
>
>
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Tue Oct 12 12:42:14 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Whatever Until EOL
In-Reply-To: <ckh8uh+u22t@eGroups.com>
References: <ckh8uh+u22t@eGroups.com>
Message-ID: <D0EAF3CB-1C86-11D9-859D-000393B5606C@codetransform.com>


The lexer doesn't know what the parser rules are, it just knows the 
lexer rules.  So you will either have to build the context into the 
lexer so it knows which is supposed to come next (use "lexer states".)  
Or you may do everything in the lexer and not even have a parser (can 
be cumbersome, but people have done it, especially for FORTRAN)

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html

On Oct 12, 2004, at 11:48 AM, codeteacher wrote:

>
>
>
> Hi all,
>
> I have the following question: Suppose we have a set of lexer rules as
> follows:
>
> The rule WS and NL are standard white space and new line rules.
> SL_COMMENT and ML_COMMENT are both C/C++ like comments (// and /* */
> respectively).
>
> WHATEVERTILLEOL is basically all characters until the end of line.
> WHATEVERTILLWS is basically all characters until a whitespace has 
> occured.
> WHATEVERTILLCOMMA is basically all characters until comma occured.
> WHATEVERTILLLPAREN is basically all characters until left parenthesis
> occured.
> WHATEVERTILLRPAREN is basically all characters until right parenthesis
> occured.
> ----------------------------
> WS: (' '|'\t'|'\f')+ ; // standard whitespace
>
> NL: ( options {generateAmbigWarnings=false;} : // newlines
> "\r\n"|'\r'|'\n') { newline(); } ;
>
> // C++ style single line comment
> SL_COMMENT: "//" (~('\n'|'\r'))* ('\n'|'\r'('\n')?)?
> {$setType(Token.SKIP); newline();};
>
> ML_COMMENT: "/*" // C-Style multi-line comment
> ( options { generateAmbigWarnings=false; } :
> { LA(2)!='/' }? '*'
> | '\r' '\n' {newline();}
> | '\r' {newline();}
> | '\n' {newline();}
> | ~('*'|'\n'|'\r')
> )*
> "*/" {$setType(Token.SKIP);} ;
>
> WHATEVERTILLEOL: // all characters until end of line occured.
> ( (~('\n'|'\r'|'/'))+
> | '/' (~('/'|'*'))*
> )
> ('\n' {newline();} |'\r'('\n')? {newline();} |"//"|"/*") ;
>
> WHATEVERTILLWS: // all characters until whitespace / newline occured.
> ( (~(' '|'\t'|'\f'|'\n'|'\r'|'/'))+
> | '/' (~('/'|'*'))*
> )
> (' '|'\t'|'\f'
> |'\n' {newline();}
> |'\r'('\n')? {newline();}
> |"//"|"/*") ;
>
> WHATEVERTILLCOMMA: // all characters until comma occured.
> ( (~(','|'/'))+
> | '/' (~('/'|'*'))*
> )
> (',') ;
>
> WHATEVERTILLLPAREN: // all characters until left parenthesis occured.
> ( (~('('|'/'))+
> | '/' (~('/'|'*'))*
> )
> ('(') ;
>
> WHATEVERTILLRPAREN: // all characters until right parenthesis occured.
> ( (~(')'|'/'))+
> | '/' (~('/'|'*'))*
> )
> ')' ;
>
>
> ---------------------
>
>
> The lexer throws lexer ambiguity warnings upon these rules. How can I
> fix this?
>
> These lexer rules are going to be used in the following parser:
>
> compilationUnit: (WS|NL)* header (WS|NL)* content (WS|NL)* footer 
> (WS|NL)*
>
> header: "[" "header" "]" (WS|NL)*
> "keyword1" (WS|NL)* WHATEVERTILLEOL
> (WS|NL)*
> "keyword2" (WS|NL)* WHATEVERTILLEOL
> (WS|NL)*
> ("keyword3" (WS|NL)* WHATEVERTILLEOL)?
> (WS|NL)*
> ("keyword4" (WS|NL)* WHATEVERTILLEOL)? ;
>
> content: "[" "content" "]"
> ((WS|NL)* WHATEVERTILLLPAREN "(" WHATEVERTILLCOMMA ","
> WHATEVERTILLRPAREN ")" WHATEVERTILLEOL)+
>
> footer: "[" "footer" "]"
> ((WS)* WHATEVERTILLLPAREN "(" ("Y"|"N") ")"
> (WHATEVERTILLWS WS)+ (NL)+ )+
>
> --------------------------
>
> The sample file would look as follows:
>
> [header]
>    keyword1   somevalue // this is comment
> keyword2 somvalue someothervalue // comment
> keyword3 1 3$*.4--x27 /* comment
> */ another value for keyword 3
> keyword4 value (^$@11%&
>
> [content]
> this is content*key ( 77^q,8&1nn) AABBN@!(!)))0000
>
> content2 (2177, LLS) pppp1782m
>
> [footer]
> footer number 1 (Y) 11 00 27 7' 8~ 9! 8821*T2 b7*
> footr 2 (N) 0( 88 PP) 7!
>
> ----------------------------
>
> Help would be greatly appreciated. The files are from legacy
> applications with no source code. I'm very tempted to build the parser
> by hand or convert the files manually, but there are so many of them.
>
>
>
>
>
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Tue Oct 12 12:44:04 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Re: C directive as a comment
In-Reply-To: <ck6fq4+imr6@eGroups.com>
References: <ck6fq4+imr6@eGroups.com>
Message-ID: <12BA27BD-1C87-11D9-859D-000393B5606C@codetransform.com>


You are going to have to merge the Comment and MY_DIRECTIVE rules 
because they share the same prefix.

Monty

On Oct 8, 2004, at 9:38 AM, m_barreteau wrote:

>
>
> --- In antlr-interest@yahoogroups.com, Monty Zukowski <monty@c...>
> wrote:
>> Sure, you can build something with ANTLR to do that.  A good
> starting
>> place would be my C grammar, see the link below.  You would have to
>> change the lexer to pass the comment into the parser and from
> there, in
>
>  I changed it into:
>
> KEYWORD : "_KEYWORD";
>
> MY_DIRECTIVE
>  }
>         :       "/*" KEYWORD
>                 (~( '*'| '\r' | '\n' ))+
>                                         { _ttype = MyParms; }
> // Is it the way to pass the content of the comment (I mean without
> prefix "/*  _KEYWORD" and suffix "*/") back to the parser? I don't
> think so.
>                 "*/"
>         ;
>
> protected
> MyParms:;
>
> Comment
>         :       "/*"
>                 ( { LA(2) != '/' }? '*'
>                 | { LA(2) != 'K' && LA(3) != 'E'}? '_'
> // Is there another way to consider a keyword whose length > k (k=3
> in your file)? Such comments (without the keyword) have to be ignored
> as usual.
>                 | "\r\n"                { deferredNewline(); }
>                 | ( '\r' | '\n' )       { deferredNewline();    }
>                 | ~( '*'| '\r' | '\n' )
>                 )*
>                 "*/"                    { _ttype = Token.SKIP;
>                                         }
>         ;
>
>  I also have some troubles about spaces even if using 'ignore' in the
> options part to parse for instance "/*   _KEYWORD A [2:4] [1:5]  */".
> How can I manage with that at the lexer level?
>
>> an action, send the contents of the comment to another lexer/parser
> to
>
> I suppose that this action is something like:
> { ## = #( #[NKeyword], ##); } but has the related rule to be
> detailed? (see next question)
>
>> grab what you need.
>
>  Is this other lexer/parser in charge of detailing the content of the
> directive? (e.g. ID (LBRACKET e1:primaryExpr COLON e2:primaryExpr
> RBRACKET)+)
>
>  Many thanks.
>
>> Monty Zukowski
>>
>> ANTLR & Java Consultant -- http://www.codetransform.com
>> ANSI C/GCC transformation toolkit --
>> http://www.codetransform.com/gcc.html
>> Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html
>>
>>
>> On Sep 13, 2004, at 8:54 AM, m_barreteau wrote:
>>
>>>
>>>  Hi!
>>>
>>>  I would like to recognise a directive (I mean an instruction that
>>> can be ignored by a C compiler if a given identifier is not set)
> that
>>> would be hidden inside a C comment. For instance:
>>>
>>> /* KEYWORD [parm1:parm2] */
>>>
>>>  Does ANTLR 2.7.2 is able to collect these parameters ?
>>>
>>>  Thanks.
>>>
>>>
>>>
>>>
>>>
>>>
>>> Yahoo! Groups Links
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ewbank at synopsys.com  Tue Oct 12 12:48:22 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] How to determine execution path?
In-Reply-To: <cka3c5+sbqg@eGroups.com>
Message-ID: <ODEDLGHNIFGKLNIHIHLLCEEMCPAA.ewbank@synopsys.com>


> THE QUESTION:
>
> -How to determine execution path?

Are you asking how to track which statements *will always* be executed in
the same run?  If you look for references to postdominators in a good
compiler text, you should be able find the information you need.

I don't think that a parse tree is the right data structure here - a CFG
(control flow graph) would be much better at identifying statement pairs.
Again, look for "control flow graph" or "basic block" for more information
here.

Sorry, I've not done this type of work in the ANTLR world yet.  I suspect
I'll be building a CFG rather than attempting this in the AST world...

- Bryan Ewbank



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ewbank at synopsys.com  Tue Oct 12 13:03:30 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:21 2004
Subject: [antlr-interest] Problems with string literals as tokens in parser rules
In-Reply-To: <ckgsl2+us9h@eGroups.com>
Message-ID: <ODEDLGHNIFGKLNIHIHLLKEEMCPAA.ewbank@synopsys.com>


The way string literals work is that you must have a lexer rule that matches
them - then the string table is used to replace the node type.  In your
example, the only token recognized by the lexer starts with 'd', and
therefore the string "abc" will not be recognized.

To see this in action, change the lexer thus:

> class MyLexer extends Lexer;
> DUMMY : ('a'..'z')* ;

You will now see that DUMMY matches any sequence of letters, but if you look
at the generated code you will see that the string table is used to change
the type of the token node returned to the parser.

The classic use of stringLiterals is for keywords in a language - write a
rule to match all identifiers, then rely on the string table to split out
those tokens which are keywords ("while", "for", ...).

Hope this helps,
- Bryan Ewbank



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ewbank at synopsys.com  Tue Oct 12 13:12:29 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Parser error management
In-Reply-To: <d2d18a104101009366f555ce4@mail.gmail.com>
Message-ID: <ODEDLGHNIFGKLNIHIHLLOEEMCPAA.ewbank@synopsys.com>


I can't do much more than echo your question; I'm leaning towards disabling
all ANTLR-generated messages and then coding exceptions where they are
needed - and code the necessary recovery action.

For example, if you're in an expression and it's scrambled, print an error
message and then scan for the next semicolon (i.e., expression terminator).

A few of us talked at ANTRL2004 about better error recovery, and one of the
suggestions (from Paul Lucas, I think) was to disable the default
processing, then add a (very) generous alternative where you need it:

	stmt
		: ( expr )? ';'
		| ( . { /* error message here */ } ( . )* )? ';'

This, of course, causes ambiguity errors when processing <stmt>, but that
can't be helped with the current model.

What I'd really like, and am looking at adding to ANTLR, is a new wildcard,
similar to ".", but not used in lookahead calculation.  This would enable
better error capturing, somewhat like the "error" pseudo-terminal in
yacc/bison...

Hope this helps, a bit...

> -----Original Message-----
> From: Joan Pujol [mailto:joanpujol@gmail.com]
> Sent: Sunday, October 10, 2004 12:37
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Parser error management
>
>
>
> Hi,
>
> I'm doing a pseudocode language that's similiar to Java. It has to be
> used for didactic purpouses. Thus one of the more imortants things is
> a good error detection and recovery strategy. At the moment I haven't
> implemented anything yet (I used the default antlr code).
>
> My question is if someone can points me to good resources for doing a
> good error management in ANTLR. Or  good error recovery in general
> (that will be aplicable to ANTLR of course).
>
> A lot of thanks in advance,
>
> --
> Joan Jes?s Pujol Espinar
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ewbank at synopsys.com  Tue Oct 12 13:43:36 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Whatever Until EOL
In-Reply-To: <ckh8uh+u22t@eGroups.com>
Message-ID: <ODEDLGHNIFGKLNIHIHLLCEENCPAA.ewbank@synopsys.com>


The problem is that the various lexer patterns all have the same left match.
For example, the string "aabbcc" can be matched by several rules (e.g.,
WHATEVERTILLEOL and WHATEVERTILLWS).

One option is to pull the preceding token you use in the parser into the
lexer - for example, make "(" be the first character of the next token.  For
example:

	content:
		"[" "content" "]"
		((WS|NL)* WHATEVERTILLLPAREN "(" WHATEVERTILLCOMMA ","
		WHATEVERTILLRPAREN ")" WHATEVERTILLEOL)+

Change this by moving stuff to the lexer:
	protected CONTENT: "[content]";
	protected RP: ')';
	protected COMMA: ',';
	protected LP: '('

	CONTENT_LEADER : CONTENT! (~',')* ;
	FIRSTARG : LP! ( ~COMMA )* ;
	OTHERARGS : COMMA! (~RP)* ;
	TRAILING : RP! (~EOL)* ;
The ambiguity is gone because '(' guarantees a FIRSTARG; ',' guarantees
OTHERARGS, etc.

Now the parser looks like this
	content: CONTENT_LEADER ( FIRSTARG OTHERARGS TRAILING )+ ;

For dealing with the WS|NL stuff, I think that the ignore option to the
lexer will meet your needs.

Hope this helps,
- Bryan Ewbank



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-jmCSzqhj=UZXaSYZsZbT3B8 at yahoogroups.com  Tue Oct 12 14:25:10 2004
From: antlr-interest-accept-jmCSzqhj=UZXaSYZsZbT3B8 at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:22 2004
Subject: MODERATE -- codeteacher@toughguy.net posted to antlr-interest
Message-ID: <1097616310.345.98041.m22@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  codeteacher@toughguy.net 

The message summary:
--------------------
FROM: codeteacher@toughguy.net 
DATE: Tue, 12 Oct 2004 21:25:04 -0000 
SUBJECT: Re: Whatever Until EOL 

Thanks for Bryan and Monty for the answers. Is there anyway 
to "hack" the lexer to return the remaining line content? 

Thanks a lot. 

--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=336 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-jmCSzqhj=UZXaSYZsZbT3B8@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "codeteacher" <codeteacher@toughguy.net>
Subject: Re: Whatever Until EOL
Date: Tue, 12 Oct 2004 21:25:04 -0000
Size: 1386
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041012/29f809d9/attachment.mht
From codeteacher at toughguy.net  Tue Oct 12 14:25:04 2004
From: codeteacher at toughguy.net (codeteacher)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Re: Whatever Until EOL
In-Reply-To: <ODEDLGHNIFGKLNIHIHLLCEENCPAA.ewbank@synopsys.com>
Message-ID: <ckhi3g+9t8f@eGroups.com>




Thanks for Bryan and Monty for the answers. Is there anyway to "hack"
the lexer to return the remaining line content?

Thanks a lot.










 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From codeteacher at toughguy.net  Tue Oct 12 14:39:49 2004
From: codeteacher at toughguy.net (codeteacher)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Re: Whatever Until EOL
In-Reply-To: <ODEDLGHNIFGKLNIHIHLLCEENCPAA.ewbank@synopsys.com>
Message-ID: <ckhiv5+102m5@eGroups.com>



Bryan,

I think that the CONTENT_LEADER wouldn't work since that would imply
that the entry would start with LPAREN, while it isn't in reality.
Maybe I just don't understand your grammar, but I believe the one you
gave wouldn't parse:

[content]
this is content*key ( 77^q,8&1nn) AABBN@!(!)))0000
content2 (2177, LLS) pppp1782m

Also, pardon me for my ignorance since I'm just acquainted with Antlr:
How can I set ignore option in the lexer?

Thanks.
-- Rob

--- In antlr-interest@yahoogroups.com, "Bryan Ewbank" <ewbank@s...> wrote:

> 	content:
> 		"[" "content" "]"
> 		((WS|NL)* WHATEVERTILLLPAREN "(" WHATEVERTILLCOMMA ","
> 		WHATEVERTILLRPAREN ")" WHATEVERTILLEOL)+
> 
> Change this by moving stuff to the lexer:
> 	protected CONTENT: "[content]";
> 	protected RP: ')';
> 	protected COMMA: ',';
> 	protected LP: '('
> 
> 	CONTENT_LEADER : CONTENT! (~',')* ;
> 	FIRSTARG : LP! ( ~COMMA )* ;
> 	OTHERARGS : COMMA! (~RP)* ;
> 	TRAILING : RP! (~EOL)* ;
> The ambiguity is gone because '(' guarantees a FIRSTARG; ',' guarantees
> OTHERARGS, etc.
> 
> Now the parser looks like this
> 	content: CONTENT_LEADER ( FIRSTARG OTHERARGS TRAILING )+ ;
> 
> For dealing with the WS|NL stuff, I think that the ignore option to the
> lexer will meet your needs.






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From fernandosalg at hotmail.com  Tue Oct 12 14:56:49 2004
From: fernandosalg at hotmail.com (Fernando Salgueiro)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Recognize letters
Message-ID: <ckhjv1+s0r4@eGroups.com>





 I have a problem. How can resolve the problem to recognize the letter 
  "?" ? 
 
 I try put charVocabulary = '\003'..'\377'; ( java.g) 
  And produce a problem to recognize letter of type "?" ? 

  Error: 
parser exception: Funcion?rio.java:63:10: unexpected char: 0xE1
Funcion?rio.java:63:10: unexpected char: 0xE1
        at JavaLexer.nextToken(JavaLexer.java:373)
        at antlr.TokenBuffer.fill(TokenBuffer.java:69)
        at antlr.TokenBuffer.LA(TokenBuffer.java:80)
        at antlr.LLkParser.LA(LLkParser.java:52)
        at JavaRecognizer.field(JavaRecognizer.java:1235)
        at JavaRecognizer.classBlock(JavaRecognizer.java:1132)
        at JavaRecognizer.classDefinition(JavaRecognizer.java:512)
        at JavaRecognizer.typeDefinition(JavaRecognizer.java:329)
        at JavaRecognizer.compilationUnit(JavaRecognizer.java:219)
        at Main.parseFile(Main.java:72)
        at Main.doFile(Main.java:55)
        at Main.main(Main.java:25)


 How can i resolve ? 
  (Send me the response to fernandosalg@hotmail.com )
 Thanks , 

  Fernando Salg



  





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-xrGxvyjt0fte1Jna73XXNzQ at yahoogroups.com  Tue Oct 12 23:39:10 2004
From: antlr-interest-accept-xrGxvyjt0fte1Jna73XXNzQ at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:22 2004
Subject: MODERATE -- s2jafer1@yahoo.com posted to antlr-interest
Message-ID: <1097649550.459.30813.m23@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  s2jafer1@yahoo.com 

The message summary:
--------------------
FROM: s2jafer1@yahoo.com 
DATE: Wed, 13 Oct 2004 06:38:03 -0000 
SUBJECT: help on warning:nondeterminism upon 

I am getting the " warning:nondeterminism upon " 

in the line no 244,it corresponds to 

"createPolicy throws ArchiveSystemApplicationException : 
CREATE WS POLICY ( WS createPolicyParams)* ( WS 

createPolicyTypes)* NEWLINE in the source code" during 
compilation 

--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=337 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-xrGxvyjt0fte1Jna73XXNzQ@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "s2jafer1" <s2jafer1@yahoo.com>
Subject: help on warning:nondeterminism upon
Date: Wed, 13 Oct 2004 06:38:03 -0000
Size: 33476
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041013/5a09a69c/attachment.mht
From antlr-interest-accept-s=gFhHJ5SHnkOdcZVW64avI at yahoogroups.com  Wed Oct 13 00:08:58 2004
From: antlr-interest-accept-s=gFhHJ5SHnkOdcZVW64avI at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:22 2004
Subject: MODERATE -- chriss007@gmx.de posted to antlr-interest
Message-ID: <1097651338.5714.25281.m11@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  chriss007@gmx.de 

The message summary:
--------------------
FROM: chriss007@gmx.de 
DATE: Wed, 13 Oct 2004 07:08:31 -0000 
SUBJECT: Re: Recognize letters 

Dear Fernando Salg, 

You should use the unicode character '\u00E1' (which 
correspondes to '?') in a lexer rule like this: 

CHARS : ('\u00E1' /* | others to follow */ ) ; 

The lexer is now able to recognize the chracter. 

If I got the documentation right, the lexer derives the 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=338 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-s=gFhHJ5SHnkOdcZVW64avI@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "chr_mathis" <chriss007@gmx.de>
Subject: Re: Recognize letters
Date: Wed, 13 Oct 2004 07:08:31 -0000
Size: 3318
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041013/6a840c2c/attachment.mht
From s2jafer1 at yahoo.com  Tue Oct 12 23:38:03 2004
From: s2jafer1 at yahoo.com (s2jafer1)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] help on warning:nondeterminism upon
Message-ID: <ckiigb+goho@eGroups.com>





I am getting the " warning:nondeterminism upon "

in the line no 244,it corresponds to 

"createPolicy throws ArchiveSystemApplicationException
	    :
	    CREATE WS POLICY ( WS createPolicyParams)* ( WS 

createPolicyTypes)* NEWLINE  in the source code" during compilation 

of the grammar file.i want to avoid this warning .

if anybody knows the solution let me know as soon as possible.


the source code is :

header{

/**
* File Name : CreatePolicy.g
*/

}
/**
 * A Parser class for validating the create policy command
 */
class CreatePolicyParser extends Parser;
options
    {
        k = 9;
        buildAST = true; // uses CommonAST by default
        defaultErrorHandler = false;
    }
    
    // Define some variables to be used in the parser
    {
    
		/**
     	* A hash map for Create Copy verb
	 	*/
		HashMap cCPHash;
		/**
     	* A array list for Create Copy verb
	 	*/
		ArrayList createCopyList = new ArrayList();
		/**
     	* To track the # of times the create copy verb is entered
	 	*/
		int createCopyCount;    		
		/**
     	* A hash map for migrate verb
	 	*/
		HashMap migrateHash;
		/**
     	* A array list for migrate verb
	 	*/
		ArrayList migrateList = new ArrayList();
		/**
     	* To track the # of times the migrate verb is entered
	 	*/
		int migrateCount;    		
		/**
     	* A hash map for Log verb
	 	*/	
		HashMap logMap;
		 /**
	     * To track the # of times the read access arg is entered
    	 */
		int lgReadAccessCount ;
		 /**
	     * To track the # of times the datastorage arg is entered
    	 */
		int lgintdatastrgCount;
		 /**
	     * To track the # of times the dupdatadetection arg is 
entered
    	 */
		int lgdupDataDetCount ;
		 /**
	     * To track the # of times the data alter arg is entered
    	 */
		int lgDataAlterCount ;
		/**
     	* To track the # of times the migrate verb is entered
	 	*/
		int mgverbCount;
		/**
     	* To track the # of times the createcopy verbid is entered
	 	*/		
		int cCPverbCount;
		/**
     	* To track the # of times the log verbid is entered
	 	*/
		int lgverbCount;    
		/**
     	* To track the # of times the migrate relative duration is 
entered
	 	*/
		int mgRelDur;       
        /**
	     * To track the # of times the policyname arg is entered
    	 */
        int policyNameCount;
         /**
	     * To track the # of times the policy descr arg is entered
    	 */
        int policyDescrCount;
         /**
	     * To track the # of times the policy name length arg is 
entered
    	 */
        int policyNameLength=40;
         /**
	     * To track the # of times the policydescr length arg is 
entered
    	 */
        int policyDescLength=255;
         /**
	     * To track the # of times the log verb is entered
    	 */
        int logSectionCount;        
         /**
	     * To track the # of times the create copyname  arg is 
entered
    	 */
        int cCpCopyNoCount;
        
         /**
	     * To track the # of times the destinationpool arg is 
entered
    	 */
        int ccpDestinationPoolCount;
         /**
	     * To track the # of times the retention arg is entered
    	 */        
         /**
	     * To track the max ln of the arg entered
    	 */
        int maxLength=100;
        /**
	     * To track the # of times the srccpyname arg is entered
    	 */        
        int mgSrcCopyNoCount;
         /**
	     * To track the # of times the destinastion pool arg is 
entered
    	 */
        int mgDestinationPoolCount;
        /**
	     *hash map containing the cmd and its params
    	 */
    	HashMap hmap = null;
    	/**
	     * To track the # of times the  migrate abs starttime arg 
is entered
    	 */
    	int mgAbsStTime ;
    	/**
	     * To track the # of times the migrate rel starttime arg 
is entered
    	 */
		int mgRelStTime ;
		/**
	     * To track the # of times the rel to  arg is entered
    	 */
		int mgRelTo;
        /**
     	 * To track the # of times the starttime is entered
	 	 */
        int cCPStartTimeCount;    
       
        /**
      	 * To track the # of times the absretentime is entered
    	 */
        int cCpAbsRetentionCount;
        /**
     	 * To track the # of times the retentionduration is entered
    	 */
        int cCPRetentionDur;   	
        /**
         * attributes of date
         */  
        int year  = 0;
        int month = 0;
        int day   = 0;
        int hours = 0;
        int min   = 0;
        
    }

   /**
     * The Command entered by the user is checked for its validity. 
     */
    startRule returns[HashMap hmapRet = null] throws 
ArchiveSystemApplicationException
    {
        hmapRet = new HashMap();
        hmap = hmapRet;
    }
    :
    (createPolicy
    )EOF
    ;
    /**
     * The Command syntax for create policy and its corresponding 
actions 
     * 
     * @param    nil
     * @return    nil.
     */
	createPolicy throws ArchiveSystemApplicationException
	    :
	    CREATE WS POLICY ( WS createPolicyParams)* ( WS 
createPolicyTypes)* NEWLINE
	    {
	        hmap.put("verb", "Create");
	        hmap.put("object", "Policy");
	    
	    	if(policyNameCount ==0)
	    	{	    	
	    		throw new MissingParameterException
("policyname");
	    	}
    }
    exception
    catch [NoViableAltException nvae]
    {
        throw new MissingParameterException("create policy");
    }
    catch[ Exception e ]
    {
    	e.printStackTrace();
    }
	    ;
    /**
     * The syntax for create policy command arguments and its 
corresponding actions 
     * 
     * @param    nil
     * @return   nil
     */
	createPolicyParams throws ArchiveSystemApplicationException
		
		:setPolicyName
		|setPolicyDescr
		|setError
		;

	setPolicyName throws ArchiveSystemApplicationException
	    {
	    	ArrayList policyNameList = new ArrayList();
	    }
	    :
	    POLICYNAME (WS)? policyname:ALPHANUM
	    {
	        if (policyNameCount == 1)
	        {
	            throw new ParameterRepeatedException
("policyname");
	        }
	
	        String policyName = policyname.getText().trim();
	
	        if ((policyName.equals("="))||((policyName.equals
(""))))
	        {
	            throw new MissingParameterValueException
("policyname");
	        }	
	        if (!isStringValid(policyName))
	        {
	           throw new InvalidParameterValueException
("policyname");
	        }	
	      	if( policyName.length() > policyNameLength)
	      	{	      	
	      		throw new InvalidParameterValueException
("policyname");
	      	}
	        hmap.put("policyname", policyName);
	        policyNameCount++;
	    }
	
	    exception
	    catch [NoViableAltException nvae]
	    {
	        throw new MissingParameterValueException
("policyname");
	    }
	    ;


	setPolicyDescr throws ArchiveSystemApplicationException
	    :
	    POLICYDESCR (WS)? policydescr:ALPHANUM
	    {	    	
	        if (policyDescrCount == 1)
	        {
	            throw new ParameterRepeatedException
("policydescr");
	        }
	
	        String policyDesc= policydescr.getText().trim();
	
	        if ((policyDesc.equals("="))||(policyDesc.equals("")))
	        {
	            throw new MissingParameterValueException
("policydescr");
	        }
	        if (!isStringValid(policyDesc))
	        {
	             throw new InvalidParameterValueException
("policydescr");
	        }
	        if((policyDesc.length() ) > policyDescLength)
	        {	     
	           	throw new InvalidParameterValueException
("policydescr");
	        }
	
	        hmap.put("policydescr", policyDesc);
	        policyDescrCount++;
	    }
	
	    exception
	    catch [NoViableAltException nvae]
	    {
	        throw new MissingParameterValueException
("policydescr");
	    }
	    ;    
    
	createPolicyTypes throws ArchiveSystemApplicationException
		:setCreateCopy
		|setMigrate
		|setLog
		|setError
		;
	
	setCreateCopy throws ArchiveSystemApplicationException
		{			
			cCPHash = new HashMap();
			cCpCopyNoCount =0;
			ccpDestinationPoolCount =0;
			cCPStartTimeCount = 0;
			cCpAbsRetentionCount= 0 ;
			cCPRetentionDur = 0;
		}
		:
		CREATECOPY (WS)? (OPAREN) (WS crPlCcpParams)* (WS)? 
(CPAREN) 
		 {		 	
	    	if(cCpCopyNoCount ==0 )
	    	{	    		
	    		throw new MissingParameterValueException
("CreateCopy::CreateCopyNo");	
	    	}
	    	if(ccpDestinationPoolCount == 0)
	    	{	    	
	    		throw new MissingParameterValueException
("CreateCopy::destinationpool");	
	    	}
	    	if(cCPStartTimeCount == 0)
	    	{	    	
	    		throw new MissingParameterValueException
("CreateCopy::starttime");		    	
	    	}
	    	//either absretention time or retention duration can 
be present 
	    	if((cCpAbsRetentionCount ==1) &&(cCPRetentionDur ==1))
	    	{
	    		throw new EitherOrParameterException
("AbsoluteretentionTime","Retentionduration");
	    	}
	    	if((cCpAbsRetentionCount ==0) &&(cCPRetentionDur ==0))
	    	{
	    		throw new EitherOrParameterException
("AbsoluteretentionTime","Retentionduration");
	    	}
	    	createCopyList.add(cCPHash);
	    	hmap.put("createcopy",createCopyList);
	    	createCopyCount++;
	    }
		;
	
	crPlCcpParams throws ArchiveSystemApplicationException
		
		: setcCPcopyName
	    | setcCPdestinationPool
	    | setcCPRetentionDuration
	    | setcCPAbsRetentionTime
	    | setcCPstartTime
	    | setError
	    ;
		

		setcCPcopyName  throws 
ArchiveSystemApplicationException
		:
		COPYNAME (WS)? copyNo:ALPHANUM
		{		
			if( cCpCopyNoCount == 1)
			{
				throw new ParameterRepeatedException
("CreateCopy::copyname");	
			}
			
			String cpynum = copyNo.getText().trim();
	
			
			if((cpynum.equals("="))||(cpynum.equals("")))
	   		{
	     		throw new MissingParameterValueException
("copyName");
	   		}
			
			if(!(isStringValid(cpynum)))
			{				
				throw new 
InvalidParameterValueException("copyName");
			}					
			cCpCopyNoCount++;
			cCPHash.put("copyname",cpynum);		
		}
		exception
		    catch [NoViableAltException nvae]
		    {
		        throw new MissingParameterValueException
("copyName");
		    }
		
	    ;


setcCPdestinationPool throws ArchiveSystemApplicationException
    :
    DESTINATIONPOOL (WS)? ccpDestPool:ALPHANUM
    {
    	if( ccpDestinationPoolCount == 1)
		{
			throw new ParameterRepeatedException
("CreateCopy::destination pool");	
		}
        String destPool= ccpDestPool.getText().trim();

        if ((destPool.equals("="))||(destPool.equals("")))
        {
            throw new MissingParameterValueException
("CreateCopy::destination pool");
        }

       	if (!isStringValid(destPool))
       	{
           throw new InvalidParameterValueException
("CreateCopy::destination pool");
        }

		cCPHash.put("destinationpool", destPool);
        ccpDestinationPoolCount++;
    }

    exception
    catch [NoViableAltException nvae]
    {
        throw new MissingParameterValueException
("CreateCopy::destination pool");
    }
    ;



setcCPRetentionDuration throws  ArchiveSystemApplicationException
	:
	RETENTIONDURATION (WS)? rttime:ALPHANUM
	{
		if( cCPRetentionDur == 1)
		{
			throw new ParameterRepeatedException
("CreateCopy::retention duration");	
		}
		String rtTime = rttime.getText().trim();	
	
		
		if((rtTime.equals("="))||(rtTime.equals("")))
		{
			throw new MissingParameterValueException
("CreateCopy::retention duration");
		}
		
		if(!(isRelativeTimeValid(rtTime)))
		{			
			throw new OptionParameterValueException
("CreateCopy::retention duration: any number follwed by d/m/y");
		}
		
		cCPHash.put("retentionduration",rtTime );
		cCPRetentionDur++;
		
	}
	exception
	    catch [NoViableAltException nvae]
	    {
	        throw new MissingParameterValueException
("CreateCopy::retention duration");
	      
	    }	
	;



setcCPstartTime throws  ArchiveSystemApplicationException
	:
	STARTTIME (WS)? sttime:ALPHANUM
	{
		if(cCPStartTimeCount == 1)
		{
			throw new ParameterRepeatedException
("CreateCopy::starttime");
		}
		
		String strtTime = sttime.getText().trim();	
		
		if((strtTime.equals("="))||(strtTime.equals("")))
		{
			throw new MissingParameterValueException
("CreateCopy::starttime");
		}		
		if (!(strtTime.equals("0"))	){
			if (!(isRelativeTimeValid(strtTime))){	
			
				throw new 
OptionParameterValueException("CreateCopy::starttime:  0 or #of days 
or # of months or # of years"); 
			}
		
		}
		cCPHash.put("starttime",strtTime);
		cCPStartTimeCount++;
		
	}
exception
	    catch [NoViableAltException nvae]
	    {
	        throw new MissingParameterValueException
("CreateCopy::starttime");
	    }
	
	;

setcCPAbsRetentionTime throws  ArchiveSystemApplicationException
	:
	ABSOLUTERETENTIONTIME (WS)? prttime:ALPHANUM
	{
		if(cCpAbsRetentionCount ==1)
		{
			throw new ParameterRepeatedException
("CreateCopy::retentiontime");
		}
		String rtTime = prttime.getText().trim();
			
		if((rtTime.equals("="))||(rtTime.equals("")))
		{
			throw new MissingParameterValueException
("CreateCopy::retentiontime");
		}
		
		if(!(isDateValid(rtTime)))
		{		
			throw new OptionParameterValueException
("CreateCopy::retentiontime: any number followed by d/m/y"); 
		}
		Calendar calendar = Calendar.getInstance();
		calendar.set(year, month - 1, day, hours, min, 0);
		Date dateFormat = calendar.getTime();
		cCPHash.put("absoluteretentiontime",dateFormat);
		cCpAbsRetentionCount++;		
		
	}
exception
	    catch [NoViableAltException nvae]
	    {
	        throw new MissingParameterValueException
("CreateCopy::retentiontime");
	    }
	
	;
	

setMigrate throws ArchiveSystemApplicationException
	{		
		migrateHash = new HashMap();
		mgSrcCopyNoCount = 0;
		mgDestinationPoolCount = 0;
		mgAbsStTime = 0;
		mgRelStTime = 0;
		mgRelTo = 0;
		mgRelDur = 0;
	}
	:
	MIGRATE (WS)? (OPAREN)(WS crPlMigrateParams)* (WS)? (CPAREN) 
		
	 {
    	if(mgSrcCopyNoCount ==0 )
    	{    
    		throw new MissingParameterValueException
("Migrate::CopyName ");	
    	}
    	if(mgDestinationPoolCount ==0)
    	{    	
    		throw new MissingParameterValueException
("Migrate::destinationpool");
    	}    
    	//either absstarttime or relstarttime can be present.but not 
both
    
    	
    	if((mgAbsStTime ==1)&& (mgRelDur ==1))
		{		
    		throw new EitherOrParameterException
("AbsolutestartTime","Relativeduration");
		}
		if((mgAbsStTime ==0)&& (mgRelDur ==0))
		{			
    		throw new EitherOrParameterException
("AbsolutestartTime","Relativeduration");
		}
		if ((mgRelDur == 1) && (mgRelTo==0))
		{
			throw new MissingParameterException
("relativestarttimeto");
		}
	
		if((mgAbsStTime ==1)&& (mgRelTo ==1))
		{			
    		throw new EitherOrParameterException
("AbsolutestartTime","Relativeto");
		}
   	 	migrateList.add(migrateHash);
    	hmap.put("migrate",migrateList);
    	migrateCount++;
    	    	  
    }
    exception
    catch [NoViableAltException nvae]
    {
        throw new MissingParameterException("Migrate");
    }
	;

crPlMigrateParams throws  ArchiveSystemApplicationException
	
	: setMgCopyName
    | setMgdestPool
    | setMgAbsstartTime
    | setMgRelDuration
    | setMgRelativeTo
    | setError
    ;

	setMgCopyName  throws ArchiveSystemApplicationException
	:
	COPYNAME (WS)? copyNo:ALPHANUM
	{	
		String cpynum = copyNo.getText().trim();	
		if( mgSrcCopyNoCount == 1)
		{
			throw new ParameterRepeatedException
("Migrate::CopyName");	
		}
		if((cpynum.equals("="))||(cpynum.equals("")))
   		{
     		throw new MissingParameterValueException
("Migrate::CopyName");
   		}
		
		if(!(isStringValid(cpynum)))
		{			
			throw new InvalidParameterValueException
("Migrate::CopyName");
		}
		migrateHash.put("copyname",cpynum);
		mgSrcCopyNoCount++;
	}
	exception
	    catch [NoViableAltException nvae]
	    {
	        throw new MissingParameterValueException
("Migrate::CopyName");
	    }
	
    ;


setMgdestPool throws ArchiveSystemApplicationException
    :
    DESTINATIONPOOL (WS)? mgDestPool:ALPHANUM
    {
        if( mgDestinationPoolCount ==1 )
        {
        	throw new ParameterRepeatedException
("Migrate::DestinationPool");	
        }
        String destPool= mgDestPool.getText().trim();

        if ((destPool.equals("="))||(destPool.equals("")))
        {
            throw new MissingParameterValueException
("Migrate::destination pool");
        }

       	if (!isStringValid(destPool))
       	{
           throw new InvalidParameterValueException
("Migrate::destination pool");
        }

	    migrateHash.put("destinationpool", destPool);
        mgDestinationPoolCount++;
    }

    exception
    catch [NoViableAltException nvae]
    {
        throw new MissingParameterValueException
("Migrate::destination pool");
    }
    ;

setMgAbsstartTime throws ArchiveSystemApplicationException
	:
	ABSOLUTESTARTTIME (WS)? sttime:ALPHANUM
	{	
		if( mgAbsStTime == 1)
		{
			throw new ParameterRepeatedException
("Migrate::absolutestarttime");	
		}
		String strtTime = sttime.getText().trim();	
	
		if((strtTime.equals("="))||(strtTime.equals("")))
		{
			throw new MissingParameterValueException
("Migrate::starttime");
		}		
		if(!(isDateValid(strtTime)))
		{			
			throw new InvalidParameterValueException
("Migrate::starttime"); 
		}
		Calendar calendar = Calendar.getInstance();
		calendar.set(year, month - 1, day, hours, min, 0);
		Date dateFormat = calendar.getTime();
		migrateHash.put("absolutestarttime",dateFormat);
		mgAbsStTime++;
	}
exception
	    catch [NoViableAltException nvae]
	    {
	        throw new MissingParameterValueException
("Migrate::starttime");
	    }
	
	;

setMgRelDuration throws ArchiveSystemApplicationException
	:
	RELATIVEDURATION (WS)? sttime:ALPHANUM
	{
		if( mgRelDur == 1)
		{
			throw new ParameterRepeatedException
("Migrate::Relativeduration");	
		}		
		String duration = sttime.getText().trim();
		
		if((duration.equals("="))||(duration==null))
		{
			throw new MissingParameterValueException
("Migrate::Relativeduration");
		}		
		if(!(isRelativeTimeValid(duration)))
		{
			throw new InvalidParameterValueException
("Migrate::Relativeduration"); 
		}		
		migrateHash.put("relativestarttime",duration);	
		mgRelDur++;	
		
	}
exception
	    catch [NoViableAltException nvae]
	    {
	        throw new MissingParameterValueException
("Migrate::Relativeduration");
	    }
	
	;

setMgRelativeTo throws  ArchiveSystemApplicationException
    :
	RELATIVESTARTTIMETO (WS)? mgrelto:ALPHANUM
    {
       if( mgRelTo == 1)
		{
			throw new ParameterRepeatedException
("Migrate::relativeto");	
		}
	    String relTo= mgrelto.getText().trim();

        if ((relTo.equals("="))||(relTo.equals("")))
        {
            throw new MissingParameterValueException("relativeto");
        }
       	if (!isRelStartTimeValid(relTo))
       	{
           throw new InvalidParameterValueException("relativeto");
        }
        
        if(relTo.equalsIgnoreCase("creation")) {
         migrateHash.put("relativestarttimeto",new Integer(1));
        }
        else if(relTo.equalsIgnoreCase("modification")) {
         migrateHash.put("relativestarttimeto",new Integer(2));
        }
        else if(relTo.equalsIgnoreCase("LastAccess")) {
         migrateHash.put("relativestarttimeto",new Integer(3));
        }
         mgRelTo++;
       
    }

    exception
    catch [NoViableAltException nvae]
    {
        throw new MissingParameterValueException("relativeto");
    }
    ;



setLog throws ArchiveSystemApplicationException
	{
		logMap = new HashMap();	
		lgReadAccessCount = 0;
		lgintdatastrgCount = 0;
		lgdupDataDetCount =0;
		lgDataAlterCount = 0;
	}
	:
	LOG (WS)? (OPAREN) (WS crPlyLogParams)* (WS)? (CPAREN) 
	{	
		if(logSectionCount == 1)
		{	
			throw new ParameterRepeatedException("log");
		}
		if(lgReadAccessCount ==0 )
    	{    	
    		throw new MissingParameterValueException
("successfullReadAccess ");	
    	}
    	if(lgintdatastrgCount ==0 )
    	{    	
    		throw new MissingParameterValueException
("initialDataStorageActions ");	
    	}
    	if(lgdupDataDetCount ==0 )
    	{    	
    		throw new MissingParameterValueException
("duplicateDataDetectionsActions ");	
    	}
    	if(lgDataAlterCount ==0 )
    	{    	
    		throw new MissingParameterValueException
("successfullDataAlterations ");	
    	}
		logSectionCount++;
			
		hmap.put("log",logMap);
	}
	exception
    catch [NoViableAltException nvae]
    {
        throw new MissingParameterException("log");
    }	
	;
	
	
crPlyLogParams throws ArchiveSystemApplicationException
	: setlgReadAccess
	| setlgInitialDataStorage
    | setlgDuplicateDetection
    | setlgSuccessfulDataAlterations
    | setError   
    ;


setlgReadAccess throws ArchiveSystemApplicationException
	:
	SUCCESSFULLREADACCESS (WS)? a:ALPHANUM
	{
		if( lgReadAccessCount == 1)
		{
			throw new ParameterRepeatedException
("successfullReadAccess");	
		}		
		 String readAccess = a.getText().trim();

        if (readAccess.equals("="))
        {
            throw new MissingParameterValueException
("successfullReadAccess");
        }

        if (!isBoolValid(readAccess))
        {
            throw new InvalidParameterValueException
("successfullReadAccess");
        }
		logMap.put("successfullreadaccess",readAccess);
		lgReadAccessCount++;
	
	}
 exception
    catch [NoViableAltException nvae]
    {
        throw new MissingParameterValueException
("successfullReadAccess");
    }
	;


setlgInitialDataStorage throws ArchiveSystemApplicationException
	:
	INITIALDATASTORAGEACTIONS (WS)? a:ALPHANUM
	{
		if( lgintdatastrgCount == 1)
		{
			throw new ParameterRepeatedException
("initialDataStorageActions");	
		}
		
        String storageName = a.getText().trim();

        if ((storageName.equals("="))||(storageName.equals("")))
        {
            throw new MissingParameterValueException
("initialDataStorageActions");
        }

        if (!isBoolValid(storageName))
        {
            throw new InvalidParameterValueException
("initialDataStorageActions");
        }

       logMap.put("initialdatastorageactions", storageName);
       lgintdatastrgCount++;
       
	}
 exception
    catch [NoViableAltException nvae]
    {
        throw new MissingParameterValueException
("initialDataStorageActions");
    }
	;


setlgDuplicateDetection throws ArchiveSystemApplicationException
	:
	DUPLICATEDATADETECTIONSACTIONS (WS)? a:ALPHANUM
	{
		if( lgdupDataDetCount == 1)
		{
			throw new ParameterRepeatedException
("duplicateDataDetectionsActions");	
		}		
        String dupDetect = a.getText().trim();
		
        if( (dupDetect.equals("="))|| (dupDetect.equals("")))
        {
            throw new MissingParameterValueException
("duplicateDataDetectionsActions");
        }

        if (!isBoolValid(dupDetect))
        {
            throw new InvalidParameterValueException
("duplicateDataDetectionsActions");
        }

        logMap.put("duplicatedetectionactions", dupDetect);
        lgdupDataDetCount++;
        
	}
 exception
    catch [NoViableAltException nvae]
    {
        throw new MissingParameterValueException
("duplicateDataDetectionsActions");
    }
	;


setlgSuccessfulDataAlterations throws 
ArchiveSystemApplicationException
	:
	SUCCESSFULLDATAALTERATIONS (WS)? a:ALPHANUM
	{
		if( lgDataAlterCount == 1)
		{
			throw new ParameterRepeatedException
("successfullDataAlterations");	
		}
		
        String dataAlter = a.getText().trim();

        if ((dataAlter.equals("="))||(dataAlter.equals("")))
        {
            throw new MissingParameterValueException
("successfullDataAlterations");
        }

        if (!isBoolValid(dataAlter))
        {
            throw new InvalidParameterValueException
("successfullDataAlterations");
        }

        logMap.put("successfuldataalterations", dataAlter);
        lgDataAlterCount++;
       
	}
 exception
    catch [NoViableAltException nvae]
    {
        throw new MissingParameterValueException
("successfullDataAlterations");
    }
	;





setError throws ArchiveSystemApplicationException
    :
    a:ALPHANUM
    {
        if (true)
        {        
            throw new UnknownParameterException(a.getText().trim());
        }
    }
    ;


/*------------------------------------------------------------------*/
/* Method that validates the input to a boolean vlaue               */
/*                                                                  */
/* @param inputStr, holds the user input data.                      */
/* @return bRetVal, holds whether the data is valid or not.         */
/*------------------------------------------------------------------*/
isBoolValid[String inputStr] returns [boolean bRetVal = true]
    :
    {    
        String patternMatch = "['y','e','s','n','o']";

        if (inputStr.equalsIgnoreCase("yes")||
(inputStr.equalsIgnoreCase("no")))
        {     
            if (inputStr.length() > maxLength)
            {
                bRetVal = false;
            }
        }
        else
        {
            bRetVal = false;
        }
    }
    ;


/*------------------------------------------------------------------*/
/* Method that validates the input to a valid string                */
/*                                                                  */
/* @param inputStr, holds the user input data.                      */
/* @return bRetVal, holds whether the data is valid or not.         */
/*------------------------------------------------------------------*/


isStringValid[String inputStr] returns [boolean bRetVal = true]
    :
    {    
        String patternMatch = "[a-zA-Z\\d#$_-]*";

        if (inputStr.matches(patternMatch))
        {
            if (inputStr.length() > maxLength)
            {
                bRetVal = false;
            }
        }
        else
        {
            bRetVal = false;
        }
    }
    ;



/*------------------------------------------------------------------*/
/* Method that validates the input to an int                        */
/*                                                                  */
/* @param inputStr, holds the user input data.                      */
/* @return bRetVal, holds whether the data is valid or not.         */
/*------------------------------------------------------------------*/
isIntValid[String inputStr] returns [boolean bRetVal = true]
    :
    {
        String patternMatch = "[\\d]*";

        if (!inputStr.matches(patternMatch))
        {     
            bRetVal = false;
        }
    }
    ;

/*------------------------------------------------------------------*/
/* Method that validates the date and time for the parameters       */
/* 								
	                                 */
/*                                                                  */
/* @param inputStr, holds the user input data.                      */
/* @return bRetVal, holds whether the data is valid or not.         */
/*------------------------------------------------------------------*/
isDateValid[String inputStr] returns [boolean bRetVal = true]
	:
	{
		String patternMatch = "[\\d:]*";
		if (!inputStr.matches(patternMatch))
        {        
            bRetVal = false;
        }
        if (bRetVal)
        {
            StringTokenizer startTime = new StringTokenizer
(inputStr, ":");
    	    if (startTime.countTokens() != 5)
            {
                bRetVal = false;
            }
            else
            {
                year = Integer.parseInt((String) startTime.nextToken
());
                month = Integer.parseInt((String) startTime.nextToken
());
                day = Integer.parseInt((String) startTime.nextToken
());
                hours = Integer.parseInt((String) startTime.nextToken
());
                min = Integer.parseInt((String) startTime.nextToken
());
               
                if ((year < 2003) || (year > 9999) || 
                    (month < 1) || (month > 12) || 
                    (day < 1) || (day > 31)||(hours < 0) || (hours > 
23) || 
                    (min < 0) || (min > 59))                  
                   
                {
                    bRetVal = false;
                }
            }
          }
	
	}
	;

	/*------------------------------------------------------------
------*/
	/* Method that validates the retention time		
					*/
	/* 							
		                                */
	/*                                                            
      */
	/* @param inputStr, holds the user input 
data.                      */
	/* @return bRetVal, holds whether the data is valid or 
not.         */
	/*------------------------------------------------------------
------*/
	isRelativeTimeValid[String inputStr] returns [boolean bRetVal 
= true]
		:
		{
			String patternMatch = "[\\d:]*[d,m,y]";
			if (!inputStr.matches(patternMatch))
        	{        
        		bRetVal =  false;
        	}
		}
		;

	/*------------------------------------------------------------
------*/
	/* Method that validates the relative start time to	
			    */
	/* 							
		                                */
	/*                                                            
      */
	/* @param inputStr, holds the user input 
data.                      */
	/* @return bRetVal, holds whether the data is valid or 
not.         */
	/*------------------------------------------------------------
------*/
	isRelStartTimeValid[String inputStr] returns [boolean bRetVal 
= true]
		:
		{
			if (!(
			      (inputStr.equalsIgnoreCase("creation")) 
||
			      (inputStr.equalsIgnoreCase
("modification"))||
			      (inputStr.equalsIgnoreCase
("LastAccess"))
			     )) {        
        		bRetVal =  false;
        	}
		}
		;

/**
 * A Lexer class representing lexer for show policy cmd.
 */
class CreatePolicyLexer extends Lexer;
options
{ 
    k = 20;
    caseSensitiveLiterals = false;
    caseSensitive = false;
    charVocabulary = ' '..'~';
}

// Definitions of verbs
CREATE           : "create";

// Definitions of objects
POLICY       : "policy";

//def of params
POLICYNAME	: "policyname";

POLICYDESCR	: "policydescr";

CREATECOPY	:"createcopy";

COPYNAME	:"copyname";

DESTINATIONPOOL: "destinationpool";

STARTTIME	:"starttime";

ABSOLUTESTARTTIME	:"absolutestarttime";

ABSOLUTERETENTIONTIME:"absoluteretention"('t'('i'('m'('e')?)?)?)?;

MIGRATE	:"migrate";

RELATIVESTARTTIMETO	:"relativestarttimeto";

RELATIVEDURATION: "relativedura"('t'('i'('o'('n')?)?)?)?;

LOG	:"log";

SUCCESSFULLREADACCESS :"successfullreadaccess";

RETENTIONDURATION : "retentionduration";

INITIALDATASTORAGEACTIONS :"initialdatastorage"('a'('c'('t'('i'('o'('n
'('s')?)?)?)?)?)?)?;

SUCCESSFULLDATAALTERATIONS:"successfulldata"('a'('l'('t'('e'('r'('a'('
t'('i'('o'('n'('s')?)?)?)?)?)?)?)?)?)?)?;

DUPLICATEDATADETECTIONSACTIONS
	:"duplicatedata"('d'('e'('t'('e'('c'('t'('i'('o'('n'('s'('a'('
c'('t'('i'('o'('n'('s')?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?;

OPAREN:	"(";

CPAREN	: ")";

WS         : (' ' | '\t')+;

NEWLINE    : '\n';

protected
ALPHANUM options { testLiterals = false; }
    : ('=') => '='!  (WS)? (~(' ' | '\t' | '\n'))+
    | (WS)? (~(' ' | '\t' | '\n'))+
    ;
    

the output obtained is :

CreatePolicy.g:244: warning:nondeterminism upon
CreatePolicy.g:244:     k==1:WS
CreatePolicy.g:244:     k==2:ALPHANUM
CreatePolicy.g:244:     k==3:WS,NEWLINE
CreatePolicy.g:244:     k==4:EOF,WS,ALPHANUM,CREATECOPY,MIGRATE,LOG
CreatePolicy.g:244:     k==5:EOF,WS,NEWLINE,ALPHANUM,OPAREN
CreatePolicy.g:244:     
k==6:EOF,WS,NEWLINE,ALPHANUM,CREATECOPY,OPAREN,CPAREN,MI
GRATE,LOG
CreatePolicy.g:244:     
k==7:EOF,WS,NEWLINE,ALPHANUM,CREATECOPY,OPAREN,CPAREN,CO
PYNAME,DESTINATIONPOOL,RETENTIONDURATION,STARTTIME,ABSOLUTERETENTIONTI
ME,MIGRATE
,ABSOLUTESTARTTIME,RELATIVEDURATION,RELATIVESTARTTIMETO,LOG,SUCCESSFUL
LREADACCES
S,INITIALDATASTORAGEACTIONS,DUPLICATEDATADETECTIONSACTIONS,SUCCESSFULL
DATAALTERA
TIONS
CreatePolicy.g:244:     
k==8:EOF,WS,NEWLINE,ALPHANUM,CREATECOPY,OPAREN,CPAREN,CO
PYNAME,DESTINATIONPOOL,RETENTIONDURATION,STARTTIME,ABSOLUTERETENTIONTI
ME,MIGRATE
,ABSOLUTESTARTTIME,RELATIVEDURATION,RELATIVESTARTTIMETO,LOG,SUCCESSFUL
LREADACCES
S,INITIALDATASTORAGEACTIONS,DUPLICATEDATADETECTIONSACTIONS,SUCCESSFULL
DATAALTERA
TIONS
CreatePolicy.g:244:     
k==9:EOF,WS,NEWLINE,ALPHANUM,CREATECOPY,OPAREN,CPAREN,CO
PYNAME,DESTINATIONPOOL,RETENTIONDURATION,STARTTIME,ABSOLUTERETENTIONTI
ME,MIGRATE
,ABSOLUTESTARTTIME,RELATIVEDURATION,RELATIVESTARTTIMETO,LOG,SUCCESSFUL
LREADACCES
S,INITIALDATASTORAGEACTIONS,DUPLICATEDATADETECTIONSACTIONS,SUCCESSFULL
DATAALTERA
TIONS
CreatePolicy.g:244:     between alt 1 and exit branch of block











 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From chriss007 at gmx.de  Wed Oct 13 00:08:31 2004
From: chriss007 at gmx.de (chr_mathis)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Re: Recognize letters
In-Reply-To: <ckhjv1+s0r4@eGroups.com>
Message-ID: <ckik9f+5jrr@eGroups.com>




Dear Fernando Salg,

You should use the unicode character '\u00E1' (which correspondes to
'?') in a lexer rule like this:

CHARS :
    ('\u00E1' /* | others to follow */ )
  ;

The lexer is now able to recognize the chracter.

If I got the documentation right, the lexer derives the character
vocabulary automatically from the used characters in the lexer rules.
 With the option 'charVocabulary' you can override the derived
vocabulary. But even if you use

charVocabulary='\3'..'\377' | '\u00E1';

(standard ASCII enhanced with your special character) you have to
define a lexer rule like the one above. The 'charVocabulary' option
shows its effect, when you use the negation operator '~' to define a
character class, like in the example from the documentation:

STRING: '"' (~'"")* '"';

Hope this helps,
Christian.



--- In antlr-interest@yahoogroups.com, "Fernando Salgueiro"
<fernandosalg@h...> wrote:
> 
> 
> 
>  I have a problem. How can resolve the problem to recognize the letter 
>   "?" ? 
>  
>  I try put charVocabulary = '\003'..'\377'; ( java.g) 
>   And produce a problem to recognize letter of type "?" ? 
> 
>   Error: 
> parser exception: Funcion?rio.java:63:10: unexpected char: 0xE1
> Funcion?rio.java:63:10: unexpected char: 0xE1
>         at JavaLexer.nextToken(JavaLexer.java:373)
>         at antlr.TokenBuffer.fill(TokenBuffer.java:69)
>         at antlr.TokenBuffer.LA(TokenBuffer.java:80)
>         at antlr.LLkParser.LA(LLkParser.java:52)
>         at JavaRecognizer.field(JavaRecognizer.java:1235)
>         at JavaRecognizer.classBlock(JavaRecognizer.java:1132)
>         at JavaRecognizer.classDefinition(JavaRecognizer.java:512)
>         at JavaRecognizer.typeDefinition(JavaRecognizer.java:329)
>         at JavaRecognizer.compilationUnit(JavaRecognizer.java:219)
>         at Main.parseFile(Main.java:72)
>         at Main.doFile(Main.java:55)
>         at Main.main(Main.java:25)
> 
> 
>  How can i resolve ? 
>   (Send me the response to fernandosalg@h... )
>  Thanks , 
> 
>   Fernando Salg








 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From mail at martin-probst.com  Wed Oct 13 03:52:41 2004
From: mail at martin-probst.com (Martin Probst)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] help on warning:nondeterminism upon
In-Reply-To: <ckiigb+goho@eGroups.com>
References: <ckiigb+goho@eGroups.com>
Message-ID: <34514.194.39.131.39.1097664761.14431.squirrel@webmailer.hosteurope.de>


> I am getting the " warning:nondeterminism upon "
> in the line no 244,it corresponds to
>
> "createPolicy throws ArchiveSystemApplicationException
> 	    :
> CREATE WS POLICY ( WS createPolicyParams)* ( WS createPolicyTypes)*
> NEWLINE

Well, the easiest way to solve those errors is - from my experience - to
just imagine you would be the parser and had to choose which way to take.

In this case, imagine you would be after the policy statement. Now the
next token you see in lookahead is a WS token. Both ways, the way to
createPolicyParams and the way to the Types start with a whitespace. So
you can't decide which way to go.

There are several possible solutions. One of them (the possibly easiest)
is to ignore whitespaces within the lexer so the parser doesn't have to
care about them:
WS: (your whitespace characters)* { $setType(Token.SKIP); }

Alternatively - if you need whitespaces - you might do this:
CREATE WS POLICY ( ( WS createPolicyParams ) => WS createPolicyParams )*
  ( ( WS createPolicyTypes ) => WS createPolicyTypes )*
This solution is worse as it takes some overhead to do the lookahead in
the rule.

There are more solutions to this, but I would recommend to you to check
whether you can ignore whitespaces. You can always control whitespace
ignoring via a boolean flag within the lexer which can be set in certain
situations (I do that within my grammar):
WS: (...) { if (wsIgnorable) $setType(Token.SKIP); }

mfg
Martin


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From mail at martin-probst.com  Wed Oct 13 05:01:01 2004
From: mail at martin-probst.com (Martin Probst)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Re: Recognize letters
In-Reply-To: <ckik9f+5jrr@eGroups.com>
References: <ckhjv1+s0r4@eGroups.com> <ckik9f+5jrr@eGroups.com>
Message-ID: <51391.194.39.131.40.1097668861.14431.squirrel@webmailer.hosteurope.de>


Hi,

> If I got the documentation right, the lexer derives the character
> vocabulary automatically from the used characters in the lexer rules.
>  With the option 'charVocabulary' you can override the derived
> vocabulary. But even if you use
>
> charVocabulary='\3'..'\377' | '\u00E1';
>
> (standard ASCII enhanced with your special character)

I would strongly advise against this. If you want to recognize
international characters like the ? or German ? you shoud definetly use
Unicode. You can achieve this by using the Unicode specifiers
(\uxxxx..\uxxxx) anywhere in your app.

The world is full of applications that fail as soon as someone enters a
character from a language they don't know. With Unicode we can make it a
better place ;-)

mfg
Martin


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ora.et.labora at web.de  Wed Oct 13 07:25:29 2004
From: ora.et.labora at web.de (whaefelinger)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] empty tree assertion rule
Message-ID: <ckjdsp+aofh@eGroups.com>



Hi,
being a newbee to antlr and it's abilities I'm always bit afraid to
"forget" to visit parts of a generated AST when formulating rules on 
how to walk the tree within the tree parser.

So I came up with the idea to write a tree parser rule to ensure 
that given input tree is empty:

001 nullp
002 {
003    if( #nullp != null ) {
004     System.err.println("error: tree not empty!");
005     System.exit(1);
006    else {
007     return;
008    }
009 }
010    : #(INT INT) 
011    ;


This rule would then be used like this:

expr returns [float r]
{
    float a,b;
    a=b=0;
    r=0;
}
    :	#(PLUS a=expr b=expr nullp)    { r = a+b;  }
    ;

That means that my parser would generate an (unexpected)
expr like

 (+ 1 2 3)

I would  get  this  reported.

Of course the parser just generates this bad expr only 
if there's  something  wrong  with the grammar. So when
releasing the parser, the "nullp" rule should be removed
for efficency.

Now for the question:

Q1: does something like 'nullp' already exist and I'm just
    not aware of?

Q2: is there absolutly no need for 'nullp' because I missed
    the point? 







 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From joanpujol at gmail.com  Wed Oct 13 07:45:56 2004
From: joanpujol at gmail.com (Joan Pujol)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Parser error management
In-Reply-To: <ODEDLGHNIFGKLNIHIHLLOEEMCPAA.ewbank@synopsys.com>
References: <d2d18a104101009366f555ce4@mail.gmail.com>
	 <ODEDLGHNIFGKLNIHIHLLOEEMCPAA.ewbank@synopsys.com>
Message-ID: <d2d18a104101307451a576137@mail.gmail.com>


On Tue, 12 Oct 2004 16:12:29 -0400, Bryan Ewbank <ewbank@synopsys.com> wrote:
>I can't do much more than echo your question; I'm leaning towards disabling
>all ANTLR-generated messages and then coding exceptions where they are
>needed - and code the necessary recovery action.
Yes, but when I have disabled the exceptions what strategy can I use
to gain some advantage versus the ANTLR default error handling?

>For example, if you're in an expression and it's scrambled, print an error
>message and then scan for the next semicolon (i.e., expression terminator).
But it's not the same that do ANTLR? Or the same that I can get doing
some exception catching?

>Hope this helps, a bit...
Well any opinion helps me. A lot of thanks.


-- 
Joan Jes?s Pujol Espinar


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-b=hj5jQs5ZbhwEFg6V3A95U at yahoogroups.com  Wed Oct 13 09:12:19 2004
From: antlr-interest-accept-b=hj5jQs5ZbhwEFg6V3A95U at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:22 2004
Subject: MODERATE -- demakov@ispras.ru posted to antlr-interest
Message-ID: <1097683939.460.44473.m7@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  demakov@ispras.ru 

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=339 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-b=hj5jQs5ZbhwEFg6V3A95U@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "Alexey Demakov" <demakov@ispras.ru>
Subject: AST specification and processing
Date: Wed, 13 Oct 2004 20:15:34 +0400
Size: 5038
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041013/d06bcf5a/attachment.mht
From ewbank at synopsys.com  Wed Oct 13 10:14:39 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Parser error management
In-Reply-To: <d2d18a104101307451a576137@mail.gmail.com>
Message-ID: <ODEDLGHNIFGKLNIHIHLLGEFJCPAA.ewbank@synopsys.com>


The key difference is that ANTLR is all-or-nothing (except for the
"defaultErrorHandler=true/false" option), but if you specify the exceptions
explicitly you only do in on the rules where it makes some sense from your
point of view.  For example, I have a C-like language.  If I'm in the middle
of processing an expression and see an illegal token, I would walk to leap
all the way out to <statement> and scan for the trailing semicolon, rather
than attempting to catch it somewhere in <expression_plus>,
<expression_shift>, and so on.

Perhaps the default messages are good enough for your application, perhaps
not.  For my application, I need to provide a standard
"filename:lineno:text" style message if there is a syntax/semantic error -
something that is not provided in the default messages.  I'd also like to
have "expected ..." as part of the message, which means that the default is
not good enough for me.

Of course, there may be some way to tweak the defaults that I have not
stumbled across.  I'm generating C++, which places me (I think) in the
minority here.

> -----Original Message-----
> From: Joan Pujol [mailto:joanpujol@gmail.com]
> Yes, but when I have disabled the exceptions what strategy can I use
> to gain some advantage versus the ANTLR default error handling?
>
> But it's not the same that do ANTLR? Or the same that I can get doing
> some exception catching?



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From demakov at ispras.ru  Wed Oct 13 09:15:34 2004
From: demakov at ispras.ru (Alexey Demakov)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] AST specification and processing
Message-ID: <027d01c4b13f$deaf6870$8cc79553@marlboro>



Hi all,

The next task after parsing input text is AST construction. After construction AST can be transformed, processed etc.
ANTLR can be used for parsing and for tree construction. But what if tool (translator, preprocessor, interpreter...)
is developed by more than one prorgamer? How to split translator into subsystems, how to specify interfaces between them?
Natural decomposition of translator is around internal representation of input data, i.e. around AST:
Parser checks syntax and builds AST, semantics checker verifies static semantics and adds additional information to AST.
After that AST can be transformed, processed in other way, output code can be generated.
All of these subsystems depends on AST format only, they are (theoretically) independent of each other.
If there is separate AST specification (not in ANTLR parser), all of these subsystems (including parser)
can be developed independently and at the same time. AST specification can be used as a contract between
developers of different subsystems. According to my experience, it speeds up development and reduces number of errors.

I propose the notation called TreeDL to describe tree-like structures, open-source tool that checks consistence of tree description
and translates tree description to a set of classes (now in Java, C# will be added in near future). The TreeDL tool also
can generate HTML cross-referenced version of tree description to be used as documentation.
Tree nodes can be decorated by dynamic attributes to store additional information.
There is powerful template engine to generate code from tree.
Also there is framework for rapid tool development - library for error reporting, functionality extention by plugins -
TreeDL tool itself uses tree description in TreeDL, mentioned template engine and framework, so source code 
can be used as an example.

Additional docs and downloads are at http://treedl.sourceforge.net
Example tree description http://treedl.sourceforge.net/treedl/treedl/com/unitesk/atp/treedl/TreeDL.tdl-xref/index.html
TreeDL BNF grammar http://treedl.sourceforge.net/treedl/bnf/TreeDL.bnf/index.html
TreeDL language description http://treedl.sourceforge.net/treedl/treedl_en.html
TreeDL tool description http://treedl.sourceforge.net/treedl/treedl_tool_end.html
Template engine usage example http://treedl.sourceforge.net/treedl/xref/com/unitesk/atp/treedl/JavaNodeGenerator.html

Please feel free to ask additional questions, any feedback is highly appreciated.

I use ANTLR since it was PCCTS :) it is great tool and I wish to share my experience with ANTLR community.
Proposed technology was approbated in our projects on development of extentions of full-size programming languages
(C, Java and C# for now) for specification and testing purposes.

Best regards,
Alexey
-----
Alexey Demakov
ISP RAS http://www.ispras.ru
RedVerst Group http://www.unitesk.com







 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Wed Oct 13 14:14:13 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] empty tree assertion rule
In-Reply-To: <ckjdsp+aofh@eGroups.com>
References: <ckjdsp+aofh@eGroups.com>
Message-ID: <D51DE0E6-1D5C-11D9-9E13-000393B5606C@codetransform.com>


On Oct 13, 2004, at 7:25 AM, whaefelinger wrote:

>
>
> Hi,
> being a newbee to antlr and it's abilities I'm always bit afraid to
> "forget" to visit parts of a generated AST when formulating rules on
> how to walk the tree within the tree parser.
>
> So I came up with the idea to write a tree parser rule to ensure
> that given input tree is empty:
>
> 001 nullp
> 002 {
> 003    if( #nullp != null ) {
> 004     System.err.println("error: tree not empty!");
> 005     System.exit(1);
> 006    else {
> 007     return;
> 008    }
> 009 }
> 010    : #(INT INT)
> 011    ;
>
>
> This rule would then be used like this:
>
> expr returns [float r]
> {
>     float a,b;
>     a=b=0;
>     r=0;
> }
>     :	#(PLUS a=expr b=expr nullp)    { r = a+b;  }
>     ;
>
> That means that my parser would generate an (unexpected)
> expr like
>
>  (+ 1 2 3)
>
> I would  get  this  reported.
>
> Of course the parser just generates this bad expr only
> if there's  something  wrong  with the grammar. So when
> releasing the parser, the "nullp" rule should be removed
> for efficency.
>
> Now for the question:
>
> Q1: does something like 'nullp' already exist and I'm just
>     not aware of?
>
> Q2: is there absolutly no need for 'nullp' because I missed
>     the point?
>
>

Interesting idea.  I'm not aware of anything else like it.  You could 
also use an action in place of a rule but that might clutter your 
existing actions.

What I do to check my trees is go from parser->tree->tree walker w/o 
actions->tree emitter and then diff the output of that from the 
original.  That's how my tests are written for the GCC toolkit.  But if 
you are not doing a full source to source translator you would have to 
do something different.

Monty


ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From Ger.Hobbelt at bermuda-holding.com  Wed Oct 13 19:44:59 2004
From: Ger.Hobbelt at bermuda-holding.com (Gerrit E.G. 'Insh_Allah' Hobbelt)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] empty tree assertion rule
References: <ckjdsp+aofh@eGroups.com>
Message-ID: <03ec01c4b197$cc7b7ec0$0200010a@walgelijk>


From: "whaefelinger" <ora.et.labora@web.de>
> Q1: does something like 'nullp' already exist and I'm just
>     not aware of?
>
> Q2: is there absolutly no need for 'nullp' because I missed
>     the point?

Q1: nope (AFAIK) - not till today, except in a few (non-ANTLR) grammars
where its brethren were used sporadically - not _systematically_ throughout
as you're implicitly hinting at.
Q2: only reason I can think of : nullp is not useful if you are *not*
interested _at_ _all_ in the class of errors it 'detects' - and who isn't? -
so there's a definite need for 'nullp' when you like to improve error
checking / software quality. ;-)


I like your idea, because this is a way to detect a specific class of errors
which are otherwise hard to properly diagnose&report: 'superfluous /
unexpected additional tree elements'.


Ger





<brain fart> Hm, one could do 'without' nullp if they'd chosen a different
tactic: when each AST is 'terminated' by a sentinel element at creation
time, the grammar/parser could check for the sentinel and throw an exception
if it wasn't in the expected location, but this would 'bloat' the size of
AST data (in a basic, straight-forward implementation) as it would add one
additional element to each AST unless some custom code 'generated' this
token when testing AST elements beyond 'the end of the AST'. But that would
just be rephrasing 'nullp' the other way around: #(PLUS expr expr EOA)
(where EOA == EndOfAST)
Failure to 'match' EOA would cause an exception. Same process as 'nullp'
system, different text though, but same type of solution. 'nullp' expects to
match nothing at all, EOA expects to match a [special] 'EOA' element.
I think 'nullp' is better than EOA, because I expect it has lower (worst
case: equal) cost in storage and run time.
</bf>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From s2jafer1 at yahoo.com  Thu Oct 14 01:16:47 2004
From: s2jafer1 at yahoo.com (s2jafer1)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Re: help on warning:nondeterminism upon
In-Reply-To: <34514.194.39.131.39.1097664761.14431.squirrel@webmailer.hosteurope.de>
Message-ID: <cklclf+fc0f@eGroups.com>



hi martin , 

        still i am getting the same " warning message " even after 

trying the various possible solutions given by you.

can you tell me any other possible method to solve the problem.



--- In antlr-interest@yahoogroups.com, "Martin Probst" <mail@m...> 
wrote:
> > I am getting the " warning:nondeterminism upon "
> > in the line no 244,it corresponds to
> >
> > "createPolicy throws ArchiveSystemApplicationException
> > 	    :
> > CREATE WS POLICY ( WS createPolicyParams)* ( WS createPolicyTypes)
*
> > NEWLINE
> 
> Well, the easiest way to solve those errors is - from my 
experience - to
> just imagine you would be the parser and had to choose which way to 
take.
> 
> In this case, imagine you would be after the policy statement. Now 
the
> next token you see in lookahead is a WS token. Both ways, the way to
> createPolicyParams and the way to the Types start with a 
whitespace. So
> you can't decide which way to go.
> 
> There are several possible solutions. One of them (the possibly 
easiest)
> is to ignore whitespaces within the lexer so the parser doesn't 
have to
> care about them:
> WS: (your whitespace characters)* { $setType(Token.SKIP); }
> 
> Alternatively - if you need whitespaces - you might do this:
> CREATE WS POLICY ( ( WS createPolicyParams ) => WS 
createPolicyParams )*
>   ( ( WS createPolicyTypes ) => WS createPolicyTypes )*
> This solution is worse as it takes some overhead to do the 
lookahead in
> the rule.
> 
> There are more solutions to this, but I would recommend to you to 
check
> whether you can ignore whitespaces. You can always control 
whitespace
> ignoring via a boolean flag within the lexer which can be set in 
certain
> situations (I do that within my grammar):
> WS: (...) { if (wsIgnorable) $setType(Token.SKIP); }
> 
> mfg
> Martin





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From mail at martin-probst.com  Thu Oct 14 04:27:59 2004
From: mail at martin-probst.com (Martin Probst)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Re: help on warning:nondeterminism upon
In-Reply-To: <cklclf+fc0f@eGroups.com>
References: 
    <34514.194.39.131.39.1097664761.14431.squirrel@webmailer.hosteurope.de>
    <cklclf+fc0f@eGroups.com>
Message-ID: <40564.194.39.131.40.1097753279.14431.squirrel@webmailer.hosteurope.de>


>         still i am getting the same " warning message " even after
>
> trying the various possible solutions given by you.
>
> can you tell me any other possible method to solve the problem.

It might help if you could provide some more information, like what you
did, the exact message, how does the exact line of your grammar look now
etc.

I can't really help you this way.

mfg
Martin


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From serge.bogdanov at intel.com  Thu Oct 14 05:54:27 2004
From: serge.bogdanov at intel.com (Sergey Bogdanov)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] A bug in C++ run-time
Message-ID: <cklsu3+lrra@eGroups.com>



Hi,

   I was debugging a problem with my own Token class with overloaded
'getToken()' member function and found that there is a problem in 
TokenBuffer::LA() (TokenBuffer.cpp:58). Instead of calling to
getType() the function used direct access to the 'type' field of a
Token. I think that this is a bug in antlr 2.7.4. 

    I made the 'type' member of the token private and replaced
reference to the 'type' with the call to getType() and it works for
me.





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From demakov at ispras.ru  Thu Oct 14 06:09:59 2004
From: demakov at ispras.ru (Alexey Demakov)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] help on warning:nondeterminism upon
References: <ckiigb+goho@eGroups.com>
Message-ID: <016501c4b1ef$1bde9a90$8cc79553@marlboro>


Hi,

1. setError alternative in createPolicyParams and createPolicyTypes allows ALPHANUM,
so parser can't decide when createPolicyParams ends and createPolicyTypes starts.
I suspect that setError is only for error handling and can't be removed.
It solves your problem. Additional remarks:
2. k = 9 in parser and k = 20 (!!!) in lexer are unnecessary.
3. Try to skip whitespaces as Martin Probst advises.
4. Try to use tokens {}for literals. If you need some optional letters at the end of keyword, you can parse it as different tokens
and reassign token types later.
Or use parser rules like this:
switch : SWITCH | SWIT | SWI;
When k = 20 antlr doesn't stop :)

Regards,
Alexey
-----
TreeDL: Tree Description Language: http://treedl.sourceforge.net
RedVerst Group: http://www.unitesk.com

----- Original Message ----- 
From: "s2jafer1" <s2jafer1@yahoo.com>
To: <antlr-interest@yahoogroups.com>
Sent: Wednesday, October 13, 2004 10:38 AM
Subject: [antlr-interest] help on warning:nondeterminism upon


>
>
>
>
> I am getting the " warning:nondeterminism upon "
>
> in the line no 244,it corresponds to
>
> "createPolicy throws ArchiveSystemApplicationException
>     :
>     CREATE WS POLICY ( WS createPolicyParams)* ( WS
>
> createPolicyTypes)* NEWLINE  in the source code" during compilation
>
> of the grammar file.i want to avoid this warning .
>
> if anybody knows the solution let me know as soon as possible.




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From klaren at cs.utwente.nl  Thu Oct 14 06:45:07 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] A bug in C++ run-time
In-Reply-To: <cklsu3+lrra@eGroups.com>
References: <cklsu3+lrra@eGroups.com>
Message-ID: <20041014134507.GB2080@cs.utwente.nl>


On Thu, Oct 14, 2004 at 12:54:27PM -0000, Sergey Bogdanov wrote:
>    I was debugging a problem with my own Token class with overloaded
> 'getToken()' member function and found that there is a problem in
> TokenBuffer::LA() (TokenBuffer.cpp:58). Instead of calling to
> getType() the function used direct access to the 'type' field of a
> Token. I think that this is a bug in antlr 2.7.4.
>
>     I made the 'type' member of the token private and replaced
> reference to the 'type' with the call to getType() and it works for
> me.

Thanks for the report & fix! It's a pretty old bug I guess, looks like copy
paste from the java runtime (it had the same bug). 

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Quidquid latine dictum sit, altum viditur.
                 (Whatever is said in Latin sounds profound.)



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ewbank at synopsys.com  Thu Oct 14 08:23:19 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] empty tree assertion rule
In-Reply-To: <D51DE0E6-1D5C-11D9-9E13-000393B5606C@codetransform.com>
Message-ID: <ODEDLGHNIFGKLNIHIHLLMEGECPAA.ewbank@synopsys.com>


> > So I came up with the idea to write a tree parser rule to ensure
> > that given input tree is empty:
> >
> > 001 nullp
> > 002 {
> > 003    if( #nullp != null ) {
> > 004     System.err.println("error: tree not empty!");
> > 005     System.exit(1);
> > 006    else {
> > 007     return;
> > 008    }
> > 009 }
> > 010    : #(INT INT)
> > 011    ;

This is marvelous!  I will be using this to ensure total tree match, instead
of
partial.  What I have is a production called <and_nothing_else> that looks
like
this:

    251 and_nothing_else
    252     :
    253         ( node:.
    254             {
    255                 cerr << "spurious node of type "
    256                     << node->getType()
    257                     << " ("
    258                     << getTokenName(node->getType())
    259                     << ") w/ text='"
    260                     << node->getText()
    261                     << "' detected in tree" << endl;
    262             }
    263         )*
    264     ;

Now I just need to get the parent linkages, and I'll be able to show the
context in which the problem occurs.

Tree audits, here I come.  In conjunction with adding a wildcard production
to the topmost rule (and ignoring the ambiguity) to detect unimplemented
node types, I think I can do this pretty cleanly.

Thanks again!



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From atripp at comcast.net  Thu Oct 14 08:26:09 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Re: How to determine execution path?
In-Reply-To: <cka3c5+sbqg@eGroups.com>
Message-ID: <ckm5qh+gktm@eGroups.com>



This issue is typically called "control flow analysis".
The bad news is that it's a huge, messy problem, with
no general solution (imagine "x/y" inside an "if" statment
that depends on user input). The good news is that lots
of papers have been written on the topic. Search
at the ACM: http://portal.acm.org

Andy 





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From johnm-antlr at non.net  Thu Oct 14 09:28:02 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] TreeDL (was: AST specification and processing)
In-Reply-To: <027d01c4b13f$deaf6870$8cc79553@marlboro>
References: <027d01c4b13f$deaf6870$8cc79553@marlboro>
Message-ID: <16750.43282.728505.445059@despot.non.net>


>>>>> "Alexey" == Alexey Demakov <demakov@ispras.ru> writes:
[...]

> How to split translator into subsystems, how to specify interfaces
> between them?  Natural decomposition of translator is around internal
> representation of input data, i.e. around AST: Parser checks syntax and
> builds AST, semantics checker verifies static semantics and adds
> additional information to AST.  After that AST can be transformed,
> processed in other way, output code can be generated.  All of these
> subsystems depends on AST format only, they are (theoretically)
> independent of each other.

But they aren't, a priori, independent of each other.  Transformations,
even while preserving the basic structure of the tree (i.e., adhering to
the same grammar) are often order dependent.  Also, many tree
walkings/manipulations accumulate and/or modify information stored outside
the trees.

> If there is separate AST specification (not in ANTLR parser), all of
> these subsystems (including parser) can be developed independently and at
> the same time. AST specification can be used as a contract between
> developers of different subsystems. According to my experience, it speeds
> up development and reduces number of errors.

Sure (modulo taking the points I made above into account).

> I propose the notation called TreeDL to describe tree-like structures,
> open-source tool that checks consistence of tree description and
> translates tree description to a set of classes (now in Java, C# will be
> added in near future). The TreeDL tool also can generate HTML
> cross-referenced version of tree description to be used as documentation.
> Tree nodes can be decorated by dynamic attributes to store additional
> information.  There is powerful template engine to generate code from
> tree.  Also there is framework for rapid tool development - library for
> error reporting, functionality extention by plugins - TreeDL tool itself
> uses tree description in TreeDL, mentioned template engine and framework,
> so source code can be used as an example.

So, are you saying that TreeDL is e.g., a replacement for Antlr tree
handling?  Basically, what's the real point of TreeDL?  I.e., what doesn't
Antlr's tree handling do that you want?

> Additional docs and downloads are at http://treedl.sourceforge.net
> Example tree description
> http://treedl.sourceforge.net/treedl/treedl/com/unitesk/atp/treedl/TreeDL.tdl-xref/index.html
> TreeDL BNF grammar
> http://treedl.sourceforge.net/treedl/bnf/TreeDL.bnf/index.html TreeDL
> language description http://treedl.sourceforge.net/treedl/treedl_en.html
> TreeDL tool description
> http://treedl.sourceforge.net/treedl/treedl_tool_end.html Template engine
> usage example
> http://treedl.sourceforge.net/treedl/xref/com/unitesk/atp/treedl/JavaNodeGenerator.html

Am I reading the docs correctly... Are you really using the visitor pattern
rather than generating a recursive descent parser?

Thanks,
	John


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Thu Oct 14 11:15:45 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Proceedings of ANTLR2004 up
Message-ID: <110D360F-1E0D-11D9-BCB0-000A95891192@cs.usfca.edu>


Howdy folks,

The presentations are up in PDF at

http://www.antlr.org/workshop/ANTLR2004/summary.tml

I have the LL(*) parsing algorithm MP3 file there, with StringTemplate 
lecture to follow.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ora.et.labora at web.de  Fri Oct 15 00:15:46 2004
From: ora.et.labora at web.de (whaefelinger)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] exact match versus partial match  (was: empty tree assertion rule)
Message-ID: <ckntf2+4ghk@eGroups.com>



Hello,

Thanks for all the feedback I got regarding my 'nullp' proposal
as it helps me to understand the tree parser details.

I hope you all forgive me my igorance when asking this question:

What is the rational behind the reason that antlr's tree parser
is doing partial matches instead of exact ones?

I found this fact, being new to antlr, rather confusing as I 
have to admit.

Thanks,
Wolfgang.





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From demakov at ispras.ru  Fri Oct 15 02:50:36 2004
From: demakov at ispras.ru (Alexey Demakov)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] TreeDL (was: AST specification and processing)
References: <027d01c4b13f$deaf6870$8cc79553@marlboro> <16750.43282.728505.445059@despot.non.net>
Message-ID: <011a01c4b29c$6c4351d0$8cc79553@marlboro>


Hi John,

Thank you for attention to my long message :)

> > How to split translator into subsystems, how to specify interfaces
> > between them?  Natural decomposition of translator is around internal
> > representation of input data, i.e. around AST: Parser checks syntax and
> > builds AST, semantics checker verifies static semantics and adds
> > additional information to AST.  After that AST can be transformed,
> > processed in other way, output code can be generated.  All of these
> > subsystems depends on AST format only, they are (theoretically)
> > independent of each other.
> 
> But they aren't, a priori, independent of each other.  Transformations,
> even while preserving the basic structure of the tree (i.e., adhering to
> the same grammar) are often order dependent.  Also, many tree
> walkings/manipulations accumulate and/or modify information stored outside
> the trees.

O'key, I mean implementations of transformations are independent. 
Pre- and post-conditions for each transformation can be formulated
in terms of tree state - possible node types, required additional information 
(for example, reference-definition links). Information stored outside tree can be considered
as attribute of tree in whole, and can be referenced, for example, from root node,
so it is not a problem.

To specify a contract for each action over tree it is enough to describe tree structure
and state of attributes. 

> > If there is separate AST specification (not in ANTLR parser), all of
> > these subsystems (including parser) can be developed independently and at
> > the same time. AST specification can be used as a contract between
> > developers of different subsystems. According to my experience, it speeds
> > up development and reduces number of errors.
> 
> Sure (modulo taking the points I made above into account).
> 
> > I propose the notation called TreeDL to describe tree-like structures,
> > open-source tool that checks consistence of tree description and
> > translates tree description to a set of classes (now in Java, C# will be
> > added in near future). The TreeDL tool also can generate HTML
> > cross-referenced version of tree description to be used as documentation.
> > Tree nodes can be decorated by dynamic attributes to store additional
> > information.  There is powerful template engine to generate code from
> > tree.  Also there is framework for rapid tool development - library for
> > error reporting, functionality extention by plugins - TreeDL tool itself
> > uses tree description in TreeDL, mentioned template engine and framework,
> > so source code can be used as an example.
> 
> So, are you saying that TreeDL is e.g., a replacement for Antlr tree
> handling?  Basically, what's the real point of TreeDL?  I.e., what doesn't
> Antlr's tree handling do that you want?

As far as I know, in ANTLR there is no way to sepatate tree definition from parser.
It is harder for developers of tree processing than if they have clear and full description of tree structure.

So, the main point of TreeDL is to provide the notation for specification of tree structure.
For example, most of our developers are not familiar with ANTLR and they can't understand
a structure of tree that ANTLR builds - it is required to read all parser definition.
But it is unnesesary, because the only thing they should know - what kinds of nodes are used,
what children and attributes are defined for each node.

Moreover, TreeDL tree can be constructed even without parser. In one of our projects 
we build TreeDL tree from GUI and use the same codegeneration library.
May be I am "tree fan" as Terence is "grammar fan" :)
As my colleague speaks: "Not because I have no other ideas, but because this is the one I like most".
(Hm, not very easy to translate to English...)

> > Additional docs and downloads are at http://treedl.sourceforge.net
> > Example tree description
> > http://treedl.sourceforge.net/treedl/treedl/com/unitesk/atp/treedl/TreeDL.tdl-xref/index.html
> > TreeDL BNF grammar
> > http://treedl.sourceforge.net/treedl/bnf/TreeDL.bnf/index.html 
> > TreeDL language description http://treedl.sourceforge.net/treedl/treedl_en.html
> > TreeDL tool description
> > http://treedl.sourceforge.net/treedl/treedl_tool_en.html
> > Template engine usage example
> > http://treedl.sourceforge.net/treedl/xref/com/unitesk/atp/treedl/JavaNodeGenerator.html
> 
> Am I reading the docs correctly... Are you really using the visitor pattern
> rather than generating a recursive descent parser?

TreeDL notation itself doesn't define what is generated from tree description. TreeDL tool provides
default implementation but it is easy to modify translation scheme, to change what should be generated or
generate additional information you need.

Historically codegeneration library use visitor pattern, but it is not required for all TreeDL users to use it also.
It is not clear for me, what task requires recursive descent parser? Do you mean tree walker?
(Plugin that generate tree walker can be written in several hours.)
TreeDL tool doesn't do ANTLR job - ANTLR is used for parsing. Actions that create TreeDL tree nodes 
should be inserted in ANTLR parser rules. Of course, this code is longer than the use of ANTLR tree building,
but easy to write, understand and maintain (You see, there are rather many questions in this list about problems
with ANTLR tree building). And tree description guarantees that correct tree will be built - node constructor checks
that all required children and attributes are provided, and additional checks of its values can be defined.

I plan to write small examples on how to write formal text processing tool using ANTLR and TreeDL,
are members of this list interested to read them?

Another tool that we've developed is caled BNF tool. It takes grammar in BNF form, check correctness 
(well, it is simple - all used rules should be defined and reachable from start rule) and generates positive/negative tests,
i.e. sentences that a priory satisfy/unsatisfy grammar. Test can be generated from any context-free grammar definition.
It is useful when source grammar should be adapted to be suitable for ANTLR - we need some checking that 
source and modified grammars are describing the same language.

Also HTML version of grammar with cross-references can be generated. This is example:
http://treedl.sourceforge.net/treedl/bnf/TreeDL.bnf/index.html

Now BNF tool is not public available, but in the future it is possible.

Thanks,
Alexey
-----
TreeDL: Tree Description Language: http://treedl.sourceforge.net
RedVerst Group: http://www.unitesk.com




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-I=KTs1UyvCjgxeUPZbq=4Ag at yahoogroups.com  Fri Oct 15 07:21:59 2004
From: antlr-interest-accept-I=KTs1UyvCjgxeUPZbq=4Ag at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:22 2004
Subject: MODERATE -- higgins_barry@yahoo.co.uk posted to antlr-interest
Message-ID: <1097850119.398.52526.m10@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  higgins_barry@yahoo.co.uk 

The message summary:
--------------------
FROM: higgins_barry@yahoo.co.uk 
DATE: Fri, 15 Oct 2004 14:21:54 -0000 
SUBJECT: calling one parser from within another 

Hi all, I'm hoping someone can tell me how to call one 
parser from within another one. I'm writing a grammer for 
PL/SQL and since one already exists for the SQL statements 
I'd like to just call it where appropriate. Is this 
feasible/possible? Thanks in advance, Barry 

--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=340 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-I=KTs1UyvCjgxeUPZbq=4Ag@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "higgins_barry" <higgins_barry@yahoo.co.uk>
Subject: calling one parser from within another
Date: Fri, 15 Oct 2004 14:21:54 -0000
Size: 1475
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041015/b514b788/attachment.mht
From higgins_barry at yahoo.co.uk  Fri Oct 15 07:21:54 2004
From: higgins_barry at yahoo.co.uk (higgins_barry)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] calling one parser from within another
Message-ID: <ckome2+tcvu@eGroups.com>




Hi all,
I'm hoping someone can tell me how to call one parser from within
another one. I'm writing a grammer for PL/SQL and since one already
exists for the SQL statements I'd like to just call it where
appropriate. Is this feasible/possible?
Thanks in advance,
Barry








 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Fri Oct 15 09:41:20 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] calling one parser from within another
In-Reply-To: <ckome2+tcvu@eGroups.com>
References: <ckome2+tcvu@eGroups.com>
Message-ID: <0ADF7D75-1EC9-11D9-8492-000393B5606C@codetransform.com>


Sure, just call it the same way you call it from a main() program.  
You'll have to pass it the entire SQL string.  Details depend on which 
backend you are using, Java or C++.  Also be sure that you call a top 
level rule, ie a rule that doesn't call any other rules.  It's trivial 
to make a new top level entry rule if one doesn't already exist--

topExpr: expr;

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html

On Oct 15, 2004, at 7:21 AM, higgins_barry wrote:

>
>
>
> Hi all,
> I'm hoping someone can tell me how to call one parser from within
> another one. I'm writing a grammer for PL/SQL and since one already
> exists for the SQL statements I'd like to just call it where
> appropriate. Is this feasible/possible?
> Thanks in advance,
> Barry
>
>
>
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Fri Oct 15 09:56:51 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] cil
In-Reply-To: <ckome2+tcvu@eGroups.com>
References: <ckome2+tcvu@eGroups.com>
Message-ID: <359C216C-1ECB-11D9-8492-000393B5606C@codetransform.com>


Take a look at this tool--

http://manju.cs.berkeley.edu/cil/

Monty



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Fri Oct 15 10:37:03 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] cil
In-Reply-To: <359C216C-1ECB-11D9-8492-000393B5606C@codetransform.com>
References: <ckome2+tcvu@eGroups.com> <359C216C-1ECB-11D9-8492-000393B5606C@codetransform.com>
Message-ID: <D3CB4EF0-1ED0-11D9-8492-000393B5606C@codetransform.com>


On Oct 15, 2004, at 9:56 AM, Monty Zukowski wrote:

>
> Take a look at this tool--
>
> http://manju.cs.berkeley.edu/cil/

Wow, I'm typing too fast today!  This was supposed to go elsewhere, but 
I've pointed this tool out on this list before so no harm done.  It has 
some really interesting ideas on how to distill C to its essence to 
make processing it easier.

Monty



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-TBhJJuQQcbBPZBAWymKS5tE at yahoogroups.com  Fri Oct 15 12:20:47 2004
From: antlr-interest-accept-TBhJJuQQcbBPZBAWymKS5tE at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:22 2004
Subject: MODERATE -- roland_kaul2002@yahoo.ca posted to antlr-interest
Message-ID: <1097868047.375.82942.m19@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  roland_kaul2002@yahoo.ca 

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=341 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-TBhJJuQQcbBPZBAWymKS5tE@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "SAPTraining" <roland_kaul2002@yahoo.ca>
Subject: $$$Provide SAP install CD and SAP course !!
Date: Thu, 16 Dec 2004 03:20:57 +0800
Size: 2732
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041015/5a569f06/attachment.mht
From griffon26 at kfk4ever.com  Sat Oct 16 09:04:04 2004
From: griffon26 at kfk4ever.com (Maurice van der Pot)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Re: Why no children in tree generated by C++ parser?
In-Reply-To: <416A6910.4080705@lsbu.ac.uk>
References: <416A6910.4080705@lsbu.ac.uk>
Message-ID: <20041016160403.GC26965@kfk4ever.com>

On Mon, Oct 11, 2004 at 12:05:52PM +0100, David Wigg wrote:
> 
> I was glad to hear that you have been able to run it 
> successfully. However, if you find any problems with it please 
> let me know.

I am planning to make a relatively simple program that checks 
the exception specifications and exception handlers in a C++ file
to see if any unexpected exceptions can be raised.

I found that the grammar only allows max 2 exceptions in an exception 
specification. The trivial patch:

--- CPP_parser.g.original       2004-10-16 17:44:54.005621592 +0200
+++ CPP_parser.g.exceptionspecfix       2004-10-16 17:45:56.829070976 +0200
@@ -1328,7 +1328,7 @@
        {char *so;}
        :       "throw" 
                LPAREN 
-               (       (so = scope_override ID (COMMA so = scope_override ID)? )? 
+               (       (so = scope_override ID (COMMA so = scope_override ID)* )? 
                |       ELLIPSIS
                )
                RPAREN

At first I thought I would add only tree construction to the grammar
so I could later parse the tree to check for properties. Later I 
realised that there are several variables (functionDefinition, 
in_parameter_list, enclosingClass, etc) that are specifically meant 
to help the programmer do something useful within functions that 
are called while parsing the source file (the virtual member functions 
of the parser class).

I'm not sure what would be the best approach. I have the feeling that
the number of variables required to do any and all kinds of checking 
will be too large. Maybe it is better to not have any of those variables 
in the source parser and put them in the application specific tree parser
instead.

> I would very much like to offer tree parser output, but I do not 
> have sufficient spare time at present. If anyone would like to 
> co-operate with me to modify the parser to produce a suitable 
> AST from this parser then I would be pleased to help.

Do you have a specific structure in mind? I am going to spend some
time on this anyway, so I may as well try to make a structure that 
is useful for more people than just yours truly.

Best regards,
Maurice.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20041016/4e6733cd/attachment.bin
From ora.et.labora at web.de  Sat Oct 16 12:56:08 2004
From: ora.et.labora at web.de (whaefelinger)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Re: TreeDL (was: AST specification and processing)
In-Reply-To: <011a01c4b29c$6c4351d0$8cc79553@marlboro>
Message-ID: <ckruco+kkc0@eGroups.com>



> I plan to write small examples on how to write formal text 
processing tool using ANTLR and TreeDL,
> are members of this list interested to read them?

Don't about other members but I would be interested to get some
examples to understand TreeDL and about the difference between
ANTLR's TreeParser and TreeDL.

Cheers,
Wolfgang.






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From sunshine at public.kherson.ua  Mon Oct 18 03:32:45 2004
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Creation of Lexer and Parser in the loop? Bad idea
Message-ID: <BD99767D.261E9%sunshine@public.kherson.ua>


Hi All,

I have note that we must write such code in C++

Foo( string SqlQuery )
{
    istringstream inp( SqlQuery.c_str() );


    Lexer lex( inp );
    Parser parser(lex);

    ..............
}


But if we look into constructor of Lexer we have

VSQL_Lexer::VSQL_Lexer(std::istream& in)
    : antlr::CharScanner(new antlr::CharBuffer(in),false)
{
    initLiterals();
}

void VSQL_Lexer::initLiterals()
{
    literals["words"] = 218;
    literals["local"] = 212;
    literals["blob"] = 111;
    literals["byte"] = 89;
    literals["action"] = 227;
    literals["nullif"] = 144;
    ..............
}


---------------------------------------------
I hope it is easy to see that Lexer must built the map for N elements.
For big grammar this is few hundreds of items.

Guys, this is terrible!

For example, if I will do in the loop 100,000 or million SQL commands
    INSERT INTO ...

Then I will need million times create/destroy objects of lexer and parer,
And what is the worst I need million (!!!!!!) times create and fill THE SAME
std::map. I believe this is just silly.

And I do not see that ANTLR can allow me create Lexer/Parser only once,
And reuse them for different texts many times.
Or I have miss something ?


I am sure that this DESIGN MISTAKE must be fixed in the ANTLR.

Any comments? 
Or advices how to reuse Lexer/Parser in huge loops?

And this is NOT theoretical tasks. SQL Server can get such loops very often.


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From anakreonmejdi at yahoo.gr  Mon Oct 18 08:28:25 2004
From: anakreonmejdi at yahoo.gr (Anakreon)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Off topic:Type handling
Message-ID: <4173E119.1040500@yahoo.gr>


This is off topic but I'd appreciate your opinion on some thought I
have about type determination of loosely typed languages.
I apologize if I cause any frustration.

I have a problem with types in the translator I have developed for ASP.
Some ideas about how to solve this can be found at:http://storm.cs.unipi.gr/%7Eanakreon/notes/type_notes.txt
I'd apriciate if you could take the time to read it and tell me your opinion.
Since the subject is off topic, please use my mail only for responses.

Thanks in advanced, Anakreon.


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From andrew at adersoftware.com  Mon Oct 18 09:27:41 2004
From: andrew at adersoftware.com (Andrew Deren)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] Off topic:Type handling
In-Reply-To: <4173E119.1040500@yahoo.gr>
Message-ID: <200410181028205.SM00276@ANDREWD>


Just a few comments:
Why are you doing type analysis in parser for dynamically typed language?
I've never done anything in asp (or VB), but I've worked on other
dynamically typed languages and it's almost impossible to do type-checking
(analysis) at parse (or compile) time. For those language all type
information is usually only available at runtime.
For example:
x = 3
if (somecondition)
{
	x = "some string";
}

// what type is x here?
z = x;

There is no way you can now type of x (or z after assignment), because it
depends on some runtime condition. This is only one of many problems.

Why are you doing type analysis for VB? Are you trying to compile it or
translate to typed language?

Andrew

-----Original Message-----
From: Anakreon [mailto:anakreonmejdi@yahoo.gr] 
Sent: Monday, October 18, 2004 10:28 AM
To: antlr-interest@yahoogroups.com
Subject: [antlr-interest] Off topic:Type handling


This is off topic but I'd appreciate your opinion on some thought I
have about type determination of loosely typed languages.
I apologize if I cause any frustration.

I have a problem with types in the translator I have developed for ASP.
Some ideas about how to solve this can be found
at:http://storm.cs.unipi.gr/%7Eanakreon/notes/type_notes.txt
I'd apriciate if you could take the time to read it and tell me your
opinion.
Since the subject is off topic, please use my mail only for responses.

Thanks in advanced, Anakreon.


 
Yahoo! Groups Links



 






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ora.et.labora at web.de  Mon Oct 18 11:42:47 2004
From: ora.et.labora at web.de (whaefelinger)
Date: Mon Dec 20 16:17:22 2004
Subject: [antlr-interest] just one tokentypes file
Message-ID: <cl12r7+f4di@eGroups.com>



Hello Members,

I'm bit playing around with (export|import)Vocab and this raised a 
question:

Having a lexer, parser and treewalker in one file and compiling it 
with antlr (2.7.4) I will get just one 'token type' file. For example

 === calc.g ===
 class CalcLexer extends Lexer;
 class CalcParser extends Parser;
 class CalcTreeWalker extends TreeWalker;
 ==============

will yield to file CalcParserTokenTypes.txt (and *.java). I was 
wondering now how I can simulate this behaviour using options 
importVocab and exportVocab having lexer, parser and tree walker 
each in a different file?

In order to do so I would need to formulate something like 

 options {
   exportVocab=CalcParser;
   importVocab=CalcParser;
 }

but when doing so antlr reports and error. 

I understand somehow antlr's problem. 'exportVocab' would rewrite 
the file CalcParserTokenTypes.txt and if then an import is done from 
the very same file, nothing new is gained.

However, I believe that this problem can be avoided by importing 
first and then afterwords do the export. This must be the very same 
as antlr is doing if all three grammars are in the same file (except 
that 'import vocabulary' is taken from memory).   

Some comments on this?

Best wishes,
Wolfgang.







 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From anakreonmejdi at yahoo.gr  Mon Oct 18 12:54:13 2004
From: anakreonmejdi at yahoo.gr (Anakreon)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Off topic:Type handling
In-Reply-To: <200410181028205.SM00276@ANDREWD>
References: <200410181028205.SM00276@ANDREWD>
Message-ID: <41741F65.1090301@yahoo.gr>


Andrew Deren wrote:
> Just a few comments:
> Why are you doing type analysis in parser for dynamically typed language?
> I've never done anything in asp (or VB), but I've worked on other
> dynamically typed languages and it's almost impossible to do type-checking
> (analysis) at parse (or compile) time. For those language all type
> information is usually only available at runtime.
> For example:
> x = 3
> if (somecondition)
> {
> 	x = "some string";
> }
> 
> // what type is x here?
> z = x;
> 
> There is no way you can now type of x (or z after assignment), because it
> depends on some runtime condition. This is only one of many problems.
> 
> Why are you doing type analysis for VB? Are you trying to compile it or
> translate to typed language?
> 
> Andrew
ASP is translated to PHP which is typeless as well.
But I need the type of variables in certain cases which are demonstrated
in the URL of the mail.
Here is why:
Usefulness of type determination
=================================
1) Currently, if there are more then one method with the same name
   which happens when a method receives variable count arguments,the appropriate
   method is chosen based on the arguments count. This implies the limitation
   that we can not define more then one method in the XML definition with the same
   name and argument count, but with different argument types. This is very useful
   when based on arguments type an other translation exists. We can end with
   wrong translation because of this.
2) The AND, OR, XOR, NOT operators function as binary or logical operators
   based on context. For example a = 12 OR 23 is a binary operator, but currently
   is translated as a logical operator.
3) When functions return arrays, the translator is unaware of this fact. If the
   code requests individual elements of the returned array, an error is produced
   since the translator does not know that the variable holds an array, and an invalid
   translation is generated.
4) When code which falls in the cases (2, 3) exists inside a user defined method
   or sub, and refers to the methods arguments, the same problem appears.
   This problem however is even more difficult to solve because when the method's
   body is translated, the translator can not know the types of the arguments a priori.
   The arguments can be determined only if:
   a) The method is called. Then the types of the arguments passed to the method
	  can be used as the expected types of the arguments. This should be considered
	  as heuristic because a method can be called with different argument types each time.
   b) An operation is performed on an argument which is valid only if the argument
	  belongs to a specific type. ASPA takes an optimistic approach on translation
	  and assumes that the source code to be translated is correct. Because of this
	  we can set the arguments type equal to the one the operation requires. This
	  assumption may not be valid in certain cases hence the translation might be
	  wrong.

Generally is not possible to determine the type of the variable.
There is no why to be always capable of finding the type.
In many cases however it is possible.

I hope someone has faced a similar problem and can make some suggestions on
how to solve the problem.

Anakreon


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From wiggjd at lsbu.ac.uk  Mon Oct 18 13:02:16 2004
From: wiggjd at lsbu.ac.uk (David Wigg)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Re: Why no children in tree generated by C++ parser?
Message-ID: <60133.81.86.237.29.1098129736.squirrel@webmail.lsbu.ac.uk>


Maurice van der Pot wrote on Saturday 16 October about data to
be stored in a parse tree for our C++ parser.

Thanks Maurice for also pointing out correction required to
the "throw" statement production in our C++ parser.

I think Maurice's question about what data should be saved in
a tree parser is a good one which should interest the antlr
community.

I regret that I am not familiar with AST entries but
personally I would expect line numbers to be saved with all
entries with symbols so that a user could get back to the
source code easily.

I can only suggest that if you build in the production of
an AST that it is done in a general a way as possible so as a)
to show how it can be done and b) to provide a framework to
show how other items can be added for individual requirements.

David Wigg
London South Bank University
UK







 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From mtiller at ford.com  Mon Oct 18 13:53:07 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] TreeDL (was: AST specification and processing)
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB340483FD7C@na1fcm52.dearborn.ford.com>


Alexey,

As a general comment, this sounds quite interesting to me but I need a
lot more concrete examples.

For example, could you create an example for expression manipulation
that shows how you could transform an expression AST into its derivative
(e.g. automatic differentiation).  Show how the tree is built from
within ANTLR, show how you can explore it, walk it, visit it, etc.  Then
show how you can transform it (e.g. differentiate it).  That would help
me understand what you are after.  Ideally, it would be good if you
could show how you could exploit the attribute information.  For
example, a generic "binary op" node type but with an attribute that
indicates the specific operator (+,-,*,/) or a "function call" node type
with a required function name and then an optional set of argument.

Personally, I've always had a preference for heterogenous tree
structures and TreeDL seems to be a step toward a formal tree structure
specification (and utilities to operate on them?).  Is that correct?

Any comments on XML representations (reading and writing XML versions),
performance issues while traversing, etc?

--
Mike

> -----Original Message-----
> From: Alexey Demakov [mailto:demakov@ispras.ru]
> Sent: Friday, October 15, 2004 5:51 AM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] TreeDL (was: AST specification and
> processing)
> 
> 
> Hi John,
> 
> Thank you for attention to my long message :)
> 
> > > How to split translator into subsystems, how to specify interfaces
> > > between them?  Natural decomposition of translator is around
internal
> > > representation of input data, i.e. around AST: Parser checks
syntax
> and
> > > builds AST, semantics checker verifies static semantics and adds
> > > additional information to AST.  After that AST can be transformed,
> > > processed in other way, output code can be generated.  All of
these
> > > subsystems depends on AST format only, they are (theoretically)
> > > independent of each other.
> >
> > But they aren't, a priori, independent of each other.
Transformations,
> > even while preserving the basic structure of the tree (i.e.,
adhering to
> > the same grammar) are often order dependent.  Also, many tree
> > walkings/manipulations accumulate and/or modify information stored
> outside
> > the trees.
> 
> O'key, I mean implementations of transformations are independent.
> Pre- and post-conditions for each transformation can be formulated
> in terms of tree state - possible node types, required additional
> information
> (for example, reference-definition links). Information stored outside
tree
> can be considered
> as attribute of tree in whole, and can be referenced, for example,
from
> root node,
> so it is not a problem.
> 
> To specify a contract for each action over tree it is enough to
describe
> tree structure
> and state of attributes.
> 
> > > If there is separate AST specification (not in ANTLR parser), all
of
> > > these subsystems (including parser) can be developed independently
and
> at
> > > the same time. AST specification can be used as a contract between
> > > developers of different subsystems. According to my experience, it
> speeds
> > > up development and reduces number of errors.
> >
> > Sure (modulo taking the points I made above into account).
> >
> > > I propose the notation called TreeDL to describe tree-like
structures,
> > > open-source tool that checks consistence of tree description and
> > > translates tree description to a set of classes (now in Java, C#
will
> be
> > > added in near future). The TreeDL tool also can generate HTML
> > > cross-referenced version of tree description to be used as
> documentation.
> > > Tree nodes can be decorated by dynamic attributes to store
additional
> > > information.  There is powerful template engine to generate code
from
> > > tree.  Also there is framework for rapid tool development -
library
> for
> > > error reporting, functionality extention by plugins - TreeDL tool
> itself
> > > uses tree description in TreeDL, mentioned template engine and
> framework,
> > > so source code can be used as an example.
> >
> > So, are you saying that TreeDL is e.g., a replacement for Antlr tree
> > handling?  Basically, what's the real point of TreeDL?  I.e., what
> doesn't
> > Antlr's tree handling do that you want?
> 
> As far as I know, in ANTLR there is no way to sepatate tree definition
> from parser.
> It is harder for developers of tree processing than if they have clear
and
> full description of tree structure.
> 
> So, the main point of TreeDL is to provide the notation for
specification
> of tree structure.
> For example, most of our developers are not familiar with ANTLR and
they
> can't understand
> a structure of tree that ANTLR builds - it is required to read all
parser
> definition.
> But it is unnesesary, because the only thing they should know - what
kinds
> of nodes are used,
> what children and attributes are defined for each node.
> 
> Moreover, TreeDL tree can be constructed even without parser. In one
of
> our projects
> we build TreeDL tree from GUI and use the same codegeneration library.
> May be I am "tree fan" as Terence is "grammar fan" :)
> As my colleague speaks: "Not because I have no other ideas, but
because
> this is the one I like most".
> (Hm, not very easy to translate to English...)
> 
> > > Additional docs and downloads are at http://treedl.sourceforge.net
> > > Example tree description
> > >
>
http://treedl.sourceforge.net/treedl/treedl/com/unitesk/atp/treedl/TreeD
L.
> tdl-xref/index.html
> > > TreeDL BNF grammar
> > > http://treedl.sourceforge.net/treedl/bnf/TreeDL.bnf/index.html
> > > TreeDL language description
> http://treedl.sourceforge.net/treedl/treedl_en.html
> > > TreeDL tool description
> > > http://treedl.sourceforge.net/treedl/treedl_tool_en.html
> > > Template engine usage example
> > >
>
http://treedl.sourceforge.net/treedl/xref/com/unitesk/atp/treedl/JavaNod
eG
> enerator.html
> >
> > Am I reading the docs correctly... Are you really using the visitor
> pattern
> > rather than generating a recursive descent parser?
> 
> TreeDL notation itself doesn't define what is generated from tree
> description. TreeDL tool provides
> default implementation but it is easy to modify translation scheme, to
> change what should be generated or
> generate additional information you need.
> 
> Historically codegeneration library use visitor pattern, but it is not
> required for all TreeDL users to use it also.
> It is not clear for me, what task requires recursive descent parser?
Do
> you mean tree walker?
> (Plugin that generate tree walker can be written in several hours.)
> TreeDL tool doesn't do ANTLR job - ANTLR is used for parsing. Actions
that
> create TreeDL tree nodes
> should be inserted in ANTLR parser rules. Of course, this code is
longer
> than the use of ANTLR tree building,
> but easy to write, understand and maintain (You see, there are rather
many
> questions in this list about problems
> with ANTLR tree building). And tree description guarantees that
correct
> tree will be built - node constructor checks
> that all required children and attributes are provided, and additional
> checks of its values can be defined.
> 
> I plan to write small examples on how to write formal text processing
tool
> using ANTLR and TreeDL,
> are members of this list interested to read them?
> 
> Another tool that we've developed is caled BNF tool. It takes grammar
in
> BNF form, check correctness
> (well, it is simple - all used rules should be defined and reachable
from
> start rule) and generates positive/negative tests,
> i.e. sentences that a priory satisfy/unsatisfy grammar. Test can be
> generated from any context-free grammar definition.
> It is useful when source grammar should be adapted to be suitable for
> ANTLR - we need some checking that
> source and modified grammars are describing the same language.
> 
> Also HTML version of grammar with cross-references can be generated.
This
> is example:
> http://treedl.sourceforge.net/treedl/bnf/TreeDL.bnf/index.html
> 
> Now BNF tool is not public available, but in the future it is
possible.
> 
> Thanks,
> Alexey
> -----
> TreeDL: Tree Description Language: http://treedl.sourceforge.net
> RedVerst Group: http://www.unitesk.com
> 
> 
> 
> 
> 
> Yahoo! Groups Links
> 
> 
> 
> 
> 
> 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Mon Oct 18 14:05:03 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Off topic:Type handling
In-Reply-To: <41741F65.1090301@yahoo.gr>
References: <200410181028205.SM00276@ANDREWD> <41741F65.1090301@yahoo.gr>
Message-ID: <619FC40A-2149-11D9-B601-000393B5606C@codetransform.com>


>
> Generally is not possible to determine the type of the variable.
> There is no why to be always capable of finding the type.
> In many cases however it is possible.
>
> I hope someone has faced a similar problem and can make some 
> suggestions on
> how to solve the problem.
>

I derived types for AREV BASIC by doing a simple data flow analysis.  I 
created a table of variables to their assignments.  Then I would 
recursively walk the assignments for a particular variable through any 
intermediate variables to see if I could tell that all of the original 
sources were strings or numbers.  Had to watch out for cycles.

In practice it worked pretty well, though AREV was annoying enough to 
turn strings into numbers for you automatically so I had to analyze the 
contents of strings as well.

I also took note of the operators used in assignments to a variable to 
deduce if it was a number or string.

Monty



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From sunshine at public.kherson.ua  Mon Oct 18 23:40:27 2004
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] SOLVED Creation of Lexer and Parser in the loop? Bad idea
In-Reply-To: <BD99767D.261E9%sunshine@public.kherson.ua>
Message-ID: <BD9A918B.262AE%sunshine@public.kherson.ua>


On 10/18/04 1:32 PM, "Ruslan Zasukhin" <sunshine@public.kherson.ua> wrote:

Hi All,

This task is solved, thanks to everybody who have help.


> Hi All,
> 
> I have note that we must write such code in C++
> 
> Foo( string SqlQuery )
> {
>   istringstream inp( SqlQuery.c_str() );
> 
> 
>   Lexer lex( inp );
>   Parser parser(lex);
> 
>   ..............
> }
> 
> 
> But if we look into constructor of Lexer we have
> 
> VSQL_Lexer::VSQL_Lexer(std::istream& in)
>   : antlr::CharScanner(new antlr::CharBuffer(in),false)
> {
>   initLiterals();
> }
> 
> void VSQL_Lexer::initLiterals()
> {
>   literals["words"] = 218;
>   literals["local"] = 212;
>   literals["blob"] = 111;
>   literals["byte"] = 89;
>   literals["action"] = 227;
>   literals["nullif"] = 144;
>   ..............
> }
> 
> 
> ---------------------------------------------
> I hope it is easy to see that Lexer must built the map for N elements.
> For big grammar this is few hundreds of items.
> 
> Guys, this is terrible!
> 
> For example, if I will do in the loop 100,000 or million SQL commands
>   INSERT INTO ...
> 
> Then I will need million times create/destroy objects of lexer and parer,
> And what is the worst I need million (!!!!!!) times create and fill THE SAME
> std::map. I believe this is just silly.
> 
> And I do not see that ANTLR can allow me create Lexer/Parser only once,
> And reuse them for different texts many times.
> Or I have miss something ?
> 
> 
> I am sure that this DESIGN MISTAKE must be fixed in the ANTLR.
> 
> Any comments? 
> Or advices how to reuse Lexer/Parser in huge loops?
> 
> And this is NOT theoretical tasks. SQL Server can get such loops very often.
> 

-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From sunshine at public.kherson.ua  Mon Oct 18 23:47:08 2004
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] C++, Rick, Not optimal Lexer's code.
Message-ID: <BD9A931C.262B5%sunshine@public.kherson.ua>

Hi All,
Hi Rick,

I think I see not optimal code in the nexttoken.
It looks in this way:


antlr::RefToken VSQL_Lexer::nextToken()
{
    antlr::RefToken theRetToken;
    for (;;) {
        antlr::RefToken theRetToken;
        int _ttype = antlr::Token::INVALID_TYPE;
        resetText();
        try {   // for lexical and char stream error handling

            switch ( LA(1)) {   <<<<<<<<<<<<<<<<<<< this is good.

            case static_cast<unsigned char>('('):
            {
                mLPAREN(true);
                theRetToken=_returnToken;
                break;
            }
            default:

                else if ((LA(1) == static_cast<unsigned char>('-')) &&
(LA(2) == static_cast<unsigned char>('>'))) {
                    mPTR(true);
                    theRetToken=_returnToken;
                }
                else if ((LA(1) == static_cast<unsigned char>('<')) &&
(LA(2) == static_cast<unsigned char>('>'))) {
                    mNE(true);
                    theRetToken=_returnToken;
                }
                else if ((LA(1) == static_cast<unsigned char>('>')) &&
(LA(2) == static_cast<unsigned char>('='))) {
                    mGE(true);
                    theRetToken=_returnToken;
                }
                else if ((LA(1) == static_cast<unsigned char>('<')) &&
(LA(2) == static_cast<unsigned char>('='))) {
                    mLE(true);
                    theRetToken=_returnToken;
                }
            }

-----------------------------------------------------------------

I think that in default clause we also must use switch

            default:

                switch( LA(1) ){

                case static_cast<unsigned char>('-')):{
                        if (LA(2) == static_cast<unsigned char>('>'))) {
                            mPTR(true);
                            theRetToken=_returnToken;
                        }
                }
                case static_cast<unsigned char>('<')) {
                        if(LA(2) == static_cast<unsigned char>('>'))) {
                           mNE(true);
                            theRetToken=_returnToken;
                        }
                }
 

In this way code become more natural and clean.
But the main is that we now call LA(1) only ONCE instead of 30-40 times (in
my case).

What you think Rick?
What others think ?


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20041019/f579d7e7/attachment.html
From virtualaspirin at yahoo.com  Tue Oct 19 06:20:14 2004
From: virtualaspirin at yahoo.com (Akhilesh Mritunjai)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] SOLVED Creation of Lexer and Parser in the loop? Bad idea
In-Reply-To: <BD9A918B.262AE%sunshine@public.kherson.ua>
Message-ID: <20041019132014.63897.qmail@web54704.mail.yahoo.com>


Ruslan

Can you please share with us how you solved the issue
?

Thanks
- Akhilesh

--- Ruslan Zasukhin <sunshine@public.kherson.ua>
wrote:
> 
> On 10/18/04 1:32 PM, "Ruslan Zasukhin"
> <sunshine@public.kherson.ua> wrote:
> 
> Hi All,
> 
> This task is solved, thanks to everybody who have
> help.
> 
> 
> > Hi All,
> > 
> > I hope it is easy to see that Lexer must built the
> map for N elements.
> > For big grammar this is few hundreds of items.
> > 
> > Guys, this is terrible!



		
_______________________________
Do you Yahoo!?
Declare Yourself - Register online to vote today!
http://vote.yahoo.com


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-PgRrJ9Nv2zfTF=zsSGOF4fQ at yahoogroups.com  Tue Oct 19 08:42:16 2004
From: antlr-interest-accept-PgRrJ9Nv2zfTF=zsSGOF4fQ at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:23 2004
Subject: MODERATE -- ioffe_nick@yahoo.com posted to antlr-interest
Message-ID: <1098200536.321.78264.m11@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  ioffe_nick@yahoo.com 

The message summary:
--------------------
FROM: ioffe_nick@yahoo.com 
DATE: Tue, 19 Oct 2004 15:41:18 -0000 
SUBJECT: some (maybe stupid) questions on aquiring expected tokens. 

Hi! I've some language with good LL(1) grammar. 1. I need to
develop an interactive interface for "stupid" user. It means
the interface has to incorporate hiding options (tokens) 
which are impossible to enter after some sequence of tokens.

2. Also the interface has to incorporate options to "remove 
last word" i.e. going back and reenter some input. 

As for problem 1 - I don't quite understand how should I use
FIRST and FOLLOW in my case since because of 2 reasons: 1. I
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=342 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-PgRrJ9Nv2zfTF=zsSGOF4fQ@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "ioffe_nick" <ioffe_nick@yahoo.com>
Subject: some (maybe stupid) questions on aquiring expected tokens.
Date: Tue, 19 Oct 2004 15:41:18 -0000
Size: 2364
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041019/ecb937d2/attachment.mht
From ioffe_nick at yahoo.com  Tue Oct 19 08:41:18 2004
From: ioffe_nick at yahoo.com (ioffe_nick)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] some (maybe stupid) questions on aquiring expected tokens.
Message-ID: <cl3ciu+4m78@eGroups.com>




Hi!
I've some language with good LL(1) grammar.
1. I need to develop an interactive interface for "stupid" user.
   It means the interface has to incorporate hiding options (tokens)
   which are impossible to enter after some sequence of tokens.
2. Also the interface has to incorporate options to "remove last word"
   i.e. going back and reenter some input.

As for problem 1 - I don't quite understand how should I use FIRST and
FOLLOW in my case since because of 2 reasons:
1. I have to provide lookahead token before production is made, so I
   have no alternatives for the LA (am I correct)
2. assume we have r1 -> X r2 Y and some more rules using the r2.
   after going to r1 and making r2 production my exected is FIRST(Y)
   which is subset of FOLLOW(r2).
   How can I know it before getting back to r1 from r2?

Problem 2:
I understand that backtracking here is bad idea because of actions which
have to be either undone or abandoned.
Is reparsing the whole sequence the only option?
Maybe <wordback> should be special unhandled token which will cause
an expception? But how then can I get back to the correct state?

Thank you in advance,

Nick








 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From silke7772003 at yahoo.de  Tue Oct 19 09:51:24 2004
From: silke7772003 at yahoo.de (silke7772003)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Alternative code generation
Message-ID: <cl3gmc+5o3g@eGroups.com>



Hi all,

What would it require to add another code generator to ANTLR? Say, 
if I want to generate Delphi code, what steps are necessary? Is 
there any document about this matter?

Thank you.





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From Jean-Claude.Durand at imag.fr  Tue Oct 19 11:39:25 2004
From: Jean-Claude.Durand at imag.fr (jcdur)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] errors with extended 8bit ascii chars
Message-ID: <cl3n0t+r8bp@eGroups.com>



   In French we need extended ascii chars such as ?, ?, ?,
etc.

   When I use some of this chars in rules or even in comments, 
I get an error like the following:

java antlr.Tool  DecvarAS.g
ANTLR Parser Generator   Version 2.7.4   1989-2004 jGuru.com
error: Token stream error reading grammar(s):
DecvarAS.g:12:12: expecting '*', found ' '
TokenStreamException: expecting '*', found ' '

with '?' or '?', but not with '?' or '?' !!!

   I know that in rules I can use \340 for ?; but I need to use the
true chars in comments !
   I would like to understand what is wrong. ANTLR seems to accepts
all
printable ascii codes: in antlr.g and in preprocessor/preproc.g there
is the option
 "charVocabulary = '\3'..'\377';". 

Can somebody help me ? Thanks a lot,
Jean-Claude.





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Tue Oct 19 12:29:28 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] DFA's encoded directly in java bytecodes
Message-ID: <319B4B27-2205-11D9-BCB0-000A95891192@cs.usfca.edu>


Howdy,

For the Java target of ANTLR 3.0, I've been concerned about the hideous 
nature of the code generated for DFA machines.  Without a goto 
instruction in Java, you have to use a massive switch (slow as death) 
or use method calls (slow); plus you have to create like an object for 
each of thousands of states when the Lexer or Parser is loaded.  Ick.

Sriram Srinivasan at the ANTLR2004 workshop suggested generating byte 
code directly.  There is a goto bytecode of course. :)  The beauty of 
these suckers is that the CPU program counter will be used (once 
compiled to native code) to traverse the states of the DFA.  That will 
be insanely fast; about the same speed as the C DFAs Ric generates for 
3.0.

So, I will generate byte code assembly for the DFAs from the ANTLR code 
generator using StringTemplate so people can tweak the byte codes 
easily.  For example, you might want to inline some of the char fetch 
stuff.  That will haul ass!

The only problem was that I didn't want to use BCEL or Jasmin or any 
other package since it means ANTLR depends on those packages (i hate 
that).  So, I spent the weekend and yesterday building a .class file 
writer and then a byte code assembler.  Both are tiny as they are very 
specific to my needs (only handles like 50 bytecodes).  Nonetheless, 
900 total lines of code is nice. :)  An excellent price to pay to avoid 
other people's libraries.

Here is a sample (partial) state in my assembly code

     aload 0
     iconst 1
     invokeinterface IntegerStream.LA 2
     istore 1
     iload 1
     iconst 98
     if_icmplt x
     iload 1
     ireturn
x:
     iconst -1
     ireturn

I'm guessing that a minimal state will be about 20-ish bytes, allowing 
for a max of about 3000 states in any specific DFA.  Not a serious 
limitation probably.

I also hope to use this code in my CS652 grad prog lang class whenever 
I teach that again.  A nice real world problem.

Ter
PS	yes, the .class file format is pretty complicated, but not 
unreasonable given the problem
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From Jim.OConnor at microfocus.com  Tue Oct 19 12:56:39 2004
From: Jim.OConnor at microfocus.com (Jim O'Connor)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] DFA's encoded directly in java bytecodes
Message-ID: <3AC103F1B7EEEC48A855ACB1D2819E910329DF72@rock-corpmail.microfocus.com>


http://www.kimbly.com/code/

Public domain class file reading and writing ;)
Might be more fluff than you need but...

> -----Original Message-----
> From: Terence Parr [mailto:parrt@cs.usfca.edu]
> Sent: Tuesday, October 19, 2004 2:29 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] DFA's encoded directly in java bytecodes
> 
> 
> Howdy,
> 
> For the Java target of ANTLR 3.0, I've been concerned about the hideous
> nature of the code generated for DFA machines.  Without a goto
> instruction in Java, you have to use a massive switch (slow as death)
> or use method calls (slow); plus you have to create like an object for
> each of thousands of states when the Lexer or Parser is loaded.  Ick.
> 
> Sriram Srinivasan at the ANTLR2004 workshop suggested generating byte
> code directly.  There is a goto bytecode of course. :)  The beauty of
> these suckers is that the CPU program counter will be used (once
> compiled to native code) to traverse the states of the DFA.  That will
> be insanely fast; about the same speed as the C DFAs Ric generates for
> 3.0.
> 
> So, I will generate byte code assembly for the DFAs from the ANTLR code
> generator using StringTemplate so people can tweak the byte codes
> easily.  For example, you might want to inline some of the char fetch
> stuff.  That will haul ass!
> 
> The only problem was that I didn't want to use BCEL or Jasmin or any
> other package since it means ANTLR depends on those packages (i hate
> that).  So, I spent the weekend and yesterday building a .class file
> writer and then a byte code assembler.  Both are tiny as they are very
> specific to my needs (only handles like 50 bytecodes).  Nonetheless,
> 900 total lines of code is nice. :)  An excellent price to pay to avoid
> other people's libraries.
> 
> Here is a sample (partial) state in my assembly code
> 
>      aload 0
>      iconst 1
>      invokeinterface IntegerStream.LA 2
>      istore 1
>      iload 1
>      iconst 98
>      if_icmplt x
>      iload 1
>      ireturn
> x:
>      iconst -1
>      ireturn
> 
> I'm guessing that a minimal state will be about 20-ish bytes, allowing
> for a max of about 3000 states in any specific DFA.  Not a serious
> limitation probably.
> 
> I also hope to use this code in my CS652 grad prog lang class whenever
> I teach that again.  A nice real world problem.
> 
> Ter
> PS	yes, the .class file format is pretty complicated, but not
> unreasonable given the problem
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> 
> 
> 
> 
> 
> 
> Yahoo! Groups Links
> 
> 
> 
> 
> 
> 
> 
> 
> ________________________________________________________________________
> This e-mail has been scanned for viruses by MessageLabs. For further
> information visit http://www.messagelabs.com
> ________________________________________________________________________


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Tue Oct 19 13:13:41 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] DFA's encoded directly in java bytecodes
In-Reply-To: <3AC103F1B7EEEC48A855ACB1D2819E910329DF72@rock-corpmail.microfocus.com>
References: <3AC103F1B7EEEC48A855ACB1D2819E910329DF72@rock-corpmail.microfocus.com>
Message-ID: <5EC38496-220B-11D9-BCB0-000A95891192@cs.usfca.edu>



On Oct 19, 2004, at 12:56 PM, Jim O'Connor wrote:

>
> http://www.kimbly.com/code/
>
> Public domain class file reading and writing ;)
> Might be more fluff than you need but...

Thanks...looks nice.  I'm still worried about incorporated somebody 
else's code given the whole mess about SCO and linux; IBM asks me 
regularly for a list of every contribution to antlr over past 15 years 
with signatures... :(

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From Matthew.Ford at forward.com.au  Tue Oct 19 13:14:31 2004
From: Matthew.Ford at forward.com.au (matthew ford)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] DFA's encoded directly in java bytecodes
References: <319B4B27-2205-11D9-BCB0-000A95891192@cs.usfca.edu>
Message-ID: <000d01c4b618$3ec450e0$0400a8c0@NOTEBOOK>


What about debugging.
You always claimed Antlr's code was readable.  
This is worse the XML :-(
matthew

----- Original Message ----- 
From: "Terence Parr" <parrt@cs.usfca.edu>
To: <antlr-interest@yahoogroups.com>
Sent: Wednesday, October 20, 2004 5:29 AM
Subject: [antlr-interest] DFA's encoded directly in java bytecodes


> 
> Howdy,
> 
> For the Java target of ANTLR 3.0, I've been concerned about the hideous 
> nature of the code generated for DFA machines.  Without a goto 
> instruction in Java, you have to use a massive switch (slow as death) 
> or use method calls (slow); plus you have to create like an object for 
> each of thousands of states when the Lexer or Parser is loaded.  Ick.
> 
> Sriram Srinivasan at the ANTLR2004 workshop suggested generating byte 
> code directly.  There is a goto bytecode of course. :)  The beauty of 
> these suckers is that the CPU program counter will be used (once 
> compiled to native code) to traverse the states of the DFA.  That will 
> be insanely fast; about the same speed as the C DFAs Ric generates for 
> 3.0.
> 
> So, I will generate byte code assembly for the DFAs from the ANTLR code 
> generator using StringTemplate so people can tweak the byte codes 
> easily.  For example, you might want to inline some of the char fetch 
> stuff.  That will haul ass!
> 
> The only problem was that I didn't want to use BCEL or Jasmin or any 
> other package since it means ANTLR depends on those packages (i hate 
> that).  So, I spent the weekend and yesterday building a .class file 
> writer and then a byte code assembler.  Both are tiny as they are very 
> specific to my needs (only handles like 50 bytecodes).  Nonetheless, 
> 900 total lines of code is nice. :)  An excellent price to pay to avoid 
> other people's libraries.
> 
> Here is a sample (partial) state in my assembly code
> 
>      aload 0
>      iconst 1
>      invokeinterface IntegerStream.LA 2
>      istore 1
>      iload 1
>      iconst 98
>      if_icmplt x
>      iload 1
>      ireturn
> x:
>      iconst -1
>      ireturn
> 
> I'm guessing that a minimal state will be about 20-ish bytes, allowing 
> for a max of about 3000 states in any specific DFA.  Not a serious 
> limitation probably.
> 
> I also hope to use this code in my CS652 grad prog lang class whenever 
> I teach that again.  A nice real world problem.
> 
> Ter
> PS yes, the .class file format is pretty complicated, but not 
> unreasonable given the problem
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
> 
> 
> 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
> 
>  
> 
> 
> 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Tue Oct 19 13:31:45 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] DFA's encoded directly in java bytecodes
In-Reply-To: <000d01c4b618$3ec450e0$0400a8c0@NOTEBOOK>
References: <319B4B27-2205-11D9-BCB0-000A95891192@cs.usfca.edu> <000d01c4b618$3ec450e0$0400a8c0@NOTEBOOK>
Message-ID: <E536AD72-220D-11D9-BCB0-000A95891192@cs.usfca.edu>



On Oct 19, 2004, at 1:14 PM, matthew ford wrote:

>
> What about debugging.
> You always claimed Antlr's code was readable.
> This is worse the XML :-(

Ah.  Sorry to be unclear.  I still generate pure java source for the 
parsers and lexers, but the prediction decisions that require cyclic 
DFAs (the new LL(*) stuff) are generated in byte codes.  Believe me, 
you can't read the java source for DFAs either.  Only a graphviz 
diagram shows you what the DFA looks like, which I generate for you 
automatically.  Much better than code and is language independent. :)  
Have no fear, you won't even notice the DFAs...

Make sense?

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From marcin-rzeznicki at wp.pl  Tue Oct 19 14:54:11 2004
From: marcin-rzeznicki at wp.pl (=?ISO-8859-2?Q?Marcin_Rze=BCnicki?=)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Problem with AST
Message-ID: <41758D03.6030409@wp.pl>


Hello
I am trying to write parser for logical expressions with some
extensions. I started with standard logical expressions grammar which I
will not present here for it is obvious. Next I eliminated left
recursion and performed left factorization in order to squirt it into
LL(1) class, which resulted in following grammar:
logexp          :   andexp logexp_part;
logexp_part     :   OR andexp logexp_part       |
                 ;
andexp          :   notexp andexp_part;
andexp_part     :   AND notexp andexp_part      |
                 ;
notexp          :   NOT relexp                  |
                     relexp;
relexp          :   primitive relexp_factor;
relexp_factor   :   REL_OP relexp               |
                 ;
primitive       :   VAR_ID                      |
                     PROB LPAREN NUMBER RPAREN   |
                     LPAREN logexp RPAREN        |
                     GET LPAREN NUMBER VAR_ID (COMMA VAR_ID)* RPAREN;

(VAR_ID are variable identifiers, PROB and GET are some special
functions which need not be delved into here, LPAREn and RPAREN are left
and right parentheses, REL_OP is < or <= and so on, others are standard
logical operators)

So far so good. Nex I would like to build AST expressing parsed logical
expression, and here lies my problem. 'Primitive' production is fairly
easy to tranform into AST, yet 'complex' productions are little obscure
to me. Take relexp and relexp_factor: what I would like to achieve is to
make AST that: if relexp_factor is not epsilon-production(null-string
production) then subtree resulting from that expression part should be:
#(REL_OP primitive "part of relexp_factor tree without operator node"),
otherwise I would like it to be just #primitive. Considering for example
'andexp' production: if andexp_aprt is not epsilon-production then
resutling tree should be #(AND notexp "andexp_part without AND node"),
otherwise just #notexp. And so on. How this coulbe be achieved? Thank
you in advance
--
Greetings
Marcin Rze?nicki







 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ewbank at synopsys.com  Wed Oct 20 02:04:39 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] just one tokentypes file
In-Reply-To: <cl12r7+f4di@eGroups.com>
Message-ID: <ODEDLGHNIFGKLNIHIHLLEEIGCPAA.ewbank@synopsys.com>


Wolfgang asked how to limit the number of vocabulary files generated....
> I'm bit playing around with (export|import)Vocab and this raised a
> question:
> ...

You can have one tokentypes file by using only "importVocab" option; I do
this, and just ignore the extra generated export vocab files.  I don't think
there's a way to prevent generation of the export vocabulary in any case.

I have a single tokentypes file (hand written, follows with *.txt format)
saved in our revision system that I use for all my parsers, which means
there is only one place where you can add new tokens.  It has made
development much easier.

In particular, it makes regression testing much easier because the token
types are unchanged as I add more tokens to the end of the file (the new
results and old results therefore match when the same trees are produced).

Having a separate tokens file allows me to sort the token file once in a
while (renumbering everything) to keep myself sane; it also gives me a
simple place to start when I add another tree parser to my pipeline.




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ewbank at synopsys.com  Wed Oct 20 02:04:38 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Problem with AST
In-Reply-To: <41758D03.6030409@wp.pl>
Message-ID: <ODEDLGHNIFGKLNIHIHLLCEIGCPAA.ewbank@synopsys.com>


Yes, you can do what you are asking - the syntax I use is a bit different,
but accomplishes
the same results...

For example, you use this:
> andexp          :   notexp andexp_part;
> andexp_part     :   AND notexp andexp_part      |
>                  ;

It is more concise, in ANTLR, to use this instead:

	andexp	: notexp ( AND^ notexp)* ;
		// andexp is notexpr followed by zero or more sequences of AND notexpr

Here, the "^" after the AND means "make AND the root of the tree so far",
but only
if an AND is seen.  The "( .. )*" means "zero or more times", which
accomplishes
the same thing as your <andexp_part> production.

Therefore, the extra node is added only when it is required, otherwise the
tree produced by <notexp> is forwarded unchanged, as per your requirements.

> Considering for example
> 'andexp' production: if andexp_aprt is not epsilon-production then
> resutling tree should be #(AND notexp "andexp_part without AND node"),
> otherwise just #notexp. And so on. How this coulbe be achieved? Thank
> you in advance
> --
> Greetings
> Marcin Rze?nicki



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ewbank at synopsys.com  Wed Oct 20 02:04:36 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Problem with ASTLabelType option and getAST method (C++)
In-Reply-To: <20041014134507.GB2080@cs.utwente.nl>
Message-ID: <ODEDLGHNIFGKLNIHIHLLAEIGCPAA.ewbank@synopsys.com>


Hi Folks,

Found what I think is a bug in C++ code generation... Given the following:

	class MyParser extends Parser;
	options { buildAST=true; ASTLabelType="RefTreeNode"; }
	...

The generated method MyParser::getAST() has the wrong type - it ends
up as antlr::BaseAST, rather than using the type provided by the user
in the ASTLabelType option.

I ended up coding around this by adding a getMyAST() method...

- Bryan Ewbank


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From Anthony.Youngman at ECA-International.com  Wed Oct 20 02:26:00 2004
From: Anthony.Youngman at ECA-International.com (Anthony Youngman)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] DFA's encoded directly in java bytecodes
Message-ID: <C7FE35004D40FD45AA342991B88CE40409B043@lnml1.eca-international.local>


If you actually *follow* that case at Groklaw, IBM aren't being sued for
using someone else's code, they are being sued for giving their *own*
code away. And it is *demonstrably* their own code.

If SCOG v IBM worries you that much, you'd better jack in programming
entirely and become a plumber :-)

(Talk about a meritless lawsuit - 18 months in and still nobody has a
clue as to what the substantive allegations are ... AND I THINK THAT
INCLUDES SCOG!)

Cheers,
Wol 

-----Original Message-----
From: Terence Parr [mailto:parrt@cs.usfca.edu] 
Sent: 19 October 2004 21:14
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] DFA's encoded directly in java bytecodes



On Oct 19, 2004, at 12:56 PM, Jim O'Connor wrote:

>
> http://www.kimbly.com/code/
>
> Public domain class file reading and writing ;)
> Might be more fluff than you need but...

Thanks...looks nice.  I'm still worried about incorporated somebody 
else's code given the whole mess about SCO and linux; IBM asks me 
regularly for a list of every contribution to antlr over past 15 years 
with signatures... :(

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links



 





****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ioffe_nick at yahoo.com  Wed Oct 20 03:12:27 2004
From: ioffe_nick at yahoo.com (ioffe_nick)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Re: some (maybe stupid) questions on aquiring expected tokens.
In-Reply-To: <cl3ciu+4m78@eGroups.com>
Message-ID: <cl5dmb+etqe@eGroups.com>



--- In antlr-interest@yahoogroups.com, "ioffe_nick" <ioffe_nick@y...> 
wrote:
> 
> 
> Hi!
> I've some language with good LL(1) grammar.
> 1. I need to develop an interactive interface for "stupid" user.
>    It means the interface has to incorporate hiding options (tokens)
>    which are impossible to enter after some sequence of tokens.
> 2. Also the interface has to incorporate options to "remove last 
word"
>    i.e. going back and reenter some input.
> 
> As for problem 1 - I don't quite understand how should I use FIRST 
and
> FOLLOW in my case since because of 2 reasons:
> 1. I have to provide lookahead token before production is made, so I
>    have no alternatives for the LA (am I correct)
> 2. assume we have r1 -> X r2 Y and some more rules using the r2.
>    after going to r1 and making r2 production my exected is FIRST(Y)
>    which is subset of FOLLOW(r2).
>    How can I know it before getting back to r1 from r2?
> 

Regarding problem 1 I think I've solved the problem using $FIRST and
stack:

s -> {push(FIRST(b), expect = FIRST(a)}
     a {pop(), push(FIRST(c), expect = FIRST(b)}
     b {pop(), push(EOF), expect = FIRST(c)}
     c

a -> {expect = FIRST(a)}
     X {expect = FIRST(c) or top()}
    (c)*

and so on.

It seems to work good for k=1, but for k=2 it doesn't work, since
FIRST set is set of 1-length sequences of tokens.

As I understand from the group antlr 3.0 is going to be table based
and thus will provide some way to calculate the expect set.

When will it be released?

As for problem 2 - I'm still looking for advice.

> Problem 2:
> I understand that backtracking here is bad idea because of actions 
which
> have to be either undone or abandoned.
> Is reparsing the whole sequence the only option?
> Maybe <wordback> should be special unhandled token which will cause
> an expception? But how then can I get back to the correct state?
> 
> Thank you in advance,
> 
> Nick

Sincerely,

Nick





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-vd0blAtWtI5f1jgDZPERYeM at yahoogroups.com  Wed Oct 20 08:43:08 2004
From: antlr-interest-accept-vd0blAtWtI5f1jgDZPERYeM at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:23 2004
Subject: MODERATE -- garyssidhu@yahoo.com posted to antlr-interest
Message-ID: <1098286988.368.10892.m22@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  garyssidhu@yahoo.com 

The message summary:
--------------------
FROM: garyssidhu@yahoo.com 
DATE: Wed, 20 Oct 2004 15:42:48 -0000 
SUBJECT: Problem with Running StringTemplate 

Guys, I am trying to an example of StringTemplate. I have 
antlr.jar and stringtemplate.jar in my classpath. When I am 
trying to run following code try { 
System.err.println("\nProcessing ..."); StringTemplateGroup 
group = new StringTemplateGroup ("1", "st"); StringTemplate 
table = group.getInstanceOf(templatefile); 

I am getting Exception in thread "main" 
java.lang.NoSuchFieldError: tokenTypeToASTClassMap at 
org.antlr.stringtemplate.language.ActionParser.buildTokenTyp
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=343 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-vd0blAtWtI5f1jgDZPERYeM@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "garyssidhu" <garyssidhu@yahoo.com>
Subject: Problem with Running StringTemplate
Date: Wed, 20 Oct 2004 15:42:48 -0000
Size: 2983
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041020/4617e78f/attachment.mht
From parrt at cs.usfca.edu  Wed Oct 20 08:39:05 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Re: some (maybe stupid) questions on aquiring expected tokens.
In-Reply-To: <cl5dmb+etqe@eGroups.com>
References: <cl5dmb+etqe@eGroups.com>
Message-ID: <2CF06C75-22AE-11D9-B644-000393BB647E@cs.usfca.edu>



On Oct 20, 2004, at 3:12 AM, ioffe_nick wrote:
> As I understand from the group antlr 3.0 is going to be table based
> and thus will provide some way to calculate the expect set.

Ack.  Just to be clear: no tables.  For a few of the decisions, I will 
need to generate cyclic DFAs so will generate bytecodes in Java; C 
targets etc... will continue to use normal code.

> When will it be released?

3.0 is a long way off...probably end next summer.

Ter





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From johnm-antlr at non.net  Wed Oct 20 09:05:41 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] DFA's encoded directly in java bytecodes
In-Reply-To: <C7FE35004D40FD45AA342991B88CE40409B043@lnml1.eca-international.local>
References: <C7FE35004D40FD45AA342991B88CE40409B043@lnml1.eca-international.local>
Message-ID: <16758.36053.735602.454541@despot.non.net>


>>>>> "Anthony" == Anthony Youngman <Anthony.Youngman@ECA-International.com> writes:
[...]

> If SCOG v IBM worries you that much, you'd better jack in programming
> entirely and become a plumber :-)

The issue is that more and more companies, like IBM, are demanding
provenance.

Take care,
	John


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From johnm-antlr at non.net  Wed Oct 20 09:13:30 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Re: some (maybe stupid) questions on aquiring expected tokens.
In-Reply-To: <cl5dmb+etqe@eGroups.com>
References: <cl3ciu+4m78@eGroups.com>
	<cl5dmb+etqe@eGroups.com>
Message-ID: <16758.36522.901173.296372@despot.non.net>


>>>>> "ioffe" == ioffe nick <ioffe_nick@yahoo.com> writes:
[...]

> As I understand from the group antlr 3.0 is going to be table based

Nope, not a chance in hell of that happening.  :-)

> and thus will provide some way to calculate the expect set.

That sort of information will definitely be made available.  After
predicate hoisting, "error handling" has been my biggest carping.

Check out the summary notes from the recent Antlr workshop:
http://www.antlr.org/workshop/ANTLR2004/summary.tml

Take care,
	John


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From garyssidhu at yahoo.com  Wed Oct 20 08:42:48 2004
From: garyssidhu at yahoo.com (garyssidhu)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Problem with Running StringTemplate
Message-ID: <cl611o+edhs@eGroups.com>




Guys, I am trying to an example of StringTemplate. I have antlr.jar 
and stringtemplate.jar in my classpath. When I am trying to run 
following code
 try {
            System.err.println("\nProcessing ...");
            StringTemplateGroup group = new StringTemplateGroup
("1", "st");
            StringTemplate table = group.getInstanceOf(templatefile);

I am getting 
Exception in thread "main" java.lang.NoSuchFieldError: 
tokenTypeToASTClassMap
	at 
org.antlr.stringtemplate.language.ActionParser.buildTokenTypeASTClassM
ap(ActionParser.java:970)
	at org.antlr.stringtemplate.language.ActionParser.<init>
(ActionParser.java:78)
	at org.antlr.stringtemplate.language.ActionParser.<init>
(ActionParser.java:60)
	at org.antlr.stringtemplate.StringTemplate.parseAction
(StringTemplate.java:721)
	at org.antlr.stringtemplate.language.TemplateParser.action
(TemplateParser.java:131)
	at org.antlr.stringtemplate.language.TemplateParser.template
(TemplateParser.java:98)
	at 
org.antlr.stringtemplate.StringTemplate.breakTemplateIntoChunks
(StringTemplate.java:703)
	at org.antlr.stringtemplate.StringTemplate.setTemplate
(StringTemplate.java:393)
	at org.antlr.stringtemplate.StringTemplateGroup.defineTemplate
(StringTemplateGroup.java:414)
	at org.antlr.stringtemplate.StringTemplateGroup.loadTemplate
(StringTemplateGroup.java:317)
	at org.antlr.stringtemplate.StringTemplateGroup.loadTemplate
(StringTemplateGroup.java:387)
	at 
org.antlr.stringtemplate.StringTemplateGroup.loadTemplateFromBeneathRo
otDirOrCLASSPATH(StringTemplateGroup.java:356)
	at org.antlr.stringtemplate.StringTemplateGroup.lookupTemplate
(StringTemplateGroup.java:258)
	at org.antlr.stringtemplate.StringTemplateGroup.getInstanceOf
(StringTemplateGroup.java:216)
	at Dump.main(Dump.java:24)


Am I missing any thing?
Gary








 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ioffe_nick at yahoo.com  Wed Oct 20 12:03:21 2004
From: ioffe_nick at yahoo.com (ioffe_nick)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Re: some (maybe stupid) questions on aquiring expected tokens.
In-Reply-To: <16758.36522.901173.296372@despot.non.net>
Message-ID: <cl6cpp+rrds@eGroups.com>



--- In antlr-interest@yahoogroups.com, "John D. Mitchell" <johnm-
antlr@n...> wrote:
> >>>>> "ioffe" == ioffe nick <ioffe_nick@y...> writes:
> [...]
> 
> > As I understand from the group antlr 3.0 is going to be table 
based
> 
> Nope, not a chance in hell of that happening.  :-)
Ok.

> 
> > and thus will provide some way to calculate the expect set.
> 
> That sort of information will definitely be made available.  After
> predicate hoisting, "error handling" has been my biggest carping.
> 
> Check out the summary notes from the recent Antlr workshop:
> http://www.antlr.org/workshop/ANTLR2004/summary.tml
> 
> Take care,
> 	John

Well, after going through the summary I haven't found any mentioning
of expected set (or maybe I don't know the correct name:-()

The only thing I've seen was better information in error handling,
but I need the expected set not for error handling but for providing
the user the list of valid possibilities.

In current ANTLR version I've found the way of doing it manually - 
using stack of $FIRSTs and using epsilon-impossible attribute for each
rule. But all of this works only for lookahead of 1.
In case of lookahead of n $FIRST should contain token n-tuples.
And it is semi-automatic and error-prone, since I have no way to know
in runtime whether the non-terminal may finish as epsilon-production.


That's why I think tables are good for this purpose.

I agree that for general parsing tables are horrible since you may
spend days to discover the context causing the problem.

Anyway, thank you for discussion

Nick






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-vhCGjVcE0P2vU9HjqxWkFlM at yahoogroups.com  Wed Oct 20 12:11:21 2004
From: antlr-interest-accept-vhCGjVcE0P2vU9HjqxWkFlM at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:23 2004
Subject: MODERATE -- carsten.zerbst@groy-groy.de posted to antlr-interest
Message-ID: <1098299481.323.18725.m21@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  carsten.zerbst@groy-groy.de 

The message summary:
--------------------
FROM: carsten.zerbst@groy-groy.de 
DATE: Wed, 20 Oct 2004 19:11:18 -0000 
SUBJECT: unexpected token: 

Hello, 

I'd like to simple, but nested list like {{0 1 2}{3 4 5}{6 7
8}} into nested java list. 

The main work is done something like this in the lexer 
OPENBRACE: ('{') { // add a new list to the stack to be 
filled by later // Integer, Real, Boolean and Null calls 
List currentList = new ArrayList(); stack.push( currentList 
); } ; CLOSEBRACE: ('}') { // add the contents of the 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=344 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-vhCGjVcE0P2vU9HjqxWkFlM@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "skfcz" <carsten.zerbst@groy-groy.de>
Subject: unexpected token:
Date: Wed, 20 Oct 2004 19:11:18 -0000
Size: 2471
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041020/a01e3a55/attachment.mht
From johnm-antlr at non.net  Wed Oct 20 12:13:17 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Re: some (maybe stupid) questions on aquiring expected tokens.
In-Reply-To: <cl6cpp+rrds@eGroups.com>
References: <16758.36522.901173.296372@despot.non.net>
	<cl6cpp+rrds@eGroups.com>
Message-ID: <16758.47309.717304.368601@despot.non.net>


>>>>> "ioffe" == ioffe nick <ioffe_nick@yahoo.com> writes:
[...]

> The only thing I've seen was better information in error handling, but I
> need the expected set not for error handling but for providing the user
> the list of valid possibilities.

There's discussion about this stuff under the "GUI" section.  Hopefully,
Ter will have some time in the near future to flesh out the notes.

Anyways, a lot of support for helping grammar writers is on the to do list.

Take care,
	John


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From carsten.zerbst at groy-groy.de  Wed Oct 20 12:11:18 2004
From: carsten.zerbst at groy-groy.de (skfcz)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] unexpected token:
Message-ID: <cl6d8m+spnv@eGroups.com>




Hello,

I'd like to simple, but nested list like
 {{0 1 2}{3 4 5}{6 7 8}} into nested java list.

The main work is done something like this in the lexer
OPENBRACE: ('{')
     {	
	// add a new list to the stack to be filled by later
	// Integer, Real, Boolean and Null calls
	List currentList = new ArrayList();
	stack.push( currentList );
	} ;
CLOSEBRACE: ('}')
     {
       // add the contents of the current list to the previous one
       // in case stack.size() > 1
       if ( stack.size() > 1 ) {
	 Object currentList = stack.pop();
	 List previousList = (List) stack.peek();
	 previousList.add( currentList );
       }
     } ;

and works pretty well. The parser looks like this:

simpleList : 
	OPENBRACE ( INTEGER | REAL | BOOLEAN | NULL | SPACE )+ CLOSEBRACE
        {
	  //InlineList.parserLog.info("found simpleList " );
 	} ;	
nestedList :
 	OPENBRACE ( simpleList | SPACE )+ CLOSEBRACE
        {
	  InlineList.parserLog.info("found nestedList " );
 	} ;		

inlineList :
 	( nestedList | simpleList )+ 
         {
	   //InlineList.parserLog.debug("found inlineList " );
	 } ;	

Everything works as expected, but I get an additional warning
line 1:2: unexpected token: 0 
parsing the strings, in this case {0 1 2 3 null}.

How could I get rid off this warning ?

Thanks, Carsten











 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From marcin-rzeznicki at wp.pl  Wed Oct 20 12:46:00 2004
From: marcin-rzeznicki at wp.pl (=?ISO-8859-2?Q?Marcin_Rze=BCnicki?=)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Problem with AST
In-Reply-To: <ODEDLGHNIFGKLNIHIHLLCEIGCPAA.ewbank@synopsys.com>
References: <ODEDLGHNIFGKLNIHIHLLCEIGCPAA.ewbank@synopsys.com>
Message-ID: <4176C078.2090002@wp.pl>


Bryan Ewbank wrote:
> Yes, you can do what you are asking - the syntax I use is a bit different,
> but accomplishes
> the same results...
> 
> For example, you use this:
> 
>>andexp          :   notexp andexp_part;
>>andexp_part     :   AND notexp andexp_part      |
>>                 ;
> 
> 
> It is more concise, in ANTLR, to use this instead:
> 
> 	andexp	: notexp ( AND^ notexp)* ;
> 		// andexp is notexpr followed by zero or more sequences of AND notexpr
> 
> Here, the "^" after the AND means "make AND the root of the tree so far",
> but only
> if an AND is seen.  The "( .. )*" means "zero or more times", which
> accomplishes
> the same thing as your <andexp_part> production.
> 
> Therefore, the extra node is added only when it is required, otherwise the
> tree produced by <notexp> is forwarded unchanged, as per your requirements.

Thank you very much, it seems that your grammar generates exactly the 
same language as mine, in fact I was not aware that you can use "regular 
expression" syntax in parser grammars. It seems to be very useful 
because it helps to eliminate problematic null productions. I will try 
to achieve this in way you have described.
--
Greetings
Marcin Rze?nicki





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ewbank at synopsys.com  Wed Oct 20 13:30:23 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Custom Token Types (parallel to ASTLabelType, for lexer)?
In-Reply-To: <ODEDLGHNIFGKLNIHIHLLAEIGCPAA.ewbank@synopsys.com>
Message-ID: <ODEDLGHNIFGKLNIHIHLLMEIMCPAA.ewbank@synopsys.com>


I've looked at the C++ generator, and it appears that RefToken is hardcoded.
What I would like to do is extend the Token class to include filename
information, as well as a symbol table reference, but it doesn't seem to be
a supported model.

How do others use symbol tables and/or produce file and line information,
given that the type returned by the Lexer is hardcoded?

- Bryan



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From marcin-rzeznicki at wp.pl  Wed Oct 20 14:37:17 2004
From: marcin-rzeznicki at wp.pl (=?ISO-8859-2?Q?Marcin_Rze=BCnicki?=)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Problem with AST
In-Reply-To: <4176C078.2090002@wp.pl>
References: <ODEDLGHNIFGKLNIHIHLLCEIGCPAA.ewbank@synopsys.com> <4176C078.2090002@wp.pl>
Message-ID: <4176DA8D.8040204@wp.pl>


Marcin Rze?nicki wrote:
> Bryan Ewbank wrote:
> 
>>Yes, you can do what you are asking - the syntax I use is a bit different,
>>but accomplishes
>>the same results...
>>
>>For example, you use this:
>>
>>
>>>andexp          :   notexp andexp_part;
>>>andexp_part     :   AND notexp andexp_part      |
>>>                ;
>>
>>
>>It is more concise, in ANTLR, to use this instead:
>>
>>	andexp	: notexp ( AND^ notexp)* ;
>>		// andexp is notexpr followed by zero or more sequences of AND notexpr
>>
>>Here, the "^" after the AND means "make AND the root of the tree so far",
>>but only
>>if an AND is seen.  The "( .. )*" means "zero or more times", which
>>accomplishes
>>the same thing as your <andexp_part> production.
>>
>>Therefore, the extra node is added only when it is required, otherwise the
>>tree produced by <notexp> is forwarded unchanged, as per your requirements.

Just one more question. I started to think about that idea and I have 
become aware of fact that transformation like these destroys operator 
connectiveness. It seems to me that all operators bind to the left. Is 
there any way to achieve right binding? For example: a OP b OP c ( OP 
stands for binary operator) will become #(OP #(OP a b) c), I would like 
to be able to implement in some cases #(OP a #(OP b c)).
--
Greetings
Marcin Rze?nicki



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From demakov at ispras.ru  Thu Oct 21 00:57:50 2004
From: demakov at ispras.ru (Alexey Demakov)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] unexpected token:
References: <cl6d8m+spnv@eGroups.com>
Message-ID: <007101c4b743$a9c52d20$8cc79553@marlboro>


> I'd like to simple, but nested list like
>  {{0 1 2}{3 4 5}{6 7 8}} into nested java list.
> 
> The main work is done something like this in the lexer
> OPENBRACE: ('{')
>      { 
> // add a new list to the stack to be filled by later
> // Integer, Real, Boolean and Null calls
> List currentList = new ArrayList();
> stack.push( currentList );
> } ;
> CLOSEBRACE: ('}')
>      {
>        // add the contents of the current list to the previous one
>        // in case stack.size() > 1
>        if ( stack.size() > 1 ) {
> Object currentList = stack.pop();
> List previousList = (List) stack.peek();
> previousList.add( currentList );
>        }
>      } ;
> 
> and works pretty well. The parser looks like this:
> 
> simpleList : 
> OPENBRACE ( INTEGER | REAL | BOOLEAN | NULL | SPACE )+ CLOSEBRACE
>         {
>   //InlineList.parserLog.info("found simpleList " );
>   } ; 
> nestedList :
>   OPENBRACE ( simpleList | SPACE )+ CLOSEBRACE
>         {
>   InlineList.parserLog.info("found nestedList " );
>   } ; 
> 
> inlineList :
>   ( nestedList | simpleList )+ 
>          {
>    //InlineList.parserLog.debug("found inlineList " );
> } ; 
> 
> Everything works as expected, but I get an additional warning
> line 1:2: unexpected token: 0 
> parsing the strings, in this case {0 1 2 3 null}.
> 
> How could I get rid off this warning ?
> 
> Thanks, Carsten

May be the problem is in definition of INTEGER or REAL tokens?

Regards,
Alexey
-----
TreeDL: Tree Description Language: http://treedl.sourceforge.net
RedVerst Group: http://www.unitesk.com




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-gvPHLJekIsnwM=WwdVPwJw8 at yahoogroups.com  Thu Oct 21 01:29:01 2004
From: antlr-interest-accept-gvPHLJekIsnwM=WwdVPwJw8 at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:23 2004
Subject: MODERATE -- H.A.M.Maassen@student.tue.nl posted to antlr-interest
Message-ID: <1098347341.2054.61461.m13@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  H.A.M.Maassen@student.tue.nl 

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=345 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-gvPHLJekIsnwM=WwdVPwJw8@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "Maassen, H.A.M." <H.A.M.Maassen@student.tue.nl>
Subject: Spoiled windows brat reporting
Date: Thu, 21 Oct 2004 10:28:57 +0200
Size: 7104
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041021/5df99a73/attachment.mht
From H.A.M.Maassen at student.tue.nl  Thu Oct 21 01:28:57 2004
From: H.A.M.Maassen at student.tue.nl (Maassen, H.A.M.)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Spoiled windows brat reporting
Message-ID: <1C5C690C06EFE244B83E3F133CA70BDE285810@studentex6.campus.tue.nl>

Hello,

 

I'm looking into using ANTLR to define a grammar and I must say I'm a little intimidated by the linuxy aspects of it (the command line, lots of compiling, text-editors). I was wondering if there is some sort of GUI version available for such spoiled windows users as myself :)

 

Je vous prie d'agr?er, madame, monsieur, l'expression de mes sentiments
distingu?s, Harald Maassen 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 3350 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20041021/c8e191bd/attachment.bin
From ewbank at synopsys.com  Thu Oct 21 05:56:41 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Right-to-left binding (was RE: Problem with AST)
In-Reply-To: <4176DA8D.8040204@wp.pl>
Message-ID: <ODEDLGHNIFGKLNIHIHLLKEJBCPAA.ewbank@synopsys.com>


Hi Marcin,

I struggled with how to do right-to-left operator evaluations as well, and
the examples sidestep it by stopping the calculator example
at multiplication (exponentiation is right-to-left).  What I figured out
was:

For a left-to-right operator, you use the standard production:

	left_to_right:	operand ( OP^ operand )*

For a right-to-left operator, you use recursion on the rightmost element;
also notice that the production
uses a "?" instead of a "*" - A "*" is ambiguous because ANTLR can't know
whether to recurse, or return:

	right_to_left:	operand ( OP^ right_to_left )?

> From: Marcin Rze?nicki [mailto:marcin-rzeznicki@wp.pl]
> Just one more question. I started to think about that idea and I have
> become aware of fact that transformation like these destroys operator
> connectiveness. It seems to me that all operators bind to the left. Is
> there any way to achieve right binding? For example: a OP b OP c ( OP
> stands for binary operator) will become #(OP #(OP a b) c), I would like
> to be able to implement in some cases #(OP a #(OP b c)).



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From demakov at ispras.ru  Thu Oct 21 06:00:33 2004
From: demakov at ispras.ru (Alexey Demakov)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Spoiled windows brat reporting
References: <1C5C690C06EFE244B83E3F133CA70BDE285810@studentex6.campus.tue.nl>
Message-ID: <006001c4b76d$f37de950$8cc79553@marlboro>


There is Eclipse plugin for ANTLR that hides command line and improves readability of grammar file.
But parser creation requires some coding anyway :)

Look at
http://today.java.net/pub/a/today/2004/10/06/compiler.html
may be it is better for you.

There is another way - find somebody who is familiar with ANTLR :)

Regards,
Alexey

----- Original Message ----- 
From: "Maassen, H.A.M." <H.A.M.Maassen@student.tue.nl>
To: <antlr-interest@yahoogroups.com>
Sent: Thursday, October 21, 2004 12:28 PM
Subject: [antlr-interest] Spoiled windows brat reporting


> Hello,
>
>
>
> I'm looking into using ANTLR to define a grammar and I must say I'm a little intimidated by the linuxy aspects of it (the command
line, lots of compiling, text-editors). I was wondering if there is some sort of GUI version available for such spoiled windows
users as myself :)
>
>
>
> Je vous prie d'agr?er, madame, monsieur, l'expression de mes sentiments
> distingu?s, Harald Maassen
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Thu Oct 21 09:49:55 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] build issues: bytecode assembly generation
Message-ID: <3C7F0232-2381-11D9-BCB0-000A95891192@cs.usfca.edu>


Ok, so generating bytecodes for cyclic DFAs complicates the build 
slightly.  For example, if you don't want your .class files in same dir 
as your .g then you have to move it or I need an option to specify 
output dir (for for .java's and one for .class's).

Another thought I had was to simply "inline" the assembly code like you 
could do in some C compilers.  I.e., I'd generate a .java file like 
always for your parser, but it would have some dfa methods like this:

class MyParser extends antlr.Parser {
....constructors...
....parser rule methods...
private static int predictDFA1(IntegerStream input) {
/*!bytecode
aload 0
iconst 1
....
*/
}
private static int predictDFA1(IntegerStream input) {
/*!bytecode
*/
}
....
}

Then either ANTLR can invoke the javac compiler (inside same VM 
process) or it could leave it to another pass.  Both of these 
complicate building a parser.

I lean towards the simple "i generate a .class file that's ready to go" 
method, but I sort of like making an inline assembly code tool; javac 
knows how to make .class files for any java whereas my little thing can 
only do it for specific DFA classes.

Anybody wanna comment on the build issues or coolness factor of inline 
assembly (for programs that generate programs anyway)?

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From gudnabrsam at yahoo.com  Thu Oct 21 10:11:14 2004
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] build issues: bytecode assembly generation
In-Reply-To: <3C7F0232-2381-11D9-BCB0-000A95891192@cs.usfca.edu>
Message-ID: <20041021171114.35349.qmail@web20427.mail.yahoo.com>


--- Terence Parr <parrt@cs.usfca.edu> wrote:
> Anybody wanna comment on the build issues or
> coolness factor of inline 
> assembly (for programs that generate programs
> anyway)?

As a longtime lurker my two cents has an exchange rate
of half or less, but I think inlining would be very
cool, and more versatile as you hinted.  I have done
some quick searching however and couldn't find any
documentation about inline bytecode in Java
sourcefiles.  I'd appreciate any background on that...
or am I misunderstanding you?

-Matt



		
_______________________________
Do you Yahoo!?
Declare Yourself - Register online to vote today!
http://vote.yahoo.com


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Thu Oct 21 10:30:23 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] build issues: bytecode assembly generation
In-Reply-To: <20041021171114.35349.qmail@web20427.mail.yahoo.com>
References: <20041021171114.35349.qmail@web20427.mail.yahoo.com>
Message-ID: <E382A6AA-2386-11D9-BCB0-000A95891192@cs.usfca.edu>



On Oct 21, 2004, at 10:11 AM, Matt Benson wrote:

>
> --- Terence Parr <parrt@cs.usfca.edu> wrote:
>> Anybody wanna comment on the build issues or
>> coolness factor of inline
>> assembly (for programs that generate programs
>> anyway)?
>
> As a longtime lurker my two cents has an exchange rate
> of half or less, but I think inlining would be very
> cool, and more versatile as you hinted.  I have done
> some quick searching however and couldn't find any
> documentation about inline bytecode in Java
> sourcefiles.  I'd appreciate any background on that...
> or am I misunderstanding you?

Yeah, i've never seen it before.  I'm actually amazed at how many 
bytecode / classfile programs there are but no "inline assembly code" 
tools.  Further, all tools puke at the slightest hint of trouble in a 
..class file (accept for the antlr classfile.g written by Andreas, 
naturally).

My goal is basically to avoid .class file generation / reading totally 
by making the compiler do it.  All I would have to do is open up the 
..class file and replace a blank method (there's a comment as the method 
containing the bytecodes)

private static int predictDFA1(IntegerStream input) {
/*!bytecode
aload 0
iconst 1
.....
*/
}

with the real code after I assemble it. The only trick here is that you 
have to read the ENTIRE .class file and PARSE it to figure out where 
that method is.  UNLESS, you're sneaky and have your translator read 
the .java file and replace !bytecode comments with a special sequence 
of java statements that leaves a unique bytecode pattern (heck "int 
aspecialname=magic" might do it).  Compile the translated .java file.  
Then, you just do a binary replace of the small sequence with the big 
one and, voila, you have inserted assembly code!

Cool, eh?  I love that concept because it's devious.  The ultimate way 
to write bytecode assembly, right!

Anyway, this way, I don't have to generate a separate .class file for 
DFAs...they can be in the same .java file as the parser itself.

The only reason I don't jump on this is that javac is sooooo slow and 
it would make antlr seem slow as a result.

Anybody have experience running jikes from within Runtime.exec or 
running the tools.jar version of javac within a VM?

I want antlr to run out of the box without any dependencies except 
perhaps javac.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From gudnabrsam at yahoo.com  Thu Oct 21 10:53:37 2004
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] build issues: bytecode assembly generation
In-Reply-To: <E382A6AA-2386-11D9-BCB0-000A95891192@cs.usfca.edu>
Message-ID: <20041021175337.98952.qmail@web20423.mail.yahoo.com>


--- Terence Parr <parrt@cs.usfca.edu> wrote:
> My goal is basically to avoid .class file generation
> / reading totally 
> by making the compiler do it.  All I would have to
> do is open up the 
> ..class file and replace a blank method (there's a
> comment as the method 
> containing the bytecodes)
> with the real code after I assemble it. The only

Hmm, seems if you have to know where the classfiles
are anyway you might as well write them yourself.  Or
create a part of the ANTLR runtime that would compile
the bytecodes from byte[]s at runtime (ducking).

-Matt


		
_______________________________
Do you Yahoo!?
Declare Yourself - Register online to vote today!
http://vote.yahoo.com


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Thu Oct 21 11:55:29 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] build issues: bytecode assembly generation
In-Reply-To: <20041021175337.98952.qmail@web20423.mail.yahoo.com>
References: <20041021175337.98952.qmail@web20423.mail.yahoo.com>
Message-ID: <C6BF8EE2-2392-11D9-BCB0-000A95891192@cs.usfca.edu>



On Oct 21, 2004, at 10:53 AM, Matt Benson wrote:

>
> --- Terence Parr <parrt@cs.usfca.edu> wrote:
>> My goal is basically to avoid .class file generation
>> / reading totally
>> by making the compiler do it.  All I would have to
>> do is open up the
>> ..class file and replace a blank method (there's a
>> comment as the method
>> containing the bytecodes)
>> with the real code after I assemble it. The only
>
> Hmm, seems if you have to know where the classfiles
> are anyway you might as well write them yourself.  Or
> create a part of the ANTLR runtime that would compile
> the bytecodes from byte[]s at runtime (ducking).

I just had another idea.  The original problem is "I need gotos in 
Java."  What if I could make a quick translator for a .java file with 
special comments that would fix up the .class file to allow the gotos?

Let's see...one might do this (remember, this file is *generated*):

     public static int dfa1(IntegerStream input) {
         short from, to;
         int i = input.LA(1);
         if ( (i>='a'&&i<='z') || (i>='0'&&i<='9') ) {
                 input.consume();
                 from = (short)0xBAAA; // a secret GOTO
         }
to=(short)0xBAAB; // a secret GOTO target
         return 0;
     }

We need some unique thing that doesn't get thrown out by the compiler 
to signify the goto location and the target of the goto.  The

from = (short)0xBAAA;

results in the following bytecode.

     sipush          -17750

The target is just:

     sipush          -17749

Now we probably need something a little more unique like two in a row, 
but you get the idea (they need to be short so the operand doesn't get 
dumped into the const pool).

Here's the cool translation part.  You look in a .class file for a 
binary pattern then replace goto targets with no-ops, but you know the 
byte code address now :)  The native compiler will throw these out.  
The gotos themselves are simply replaced with a goto_w or goto bytecode 
instruction, filling with no-ops.  Direct manipulation of simple binary 
patterns in a .class file--totally ignoring the format minus the 
structure of a like 3 byte code instructions.

Cool, eh?  This should work great!  That said, I do like my bytecode 
assembler ;)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ewbank at synopsys.com  Thu Oct 21 12:03:35 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] build issues: bytecode assembly generation
In-Reply-To: <C6BF8EE2-2392-11D9-BCB0-000A95891192@cs.usfca.edu>
Message-ID: <ODEDLGHNIFGKLNIHIHLLIEJECPAA.ewbank@synopsys.com>


how's about calls to distinct functions, such as putjmp((short)xxx) and
getjmp((short)xxx).  A call would probably be longer than necessary, but
there's gotta be a nop, right?


> I just had another idea.  The original problem is "I need gotos in
> Java."  What if I could make a quick translator for a .java file with
> special comments that would fix up the .class file to allow the gotos?
>
> ...
>
> We need some unique thing that doesn't get thrown out by the compiler
> to signify the goto location and the target of the goto.  The



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From marcin-rzeznicki at wp.pl  Thu Oct 21 12:13:14 2004
From: marcin-rzeznicki at wp.pl (=?ISO-8859-2?Q?Marcin_Rze=BCnicki?=)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] Right-to-left binding (was RE: Problem with
 AST)
In-Reply-To: <ODEDLGHNIFGKLNIHIHLLKEJBCPAA.ewbank@synopsys.com>
References: <ODEDLGHNIFGKLNIHIHLLKEJBCPAA.ewbank@synopsys.com>
Message-ID: <41780A4A.60709@wp.pl>


Bryan Ewbank wrote:
> Hi Marcin,
> 
> I struggled with how to do right-to-left operator evaluations as well, and
> the examples sidestep it by stopping the calculator example
> at multiplication (exponentiation is right-to-left).  What I figured out
> was:
> 
> For a left-to-right operator, you use the standard production:
> 
> 	left_to_right:	operand ( OP^ operand )*
> 
> For a right-to-left operator, you use recursion on the rightmost element;
> also notice that the production
> uses a "?" instead of a "*" - A "*" is ambiguous because ANTLR can't know
> whether to recurse, or return:
> 
> 	right_to_left:	operand ( OP^ right_to_left )?


Hello Bryan,
You are right, second pattern does the right thing. Thank you very much 
for your help
--
Greetings
Marcin Rze?nicki




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Thu Oct 21 16:04:06 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:23 2004
Subject: [antlr-interest] build issues: bytecode assembly generation
In-Reply-To: <ODEDLGHNIFGKLNIHIHLLIEJECPAA.ewbank@synopsys.com>
References: <ODEDLGHNIFGKLNIHIHLLIEJECPAA.ewbank@synopsys.com>
Message-ID: <821B7501-23B5-11D9-BCB0-000A95891192@cs.usfca.edu>



On Oct 21, 2004, at 12:03 PM, Bryan Ewbank wrote:

>
> how's about calls to distinct functions, such as putjmp((short)xxx) and
> getjmp((short)xxx).  A call would probably be longer than necessary, 
> but
> there's gotta be a nop, right?

Yep, but the functions don't result in unique sequences in the 
bytecodes.

No matter...I've decided tha the build process would be too weird 
having to tweak .class files.  I'm going with my straight bytecode 
generation as it just leaves a myparser_DFA.class file around.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-QweFMItjkixYIIFnVNYUpBg at yahoogroups.com  Thu Oct 21 18:09:46 2004
From: antlr-interest-accept-QweFMItjkixYIIFnVNYUpBg at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:23 2004
Subject: MODERATE -- dcaton@shorelinesoftware.com posted to antlr-interest
Message-ID: <1098407386.531.49785.m13@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  dcaton@shorelinesoftware.com 

The message summary:
--------------------
FROM: dcaton@shorelinesoftware.com 
DATE: Thu, 21 Oct 2004 21:08:48 -0400 
SUBJECT: RE: [antlr-interest] build issues: bytecode assembly generation 

Terence: 

I haven't been a subscriber to this list for too long, so 
forgive me if this has already been discussed, but... 

Why did you write Antlr in Java in the first place, and why 
are you fighting with these issues? C++ is at least as 
portable as Java and it has no runtime to impose limitations
that get the way of what you need to do. I'm not anti-Java, 
but I don't see what benefits it brings to the table over 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=346 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-QweFMItjkixYIIFnVNYUpBg@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "Don Caton" <dcaton@shorelinesoftware.com>
Subject: RE: [antlr-interest] build issues: bytecode assembly generation
Date: Thu, 21 Oct 2004 21:08:48 -0400
Size: 3792
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041022/2b47e7ac/attachment.mht
From antlr-interest-accept-P7SnWdkf1w=8RFkgCSzWEyU at yahoogroups.com  Thu Oct 21 20:33:58 2004
From: antlr-interest-accept-P7SnWdkf1w=8RFkgCSzWEyU at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:24 2004
Subject: MODERATE -- binaryxor101@yahoo.com posted to antlr-interest
Message-ID: <1098416038.492.59281.m22@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  binaryxor101@yahoo.com 

The message summary:
--------------------
FROM: binaryxor101@yahoo.com 
DATE: Fri, 22 Oct 2004 03:33:51 -0000 
SUBJECT: ] Can't decide between GOLD or ANTLR 

hi, 

I can't decide between GOLD or ANTLR. What are your thoughts
on GOLD (devincook.com/goldparser)? Is there a possible 
Golden Antlers project in the future? 

--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=347 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-P7SnWdkf1w=8RFkgCSzWEyU@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "binaryxor101" <binaryxor101@yahoo.com>
Subject: ] Can't decide between GOLD or ANTLR
Date: Fri, 22 Oct 2004 03:33:51 -0000
Size: 1356
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041022/f4c2223f/attachment.mht
From dcaton at shorelinesoftware.com  Thu Oct 21 18:08:48 2004
From: dcaton at shorelinesoftware.com (Don Caton)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] build issues: bytecode assembly generation
In-Reply-To: <3C7F0232-2381-11D9-BCB0-000A95891192@cs.usfca.edu>
Message-ID: <1098407138.9961@mx9.mysite4now.com>



Terence:

I haven't been a subscriber to this list for too long, so forgive me if this
has already been discussed, but...

Why did you write Antlr in Java in the first place, and why are you fighting
with these issues?  C++ is at least as portable as Java and it has no
runtime to impose limitations that get the way of what you need to do.  I'm
not anti-Java, but I don't see what benefits it brings to the table over
C++, at least not for this kind of programming task.  

Don

 

> -----Original Message-----
> From: Terence Parr [mailto:parrt@cs.usfca.edu] 
> Sent: Thursday, October 21, 2004 12:50 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] build issues: bytecode assembly generation
> 
> 
> Ok, so generating bytecodes for cyclic DFAs complicates the 
> build slightly.  For example, if you don't want your .class 
> files in same dir as your .g then you have to move it or I 
> need an option to specify output dir (for for .java's and one 
> for .class's).
> 
> Another thought I had was to simply "inline" the assembly 
> code like you could do in some C compilers.  I.e., I'd 
> generate a .java file like always for your parser, but it 
> would have some dfa methods like this:
> 
> class MyParser extends antlr.Parser {
> ....constructors...
> ....parser rule methods...
> private static int predictDFA1(IntegerStream input) { 
> /*!bytecode aload 0 iconst 1 ....
> */
> }
> private static int predictDFA1(IntegerStream input) { 
> /*!bytecode */ } ....
> }
> 
> Then either ANTLR can invoke the javac compiler (inside same VM
> process) or it could leave it to another pass.  Both of these 
> complicate building a parser.
> 
> I lean towards the simple "i generate a .class file that's 
> ready to go" 
> method, but I sort of like making an inline assembly code 
> tool; javac knows how to make .class files for any java 
> whereas my little thing can only do it for specific DFA classes.
> 
> Anybody wanna comment on the build issues or coolness factor 
> of inline assembly (for programs that generate programs anyway)?
> 
> Ter
> --
> CS Professor & Grad Director, University of San Francisco 
> Creator, ANTLR Parser Generator, http://www.antlr.org 
> Cofounder, http://www.jguru.com Cofounder, 
> http://www.knowspam.net enjoy email again!
> 
> 
> 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
> 
>  
> 
> 
> 
> 







 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From binaryxor101 at yahoo.com  Thu Oct 21 20:33:51 2004
From: binaryxor101 at yahoo.com (binaryxor101)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] ] Can't decide between GOLD or ANTLR
Message-ID: <cl9v2v+g82m@eGroups.com>




hi,

I can't decide between GOLD or ANTLR. What are your thoughts on 
GOLD (devincook.com/goldparser)? Is there a possible Golden Antlers 
project in the future?








 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From lgc at mail1.jpl.nasa.gov  Fri Oct 22 01:04:32 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: ] Can't decide between GOLD or ANTLR
In-Reply-To: <cl9v2v+g82m@eGroups.com>
Message-ID: <claeug+s4r8@eGroups.com>



If you have to ask, the only reasonable response is "RTFM!".  Even
cursory analysis gives a very clear answer.

--Loring

--- In antlr-interest@yahoogroups.com, "binaryxor101"
<binaryxor101@y...> wrote:
> 
> 
> hi,
> 
> I can't decide between GOLD or ANTLR. What are your thoughts on 
> GOLD (devincook.com/goldparser)? Is there a possible Golden Antlers 
> project in the future?





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ora.et.labora at web.de  Fri Oct 22 02:19:22 2004
From: ora.et.labora at web.de (whaefelinger)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] native rules?
Message-ID: <clajaq+ud4r@eGroups.com>



Hello,
my language allows a comment to start with "--" and end with ither "-
-" or with an EOL character ('\n'). So I wrote this two rules:

protected
UNTIL_END_OF_COMMENT
    : ( options {greedy=false;} : . )* ("--"|"\n")
    ;

COMMENT
    : "--" UNTIL_END_OF_COMMENT
    ; 

ANTLR warns me then (as  written  in the manual)  about  "nongreedy 
block may exit incorrectly due to limitations of linear approximate 
lookahead [..].

Here's a snippet of what ANTLR generates for rule 
UNTIL_END_OF_COMMENT

 _loop53:
 do {
   // nongreedy exit test
   if ( (LA(1)=='\n'||LA(1)=='-') && (true)) 
      break _loop53;
   // ...
 } while (true);

Hmm, that's almost fine. If I just could rewrite this as 

 _loop53:
 do {
   // nongreedy exit test
   if ( LA(1)=='\n' || (LA(1)=='-' && LA(2)=='-') ) 
      break _loop53;
   // ...
 } while (true);

then I would be done (BTW: I do have the feeling that I can attack 
the problem with a predicate - but haven't found the right solution 
yet).

Now I was wondering whether ANTLR would allow me to tweak in my own 
handcraftet rules? What I'm thinking about is something like:

protected UNTIL_END_OF_COMMENT ;

That means: If a  protected  rule with no "body" exists then ANTLR 
will not generate a method but will rather assume that such a method 
already exists.

This seems trivial to implement but does not exist. Therefore I 
assume that there must be specific reasons for not having this 
native rule escape. 

Can someone give me a hint on this??


Thanks,
Wolfgang.   










 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From lgc at mail1.jpl.nasa.gov  Fri Oct 22 02:36:44 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: native rules?
In-Reply-To: <clajaq+ud4r@eGroups.com>
Message-ID: <clakbc+mj6t@eGroups.com>



Wolfgang--

Why not

COMMENT
    :
    "--"
    (   ~( '\n' | '-' )
    |   '-' ~'-'
    )*
    ( "--" )?  // NEWLINE or whatever picks up '\n'
    ;

The greedy/non-greedy stuff is much overused.

--Loring


--- In antlr-interest@yahoogroups.com, "whaefelinger"
<ora.et.labora@w...> wrote:
> 
> Hello,
> my language allows a comment to start with "--" and end with ither "-
> -" or with an EOL character ('\n'). So I wrote this two rules:
> 
> protected
> UNTIL_END_OF_COMMENT
>     : ( options {greedy=false;} : . )* ("--"|"\n")
>     ;
> 
> COMMENT
>     : "--" UNTIL_END_OF_COMMENT
>     ; 
> 
> ANTLR warns me then (as  written  in the manual)  about  "nongreedy 
> block may exit incorrectly due to limitations of linear approximate 
> lookahead [..].
> 
> Here's a snippet of what ANTLR generates for rule 
> UNTIL_END_OF_COMMENT
> 
>  _loop53:
>  do {
>    // nongreedy exit test
>    if ( (LA(1)=='\n'||LA(1)=='-') && (true)) 
>       break _loop53;
>    // ...
>  } while (true);
> 
> Hmm, that's almost fine. If I just could rewrite this as 
> 
>  _loop53:
>  do {
>    // nongreedy exit test
>    if ( LA(1)=='\n' || (LA(1)=='-' && LA(2)=='-') ) 
>       break _loop53;
>    // ...
>  } while (true);
> 
> then I would be done (BTW: I do have the feeling that I can attack 
> the problem with a predicate - but haven't found the right solution 
> yet).
> 
> Now I was wondering whether ANTLR would allow me to tweak in my own 
> handcraftet rules? What I'm thinking about is something like:
> 
> protected UNTIL_END_OF_COMMENT ;
> 
> That means: If a  protected  rule with no "body" exists then ANTLR 
> will not generate a method but will rather assume that such a method 
> already exists.
> 
> This seems trivial to implement but does not exist. Therefore I 
> assume that there must be specific reasons for not having this 
> native rule escape. 
> 
> Can someone give me a hint on this??
> 
> 
> Thanks,
> Wolfgang.





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From demakov at ispras.ru  Fri Oct 22 02:55:58 2004
From: demakov at ispras.ru (Alexey Demakov)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: native rules?
References: <clakbc+mj6t@eGroups.com>
Message-ID: <00be01c4b81d$548aa030$8cc79553@marlboro>


'-' '\n' will be processed incorrectly

Regards,
Alexey

> Wolfgang--
> 
> Why not
> 
> COMMENT
>     :
>     "--"
>     (   ~( '\n' | '-' )
>     |   '-' ~'-'
>     )*
>     ( "--" )?  // NEWLINE or whatever picks up '\n'
>     ;
> 
> The greedy/non-greedy stuff is much overused.
> 
> --Loring
> 
> 
> --- In antlr-interest@yahoogroups.com, "whaefelinger"
> <ora.et.labora@w...> wrote:
> > 
> > Hello,
> > my language allows a comment to start with "--" and end with ither "-
> > -" or with an EOL character ('\n'). So I wrote this two rules:
> > 
> > protected
> > UNTIL_END_OF_COMMENT
> >     : ( options {greedy=false;} : . )* ("--"|"\n")
> >     ;
> > 
> > COMMENT
> >     : "--" UNTIL_END_OF_COMMENT
> >     ; 
> > 
> > ANTLR warns me then (as  written  in the manual)  about  "nongreedy 
> > block may exit incorrectly due to limitations of linear approximate 
> > lookahead [..].
> > 
> > Here's a snippet of what ANTLR generates for rule 
> > UNTIL_END_OF_COMMENT
> > 
> >  _loop53:
> >  do {
> >    // nongreedy exit test
> >    if ( (LA(1)=='\n'||LA(1)=='-') && (true)) 
> >       break _loop53;
> >    // ...
> >  } while (true);
> > 
> > Hmm, that's almost fine. If I just could rewrite this as 
> > 
> >  _loop53:
> >  do {
> >    // nongreedy exit test
> >    if ( LA(1)=='\n' || (LA(1)=='-' && LA(2)=='-') ) 
> >       break _loop53;
> >    // ...
> >  } while (true);
> > 
> > then I would be done (BTW: I do have the feeling that I can attack 
> > the problem with a predicate - but haven't found the right solution 
> > yet).
> > 
> > Now I was wondering whether ANTLR would allow me to tweak in my own 
> > handcraftet rules? What I'm thinking about is something like:
> > 
> > protected UNTIL_END_OF_COMMENT ;
> > 
> > That means: If a  protected  rule with no "body" exists then ANTLR 
> > will not generate a method but will rather assume that such a method 
> > already exists.
> > 
> > This seems trivial to implement but does not exist. Therefore I 
> > assume that there must be specific reasons for not having this 
> > native rule escape. 
> > 
> > Can someone give me a hint on this??
> > 
> > 
> > Thanks,
> > Wolfgang.
> 
> 
> 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
> 
>  
> 
> 
> 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From lgc at mail1.jpl.nasa.gov  Fri Oct 22 03:02:10 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: native rules?
In-Reply-To: <00be01c4b81d$548aa030$8cc79553@marlboro>
Message-ID: <clalr2+slkr@eGroups.com>



--- In antlr-interest@yahoogroups.com, "Alexey Demakov" <demakov@i...>
wrote:
> '-' '\n' will be processed incorrectly

True--the alternative needs to be
    '-' ~('-' | '\n' )

--Loring

> 
> Regards,
> Alexey
> 
> > Wolfgang--
> > 
> > Why not
> > 
> > COMMENT
> >     :
> >     "--"
> >     (   ~( '\n' | '-' )
> >     |   '-' ~'-'
> >     )*
> >     ( "--" )?  // NEWLINE or whatever picks up '\n'
> >     ;
> > 
> > The greedy/non-greedy stuff is much overused.
> > 
> > --Loring
> > 
> > 
> > --- In antlr-interest@yahoogroups.com, "whaefelinger"
> > <ora.et.labora@w...> wrote:
> > > 
> > > Hello,
> > > my language allows a comment to start with "--" and end with
ither "-
> > > -" or with an EOL character ('\n'). So I wrote this two rules:
> > > 
> > > protected
> > > UNTIL_END_OF_COMMENT
> > >     : ( options {greedy=false;} : . )* ("--"|"\n")
> > >     ;
> > > 
> > > COMMENT
> > >     : "--" UNTIL_END_OF_COMMENT
> > >     ; 
> > > 
> > > ANTLR warns me then (as  written  in the manual)  about  "nongreedy 
> > > block may exit incorrectly due to limitations of linear approximate 
> > > lookahead [..].
> > > 
> > > Here's a snippet of what ANTLR generates for rule 
> > > UNTIL_END_OF_COMMENT
> > > 
> > >  _loop53:
> > >  do {
> > >    // nongreedy exit test
> > >    if ( (LA(1)=='\n'||LA(1)=='-') && (true)) 
> > >       break _loop53;
> > >    // ...
> > >  } while (true);
> > > 
> > > Hmm, that's almost fine. If I just could rewrite this as 
> > > 
> > >  _loop53:
> > >  do {
> > >    // nongreedy exit test
> > >    if ( LA(1)=='\n' || (LA(1)=='-' && LA(2)=='-') ) 
> > >       break _loop53;
> > >    // ...
> > >  } while (true);
> > > 
> > > then I would be done (BTW: I do have the feeling that I can attack 
> > > the problem with a predicate - but haven't found the right solution 
> > > yet).
> > > 
> > > Now I was wondering whether ANTLR would allow me to tweak in my own 
> > > handcraftet rules? What I'm thinking about is something like:
> > > 
> > > protected UNTIL_END_OF_COMMENT ;
> > > 
> > > That means: If a  protected  rule with no "body" exists then ANTLR 
> > > will not generate a method but will rather assume that such a
method 
> > > already exists.
> > > 
> > > This seems trivial to implement but does not exist. Therefore I 
> > > assume that there must be specific reasons for not having this 
> > > native rule escape. 
> > > 
> > > Can someone give me a hint on this??
> > > 
> > > 
> > > Thanks,
> > > Wolfgang.
> > 
> > 
> > 
> > 
> > 
> >  
> > Yahoo! Groups Links
> > 
> > 
> > 
> >  
> > 
> > 
> >





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From open.zone at virgin.net  Fri Oct 22 04:26:31 2004
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <1098407138.9961@mx9.mysite4now.com>
Message-ID: <claqp7+l75m@eGroups.com>



--- In antlr-interest@yahoogroups.com, "Don Caton" <dcaton@s...> wrote:
> 
> Terence:

Well, I'm obviously not Ter but...

> I haven't been a subscriber to this list for too long, so forgive me
if this
> has already been discussed, but...
> 
> Why did you write Antlr in Java in the first place, and why are you
fighting
> with these issues?

I suspect because developing in Java is more productive and, Java
delivers cross-OS portability more easily than C++ does. Just think
about the work that would be involved in simply providing binary
builds of the tool [on the website] for all the different platforms
that the Java version runs on today.

> C++ is at least as portable as Java and it has no
> runtime to impose limitations that get the way of what you need to do.

Given that C++ has a goto statement, there would indeed be no need to
generate assembly but the less productive (compared to Java)
development effort over the years would have nullified any advantage
this particular difference represents.

Incidentally, the DFA-as-bytecode generation issue isn't a runtime
limitation, it is a *language* limitation - the lack of a goto [any
label] statement in Java. Ter's intent is to use the runtime to bypass
a limitation in the language.

> I'm
> not anti-Java, but I don't see what benefits it brings to the table over
> C++, at least not for this kind of programming task.  

Better productivity, easier cross-OS portability and a lower barrier
to entry for prospective contributors.

Micheal






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ora.et.labora at web.de  Fri Oct 22 04:56:36 2004
From: ora.et.labora at web.de (whaefelinger)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] unexpected char: 'u'
Message-ID: <clashk+ita4@eGroups.com>



Hello,
right now I trying to attack my comment problem with a predicate:

 COMMENT
    :
        "--" 
        (
           ~('-'|'\n'|'\r'|'\u000b'|'\u000c') | {LA(2) != '-'}? '-'
        )*
        {
           // consume "end-of-comment" characters
           switch(LA(1)) {
            ..
            case '\u000b' : {        <== syntax error on '\u000b'
              match('\u000b');       <==       dito
              break;
            }
            ..
           }
        }
    ;

Please don't question the rule as such (pending: try posted 
proposals). 

The problem is rather that ANTLR complains about '\u000b' albeit it
appears to me that this is pretty much correct Java.

Smells like a bug?

Cheers,
Wolfgang.  





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ewbank at synopsys.com  Fri Oct 22 05:54:54 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] build issues: bytecode assembly generation
In-Reply-To: <C6BF8EE2-2392-11D9-BCB0-000A95891192@cs.usfca.edu>
Message-ID: <ODEDLGHNIFGKLNIHIHLLGEJLCPAA.ewbank@synopsys.com>


> I just had another idea.  The original problem is "I need gotos in
> Java."

After all this, do you really need gotos?  How's about using a while/switch
combination instead?

It provides the same flexibility - bits of code executed in specific
orders - but avoids the need to hack the generated code.  It's also, at
least from what I've seen, the usual way to implement NFA/DFA with code
instead of tables.  For example...

	int state = START;
	while(state != END)
	{
	    switch (state)
	    {
	    case START:
	        ...
	        state=20;
	        break;
	    case 20:
	        ...
	        state=21;
	        if (...) state=42;
	        break;
	        ... ... ...
	    }
	}

This still keeps the "pretty much what you'd do by hand" model that ANTRL
uses for other parts of the generated code, and avoids the headaches of the
whole hacking-the-code problem.

-Bryan



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ora.et.labora at web.de  Fri Oct 22 06:15:31 2004
From: ora.et.labora at web.de (whaefelinger)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: native rules?
In-Reply-To: <clalr2+slkr@eGroups.com>
Message-ID: <clb15j+bg8h@eGroups.com>



Hmm,
so I'm trying this then:

 COMMENT
    : "--"
        ( ~('\n'|'-') | '-' ~('-'|'\n'))( "--" )? 
    ;

And this is my input:

=== test.in =========
----visible00         
visible10
--hidden01--visible11
=====================

Compiling with ANTLR 2.7.4 went fine but when running I'm
getting this:

$  java Main < test.in
exception: <stdin>:1:4: expecting one of (''''''''''''\t''
                                                          ''
                                                            ''\r'''''
'''''''''''''''''''''''''1''2''3''4''5''6''7''8''9'':'';''<''=''>''?'
'@''A''B''C''D''E''F''G''H''I''J''K''L''M''N''O''P''Q''R''S''T''U''V'
'W''X''Y''Z''[''\'']''^''_''`''a''b''c''d''e''f''g''h''i''j''k''l''m'
'n''o''p''q''r''s''t''u''v''w''x''y''z''{''|''}''~''''''''''''
                ''''''''''''''''''''''''[..]

Appears not to work this way. Is it working on your box?

Cheers,
Wolfgang.








 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From dcaton at shorelinesoftware.com  Fri Oct 22 06:55:54 2004
From: dcaton at shorelinesoftware.com (Don Caton)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <claqp7+l75m@eGroups.com>
Message-ID: <1098453164.20053@mx9.mysite4now.com>


Michael:

> I suspect because developing in Java is more productive and, 

Ugh.  I've heard this argument raised many times, whether it's from the VB
crowd or the Delphi crowd or whoever.  Whether one language is "more
productive" than any other has far more to do with the skills and experience
of the person using the language in question, rather than the language
itself.  Even given someone who has equal expertise in multiple languages,
declaring one to be more productive than another is still subjective, and of
course, also dependent upon the particular task at hand.

Whether the ANTLR development effort over the years would be been less
productive if C++ was used is questionable.  Ter could be just as proficient
in C++ as he is in Java, and just chose Java for other reasons (which is why
I asked).

True that it would be impractical to post binaries for all platforms, but
given the nature of ANTLR, I would assume that most people interested in
such a tool would have access to a C++ compiler.  It's not uncommon on most
platforms to build your own tools from source code.

> Incidentally, the DFA-as-bytecode generation issue isn't a 
> runtime limitation, it is a *language* limitation

Yes, and that's the reason I raised the issue.  Whenever you have to resort
to a hack in order to work around a fundamental language limitation, that
(IMO) calls into question whether the right language is being used for the
job.  It seems curious that Java has a goto in its runtime but no way to
express that in the language.

Regards,
 
Don Caton
Shoreline Software, Inc.
 

> -----Original Message-----
> From: micheal_jor [mailto:open.zone@virgin.net] 
> Sent: Friday, October 22, 2004 7:27 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: build issues: bytecode assembly 
> generation
> 
> 
> 
> --- In antlr-interest@yahoogroups.com, "Don Caton" 
> <dcaton@s...> wrote:
> > 
> > Terence:
> 
> Well, I'm obviously not Ter but...
> 
> > I haven't been a subscriber to this list for too long, so forgive me
> if this
> > has already been discussed, but...
> > 
> > Why did you write Antlr in Java in the first place, and why are you
> fighting
> > with these issues?
> 
> I suspect because developing in Java is more productive and, 
> Java delivers cross-OS portability more easily than C++ does. 
> Just think about the work that would be involved in simply 
> providing binary builds of the tool [on the website] for all 
> the different platforms that the Java version runs on today.
> 
> > C++ is at least as portable as Java and it has no
> > runtime to impose limitations that get the way of what you 
> need to do.
> 
> Given that C++ has a goto statement, there would indeed be no 
> need to generate assembly but the less productive (compared 
> to Java) development effort over the years would have 
> nullified any advantage this particular difference represents.
> 
> Incidentally, the DFA-as-bytecode generation issue isn't a 
> runtime limitation, it is a *language* limitation - the lack 
> of a goto [any label] statement in Java. Ter's intent is to 
> use the runtime to bypass a limitation in the language.
> 
> > I'm
> > not anti-Java, but I don't see what benefits it brings to the table 
> > over
> > C++, at least not for this kind of programming task.  
> 
> Better productivity, easier cross-OS portability and a lower 
> barrier to entry for prospective contributors.
> 
> Micheal
> 
> 
> 
> 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
> 
>  
> 
> 
> 
> 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ewbank at synopsys.com  Fri Oct 22 07:15:05 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] protected parser production?
Message-ID: <ODEDLGHNIFGKLNIHIHLLMEJLCPAA.ewbank@synopsys.com>


Is there a way to mark a parser (or treeparser) production as non-public?  I
am defining lots and lots of tree parsers, but I want to limit the interface
to be only the "top" productions of the generated objects.

Thanks for any guidance or suggestions.
- Bryan Ewbank
"The best tool for requirements analysis and design is a crayon"



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Fri Oct 22 07:37:01 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] protected parser production?
In-Reply-To: <ODEDLGHNIFGKLNIHIHLLMEJLCPAA.ewbank@synopsys.com>
References: <ODEDLGHNIFGKLNIHIHLLMEJLCPAA.ewbank@synopsys.com>
Message-ID: <D5B81BF3-2437-11D9-9AE8-000393B5606C@codetransform.com>


I don't think that's supported, though you can try "protected" like in 
the lexer.  I'm not even sure if you can specify an interface for the 
tree parser to implement, which would be one way around it.  You may 
have to wrap your tree parsers with another class.

Monty

On Oct 22, 2004, at 7:15 AM, Bryan Ewbank wrote:

>
> Is there a way to mark a parser (or treeparser) production as 
> non-public?  I
> am defining lots and lots of tree parsers, but I want to limit the 
> interface
> to be only the "top" productions of the generated objects.
>
> Thanks for any guidance or suggestions.
- Bryan Ewbank
> "The best tool for requirements analysis and design is a crayon"
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From sk at z.pl  Fri Oct 22 07:46:31 2004
From: sk at z.pl (Sebastian Kaliszewski)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <1098453164.20053@mx9.mysite4now.com>
References: <1098453164.20053@mx9.mysite4now.com>
Message-ID: <41791D47.7080704@softax.pl>


Don Caton wrote:
[snip]
> Yes, and that's the reason I raised the issue.  Whenever you have to resort
> to a hack in order to work around a fundamental language limitation, that
> (IMO) calls into question whether the right language is being used for the
> job.  It seems curious that Java has a goto in its runtime but no way to
> express that in the language.
> 


The thing is that the problem touches not the ANTLR itself, but the code 
generated by ANTLR from user grammar (.g) files. Athe only other option 
would be to not generate Java at all, which is, given the ANTLR's user base 
not an option at all.

rgds
-- 
Sebastian Kaliszewski



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ewbank at synopsys.com  Fri Oct 22 08:02:38 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <1098453164.20053@mx9.mysite4now.com>
Message-ID: <ODEDLGHNIFGKLNIHIHLLIEJMCPAA.ewbank@synopsys.com>


> > I'm not anti-Java, but I don't see what benefits it brings to the table
> > over C++, at least not for this kind of programming task.
>
> Better productivity, easier cross-OS portability and a lower
> barrier to entry for prospective contributors.
>
> Micheal

Not lower barriers - just different barriers.  In fact, one of the reasons I
avoided ANTLR until very recently was that it was itself written in java and
does not come with an "automatic" build, nor docs for a non-java user to
learn how to build and execute it.  I'd still be using lex/yacc except for
the good discussion on the mailing list.

For me, C is the universal assembly language.  I need speed, I generate C.
I'm toying with getting ANTLR to generate C, but don't have the incentive to
do so at this time; perhaps next year.

- Bryan E



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From mtiller at ford.com  Fri Oct 22 08:01:28 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] build issues: bytecode assembly generation
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB340483FD8B@na1fcm52.dearborn.ford.com>


> From: Don Caton [mailto:dcaton@shorelinesoftware.com]
> Subject: RE: [antlr-interest] build issues: bytecode assembly
generation
> 
> 
> 
> Terence:
> 
> I haven't been a subscriber to this list for too long, so forgive me
if
> this
> has already been discussed, but...
> 
> Why did you write Antlr in Java in the first place, and why are you
> fighting with these issues?

This is two questions.  The first, "why did you write ANTLR in Java in
the first place" is a non-question.  There are many good reasons to have
written it in Java and there are many good reasons to have written it in
other language.  It was obviously a design decision and I don't think
you can make any serious claim that it was a bad decision.

Now the "why are you fighting with these issues" question implies that
somehow this bytecode issue could have been foreseen somehow and that it
condemns the original "why Java" decision making process.  The reality
is that what Terence is trying to do is optimize something and compiling
it into bytecode isn't the only way but it is an efficient way to handle
it.  Java (the language) isn't such a serious impediment here that it
negates all the reasons for choosing Java.  More philosophically, every
language has its drawbacks.  Recognizing this, it is always possible to
say "Why did you write ANTLR in XYZ in the first place, and why are you
fighting these issues".  For each value of "XYZ" there WILL BE issues.
It is inescapable.

All that being said, I have a C++ background and I've used the C++ code
generator in ANTLR.  If you want to use ANTLR with C++ YOU CAN DO THAT.
ANTLR's code generation is completely separate from the "compiler
compiler" tool (which happens to be written in Java).

I've personally switched from C++ to Java recently for many reasons and
from my perspective, Terence has done an excellent job of both serving
the needs of the community while simultaneously developing some great
technology all in a relatively language agnostic way.  So I don't think
there is any merit to criticizing any of his significant design
decisions.

> C++ is at least as portable as Java and it has no
> runtime to impose limitations that get the way of what you need to do.

I used to think this way up until recently and now I don't.  It is all a
matter of perspective.  Again, ANTLR doesn't prevent you from writing in
C++ so you really can have it both ways.

> I'm not anti-Java, but I don't see what benefits it brings to the
> table over C++, at least not for this kind of programming task.

Rather than argue with you about it all I can say is "then use C++".

> Don

--
Mike



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Fri Oct 22 08:39:54 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] build issues: bytecode assembly generation
In-Reply-To: <1098407138.9961@mx9.mysite4now.com>
References: <1098407138.9961@mx9.mysite4now.com>
Message-ID: <9EAFF84E-2440-11D9-B644-000393BB647E@cs.usfca.edu>



On Oct 21, 2004, at 6:08 PM, Don Caton wrote:
Hi Don,

> Why did you write Antlr in Java in the first place, and why are you 
> fighting
> with these issues?  C++ is at least as portable as Java

I'm not sure I can agree with this.  C++ still seems so incompatible 
between compilers; there is nothing but chatter about why people can't 
get the ANTLR C++ output to work with their compiler. ;)

> and it has no
> runtime to impose limitations that get the way of what you need to do. 
>  I'm

True, but that says nothing about the language antlr is written 
in...that's output runtime stuff. :)  (the goto stuff we're talking 
about I presume).

Plus, antlr is a much better product with garbage collection as a whole 
host of bugs go away. :)

Thanks,
Ter





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From dcaton at shorelinesoftware.com  Fri Oct 22 08:43:37 2004
From: dcaton at shorelinesoftware.com (Don Caton)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] build issues: bytecode assembly generation
In-Reply-To: <FD35CB8B26F9534E86D1AC31F401AB340483FD8B@na1fcm52.dearborn.ford.com>
Message-ID: <1098459627.3447@mx9.mysite4now.com>


Michael:

> was obviously a design decision and I don't think you can 
> make any serious claim that it was a bad decision.

I never made any such claim, serious or otherwise; I was simply asking what
the reason for choosing Java was.  I believe that PCCTS was written in C++
(or C) and wondered why Ter switched to Java for ANTLR.  No criticism or
judgment was made, or intended.

I'm using ANTLR in a commercial compiler product, written in C++, so I'm
well aware of ANTLR's capabilities in that regard.  And I'm delighted with
it, and extremely grateful to Ter (and all the others) for all the work he's
put into it.

> Rather than argue with you about it all I can say is "then use C++".

I haven't the slightest desire to argue about anything; life's too short to
argue about such things.  But like I said in a previous post, when a
roadblock arises because of a fundamental limitation in the language, for me
it raises a question about whether or not the proper language is being used.
I'm not saying (or implying) that it is or isn't, I'm just curious as to why
it is written in Java, especially when it stared out in life in C or C++,
and given the fact that C++ is also very portable.  Just because a question
is raised doesn't mean it should be taken as criticism.  You don't learn
anything unless you ask, right?

Regards,
 
Don Caton
Shoreline Software, Inc.
 

> -----Original Message-----
> From: Tiller, Michael (M.M.) [mailto:mtiller@ford.com] 
> Sent: Friday, October 22, 2004 11:01 AM
> To: antlr-interest@yahoogroups.com
> Subject: RE: [antlr-interest] build issues: bytecode assembly 
> generation
> 
> 
> > From: Don Caton [mailto:dcaton@shorelinesoftware.com]
> > Subject: RE: [antlr-interest] build issues: bytecode assembly
> generation
> > 
> > 
> > 
> > Terence:
> > 
> > I haven't been a subscriber to this list for too long, so forgive me
> if
> > this
> > has already been discussed, but...
> > 
> > Why did you write Antlr in Java in the first place, and why are you 
> > fighting with these issues?
> 
> This is two questions.  The first, "why did you write ANTLR 
> in Java in the first place" is a non-question.  There are 
> many good reasons to have written it in Java and there are 
> many good reasons to have written it in other language.  It 
> was obviously a design decision and I don't think you can 
> make any serious claim that it was a bad decision.
> 
> Now the "why are you fighting with these issues" question 
> implies that somehow this bytecode issue could have been 
> foreseen somehow and that it condemns the original "why Java" 
> decision making process.  The reality is that what Terence is 
> trying to do is optimize something and compiling it into 
> bytecode isn't the only way but it is an efficient way to 
> handle it.  Java (the language) isn't such a serious 
> impediment here that it negates all the reasons for choosing 
> Java.  More philosophically, every language has its 
> drawbacks.  Recognizing this, it is always possible to say 
> "Why did you write ANTLR in XYZ in the first place, and why 
> are you fighting these issues".  For each value of "XYZ" 
> there WILL BE issues.
> It is inescapable.
> 
> All that being said, I have a C++ background and I've used 
> the C++ code generator in ANTLR.  If you want to use ANTLR 
> with C++ YOU CAN DO THAT.
> ANTLR's code generation is completely separate from the 
> "compiler compiler" tool (which happens to be written in Java).
> 
> I've personally switched from C++ to Java recently for many 
> reasons and from my perspective, Terence has done an 
> excellent job of both serving the needs of the community 
> while simultaneously developing some great technology all in 
> a relatively language agnostic way.  So I don't think there 
> is any merit to criticizing any of his significant design decisions.
> 
> > C++ is at least as portable as Java and it has no
> > runtime to impose limitations that get the way of what you 
> need to do.
> 
> I used to think this way up until recently and now I don't.  
> It is all a matter of perspective.  Again, ANTLR doesn't 
> prevent you from writing in
> C++ so you really can have it both ways.
> 
> > I'm not anti-Java, but I don't see what benefits it brings to the 
> > table over C++, at least not for this kind of programming task.
> 
> Rather than argue with you about it all I can say is "then use C++".
> 
> > Don
> 
> --
> Mike
> 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
> 
>  
> 
> 
> 
> 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From open.zone at virgin.net  Fri Oct 22 08:47:28 2004
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <1098453164.20053@mx9.mysite4now.com>
Message-ID: <clba2g+m1rt@eGroups.com>



--- In antlr-interest@yahoogroups.com, "Don Caton" <dcaton@s...> wrote:
> Michael:
> 
> > I suspect because developing in Java is more productive and, 
> 
> Ugh.  I've heard this argument raised many times, whether it's from
the VB
> crowd or the Delphi crowd or whoever.  Whether one language is "more
> productive" than any other has far more to do with the skills and
experience
> of the person using the language in question, rather than the language
> itself.

Given developers with the same level of proficiency and experience
with C++ and Java, most will be able to produce an application like
ANTLR much more quickly and easily with Java than C++. There are of
course some applications where the need to optimize memory usage
and/or speed aggressively suggest C++ (or perhaps C or assembly
language) might be a better choice.

> Whether the ANTLR development effort over the years would be been less
> productive if C++ was used is questionable.

Not at all. Ensuring it compiled correctly on a variety of C++
compilers across many OS platforms would have been a job in itself.

> True that it would be impractical to post binaries for all
platforms, but
> given the nature of ANTLR, I would assume that most people interested in
> such a tool would have access to a C++ compiler.  It's not uncommon
on most
> platforms to build your own tools from source code.

ANTLR users all have access to gcc I suppose but, that is far from
saying they are C++ developers and can fix any issues that arise while
attempting a build. Many are Java or C# developers and may be quite
unused to compiling C++ projects. Lex/Yacc certainly don't require
this level of familiarity.

> > Incidentally, the DFA-as-bytecode generation issue isn't a 
> > runtime limitation, it is a *language* limitation
> 
> Yes, and that's the reason I raised the issue.  Whenever you have to
resort
> to a hack in order to work around a fundamental language limitation,
that
> (IMO) calls into question whether the right language is being used
for the
> job.

Perhaps. In this case my understanding is that Ter can already
generate Java code for the generated DFAs. He is now trying to
optimize the DFA generation/representation for Java targets. IOW, this
isn't an issue about the ANTLR tool itself. DFA generation for C++, C#
and other targets aren't affected and would presumably use those
language's features (including any required hacks to make them
similarly efficient).

> It seems curious that Java has a goto in its runtime but no way to
> express that in the language.

I seem to remember it has something to do with Java's secure mobile
code aspirations.

Micheal






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Fri Oct 22 08:47:57 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] build issues: bytecode assembly generation
In-Reply-To: <ODEDLGHNIFGKLNIHIHLLGEJLCPAA.ewbank@synopsys.com>
References: <ODEDLGHNIFGKLNIHIHLLGEJLCPAA.ewbank@synopsys.com>
Message-ID: <BE8947EA-2441-11D9-B644-000393BB647E@cs.usfca.edu>



On Oct 22, 2004, at 5:54 AM, Bryan Ewbank wrote:

>
>> I just had another idea.  The original problem is "I need gotos in
>> Java."
>
> After all this, do you really need gotos?  How's about using a 
> while/switch
> combination instead?
>
> It provides the same flexibility - bits of code executed in specific
> orders - but avoids the need to hack the generated code.  It's also, at
> least from what I've seen, the usual way to implement NFA/DFA with code
> instead of tables.  For example...
>
> 	int state = START;
> 	while(state != END)
> 	{
> 	    switch (state)
> 	    {
> 	    case START:
> 	        ...
> 	        state=20;
> 	        break;
> 	    case 20:
> 	        ...
> 	        state=21;
> 	        if (...) state=42;
> 	        break;
> 	        ... ... ...
> 	    }
> 	}

Yep, I thought of this too...the problem is that it's too inefficient 
once you get many many states in there...not sure how many is too many 
either.  Certainly Java will impose some limit on the number of cases 
as well (255?).

> This still keeps the "pretty much what you'd do by hand" model that 
> ANTRL
> uses for other parts of the generated code, and avoids the headaches 
> of the
> whole hacking-the-code problem.

Good though Bryan.

Anyway, I have now completed changes to the templates so that they 
generate bytecodes instead of Java.  I just have to add the concept of 
writing a second file and the bytecodes can go to mygrammar_DFA.class.  
I have a few improvements to make to the assembler as well.  It's 
amazing that the template system for 3.0 code generation is happy doing 
Java, C, and bytecodes right now...just by changing a template file!!!

Terence





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From open.zone at virgin.net  Fri Oct 22 09:01:08 2004
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <ODEDLGHNIFGKLNIHIHLLIEJMCPAA.ewbank@synopsys.com>
Message-ID: <clbas4+hcfi@eGroups.com>



--- In antlr-interest@yahoogroups.com, "Bryan Ewbank" <ewbank@s...> wrote:
> > > I'm not anti-Java, but I don't see what benefits it brings to
the table
> > > over C++, at least not for this kind of programming task.
> >
> > Better productivity, easier cross-OS portability and a lower
> > barrier to entry for prospective contributors.
> >
> > Micheal
> 
> Not lower barriers - just different barriers.

Both actually, different and lower...  ;-)

> In fact, one of the reasons I
> avoided ANTLR until very recently was that it was itself written in
java and
> does not come with an "automatic" build, nor docs for a non-java user to
> learn how to build and execute it.  I'd still be using lex/yacc
except for
> the good discussion on the mailing list.

You raised a few good points about the ANTLR build process. Ter's
desire for a completely self-bootstrapping distribution can lead to
moments of "frisson" if one ever decides to rebuild ANTLR from scratch.

Perhaps someone on the list would be moved to provide an Ant build
file, ANTLR task for Ant and some docs an alternative.

> For me, C is the universal assembly language.  I need speed, I
generate C.
> I'm toying with getting ANTLR to generate C, but don't have the
incentive to
> do so at this time; perhaps next year.

Ric has already done that I believe with ANTLR3. I'm looking forward
to that too.

Micheal






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Fri Oct 22 09:04:00 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] code gen can do both java source and bytecodes, btw
Message-ID: <FCA17C56-2443-11D9-B644-000393BB647E@cs.usfca.edu>


Howdy folks,

One thing I should make clear.  My design goals for the antlr code 
generator are anything but modest...  I want retargeting by changing a 
text file not code, optimizing the output by changing templates, etc... 
  These goals are starting to be validated.  Ric built the C code 
generator in 2 days and I built the bytecode output for the DFA 
generator yesterday (took me a while to get the infrastructure like the 
assembler together though <wink>).

The beauty is that I have *added* code gen capability not *changed* 
it...the "generate pure java source DFA" templates are still there.  
Just change a pointer and out comes Java in your generated parser.java 
file rather than bytecodes in another file.

These templates are really amazing.  The key insight to making 
templates so retargetable is avoiding code in the templates.  
StringTemplate is essentially the only widely-used (and powerful 
enough) engine that strictly enforces this rule.  Consequently, I know 
that any template I write can be retargeted.  That's pretty cool: 
bytecodes, java, and C all without changing the code generator (except 
for sending in a few more data attributes to the templates that C and 
bytecodes needed).

Ter
PS	for speed freaks, you can cut/paste (or use template 
inheritance<evil grin>) to make a variant of the bytecode generator 
that inlines all of the LA() and consume() method calls.  Given a 
buffered char or token stream, this should amount to buffer[i] and i++. 
  Can you say SPEEEED?  Each person can tweak for their own needs or 
not--all without changing the code!

PPS	 As I have the generator doing bytecodes now, I can estimate the 
number of max states in a single DFA before Java blocks me again.  it's 
somewhere near 2000, which I hope is good enough.  I looked at the 
oracle 7 grammar from antlr.org and it shows only like 80 keywords 
(although now that I say that, it sounds like a big language <wink>).  
Anyway, at a max of 10 states per keyword (it would be much less), you 
would still reach only 800 states for all keywords.  I think we'll be 
ok.

tallyho!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-HM8PyxRAGN8aT2_YJeqTGuQ at yahoogroups.com  Fri Oct 22 09:12:28 2004
From: antlr-interest-accept-HM8PyxRAGN8aT2_YJeqTGuQ at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:24 2004
Subject: MODERATE -- barry.j.kelly@gmail.com posted to antlr-interest
Message-ID: <1098461548.529.16097.m20@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  barry.j.kelly@gmail.com 

The message summary:
--------------------
FROM: barry.j.kelly@gmail.com 
DATE: Fri, 22 Oct 2004 17:11:24 +0100 
SUBJECT: Best practice for ASTs with expression types / annotation / pattern matching on annotations 

I'm writing what will, essentially, be a functional language

interpreter. This means that the program is formed from 
expression trees. My strategy looks something like this: 

1) Use buildAST=true to create the initial AST in the 
grammar. 2) Use a tree parser to rewrite adding in type 
information. At first I thought of using a 'prefix' node to 
indicate type, so that, for every subtree where it logically
plugs into another tree grammar production, has a new root 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=348 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-HM8PyxRAGN8aT2_YJeqTGuQ@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: Barry Kelly <barry.j.kelly@gmail.com>
Subject: Best practice for ASTs with expression types / annotation / pattern matching on annotations
Date: Fri, 22 Oct 2004 17:11:24 +0100
Size: 3029
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041022/1689c81e/attachment.mht
From dcaton at shorelinesoftware.com  Fri Oct 22 09:25:38 2004
From: dcaton at shorelinesoftware.com (Don Caton)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <clba2g+m1rt@eGroups.com>
Message-ID: <1098462148.4882@mx9.mysite4now.com>


Michael:

Yes, I will certainly agree that compiling on various platforms can be a
headache.  I've seen cross-platform C++ headers that would make your eyes
bleed.  But OTOH, user contributions from ANTLR users on various platforms
could assist in that effort.  And to be honest, there's no "official"
support for Antlr on Windows platforms to speak of.  It took quite a bit of
trial and error to get Antlr to even run under Windows. 

> Given developers with the same level of proficiency and 
> experience with C++ and Java, most will be able to produce an 
> application like ANTLR much more quickly and easily with Java 
> than C++. 

Well, with all due respect I'm not sure how you can make that assertion.
IMO, it depends to a large degree on the individual programmer.  If any
particular language was significantly easier to use, everyone would be using
it.  In any case, this is a philosophical issue on which we may simply
disagree.

>           There are of course some applications where the 
> need to optimize memory usage and/or speed aggressively 
> suggest C++ (or perhaps C or assembly
> language) might be a better choice.

Yes, like parsers <g>.  In a debug build, it takes my antlr-generated (C++)
parser about 15 seconds to parse a 77k source file.  With full optimizations
enabled, the same code finishes in slightly under 2 seconds.  I'm not
kidding.  I was sweating bullets when got my parser to work and found it was
so slow.

Regards,
 
Don Caton
Shoreline Software, Inc.
 

> -----Original Message-----
> From: micheal_jor [mailto:open.zone@virgin.net] 
> Sent: Friday, October 22, 2004 11:47 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: build issues: bytecode assembly 
> generation
> 
> 
> 
> --- In antlr-interest@yahoogroups.com, "Don Caton" 
> <dcaton@s...> wrote:
> > Michael:
> > 
> > > I suspect because developing in Java is more productive and,
> > 
> > Ugh.  I've heard this argument raised many times, whether it's from
> the VB
> > crowd or the Delphi crowd or whoever.  Whether one language 
> is "more 
> > productive" than any other has far more to do with the skills and
> experience
> > of the person using the language in question, rather than 
> the language 
> > itself.
> 
> Given developers with the same level of proficiency and 
> experience with C++ and Java, most will be able to produce an 
> application like ANTLR much more quickly and easily with Java 
> than C++. There are of course some applications where the 
> need to optimize memory usage and/or speed aggressively 
> suggest C++ (or perhaps C or assembly
> language) might be a better choice.
> 
> > Whether the ANTLR development effort over the years would 
> be been less 
> > productive if C++ was used is questionable.
> 
> Not at all. Ensuring it compiled correctly on a variety of 
> C++ compilers across many OS platforms would have been a job 
> in itself.
> 
> > True that it would be impractical to post binaries for all
> platforms, but
> > given the nature of ANTLR, I would assume that most people 
> interested 
> > in such a tool would have access to a C++ compiler.  It's 
> not uncommon
> on most
> > platforms to build your own tools from source code.
> 
> ANTLR users all have access to gcc I suppose but, that is far 
> from saying they are C++ developers and can fix any issues 
> that arise while attempting a build. Many are Java or C# 
> developers and may be quite unused to compiling C++ projects. 
> Lex/Yacc certainly don't require this level of familiarity.
> 
> > > Incidentally, the DFA-as-bytecode generation issue isn't 
> a runtime 
> > > limitation, it is a *language* limitation
> > 
> > Yes, and that's the reason I raised the issue.  Whenever you have to
> resort
> > to a hack in order to work around a fundamental language limitation,
> that
> > (IMO) calls into question whether the right language is being used
> for the
> > job.
> 
> Perhaps. In this case my understanding is that Ter can 
> already generate Java code for the generated DFAs. He is now 
> trying to optimize the DFA generation/representation for Java 
> targets. IOW, this isn't an issue about the ANTLR tool 
> itself. DFA generation for C++, C# and other targets aren't 
> affected and would presumably use those language's features 
> (including any required hacks to make them similarly efficient).
> 
> > It seems curious that Java has a goto in its runtime but no way to 
> > express that in the language.
> 
> I seem to remember it has something to do with Java's secure 
> mobile code aspirations.
> 
> Micheal
> 
> 
> 
> 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
> 
>  
> 
> 
> 
> 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From barry.j.kelly at gmail.com  Fri Oct 22 09:11:24 2004
From: barry.j.kelly at gmail.com (Barry Kelly)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Best practice for ASTs with expression types / annotation / pattern matching on annotations
Message-ID: <3adf6db804102209115b7da541@mail.gmail.com>



I'm writing what will, essentially, be a functional language
interpreter. This means that the program is formed from expression
trees. My strategy looks something like this:

1) Use buildAST=true to create the initial AST in the grammar.
2) Use a tree parser to rewrite adding in type information. At first I
thought of using a 'prefix' node to indicate type, so that, for every
subtree where it logically plugs into another tree grammar production,
has a new root node which indicates the type of the subtree
expression:

"if x then y else z" => (IF x y z) initially
- Perform type lookup on y discovering it is an int.
- Perform type lookup on z discovering it is a float.
- Rewrite the tree so that it looks something like:

  (FLOAT (IF_FLOAT (BOOL x) (FLOAT (INT_TO_FLOAT (INT y))) (FLOAT z))).

The idea behind these prefixes is that tree grammar rewriting
productions can be written that match on the types, doing:

ifFloat
  :! #(IF a:BOOL b:FLOAT c:INT)
     { #ifFloat = #([FLOAT] #([IF_FLOAT] a b #([FLOAT] #([INT_TO_FLOAT] c))); }
  ;

(Excuse syntactical inaccuracies, I'm evaluating strategies, I haven't
decided to try to build it this way yet.)

Is this path destined to disaster? Should I use some kind of
attribute-based system instead, possibly using syntactical predicates?
Will I run into problems with k=1 lookahead in the AST and matching?

-- Barry Kelly





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From barry.j.kelly at gmail.com  Fri Oct 22 10:28:50 2004
From: barry.j.kelly at gmail.com (Barry Kelly)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <1098462148.4882@mx9.mysite4now.com>
References: <clba2g+m1rt@eGroups.com> <1098462148.4882@mx9.mysite4now.com>
Message-ID: <3adf6db804102210284d772a26@mail.gmail.com>


> It took quite a bit of
> trial and error to get Antlr to even run under Windows.

I'm not so sure of that. When compiled with MinGW GCJ it depends on
nothing which doesn't come with Windows. I've posted a .exe binary on
the ANTLR website compiled like this. It certainly *isn't* a language
issue.

> If any
> particular language was significantly easier to use, everyone would be using
> it.  In any case, this is a philosophical issue on which we may simply
> disagree.

Any time this kind of subject comes up in any discussion anywhere, it
never goes anywhere! Let's not argue.

-- Barry


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From iank at bearcave.com  Fri Oct 22 10:43:09 2004
From: iank at bearcave.com (iank@bearcave.com)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Why Java programmers are more productive...
Message-ID: <200410221743.i9MHh9u32586@shell2.webquarry.com>



> Well, with all due respect I'm not sure how you can make that
> assertion.  IMO, it depends to a large degree on the individual
> programmer.  If any particular language was significantly easier to
> use, everyone would be using it.  In any case, this is a
> philosophical issue on which we may simply disagree.

  I'm probably going regret jumping into this argument, but the little
  devil sitting on my shoulder is urging me on ("Come on, you know you
  want to do it").

  My background is in compiler design, although I don't do that much
  anymore.  For most of my career I've been a C and then a C++
  programmer.  I've been a core developer on a number of large C++
  projects that targeted a variety of different architectures.  I've
  developed C++ on both Windoz and UNIX (and Linux) systems.  I think
  that I have a pretty good command of C++ (see
  http://www.bearcave.com/software/string/index.html).  I would not
  choose to write an optimizing compiler in Java.  Having written all
  this, I'll also tell you that I am doing most of my development in
  Java these days.

  I do believe that writing software in Java takes less effort.  There
  are two reasons for this:

  1. Garbage collection.

     Garbage collection provides a big advantage in development
     effort.  Many C/C++ errors are memory related and programmers
     must spend noticable effort in memory management.  And yes I know
     that there are C++ garbage collectors, but unless the compiler is
     "garbage collection" aware, they may be unreliable (e.g., they
     leak).

  2. The class libraries.

     Java has the best platform independent class libraries available.
     Period.  I've used the commerical Rogue Wave libraries and I'm
     familiar with STL and the Boost libraries.  C++ simply does not
     have the range of standard libraries available.  This is
     especially true when you combine the libraries available from
     Sun, with those available from Apache and other sources (like the
     XML Pull Parser - see
     http://www.bearcave.com/software/java/xml/treebuilder.html).
  
     When it comes to some areas, like Web services (e.g., servlets,
     HTTP, SOAP), there is simply no competition.  Java just wins
     hands down with support from the Resin and Apache Tomcat Java
     application servers.

     Java also has excellent support for database access via packages
     like JDBC.  If you ever touch a database, most or all of Java's
     performance disadvantages disappear, since the application will
     be bottlenecked by database access.

  There are other issues as well.  The vast majority of programmers
  who write C/C++ code still use arrays as containers, rather than
  using objects.  As a result, half of the software security errors in
  C/C++ are buffer overflow related.  This has literally cost the
  world billions of dollars.  There have been successful security
  attacks on Java, but they are much more difficult.  Java, with its
  enforced memory boundaries is simply a safer language to develop in.
  Java also has the advantage of being built from the ground up with
  security in mind.  Although some of this design may be flawed, at
  least it was considered.

  Ian Kaplan


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From virtualaspirin at yahoo.com  Fri Oct 22 12:44:25 2004
From: virtualaspirin at yahoo.com (Akhilesh Mritunjai)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Java Vs C++ war [sadly, was :Re: build issues: bytecode assembly generation]
In-Reply-To: <1098462148.4882@mx9.mysite4now.com>
Message-ID: <20041022194425.40315.qmail@web54708.mail.yahoo.com>



--- Don Caton <dcaton@shorelinesoftware.com> wrote:

> bleed.  But OTOH, user contributions from ANTLR
> users on various platforms
> could assist in that effort.  And to be honest,

Contributions from 1000s would make it work, at the
same time would make it difficult to maintain and
extend even by 1!! Right now Terrence and Rick can
develope the whole thing *alone*.

> there's no "official"
> support for Antlr on Windows platforms to speak of. 
> It took quite a bit of
> trial and error to get Antlr to even run under
> Windows. 

With due respect, here is an unofficial version:

1. Download JRE from java.sun.com
2. Click-n-Install
3. Open command prompt (start->run-> type "cmd")
4. Type "java -cp C:\path\to\antlr.jar antlr.Tool"
5. Enjoy

> 
> Yes, like parsers <g>.  In a debug build, it takes
> my antlr-generated (C++)
> parser about 15 seconds to parse a 77k source file. 
> With full optimizations
> enabled, the same code finishes in slightly under 2
> seconds.  I'm not
> kidding.  I was sweating bullets when got my parser
> to work and found it was
> so slow.

And this is a Java limitiation, How ??

ANTLR is just a parser "generator". It doesn't parse
your source files itself. ANTLR can generate
Java/C++/C# code as per your convenience and the C++
code will run like any other similar C++ code
generated by other means. Please enlighten me how the
choice of language in which "generator" is written
affects the quality/speed of "generated" program ?? 

For that reason it doesn't matter even if antlr was
written as shell or perl script !!! It generates C++
code fine and now its your compiler/system's task to
compile/run it fast.

Sadly this discussion has degenerated into language of
choice for ANTLR, whereas the whole point Terrence was
pointing to was optimizing ANTLR's "output for java
parser". Folks, it had NOTHING to do with language in
which antlr *itself* has been written... 

take my 2 paise and please drop this pointless
discussion here!

- akhilesh


		
__________________________________
Do you Yahoo!?
Read only the mail you want - Yahoo! Mail SpamGuard.
http://promotions.yahoo.com/new_mail 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From open.zone at virgin.net  Fri Oct 22 17:29:33 2004
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <1098462148.4882@mx9.mysite4now.com>
Message-ID: <clc8ld+8qlg@eGroups.com>



--- In antlr-interest@yahoogroups.com, "Don Caton" <dcaton@s...> wrote:
>  And to be honest, there's no "official"
> support for Antlr on Windows platforms to speak of.  It took quite a
bit of
> trial and error to get Antlr to even run under Windows. 

I presume you mean support for "using the ANTLR C++ code generator and
runtime library with MSVC++ on Windows". If so, all I can say is that
the support has gotten much better since 2.7.4 was released (Ric now
has MS's compiler I believe). There has been a lot of useful
discussion on this list about ANTLR/C++ on Windows.

> > Given developers with the same level of proficiency and 
> > experience with C++ and Java, most will be able to produce an 
> > application like ANTLR much more quickly and easily with Java 
> > than C++. 
> 
> Well, with all due respect I'm not sure how you can make that assertion.

I based it on my experience, that of many colleagues and employers
(past and present) and, on the findings of quite a few published
studies including: 
- http://www.wellscs.com/robert/java/productivity.htm
- http://www.mind2machine.com/gb/openmind/index.php
- http://page.mi.fu-berlin.de/~prechelt/Biblio/jccpprtTR.pdf
- http://www.spirus.com.au/papersAndPresentations.shtml

> IMO, it depends to a large degree on the individual programmer.

Yes, productivity is generally more affected by individual programmer
skill than choice of implementation language.

> If any
> particular language was significantly easier to use, everyone would
be using
> it.

True. Of course no language is best at *everything* so we still get to
cherry pick...

> In any case, this is a philosophical issue on which we may simply
> disagree.

Not really. Productivity can be measured.

> >           There are of course some applications where the 
> > need to optimize memory usage and/or speed aggressively 
> > suggest C++ (or perhaps C or assembly
> > language) might be a better choice.
> 
> Yes, like parsers <g>.  In a debug build, it takes my
antlr-generated (C++)
> parser about 15 seconds to parse a 77k source file.  With full
optimizations
> enabled, the same code finishes in slightly under 2 seconds.  I'm not
> kidding.  I was sweating bullets when got my parser to work and
found it was
> so slow.

There are some efficiency issues with ANTLR lexers (especially if you
use the more advanced ANTLR lexer options) which ANTLR3 should fix.
The distribution has a sample showing how to couple Flex lexers to
ANTLR parsers. Search the list for past discussions.

Micheal







 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From dcaton at shorelinesoftware.com  Fri Oct 22 18:51:25 2004
From: dcaton at shorelinesoftware.com (Don Caton)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <clc8ld+8qlg@eGroups.com>
Message-ID: <1098496096.12287@mx9.mysite4now.com>


Michael:

Yes, support for using ANTLR with MSVC.  But I hope I don't sound like I'm
whining.  I did track down enough info to finally get it all working, and
the amount of effort that was required pales in comparison to the benefits
that Antlr provides.  But nevertheless, it isn't a straightforward sequence
of steps to get up and running with Antlr on Windows.  Java isn't present on
many, if not most Windows installations and it isn't something that most
Windows folks are familiar with.  And even if you find your way to java.com
and figure out what to d/l, who really wants to d/l a huge runtime
environment just to run a single tool?  The average Windows programmer
probably never heard of Cygwin or other emulators either.  The barrier to
entry is high enough on Windows that it may discourage people from using
Antlr, and that would be a real shame.

Perhaps when I have time to come up for air, I'll package the antlr stuff up
in a Windows installer and submit it to the antlr site, along with MSVC
project files and such.

Far as the studies you cite go, all they prove is that Java appears to be
the proper tool for those particular projects, and I don't doubt that at
all.  There's no question Java offers many benefits and it is a good choice
for many types of programming.  I just don't think parsing is something
you'd want to do in a language with the runtime overhead of Java.  I
probably wouldn't write a parser in a .NET language for the same reason.
Maybe a prototype, but not production code.

Regarding Antlr lexers, they do seem a bit sluggish, but with full
optimizations enabled in MSVC, I'm seeing at least a 10-fold increase in
performance, to the point where any increases in performance would not be
noticeable.  And this is on a non-trivial grammar.

Which brings me back to my original question of "why Java?" for this type of
thing?  I suppose for light duty parsing requirements it might be ok, but I
can't imagine that an Antlr-generated Java lexer/parser could ever approach
the speed of a fully optimized C++ one.  I'm rarely in favor of sacrificing
runtime efficiency for programmer convenience.

Regards,
 
Don Caton
Shoreline Software, Inc.
 

> -----Original Message-----
> From: micheal_jor [mailto:open.zone@virgin.net] 
> Sent: Friday, October 22, 2004 8:30 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: build issues: bytecode assembly 
> generation
> 
> 
> 
> --- In antlr-interest@yahoogroups.com, "Don Caton" 
> <dcaton@s...> wrote:
> >  And to be honest, there's no "official"
> > support for Antlr on Windows platforms to speak of.  It took quite a
> bit of
> > trial and error to get Antlr to even run under Windows. 
> 
> I presume you mean support for "using the ANTLR C++ code 
> generator and runtime library with MSVC++ on Windows". If so, 
> all I can say is that the support has gotten much better 
> since 2.7.4 was released (Ric now has MS's compiler I 
> believe). There has been a lot of useful discussion on this 
> list about ANTLR/C++ on Windows.
> 
> > > Given developers with the same level of proficiency and 
> experience 
> > > with C++ and Java, most will be able to produce an 
> application like 
> > > ANTLR much more quickly and easily with Java than C++.
> > 
> > Well, with all due respect I'm not sure how you can make 
> that assertion.
> 
> I based it on my experience, that of many colleagues and 
> employers (past and present) and, on the findings of quite a 
> few published studies including: 
> - http://www.wellscs.com/robert/java/productivity.htm
> - http://www.mind2machine.com/gb/openmind/index.php
> - http://page.mi.fu-berlin.de/~prechelt/Biblio/jccpprtTR.pdf
> - http://www.spirus.com.au/papersAndPresentations.shtml
> 
> > IMO, it depends to a large degree on the individual programmer.
> 
> Yes, productivity is generally more affected by individual 
> programmer skill than choice of implementation language.
> 
> > If any
> > particular language was significantly easier to use, everyone would
> be using
> > it.
> 
> True. Of course no language is best at *everything* so we 
> still get to cherry pick...
> 
> > In any case, this is a philosophical issue on which we may simply 
> > disagree.
> 
> Not really. Productivity can be measured.
> 
> > >           There are of course some applications where the need to 
> > > optimize memory usage and/or speed aggressively suggest C++ (or 
> > > perhaps C or assembly
> > > language) might be a better choice.
> > 
> > Yes, like parsers <g>.  In a debug build, it takes my
> antlr-generated (C++)
> > parser about 15 seconds to parse a 77k source file.  With full
> optimizations
> > enabled, the same code finishes in slightly under 2 
> seconds.  I'm not 
> > kidding.  I was sweating bullets when got my parser to work and
> found it was
> > so slow.
> 
> There are some efficiency issues with ANTLR lexers 
> (especially if you use the more advanced ANTLR lexer options) 
> which ANTLR3 should fix.
> The distribution has a sample showing how to couple Flex 
> lexers to ANTLR parsers. Search the list for past discussions.
> 
> Micheal
> 
> 
> 
> 
> 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
> 
>  
> 
> 
> 
> 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From johnm-antlr at non.net  Fri Oct 22 19:54:36 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Speed (was: build issues: bytecode assembly generation)
In-Reply-To: <1098462148.4882@mx9.mysite4now.com>
References: <clba2g+m1rt@eGroups.com>
	<1098462148.4882@mx9.mysite4now.com>
Message-ID: <16761.51180.400709.833959@despot.non.net>


>>>>> "Don" == Don Caton <dcaton@shorelinesoftware.com> writes:
[...]

> Yes, like parsers <g>.  In a debug build, it takes my antlr-generated
> (C++) parser about 15 seconds to parse a 77k source file.  With full
> optimizations enabled, the same code finishes in slightly under 2
> seconds.  I'm not kidding.  I was sweating bullets when got my parser to
> work and found it was so slow.

(A) That would be primarily due to slow lexing much more than the parser.

(B) In Antlr v2.x, if you really need lexing speed, you can always create a
flex-based lexer and use that to feed an Antlr-based parser.

(C) In Antlr v3, the generated the DFAs will be both fast and powerful.  As
Ter has mentioned again, the output generation in Antlr v3 is done via
pluggable StringTemplates so things like inlining lookahead or not (extra
speed vs. code size) will be trivial to change.

(D) In real terms, does that 2 seconds vs. 15 seconds really drive your
development style into some sort of major dysfunction?

Take care,
	John

P.S.	In terms of why Antlr v2 is written in Java, Ter and I have both
	talked about the history of this in the past on this list so, the
	curious can search the list archives.


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From johnm-antlr at non.net  Fri Oct 22 19:27:53 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Gotos in Java (was: build issues: bytecode assembly generation)
In-Reply-To: <clba2g+m1rt@eGroups.com>
References: <1098453164.20053@mx9.mysite4now.com>
	<clba2g+m1rt@eGroups.com>
Message-ID: <16761.49577.766369.225374@despot.non.net>


>>>>> "micheal" == micheal jor <open.zone@virgin.net> writes:
[...]

>> It seems curious that Java has a goto in its runtime but no way to
>> express that in the language.

> I seem to remember it has something to do with Java's secure mobile code
> aspirations.

Well, hmm... I guess you could argue that for things like no bare pointers
and non-local gotos.

The reason that regular/local gotos aren't in the Java *language* are
because they are seen as evil (from a "software engineering" perspective).

Gotos have to be in the Java Virtual Machine or it would be a bit hard to
get anything done. :-)

In terms of JVM security, there's e.g., the "bytecode verifier" which
enforces various rules on the loading of bytecodes into the JVM
implementation.

Take care,
	John


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From dcaton at shorelinesoftware.com  Fri Oct 22 22:51:48 2004
From: dcaton at shorelinesoftware.com (Don Caton)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Speed (was: build issues: bytecode assembly generation)
In-Reply-To: <16761.51180.400709.833959@despot.non.net>
Message-ID: <1098510520.21974@mx9.mysite4now.com>


John:

With full optimizations, the entire lexing/parsing/treewalking process is
plenty fast enough.  The pluggable string template thing is very
interesting, but it's too far away to have any impact on our current
development.  I've already modified some of the antlr headers so frequently
called methods can be inlined.  Not sure why those methods weren't already
in the hpp files.

> (D) In real terms, does that 2 seconds vs. 15 seconds really 
> drive your development style into some sort of major dysfunction?

I'm writing a commercial compiler.  If you were the user, recompiling a
project with 10 files, would you rather wait 150 seconds or 20?

There's no dysfunction or complaints here though; the C++ compiler does a
darn good job at optimizing antlr's code, so I'm a happy camper. 

Far as searching the archives, I've been there already, several times.
Yahoo's interface to these groups is horrible.  You can only enter basic
search terms and it only searches through a few hundred messages at a time.
There doesn't even appear to be any way to display messages in threaded
order.  It's just awful.  Do you know if there's an archive maintained
anywhere else besides Yahoo?

Regards,
 
Don Caton
Shoreline Software, Inc.
 

> -----Original Message-----
> From: John D. Mitchell [mailto:johnm-antlr@non.net] 
> Sent: Friday, October 22, 2004 10:55 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Speed (was: build issues: bytecode 
> assembly generation)
> 
> 
> >>>>> "Don" == Don Caton <dcaton@shorelinesoftware.com> writes:
> [...]
> 
> > Yes, like parsers <g>.  In a debug build, it takes my 
> antlr-generated
> > (C++) parser about 15 seconds to parse a 77k source file.  
> With full 
> > optimizations enabled, the same code finishes in slightly under 2 
> > seconds.  I'm not kidding.  I was sweating bullets when got 
> my parser 
> > to work and found it was so slow.
> 
> (A) That would be primarily due to slow lexing much more than 
> the parser.
> 
> (B) In Antlr v2.x, if you really need lexing speed, you can 
> always create a flex-based lexer and use that to feed an 
> Antlr-based parser.
> 
> (C) In Antlr v3, the generated the DFAs will be both fast and 
> powerful.  As Ter has mentioned again, the output generation 
> in Antlr v3 is done via pluggable StringTemplates so things 
> like inlining lookahead or not (extra speed vs. code size) 
> will be trivial to change.
> 
> (D) In real terms, does that 2 seconds vs. 15 seconds really 
> drive your development style into some sort of major dysfunction?
> 
> Take care,
> 	John
> 
> P.S.	In terms of why Antlr v2 is written in Java, Ter and I have both
> 	talked about the history of this in the past on this 
> list so, the
> 	curious can search the list archives.
> 
> 
>  
> Yahoo! Groups Links
> 
> 
> 
>  
> 
> 
> 
> 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From sunshine at public.kherson.ua  Fri Oct 22 22:58:26 2004
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Speed (was: build issues: bytecode assembly
	generation)
In-Reply-To: <1098510520.21974@mx9.mysite4now.com>
Message-ID: <BD9FCDB2.267CB%sunshine@public.kherson.ua>


On 10/23/04 8:51 AM, "Don Caton" <dcaton@shorelinesoftware.com> wrote:

> John:
> 
> With full optimizations, the entire lexing/parsing/treewalking process is
> plenty fast enough.  The pluggable string template thing is very
> interesting, but it's too far away to have any impact on our current
> development.  I've already modified some of the antlr headers so frequently
> called methods can be inlined.  Not sure why those methods weren't already
> in the hpp files.

Because ANTLR developers says:

    we want correct tool in the first turn
    we do not care about fast tool.

:-)

I also have many times point this things.
Other developers too.

Point was that this is very simple refactoring.
It cannot bring bugs....but...we still there.


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From johnm-antlr at non.net  Fri Oct 22 23:19:31 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Speed (was: build issues: bytecode assembly
	generation)
In-Reply-To: <BD9FCDB2.267CB%sunshine@public.kherson.ua>
References: <1098510520.21974@mx9.mysite4now.com>
	<BD9FCDB2.267CB%sunshine@public.kherson.ua>
Message-ID: <16761.63475.845880.573150@despot.non.net>


>>>>> "Ruslan" == Ruslan Zasukhin <sunshine@public.kherson.ua> writes:
[...]

> I also have many times point this things.  Other developers too.

> Point was that this is very simple refactoring.  It cannot bring
> bugs....but...we still there.

I'm sure that Ric would be happy to have some company or group pay him to
make Antlr's C++ support faster, support more platforms, etc.

Of course, since the source is open, feel free to submit high-quality
patches.

John


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From johnm-antlr at non.net  Fri Oct 22 23:24:15 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Speed (was: build issues: bytecode assembly generation)
In-Reply-To: <1098510520.21974@mx9.mysite4now.com>
References: <16761.51180.400709.833959@despot.non.net>
	<1098510520.21974@mx9.mysite4now.com>
Message-ID: <16761.63759.538907.883777@despot.non.net>


'netiquette nanny says:  Remember to trim those posts!

>>>>> "Don" == Don Caton <dcaton@shorelinesoftware.com> writes:
[...]

> With full optimizations, the entire lexing/parsing/treewalking process is
> plenty fast enough.

[...]

>> (D) In real terms, does that 2 seconds vs. 15 seconds really drive your
>> development style into some sort of major dysfunction?

> I'm writing a commercial compiler.  If you were the user, recompiling a
> project with 10 files, would you rather wait 150 seconds or 20?

I'm confused.  You say it's fast enough and then you're complaining about
it's speed.  Please clarify.


> Far as searching the archives, I've been there already, several times.
> Yahoo's interface to these groups is horrible.  You can only enter basic
> search terms and it only searches through a few hundred messages at a
> time.  There doesn't even appear to be any way to display messages in
> threaded order.  It's just awful.  Do you know if there's an archive
> maintained anywhere else besides Yahoo?

gmane.org

Take care,
	John


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From sunshine at public.kherson.ua  Sat Oct 23 00:10:52 2004
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Speed (was: build issues: bytecode assembly
	generation)
In-Reply-To: <16761.63475.845880.573150@despot.non.net>
Message-ID: <BD9FDEAC.267DC%sunshine@public.kherson.ua>


On 10/23/04 9:19 AM, "John D. Mitchell" <johnm-antlr@non.net> wrote:

> 
>>>>>> "Ruslan" == Ruslan Zasukhin <sunshine@public.kherson.ua> writes:
> [...]
> 
>> I also have many times point this things.  Other developers too.
> 
>> Point was that this is very simple refactoring.  It cannot bring
>> bugs....but...we still there.
> 
> I'm sure that Ric would be happy to have some company or group pay him to
> make Antlr's C++ support faster, support more platforms, etc.
> 
> Of course, since the source is open, feel free to submit high-quality
> patches.

Problem is that I DID SUBMIT, and they was refused.

Patches was as simple as move small function from CPP to .H file.

I was told: 
    We do not want break existed code.

But again, such simple refactoring cannot break anything.


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From open.zone at virgin.net  Sat Oct 23 01:27:48 2004
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: Gotos in Java (was: build issues: bytecode assembly generation)
In-Reply-To: <16761.49577.766369.225374@despot.non.net>
Message-ID: <cld4m4+rrkp@eGroups.com>



--- In antlr-interest@yahoogroups.com, "John D. Mitchell"
<johnm-antlr@n...> wrote:
> >>>>> "micheal" == micheal jor <open.zone@v...> writes:
> [...]
> 
> >> It seems curious that Java has a goto in its runtime but no way to
> >> express that in the language.
> 
> > I seem to remember it has something to do with Java's secure
mobile code
> > aspirations.
> 
> Well, hmm... I guess you could argue that for things like no bare
pointers
> and non-local gotos.
> 
> The reason that regular/local gotos aren't in the Java *language* are
> because they are seen as evil (from a "software engineering"
perspective).

You are right of course. Security is enforced at the byteode level and
not [just] the language level.

Micheal






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From virtualaspirin at yahoo.com  Sat Oct 23 02:13:07 2004
From: virtualaspirin at yahoo.com (Akhilesh Mritunjai)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <1098496096.12287@mx9.mysite4now.com>
Message-ID: <20041023091307.18363.qmail@web54702.mail.yahoo.com>



--- Don Caton <dcaton@shorelinesoftware.com> wrote:

> Which brings me back to my original question of "why
> Java?" for this type of
> thing?  I suppose for light duty parsing
> requirements it might be ok, but I
> can't imagine that an Antlr-generated Java
> lexer/parser could ever approach
> the speed of a fully optimized C++ one.

True. But for some cases they're the only solution.
For one project I was taking up, the tool was supposed
to be able to run on 3 different platforms as varied
as *nix-gcc to windows-msvc and solaris-suncc.
Supporting all three on C/C++ was nightmare. My
solution was to pick up eclipse and program away in
Java and care *less* about the zillion compiler
compatibilities, GUI issues and segfaults.(too bad I
chose JavaCC at that time.. ANTLR would have made a
HELL LOT of difference)

> I'm rarely
> in favor of sacrificing
> runtime efficiency for programmer convenience.

Last I read that was from some posting from '80s where
assembly programmers were complaining about slooowness
of C. How about writing a lexer+parser tool in
assembly ?? <:-)

Remember, you can buy two FAST computers for the price
of a decent programmer's one month salary!!

I like this quote from a LISP hackers' site : 
"I refuse to do things that computers can do".

- Akhilesh


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From open.zone at virgin.net  Sat Oct 23 02:24:40 2004
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <1098496096.12287@mx9.mysite4now.com>
Message-ID: <cld80o+hj2b@eGroups.com>



--- In antlr-interest@yahoogroups.com, "Don Caton" <dcaton@s...> wrote:
> Michael:
> 
> Yes, support for using ANTLR with MSVC.  But I hope I don't sound
like I'm
> whining.

Not at all. Highlighting the issue on the list increases the
likelihood of a solution.

> Java isn't present on
> many, if not most Windows installations and it isn't something that most
> Windows folks are familiar with.  And even if you find your way to
java.com
> and figure out what to d/l, who really wants to d/l a huge runtime
> environment just to run a single tool?  The average Windows programmer
> probably never heard of Cygwin or other emulators either.  The
barrier to
> entry is high enough on Windows that it may discourage people from using
> Antlr, and that would be a real shame.

These are some good points that the ANTLR community has already
started addressing. The file sharing section of the website contains
the following binary downloads for ANTLR:

1. GCJ/Cygwin - stand alone executable that requires Cygwin.
2. GCJ/MingW - stand alone executable with no dependency on Cygwin.
3. J#.NET - stand alone executable that requires the .NET framework
and the J# runtime libraries (this is for 2.7.2 but the related
project files package may be a basis for getting a J# exe for 2.7.4)

> Perhaps when I have time to come up for air, I'll package the antlr
stuff up
> in a Windows installer and submit it to the antlr site, along with MSVC
> project files and such.

I'm sure that would be appreciated.

> Far as the studies you cite go, all they prove is that Java appears
to be
> the proper tool for those particular projects, and I don't doubt that at
> all.

Perhaps. They also show an increase in productivity even when the
developers were C++ veterans just learning Java.

> There's no question Java offers many benefits and it is a good choice
> for many types of programming.  I just don't think parsing is something
> you'd want to do in a language with the runtime overhead of Java.  I
> probably wouldn't write a parser in a .NET language for the same reason.
> Maybe a prototype, but not production code.

The issue isn't so much the runtime overhead or increased memory
consumption IMO. It's much more a lack of native support for what Tim
Bray termed "Heavy Text Processing" -
http://www.tbray.org/ongoing/When/200x/2003/04/30/JavaStrings

I'd venture that this is only an issue for a [very] small percentage
of systems that perform parsing and your project sounds like one of them.

With regards to the .NET platform (C# esp.), pointers make all the
difference. Assuming you can use them, none of this applies.

> Which brings me back to my original question of "why Java?" for this
type of
> thing?  I suppose for light duty parsing requirements it might be
ok, but

Precisely. The ANTLR tool itself is a "light duty parsing tool" and
would be just as useful if it had been written in VBScript or Awk.
Java's productivity benefits and painless cross-OS portability were
more important than C/C++'s support for low-level bit-twiddling.

> I can't imagine that an Antlr-generated Java lexer/parser could ever
approach
> the speed of a fully optimized C++ one.

Not without "tweakable" pointer types (unsafe/native C# for example
would scream). But it can do much better than most parsing systems
actually *need*.

> I'm rarely in favor of sacrificing
> runtime efficiency for programmer convenience.

Productivity, not convenience. It is often more important to be able
to quickly produce 5 adequately efficient systems in a given time
frame than just one insanely fast system.

Micheal






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From Matthew.Ford at forward.com.au  Sat Oct 23 04:15:18 2004
From: Matthew.Ford at forward.com.au (matthew ford)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
References: <1098496096.12287@mx9.mysite4now.com>
Message-ID: <000f01c4b8f1$948b1af0$0400a8c0@NOTEBOOK>


For a Java install on windows try my PseudoIntelligentPlayer installation as
an example
http://www.forward.com.au/pip/index.html
it opens an html page at the end of the install to check if Java is
installed and prompt to have it downloaded
automatically if not.
matthew.

p.s.  new version of PiP due out soon

----- Original Message ----- 
From: "Don Caton" <dcaton@shorelinesoftware.com>
To: <antlr-interest@yahoogroups.com>
Sent: Saturday, October 23, 2004 11:51 AM
Subject: RE: [antlr-interest] Re: build issues: bytecode assembly generation


>
> Michael:
>
> Yes, support for using ANTLR with MSVC.  But I hope I don't sound like I'm
> whining.  I did track down enough info to finally get it all working, and
> the amount of effort that was required pales in comparison to the benefits
> that Antlr provides.  But nevertheless, it isn't a straightforward
sequence
> of steps to get up and running with Antlr on Windows.  Java isn't present
on
> many, if not most Windows installations and it isn't something that most
> Windows folks are familiar with.  And even if you find your way to
java.com
> and figure out what to d/l, who really wants to d/l a huge runtime
> environment just to run a single tool?  The average Windows programmer
> probably never heard of Cygwin or other emulators either.  The barrier to
> entry is high enough on Windows that it may discourage people from using
> Antlr, and that would be a real shame.
>
> Perhaps when I have time to come up for air, I'll package the antlr stuff
up
> in a Windows installer and submit it to the antlr site, along with MSVC
> project files and such.
>
> Far as the studies you cite go, all they prove is that Java appears to be
> the proper tool for those particular projects, and I don't doubt that at
> all.  There's no question Java offers many benefits and it is a good
choice
> for many types of programming.  I just don't think parsing is something
> you'd want to do in a language with the runtime overhead of Java.  I
> probably wouldn't write a parser in a .NET language for the same reason.
> Maybe a prototype, but not production code.
>
> Regarding Antlr lexers, they do seem a bit sluggish, but with full
> optimizations enabled in MSVC, I'm seeing at least a 10-fold increase in
> performance, to the point where any increases in performance would not be
> noticeable.  And this is on a non-trivial grammar.
>
> Which brings me back to my original question of "why Java?" for this type
of
> thing?  I suppose for light duty parsing requirements it might be ok, but
I
> can't imagine that an Antlr-generated Java lexer/parser could ever
approach
> the speed of a fully optimized C++ one.  I'm rarely in favor of
sacrificing
> runtime efficiency for programmer convenience.
>
> Regards,
>
> Don Caton
> Shoreline Software, Inc.
>
>
> > -----Original Message-----
> > From: micheal_jor [mailto:open.zone@virgin.net]
> > Sent: Friday, October 22, 2004 8:30 PM
> > To: antlr-interest@yahoogroups.com
> > Subject: [antlr-interest] Re: build issues: bytecode assembly
> > generation
> >
> >
> >
> > --- In antlr-interest@yahoogroups.com, "Don Caton"
> > <dcaton@s...> wrote:
> > >  And to be honest, there's no "official"
> > > support for Antlr on Windows platforms to speak of.  It took quite a
> > bit of
> > > trial and error to get Antlr to even run under Windows.
> >
> > I presume you mean support for "using the ANTLR C++ code
> > generator and runtime library with MSVC++ on Windows". If so,
> > all I can say is that the support has gotten much better
> > since 2.7.4 was released (Ric now has MS's compiler I
> > believe). There has been a lot of useful discussion on this
> > list about ANTLR/C++ on Windows.
> >
> > > > Given developers with the same level of proficiency and
> > experience
> > > > with C++ and Java, most will be able to produce an
> > application like
> > > > ANTLR much more quickly and easily with Java than C++.
> > >
> > > Well, with all due respect I'm not sure how you can make
> > that assertion.
> >
> > I based it on my experience, that of many colleagues and
> > employers (past and present) and, on the findings of quite a
> > few published studies including:
> > - http://www.wellscs.com/robert/java/productivity.htm
> > - http://www.mind2machine.com/gb/openmind/index.php
> > - http://page.mi.fu-berlin.de/~prechelt/Biblio/jccpprtTR.pdf
> > - http://www.spirus.com.au/papersAndPresentations.shtml
> >
> > > IMO, it depends to a large degree on the individual programmer.
> >
> > Yes, productivity is generally more affected by individual
> > programmer skill than choice of implementation language.
> >
> > > If any
> > > particular language was significantly easier to use, everyone would
> > be using
> > > it.
> >
> > True. Of course no language is best at *everything* so we
> > still get to cherry pick...
> >
> > > In any case, this is a philosophical issue on which we may simply
> > > disagree.
> >
> > Not really. Productivity can be measured.
> >
> > > >           There are of course some applications where the need to
> > > > optimize memory usage and/or speed aggressively suggest C++ (or
> > > > perhaps C or assembly
> > > > language) might be a better choice.
> > >
> > > Yes, like parsers <g>.  In a debug build, it takes my
> > antlr-generated (C++)
> > > parser about 15 seconds to parse a 77k source file.  With full
> > optimizations
> > > enabled, the same code finishes in slightly under 2
> > seconds.  I'm not
> > > kidding.  I was sweating bullets when got my parser to work and
> > found it was
> > > so slow.
> >
> > There are some efficiency issues with ANTLR lexers
> > (especially if you use the more advanced ANTLR lexer options)
> > which ANTLR3 should fix.
> > The distribution has a sample showing how to couple Flex
> > lexers to ANTLR parsers. Search the list for past discussions.
> >
> > Micheal
> >
> >
> >
> >
> >
> >
> >
> >
> > Yahoo! Groups Links
> >
> >
> >
> >
> >
> >
> >
> >
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From joanpujol at gmail.com  Sat Oct 23 07:01:38 2004
From: joanpujol at gmail.com (Joan Pujol)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <1098462148.4882@mx9.mysite4now.com>
References: <clba2g+m1rt@eGroups.com> <1098462148.4882@mx9.mysite4now.com>
Message-ID: <d2d18a104102307018033bf4@mail.gmail.com>


On Fri, 22 Oct 2004 12:25:38 -0400, Don Caton
<dcaton@shorelinesoftware.com> wrote:

> > Given developers with the same level of proficiency and
> > experience with C++ and Java, most will be able to produce an
> > application like ANTLR much more quickly and easily with Java
> > than C++.
> 
> Well, with all due respect I'm not sure how you can make that assertion.
> IMO, it depends to a large degree on the individual programmer.  If any
> particular language was significantly easier to use, everyone would be using
> it.  In any case, this is a philosophical issue on which we may simply
> disagree.
I don't agree with you. I have programmed with C++ and Java. And I
think that for a medium/good programmer Java is more "productive" than
C++ (I don't say better, better implies things like efficiency) .

Some reasons:
Garbage collection is a lot more productive than manage the memory yourself.
A NullPointerException is better than a SegmentationFault. 
Java has a VERY good standard library, and well documented. C++ has a
standard library but with some holes that are system dependent. The
only think that I like more from C++ standard library is STL.
C++ compilers  aren't perfect. A thing that compiles with g++ possibly
won't compile (without modifications) with MSVC.
C++ needs more experienced programmers. Look at three Efective C++
books from Scott Meyers. To understand them you need a very high level
of C++ programming. And a medium programmer can look the Effective
Java book and understand it. Then to make reliable C++ code you have
to be aware of a lot of thinks that you haven't to do with Java.

Cheers,

-- 
Joan Jes?s Pujol Espinar


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Sat Oct 23 08:05:17 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] no more java vs x language ;)
Message-ID: <F3303EA8-2504-11D9-B644-000393BB647E@cs.usfca.edu>


howdy,

Ok, I think we all want to prevent a 30 day jihad on languages.

However, issues of parser performance etc... are welcome such as the 
byte-code thingy.  I think we can discuss that stuff w/o resorting to 
language wars.

Thanks for all the valuable input though.  I've read with interest.

I think even Ruslan will be happy with the java performance of the 
DFAs...the C and Java DFAs should perform the same minus support code 
differences.  They are going to screaaaaam! :)

Ter





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From silke7772003 at yahoo.de  Sat Oct 23 09:19:46 2004
From: silke7772003 at yahoo.de (silke7772003)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] no more java vs x language ;)
In-Reply-To: <F3303EA8-2504-11D9-B644-000393BB647E@cs.usfca.edu>
Message-ID: <20041023162012.6BFC574CE0@nexus.cs.usfca.edu>


Hi Terence, 

> Ok, I think we all want to prevent a 30 day jihad on languages.

But perhaps it would be in your interest to give one or another word to my question about a new output engine. I asked a
few days ago what is required to add a code generator for Delphi (Object Pascal). I got a hint to look at the C#
runtime, but this helps only if you know where to start and what must be implemented. Is there really no document
describing the process of creating a new code generator?

Mike
--
www.soft-gems.net 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From dcaton at shorelinesoftware.com  Sat Oct 23 09:20:38 2004
From: dcaton at shorelinesoftware.com (Don Caton)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Speed (was: build issues: bytecode assembly generation)
In-Reply-To: <16761.63759.538907.883777@despot.non.net>
Message-ID: <1098548251.681@mx9.mysite4now.com>


John:

I'm not complaining about anything at all.  I've said several times that
will full optimizations, Antlr's C++ generated code is plenty fast enough.
I'm a happy camper with Antlr, in that regard.

Now, I don't know if it falls under the category of complaining or not, but
I do have some issues with Antlr's architecture.  Tree walking, in
particular.  It's a great concept, but in practice it seems cumbersome to
actually use, at least in a large system.

Thanks for the pointer to gmnane.org.  Much better than yahoo.

Regards,
 
Don Caton
Shoreline Software, Inc.
 

> -----Original Message-----
> From: John D. Mitchell [mailto:johnm-antlr@non.net] 
> Sent: Saturday, October 23, 2004 2:24 AM
> To: antlr-interest@yahoogroups.com
> Subject: RE: [antlr-interest] Speed (was: build issues: 
> bytecode assembly generation)
> 
> 
> 'netiquette nanny says:  Remember to trim those posts!
> 
Sorry bout that...




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From johnm-antlr at non.net  Sat Oct 23 09:35:43 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Antlr backends (was: no more java vs x language ;)
In-Reply-To: <117741391@toto.iv>
References: <F3303EA8-2504-11D9-B644-000393BB647E@cs.usfca.edu>
Message-ID: <16762.34911.280736.324204@despot.non.net>


>>>>> "silke7772003" == silke7772003  <silke7772003@yahoo.de> writes:
[...]

> But perhaps it would be in your interest to give one or another word to
> my question about a new output engine. I asked a few days ago what is
> required to add a code generator for Delphi (Object Pascal). I got a hint
> to look at the C# runtime, but this helps only if you know where to start
> and what must be implemented. Is there really no document describing the
> process of creating a new code generator?

For the Antlr v2.x series, it's a major pain in the butt.  The only real
way to learn how to do it is to look at the existing backends and see what
they have to do.

For the nascent Antlr v3.x series, it's going to be pretty easy.  Witness
how much Ric was able to accomplish in just a couple of days prior to the
recent Antlr workshop.

Take care,
	John


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From sunshine at public.kherson.ua  Sat Oct 23 12:37:30 2004
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] no more java vs x language ;)
In-Reply-To: <F3303EA8-2504-11D9-B644-000393BB647E@cs.usfca.edu>
Message-ID: <BDA08DAA.26865%sunshine@public.kherson.ua>


On 10/23/04 6:05 PM, "Terence Parr" <parrt@cs.usfca.edu> wrote:

> howdy,
> 
> Ok, I think we all want to prevent a 30 day jihad on languages.
> 
> However, issues of parser performance etc... are welcome such as the
> byte-code thingy.  I think we can discuss that stuff w/o resorting to
> language wars.
> 
> Thanks for all the valuable input though.  I've read with interest.
> 
> I think even Ruslan will be happy with the java performance of the
> DFAs...the C and Java DFAs should perform the same minus support code
> differences.  They are going to screaaaaam! :)

:-)

This will be great Terrence.

I want to inform that we have start develop set of benchmarks for Valentina
to do profiling. We will have many benches to see and profile under Rational
tools the performance of parser/lexer.


And I think in 2-4 weeks we will start inform about results.

Also I remember on this list few developers have told they was able
SIGNIFICANTLY improve speed of lexer and parser by manual changes.
Will be very interesting again collect this TIPs.


BTW, I do not worry about Java performance.
    We use C++ runtime of ANTLR.


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From sunshine at public.kherson.ua  Sat Oct 23 12:39:29 2004
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Antlr backends (was: no more java vs x
	language ;)
In-Reply-To: <16762.34911.280736.324204@despot.non.net>
Message-ID: <BDA08E21.26867%sunshine@public.kherson.ua>


On 10/23/04 7:35 PM, "John D. Mitchell" <johnm-antlr@non.net> wrote:

> For the nascent Antlr v3.x series, it's going to be pretty easy.  Witness
> how much Ric was able to accomplish in just a couple of days prior to the
> recent Antlr workshop.

Guys,

May be I have miss.

Does ANTLR 3.x already exists?
    or as alpha ?
    or as beta ?


When release is expected ?


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From sunshine at public.kherson.ua  Sat Oct 23 12:48:42 2004
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] SOLVED Creation of Lexer and Parser in the
	loop? Bad idea
In-Reply-To: <20041019132014.63897.qmail@web54704.mail.yahoo.com>
Message-ID: <BDA0904A.2686E%sunshine@public.kherson.ua>


On 10/19/04 4:20 PM, "Akhilesh Mritunjai" <virtualaspirin@yahoo.com> wrote:

> 
> Ruslan
> 
> Can you please share with us how you solved the issue
> ?

Here it is.

I have create class SqlParser which manage Lexer and Parser and TreeParser

// -------------------------------------------------------------------
class SqlParser
{
    protected:
    // instance data:

        antlr::ASTFactory    mAstFactory;
        
   //   STD::istringstream   mStrStream;
        vsql::CharBuffer     mCharBuffer;
        VSQL_Lexer           mLexer;
        VSQL_Parser          mParser;
        VSQL_TreeParser      mTreeParser;
};


// -------------------------------------------------------------------
SqlParser::SqlParser( void )
:
    mAstFactory(),
//  mStrStream( "" ),
    mCharBuffer( NULL, 0 ),
    mLexer( mCharBuffer ),
    mParser( mLexer ),
    mTreeParser()
{
    mParser.initializeASTFactory(mAstFactory);
    mParser.setASTFactory(&mAstFactory);
}

// -------------------------------------------------------------------
void SqlParser::ParseCommand( const String& inCommand, Environment& inEnv )
{
    ANTLR_USING_NAMESPACE(antlr)
    
    try
    {
        /** We need to convert query to the multi byte string
            (at least for now)... */
        StFromUTF16 QueryA(inCommand.c_str(),inCommand.length(),L"UTF8" );
        
        // init stream, lexer, parser:
        mCharBuffer.str( QueryA.c_str(), QueryA.length() );
        mLexer.getInputState()->reset();
        mParser.getInputState()->reset();

        
        // -------------------------
        // Parse the input expression
        mParser.sql();
        inEnv.mpTree = mTreeParser.sql( mParser.getAST() );
    }
    catch( std::exception& e )
    {
    }
}


AS YOU SEE the main job do 3 strings:

        // init stream, lexer, parser:
        mCharBuffer.str( QueryA.c_str(), QueryA.length() );

        mLexer.getInputState()->reset();
        mParser.getInputState()->reset();


Although note, that I use own CharBuffer to avoid STD streams,
And double copying related with them and code blow related with them.

All works as far as see.


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: ruslan@paradigmasoft.com
web: http://www.paradigmasoft.com

To subscribe to the Valentina mail list go to:
http://lists.macserve.net/mailman/listinfo/valentina
-------------------------------------------------------------



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From johnm-antlr at non.net  Sat Oct 23 13:03:09 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Antlr backends (was: no more java vs x
	language ;)
In-Reply-To: <BDA08E21.26867%sunshine@public.kherson.ua>
References: <16762.34911.280736.324204@despot.non.net>
	<BDA08E21.26867%sunshine@public.kherson.ua>
Message-ID: <16762.47357.484684.766668@despot.non.net>


>>>>> "Ruslan" == Ruslan Zasukhin <sunshine@public.kherson.ua> writes:
[...]

> Does ANTLR 3.x already exists?  or as alpha ?  or as beta ?

> When release is expected ?

Check out the proceedings of the recent Antlr Workshop and Ter's recent
messages to this list.

Take care,
	John


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From binaryxor101 at yahoo.com  Sat Oct 23 16:14:46 2004
From: binaryxor101 at yahoo.com (binaryxor101)
Date: Mon Dec 20 16:17:24 2004
Subject: [antlr-interest] Re: I Can't decide between GOLD or ANTLR
In-Reply-To: <claeug+s4r8@eGroups.com>
Message-ID: <cleol6+oco3@eGroups.com>



I looked at both products. Both have advantages and disadvantages 
over each other. GOLDParser would allow us to use C# (like ANTLR), 
but also a few others like VBN.

I was hoping for good advice. All I got was "RTFM!"

 
> If you have to ask, the only reasonable response is "RTFM!".  Even
> cursory analysis gives a very clear answer.
> 
> --Loring
> 






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Sat Oct 23 16:24:08 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] ANTLR 2.7.4 code gen doc
In-Reply-To: <20041023162012.6BFC574CE0@nexus.cs.usfca.edu>
References: <20041023162012.6BFC574CE0@nexus.cs.usfca.edu>
Message-ID: <A3C65AE8-254A-11D9-8CB7-000A95891192@cs.usfca.edu>



On Oct 23, 2004, at 9:19 AM, silke7772003 wrote:
> Hi Terence,
>
>> Ok, I think we all want to prevent a 30 day jihad on languages.
>
> But perhaps it would be in your interest to give one or another word 
> to my question about a new output engine. I asked a
> few days ago what is required to add a code generator for Delphi 
> (Object Pascal). I got a hint to look at the C#
> runtime, but this helps only if you know where to start and what must 
> be implemented. Is there really no document
> describing the process of creating a new code generator?

Hi Mike,

Unfortunately, the situation is bleak for 2.x code generation...very 
big hassle and no doc other than the other generators.

ANTLR 3.0, released in beta by end of summer '05 most likely, makes 
this all really really easy.  I know that doesn't help you now, but it 
does explain what I'm trying to do to fix the situation ;)

Regards,
Terence
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Sat Oct 23 16:25:38 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] no more java vs x language ;)
In-Reply-To: <BDA08DAA.26865%sunshine@public.kherson.ua>
References: <BDA08DAA.26865%sunshine@public.kherson.ua>
Message-ID: <D943755E-254A-11D9-8CB7-000A95891192@cs.usfca.edu>



On Oct 23, 2004, at 12:37 PM, Ruslan Zasukhin wrote:
>> I think even Ruslan will be happy with the java performance of the
>> DFAs...the C and Java DFAs should perform the same minus support code
>> differences.  They are going to screaaaaam! :)
>
> :-)
>
> This will be great Terrence.
>
> Also I remember on this list few developers have told they was able
> SIGNIFICANTLY improve speed of lexer and parser by manual changes.
> Will be very interesting again collect this TIPs.

Yes, I've spoken with a few.  The new code gen templates will make it 
trivial for people to explore ways to optimize for their particular 
situation.

> BTW, I do not worry about Java performance.
>     We use C++ runtime of ANTLR.

;)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Sat Oct 23 16:27:39 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: I Can't decide between GOLD or ANTLR
In-Reply-To: <cleol6+oco3@eGroups.com>
References: <cleol6+oco3@eGroups.com>
Message-ID: <20FF417A-254B-11D9-8CB7-000A95891192@cs.usfca.edu>



On Oct 23, 2004, at 4:14 PM, binaryxor101 wrote:
> I looked at both products. Both have advantages and disadvantages
> over each other. GOLDParser would allow us to use C# (like ANTLR),
> but also a few others like VBN.

Hi. :)

I think the larger question is one of LALR vs ANTLR's recursive-descent 
LL parsers.  ANTLR doesn't generate a table of integers as LALR tools 
do.  You can actually step thru with a debugger. :)  That's perhaps the 
biggest diff; makes things easier to understand.

Hope this helps,
Terence
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From lgc at mail1.jpl.nasa.gov  Sat Oct 23 17:40:56 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: I Can't decide between GOLD or ANTLR
In-Reply-To: <cleol6+oco3@eGroups.com>
Message-ID: <cletmo+8kgq@eGroups.com>



The differences are pretty clear.  GOLD has one design goal and one
design goal only--multi-platform targeting for an LALR parser. 
Functionality is very limited--you step through the parser by calling
a "parse()" function and get a returned value identifying an LALR
parsing event.  GOLD is a very clever toy, but I would hate to try to
do real work with it--too many extensions are needed that have not yet
been written.  There are some language-dependent extensions that
others have provided, but even those seem to fall far short of ANTLR
capabilities.  Note the complete lack of example grammars on the
website, not to mention real applications to study.

ANTLR, on the other hand, is a production grade language translator
generation package, with very good development support:  the generated
code is understandable and can be walked through with a conventional
debugger, if necessary); trees make it possible to do significant
language transformation; ANTLR grammars are quite maintainable.

The RTFM response was intended to head off a pointless "religious"
discussion.  It was clear from your message that you hadn't done your
homework on this--looking at the docs and asking how even a simple
application would be written with the tool would lead you to the above
conclusions.  And I am afraid that I have grossly understated ANTLR
capabilities.

--Loring


--- In antlr-interest@yahoogroups.com, "binaryxor101"
<binaryxor101@y...> wrote:
> 
> I looked at both products. Both have advantages and disadvantages 
> over each other. GOLDParser would allow us to use C# (like ANTLR), 
> but also a few others like VBN.
> 
> I was hoping for good advice. All I got was "RTFM!"
> 
>  
> > If you have to ask, the only reasonable response is "RTFM!".  Even
> > cursory analysis gives a very clear answer.
> > 
> > --Loring
> >





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From binaryxor101 at yahoo.com  Sat Oct 23 18:36:36 2004
From: binaryxor101 at yahoo.com (binaryxor101)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: I Can't decide between GOLD or ANTLR
In-Reply-To: <cletmo+8kgq@eGroups.com>
Message-ID: <clf0v4+7moe@eGroups.com>



> Note the complete lack of example grammars on the
> website

There are quite a few. http://www.devincook.com/goldparser/grammars/ 

Thanks for your help.





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From binaryxor101 at yahoo.com  Sat Oct 23 18:38:18 2004
From: binaryxor101 at yahoo.com (binaryxor101)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: I Can't decide between GOLD or ANTLR
In-Reply-To: <20FF417A-254B-11D9-8CB7-000A95891192@cs.usfca.edu>
Message-ID: <clf12a+kgri@eGroups.com>



Thank you for your help.


> Hi. :)
> 
> I think the larger question is one of LALR vs ANTLR's recursive-
descent 
> LL parsers.  ANTLR doesn't generate a table of integers as LALR 
tools 
> do.  You can actually step thru with a debugger. :)  That's perhaps 
the 
> biggest diff; makes things easier to understand.
> 
> Hope this helps,
> Terence
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From open.zone at virgin.net  Sat Oct 23 19:06:33 2004
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: ANTLR 2.7.4 code gen doc
In-Reply-To: <A3C65AE8-254A-11D9-8CB7-000A95891192@cs.usfca.edu>
Message-ID: <clf2n9+uk22@eGroups.com>



--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
> 
> On Oct 23, 2004, at 9:19 AM, silke7772003 wrote:
> > Hi Terence,
> >
> >> Ok, I think we all want to prevent a 30 day jihad on languages.
> >
> > But perhaps it would be in your interest to give one or another word 
> > to my question about a new output engine. I asked a
> > few days ago what is required to add a code generator for Delphi 
> > (Object Pascal). I got a hint to look at the C#
> > runtime, but this helps only if you know where to start and what must 
> > be implemented.

I may be able to help.

First, the bad news - the ANTLR2.x codegen architecture is a little
clunky. Very unlike the tres cool template stuff arriving with ANTLR3.
Fortunately the three active OO targets (plus the retired Sather and
Python targets) are proof that a Delphi target is definitely do-able.

Right, there are perhaps four tasks minimally to adding a new ANTLR
target language (five if you include porting the examples which I
heartily recommend):
1. Writing the <targetLanguage>CodeGenerator class (about 120kB on
average and you should start with a copy of an existing one - C# or
C++) and a few supporting classes

2. Writing an action.g file for the target

3. Writing/porting the ANTLR runtime for the target language

4. Ensuring the ANTLR tool is aware of your new target, that ANTLR
options apply to your target and, that you implement any
targetLangauge-specific actions.

If you've looked at the C# code generator and runtime (or the C++ one)
you might already have an idea of the size of the generator &  runtime
library. Expect [1] and [3] to take up most of the time and effort. 

If you must (or wish to) generate separate implementation and
interface files (rather than single files as in C# or Java), remember
that the C++ codegen already generates separate *.hpp and *.cpp files.

> > Is there really no document
> > describing the process of creating a new code generator?
> 
> Hi Mike,
> 
> Unfortunately, the situation is bleak for 2.x code generation...very 
> big hassle and no doc other than the other generators.

There is now  ;-)

Micheal
ANTLR/C#






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From lgc at mail1.jpl.nasa.gov  Sat Oct 23 19:15:46 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: I Can't decide between GOLD or ANTLR
In-Reply-To: <clf0v4+7moe@eGroups.com>
Message-ID: <clf38i+t3ql@eGroups.com>



I did miss these--you have to go through the FAQ to find a pointer. 
Have you been able to find example applications, though?  Check out 
<http://www.antlr.org/showcase/list> and
<http://www.antlr.org/grammar/list>
as a point of comparison.

--Loring


--- In antlr-interest@yahoogroups.com, "binaryxor101"
<binaryxor101@y...> wrote:
> 
> > Note the complete lack of example grammars on the
> > website
> 
> There are quite a few. http://www.devincook.com/goldparser/grammars/ 
> 
> Thanks for your help.





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From silke7772003 at yahoo.de  Sun Oct 24 01:43:27 2004
From: silke7772003 at yahoo.de (silke7772003)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] ANTLR 2.7.4 code gen doc
In-Reply-To: <A3C65AE8-254A-11D9-8CB7-000A95891192@cs.usfca.edu>
Message-ID: <20041024084348.A1B2674C37@nexus.cs.usfca.edu>


Hi Terence, 

> Unfortunately, the situation is bleak for 2.x code 
> generation...very big hassle and no doc other than the other 
> generators.
> 
> ANTLR 3.0, released in beta by end of summer '05 most likely, 
> makes this all really really easy.  I know that doesn't help 
> you now, but it does explain what I'm trying to do to fix the 
> situation ;)

Thank you for that info. Unfortunately, this does indeed not help much at the moment. I would have to write the code gen
in the next 4 weeks, if at all. My plan was to introduce ANTLR as the parser generator for our GUI tools at MySQL AB,
which are to a large extend written in Delphi. But as always, time is limited, so I'll have to go another route.

Mike
--
Mike Lischke, Software Engineer GUI
MySQL AB, www.mysql.com
Office: +49 3722 409580

Are you MySQL certified? www.mysql.com/certification 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From silke7772003 at yahoo.de  Sun Oct 24 02:00:30 2004
From: silke7772003 at yahoo.de (silke7772003)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: ANTLR 2.7.4 code gen doc
In-Reply-To: <clf2n9+uk22@eGroups.com>
Message-ID: <20041024090051.BCDED74C37@nexus.cs.usfca.edu>


Hi Micheal, 

 
> > Unfortunately, the situation is bleak for 2.x code 
> generation...very 
> > big hassle and no doc other than the other generators.
> 
> There is now  ;-)

Thank you very much for this list of what-must-be-done. It is much appreciated. However the mention of the GOLD engine
made me look there and I'm quite surprised about what this package already can do. Additionally, there is already a
Delphi port for the engine! Sure, the table based approach is much harder to debug, but my old Delphi Compiler Generator
tool als was a YACC descentant so this is something I'm still familiar with. Not as comfortable as ANTLR though...

Mike
--
www.soft-gems.net 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From open.zone at virgin.net  Sun Oct 24 06:37:11 2004
From: open.zone at virgin.net (micheal_jor)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] OTT: What do you like about GOLD? (was: ANTLR 2.7.4 code gen doc)
Message-ID: <clgb67+g70f@eGroups.com>



--- In antlr-interest@yahoogroups.com, "silke7772003"
<silke7772003@y...> wrote:
> Hi Micheal, 
 
> Thank you very much for this list of what-must-be-done. It is much
appreciated. However the mention of the GOLD engine
> made me look there and I'm quite surprised about what this package
already can do. Additionally, there is already a
> Delphi port for the engine! Sure, the table based approach is much
harder to debug, but my old Delphi Compiler Generator
> tool als was a YACC descentant so this is something I'm still
familiar with. Not as comfortable as ANTLR though...

Mike,

I think GOLD is a competent LALR parser gen toolkit too. Didn't like
the closed source grammar builder though.

In any case, since you already have an LALR lexer/parser gen toolkit
that generates Delphi code, what feature of the GOLD toolkit (and
runtime engines) is tempting/persuading you to switch to it. IOW, what
does it do that other Delphi-friendly Lex/Yacc descendants - that
you've looked at - don't?

Micheal





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From pauljlucas at mac.com  Sun Oct 24 10:43:56 2004
From: pauljlucas at mac.com (Paul J. Lucas)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Not generating parts of AST (argh!)
Message-ID: <Pine.LNX.4.44.0410241041160.17332-100000@g4.pauljlucas.org>


	As part of my grammar, I have:

		additiveExpr
		    : mulExpr ( (PLUS^ | MINUS^) mulExpr )*
		    ;

	The children of '+' are always null.  Why?  (This is driving me
	nuts!)

	- Paul



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Sun Oct 24 12:01:39 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Not generating parts of AST (argh!)
In-Reply-To: <Pine.LNX.4.44.0410241041160.17332-100000@g4.pauljlucas.org>
References: <Pine.LNX.4.44.0410241041160.17332-100000@g4.pauljlucas.org>
Message-ID: <22CBDAA2-25EF-11D9-A8A8-000A95891192@cs.usfca.edu>


On Oct 24, 2004, at 10:43 AM, Paul J. Lucas wrote:
> 	As part of my grammar, I have:
>
> 		additiveExpr
> 		    : mulExpr ( (PLUS^ | MINUS^) mulExpr )*
> 		    ;
>
> 	The children of '+' are always null.  Why?  (This is driving me
> 	nuts!)

Argh...  Hmm... well, can you send the output code real quick?  I can 
look to see if there is a bug.  Note that that is a very common rule; 
it looks correct.

Ter
>
> 	- Paul
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Sun Oct 24 15:34:31 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Not generating parts of AST (argh!)
In-Reply-To: <Pine.LNX.4.44.0410241041160.17332-100000@g4.pauljlucas.org>
References: <Pine.LNX.4.44.0410241041160.17332-100000@g4.pauljlucas.org>
Message-ID: <DF96BD75-260C-11D9-AE79-000393B5606C@codetransform.com>


Try -traceParser when you run antlr.tool.  What tree is mulExpr 
returninng?

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html

On Oct 24, 2004, at 10:43 AM, Paul J. Lucas wrote:

>
> 	As part of my grammar, I have:
>
> 		additiveExpr
> 		    : mulExpr ( (PLUS^ | MINUS^) mulExpr )*
> 		    ;
>
> 	The children of '+' are always null.  Why?  (This is driving me
> 	nuts!)
>
> 	- Paul
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
>



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From pauljlucas at mac.com  Sun Oct 24 20:32:21 2004
From: pauljlucas at mac.com (Paul J. Lucas)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Not generating parts of AST (argh!)
In-Reply-To: <DF96BD75-260C-11D9-AE79-000393B5606C@codetransform.com>
Message-ID: <Pine.LNX.4.44.0410241948480.29305-100000@g4.pauljlucas.org>


On Sun, 24 Oct 2004, Monty Zukowski wrote:

> Try -traceParser when you run antlr.tool.  What tree is mulExpr 
> returninng?

	Exactly what it should.  After yet more time spent in the
	debugger, I discovered that I had a rule like this as its
	parent:

		comparisonExpr!
		{
		    boolean gotR2 = false;
		}
		    : re1:rangeExpr
		      (co:comparisonOp re2:rangeExpr { gotR2 = true; })?
		      	{
			    if ( gotR2 )
			    	#comparisonExpr = #(co, re1, re2)
			    else
			    	#comparisonExpr = #(re1); // <-- bug
			}
		    ;

	The "bug" line should read:

			    	#comparisonExpr = #re1; // no ()

	Damn parentheses!  Anyway, is there a simpler way to do the
	above (without the boolean gotR2 flag)?

	- Paul



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Sun Oct 24 20:48:03 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Not generating parts of AST (argh!)
In-Reply-To: <Pine.LNX.4.44.0410241948480.29305-100000@g4.pauljlucas.org>
References: <Pine.LNX.4.44.0410241948480.29305-100000@g4.pauljlucas.org>
Message-ID: <AC727874-2638-11D9-AE79-000393B5606C@codetransform.com>


On Oct 24, 2004, at 8:32 PM, Paul J. Lucas wrote:

>
> On Sun, 24 Oct 2004, Monty Zukowski wrote:
>
>> Try -traceParser when you run antlr.tool.  What tree is mulExpr
>> returninng?
>
> 	Exactly what it should.  After yet more time spent in the
> 	debugger, I discovered that I had a rule like this as its
> 	parent:
>
> 		comparisonExpr!
> 		{
> 		    boolean gotR2 = false;
> 		}
> 		    : re1:rangeExpr
> 		      (co:comparisonOp re2:rangeExpr { gotR2 = true; })?
> 		      	{
> 			    if ( gotR2 )
> 			    	#comparisonExpr = #(co, re1, re2)
> 			    else
> 			    	#comparisonExpr = #(re1); // <-- bug
> 			}
> 		    ;
>
> 	The "bug" line should read:
>
> 			    	#comparisonExpr = #re1; // no ()
>
> 	Damn parentheses!  Anyway, is there a simpler way to do the
> 	above (without the boolean gotR2 flag)?
>
> 	- Paul
>

Maybe I'm missing something, but isn't that equivalent to

comparisonExpr:
	rangeExpr (comparisonOp^ rangeExpr)?;

Monty



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From pauljlucas at mac.com  Sun Oct 24 20:56:20 2004
From: pauljlucas at mac.com (Paul J. Lucas)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Not generating parts of AST (argh!)
In-Reply-To: <AC727874-2638-11D9-AE79-000393B5606C@codetransform.com>
Message-ID: <Pine.LNX.4.44.0410242054080.29305-100000@g4.pauljlucas.org>


On Sun, 24 Oct 2004, Monty Zukowski wrote:

> Maybe I'm missing something, but isn't that equivalent to
> 
> comparisonExpr:
> 	rangeExpr (comparisonOp^ rangeExpr)?;

	Ideally, yes.  However, ANTLR complains about having ^ on
	non-terminals:

		ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
		XQueryParser.g:2015:33: rule classDef trapped:
		XQueryParser.g:2015:33: unexpected token: ^
		error: aborting grammar 'XQueryParser' due to errors
		Exiting due to errors.

	- Paul



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Sun Oct 24 21:23:19 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Not generating parts of AST (argh!)
In-Reply-To: <Pine.LNX.4.44.0410242054080.29305-100000@g4.pauljlucas.org>
References: <Pine.LNX.4.44.0410242054080.29305-100000@g4.pauljlucas.org>
Message-ID: <99797B46-263D-11D9-AE79-000393B5606C@codetransform.com>


On Oct 24, 2004, at 8:56 PM, Paul J. Lucas wrote:

> 	Ideally, yes.  However, ANTLR complains about having ^ on
> 	non-terminals:
>
> 		ANTLR Parser Generator   Version 2.7.2   1989-2003 jGuru.com
> 		XQueryParser.g:2015:33: rule classDef trapped:
> 		XQueryParser.g:2015:33: unexpected token: ^
> 		error: aborting grammar 'XQueryParser' due to errors
> 		Exiting due to errors.
>

Yes, of course, I knew I was missing something.

There are language specific ways to manually ^ a node, but your code 
actually looks cleaner.

On second thought, how about this:

		comparisonExpr
		    : rangeExpr
		      (co:comparisonOp! rangeExpr { ##=#(co,##); })?
		    ;

Although I'm trying to remember if the above sets the nextSibling 
pointer to null such that you would see #(comparisonOp r1) instead of 
the full tree.  Experimentation would show you instantly.

The following would work for sure:

		comparisonExpr
		    : re1:rangeExpr
		      (co:comparisonOp! re2:rangeExpr! { #comparisonExpr = #(co, re1, 
re2); })?
		    ;

Monty



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From demakov at ispras.ru  Mon Oct 25 02:40:00 2004
From: demakov at ispras.ru (Alexey Demakov)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: I Can't decide between GOLD or ANTLR
References: <cleol6+oco3@eGroups.com>
Message-ID: <017301c4ba76$98b40b60$8cc79553@marlboro>


I've seen your first message but I didn't use GOLD, so can't compare.
I've read GOLD docs and this is my resume:
1. GOLD uses LR (well, LALR) when ANTLR uses LL. It seems to me that 
ANTLR has more power for difficult cases, but many real program languages
can be LR-parsed using GOLD. Theoretically LR parsers are faster, but specific 
implementation should be benchmarked.
2. GOLD grammars separated from actions and may be more portable than  ANTLR parsers.
3. GOLD grammars seems to be more readable than ANTLR's. It's good.
4. "Rules are written using standard Backus-Naur Form. Since the GOLD Parser 
users the LALR algorithm, rather than LL Parsing,  there are no limitations on the format 
of a grammar. You can write rules that best suite your needs rather than worrying 
about such things as eliminating right-recursion."
This sentence from GOLD site is not clear for me.

I repeat that I didn't use GOLD and you should not rely on my opinion.
But may be this list helps you.

Regards,
Alexey
-----
TreeDL: Tree Description Language: http://treedl.sourceforge.net
RedVerst Group: http://www.unitesk.com


> I looked at both products. Both have advantages and disadvantages 
> over each other. GOLDParser would allow us to use C# (like ANTLR), 
> but also a few others like VBN.
> 
> I was hoping for good advice. All I got was "RTFM!"
> 
>  
> > If you have to ask, the only reasonable response is "RTFM!".  Even
> > cursory analysis gives a very clear answer.
> > 
> > --Loring



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From demakov at ispras.ru  Mon Oct 25 02:46:27 2004
From: demakov at ispras.ru (Alexey Demakov)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: I Can't decide between GOLD or ANTLR
References: <cleol6+oco3@eGroups.com>
Message-ID: <01a701c4ba77$7f965650$8cc79553@marlboro>


And of course you can use ANTLR C# generated parsers in your VB.NET products.
Only parser actions should be written in C#.

Regards,
Alexey

> I looked at both products. Both have advantages and disadvantages 
> over each other. GOLDParser would allow us to use C# (like ANTLR), 
> but also a few others like VBN.
> 
> I was hoping for good advice. All I got was "RTFM!"
> 
>  
> > If you have to ask, the only reasonable response is "RTFM!".  Even
> > cursory analysis gives a very clear answer.
> > 
> > --Loring




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From mail at martin-probst.com  Mon Oct 25 02:45:52 2004
From: mail at martin-probst.com (Martin Probst)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] DFA's encoded directly in java bytecodes
In-Reply-To: <319B4B27-2205-11D9-BCB0-000A95891192@cs.usfca.edu>
References: <319B4B27-2205-11D9-BCB0-000A95891192@cs.usfca.edu>
Message-ID: <38564.194.39.131.40.1098697552.14431.squirrel@webmailer.hosteurope.de>


Hi,
I'm pretty sure you know about this but it wasn't mentioned on the list so
I thought I'll drop a line ...

> For the Java target of ANTLR 3.0, I've been concerned about the hideous
> nature of the code generated for DFA machines.  Without a goto
> instruction in Java, [...]

It is true that there is no *real* goto statement in Java (and the
reserved keyword isn't used) but there is somewhat of a goto statement
that looks like this:
mylabel1:
  for (...)
    for (...)
    if (ragnaroek)
      break mylabel1;
which is effectively a goto, though it will not work if you want to jump
out of the current function. Are you sure you cannot use that? I would
personally prefer stuffing all the code into one big function instead of
writing to class files directly. Sun is known to not break binary
compatibilty but its always better to let the "real" compilers do the
compiling IMHO.

Regards,
Martin


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From Jean-Claude.Durand at imag.fr  Mon Oct 25 05:20:33 2004
From: Jean-Claude.Durand at imag.fr (jcdur)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] extended ascii chars
Message-ID: <clir2h+kr9t@eGroups.com>



Can somebody explain me why I got an error because of the '?' in
the comment when running "java antlr.Tool" on the following file:

options
{
	language = "Cpp";	
}
/* El?ments lexicaux: */
class Lex extends Lexer;
options
{ 
	charVocabulary = '\3'..'\377';
}
// Noeuds ne correspondant pas ? des terminaux:
tokens
{
	// utilis?s dans l'AST d'un ao:
	Foret;
	Arbre;
}

ENTIER: ('0'..'9')+;

...

I have the same pb when this character or '?' appears in rules.
Thanks,
Jean_Claude.





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From H.A.M.Maassen at student.tue.nl  Mon Oct 25 07:36:25 2004
From: H.A.M.Maassen at student.tue.nl (Maassen, H.A.M.)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Could it be that the examples in the antlr-2.7.3 file are outdated?
Message-ID: <1C5C690C06EFE244B83E3F133CA70BDE285819@studentex6.campus.tue.nl>

I'm looking at the C# examples and get the following message when compiling the JAVA example (Examples/CSharp/Java): 'antlr.debug.misc.ASTFrame' does not contain a definition for 'ShowDialog'.
 
It might be me though, I'm new to both ANTLR and C# - but I figured I might as well ask :)
 
(code snippet:)

public static void doTreeAction(string f, AST t, string[] tokenNames)
{
  if (t == null)
  return ;
  if (showTree)
  {
    BaseAST.setVerboseStringConversion(true, tokenNames);
    ASTFactory factory = new ASTFactory();
    AST r = factory.create(0, "AST ROOT");
    r.setFirstChild(t);
    ASTFrame frame = new ASTFrame("Blaise AST", r);
    frame.ShowDialog();
    //frame.Visible = true;
    // System.out.println(t.toStringList());
  }
  ...

(/code snippet)



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 4666 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20041025/f67b273f/attachment.bin
From pauljlucas at mac.com  Mon Oct 25 10:35:06 2004
From: pauljlucas at mac.com (Paul J. Lucas)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Not generating parts of AST (argh!)
In-Reply-To: <99797B46-263D-11D9-AE79-000393B5606C@codetransform.com>
Message-ID: <Pine.LNX.4.44.0410251029510.29305-100000@g4.pauljlucas.org>


On Sun, 24 Oct 2004, Monty Zukowski wrote:

> There are language specific ways to manually ^ a node, but your code 
> actually looks cleaner.

	IMHO, '^' should be allowed on non-terminals.  Terrence: any
	reason it isn't?

> On second thought, how about this:
> 
> 		comparisonExpr
> 		    : rangeExpr
> 		      (co:comparisonOp! rangeExpr { ##=#(co,##); })?
> 		    ;

	:-O

	Where, if anywhere, is "##" documented?

> The following would work for sure:
> 
> 		comparisonExpr
> 		    : re1:rangeExpr
> 		      (co:comparisonOp! re2:rangeExpr! { #comparisonExpr = #(co, re1, 
> re2); })?
> 		    ;

	Yes, it does; thanks.

	- Paul

	P.S.: After getting more into it, the tree-construction syntax
	is seeming more and more arcane.  One thing I don't understand
	is why a rule as a whole ought to have an optional '!' to
	suppress insertion into the tree.  The ANTLR compiler scans the
	user-code anyway to look for #ruleName -- if it see's one, then
	the '!' on the rule is implied.  No?



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Mon Oct 25 11:06:02 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Not generating parts of AST (argh!)
In-Reply-To: <Pine.LNX.4.44.0410251029510.29305-100000@g4.pauljlucas.org>
References: <Pine.LNX.4.44.0410251029510.29305-100000@g4.pauljlucas.org>
Message-ID: <87F3CB43-26B0-11D9-AE79-000393B5606C@codetransform.com>


On Oct 25, 2004, at 10:35 AM, Paul J. Lucas wrote:

>
> On Sun, 24 Oct 2004, Monty Zukowski wrote:
>
>> There are language specific ways to manually ^ a node, but your code
>> actually looks cleaner.
>
> 	IMHO, '^' should be allowed on non-terminals.  Terrence: any
> 	reason it isn't?
>

Because it doesn't make sense to root a whole tree and currently ANTLR 
isn't smart enough to know if the rule is returning a single node or a 
tree.

>> On second thought, how about this:
>>
>> 		comparisonExpr
>> 		    : rangeExpr
>> 		      (co:comparisonOp! rangeExpr { ##=#(co,##); })?
>> 		    ;
>
> 	:-O
>
> 	Where, if anywhere, is "##" documented?
>

mmm, antlr.g?  just shorthand for #ruleName.

>> The following would work for sure:
>>
>> 		comparisonExpr
>> 		    : re1:rangeExpr
>> 		      (co:comparisonOp! re2:rangeExpr! { #comparisonExpr = #(co, 
>> re1,
>> re2); })?
>> 		    ;
>
> 	Yes, it does; thanks.
>
> 	- Paul
>
> 	P.S.: After getting more into it, the tree-construction syntax
> 	is seeming more and more arcane.  One thing I don't understand
> 	is why a rule as a whole ought to have an optional '!' to
> 	suppress insertion into the tree.  The ANTLR compiler scans the
> 	user-code anyway to look for #ruleName -- if it see's one, then
> 	the '!' on the rule is implied.  No?
>

No.  Often I want to add an imaginary root to the tree already built.  
Even the above relies on auto building for re1 though it later uses 
#comparisonExpr.

Monty



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Mon Oct 25 11:22:33 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] thoughts on source-to-source workshop at oopsla 2004
Message-ID: <D697761C-26B2-11D9-B512-000A95891192@cs.usfca.edu>


howdy,

Just about to head back to San Francisco from Vancouver, where I hung 
out at the source-to-source workshop yesterday.  Here are my 
observations on the rewrite systems and such at the workshop:

http://www.antlr.org/blog/STS2004-notes.tml

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Mon Oct 25 11:28:43 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Not generating parts of AST (argh!)
In-Reply-To: <Pine.LNX.4.44.0410251029510.29305-100000@g4.pauljlucas.org>
References: <Pine.LNX.4.44.0410251029510.29305-100000@g4.pauljlucas.org>
Message-ID: <B3936BCA-26B3-11D9-B512-000A95891192@cs.usfca.edu>



On Oct 25, 2004, at 10:35 AM, Paul J. Lucas wrote:

>
> On Sun, 24 Oct 2004, Monty Zukowski wrote:
>
>> There are language specific ways to manually ^ a node, but your code
>> actually looks cleaner.
>
> 	IMHO, '^' should be allowed on non-terminals.  Terrence: any
> 	reason it isn't?

Yes, I was lazy. ;)  Actually, a nonterminal may be more than just a 
single node...then, what does it mean?  Does lisp allow a tree as a 
root?  If so, we should go with its semantics...

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Mon Oct 25 11:55:42 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] DFA's encoded directly in java bytecodes
In-Reply-To: <38564.194.39.131.40.1098697552.14431.squirrel@webmailer.hosteurope.de>
References: <319B4B27-2205-11D9-BCB0-000A95891192@cs.usfca.edu> <38564.194.39.131.40.1098697552.14431.squirrel@webmailer.hosteurope.de>
Message-ID: <78562BF4-26B7-11D9-B512-000A95891192@cs.usfca.edu>


On Oct 25, 2004, at 2:45 AM, Martin Probst wrote:
> Hi,
> I'm pretty sure you know about this but it wasn't mentioned on the 
> list so
> I thought I'll drop a line ...
>
>> For the Java target of ANTLR 3.0, I've been concerned about the 
>> hideous
>> nature of the code generated for DFA machines.  Without a goto
>> instruction in Java, [...]
>
> It is true that there is no *real* goto statement in Java (and the
> reserved keyword isn't used) but there is somewhat of a goto statement
> that looks like this:
> mylabel1:
>   for (...)
>     for (...)
>     if (ragnaroek)

Hi Martin

heh, cool is this the norse "end of the world" term? ;)  Thought i read 
that term somewhere. ;)

>       break mylabel1;
> which is effectively a goto, though it will not work if you want to 
> jump

Somebody just mentioned this to me last night (another Martin believe 
it or not) and I and not thought of a "one time executed for loop", but 
you cannot jump *forward* can you?  You can only break out of a 
loop...i thought of break first, naturally.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Mon Oct 25 11:56:36 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] extended ascii chars
In-Reply-To: <clir2h+kr9t@eGroups.com>
References: <clir2h+kr9t@eGroups.com>
Message-ID: <9860548C-26B7-11D9-B512-000A95891192@cs.usfca.edu>


Hi, somebody recently asked this I think.  antlr.g itself only accepts 
latin char until you alter antlr.g to say 0..255 instead of 0..127; 
then rebuild.

Sorry about that...

Ter

On Oct 25, 2004, at 5:20 AM, jcdur wrote:
> Can somebody explain me why I got an error because of the '?' in
> the comment when running "java antlr.Tool" on the following file:
>
> options
> {
> 	language = "Cpp";	
> }
> /* El?ments lexicaux: */
> class Lex extends Lexer;
> options
> {
> 	charVocabulary = '\3'..'\377';
> }
> // Noeuds ne correspondant pas ? des terminaux:
> tokens
> {
> 	// utilis?s dans l'AST d'un ao:
> 	Foret;
> 	Arbre;
> }
>
> ENTIER: ('0'..'9')+;
>
> ...
>
> I have the same pb when this character or '?' appears in rules.
> Thanks,
> Jean_Claude.
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Mon Oct 25 12:13:47 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] DFA's encoded directly in java bytecodes
In-Reply-To: <78562BF4-26B7-11D9-B512-000A95891192@cs.usfca.edu>
References: <319B4B27-2205-11D9-BCB0-000A95891192@cs.usfca.edu> <38564.194.39.131.40.1098697552.14431.squirrel@webmailer.hosteurope.de> <78562BF4-26B7-11D9-B512-000A95891192@cs.usfca.edu>
Message-ID: <FEDA4F0B-26B9-11D9-B512-000A95891192@cs.usfca.edu>



On Oct 25, 2004, at 11:55 AM, Terence Parr wrote:
> Somebody just mentioned this to me last night (another Martin believe
> it or not) and I and not thought of a "one time executed for loop", but
> you cannot jump *forward* can you?  You can only break out of a
> loop...i thought of break first, naturally.

Ooops...I meant "and I had not thought"...

As I say though I wondered about breaks at first, but then decided that 
bytecodes were the only general way to get the gotos.  I do have a nice 
little assembler and class file writer now for ANTLR that, while not 
completely general, it's damn small.  Assembler and .class file writer 
are each about 600 lines.  Could be useful for users of antlr as well 
as the tool itself.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From atripp at comcast.net  Mon Oct 25 12:25:45 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Comparing ASTs of the two Java1.5 grammars
Message-ID: <cljjvp+5nqg@eGroups.com>



I went to update my JavaEmitter code for the new JDK1.5 grammar,
and I see we actually have two JDK1.5 grammars listed at antlr.org:
one by Michael Studman and another by Michael Stahl.
My code depends on the "shape" of the Java AST produced
by the grammar, and I'm sure eventually one of these two will
need to be chosen to be included with ANTLR as the "official" java.g.

So I tried out these two grammars on the 
various new 1.5 features, and here are my notes on
the ASTs that each of these grammars produce.
For reference, here's the Sun proposed Java 1.5 grammar:
http://java.sun.com/docs/books/jls/jls-proposed-changes.html

1) Annotations
Neither grammar stores annotations in the AST.
This seems right to me, as we don't store comments in the AST either.
Anyone who's annoyed that comments are not stored in the AST
will now be even more annoyed :)

2) Generics:
Given this code:
    public Vector(Collection<? extends E> c) {

Studman's produces this:
            TYPE
              IDENT Collection
                TYPE_ARGUMENTS
                  TYPE_ARGUMENT
                    WILDCARD_TYPE
                      TYPE_UPPER_BOUNDS
                        IDENT E
 
And Stahl's produces this:
           TYPE
             IDENT Collection
             TYPE_ARGS
               WILDCARD
                 LITERAL_extends
                 TYPE
                   IDENT E
                   TYPE_ARGS	

a) One places the TYPE subtree as a child IDENT, the other as a sibling.
I prefer Stahl's...seems strange for IDENT to have a child.
b) Studman's has the extra TYPE_ARGUMENT node, which I prefer.
c) The two trees are different under WILDCARD_TYPE. I prefer Studman's
but I'd rename "TYPE_UPPER_BOUNDS" to "TYPE_EXTENDS" (and
"TYPE_LOWER_BOUNDS"
to "TYPE_SUPER").
d) That extra TYPE_ARGS at the end of Stahl's shouldn't be there (I think)

2) For-each loop:
Given this code:
                for (Integer i : integers) {
                }

Studman's produces this:
         LITERAL_for
           FOR_EACH_CLAUSE
             PARAMETER_DEF
               MODIFIERS
               TYPE
                 IDENT Integer
               IDENT i
             EXPR
               IDENT integers
           SLIST

And Stahl's produces this:
          LITERAL_for
            PARAMETER_DEF
              MODIFIERS
              TYPE
                IDENT Integer
                TYPE_ARGS
              IDENT i
            EXPR
              IDENT integers
            SLIST

I prefer Studman's with the "FOR_EACH_CLAUSE" node which parallels the
"FOR_INIT",
"FOR_CONDITION", and "FOR_ITERATOR" nodes in the old "for" syntax.

3) Enums:
Given this code:
   enum Rank2 implements whatever {ONE, TWO, THREE}
Studman's produces this:
      ENUM_DEF
        MODIFIERS
        IDENT Rank2
        IMPLEMENTS_CLAUSE
          IDENT whatever
        OBJBLOCK
          ENUM_CONSTANT_DEF
            ANNOTATIONS
            IDENT ONE
          ENUM_CONSTANT_DEF
            ANNOTATIONS
            IDENT TWO
          ENUM_CONSTANT_DEF
            ANNOTATIONS
            IDENT THREE

Stahl's failed with "unexpected token" exception.

Given a full enum definitions, Studman's produced an AST that's identical
to a class definition, but with ENUM_DEF in place of CLASS_DEF.
Stahl's failed on this one too.

4) Varargs:
Given this code:
	void test(int i, String... strings)

Studman's produces this:
        PARAMETERS
          PARAMETER_DEF
            MODIFIERS
            TYPE
              LITERAL_int
            IDENT i
          VARIABLE_PARAMETER_DEF
            MODIFIERS
            TYPE
              IDENT String
            IDENT strings

And Stahl's produces this:
        PARAMETERS
          PARAMETER_DEF
            MODIFIERS
            TYPE
              LITERAL_int
            IDENT i
          PARAMETER_DEF
            MODIFIERS
            TYPE
              IDENT String
              TYPE_ARGS
              ELLIPSIS
            IDENT strings

I prefer Studman's AST with the explicit VARIABLE_PARAMETER_DEF node.

5) Static imports:
Given this code:
import static java.lang.Math.PI;

Studman's produces this:
  STATIC_IMPORT
    DOT
      DOT
        DOT
          IDENT java
          IDENT lang
        IDENT Math
      IDENT PI

And Stahl's produces this:
  IMPORT
    LITERAL_static
    DOT
      DOT
        DOT
          IDENT java
          IDENT lang
        IDENT Math
      IDENT PI

I prefer Studman's STATIC_IMPORT. The issue here is whether a "static
import"
is just an "import" that happens to have a "static" modifier 
(as when a variable is static),
or whether it's a new type of thing (in the way that a "static block"
differs
from a regular block).

Summary:
Given that these two both correctly parse Java 1.5 code (which they seem
to except for the enum problem noted above), choosing one of these to
be the "official" java.g comes down to which produces a "better" AST.
I've listed the differences and it looks to me like Studman's AST's
look like they're more consistent with the ASTs we get today.

And of course, some guru should look closely at the grammar to make
sure that it matches the "official" grammar in the JLS, and comments as
needed, make sure token names are consistent, etc.

Andy





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Mon Oct 25 12:37:38 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Comparing ASTs of the two Java1.5 grammars
In-Reply-To: <cljjvp+5nqg@eGroups.com>
References: <cljjvp+5nqg@eGroups.com>
Message-ID: <54493544-26BD-11D9-B512-000A95891192@cs.usfca.edu>


Wow!  Nice work, Andy.  Can anybody else comment on the two grammars?  
We definitely have room for n grammars as always, but it would be nice 
to have an "official" grammar that we can all keep finetuning.

Thanks,
Ter





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From atripp at comcast.net  Mon Oct 25 12:47:58 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: thoughts on source-to-source workshop at oopsla 2004
In-Reply-To: <D697761C-26B2-11D9-B512-000A95891192@cs.usfca.edu>
Message-ID: <cljl9e+uvkv@eGroups.com>




Ter,
Interesting notes!
Do you have a list of the systems that were represented?
I'm guessing TXL and DMS (from Semantic Designes) where there,
but I'm curious as to what the others were.

I had looked at a few of these when I was first starting on my
C-to-Java translator (www.jazillian.com). I had the same impression
that you had about "big, closed systems" vs. "small tools to 
be incorporated into a larger program". I wasn't convinced that
any of these could do something as simple as convert a printf()
call to a System.out.println() call. Seems to me that
"hand-coding" would will be required all over the place, and
trying to integrate, say, TXL with my own Java code looked
like a nightmare. So after several months work, I gave up on
AST-to-AST translation and came up with my own system
(described briefly here: http://jazillian.com/design.html)

I'm also curious...if you got a flavor for what each of these
things do, which one would you guess would be the best
platform for building, say, a C to Java translator?

Andy





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From atripp at comcast.net  Mon Oct 25 12:54:42 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: Why Java programmers are more productive...
In-Reply-To: <200410221743.i9MHh9u32586@shell2.webquarry.com>
Message-ID: <cljlm2+dhok@eGroups.com>



See <a href="http://jazillian.com/reasons.html">here</a> 
For about 50 reasons why I think Java programmers are
more productive than C programmers. Most of the reasons apply
to C++ too.

Andy





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From pauljlucas at mac.com  Mon Oct 25 13:07:17 2004
From: pauljlucas at mac.com (Paul J. Lucas)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: Why Java programmers are more productive...
In-Reply-To: <cljlm2+dhok@eGroups.com>
Message-ID: <Pine.LNX.4.44.0410251259340.29305-100000@g4.pauljlucas.org>


On Mon, 25 Oct 2004, atripp54321 wrote:

> See <a href="http://jazillian.com/reasons.html">here</a> 
> For about 50 reasons why I think Java programmers are
> more productive than C programmers. Most of the reasons apply
> to C++ too.

	Although I generally loath to enter a language Jihad, many of
	the comments there are disingenuous.  For example, the comment
	"Java has a built-in boolean type" gives an example of how, in
	C, you can accidentally do:

		int x;
		/* ... */
		if ( x = TRUE )		/* oops: meant x == TRUE */
			/* ... */;

	The author "conveniently" fails to point out that you can do
	the exact same thing in Java as the following is perfectly
	legal Java code:

		boolean x;
		// ...
		if ( x = true )		// oops: meant x == true
			/* ... */;

	Besides, it's not like Java invented the Boolean type.

	- Paul



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From atripp at comcast.net  Mon Oct 25 13:07:34 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <9EAFF84E-2440-11D9-B644-000393BB647E@cs.usfca.edu>
Message-ID: <cljme6+c377@eGroups.com>



> C++ is at least as portable as Java

C++ is "portable", meaning once you have something working on
one platform, you may then port it to each other platform.

On the other hand, Java is not "portable", it's "cross-platform".
That means you write it once and run it everywhere. You may
want to test on each platform (especially if you have a GUI), and
you have to fix something to make it work on each platform, but
that's very rare.

I'd guess the chances of ANTLR running perfectly
on some arbitrary JVM platform without changes
are upwards of 99%. But the chances of a C++-based
ANTLR running on an arbitrary platform without changes
are pretty close to zero.

Don't confuse "can be made to work anywhere" ("portable")
with "works anywhere
automatically" ("cross-platform").

Andy





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From atripp at comcast.net  Mon Oct 25 13:20:39 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <3adf6db804102210284d772a26@mail.gmail.com>
Message-ID: <cljn6n+cncs@eGroups.com>



--- In antlr-interest@yahoogroups.com, Barry Kelly
<barry.j.kelly@g...> wrote:
> > It took quite a bit of
> > trial and error to get Antlr to even run under Windows.
> 
> I'm not so sure of that. When compiled with MinGW GCJ it depends on
> nothing which doesn't come with Windows. I've posted a .exe binary on
> the ANTLR website compiled like this. It certainly *isn't* a language
> issue.

Even without GCJ, I find it quite easy to run ANTLR on windows.
Just set your PATH and CLASSPATH variables and run
"java antlr.Tool whatever.g" and "javac *.java".

Andy





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From mtiller at ford.com  Mon Oct 25 13:30:24 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: Why Java programmers are more productive...
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB340483FD92@na1fcm52.dearborn.ford.com>


Ironically, 2 of them don't apply to Java anymore (i.e. 3K and 3L, at
least in Java 1.5).  I wonder how many of the other 50 reasons will
eventually "fall". :-).

Not a knock against, Java, C++ or the list, just a comment on how one
minute things that are "bad" become "good".  Interestingly, this is
somewhat related to  Jon Udell's latest blog entry at:

http://weblog.infoworld.com/udell/2004/10/25.html#a1101.

--
Mike

> -----Original Message-----
> From: atripp54321 [mailto:atripp@comcast.net]
> Sent: Monday, October 25, 2004 3:55 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: Why Java programmers are more
productive...
> 
> 
> 
> See <a href="http://jazillian.com/reasons.html">here</a>
> For about 50 reasons why I think Java programmers are
> more productive than C programmers. Most of the reasons apply
> to C++ too.
> 
> Andy
> 
> 
> 
> 
> 
> 
> Yahoo! Groups Links
> 
> 
> 
> 
> 
> 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From H.A.M.Maassen at student.tue.nl  Tue Oct 26 03:02:32 2004
From: H.A.M.Maassen at student.tue.nl (Maassen, H.A.M.)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Spoiled windows brat reporting
Message-ID: <1C5C690C06EFE244B83E3F133CA70BDE28581A@studentex6.campus.tue.nl>

From: Alexey Demakov [mailto:demakov@ispras.ru] 

> There is Eclipse plugin for ANTLR that hides command line and improves readability of grammar file. 
> But parser creation requires some coding anyway :) 

Although I have downloaded Eclipse I haven't had the time (or motivation) to play with it yet. Right now I've added ANTLR as a pre-build event to the C# project, so that I can use that IDE for editing the grammar as well as reviewing the generated source.

Thanks for the tip though, I might try it later when I get the hang of all this other stuff (so many new things coming at me at once ;)). Could you give a small review as to what the Eclipse (with ANTLR plugin) does exactly (ie: how does it hide the cmd line, improve readability, will it help me with debugging my grammar, etc.?)

Thanks, 
Harald Maassen



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 3894 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20041026/339a88b7/attachment.bin
From demakov at ispras.ru  Tue Oct 26 03:27:19 2004
From: demakov at ispras.ru (Alexey Demakov)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Spoiled windows brat reporting
References: <1C5C690C06EFE244B83E3F133CA70BDE28581A@studentex6.campus.tue.nl>
Message-ID: <011701c4bb46$5fb615d0$8cc79553@marlboro>


> > There is Eclipse plugin for ANTLR that hides command line and improves readability of grammar file.
> > But parser creation requires some coding anyway :)
>
> Although I have downloaded Eclipse I haven't had the time (or motivation) to play with it yet. Right now I've added ANTLR as a
pre-build event to the C# project, so that I can use that IDE for editing the grammar as well as reviewing the generated source.
>
> Thanks for the tip though, I might try it later when I get the hang of all this other stuff (so many new things coming at me at
once ;)). Could you give a small review as to what the Eclipse (with ANTLR plugin) does exactly (ie: how does it hide the cmd line,
improve readability, will it help me with debugging my grammar, etc.?)

The main features of ANTLR Eclipse plugin are:
1. Syntax highlighting in *.g files
2. Compiling grammars from context menu - no command line. Output folder and super grammar properties
can be specified in file properties dialog.
3. Errors and warnings occured when compiling grammars are shown in Eclipse Problems dialog.

Generated lexer/parser can be debugged at Java level in Eclipse visual debugger - it's enough for me.
But of course source-level debugging sounds very interesting :)

If you develop for .NET platform, Eclipse only for ANTLR is not optimal choice. I edit grammars in VS.NET editor
and compile them in pre-build events. Lack of syntax highlighting is annoying but not critical.
Unfortunately in VS.NET there is no way to specify keywords for highlighting (as it was in VS6).
Writing addins for VS.NET is much more complicated :(

Regards,
Alexey




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From silke7772003 at yahoo.de  Tue Oct 26 04:08:13 2004
From: silke7772003 at yahoo.de (silke7772003)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] OTT: What do you like about GOLD? (was: ANTLR 2.7.4 code gen doc)
In-Reply-To: <clgb67+g70f@eGroups.com>
Message-ID: <20041026110850.7C4F974CE3@nexus.cs.usfca.edu>


Hi Micheal, 

> In any case, since you already have an LALR lexer/parser gen 
> toolkit that generates Delphi code, what feature of the GOLD 
> toolkit (and runtime engines) is tempting/persuading you to 
> switch to it. IOW, what does it do that other Delphi-friendly 
> Lex/Yacc descendants - that you've looked at - don't?

Unfortunately, I never found the time to finish my tool so it would generate working parsers. Only the lexer generation
work quite well. The only other two toolkist with Delphi code output I looked where the orignal Pascal port of Yacc/Lex,
which is rather a ness and Coco/R, which is not free IIRC and uses an own grammar syntax. Then I had a lot of work to do
in Java the past months and started using ANTLR for my *.rc file parser (which works already very well). So I thought
using this knowledge also to create a parser for Delphi would be a good idea. Only I did not expect that creating
another code generator would be that much work (since there are already 3 different ones).

Hence I looked at GOLD because it was mentioned here and found it not only to support Unicode (what my tool cannot,
don't even mention the pascal yacc) and it comes already with a Delphi port. And since time is always limited to produce
what is necessary I will start working with what promises the quickest results.

Mike
--
www.soft-gems.net 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From mail at martin-probst.com  Tue Oct 26 06:16:36 2004
From: mail at martin-probst.com (Martin Probst)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] DFA's encoded directly in java bytecodes
In-Reply-To: <FEDA4F0B-26B9-11D9-B512-000A95891192@cs.usfca.edu>
References: <319B4B27-2205-11D9-BCB0-000A95891192@cs.usfca.edu>
    <38564.194.39.131.40.1098697552.14431.squirrel@webmailer.hosteurope.de>
    <78562BF4-26B7-11D9-B512-000A95891192@cs.usfca.edu>
    <FEDA4F0B-26B9-11D9-B512-000A95891192@cs.usfca.edu>
Message-ID: <41863.194.39.131.40.1098796596.14431.squirrel@webmailer.hosteurope.de>


Hi Terence,

yes, ragnaroek is something like doom. I just used the term because I've
tended to use this construction (break to label) as a faster alternative
to throwing an exception in case something goes wrong within a nested loop
;-)

> As I say though I wondered about breaks at first, but then decided that
> bytecodes were the only general way to get the gotos.  I do have a nice
> little assembler and class file writer now for ANTLR that, while not
> completely general, it's damn small.  Assembler and .class file writer
> are each about 600 lines.  Could be useful for users of antlr as well
> as the tool itself.

Indeed breaks can only jump backwards in code, though they are not bound
to loops. If your tool fits ANTLRs needs everything's fine and I'm looking
forward to ANTLR 3!

mfg
Martin


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From Jean-Claude.Durand at imag.fr  Tue Oct 26 06:44:53 2004
From: Jean-Claude.Durand at imag.fr (Jean-Claude Durand)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] extended ascii chars
In-Reply-To: <9860548C-26B7-11D9-B512-000A95891192@cs.usfca.edu>
References: <clir2h+kr9t@eGroups.com> <9860548C-26B7-11D9-B512-000A95891192@cs.usfca.edu>
Message-ID: <376C4096-2755-11D9-A3E0-000A95B0AF5C@imag.fr>


Thanks a lot , but I don't think it is simply a matter of pure ascii 
(7bit character) or extended ascii (8bit character)
since:
- e grave (dec 232) and e acute (dec 233) for instance, are accepted, 
and a grave (dec 224) and u grave (dec 249) not.;
- all the source file of ANTLR I saw have the option "charVocabulary = 
'\3'..'\377';"

Jean-Claude.

Le 25 oct. 04, ? 20:56, Terence Parr a ?crit :

>
> Hi, somebody recently asked this I think.  antlr.g itself only accepts
> latin char until you alter antlr.g to say 0..255 instead of 0..127;
> then rebuild.
>
> Sorry about that...
>
> Ter
>
> On Oct 25, 2004, at 5:20 AM, jcdur wrote:
>> Can somebody explain me why I got an error because of the '?' in
>> the comment when running "java antlr.Tool" on the following file:
>>
>> options
>> {
>> 	language = "Cpp";	
>> }
>> /* El?ments lexicaux: */
>> class Lex extends Lexer;
>> options
>> {
>> 	charVocabulary = '\3'..'\377';
>> }
>> // Noeuds ne correspondant pas ? des terminaux:
>> tokens
>> {
>> 	// utilis?s dans l'AST d'un ao:
>> 	Foret;
>> 	Arbre;
>> }
>>
>> ENTIER: ('0'..'9')+;
>>
>> ...
>>
>> I have the same pb when this character or '?' appears in rules.
>> Thanks,
>> Jean_Claude.
>>
>>
>>
>>
>>
>>
>> Yahoo! Groups Links
>>
>>
>>
>>
>>
>>
>>
>>
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
>
Jean-Claude Durand
GETA, CLIPS, IMAG-Campus, BP 53
385, rue de la Biblioth?que
38041 Grenoble Cedex 9

04 76 51 43 81
jean-claude.durand@imag.fr



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-x79XqHd8I=mKVSzBRKsdRjQ at yahoogroups.com  Tue Oct 26 07:21:15 2004
From: antlr-interest-accept-x79XqHd8I=mKVSzBRKsdRjQ at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:25 2004
Subject: MODERATE -- garyf@austinaggies.com posted to antlr-interest
Message-ID: <1098800475.523.95257.m18@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  garyf@austinaggies.com 

The message summary:
--------------------
FROM: garyf@austinaggies.com 
DATE: Tue, 26 Oct 2004 14:21:12 -0000 
SUBJECT: newbie question 

I'm trying to write *very* simple csv parser in antlr. My 
antlr .g file is included below. My problem is this... I 
need to allow for CSV files where the fields may or may not 
be quoted (which works just fine), but which may also be 
empty. I get the dreaded 

"../antlr/csv.g:25:25: warning:nondeterminism between alts 1
and 2 of block upon k==1:COMMA" 

message. I believe I understand why (and increasing 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=349 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-x79XqHd8I=mKVSzBRKsdRjQ@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "tsipaggiedad" <garyf@austinaggies.com>
Subject: newbie question
Date: Tue, 26 Oct 2004 14:21:12 -0000
Size: 3110
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041026/e84abdd2/attachment.mht
From anakreonmejdi at yahoo.gr  Tue Oct 26 06:42:42 2004
From: anakreonmejdi at yahoo.gr (Anakreon)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: thoughts on source-to-source workshop at
 oopsla 2004
In-Reply-To: <cljl9e+uvkv@eGroups.com>
References: <cljl9e+uvkv@eGroups.com>
Message-ID: <417E5452.2010404@yahoo.gr>


> like a nightmare. So after several months work, I gave up on
> AST-to-AST translation and came up with my own system
> (described briefly here: http://jazillian.com/design.html)
Really interesting approach. I have two problems similar with those
you point to the web page. The goto (for vb) which PHP does not support
and the comments reassignment. I used a system similar with the code
snippets you mention. I use XML because I need to describe classes.

I wonder though, is the Token stream approach powerful enough?
For example if you have the code snippet:
someMethod(x) -> translation
and there are two overloaded version of someMethod say:
someMethod(char c) and someMethod(uint c)
how can you provide a different translation for those cases?

My approach uses AST to AST translation.
Why did you refuse this approach? What was the main drawback
of this approach?

Anakreon.


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From mtiller at ford.com  Tue Oct 26 07:33:07 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Spoiled windows brat reporting
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB3404023D74@na1fcm52.dearborn.ford.com>


Another feature of the Eclipse plug-in the I find extremely useful is
the outline mode.  This allows you to see a list of rules and jump
directly to them in the file.

--
Mike

> -----Original Message-----
> From: Alexey Demakov [mailto:demakov@ispras.ru]
> Sent: Tuesday, October 26, 2004 6:27 AM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] Spoiled windows brat reporting
> 
> 
> > > There is Eclipse plugin for ANTLR that hides command line and
improves
> readability of grammar file.
> > > But parser creation requires some coding anyway :)
> >
> > Although I have downloaded Eclipse I haven't had the time (or
> motivation) to play with it yet. Right now I've added ANTLR as a
> pre-build event to the C# project, so that I can use that IDE for
editing
> the grammar as well as reviewing the generated source.
> >
> > Thanks for the tip though, I might try it later when I get the hang
of
> all this other stuff (so many new things coming at me at
> once ;)). Could you give a small review as to what the Eclipse (with
ANTLR
> plugin) does exactly (ie: how does it hide the cmd line,
> improve readability, will it help me with debugging my grammar, etc.?)
> 
> The main features of ANTLR Eclipse plugin are:
> 1. Syntax highlighting in *.g files
> 2. Compiling grammars from context menu - no command line. Output
folder
> and super grammar properties
> can be specified in file properties dialog.
> 3. Errors and warnings occured when compiling grammars are shown in
> Eclipse Problems dialog.
> 
> Generated lexer/parser can be debugged at Java level in Eclipse visual
> debugger - it's enough for me.
> But of course source-level debugging sounds very interesting :)
> 
> If you develop for .NET platform, Eclipse only for ANTLR is not
optimal
> choice. I edit grammars in VS.NET editor
> and compile them in pre-build events. Lack of syntax highlighting is
> annoying but not critical.
> Unfortunately in VS.NET there is no way to specify keywords for
> highlighting (as it was in VS6).
> Writing addins for VS.NET is much more complicated :(
> 
> Regards,
> Alexey
> 
> 
> 
> 
> 
> Yahoo! Groups Links
> 
> 
> 
> 
> 
> 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From garyf at austinaggies.com  Tue Oct 26 07:21:12 2004
From: garyf at austinaggies.com (tsipaggiedad)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] newbie question
Message-ID: <cllmgo+j8jl@eGroups.com>




I'm trying to write *very* simple csv parser in antlr.  My antlr .g
file is included below.  My problem is this... I need to allow for CSV
files where the fields may or may not be quoted (which works just
fine), but which may also be empty.  I get the dreaded 

"../antlr/csv.g:25:25: warning:nondeterminism between alts 1 and 2 of
block upon k==1:COMMA"

message.  I believe I understand why (and increasing lookahead to 2 or
more doesn't resolve the warning message).  

The odd thing is.. the parser *seems* to work (at least for all of the
test cases I have).

My questions are:

1)  How do I eliminate the warning message (and/or is there something
I should be doing different)

2)  Is there a way to increase the performance of this parser?

Obviously, any help greatly appreciated.

// CSV parser definition
header {
#include <iostream>
#include <vector>
#include <string>
#include <antlr/Token.hpp>
using namespace antlr;
using namespace std;
typedef vector<string *>        StringVector;

}
options {
        language="Cpp";
}

class CSVParser extends Parser;
options { k=1; }
line returns [StringVector *strVector]
       {strVector = new StringVector(); string *recordData;}
       : ( ( (recordData=record {strVector->push_back(recordData);})+
NEWLINE) | EOF )
       ;

record returns [string *recordData]
       {recordData = new string(); }
       : ( (rec:RECORD) (COMMA)? )
       {(*recordData)+=(rec->getText()); }
       | (COMMA)
       ;

class CSVLexer extends Lexer;
options { k=1; charVocabulary='\3'..'\377'; }
protected QUOTE : '"';
protected DATA  :  (~(','|'|'|'"'|'\r'|'\n'))+ ;
protected QUOTEDATA : (~('"'|'\r'|'\n'))+ ;
RECORD  : QUOTE! QUOTEDATA QUOTE!
                | DATA;
COMMA   : (','|'|') ;
NEWLINE : ('\r''\n')=> '\r''\n' //DOS
        | '\r'                  //MAC
        | '\n'                  //UNIX
        { newline(); }
        ;


// WS      : (' '|'\t') { $setType(Token::SKIP); } ;









 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From barry.j.kelly at gmail.com  Tue Oct 26 08:18:21 2004
From: barry.j.kelly at gmail.com (Barry Kelly)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Possible bug: C# (& C++ maybe also): TreeParser doesn't have setMaxNodeType() called
Message-ID: <3adf6db804102608182befb81f@mail.gmail.com>


In ordinary C# lexer parsers which have the buildAST option set to
true, a method called initialize() is generated, which calls a
generated initializeFactory() method, which calls a generated
initializeASTFactory(ASTFactory) method, which calls
factory.setMaxNodeType(int) with a ANTLR-tool calculated value, equal
to the integer value of the highest token.

This permits creation of nodes using the normal #[xxx] (or [xxx]
inside #()) without having to specify an AST class for xxx - it uses
the default factory and default AST type, CommonAST.

However, when a tree parser is created, there is no initialize()
method, and there is no call to setMaxNodeType(int). This means that
AST node constructors of the #[xxx] style throw exceptions due to not
having a known node type. Specifically, there's a Debug.Assert() call
in the C# generator which performs a range check of xxx's integer
value. If the code got past the Assert call (as it would in a
non-debug build), the hashtable determining the correct node type
returns null and a default (CommonAST) node would be created.

Either the code generator for C# tree parsers should call
setMaxNodeType(int) like it does for ordinary parsers, or the runtime
library shouldn't use a Debug.Assert() range check and let a default
node be created.

The Java code generator doesn't appear to call setMaxNodeType(int) at
all, judging from my very brief scan of the source. The other
generator(s) may be out of sync with the runtime code in this case,
however - I do not use Java, and thus cannot verify.

-- Barry Kelly


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From barry.j.kelly at gmail.com  Tue Oct 26 08:31:33 2004
From: barry.j.kelly at gmail.com (Barry Kelly)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] newbie question
In-Reply-To: <cllmgo+j8jl@eGroups.com>
References: <cllmgo+j8jl@eGroups.com>
Message-ID: <3adf6db8041026083177abb2ef@mail.gmail.com>


I've removed the actions and some of the parentheses to improve
readability here:

> class CSVParser extends Parser;
> options { k=1; }
> line 
>        : (record )+ NEWLINE 
>        | EOF
>        ;
> 
> record
>        : RECORD (COMMA)?
>        | COMMA
>        ;

You'll see that, when reading in multiple records on a line, there are
two ways to parse a comma. It could be eaten by

1) the first alternative of the record rule, 

or

2) it could be ignored until the next iteration of the (record)+ part
of the line rule and read as the second alternative of the record
rule.

One way to get rid of this is to use options { greedy = true; } just
before the (COMMA)? part of the record rule. Another way would be to
rewrite line as something like:

line 
       : (RECORD)? (COMMA (RECORD)?)* NEWLINE 
       | EOF
       ;
 
-- Barry


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From garyf at austinaggies.com  Tue Oct 26 09:32:23 2004
From: garyf at austinaggies.com (tsipaggiedad)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: newbie question
In-Reply-To: <3adf6db8041026083177abb2ef@mail.gmail.com>
Message-ID: <cllu6n+9l1d@eGroups.com>



Cool.. thanks.. the first thing (making it greedy) worked (I tried the
second one a bit, but couldn't get my actions to work out correctly).

At any rate.. now.. I need to figure out how to improve it's speed.  I
assume there is a penalty (that I will have to live with) for
"greedy=true".  However, are there some things I could do to make this
speedier?  On my test platform, I'm only parsing about 15k lines/second.

--- In antlr-interest@yahoogroups.com, Barry Kelly
<barry.j.kelly@g...> wrote:
> I've removed the actions and some of the parentheses to improve
> readability here:
> 
> > class CSVParser extends Parser;
> > options { k=1; }
> > line 
> >        : (record )+ NEWLINE 
> >        | EOF
> >        ;
> > 
> > record
> >        : RECORD (COMMA)?
> >        | COMMA
> >        ;
> 
> You'll see that, when reading in multiple records on a line, there are
> two ways to parse a comma. It could be eaten by
> 
> 1) the first alternative of the record rule, 
> 
> or
> 
> 2) it could be ignored until the next iteration of the (record)+ part
> of the line rule and read as the second alternative of the record
> rule.
> 
> One way to get rid of this is to use options { greedy = true; } just
> before the (COMMA)? part of the record rule. Another way would be to
> rewrite line as something like:
> 
> line 
>        : (RECORD)? (COMMA (RECORD)?)* NEWLINE 
>        | EOF
>        ;
>  
> -- Barry





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From barry.j.kelly at gmail.com  Tue Oct 26 09:49:38 2004
From: barry.j.kelly at gmail.com (Barry Kelly)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: newbie question
In-Reply-To: <3adf6db8041026094647c37f94@mail.gmail.com>
References: <3adf6db8041026083177abb2ef@mail.gmail.com>
	 <cllu6n+9l1d@eGroups.com> <3adf6db8041026094647c37f94@mail.gmail.com>
Message-ID: <3adf6db8041026094940e91947@mail.gmail.com>


> since it uses PChar - the equivalent of char*):
> 
> http://compilers.iecc.com/comparch/article/01-04-039

Or it did use PChars in the original - I used indexing in this article.

-- Barry


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From barry.j.kelly at gmail.com  Tue Oct 26 09:46:18 2004
From: barry.j.kelly at gmail.com (Barry Kelly)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: newbie question
In-Reply-To: <cllu6n+9l1d@eGroups.com>
References: <3adf6db8041026083177abb2ef@mail.gmail.com>
	 <cllu6n+9l1d@eGroups.com>
Message-ID: <3adf6db8041026094647c37f94@mail.gmail.com>


On Tue, 26 Oct 2004 16:32:23 -0000, tsipaggiedad <garyf@austinaggies.com> wrote:
> 
> Cool.. thanks.. the first thing (making it greedy) worked (I tried the
> second one a bit, but couldn't get my actions to work out correctly).
> 
> At any rate.. now.. I need to figure out how to improve it's speed.  I
> assume there is a penalty (that I will have to live with) for
> "greedy=true".  However, are there some things I could do to make this
> speedier?  On my test platform, I'm only parsing about 15k lines/second.

To be really frank with you, if I were writing a CSV tokenizer
(really, only a lexer is needed), I'd write it by hand.

Writing a basic tokenizer which only uses one character of lookahead
and only needs to provide one token to its consumer (i.e. it doesn't
need to stick tokens into a queue) is pretty easy, and it can be made
very fast if you're willing to use a character pointer and use the
null character as a string terminator. A post I made a few years back
on the comp.compilers newsgroup describes the essence of the process,
written in Delphi/Object Pascal (but it's fairly readable and
translatable into any C-based language, since it uses PChar - the
equivalent of char*):

http://compilers.iecc.com/comparch/article/01-04-039

HTH,

-- Barry Kelly


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From dcaton at shorelinesoftware.com  Tue Oct 26 10:25:21 2004
From: dcaton at shorelinesoftware.com (Don Caton)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] Re: newbie question
In-Reply-To: <cllu6n+9l1d@eGroups.com>
Message-ID: <1098811353.14989@mx9.mysite4now.com>



> At any rate.. now.. I need to figure out how to improve it's 
> speed.  I assume there is a penalty (that I will have to live 
> with) for "greedy=true".  However, are there some things I 
> could do to make this speedier?  On my test platform, I'm 
> only parsing about 15k lines/second.

First, forget about the Antlr runtime library, just link the cpp files
directly into your project.  Make copies and put them in your project
directory, or a subdirectory.  Next, take all of the stuff in CommmonAST.cpp
and put it in CommonAST.hpp.  This allows the compiler to inline most, if
not all of it.  Some of the other Antlr classes may benefit from this as
well, but CommonAST seems to be the most used class in the parsers.

Now, if you are using MSVC, go into the properties dialog for the project
and in your release build settings, enable the following options:

  /O2  maximize speed
  /Og  global optimizations
  /Ob2 inline any suitable functions
  /Oi  enable intrinsic functions
  /Ot  favor fast code

And under linker options:

  /OPT:REF eliminitate unreferenced data
  /OPT:ICF remove redundant comdats

Build a release version and you will see a dramatic speed increase.  My
ANTLR generated parsers run 10-15 times faster when built with these
options.  The downside is that it takes MSVC 20 minutes to build my
executable, so it's only suitable for test or release builds.  You wouldn't
want to build a development version using these options anyhow or it would
be difficult to debug.

If you're using some other flavor of C++, see if there are similar
optimizations you can perform.

Regards,
 
Don Caton
Shoreline Software, Inc.
 





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From rjc at trump.net.au  Tue Oct 26 13:46:45 2004
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] DFA's encoded directly in java bytecodes
In-Reply-To: <FEDA4F0B-26B9-11D9-B512-000A95891192@cs.usfca.edu>
References: <319B4B27-2205-11D9-BCB0-000A95891192@cs.usfca.edu>
 <38564.194.39.131.40.1098697552.14431.squirrel@webmailer.hosteurope.de>
 <78562BF4-26B7-11D9-B512-000A95891192@cs.usfca.edu>
 <FEDA4F0B-26B9-11D9-B512-000A95891192@cs.usfca.edu>
Message-ID: <6.0.3.0.0.20041027073652.01dfe388@postoffice.trump.net.au>


Hello,

At 06:13 AM 26/10/2004, Terence Parr wrote:
>As I say though I wondered about breaks at first, but then decided that
>bytecodes were the only general way to get the gotos.  I do have a nice
>little assembler and class file writer now for ANTLR that, while not
>completely general, it's damn small.  Assembler and .class file writer
>are each about 600 lines.  Could be useful for users of antlr as well
>as the tool itself.

With all the goto'ing I was just wondering if the assembler you have done 
above implements the bytecode rule "all approaches to a single point must 
have the same stack"

This was quite hard for me to do, i have a java bytecode generator(about 
2500 lines ;-) that i was going to use to produce a bytecode tree walker to 
compile antlr grammars starting from BNF without the java source 
intermediate step.

I was stuck on action code and how to do semantic actions, its easy to do 
as separate actions but hard to do inline.

- Robert



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From Jean-Claude.Durand at imag.fr  Tue Oct 26 14:23:26 2004
From: Jean-Claude.Durand at imag.fr (jcdur)
Date: Mon Dec 20 16:17:25 2004
Subject: =?iso-8859-1?q?R=E9p_:_[antlr-interest]_extended_ascii_chars?=
Message-ID: <clmf8e+1h26@eGroups.com>



Thanks a lot , but I don't think it is simply a matter of pure ascii 
(7bit character) or extended ascii (8bit character)
since:
- e grave (dec 232) and e acute (dec 233) for instance, are accepted, 
and a grave (dec 224) and u grave (dec 249) not !
- and all the source files of ANTLR I saw have the option
"charVocabulary = '\3'..'\377';"

Jean-Claude.

Le 25 oct. 04, ? 20:56, Terence Parr a ?crit :


Hi, somebody recently asked this I think.  antlr.g itself only accepts
latin char until you alter antlr.g to say 0..255 instead of 0..127;
then rebuild.

Sorry about that...

Ter

On Oct 25, 2004, at 5:20 AM, jcdur wrote:
Can somebody explain me why I got an error because of the '?' in
the comment when running "java antlr.Tool" on the following file:

options
{
	language = "Cpp";	
}
/* El?ments lexicaux: */
class Lex extends Lexer;
options
{
	charVocabulary = '\3'..'\377';
}
// Noeuds ne correspondant pas ? des terminaux:
tokens
{
	// utilis?s dans l'AST d'un ao:
	Foret;
	Arbre;
}

ENTIER: ('0'..'9')+;

...

I have the same pb when this character or '?' appears in rules.
Thanks,
Jean_Claude.

Yahoo! Groups Links
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!


Yahoo! Groups Links


Jean-Claude Durand
GETA, CLIPS, IMAG-Campus, BP 53
385, rue de la Biblioth?que
38041 Grenoble Cedex 9
France

33 (0)4 76 51 43 81
jean-claude.durand@imag.fr





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Tue Oct 26 15:55:53 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:25 2004
Subject: [antlr-interest] DFA's encoded directly in java bytecodes
In-Reply-To: <6.0.3.0.0.20041027073652.01dfe388@postoffice.trump.net.au>
References: <319B4B27-2205-11D9-BCB0-000A95891192@cs.usfca.edu> <38564.194.39.131.40.1098697552.14431.squirrel@webmailer.hosteurope.de> <78562BF4-26B7-11D9-B512-000A95891192@cs.usfca.edu> <FEDA4F0B-26B9-11D9-B512-000A95891192@cs.usfca.edu> <6.0.3.0.0.20041027073652.01dfe388@postoffice.trump.net.au>
Message-ID: <30780B6A-27A2-11D9-8725-000A95891192@cs.usfca.edu>



On Oct 26, 2004, at 1:46 PM, Robert Colquhoun wrote:
> At 06:13 AM 26/10/2004, Terence Parr wrote:
>> As I say though I wondered about breaks at first, but then decided 
>> that
>> bytecodes were the only general way to get the gotos.  I do have a 
>> nice
>> little assembler and class file writer now for ANTLR that, while not
>> completely general, it's damn small.  Assembler and .class file writer
>> are each about 600 lines.  Could be useful for users of antlr as well
>> as the tool itself.
>
> With all the goto'ing I was just wondering if the assembler you have 
> done
> above implements the bytecode rule "all approaches to a single point 
> must
> have the same stack"

Well, do you mean that I guarantee/check for this?  nope ;)  My DFA 
code will keep the stack at 0 minus locals / arguments between states.

> This was quite hard for me to do, i have a java bytecode 
> generator(about
> 2500 lines ;-) that i was going to use to produce a bytecode tree 
> walker to
> compile antlr grammars starting from BNF without the java source
> intermediate step.
>
> I was stuck on action code and how to do semantic actions, its easy to 
> do
> as separate actions but hard to do inline.

True, but you could invoke the javac compiler in tools.jar like a web 
server :)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Tue Oct 26 15:56:59 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:25 2004
Subject: =?ISO-8859-1?Q?Re:_R=E9p_:_[antlr-interest]_extended_ascii_chars?=
In-Reply-To: <clmf8e+1h26@eGroups.com>
References: <clmf8e+1h26@eGroups.com>
Message-ID: <57E0599C-27A2-11D9-8725-000A95891192@cs.usfca.edu>



On Oct 26, 2004, at 2:23 PM, jcdur wrote:
> Thanks a lot , but I don't think it is simply a matter of pure ascii
> (7bit character) or extended ascii (8bit character)
> since:
> - e grave (dec 232) and e acute (dec 233) for instance, are accepted,
> and a grave (dec 224) and u grave (dec 249) not !
> - and all the source files of ANTLR I saw have the option
> "charVocabulary = '\3'..'\377';"

Salut Jean-Claude,

Strange!   I thought for sure that antlr.g only did latin char to 127.  
Somebody else tried this.  Can they comment?

Ter

>
> Jean-Claude.
>
> Le 25 oct. 04, ? 20:56, Terence Parr a ?crit :
>
>
> Hi, somebody recently asked this I think.  antlr.g itself only accepts
> latin char until you alter antlr.g to say 0..255 instead of 0..127;
> then rebuild.
>
> Sorry about that...
>
> Ter
>
> On Oct 25, 2004, at 5:20 AM, jcdur wrote:
> Can somebody explain me why I got an error because of the '?' in
> the comment when running "java antlr.Tool" on the following file:
>
> options
> {
> 	language = "Cpp";	
> }
> /* El?ments lexicaux: */
> class Lex extends Lexer;
> options
> {
> 	charVocabulary = '\3'..'\377';
> }
> // Noeuds ne correspondant pas ? des terminaux:
> tokens
> {
> 	// utilis?s dans l'AST d'un ao:
> 	Foret;
> 	Arbre;
> }
>
> ENTIER: ('0'..'9')+;
>
> ...
>
> I have the same pb when this character or '?' appears in rules.
> Thanks,
> Jean_Claude.
>
> Yahoo! Groups Links
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
>
>
> Yahoo! Groups Links
>
>
> Jean-Claude Durand
> GETA, CLIPS, IMAG-Campus, BP 53
> 385, rue de la Biblioth?que
> 38041 Grenoble Cedex 9
> France
>
> 33 (0)4 76 51 43 81
> jean-claude.durand@imag.fr
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From pauljlucas at mac.com  Tue Oct 26 21:20:21 2004
From: pauljlucas at mac.com (Paul J. Lucas)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] More on TokenWithIndex
Message-ID: <Pine.LNX.4.44.0410262058030.29305-100000@g4.pauljlucas.org>


	I need to preserve all original tokens.  I've been looking at
	Terrence's TokenWithIndex approach.  Consider this:

		declareThing
		    : DECLARE!
		        ( baseURIDecl
		        | functionDecl
		        | // ...
		        )
		    ;

		baseURIDecl
		    : b:BASE_URI^ uri=stringLiteral
		        {
			    #b.setType( BASE_URI_DECL );
		        }
		    ;

	i.e., this language has a bunch of "declare" statements each of
	which begin with the keyword "declare".  Not surprisingly,
	"declare" has been left-factored.

	I want each token in the generated AST to have min/max indicies
	into a list of all tokens, but I want *all* the min/max to
	include factored tokens as well: in this case, I want the min
	index for BASE_URL_DECL to be that of the DECLARE.

	A practicle application of this (i.e., why I want this) is to do
	something that many IDE editors do: if there is an error in a
	statement, I want to underline the entire statement with a red
	squiggly line.  For the case at hand, that includes "declare".

	As written, Terrence's solution will not include any left-
	factored token indicies.  So the question is: what's a good way
	to get what I want?

	One way is to somehow pass the left-factored token "down" to the
	other rules that can then obtain its index and set their min
	accordingly.

	A similar problem also occurs with discarded tokens, e.g.,
	'(' and ')' in parenthesizedExpr.  If you were to have:

		(3 + 4)
		0123456

	I would want the min/max for '+' to be 0/6 and not 1/5.  For
	this case, one could set the min/max explicitly easily since
	it's all in the same fule, i.e.:

		parenthesizedExpr
		    : l:LPAREN! e:expr r:RPAREN!
		    	{
			    #e.setMinMax( l.getMin(), r.getMax() );
			}
		    ;

	(Or something like that.)  But is there something better/easier?

	- Paul



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-YpKJGwr87pxLj7LfZCZeoBE at yahoogroups.com  Wed Oct 27 04:55:25 2004
From: antlr-interest-accept-YpKJGwr87pxLj7LfZCZeoBE at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:26 2004
Subject: MODERATE -- meenachan@yahoo.com posted to antlr-interest
Message-ID: <1098878125.331.9637.m5@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  meenachan@yahoo.com 

The message summary:
--------------------
FROM: meenachan@yahoo.com 
DATE: Wed, 27 Oct 2004 11:55:01 -0000 
SUBJECT: NoViableAltException 

I am getting a NoViableAltException in the ANTLR . But I 
want to get the full string from the place where it occurs .
For example: 

The input is : create antlr antlrname=antlr1 antlrype=type1 

where the lexer definition is as follows: CREATE:"create "; 

ANTLR:"antlr"; ANTLRNAME:"antlrn"('a' ('m' ('e')?)?)?; 
ANTLRTYPE:"antlrt"('y' ('p'('e')?)?)?; 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=350 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-YpKJGwr87pxLj7LfZCZeoBE@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "meenachan" <meenachan@yahoo.com>
Subject: NoViableAltException
Date: Wed, 27 Oct 2004 11:55:01 -0000
Size: 1860
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041027/b8760919/attachment.mht
From demakov at ispras.ru  Wed Oct 27 07:54:05 2004
From: demakov at ispras.ru (Alexey Demakov)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] TreeDL news: tutorial, new releases, mailing lists
Message-ID: <003301c4bc34$ce2c7d80$8cc79553@marlboro>


Hi all,

For those of you who is interested in TreeDL (announced some time ago in this list),
I have good news :)

TreeDL (Tree Description Language) is a notation for description
of formal text internal representation (such as abstract syntax tree). 

1. Step-by-step tutorial on TreeDL is available: How to create tool that process simple language for calculator.
http://treedl.sourceforge.net/examples/calc/

2. Mail lists for users and developers are available:
http://sourceforge.net/mail/?group_id=120633
If you are interested in TreeDL, please, subscribe, I really need your feedback.
All further TreeDL discussion will be in these lists.

3. New releases can be downloaded from project page http://sourceforge.net/projects/treedl/
treedl-1.0-rc2
atplib-3.0-rc2
maven-atp-plugin-rc2
maven-treedl-plugin-rc3

Regards,
Alexey

-----
Alexey Demakov
TreeDL: Tree Description Language: http://treedl.sourceforge.net
RedVerst Group: http://www.unitesk.com




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Wed Oct 27 08:00:27 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] More on TokenWithIndex
In-Reply-To: <Pine.LNX.4.44.0410262058030.29305-100000@g4.pauljlucas.org>
References: <Pine.LNX.4.44.0410262058030.29305-100000@g4.pauljlucas.org>
Message-ID: <EFEE6C1C-2828-11D9-AE79-000393B5606C@codetransform.com>


On Oct 26, 2004, at 9:20 PM, Paul J. Lucas wrote:

>
> 	I need to preserve all original tokens.  I've been looking at
> 	Terrence's TokenWithIndex approach.  Consider this:
>
> 		declareThing
> 		    : DECLARE!
> 		        ( baseURIDecl
> 		        | functionDecl
> 		        | // ...
> 		        )
> 		    ;
>
> 		baseURIDecl
> 		    : b:BASE_URI^ uri=stringLiteral
> 		        {
> 			    #b.setType( BASE_URI_DECL );
> 		        }
> 		    ;
>
> 	i.e., this language has a bunch of "declare" statements each of
> 	which begin with the keyword "declare".  Not surprisingly,
> 	"declare" has been left-factored.
>
> 	I want each token in the generated AST to have min/max indicies
> 	into a list of all tokens, but I want *all* the min/max to
> 	include factored tokens as well: in this case, I want the min
> 	index for BASE_URL_DECL to be that of the DECLARE.
>
> 	A practicle application of this (i.e., why I want this) is to do
> 	something that many IDE editors do: if there is an error in a
> 	statement, I want to underline the entire statement with a red
> 	squiggly line.  For the case at hand, that includes "declare".
>
> 	As written, Terrence's solution will not include any left-
> 	factored token indicies.  So the question is: what's a good way
> 	to get what I want?
>
> 	One way is to somehow pass the left-factored token "down" to the
> 	other rules that can then obtain its index and set their min
> 	accordingly.
>
> 	A similar problem also occurs with discarded tokens, e.g.,
> 	'(' and ')' in parenthesizedExpr.  If you were to have:
>
> 		(3 + 4)
> 		0123456
>
> 	I would want the min/max for '+' to be 0/6 and not 1/5.  For
> 	this case, one could set the min/max explicitly easily since
> 	it's all in the same fule, i.e.:
>
> 		parenthesizedExpr
> 		    : l:LPAREN! e:expr r:RPAREN!
> 		    	{
> 			    #e.setMinMax( l.getMin(), r.getMax() );
> 			}
> 		    ;
>
> 	(Or something like that.)  But is there something better/easier?
>
> 	- Paul
>

Well, for your DECLARE, you could have DECLARE^ instead of DECLARE!  
Then I suppose your line squiggler could have a set of node types to 
bump up to when squiggling.  In your tree when you find a BASE_URI with 
a problem you will pop up your doubly linked tree until you meet a type 
in the squiggle set and then use that as the root to compute the 
min/max.

Another approach would be to keep some sort of stack of "interesting" 
regions.  Then upon meeting DECLARE you push a squiggle bounds object 
onto the stack, but of course you only have the beginning for now.  Set 
the end bound when you get it.  Then later when the tree is done you 
could migrate your correct bounds into the tree if you want it in the 
tree, otherwise just keep that information as referenced squiggle 
bounds objects that you remember to copy around when manipulating the 
tree.

Monty



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-mBUZnlxprgbyCwNZ0YrBM=U at yahoogroups.com  Wed Oct 27 08:28:56 2004
From: antlr-interest-accept-mBUZnlxprgbyCwNZ0YrBM=U at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:26 2004
Subject: MODERATE -- ebell@edgeofreality.com posted to antlr-interest
Message-ID: <1098890936.448.3807.m21@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  ebell@edgeofreality.com 

The message summary:
--------------------
FROM: ebell@edgeofreality.com 
DATE: Wed, 27 Oct 2004 15:28:13 -0000 
SUBJECT: RE: Spoiled windows brat reporting - more windows tips 

I have an ANTLR generated parser project for windows under 
.NET. Like was mentioned before, you can use custom build 
steps to invoke ANTLR during the build process. Instead of 
using a pre-build step I just added the .g file to the 
.vcproj and applied custom build rule to the .g file. If you
are using perforce, you can add p4 commands to the rule to 
check out your generated files as well. 

For syntax highlighting I use Visual SlickEdit( v9.0.2 ). 
Visual SlickEdit has out of the box syntax highlighting for 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=351 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-mBUZnlxprgbyCwNZ0YrBM=U@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "hero_onethousand" <ebell@edgeofreality.com>
Subject: RE: Spoiled windows brat reporting - more windows tips
Date: Wed, 27 Oct 2004 15:28:13 -0000
Size: 2480
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041027/8e7d2d26/attachment.mht
From pauljlucas at mac.com  Wed Oct 27 09:41:49 2004
From: pauljlucas at mac.com (Paul J. Lucas)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] More on TokenWithIndex
In-Reply-To: <EFEE6C1C-2828-11D9-AE79-000393B5606C@codetransform.com>
Message-ID: <Pine.LNX.4.44.0410270936560.29305-100000@g4.pauljlucas.org>


On Wed, 27 Oct 2004, Monty Zukowski wrote:

> Well, for your DECLARE, you could have DECLARE^ instead of DECLARE!  

	Yes, but that produces a tree with otherwise useless nodes in
	it, i.e.:

		DECLARE			<-- this isn't really needed
		   BASE_URL_DECL
		       ...

> Another approach would be to keep some sort of stack of "interesting" 
> regions.

	Yeah.  It would be nice if ANTLR did all this sort of thing for
	you since the entire problem is of general interest.  (Terrence?)

	- Paul



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ebell at edgeofreality.com  Wed Oct 27 08:28:13 2004
From: ebell at edgeofreality.com (hero_onethousand)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] RE: Spoiled windows brat reporting - more windows tips
Message-ID: <cloeqd+t7lv@eGroups.com>




I have an ANTLR generated parser project for windows under .NET. Like
was mentioned before, you can use custom build steps to invoke ANTLR
during the build process. Instead of using a pre-build step I just
added the .g file to the .vcproj and applied custom build rule to the
.g file. If you are using perforce, you can add p4 commands to the
rule to check out your  generated files as well. 

For syntax highlighting I use Visual SlickEdit( v9.0.2 ). Visual
SlickEdit has out of the box syntax highlighting for .g files, and it
can open and build .NET .sln files. With this setup, I only have to
use .NET when adding files to the project. If you have never used
SlickEdit, you should give it a spin. It just might change your life.
I use it almost exclusively. I often have to switch between gcc
makefile and .NET projects. SlickEdit lets me use the same environment
for all of these projects. Its symbol tagging is the best I have
encountered. It is also cross platform. The list goes on. 

In summary, it is really easy to get ANTLR working in the .NET
environment. This question comes up often enough that it deserves some
treatment in the documentation or at antlr.org. 

Evan A. Bell
Game Programmer
www.edgeofreality.com
ebell@edgeofreality.com

 








 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From meenachan at yahoo.com  Wed Oct 27 04:55:01 2004
From: meenachan at yahoo.com (meenachan)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] NoViableAltException
Message-ID: <clo2al+b0re@eGroups.com>




I am getting a NoViableAltException in the ANTLR . But I want to get 
the full string from the place where it occurs . For example:

The input is :
create antlr antlrname=antlr1 antlrype=type1 

where the lexer definition is as follows:
CREATE:"create ";
ANTLR:"antlr";
ANTLRNAME:"antlrn"('a' ('m' ('e')?)?)?;
ANTLRTYPE:"antlrt"('y' ('p'('e')?)?)?;

In the above example since  it was not able to identify the 
token "antlrype=type1" it throws NoViableAltException with the LT(1) 
as "antlr". But I need to display the whole string "antlrype=type1 " 
as invalid. 

My question is : How to get the string (antlrype=type1 )from the 
place where the NoViableAltException occurs??

Thanks in advance
Meena








 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From mtiller at ford.com  Wed Oct 27 09:44:47 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] TreeDL news: tutorial, new releases, mailing lists
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB340483FD99@na1fcm52.dearborn.ford.com>


Alexey,

  I find this TreeDL system quite interesting.  It is closer to the way
I think than the typical homogeneous ASTs in ANTLR.  However, I see a
couple of issues when comparing it to things I've done:

1) I notice that you do not utilize Generic collections (ala Java 1.5).
Is this something you are considering adding?  It would be a nice touch.

2) Your visitor pattern include "visitXYZ" methods.  I've found that for
many structures an "enterXYZ" and "leaveXYZ" pattern is more suitable.
In fact, one might argue that anything that has children would probably
benefit from the "enter-leave" pattern (also found in SableCC if I'm not
mistaken).  It doesn't matter for things like evaluation, but if you
want to output HTML (for example), it is nice.

3) I could not tell from the documentation but it seems that (at least
for children), you implement get methods.  Do you also implement set
methods?  Finally, are attributes handled similarly?  I like the
attributed tree idea, but I'd like some control over the get/set methods
(to allow for things like cache invalidation, for example).

4) I didn't see this explicitly stated in your calc example, but is the
interface for the visitor generated automatically?  If so, that is a
very nice touch.

5) It isn't clear what the purpose of the "Syntax Grammar" section is.
How is this used?  It seems like the tree definition + ANTLR grammar is
pretty complete.  I don't see what the .bnf file is needed for.

6) Your tree directive seems to be used to indicate what package the
eventual definitions will be included in.  Why not use the word
"package" instead of "tree".  To me, "tree" implies it has something to
do with the data structures themselves rather than just their location
in the package hierarchy.

Items #1-4 represent differences between TreeDL and the way I have been
approaching things.  I would be very interested in seeing how these
particular aspects of TreeDL evolve because I prefer your high-level
approach (so long as it includes the functionality I need).

Looks very interesting.  Please keep us posted.

--
Mike

> -----Original Message-----
> From: Alexey Demakov [mailto:demakov@ispras.ru]
> Sent: Wednesday, October 27, 2004 10:54 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] TreeDL news: tutorial, new releases, mailing
> lists
> 
> 
> Hi all,
> 
> For those of you who is interested in TreeDL (announced some time ago
in
> this list),
> I have good news :)
> 
> TreeDL (Tree Description Language) is a notation for description
> of formal text internal representation (such as abstract syntax tree).
> 
> 1. Step-by-step tutorial on TreeDL is available: How to create tool
that
> process simple language for calculator.
> http://treedl.sourceforge.net/examples/calc/
> 
> 2. Mail lists for users and developers are available:
> http://sourceforge.net/mail/?group_id=120633
> If you are interested in TreeDL, please, subscribe, I really need your
> feedback.
> All further TreeDL discussion will be in these lists.
> 
> 3. New releases can be downloaded from project page
> http://sourceforge.net/projects/treedl/
> treedl-1.0-rc2
> atplib-3.0-rc2
> maven-atp-plugin-rc2
> maven-treedl-plugin-rc3
> 
> Regards,
> Alexey
> 
> -----
> Alexey Demakov
> TreeDL: Tree Description Language: http://treedl.sourceforge.net
> RedVerst Group: http://www.unitesk.com
> 
> 
> 
> 
> 
> Yahoo! Groups Links
> 
> 
> 
> 
> 
> 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Wed Oct 27 09:57:43 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] More on TokenWithIndex
In-Reply-To: <Pine.LNX.4.44.0410270936560.29305-100000@g4.pauljlucas.org>
References: <Pine.LNX.4.44.0410270936560.29305-100000@g4.pauljlucas.org>
Message-ID: <5215FB50-2839-11D9-AE79-000393B5606C@codetransform.com>


On Oct 27, 2004, at 9:41 AM, Paul J. Lucas wrote:

>
>> Another approach would be to keep some sort of stack of "interesting"
>> regions.
>
> 	Yeah.  It would be nice if ANTLR did all this sort of thing for
> 	you since the entire problem is of general interest.  (Terrence?)
>
>

Well, doing it in actions is the ANTLR way.  You do have to tell ANTLR 
which regions are interesting and which aren't.  If ANTLR were to 
support that it would mean annotating your parser with yet another 
symbol, which is actually ok with me but not with Terence.  I've been 
advocating for support of user specified domain specific language 
notations in ANTLR itself for quite a while and Ter hasn't seen the 
light yet.

In any event someone has to figure out the right way to do it first....

For this one it's almost like I would want to specify it in an aspect 
oriented way like

region_rules {
statement;
expression;
declaration;
typeName;
}

And then we'd want ANTLR to add a little bit of code to rule entry & 
exit to maintain that stack by pushing and popping region objects.  
Then constructing tree nodes would add a reference to the current 
region object.

Monty



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From johnm-antlr at non.net  Wed Oct 27 10:08:42 2004
From: johnm-antlr at non.net (John D. Mitchell)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] More on TokenWithIndex
In-Reply-To: <Pine.LNX.4.44.0410270936560.29305-100000@g4.pauljlucas.org>
References: <EFEE6C1C-2828-11D9-AE79-000393B5606C@codetransform.com>
	<Pine.LNX.4.44.0410270936560.29305-100000@g4.pauljlucas.org>
Message-ID: <16767.54810.136820.771573@despot.non.net>


Hi, Paul

>>>>> "Paul" == Paul J Lucas <pauljlucas@mac.com> writes:
>>>>>> On Wed, 27 Oct 2004, Monty Zukowski writes:
[...]

>> Well, for your DECLARE, you could have DECLARE^ instead of DECLARE!

> 	Yes, but that produces a tree with otherwise useless nodes in it,
> i.e.:

> 		DECLARE <-- this isn't really needed BASE_URL_DECL ...

Well, given your example, it seems that it is needed.  :-)

Seriously, one of the key purposes of extra layers in the AST is to give
you the extra grip that you need to make doing the things that you want,
easier.

>> Another approach would be to keep some sort of stack of "interesting"
>> regions.

> 	Yeah.  It would be nice if ANTLR did all this sort of thing for you
> since the entire problem is of general interest.  (Terrence?)

(A) Psst!  That's "Terence" with one 'r'.  [He's usually too polite to
mention it but it's something that seems to bug him. :-)]

(B) The attribute support coming in v3 will certainly make that easy to do.
That's a wicked tease, I know.  I'm jonesing for that very support right
now in a translator that I'm working on as that built-in dynamic attribute
support would make all sorts of things that I'm doing quicker and easier to
do.

Take care,
	John


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From pauljlucas at mac.com  Wed Oct 27 10:18:25 2004
From: pauljlucas at mac.com (Paul J. Lucas)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] More on TokenWithIndex
In-Reply-To: <5215FB50-2839-11D9-AE79-000393B5606C@codetransform.com>
Message-ID: <Pine.LNX.4.44.0410271006020.29305-100000@g4.pauljlucas.org>


On Wed, 27 Oct 2004, Monty Zukowski wrote:

> Well, doing it in actions is the ANTLR way.  You do have to tell ANTLR 
> which regions are interesting and which aren't.  If ANTLR were to 
> support that it would mean annotating your parser with yet another 
> symbol, which is actually ok with me but not with Terence.

	It could be done via "options"... something like:

		declareThing
		  options {
		    pushLeftTokens = true;
		  }
		  : DECLARE! ( thing1 | thing2 | yadda )
		  ;

	(or something like that).  This would have the effect of either
	"pushing" the left tokens "down" to the rules to the right so
	that when their ASTs are constructed, their left "edge"
	includes the left tokens of the caller.

	For the enclosedExpr case, perhaps something like:

		enclosedExpr
		  options {
		    includeEdgeTokens = true;
		  }
		  : '(' expr ')'
		  ;

	so that '(' and ')' are included in the min/max indicies.

	I do tend to agree that adding yet more "magic" symbols to
	tokens gets a bit crazy.  Perhaps more mnemonic symbols:

		DECLARE<K,P>	// (K)ill = current '!'; (P)ush down

	but only if the options addition wouldn't work.

	- Paul



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From pauljlucas at mac.com  Wed Oct 27 10:24:27 2004
From: pauljlucas at mac.com (Paul J. Lucas)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] More on TokenWithIndex
In-Reply-To: <16767.54810.136820.771573@despot.non.net>
Message-ID: <Pine.LNX.4.44.0410271019250.29305-100000@g4.pauljlucas.org>


On Wed, 27 Oct 2004, John D. Mitchell wrote:

> > 		DECLARE <-- this isn't really needed BASE_URL_DECL ...
> 
> Well, given your example, it seems that it is needed.  :-)
> 
> Seriously, one of the key purposes of extra layers in the AST is to give
> you the extra grip that you need to make doing the things that you want,
> easier.

	It's not needed if all I were doing were walking the AST and
	compiling.  Hence, it's not needed in the "pure" sense.  It's
	only needed by the pesky GUI folks to draw pretty red
	squiggles.  (Real programmers don't need no stinking red
	squiggles!)  I don't like the idea of keeping around extra
	stuff so that all potential users of the AST have to deal with
	it.

> (A) Psst!  That's "Terence" with one 'r'.  [He's usually too polite to
> mention it but it's something that seems to bug him. :-)]

	Whoops!  Sorry, Terence.  (Is there a variant with to 'r's?)

> (B) The attribute support coming in v3 will certainly make that easy to do.
> That's a wicked tease, I know.

	Yeah, yeah.  Sigh...  :-(

	- paul



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Wed Oct 27 11:22:13 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Re: thoughts on source-to-source workshop at oopsla 2004
In-Reply-To: <cljl9e+uvkv@eGroups.com>
References: <cljl9e+uvkv@eGroups.com>
Message-ID: <1FD933A0-2845-11D9-8725-000A95891192@cs.usfca.edu>



On Oct 25, 2004, at 12:47 PM, atripp54321 wrote:
> Ter,
> Interesting notes!

:)

> Do you have a list of the systems that were represented?
> I'm guessing TXL and DMS (from Semantic Designes) where there,
> but I'm curious as to what the others were.

Yep, and Stratego.  Here is the program / papers:

http://www.ii.uib.no/~magne/stsw04-html-2/

> I had looked at a few of these when I was first starting on my
> C-to-Java translator (www.jazillian.com). I had the same impression

heh, that jazillian is cool.  You should add to the showcase:

http://www.antlr.org/showcase/list

> that you had about "big, closed systems" vs. "small tools to
> be incorporated into a larger program".

yeah, 100M download is definitely an inverted view from the 
programmers'.

>  I wasn't convinced that
> any of these could do something as simple as convert a printf()
> call to a System.out.println() call. Seems to me that
> "hand-coding" would will be required all over the place, and
> trying to integrate, say, TXL with my own Java code looked
> like a nightmare. So after several months work, I gave up on
> AST-to-AST translation and came up with my own system
> (described briefly here: http://jazillian.com/design.html)

you should definitely link to this perhaps directly in the articles 
section of the website too. :)

> I'm also curious...if you got a flavor for what each of these
> things do, which one would you guess would be the best
> platform for building, say, a C to Java translator?

Ack...none of us could understand each others' tools ;)  Most of them 
are hypercomplicated beasts.  I hesitate to say what is useful and what 
is not.

I'm going to start a rewriting "blog" this morning to capture some 
thoughts about what I'd like in terms of a practical rewrite system 
that would be like sed/awk except it paid attention to syntax not just 
reg exprs. :)  I'll post something and let people know.

Ter

>
> Andy
>
>
>
>
>
>
> Yahoo! Groups Links
>
>
>
>
>
>
>
>
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Wed Oct 27 11:24:14 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] DFA's encoded directly in java bytecodes
In-Reply-To: <41863.194.39.131.40.1098796596.14431.squirrel@webmailer.hosteurope.de>
References: <319B4B27-2205-11D9-BCB0-000A95891192@cs.usfca.edu> <38564.194.39.131.40.1098697552.14431.squirrel@webmailer.hosteurope.de> <78562BF4-26B7-11D9-B512-000A95891192@cs.usfca.edu> <FEDA4F0B-26B9-11D9-B512-000A95891192@cs.usfca.edu> <41863.194.39.131.40.1098796596.14431.squirrel@webmailer.hosteurope.de>
Message-ID: <67CB91CC-2845-11D9-8725-000A95891192@cs.usfca.edu>



On Oct 26, 2004, at 6:16 AM, Martin Probst wrote:

>
> Hi Terence,
>
> yes, ragnaroek is something like doom.

Hooray for reading science fiction ;)

>> As I say though I wondered about breaks at first, but then decided 
>> that
>> bytecodes were the only general way to get the gotos.  I do have a 
>> nice
>> little assembler and class file writer now for ANTLR that, while not
>> completely general, it's damn small.  Assembler and .class file writer
>> are each about 600 lines.  Could be useful for users of antlr as well
>> as the tool itself.
>
> Indeed breaks can only jump backwards in code, though they are not 
> bound
> to loops. If your tool fits ANTLRs needs everything's fine and I'm 
> looking
> forward to ANTLR 3!

Yeah, gotta have arbitrary gotos.  Yep, ANTLR3 should rock.  :)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From atripp at comcast.net  Wed Oct 27 11:23:40 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Re: thoughts on source-to-source workshop at oopsla 2004
In-Reply-To: <417E5452.2010404@yahoo.gr>
Message-ID: <clop3c+e1nb@eGroups.com>



--- In antlr-interest@yahoogroups.com, Anakreon <anakreonmejdi@y...>
wrote:
> > like a nightmare. So after several months work, I gave up on
> > AST-to-AST translation and came up with my own system
> > (described briefly here: http://jazillian.com/design.html)
> Really interesting approach. I have two problems similar with those
> you point to the web page. The goto (for vb) which PHP does not support
> and the comments reassignment. I used a system similar with the code
> snippets you mention. I use XML because I need to describe classes.
> 
> I wonder though, is the Token stream approach powerful enough?
> For example if you have the code snippet:
> someMethod(x) -> translation
> and there are two overloaded version of someMethod say:
> someMethod(char c) and someMethod(uint c)
> how can you provide a different translation for those cases?

I would just write two rules, one that matches:
v1(char v2) {
...and the other that matches:
v1(uint v2) {

The first would match any method that takes a single "char" arg
The "v1" and "v2" are placeholders. And this pattern:
v1(x) {
...would match any method declaration at all.

> 
> My approach uses AST to AST translation.
> Why did you refuse this approach? What was the main drawback
> of this approach?

I just found AST to AST too cumbersome.
To oversimplify, I'd rather just write:
int main(int argc, char *argv[]) --> public static void main(String[]
args)

Writing that line is far easier than figuring out what each of
those two ASTs look like and how to convert from one to the
other.

I also found that examples like the "main" one above
seemed to be about the
most complicated examples shown for AST translation languages
like TXL. When in fact, that "main" example is one of the
simplest rules, and I have many hundreds of rules, most more
complicated than that.

I found that I was just getting bogged down trying to keep ASTs
in my head. I felt it was much easier to write translation rules
in simple text as shown with the "-->" separator above. That way,
you never even have to think about ASTs much.

Do you have any documentation on your AST-to-AST mechanism?

Andy

> 
> Anakreon.





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Wed Oct 27 11:36:30 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] More on TokenWithIndex
In-Reply-To: <16767.54810.136820.771573@despot.non.net>
References: <EFEE6C1C-2828-11D9-AE79-000393B5606C@codetransform.com> <Pine.LNX.4.44.0410270936560.29305-100000@g4.pauljlucas.org> <16767.54810.136820.771573@despot.non.net>
Message-ID: <1E73538A-2847-11D9-8725-000A95891192@cs.usfca.edu>



On Oct 27, 2004, at 10:08 AM, John D. Mitchell wrote:
> (B) The attribute support coming in v3 will certainly make that easy  
> to do.
> That's a wicked tease, I know.  I'm jonesing for that very support  
> right
> now in a translator that I'm working on as that built-in dynamic  
> attribute
> support would make all sorts of things that I'm doing quicker and  
> easier to
> do.

Hi John,

BTW, I ran this scoped attribute / dynamic scoping attribute stuff  
intended for 3.0 past an attribute grammar expert at dinner.  She  
agreed it was interesting; she suggested that Uwe Kastens had already  
done something similar.  I just found this:

http://ag-kastens.uni-paderborn.de/lehre/material/compi/folien/ci67 
-78d.ps

He calls it "Dependency pattern INCLUDING".  "An attribute at the root  
of a subtree is sued from within the subtree. Propagation through the  
context in between is omitted."

So that is what we are talking about with dynamic scoping 'cept that we  
use named scopes rather than rulename.attr.  Thankfully the antlr2004  
workshop discovered this need!

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Wed Oct 27 12:00:30 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Re: thoughts on source-to-source workshop at oopsla 2004
In-Reply-To: <clop3c+e1nb@eGroups.com>
References: <clop3c+e1nb@eGroups.com>
Message-ID: <789C009D-284A-11D9-8725-000A95891192@cs.usfca.edu>



On Oct 27, 2004, at 11:23 AM, atripp54321 wrote:
>> My approach uses AST to AST translation.
>> Why did you refuse this approach? What was the main drawback
>> of this approach?
>
> I just found AST to AST too cumbersome.
> To oversimplify, I'd rather just write:
> int main(int argc, char *argv[]) --> public static void main(String[]
> args)
>
> Writing that line is far easier than figuring out what each of
> those two ASTs look like and how to convert from one to the
> other.

I'm working on a "blog" entry that describes this right this second.  
Often concrete syntax level (rather than tree level) specs are easier.  
My only question will be, for the general case, is it powerful enough 
with a simple to understand "engine".

> I also found that examples like the "main" one above
> seemed to be about the
> most complicated examples shown for AST translation languages
> like TXL. When in fact, that "main" example is one of the
> simplest rules, and I have many hundreds of rules, most more
> complicated than that.

Sounds like you and I should talk on the phone sometime when i get more 
time to think about a simple general rewrite system.  Where were you 
during the workshop!? ;)

> I found that I was just getting bogged down trying to keep ASTs
> in my head. I felt it was much easier to write translation rules
> in simple text as shown with the "-->" separator above. That way,
> you never even have to think about ASTs much.

Do you do multiple passes or all translations in a single?  What kind 
of "engine" did the replacing?

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ewbank at synopsys.com  Wed Oct 27 13:01:23 2004
From: ewbank at synopsys.com (Bryan Ewbank)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Antlr backends (was: no more java vs x language ;)
In-Reply-To: <16762.34911.280736.324204@despot.non.net>
Message-ID: <ODEDLGHNIFGKLNIHIHLLCEKKCPAA.ewbank@synopsys.com>


As a somewhat bizzare alternative to a new backend, might it be easier to
use ANTLR to build a java->XX translator (or C#->XX) and then tack that
behind the standard ANTLR backend?

It might be easier :-)

> For the Antlr v2.x series, it's a major pain in the butt.  The only real
> way to learn how to do it is to look at the existing backends and see what
> they have to do.



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Wed Oct 27 13:15:09 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Antlr backends (was: no more java vs x language ;)
In-Reply-To: <ODEDLGHNIFGKLNIHIHLLCEKKCPAA.ewbank@synopsys.com>
References: <ODEDLGHNIFGKLNIHIHLLCEKKCPAA.ewbank@synopsys.com>
Message-ID: <E6C8290B-2854-11D9-8725-000A95891192@cs.usfca.edu>



On Oct 27, 2004, at 1:01 PM, Bryan Ewbank wrote:

>
> As a somewhat bizzare alternative to a new backend, might it be easier 
> to
> use ANTLR to build a java->XX translator (or C#->XX) and then tack that
> behind the standard ANTLR backend?

Hi Bryan, yeah we talked about this but decided that was probably 
harder and less obvious ;)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From atripp at comcast.net  Wed Oct 27 13:16:41 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Re: Why Java programmers are more productive...
In-Reply-To: <Pine.LNX.4.44.0410251259340.29305-100000@g4.pauljlucas.org>
Message-ID: <clovn9+qm1a@eGroups.com>



--- In antlr-interest@yahoogroups.com, "Paul J. Lucas"
<pauljlucas@m...> wrote:
> On Mon, 25 Oct 2004, atripp54321 wrote:
> 
> > See <a href="http://jazillian.com/reasons.html">here</a> 
> > For about 50 reasons why I think Java programmers are
> > more productive than C programmers. Most of the reasons apply
> > to C++ too.
> 
> 	Although I generally loath to enter a language Jihad, many of
> 	the comments there are disingenuous.  For example, the comment
> 	"Java has a built-in boolean type" gives an example of how, in
> 	C, you can accidentally do:
> 
> 		int x;
> 		/* ... */
> 		if ( x = TRUE )		/* oops: meant x == TRUE */
> 			/* ... */;
> 
> 	The author "conveniently" fails to point out that you can do
> 	the exact same thing in Java as the following is perfectly
> 	legal Java code:
> 
> 		boolean x;
> 		// ...
> 		if ( x = true )		// oops: meant x == true
> 			/* ... */;

Yea, good point. I'll fix that.

> 
> 	Besides, it's not like Java invented the Boolean type.

The title is "reasons why Java is better than C", not
"Things that are new in Java". In fact, almost nothing is
new in Java.

Andy

> 
> 	- Paul





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From atripp at comcast.net  Wed Oct 27 13:21:26 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Re: Why Java programmers are more productive...
In-Reply-To: <FD35CB8B26F9534E86D1AC31F401AB340483FD92@na1fcm52.dearborn.ford.com>
Message-ID: <clp007+usj7@eGroups.com>



--- In antlr-interest@yahoogroups.com, "Tiller, Michael \(M.M.\)"
<mtiller@f...> wrote:
> Ironically, 2 of them don't apply to Java anymore (i.e. 3K and 3L, at
> least in Java 1.5).  I wonder how many of the other 50 reasons will
> eventually "fall". :-).
> 

Yea, needless to say, I'm not a big fan of JDK1.5.

They won't "fall", they'll just change from "Java is better without
feature XYZ" to "Java has a better implementation than of XYZ
than C does". There are some real differences in how Varargs and
Enums are implemented in Java compared to C.

Andy





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From atripp at comcast.net  Wed Oct 27 13:43:50 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Re: Gotos in Java (was: build issues: bytecode assembly generation)
In-Reply-To: <16761.49577.766369.225374@despot.non.net>
Message-ID: <clp1a6+2ovn@eGroups.com>



FWIW, I have a Java implementation of this goto-removal algorithm:

// "Taming Control Flow: A Structured Approach to Eliminating Goto
Statements
//  by Ana M. Erosa and Laurie J. Hendren
//  Sept 29, 1993

It works on a stream of tokens.
I have no idea how the "goto-less" code performance compares to
the original.

Andy





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From rjc at trump.net.au  Wed Oct 27 14:06:56 2004
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] DFA's encoded directly in java bytecodes
In-Reply-To: <30780B6A-27A2-11D9-8725-000A95891192@cs.usfca.edu>
References: <319B4B27-2205-11D9-BCB0-000A95891192@cs.usfca.edu>
 <38564.194.39.131.40.1098697552.14431.squirrel@webmailer.hosteurope.de>
 <78562BF4-26B7-11D9-B512-000A95891192@cs.usfca.edu>
 <FEDA4F0B-26B9-11D9-B512-000A95891192@cs.usfca.edu>
 <6.0.3.0.0.20041027073652.01dfe388@postoffice.trump.net.au>
 <30780B6A-27A2-11D9-8725-000A95891192@cs.usfca.edu>
Message-ID: <6.0.3.0.0.20041028073909.01e06a00@postoffice.trump.net.au>


At 09:55 AM 27/10/2004, Terence Parr wrote:
>On Oct 26, 2004, at 1:46 PM, Robert Colquhoun wrote:
> > With all the goto'ing I was just wondering if the assembler you have
> > done
> > above implements the bytecode rule "all approaches to a single point
> > must
> > have the same stack"
>
>Well, do you mean that I guarantee/check for this?  nope ;)  My DFA
>code will keep the stack at 0 minus locals / arguments between states.

Ah ok.  Be careful with exceptions, and it can make loops and stuff 
marginally slower as you need to read the working set of vars from locals 
on each cycle.  You also need to remember state for each local var as you 
are jumping around.

Have you got a small example of the DFA you are trying to generate?  No 
need for correct bytecode, just the algorithm/rules are enough...for 
reference i can code it up with my generator for comparison.

> > I was stuck on action code and how to do semantic actions, its easy to
> > do
> > as separate actions but hard to do inline.
>
>True, but you could invoke the javac compiler in tools.jar like a web
>server :)

Why bother with tools.jar?  antlr has java grammar and i have some bytecode 
generating classes all i need is a tree walker to convert them and i can 
then inline them in the class file itself (The bytecode generator i have 
can insert code at arbitrary points in the method being created, ie run 
through the rule doing the bnf and then compile and insert in the java 
source action fragments).

It's not like Sun has legions of minions working on their compiler to make 
it state of the art...for 1.5 cycle i heard they only had one guy working 
on the whole thing!

;-)

I can post these bytecode generating classes if you want, what license are 
you using for antlr 3?

  - Robert



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From gudnabrsam at yahoo.com  Wed Oct 27 14:46:28 2004
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] DFA's encoded directly in java bytecodes
In-Reply-To: <6.0.3.0.0.20041028073909.01e06a00@postoffice.trump.net.au>
Message-ID: <20041027214628.35995.qmail@web20429.mail.yahoo.com>


--- Robert Colquhoun <rjc@trump.net.au> wrote:
> I can post these bytecode generating classes if you
> want, what license are 
> you using for antlr 3?

I believe Ter was planning on using BSD.

-Matt


		
__________________________________
Do you Yahoo!?
Yahoo! Mail Address AutoComplete - You start. We finish.
http://promotions.yahoo.com/new_mail 


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Wed Oct 27 15:24:46 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] some more blog entries
Message-ID: <0211A48E-2867-11D9-91B3-000A95891192@cs.usfca.edu>


yahoo didn't actually send this...i'm resending.
Ter

Begin forwarded message:

> From: Terence Parr <parrt@cs.usfca.edu>
> Date: October 27, 2004 1:02:07 PM PDT
> To: antlr-interest@yahoogroups.com
> Subject: some more blog entries
>
> Ok,
>
> added some notes about generating DFA directly:
>
> http://www.antlr.org/blog/antlr3/codegen.tml
>
> and a bunch of cruft in a new blog about rewriting, aspects, 
> attributes, etc...
>
> http://www.antlr.org/blog/antlr3/rewrite.tml
>
> Just ramblings of a madman.
>
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!
>
>
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From anakreonmejdi at yahoo.gr  Wed Oct 27 14:35:24 2004
From: anakreonmejdi at yahoo.gr (Anakreon)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Re: thoughts on source-to-source workshop at
 oopsla 2004
In-Reply-To: <clop3c+e1nb@eGroups.com>
References: <clop3c+e1nb@eGroups.com>
Message-ID: <4180149C.7070203@yahoo.gr>


> I found that I was just getting bogged down trying to keep ASTs
> in my head. I felt it was much easier to write translation rules
> in simple text as shown with the "-->" separator above. That way,
> you never even have to think about ASTs much.
> 
The AST structure does indeed become compicated and difficult to remember.
If your aproach is simpler to implement and understand, and equivalently powerfull
to the AST-AST aproach, it's great. I'll look at jazillian.com for more info.  
> Do you have any documentation on your AST-to-AST mechanism?
I do, but unfortunatlly is in greek. The source to source compiler was my
diplomatic thesis for the university. I had to write the docs in greek and now
feel too lazy to translate the docs (60 pages) into (badly spoken) english.
Visit http://storm.cs.unipi.gr for info on the project.


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From gudnabrsam at yahoo.com  Wed Oct 27 15:53:33 2004
From: gudnabrsam at yahoo.com (Matt Benson)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] some more blog entries
In-Reply-To: <0211A48E-2867-11D9-91B3-000A95891192@cs.usfca.edu>
Message-ID: <20041027225333.20583.qmail@web20428.mail.yahoo.com>


I received it the first time... ?

-Matt

--- Terence Parr <parrt@cs.usfca.edu> wrote:

> 
> yahoo didn't actually send this...i'm resending.
> Ter
> 
> Begin forwarded message:
> 
> > From: Terence Parr <parrt@cs.usfca.edu>
> > Date: October 27, 2004 1:02:07 PM PDT
> > To: antlr-interest@yahoogroups.com
> > Subject: some more blog entries
> >
> > Ok,
> >
> > added some notes about generating DFA directly:
> >
> > http://www.antlr.org/blog/antlr3/codegen.tml
> >
> > and a bunch of cruft in a new blog about
> rewriting, aspects, 
> > attributes, etc...
> >
> > http://www.antlr.org/blog/antlr3/rewrite.tml
> >
> > Just ramblings of a madman.
> >
> > Ter
> > --
> > CS Professor & Grad Director, University of San
> Francisco
> > Creator, ANTLR Parser Generator,
> http://www.antlr.org
> > Cofounder, http://www.jguru.com
> > Cofounder, http://www.knowspam.net enjoy email
> again!
> >
> >
> --
> CS Professor & Grad Director, University of San
> Francisco
> Creator, ANTLR Parser Generator,
> http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email
> again!
> 
> 
> 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
>     antlr-interest-unsubscribe@yahoogroups.com
> 
>  
> 
> 
> 
> 



		
__________________________________
Do you Yahoo!?
Yahoo! Mail - Helps protect you from nasty viruses.
http://promotions.yahoo.com/new_mail


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From marcin-rzeznicki at wp.pl  Wed Oct 27 17:24:39 2004
From: marcin-rzeznicki at wp.pl (=?ISO-8859-2?Q?Marcin_Rze=BCnicki?=)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Imaginary tokens in AST
Message-ID: <41803C47.8040104@wp.pl>


Hello
Consider the tree building rule
A	: .... |
	!  LBRACKET (VAR_ID|NUMBER|STRING)(COMMA (VAR_ID|NUMBER|STRING))* 
RBRACKET | ...

which I use for parsing aggregate type constructor which instance may 
look like [1,'whatever',x]. I would like to build a tree with imaginary 
token type telling me it is an aggregation (which should look like 
#(AGGREGATION NUMBER STRING VAR_ID), considering my previous example of 
type instance). I know that to achieve this I must turn off automatic 
tree construction but what goes next? In documentation I have read that 
I can use syntax like :
//doc part
stat:
         ID EQUALS^ expr   // auto construction
     ... some alternatives ...
     |!  RETURN expr
         {#stat = #([IMAGINARY_TOKEN_TYPE] expr);}
     ... more alternatives ...
     ;

to build wanted tree by-hand, but it does not help me in my case, as I 
do not have any subrule there, just bunch of tokens. Is there any way it 
could be done? Thank you for answers in advance
--
Greetings
Marcin Rze?nicki



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-sFxgbnlGyQAIZj2EEEZZnMU at yahoogroups.com  Thu Oct 28 01:17:39 2004
From: antlr-interest-accept-sFxgbnlGyQAIZj2EEEZZnMU at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:26 2004
Subject: MODERATE -- abraham1971@devaddict.com posted to antlr-interest
Message-ID: <1098951459.520.99436.m10@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  abraham1971@devaddict.com 

The message summary:
--------------------
FROM: abraham1971@devaddict.com 
DATE: Thu, 28 Oct 2004 01:17:37 -0700 
SUBJECT: tanya introduction to group   webcam video ! :) 

hi, my name is tanya and i am 25 years old new to group. I 
just thought to say hi, i am from russia, now living in usa 
and liking it very much! 

if you want to visit my page on the world wide web you can 
click the link below! i have profile there with webcam 
camera window and yahoo aim and it is open to you to see 
free off course! 

http://www.tantrasweet.com/tanya/ 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=352 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-sFxgbnlGyQAIZj2EEEZZnMU@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: Tanya Tchaikovsky <abraham1971@devaddict.com>
Subject: tanya introduction to group   webcam video ! :)
Date: Thu, 28 Oct 2004 01:17:37 -0700
Size: 3119
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041028/ed9d960b/attachment.mht
From ora.et.labora at web.de  Thu Oct 28 01:19:59 2004
From: ora.et.labora at web.de (whaefelinger)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] problem with syntactic predicates
Message-ID: <clqa3f+7art@eGroups.com>



Hello,

antlr's 2.7.4 documentation states: 

"Syntactic  predicates  are a form of selective back-
tracking and, therefore, actions are turned off while
evaluating a  syntactic  predicate so that actions do 
not have to be undone." 

1st issue:

Having a look into generated code I can see that actions
to create tree nodes are still done while "guessing". Is
there a specific reason for creating them?

2nd (more important) issue:

Assume  one   of  my actions is to switch to a different
lexer  (as in the javadoc example).  This  lexer  switch 
would then  not  be  executed and consequently "guessing"
would fail, right?

Perhaps I miss the point but shouldn't there be something
that let me tell antlr to executed this action regardless
of guessing or not?

Here's a proposal:

JAVADOC_OPEN
    :    "/**" {! selector.push("doclexer"); }  ;
================^

The operator  "{!" shall indicate execution of action in
any case (the action is assumed to be "idempotent").


But perhaps I missed the point. Is there another way of
doing this?

Wolfgang.







 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From lgc at mail1.jpl.nasa.gov  Thu Oct 28 02:32:02 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Re: problem with syntactic predicates
In-Reply-To: <clqa3f+7art@eGroups.com>
Message-ID: <clqeai+77ob@eGroups.com>



--- In antlr-interest@yahoogroups.com, "whaefelinger"
<ora.et.labora@w...> wrote:
> 
> Hello,
> 
> antlr's 2.7.4 documentation states: 
> 
> "Syntactic  predicates  are a form of selective back-
> tracking and, therefore, actions are turned off while
> evaluating a  syntactic  predicate so that actions do 
> not have to be undone." 
> 
> 1st issue:
> 
> Having a look into generated code I can see that actions
> to create tree nodes are still done while "guessing". Is
> there a specific reason for creating them?

There used to be conditional guards so that ASTs were not created when
in guessing mode, but they were removed in 2.7.2.

> 2nd (more important) issue:
> 
> Assume  one   of  my actions is to switch to a different
> lexer  (as in the javadoc example).  This  lexer  switch 
> would then  not  be  executed and consequently "guessing"
> would fail, right?
> 
> Perhaps I miss the point but shouldn't there be something
> that let me tell antlr to executed this action regardless
> of guessing or not?

If you are really going to do this sort of thing, then it probably
makes more sense to switch lexers after you recognize the javadoc
comment so that the second lexer parses a string instead of the input
stream--then "nextToken" in the string lexer can switch lexers when
the string is exhausted.  That also lets you can skip the javadoc
comment in guessing mode, but process it when not guessing.

> Here's a proposal:
> 
> JAVADOC_OPEN
>     :    "/**" {! selector.push("doclexer"); }  ;
> ================^

You really want to avoid driving the recognition phase with
actions--mixing paradigms (procedural and syntax-oriented processing)
leads to fragile and difficult to maintain language processors.  Take
a look at <http://www.cs.usfca.edu/~parrt/papers/mvc.templates.pdf>
for a discussion of the general principle.

--Loring

> The operator  "{!" shall indicate execution of action in
> any case (the action is assumed to be "idempotent").
> 
> 
> But perhaps I missed the point. Is there another way of
> doing this?
> 
> Wolfgang.





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From anakreonmejdi at yahoo.gr  Thu Oct 28 02:00:05 2004
From: anakreonmejdi at yahoo.gr (Anakreon)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Re: thoughts on source-to-source workshop at
 oopsla 2004
In-Reply-To: <4180149C.7070203@yahoo.gr>
References: <clop3c+e1nb@eGroups.com> <4180149C.7070203@yahoo.gr>
Message-ID: <4180B515.6040302@yahoo.gr>


> Visit http://storm.cs.unipi.gr for info on the project.
Incomplete URL.
see : http://storm.cs.unipi.gr/~anakreon/aspa.html.

I have one more question Andy.
If you would implement a translator from C++->Java, do you think
the TokesStream+snipset approach will suffice?
How would you gather info about user defined classes, and translate method
calls from C++ objects?

Anakreon


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From demakov at ispras.ru  Thu Oct 28 04:29:45 2004
From: demakov at ispras.ru (Alexey Demakov)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] TreeDL news: tutorial, new releases, mailing lists
References: <FD35CB8B26F9534E86D1AC31F401AB340483FD99@na1fcm52.dearborn.ford.com>
Message-ID: <00c101c4bce1$6d15df70$8cc79553@marlboro>


Hi Michail

>   I find this TreeDL system quite interesting.  It is closer to the way
> I think than the typical homogeneous ASTs in ANTLR.  However, I see a
> couple of issues when comparing it to things I've done:
> 
> 1) I notice that you do not utilize Generic collections (ala Java 1.5).
> Is this something you are considering adding?  It would be a nice touch.

I plan to implement translation to C# and Java 1.5 as fast as I can.

> 2) Your visitor pattern include "visitXYZ" methods.  I've found that for
> many structures an "enterXYZ" and "leaveXYZ" pattern is more suitable.
> In fact, one might argue that anything that has children would probably
> benefit from the "enter-leave" pattern (also found in SableCC if I'm not
> mistaken).  It doesn't matter for things like evaluation, but if you
> want to output HTML (for example), it is nice.

Automatic tree traversing is not provided because there is no way to suit all tasks.
As you can see in interpreter visitor (step 5) I call visit methods for children explicitly (through accept() of course).
However, code generation library allows to visit children referenced in patterns:

public void visitBinaryExpr( BinaryExpr node )
{
    txt( "${left} ${Sign:sign} ${right}" );
}

Results of visit method for left and right children will be substituted automatically.

May be it is good idea to have a library of tree walker generators for particular  cases.
Such functionality can be added very easy, but I'm not sure which ones really needed.
TreeDL tool can be extended by plugins, tree structure is open (it is described in TreeDL of course ;) )
Existing plugins can be used as examples - so may be tree walker will be contributed
before I'll find time to implement them :)

> 3) I could not tell from the documentation but it seems that (at least
> for children), you implement get methods.  Do you also implement set
> methods?  Finally, are attributes handled similarly?  I like the
> attributed tree idea, but I'd like some control over the get/set methods
> (to allow for things like cache invalidation, for example).

Translation scheme is described in TreeDL tool description http://treedl.sourceforge.net/treedl/treedl_tool_en.html
Yes, get/set methods are generated for all children and attributes.
set-methods also contain some checks to ensure correctness of tree. For example, for lists with one or more elements
list size is checked, != null is checked for all non-optional members of reference type.

As described in TreeDL language description http://treedl.sourceforge.net/treedl/treedl_en.html
you can insert additional code to get/set methods:

attribute <int> arrayIndex
get
{
    Logger.log( "getArrayIndex() returns " + arrayIndex );
}
set
{
    if( arrayIndex < 0 || arrayIndex >= array.length )
    {
        throw new IndexOutOfBoundsException( "arrayIndex = " + arrayIndex );
    }
};

Moreover, you can define your own way to store attribute value:

body
{
    int x;
    int y;
} 

attribute custom <Position> position
get
{
    position = new Position( x, y );
}
set
{
    x = position.getX();
    y = position.getY();
};

Also you can see at Calc.java generated from Calc.tdl
Calc.java http://treedl.sourceforge.net/examples/calc/treedl/com/unitesk/atp/examples/calc/Calc.tdl-xref/index.html
Calc.tdl http://treedl.sourceforge.net/examples/calc/xref/com/unitesk/atp/examples/calc/Calc.html
And TDL.java generated from TreeDL.tdl
TreeDL.tdl http://treedl.sourceforge.net/treedl/treedl/com/unitesk/atp/treedl/TreeDL.tdl-xref/index.html
TDL.java http://treedl.sourceforge.net/treedl/xref/com/unitesk/atp/treedl/TDL.html

> 4) I didn't see this explicitly stated in your calc example, but is the
> interface for the visitor generated automatically?  If so, that is a
> very nice touch.

Yes, visitor interface is generated automatically, it is at the end of Calc.java

> 5) It isn't clear what the purpose of the "Syntax Grammar" section is.
> How is this used?  It seems like the tree definition + ANTLR grammar is
> pretty complete.  I don't see what the .bnf file is needed for.

As I mentioned in one of previos messages, we have BNF tool that generates syntax tests
from .bnf file. But primary usage of this file is documentation - it is useful if language design
and parser implementation are done by different persons.

> 6) Your tree directive seems to be used to indicate what package the
> eventual definitions will be included in.  Why not use the word
> "package" instead of "tree".  To me, "tree" implies it has something to
> do with the data structures themselves rather than just their location
> in the package hierarchy.

TreeDL tries to be as language independent as possible. So "package" is not good from my point of view.
In fact it should be not "tree" but "tree desription" but it is much longer :(

> Items #1-4 represent differences between TreeDL and the way I have been
> approaching things.  I would be very interested in seeing how these
> particular aspects of TreeDL evolve because I prefer your high-level
> approach (so long as it includes the functionality I need).

It seems to me that TreeDL already have almost all you want (except tree walkers may be) :)

> Looks very interesting.  Please keep us posted.

Thanks Michael,
Glad to answer any questions.

Regards,
Alexey

> 
> --
> Mike
> 
> > -----Original Message-----
> > From: Alexey Demakov [mailto:demakov@ispras.ru]
> > Sent: Wednesday, October 27, 2004 10:54 AM
> > To: antlr-interest@yahoogroups.com
> > Subject: [antlr-interest] TreeDL news: tutorial, new releases, mailing
> > lists
> > 
> > 
> > Hi all,
> > 
> > For those of you who is interested in TreeDL (announced some time ago
> in
> > this list),
> > I have good news :)
> > 
> > TreeDL (Tree Description Language) is a notation for description
> > of formal text internal representation (such as abstract syntax tree).
> > 
> > 1. Step-by-step tutorial on TreeDL is available: How to create tool
> that
> > process simple language for calculator.
> > http://treedl.sourceforge.net/examples/calc/
> > 
> > 2. Mail lists for users and developers are available:
> > http://sourceforge.net/mail/?group_id=120633
> > If you are interested in TreeDL, please, subscribe, I really need your
> > feedback.
> > All further TreeDL discussion will be in these lists.
> > 
> > 3. New releases can be downloaded from project page
> > http://sourceforge.net/projects/treedl/
> > treedl-1.0-rc2
> > atplib-3.0-rc2
> > maven-atp-plugin-rc2
> > maven-treedl-plugin-rc3
> > 
> > Regards,
> > Alexey
> > 
> > -----
> > Alexey Demakov
> > TreeDL: Tree Description Language: http://treedl.sourceforge.net
> > RedVerst Group: http://www.unitesk.com



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From H.A.M.Maassen at student.tue.nl  Thu Oct 28 05:38:18 2004
From: H.A.M.Maassen at student.tue.nl (Maassen, H.A.M.)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Treeview
Message-ID: <1C5C690C06EFE244B83E3F133CA70BDE285833@studentex6.campus.tue.nl>

Hello,
 
I'm building a parser for a language and I'd like to get a nifty graphical representation of the generated tree to see if my rules are doing the right thing.
 
I'm pretty sure there's functionality for this included in ANTLR, I just don't know how to do it :)
 
I know this is probably somewhere to be R'ed in TFM, but right now I'm dealing with information overkill (new to C#, the C# IDE, ANTLR itself) and I just want to get some work done. I only need to get this language formally specified and then someone with more proficiency in C# can build the actual compiler from there :)
 
So if anyone could give me a quick-and-dirty rundown of how to get my Main() to show me a little ascii tree I'd be really grateful :) otherwise I guess it's back to browsing the examples and documentation.
 
Je vous prie d'agr?er, madame, monsieur, l'expression de mes sentiments
distingu?s, Harald Maassen


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 3930 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20041028/a26ba825/attachment.bin
From barry.j.kelly at gmail.com  Thu Oct 28 06:28:04 2004
From: barry.j.kelly at gmail.com (Barry Kelly)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Treeview
In-Reply-To: <1C5C690C06EFE244B83E3F133CA70BDE285833@studentex6.campus.tue.nl>
References: <1C5C690C06EFE244B83E3F133CA70BDE285833@studentex6.campus.tue.nl>
Message-ID: <3adf6db8041028062852d19760@mail.gmail.com>


On Thu, 28 Oct 2004 14:38:18 +0200, Maassen, H.A.M.
<h.a.m.maassen@student.tue.nl> wrote:
> So if anyone could give me a quick-and-dirty rundown of how to get my Main() to show
> me a little ascii tree I'd be really grateful :) otherwise I guess it's back to browsing the
> examples and documentation.

You could use AST.ToString* and friends, but here's a manual recursive method:

using System.IO;
using AST = antlr.collections.AST;
// etc...
		public static void Main(string[] args)
		{
			// Create compiler, compile.
			YourLexer lex = new YourLexer(new StringReader(text));
			YourParser parser = new YourParser(lex);
			parser.yourTopRule();
			AST root = parser.getAST();
			if (root != null)
				RecurseIntoMyAST(string.Empty, root);
		}
		
		public static void RecurseIntoMyAST(string indent, AST root)
		{
			// Assumes that root is not null.
			// Print this node
			Console.WriteLine("{0}{1}", indent, root.getText());
			// Print all children
			for (AST child = root.getFirstChild(); child != null; 
					child = child.getNextSibling())
				RecurseIntoMyAST(indent + "  ", child);
		}
// ...

-- Barry


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From klaren at cs.utwente.nl  Thu Oct 28 06:41:03 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] C++, Rick, Not optimal Lexer's code.
In-Reply-To: <BD9A931C.262B5%sunshine@public.kherson.ua>
References: <BD9A931C.262B5%sunshine@public.kherson.ua>
Message-ID: <20041028134103.GB27816@cs.utwente.nl>


(just back from holidays, working through loads and loads of mail (and spam
:(( )

On Tue, Oct 19, 2004 at 09:47:08AM +0300, Ruslan Zasukhin wrote:
> I think I see not optimal code in the nexttoken.
> It looks in this way:
>
> antlr::RefToken VSQL_Lexer::nextToken()
> {
>     antlr::RefToken theRetToken;
>     for (;;) {
>         antlr::RefToken theRetToken;
>         int _ttype = antlr::Token::INVALID_TYPE;
>         resetText();
>         try {   // for lexical and char stream error handling
>
>             switch ( LA(1)) {   <<<<<<<<<<<<<<<<<<< this is good.
>
>             case static_cast<unsigned char>('('):
>             {
>                 mLPAREN(true);
>                 theRetToken=_returnToken;
>                 break;
>             }
>             default:
>
>                 else if ((LA(1) == static_cast<unsigned char>('-')) &&
> (LA(2) == static_cast<unsigned char>('>'))) {
>                     mPTR(true);
>                     theRetToken=_returnToken;
>                 }
>                 else if ((LA(1) == static_cast<unsigned char>('<')) &&
> (LA(2) == static_cast<unsigned char>('>'))) {
>                     mNE(true);
>                     theRetToken=_returnToken;
>                 }
>                 else if ((LA(1) == static_cast<unsigned char>('>')) &&
> (LA(2) == static_cast<unsigned char>('='))) {
>                     mGE(true);
>                     theRetToken=_returnToken;
>                 }
>                 else if ((LA(1) == static_cast<unsigned char>('<')) &&
> (LA(2) == static_cast<unsigned char>('='))) {
>                     mLE(true);
>                     theRetToken=_returnToken;
>                 }
>             }
>
> -----------------------------------------------------------------
> I think that in default clause we also must use switch

Good point. Not sure but maybe this is also affected by the
genswitchthreshold options (or what's their name, see options.html in the
docs). I'm not sure if it's easy to tweak the 2.7.x codegenerator to do
this, it might it might not.

> In this way code become more natural and clean.
> But the main is that we now call LA(1) only ONCE instead of 30-40 times (in
> my case).

I once had a prototype that cached the LA() calls, was nice up to some
point but it didn't work for all the cases without going into really
serious changes in the codegenerator (that would probably affect the other
codegenerators as well). Tinkering with the structure of the 2.7
codgenerators is hairy business (not saying that 3.0 will be perfect, it
will probably suffer from some imposed structure as well but it's much and
much easier to tinker with the code generated). After tinkering with the
3.0 codegen I'd rather spent time on the 3.0 prototype then on doing
optimizations on 2.7. The code generated by the 3.0 C prototype looks
really good and I got an even better one than I initially build for the
workshop (less portable though due to using mmap for input files).

Of course patches are welcome ;)

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  "Of all the things I've lost I miss my mind the most --- Ozzy Osbourne


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From klaren at cs.utwente.nl  Thu Oct 28 06:50:42 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Problem with ASTLabelType option and getAST method (C++)
In-Reply-To: <ODEDLGHNIFGKLNIHIHLLAEIGCPAA.ewbank@synopsys.com>
References: <20041014134507.GB2080@cs.utwente.nl> <ODEDLGHNIFGKLNIHIHLLAEIGCPAA.ewbank@synopsys.com>
Message-ID: <20041028135042.GC27816@cs.utwente.nl>


Hi Bryan,

On Wed, Oct 20, 2004 at 05:04:36AM -0400, Bryan Ewbank wrote:
> Found what I think is a bug in C++ code generation... Given the following:
> 
> 	class MyParser extends Parser;
> 	options { buildAST=true; ASTLabelType="RefTreeNode"; }
> 	...
> 
> The generated method MyParser::getAST() has the wrong type - it ends
> up as antlr::BaseAST, rather than using the type provided by the user
> in the ASTLabelType option.
> 
> I ended up coding around this by adding a getMyAST() method...

I tinkered a bit with this stuff a while ago probably in the release
candidates. It once did the thing you expected. But this gave trouble with
recent compilers that did not accept the return type of getAST changing
from the one specified in the base class (probably due to the reference
counter used not 100% sure, I still need to try the new reference counters
and see if that works, snapshots only use the new one for tokens so far) 

I could have moved the getAST into the generated parser class (and leave it
out of the base parser class) but that might break stuff for people that
need it in the base class.

Doing this should work though:

const RefMyAST the_ast = RefMyAST(parser->getAST());

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
     "Never argue with an idiot, for they will bring you down to their
              level and beat you with experience." --- Unknown



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From klaren at cs.utwente.nl  Thu Oct 28 06:54:10 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Custom Token Types (parallel to ASTLabelType, for lexer)?
In-Reply-To: <ODEDLGHNIFGKLNIHIHLLMEIMCPAA.ewbank@synopsys.com>
References: <ODEDLGHNIFGKLNIHIHLLAEIGCPAA.ewbank@synopsys.com> <ODEDLGHNIFGKLNIHIHLLMEIMCPAA.ewbank@synopsys.com>
Message-ID: <20041028135410.GD27816@cs.utwente.nl>


On Wed, Oct 20, 2004 at 04:30:23PM -0400, Bryan Ewbank wrote:
> I've looked at the C++ generator, and it appears that RefToken is hardcoded.
> What I would like to do is extend the Token class to include filename
> information, as well as a symbol table reference, but it doesn't seem to be
> a supported model.
> 
> How do others use symbol tables and/or produce file and line information,
> given that the type returned by the Lexer is hardcoded?

It seems noone reported this in the past years. I ran across it while
tinkering with tokenstream filtering for my preprocessor prototype for the
C++ grammar. A recent snapshot should include fixes to the token classes
that make this possible. The C++ parser with preprocessor prototype has all
the code to do the above and a small patch to 2.7.4 to make it possible
(beware very rough code, read the readme).

http://wwwhome.cs.utwente.nl/~klaren/antlr/CPPParser.tar.bz2

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Quidquid latine dictum sit, altum viditur.
                 (Whatever is said in Latin sounds profound.)



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From mtiller at ford.com  Thu Oct 28 08:20:20 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] TreeDL news: tutorial, new releases, mailing lists
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB340483FD9C@na1fcm52.dearborn.ford.com>


> From: Alexey Demakov [mailto:demakov@ispras.ru]
> Subject: Re: [antlr-interest] TreeDL news: tutorial, new releases,
mailing
> lists
> 
> 
> Hi Michail
> 
> >   I find this TreeDL system quite interesting.  It is closer to the
way
> > I think than the typical homogeneous ASTs in ANTLR.  However, I see
a
> > couple of issues when comparing it to things I've done:
> >
> > 1) I notice that you do not utilize Generic collections (ala Java
1.5).
> > Is this something you are considering adding?  It would be a nice
touch.
> 
> I plan to implement translation to C# and Java 1.5 as fast as I can.

Cool.

> > 2) Your visitor pattern include "visitXYZ" methods.  I've found that
for
> > many structures an "enterXYZ" and "leaveXYZ" pattern is more
suitable.
> > In fact, one might argue that anything that has children would
probably
> > benefit from the "enter-leave" pattern (also found in SableCC if I'm
not
> > mistaken).  It doesn't matter for things like evaluation, but if you
> > want to output HTML (for example), it is nice.
> 
> Automatic tree traversing is not provided because there is no way to
suit
> all tasks.
> As you can see in interpreter visitor (step 5) I call visit methods
for
> children explicitly (through accept() of course).
> However, code generation library allows to visit children referenced
in
> patterns:
> 
> public void visitBinaryExpr( BinaryExpr node )
> {
>     txt( "${left} ${Sign:sign} ${right}" );
> }
> 
> Results of visit method for left and right children will be
substituted
> automatically.

Well, regarding the visitor pattern there are really two issues here.
First is the interface of the visitor.  The interface defines what
operations are involved.  This is where I think the "enter" and "leave"
methods would be preferable to a "visit" method for anything that has
children.  This has nothing to do with the tree walking itself (i.e. the
'accept' method invocations), it just provides a comprehensive list of
methods associated with each node type.  Looking at the documentation
you mentioned I see that TreeDL appears to do this part (although it is
restricted to 'visit' methods).

The second part is the tree walking part.  Here it is possible to write
tree walkers automatically but you have to choose a pattern (e.g.
depth-first).

My suggestion is to look at SableCC.  It does both of these things and
they I believe their scheme also allows for users to modify tree walkers
or create whole new ones with minimal effort.  It would be great if you
could provide much of the same functionality in your library.  If I
recall correctly, SableCC does something slightly different from your
scheme because the traversal pattern is not written into the node
definitions (I forget exactly what they do though).

> May be it is good idea to have a library of tree walker generators for
> particular  cases.

Precisely.  I suspect this will change the way you handle 'accept'
methods.  You would have to look at SableCC to see how they achieve
this.

> > 3) I could not tell from the documentation but it seems that (at
least
> > for children), you implement get methods.  Do you also implement set
> > methods?  Finally, are attributes handled similarly?  I like the
> > attributed tree idea, but I'd like some control over the get/set
methods
> > (to allow for things like cache invalidation, for example).
> 
> Translation scheme is described in TreeDL tool description
> http://treedl.sourceforge.net/treedl/treedl_tool_en.html
> Yes, get/set methods are generated for all children and attributes.
> set-methods also contain some checks to ensure correctness of tree.
For
> example, for lists with one or more elements
> list size is checked, != null is checked for all non-optional members
of
> reference type.
> 
> As described in TreeDL language description
> http://treedl.sourceforge.net/treedl/treedl_en.html
> you can insert additional code to get/set methods:
> 
> attribute <int> arrayIndex
> get
> {
>     Logger.log( "getArrayIndex() returns " + arrayIndex );
> }
> set
> {
>     if( arrayIndex < 0 || arrayIndex >= array.length )
>     {
>         throw new IndexOutOfBoundsException( "arrayIndex = " +
arrayIndex
> );
>     }
> };

Also very cool.

> Moreover, you can define your own way to store attribute value:
> 
> body
> {
>     int x;
>     int y;
> }
> 
> attribute custom <Position> position
> get
> {
>     position = new Position( x, y );
> }
> set
> {
>     x = position.getX();
>     y = position.getY();
> };

How do you deal with C# vs. Java differences?  (just curious...always an
issue for high-level schemes, like TreeDL and ANTLR, that allow embedded
code).  Do you just digest everything between the {}s and pass it
straight through?

> Also you can see at Calc.java generated from Calc.tdl
> Calc.java
>
http://treedl.sourceforge.net/examples/calc/treedl/com/unitesk/atp/examp
le
> s/calc/Calc.tdl-xref/index.html
> Calc.tdl
>
http://treedl.sourceforge.net/examples/calc/xref/com/unitesk/atp/example
s/
> calc/Calc.html
> And TDL.java generated from TreeDL.tdl
> TreeDL.tdl
>
http://treedl.sourceforge.net/treedl/treedl/com/unitesk/atp/treedl/TreeD
L.
> tdl-xref/index.html
> TDL.java
>
http://treedl.sourceforge.net/treedl/xref/com/unitesk/atp/treedl/TDL.htm
l
> 
> > 4) I didn't see this explicitly stated in your calc example, but is
the
> > interface for the visitor generated automatically?  If so, that is a
> > very nice touch.
> 
> Yes, visitor interface is generated automatically, it is at the end of
> Calc.java

I'm not sure I found Calc.java.  That probably would have answered most
of these questions.  Sorry about that.

> > 5) It isn't clear what the purpose of the "Syntax Grammar" section
is.
> > How is this used?  It seems like the tree definition + ANTLR grammar
is
> > pretty complete.  I don't see what the .bnf file is needed for.
> 
> As I mentioned in one of previos messages, we have BNF tool that
generates
> syntax tests
> from .bnf file. But primary usage of this file is documentation - it
is
> useful if language design
> and parser implementation are done by different persons.

Interesting.  So in some sense it provides independent validation of the
parser?  Does it generate cases to exercise all possible syntax
combinations or something?

> > 6) Your tree directive seems to be used to indicate what package the
> > eventual definitions will be included in.  Why not use the word
> > "package" instead of "tree".  To me, "tree" implies it has something
to
> > do with the data structures themselves rather than just their
location
> > in the package hierarchy.
> 
> TreeDL tries to be as language independent as possible. So "package"
is
> not good from my point of view.
> In fact it should be not "tree" but "tree desription" but it is much
> longer :(

Well, package is a pretty generic term.  Actually, it is used in all
languages that I'm currently working with (Java, Python and Modelica).
So I don't think it is overly language specific but the choice is yours.
It just wasn't obvious to me what it meant.

> > Items #1-4 represent differences between TreeDL and the way I have
been
> > approaching things.  I would be very interested in seeing how these
> > particular aspects of TreeDL evolve because I prefer your high-level
> > approach (so long as it includes the functionality I need).
> 
> It seems to me that TreeDL already have almost all you want (except
tree
> walkers may be) :)

Well, it sounds like #1 is coming soon, #2 is close but not quite what I
want, #3 is quite possible and #4 is implemented as well.  As I said,
quite interesting.  I'm not actively working on my parser at the moment
but I will definitely check on the status of TreeDL when I revisit it.

> > Looks very interesting.  Please keep us posted.
> 
> Thanks Michael,
> Glad to answer any questions.

--
Mike



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From klaren at cs.utwente.nl  Thu Oct 28 09:02:23 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <clc8ld+8qlg@eGroups.com>
References: <1098462148.4882@mx9.mysite4now.com> <clc8ld+8qlg@eGroups.com>
Message-ID: <20041028160223.GF27816@cs.utwente.nl>


On Sat, Oct 23, 2004 at 12:29:33AM -0000, micheal_jor wrote:
> > support for Antlr on Windows platforms to speak of.  It took quite a
> bit of
> > trial and error to get Antlr to even run under Windows. 
> 
> I presume you mean support for "using the ANTLR C++ code generator and
> runtime library with MSVC++ on Windows". If so, all I can say is that
> the support has gotten much better since 2.7.4 was released (Ric now
> has MS's compiler I believe). There has been a lot of useful
> discussion on this list about ANTLR/C++ on Windows.

Windows MSVC support depends on community patches submitted to the list or
to me directly. I have the free version of MSVC 7.1 but I can't do nothing
really usefull with (lack of (nmake) makefiles with the right incantations
for the separate tools) so far I cannot build working binaries.

The biggest good thing for msvc support was MSVC 7.1 which is finally a
decent C++ compiler features wise. Now only DLL's and STL..... (or windows
people drop the DLL obsession for antlr's support lib... ;) )

> There are some efficiency issues with ANTLR lexers (especially if you
> use the more advanced ANTLR lexer options) which ANTLR3 should fix.
> The distribution has a sample showing how to couple Flex lexers to
> ANTLR parsers. Search the list for past discussions.

Just wait till you see some antlr3 generated C code ;) (before my holidays
I hacked a bit on the prototype I made for the workshop, the new one should
be a lot faster still (using mmap just for prototype kicks)), I'll post
some rough figures when I get to finishing it)

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
     Human beings, who are almost unique in having the ability to learn
   from the experience of others, are also remarkable for their apparent
         disinclination to do so. --- Douglas Adams, Last Chance to See



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From klaren at cs.utwente.nl  Thu Oct 28 09:12:36 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <1098496096.12287@mx9.mysite4now.com>
References: <clc8ld+8qlg@eGroups.com> <1098496096.12287@mx9.mysite4now.com>
Message-ID: <20041028161236.GG27816@cs.utwente.nl>


On Fri, Oct 22, 2004 at 09:51:25PM -0400, Don Caton wrote:
> Perhaps when I have time to come up for air, I'll package the antlr stuff up
> in a Windows installer and submit it to the antlr site, along with MSVC
> project files and such.

Some nmake makefiles would be duly appreciated (since I can use those
myself with the commandline only free version) If you get me up to date
versions for the project for the current snapshot than I can include them
in the distro) (I removed all old files since they were way out of date)
And making a static lib from antlr is a nobrainer anyway with a recent
MSVC. Only DLL's cause trouble.

> Regarding Antlr lexers, they do seem a bit sluggish, 

They suck ;) could be a magnitude faster with some serious hacking on them.
The new antlr3 code will be way *way* better.

> Which brings me back to my original question of "why Java?" for this type of
> thing? 

Ter has this delusion about java ;) So it's java. (for he rest this
discussion is pointless) For the generator it's not that bad. As long as
the generated code is ok. MINGW fixes the java runtime dependency and the
configure build builds a mingw executable nearly out of the box, now only a
installer....

> I suppose for light duty parsing requirements it might be ok, but I
> can't imagine that an Antlr-generated Java lexer/parser could ever approach
> the speed of a fully optimized C++ one.  I'm rarely in favor of sacrificing
> runtime efficiency for programmer convenience.

AFAIK we'll have C and C++ targets next to java for the codegenerators and
with the new string template stuff it's easy (or easier) to add new ones. I
was able to make a prototype C codegenerator in 2 days, without actually
knowing how stringtemplate works.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  "I think we better split up."
  "Good idea. We can do more damage that way."
  --- Ghostbusters



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From klaren at cs.utwente.nl  Thu Oct 28 09:25:29 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] build issues: bytecode assembly generation
In-Reply-To: <9EAFF84E-2440-11D9-B644-000393BB647E@cs.usfca.edu>
References: <1098407138.9961@mx9.mysite4now.com> <9EAFF84E-2440-11D9-B644-000393BB647E@cs.usfca.edu>
Message-ID: <20041028162529.GH27816@cs.utwente.nl>


Hi,

On Fri, Oct 22, 2004 at 08:39:54AM -0700, Terence Parr wrote:
> I'm not sure I can agree with this.  C++ still seems so incompatible 
> between compilers; there is nothing but chatter about why people can't 
> get the ANTLR C++ output to work with their compiler. ;)

It was bad. It's getting better. The people who can't get things to work
use MSVC usually. This says more about MSVC than about C++ though. Or about
windows users ;) The majority of compilers compile the antlr
runtime/generated code without any problems.

Then again I know of several java programs that require specific java
runtimes to work without crashes/memory leaks/file descriptor leaks and
similar atrocities, thought those were all fixed with java ;)

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  "You can't expect to wield supreme executive power just because some
   watery tot throws a sword at you!"
  --- Monty Python and the Holy Grail



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From lgc at mail1.jpl.nasa.gov  Thu Oct 28 11:30:08 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <20041028160223.GF27816@cs.utwente.nl>
Message-ID: <clrdrg+7h1v@eGroups.com>



Ric--

The MSVC 8 beta required no tweaks to ANTLR; all it needed were the
compilation settings and everything worked with your latest version.

--Loring


--- In antlr-interest@yahoogroups.com, Ric Klaren <klaren@c...> wrote:
> On Sat, Oct 23, 2004 at 12:29:33AM -0000, micheal_jor wrote:
> > > support for Antlr on Windows platforms to speak of.  It took quite a
> > bit of
> > > trial and error to get Antlr to even run under Windows. 
> > 
> > I presume you mean support for "using the ANTLR C++ code generator and
> > runtime library with MSVC++ on Windows". If so, all I can say is that
> > the support has gotten much better since 2.7.4 was released (Ric now
> > has MS's compiler I believe). There has been a lot of useful
> > discussion on this list about ANTLR/C++ on Windows.
> 
> Windows MSVC support depends on community patches submitted to the
list or
> to me directly. I have the free version of MSVC 7.1 but I can't do
nothing
> really usefull with (lack of (nmake) makefiles with the right
incantations
> for the separate tools) so far I cannot build working binaries.
> 
> The biggest good thing for msvc support was MSVC 7.1 which is finally a
> decent C++ compiler features wise. Now only DLL's and STL..... (or
windows
> people drop the DLL obsession for antlr's support lib... ;) )
> 
> > There are some efficiency issues with ANTLR lexers (especially if you
> > use the more advanced ANTLR lexer options) which ANTLR3 should fix.
> > The distribution has a sample showing how to couple Flex lexers to
> > ANTLR parsers. Search the list for past discussions.
> 
> Just wait till you see some antlr3 generated C code ;) (before my
holidays
> I hacked a bit on the prototype I made for the workshop, the new one
should
> be a lot faster still (using mmap just for prototype kicks)), I'll post
> some rough figures when I get to finishing it)
> 
> Cheers,
> 
> Ric
> -- 
>
-----+++++*****************************************************+++++++++-------
>     ---- Ric Klaren ----- j.klaren@u... ----- +31 53 4893755  ----
>
-----+++++*****************************************************+++++++++-------
>      Human beings, who are almost unique in having the ability to learn
>    from the experience of others, are also remarkable for their apparent
>          disinclination to do so. --- Douglas Adams, Last Chance to See





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Thu Oct 28 14:51:12 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Treeview
In-Reply-To: <1C5C690C06EFE244B83E3F133CA70BDE285833@studentex6.campus.tue.nl>
References: <1C5C690C06EFE244B83E3F133CA70BDE285833@studentex6.campus.tue.nl>
Message-ID: <7BF57ED2-292B-11D9-91B3-000A95891192@cs.usfca.edu>


Hi, there is a class that let's you use a Swing window to navigate a 
tree...it's in the misc dir or something...example in the java.g 
Main.java file
Terence
On Oct 28, 2004, at 5:38 AM, Maassen, H.A.M. wrote:

> Hello,
>
> I'm building a parser for a language and I'd like to get a nifty 
> graphical representation of the generated tree to see if my rules are 
> doing the right thing.
>
> I'm pretty sure there's functionality for this included in ANTLR, I 
> just don't know how to do it :)
>
> I know this is probably somewhere to be R'ed in TFM, but right now I'm 
> dealing with information overkill (new to C#, the C# IDE, ANTLR 
> itself) and I just want to get some work done. I only need to get this 
> language formally specified and then someone with more proficiency in 
> C# can build the actual compiler from there :)
>
> So if anyone could give me a quick-and-dirty rundown of how to get my 
> Main() to show me a little ascii tree I'd be really grateful :) 
> otherwise I guess it's back to browsing the examples and 
> documentation.
>
> Je vous prie d'agr?er, madame, monsieur, l'expression de mes sentiments
> distingu?s, Harald Maassen
>
>
>
> Yahoo! Groups Links
>
>
>
>
> <winmail.dat>
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From dcaton at shorelinesoftware.com  Thu Oct 28 15:07:13 2004
From: dcaton at shorelinesoftware.com (Don Caton)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <20041028161236.GG27816@cs.utwente.nl>
Message-ID: <1099001081.5967@mx9.mysite4now.com>


Ric:

> Some nmake makefiles would be duly appreciated (since I can 
> use those myself with the commandline only free version) If 

I haven't looked at nmake (or any make utility for that matter) in many
years.  I used to use Opus Make, but I probably have forgotten most of the
arcane commands and syntax needed to create a non-trivial make file.
Unfortunately, VC does not have any export-to-makefile feature, to convert
project files to nmake files.

Maybe when I get a chance to come up for air I'll try to figure out
something.  

> easy (or easier) to add new ones. I was able to make a 
> prototype C codegenerator in 2 days, without actually knowing 
> how stringtemplate works.

I was at the antlr seminar, I saw what you did and it was very impressive.
Antlr 3 is too far away though.

Regards,
 
Don Caton
Shoreline Software, Inc.
 

> -----Original Message-----
> From: Ric Klaren [mailto:klaren@cs.utwente.nl] 
> Sent: Thursday, October 28, 2004 12:13 PM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] Re: build issues: bytecode 
> assembly generation
> 
> 
> On Fri, Oct 22, 2004 at 09:51:25PM -0400, Don Caton wrote:
> > Perhaps when I have time to come up for air, I'll package the antlr 
> > stuff up in a Windows installer and submit it to the antlr 
> site, along 
> > with MSVC project files and such.
> 
> Some nmake makefiles would be duly appreciated (since I can 
> use those myself with the commandline only free version) If 
> you get me up to date versions for the project for the 
> current snapshot than I can include them in the distro) (I 
> removed all old files since they were way out of date) And 
> making a static lib from antlr is a nobrainer anyway with a 
> recent MSVC. Only DLL's cause trouble.
> 
> > Regarding Antlr lexers, they do seem a bit sluggish,
> 
> They suck ;) could be a magnitude faster with some serious 
> hacking on them.
> The new antlr3 code will be way *way* better.
> 
> > Which brings me back to my original question of "why Java?" 
> for this 
> > type of thing?
> 
> Ter has this delusion about java ;) So it's java. (for he 
> rest this discussion is pointless) For the generator it's not 
> that bad. As long as the generated code is ok. MINGW fixes 
> the java runtime dependency and the configure build builds a 
> mingw executable nearly out of the box, now only a installer....
> 
> > I suppose for light duty parsing requirements it might be ok, but I 
> > can't imagine that an Antlr-generated Java lexer/parser could ever 
> > approach the speed of a fully optimized C++ one.  I'm 
> rarely in favor 
> > of sacrificing runtime efficiency for programmer convenience.
> 
> AFAIK we'll have C and C++ targets next to java for the 
> codegenerators and with the new string template stuff it's 
> easy (or easier) to add new ones. I was able to make a 
> prototype C codegenerator in 2 days, without actually knowing 
> how stringtemplate works.
> 
> Cheers,
> 
> Ric
> -- 
> -----+++++****************************************************
> *+++++++++
> -----+++++-------
>     ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 
> 4893755  ----
> -----+++++****************************************************
> *+++++++++
> -----+++++-------
>   "I think we better split up."
>   "Good idea. We can do more damage that way."
>   --- Ghostbusters
> 
> 
> 
>  
> Yahoo! Groups Links
> 
> 
> 
>  
> 
> 
> 
> 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From ora.et.labora at web.de  Fri Oct 29 01:28:40 2004
From: ora.et.labora at web.de (whaefelinger)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Re: problem with syntactic predicates
In-Reply-To: <clqeai+77ob@eGroups.com>
Message-ID: <clsuvo+daln@eGroups.com>



--- In antlr-interest@yahoogroups.com, "lgcraymer" <lgc@m...> wrote:

> > Perhaps I miss the point but shouldn't there be something
> > that let me tell antlr to executed this action regardless
> > of guessing or not?
> 
> If you are really going to do this sort of thing, then it probably
> makes more sense to switch lexers after you recognize the javadoc
> comment so that the second lexer parses a string instead of the 
input
> stream--then "nextToken" in the string lexer can switch lexers when
> the string is exhausted.  That also lets you can skip the javadoc
> comment in guessing mode, but process it when not guessing.

The javadoc comment was meant as an example. Here it's rather easy 
to detect the end of the comment  and  the lexer will skip it (ie. 
will save it for later usage) anyway. I could think of cases where 
the end is more difficult to detect, especially by the lexer.

Another problem  is probably this when I need to know whether it's 
a "javadoc comment" or not to get the proper result for my calling 
syntax predicate. Sure, comments can always be evaluated later but
how about "non comment" situations?

For example, in my grammar "]]" is a token but in a certain 
production, "]]" is not a token but rather "]" "]". 

Luckily I'm sure that my  rule accepting  this production is not 
used while  guessing -- but this not easy to see. (Btw, is there
a tool that allows me  to  ask such questions whether  a rule is
reachable  starting  with  a  second rule? Or kind of rule cross
referencer?? )

> > Here's a proposal:
> > 
> > JAVADOC_OPEN
> >     :    "/**" {! selector.push("doclexer"); }  ;
> > ================^
> 
> You really want to avoid driving the recognition phase with
> actions [..]

But  isn't  that exactly the case when switching the lexer by
an action??

> mixing paradigms (procedural  and  syntax-oriented
> processing) leads to fragile and difficult to maintain 
> language processors.

True in most cases but I wouldn't say that it  is necessarily 
the case. 

Cheers,
Wolfgang.






 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From electron_neutrino at yahoo.com  Fri Oct 29 02:13:25 2004
From: electron_neutrino at yahoo.com (Derek)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Filtering ASTs?
Message-ID: <clt1jm+b93j@eGroups.com>



Hi

I am using the VAMS grammar
(http://www.antlr.org/grammar/1086696923011/vhdlams/vams.g) to parse
VHDL, as it is very similar, and build an AST.

However, in my tree grammar I only want to match parts of that tree,
not starting at the root node. How can I do this? There is a filter
option in the lexer but I want to use the full AST later.

The examples I have seen always have the same top rule in the tree
grammar and the parser grammar.

In vams.g the top rule is "design_file" but I want to only match
entities from the rule "entity_declaration" so that I can extract the
name. So, if in my tree grammar I have:

entity_declaration
   : #(ENTITY name:identifier)
        { System.out.println("Got ENTITY named " + name.getText()); } 
   ;
 
identifier
  : BASIC_IDENTIFIER
  | EXTENDED_IDENTIFIER
  ;

ANTLR will give this error message: "<AST>:0:0: expecting ENTITY,
found 'library'" for this test file:

library IEEE;
use IEEE.std_logic_1164.all;

entity test1 is
	port
	(
		a	: in std_logic;
		b	: out std_logic
	);
end entity test1;


How can I only match the entities within a VHDL file without having to
 have my tree grammar declare all the rules from "design_file" down to
"entity_declaration"?

Thanks in advance,

Derek





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From mail at martin-probst.com  Fri Oct 29 03:14:13 2004
From: mail at martin-probst.com (Martin Probst)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] Treeview
In-Reply-To: 
     <1C5C690C06EFE244B83E3F133CA70BDE285833@studentex6.campus.tue.nl>
References: 
    <1C5C690C06EFE244B83E3F133CA70BDE285833@studentex6.campus.tue.nl>
Message-ID: <36516.194.39.131.39.1099044853.14431.squirrel@webmailer.hosteurope.de>


Hi,
I've ran into this problem too and I wrote a very small piece of code
which uses the good ol' UNIX tool "graphviz dot". There should be RPMs for
it for most linux distributions and there is an installer for windows too.
The code to generate source files for dot is this one:

std::string escapeDotChars( std::string s )
{
	// Replace tabs with 4 spaces
	int i = 0;
	char c = '\t';
	while ( true ) {
		i = s.find(c, i);
		if ( i == std::string::npos )
			break;
		//cout << "found " << cs[k] << " at " << i << endl;
		s = s.replace(i,1,"    ");
		i++;
		i++;
	}
	// Replace the special chars used by dot
	char * cs = "\" ><{}|";
	for (int k = 0; static_cast<unsigned int>(k) < strlen(cs); k++) {
		int i = 0;
		while ( true ) {
			i = s.find(cs[k], i); // +2: 1 for the char, 1 for the inserted backslash
			if ( i == std::string::npos )
				break;
			//cout << "found " << cs[k] << " at " << i << endl;
			s = s.insert(i,"\\");
			i++;
			i++;
		}
	}
	// Remove newlines, replace with \\l for left oriented line
	i = 0;
	c = '\n';
	while ( true ) {
		i = s.find(c, i);
		if ( i == std::string::npos )
			break;
		//cout << "found " << cs[k] << " at " << i << endl;
		s = s.replace(i,1,"\\l");
		i++;
		i++;
	}
	return s;
}

void dotTreeNodeDump( ostream & os, XQueryParser& parser, hxdb::RefASTlc
tree, int & count, int parentid )
{
	count++;
	os << "\t\tN" << count << " [shape=record,label=\"{"
		<< escapeDotChars(parser.getTokenName(tree->getType()))
		<< " (" << tree->getLine() << ":" << tree->getColumn() << ")"
		<< "|" << escapeDotChars(tree->getText())
		<< "}\"]" << std::endl;
	if (parentid != 0)
		os << "\t\tN" << parentid << " -> N" << count << std::endl;
	if (tree->getFirstChild()) {
		// Dump the tree for the child with the current count as parentid
		dotTreeNodeDump( os, parser, hxdb::RefASTlc(tree->getFirstChild()),
count, count );
	}
	if (tree->getNextSibling()) {
		// dump the tree for the sibling with the same parentid
		dotTreeNodeDump( os, parser, hxdb::RefASTlc(tree->getNextSibling()),
count, parentid );
	}
}

void dotTreeDump( ostream & os, XQueryParser& parser, hxdb::RefASTlc tree )
{
	int count = 0;
	dotTreeNodeDump( os, parser, tree, count, count );
}

In the endeffect I call my parser executable (which I generate for testing
purposes anyways) like this: "myparser --dot myquery.txt | dot -Tpng -o
myquery.png"
This gives me a beatiful dot graph as PNG (and works for ps, SVG etc.
too). The could should be easy to adjust for java, at least I think so.

mfg
Martin



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From demakov at ispras.ru  Fri Oct 29 03:32:38 2004
From: demakov at ispras.ru (Alexey Demakov)
Date: Mon Dec 20 16:17:26 2004
Subject: [antlr-interest] TreeDL news: tutorial, new releases, mailing lists
References: <FD35CB8B26F9534E86D1AC31F401AB340483FD9C@na1fcm52.dearborn.ford.com>
Message-ID: <008e01c4bda2$9c8eeaa0$8cc79553@marlboro>


From: "Tiller, Michael (M.M.)" <mtiller@ford.com>
> > From: Alexey Demakov [mailto:demakov@ispras.ru]
> > Subject: Re: [antlr-interest] TreeDL news: tutorial, new releases,
> mailing lists
> > 
> > >   I find this TreeDL system quite interesting.  It is closer to the way
> > > I think than the typical homogeneous ASTs in ANTLR.  However, I see a
> > > couple of issues when comparing it to things I've done:
> > >
> > > 2) Your visitor pattern include "visitXYZ" methods.  I've found that for
> > > many structures an "enterXYZ" and "leaveXYZ" pattern is more suitable.
> > > In fact, one might argue that anything that has children would probably
> > > benefit from the "enter-leave" pattern (also found in SableCC if I'm not
> > > mistaken).  It doesn't matter for things like evaluation, but if you
> > > want to output HTML (for example), it is nice.
> > 
> > Automatic tree traversing is not provided because there is no way to suit
> > all tasks. As you can see in interpreter visitor (step 5) I call visit
> > methods for children explicitly (through accept() of course).
> > However, code generation library allows to visit children referenced
> > in patterns:
> > 
> > public void visitBinaryExpr( BinaryExpr node )
> > {
> >     txt( "${left} ${Sign:sign} ${right}" );
> > }
> > 
> > Results of visit method for left and right children will be substituted
> > automatically.
> 
> Well, regarding the visitor pattern there are really two issues here.
> First is the interface of the visitor.  The interface defines what
> operations are involved.  This is where I think the "enter" and "leave"
> methods would be preferable to a "visit" method for anything that has
> children.  This has nothing to do with the tree walking itself (i.e. the
> 'accept' method invocations), it just provides a comprehensive list of
> methods associated with each node type.  Looking at the documentation
> you mentioned I see that TreeDL appears to do this part (although it is
> restricted to 'visit' methods).

If you don't mind to write enter/leave in different classes, this pattern can be
implemented using two visitors. Generated tree walker will be like this:

class EnterLeaveTreeWalker implements TreeVisitor
{
    TreeVisitor enterVisitor;
    TreeVisitor leaveVisitor;

    // for each node
    void visitNode( Node node )
    {
        node.accept( enterVisitor );
        // walk children
        node.accept( leaveVisitor );
    }
}
 
> The second part is the tree walking part.  Here it is possible to write
> tree walkers automatically but you have to choose a pattern (e.g.
> depth-first).
> 
> My suggestion is to look at SableCC.  It does both of these things and
> they I believe their scheme also allows for users to modify tree walkers
> or create whole new ones with minimal effort.  It would be great if you

Of course, user can extend tree walker class and change order of traversal
for some nodes.

> could provide much of the same functionality in your library.  If I
> recall correctly, SableCC does something slightly different from your
> scheme because the traversal pattern is not written into the node
> definitions (I forget exactly what they do though).
> 
> > May be it is good idea to have a library of tree walker generators for
> > particular  cases.
> 
> Precisely.  I suspect this will change the way you handle 'accept'
> methods.  You would have to look at SableCC to see how they achieve
> this.

IMHO, accept() always should call right method of visitor only. All other 
work can be done by tree walker as in above example.

> How do you deal with C# vs. Java differences?  (just curious...always an
> issue for high-level schemes, like TreeDL and ANTLR, that allow embedded
> code).  Do you just digest everything between the {}s and pass it
> straight through?

TreeDL uses different lexers for embedded code. It depends on value of
tree property translate.language. Thanks to ANTLR parser-like lexers :)
it is possible to count balance of { ... } and return whole embedded code 
as one token when final } is found. Java and C# share the same lexer
but may be in the future for other languages will be used different lexer.
At least, it is possible.
Lexer class for each language is specified in configuration file, so new 
languages can be added without modification of existing TreeDL tool code.

> I'm not sure I found Calc.java.  That probably would have answered most
> of these questions.  Sorry about that.

No, it's my mistake. Maven doesn't generate xref for generated Java files,
I found it answering your message :)

TreeDL generated code is well-formatted and easy to read. If you are not 
sure what was generated - just inspect it.

> > > 5) It isn't clear what the purpose of the "Syntax Grammar" section
> is.
> > > How is this used?  It seems like the tree definition + ANTLR grammar
> is
> > > pretty complete.  I don't see what the .bnf file is needed for.
> > 
> > As I mentioned in one of previos messages, we have BNF tool that
> generates
> > syntax tests
> > from .bnf file. But primary usage of this file is documentation - it
> is
> > useful if language design
> > and parser implementation are done by different persons.
> 
> Interesting.  So in some sense it provides independent validation of the
> parser?  Does it generate cases to exercise all possible syntax
> combinations or something?

Yes :) If you have some formal specification of your program, there are two
ways to implement it without errors:
1. Generate it from specification. It is not always possible, but if can 
be done, generated programs do exactly what was specified (assuming that 
generator/translator doesn't contain errors).
2. Generate tests from specification and make sure they are passed.

If BNF of grammar is not suitable for parser generation, it should be tuned
to be processed by parser generator. To be sure that source and modified
grammars describe the same language, tests can be generated from source BNF
(because test generation tool doesn't put limitations on BNF).

Generated set of test cases covers all alternatives in all grammar rules.

There is agreement that BNF tool will be published as open source,
but I can't say exact date.

> > > 6) Your tree directive seems to be used to indicate what package the
> > > eventual definitions will be included in.  Why not use the word
> > > "package" instead of "tree".  To me, "tree" implies it has something
> > > to do with the data structures themselves rather than just their
> > > location in the package hierarchy.

I've just noticed that tree name defines not package name, but full name of
top level class containing all node classes.

> > TreeDL tries to be as language independent as possible. So "package" is
> > not good from my point of view.
> > In fact it should be not "tree" but "tree desription" but it is much
> > longer :(
> 
> Well, package is a pretty generic term.  Actually, it is used in all
> languages that I'm currently working with (Java, Python and Modelica).

I have to use C# almost as often as Java. It has namespaces instead of packages.
So for me "package" is Java thing. :)
I'm planning to extends TreeDL with basic types such as object, string, bool,
int etc, and their names propably will be borrowed from C#.

Regards,
Alexey

-----
Alexey Demakov
TreeDL: Tree Description Language: http://treedl.sourceforge.net
RedVerst Group: http://www.unitesk.com




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-aS3BEim5OsJFpQi9zbbk4VM at yahoogroups.com  Fri Oct 29 03:49:43 2004
From: antlr-interest-accept-aS3BEim5OsJFpQi9zbbk4VM at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:27 2004
Subject: MODERATE -- wolfy10002000@yahoo.co.uk posted to antlr-interest
Message-ID: <1099046983.323.20887.m16@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  wolfy10002000@yahoo.co.uk 

The message summary:
--------------------
FROM: wolfy10002000@yahoo.co.uk 
DATE: Fri, 29 Oct 2004 10:49:30 -0000 
SUBJECT: Delphi request 

Hi, 

I am looking to write a Delphi grammer for a college 
project. I was wondering if anyone had any pointers on the 
best way to procede. I am currently considering using the 
Pascal grammar that is available and building on that, I see
two approaches. 

1. Using the pascal grammar for inspiration and building a 
new Delphi grammar from that. 
--------------------

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=353 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-aS3BEim5OsJFpQi9zbbk4VM@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: "wolfy10002000" <wolfy10002000@yahoo.co.uk>
Subject: Delphi request
Date: Fri, 29 Oct 2004 10:49:30 -0000
Size: 1883
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041029/5b09ddf5/attachment.mht
From klaren at cs.utwente.nl  Fri Oct 29 05:54:11 2004
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <1099001081.5967@mx9.mysite4now.com>
References: <20041028161236.GG27816@cs.utwente.nl> <1099001081.5967@mx9.mysite4now.com>
Message-ID: <20041029125411.GB25261@cs.utwente.nl>


On Thu, Oct 28, 2004 at 06:07:13PM -0400, Don Caton wrote:
> > Some nmake makefiles would be duly appreciated (since I can 
> > use those myself with the commandline only free version) If 
> 
> I haven't looked at nmake (or any make utility for that matter) in many
> years.  I used to use Opus Make, but I probably have forgotten most of the
> arcane commands and syntax needed to create a non-trivial make file.
> Unfortunately, VC does not have any export-to-makefile feature, to convert
> project files to nmake files.

Hmmm they removed that ? Doh!

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- j.klaren@utwente.nl ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 Time what is time - I wish I knew how to tell You why - It hurts to know -
          Aren't we machines - Time what is time - Unlock the door
               - And see the truth - Then time is time again
                From: 'Time what is Time' by Blind Guardian



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From mtiller at ford.com  Fri Oct 29 06:16:26 2004
From: mtiller at ford.com (Tiller, Michael (M.M.))
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] TreeDL news: tutorial, new releases, mailing lists
Message-ID: <FD35CB8B26F9534E86D1AC31F401AB340483FD9E@na1fcm52.dearborn.ford.com>


> From: Alexey Demakov [mailto:demakov@ispras.ru]
> Subject: Re: [antlr-interest] TreeDL news: tutorial, new releases,
mailing
> lists
> 
> > Well, regarding the visitor pattern there are really two issues
here.
> > First is the interface of the visitor.  The interface defines what
> > operations are involved.  This is where I think the "enter" and
"leave"
> > methods would be preferable to a "visit" method for anything that
has
> > children.  This has nothing to do with the tree walking itself (i.e.
the
> > 'accept' method invocations), it just provides a comprehensive list
of
> > methods associated with each node type.  Looking at the
documentation
> > you mentioned I see that TreeDL appears to do this part (although it
is
> > restricted to 'visit' methods).
> 
> If you don't mind to write enter/leave in different classes, this
pattern
> can be
> implemented using two visitors. Generated tree walker will be like
this:
> 
> class EnterLeaveTreeWalker implements TreeVisitor
> {
>     TreeVisitor enterVisitor;
>     TreeVisitor leaveVisitor;
> 
>     // for each node
>     void visitNode( Node node )
>     {
>         node.accept( enterVisitor );
>         // walk children
>         node.accept( leaveVisitor );
>     }
> }

This isn't really what I had in mind.  I don't want two visitors, I want
the traversal (using only one visitor) to include actions for both
entering and leaving the same node.  For information on how SableCC
handles the visitor pattern, you might take a look at:

http://sablecc.org/thesis/thesis.html#PAGE52

They use the terms "in" and "out" instead of "enter" and "leave".  You
can see some discussion of this specifically at:

http://sablecc.org/thesis/thesis.html#PAGE60

> > The second part is the tree walking part.  Here it is possible to
write
> > tree walkers automatically but you have to choose a pattern (e.g.
> > depth-first).

Discussion of the AST walkers in SableCC can be found here:

http://sablecc.org/thesis/thesis.html#PAGE58

--
Mike



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From demakov at ispras.ru  Fri Oct 29 08:26:52 2004
From: demakov at ispras.ru (Alexey Demakov)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] TreeDL news: tutorial, new releases, mailing lists
References: <FD35CB8B26F9534E86D1AC31F401AB340483FD9E@na1fcm52.dearborn.ford.com>
Message-ID: <010701c4bdcb$b79e6b80$8cc79553@marlboro>


From: "Tiller, Michael (M.M.)" <mtiller@ford.com>
> > From: Alexey Demakov [mailto:demakov@ispras.ru]
> > Subject: Re: [antlr-interest] TreeDL news: tutorial, new releases,
> mailing
> > lists
> > 
> > > Well, regarding the visitor pattern there are really two issues
> here.
> > > First is the interface of the visitor.  The interface defines what
> > > operations are involved.  This is where I think the "enter" and
> "leave"
> > > methods would be preferable to a "visit" method for anything that
> has
> > > children.  This has nothing to do with the tree walking itself (i.e.
> the
> > > 'accept' method invocations), it just provides a comprehensive list
> of
> > > methods associated with each node type.  Looking at the
> documentation
> > > you mentioned I see that TreeDL appears to do this part (although it
> is
> > > restricted to 'visit' methods).
> > 
> > If you don't mind to write enter/leave in different classes, this
> pattern
> > can be
> > implemented using two visitors. Generated tree walker will be like
> this:
> > 
> > class EnterLeaveTreeWalker implements TreeVisitor
> > {
> >     TreeVisitor enterVisitor;
> >     TreeVisitor leaveVisitor;
> > 
> >     // for each node
> >     void visitNode( Node node )
> >     {
> >         node.accept( enterVisitor );
> >         // walk children
> >         node.accept( leaveVisitor );
> >     }
> > }
> 
> This isn't really what I had in mind.  I don't want two visitors, I want
> the traversal (using only one visitor) to include actions for both
> entering and leaving the same node.

Then you can use alternative visitor interface, give me day or two before
you'll need it and I add appropriate plugin. :)

Note, number of methods in both cases is the same. Moreover, if you like to write
method in one class only, it can be adapted to my scheme as:

// manually developed class with actions
class EnterLeaveVisitor implements EnterLeaveVisitorInterface
{
    void enterNode( Node node ) {}
    void leaveNode( Node node ) {}
}

// generated
class EnterVisitor implements TreeVisitor
{
    EnterLeaveVisitorInterface visitor;
    visitNode( Node node ) { visitor.enterNode( node ); }
}

// generated
class LeaveVisitor implements TreeVisitor
{
    EnterLeaveVisitorInterface visitor;
    visitNode( Node node ) { visitor.leaveNode( node ); }
}

// generated
class EnterLeaveTreeWalker implements TreeVisitor

> For information on how SableCC
> handles the visitor pattern, you might take a look at:
> 
> http://sablecc.org/thesis/thesis.html#PAGE52

TreeDL handles visitors exaclty the same way as described at pages 56-58.
It is used for tree inheritance. The only difference - Switchable is not
separate interface, accept() is directly in Node interface.

SableCC - TreeDL
Switch - Visitor
Switchable - Node
apply() - accept()
case...() - visit...()

> They use the terms "in" and "out" instead of "enter" and "leave".  You
> can see some discussion of this specifically at:
> 
> http://sablecc.org/thesis/thesis.html#PAGE60

Yes, it is very similar to my approach but uses inheritance instead of delegation.
I like to separate actions from tree walking completely, it is more flexible.

> > > The second part is the tree walking part.  Here it is possible to
> write
> > > tree walkers automatically but you have to choose a pattern (e.g.
> > > depth-first).
> 
> Discussion of the AST walkers in SableCC can be found here:
> 
> http://sablecc.org/thesis/thesis.html#PAGE58

Ok, I'll add tree walkers generation. And will change generation of empty visitor
to use default action as described at this page, it is useful.

Regards,
Alexey

-----
Alexey Demakov
TreeDL: Tree Description Language: http://treedl.sourceforge.net
RedVerst Group: http://www.unitesk.com




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From monty at codetransform.com  Fri Oct 29 10:44:06 2004
From: monty at codetransform.com (Monty Zukowski)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] Filtering ASTs?
In-Reply-To: <clt1jm+b93j@eGroups.com>
References: <clt1jm+b93j@eGroups.com>
Message-ID: <2176DDCC-29D2-11D9-AE79-000393B5606C@codetransform.com>


On Oct 29, 2004, at 2:13 AM, Derek wrote:

>
>
> How can I only match the entities within a VHDL file without having to
>  have my tree grammar declare all the rules from "design_file" down to
> "entity_declaration"?
>

That is actually the normal way to do it.  Have the whole tree grammar, 
then subclass and only override rules where you want to add actions.

Alternately you can search the tree and then start your parsing from 
there.  The AST classes have find* methods.  For instance see 
BaseAST.java and its findAll() method.

Monty

ANTLR & Java Consultant -- http://www.codetransform.com
ANSI C/GCC transformation toolkit -- 
http://www.codetransform.com/gcc.html
Embrace the Decay -- http://www.codetransform.com/EmbraceDecay.html



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From wolfy10002000 at yahoo.co.uk  Fri Oct 29 03:49:30 2004
From: wolfy10002000 at yahoo.co.uk (wolfy10002000)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] Delphi request
Message-ID: <clt77q+dcpr@eGroups.com>




Hi,

I am looking to write a Delphi grammer for a college project. I was 
wondering if anyone had any pointers on the best way to procede. I 
am currently considering using the Pascal grammar that is available 
and building on that, I see two approaches. 

1. Using the pascal grammar for inspiration and building a new 
Delphi grammar from that.

or 2. Build a Delphi grammar of the differences between Pascal and 
Delphi and use the two grammars at the same time with the same state.

Does anyone foresee a problem with approach 2? I have some 
experience with Pascal but not Delphi so I am not sure whether 
approach 2 is actually possible. I am also planning on doing this in 
Java.

Thanks

Lee 








 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From antlr-interest-accept-0sBGcsqSipkLC5aBotsXm6c at yahoogroups.com  Fri Oct 29 13:47:25 2004
From: antlr-interest-accept-0sBGcsqSipkLC5aBotsXm6c at yahoogroups.com (Yahoo!Groups Notification)
Date: Mon Dec 20 16:17:27 2004
Subject: MODERATE -- torkildr@resheim.no posted to antlr-interest
Message-ID: <1099082845.502.42058.m14@yahoogroups.com>


Hello,

A message has been sent to the antlr-interest group from

  torkildr@resheim.no 

A complete copy of this message has been attached for your convenience.

This message requires your approval for one of the following reasons:
* Your group is set to moderate all messages from this user, OR
* Your group is set to moderate messages from all users

To approve or reject this messages using the web, please visit:
http://groups.yahoo.com/group/antlr-interest/pending?view=1&msg=354 

To approve this message using email, reply to this message. You do not 
need to attach the original message, just reply and send.

To reject this message using email, forward this message to

antlr-interest-reject-0sBGcsqSipkLC5aBotsXm6c@yahoogroups.com 

NOTE: The pending message will expire after 14 days. If you do not 
take action within that time, the pending message will be automatically
rejected.  Yahoo! Groups does this to maintain a high quality of
service for our users.

Thank you for choosing Yahoo! Groups.

Regards,

Yahoo! Groups Customer Care

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
 
-------------- next part --------------
An embedded message was scrubbed...
From: Torkild =?utf-8?q?Ulv=C3=B8y_Resheim?= <torkildr@resheim.no>
Subject: Multiplexed lexers and stream insertion problem
Date: Fri, 29 Oct 2004 22:42:37 +0200
Size: 2924
Url: http://www.antlr.org/pipermail/antlr-interest/attachments/20041029/a481b6da/attachment.mht
From torkildr at resheim.no  Fri Oct 29 13:42:37 2004
From: torkildr at resheim.no (Torkild =?utf-8?q?Ulv=C3=B8y_Resheim?=)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] Multiplexed lexers and stream insertion problem
Message-ID: <200410292242.37993.torkildr@resheim.no>

I'm doing a project where I have several lexers and parsers, switching between 
these depending on the context. One of these lexers reads a macro definition, 
ignores the content, just storing it into a hashtable. The code can be 
something like this:

#COMMAND macro
  // Something interesting is supposed to happen here
#ENDCOMMAND

So when the main parser sees "macro" it inserts the contents of the macro into 
a new lexer (same class as the main lexer) using a StringReader and treats it 
like any other code. The problem occurs when the lexer is done with the macro 
contents. I'm getting an EOF and can't get back to the original lexer.

Any ideas?
-- 
Med vennlig hilsen / Kind regards                                  ((
Torkild Ulv?y Resheim, Senior Systemutvikler / Software Engineer    ))
Emma EDB AS, Trondheim, Norway. http://www.emmaedb.no             |----|_
Private pages: http://resheim.no - "Any sufficiently advanced     |    | )
bug is indistinguishable from a feature."                         |____|'
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20041029/5ce8fa5b/attachment.bin
From nbsherid at secsme.org.au  Fri Oct 29 19:54:24 2004
From: nbsherid at secsme.org.au (Nigel Sheridan-Smith)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] Re: build issues: bytecode assembly generation
In-Reply-To: <20041029125411.GB25261@cs.utwente.nl>
Message-ID: <000001c4be2b$c3917ee0$0500a8c0@nigel>




> -----Original Message-----
> From: Ric Klaren [mailto:klaren@cs.utwente.nl]
> Sent: Friday, 29 October 2004 10:54 PM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] Re: build issues: bytecode assembly
> generation
> 
> 
> On Thu, Oct 28, 2004 at 06:07:13PM -0400, Don Caton wrote:
> > > Some nmake makefiles would be duly appreciated (since I can
> > > use those myself with the commandline only free version) If
> >
> > I haven't looked at nmake (or any make utility for that matter) in many
> > years.  I used to use Opus Make, but I probably have forgotten most of
> the
> > arcane commands and syntax needed to create a non-trivial make file.
> > Unfortunately, VC does not have any export-to-makefile feature, to
> convert
> > project files to nmake files.
> 
> Hmmm they removed that ? Doh!
> 

MSVC6 was the last version I have it, I believe :(

Nigel

--
Nigel Sheridan-Smith
PhD research student

Faculty of Engineering
University of Technology, Sydney
Phone: 02 9514 7946
Fax: 02 9514 2435
 




 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From silke7772003 at yahoo.de  Sat Oct 30 07:14:23 2004
From: silke7772003 at yahoo.de (silke7772003)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] Multiplexed lexers and stream insertion problem
In-Reply-To: <200410292242.37993.torkildr@resheim.no>
Message-ID: <20041030141501.2BDB074CF5@nexus.cs.usfca.edu>


Hi Torkild, 

> The 
> problem occurs when the lexer is done with the macro 
> contents. I'm getting an EOF and can't get back to the original lexer.

The solution I have worked out uses an extended LexerSharedInputState class that keeps a stack of preprocessors. I have only one lexer that uses this input state to get its input. The preprocessor extends a Reader to actually feed the lexer. They all share also the current macro table, include pathes etc.

What happens is when an include macro is found then the current preprocessor creates a sub preprocessor and calls pushState on the shared input state, which will put the current pp on the stack and use the new one as active input. This new pp now feeds the lexer. If there is no more input then the pp calls popState and the previous pp is made active again (beside other things by setting the input buffer in the input state). It also returns a newline char, which is skipped in my lexer, so the lexer will immediately read the next input char. This next one is now read from the restored previous (and now active) pp. 

There are a few minor things to consider, but this is the base principle.

Mike
--
www.soft-gems.net 



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From barry.j.kelly at gmail.com  Sat Oct 30 08:41:33 2004
From: barry.j.kelly at gmail.com (Barry Kelly)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] Delphi request
In-Reply-To: <clt77q+dcpr@eGroups.com>
References: <clt77q+dcpr@eGroups.com>
Message-ID: <3adf6db8041030084170eb45c0@mail.gmail.com>


On Fri, 29 Oct 2004 10:49:30 -0000, wolfy10002000
<wolfy10002000@yahoo.co.uk> wrote:
> I am looking to write a Delphi grammer for a college project.
> [...]
> 1. Using the pascal grammar for inspiration and building a new
> Delphi grammar from that.
> 
> or 2. Build a Delphi grammar of the differences between Pascal and
> Delphi and use the two grammars at the same time with the same state.
> 
> Does anyone foresee a problem with approach 2? 

I would suggest, unless you have a strong reason to keep separate
Delphi and Pascal parsing capability, that you'd be much better off
squishing an existing Pascal grammar into shape.

> I have some
> experience with Pascal but not Delphi so I am not sure whether
> approach 2 is actually possible.

I've written a parser for Delphi, and the only tricky part that I can
recall was parsing typed constants. You'll need symbol table
information with the layout of records and arrays along with semantic
predicates if you want to parse typed constants unambiguously.

-- Barry


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Sat Oct 30 11:17:18 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] gmane works?  huh?
Message-ID: <EF4F1CAA-2A9F-11D9-89DD-000A95891192@cs.usfca.edu>


So, search seems broken on gmane as well.  My inbox shows plenty of 
matches for "stringtemplate newline", which is the article I was 
looking for.  Top one was the right article.  gmane shows two, both not 
what I want and won't link to the article.  I get "weft didn't produce 
an output." instead.

Are you sure y'all want me to upload old mail archives into this thing? 
  I have a student working on search for antlr.org; shall I just do the 
archive myself?  I'd rather work on antlr and such, but perhaps over 
xmas break I can fix up the site with the student.  ugh.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From lgc at mail1.jpl.nasa.gov  Sun Oct 31 00:29:47 2004
From: lgc at mail1.jpl.nasa.gov (lgcraymer)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] Re: gmane works?  huh?
In-Reply-To: <EF4F1CAA-2A9F-11D9-89DD-000A95891192@cs.usfca.edu>
Message-ID: <cm249b+5act@eGroups.com>



Ter--

Why not treat it as an ANTLR design problem?  It seems to me that an
ANTLR-based mail archive processor could break out individual emails
into their own files (keep threads in their own directories, perhaps),
sort out headers for indexing, and so forth.  You ought to be able to
generate a useful tool very quickly.

--Loring


--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
> So, search seems broken on gmane as well.  My inbox shows plenty of 
> matches for "stringtemplate newline", which is the article I was 
> looking for.  Top one was the right article.  gmane shows two, both not 
> what I want and won't link to the article.  I get "weft didn't produce 
> an output." instead.
> 
> Are you sure y'all want me to upload old mail archives into this thing? 
>   I have a student working on search for antlr.org; shall I just do the 
> archive myself?  I'd rather work on antlr and such, but perhaps over 
> xmas break I can fix up the site with the student.  ugh.
> 
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From joanpujol at gmail.com  Sun Oct 31 01:33:58 2004
From: joanpujol at gmail.com (Joan Pujol)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] gmane works? huh?
In-Reply-To: <EF4F1CAA-2A9F-11D9-89DD-000A95891192@cs.usfca.edu>
References: <EF4F1CAA-2A9F-11D9-89DD-000A95891192@cs.usfca.edu>
Message-ID: <d2d18a104103101333d4e18d2@mail.gmail.com>


Hi Ter,

It's possible that the problem was that your mail archive is bigger
than the mails that had been uploaded to gmane?
Because for me the search works pretty well. And I found it very nice,
because it don't display directly any mail address as text, instead of
that use encrypted mails and images. And also I like the threading
feature.

The about your question:
> Are you sure y'all want me to upload old mail archives into this thing?
For me yes. Gmane has a very good antispam solution. A lot better than
yahoo where you have   XXXX@h --> Then if i use XXXX@hotmail.com I
think that I have at least a 10% of success. That for spammers it's an
authentic paradise.
But if you are working in a better personal solution, I understand
that you don't like too much to rely in third parties.


And about lgcraymer mail, I think also that will be not very difficult
to solve it with antlr (but i don't know if with the same features
that offers gmane).
And it  will be more easily if you like ASF 2.0 license and use some
indexing library like Lucene. I have used it and it's very easy to
learn and very good. But I think that you already know that, there's a
lucene faq in Jguru ;)

Cheers,

On Sat, 30 Oct 2004 11:17:18 -0700, Terence Parr <parrt@cs.usfca.edu> wrote:
> 
> So, search seems broken on gmane as well.  My inbox shows plenty of
> matches for "stringtemplate newline", which is the article I was
> looking for.  Top one was the right article.  gmane shows two, both not
> what I want and won't link to the article.  I get "weft didn't produce
> an output." instead.
> 
> Are you sure y'all want me to upload old mail archives into this thing?
>  I have a student working on search for antlr.org; shall I just do the
> archive myself?  I'd rather work on antlr and such, but perhaps over
> xmas break I can fix up the site with the student.  ugh.
> 
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!


-- 
Joan Jes?s Pujol Espinar


 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From atripp at comcast.net  Sun Oct 31 08:07:34 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] Re: thoughts on source-to-source workshop at oopsla 2004
In-Reply-To: <789C009D-284A-11D9-8725-000A95891192@cs.usfca.edu>
Message-ID: <cm32k6+ger0@eGroups.com>



--- In antlr-interest@yahoogroups.com, Terence Parr <parrt@c...> wrote:
> 
> On Oct 27, 2004, at 11:23 AM, atripp54321 wrote:
> >> My approach uses AST to AST translation.
> >> Why did you refuse this approach? What was the main drawback
> >> of this approach?
> >
> > I just found AST to AST too cumbersome.
> > To oversimplify, I'd rather just write:
> > int main(int argc, char *argv[]) --> public static void main(String[]
> > args)
> >
> > Writing that line is far easier than figuring out what each of
> > those two ASTs look like and how to convert from one to the
> > other.
> 
> I'm working on a "blog" entry that describes this right this second.  
> Often concrete syntax level (rather than tree level) specs are easier.  
> My only question will be, for the general case, is it powerful enough 
> with a simple to understand "engine".

Yes. The whole key (which you alluded to) is that the more
complicated rules are just written in Java, so you are not
really limited by any artificial "translation language".
You write Java using a large library of token-stream
manipulation functions. I also have a few rules that manipulate
ASTs (mostly for expression processing).

> 
> > I also found that examples like the "main" one above
> > seemed to be about the
> > most complicated examples shown for AST translation languages
> > like TXL. When in fact, that "main" example is one of the
> > simplest rules, and I have many hundreds of rules, most more
> > complicated than that.
> 
> Sounds like you and I should talk on the phone sometime when i get more 
> time to think about a simple general rewrite system.  Where were you 
> during the workshop!? ;)

Not invited :( Probably just as well, as I'd have probably
been more vocal than even you about things. That's not good,
as I'm not a well-respected guru in this field like you are :)

> 
> > I found that I was just getting bogged down trying to keep ASTs
> > in my head. I felt it was much easier to write translation rules
> > in simple text as shown with the "-->" separator above. That way,
> > you never even have to think about ASTs much.
> 
> Do you do multiple passes or all translations in a single?  What kind 
> of "engine" did the replacing?

Multiple passes...several hundred passes in fact :)
The problem I have now is not in being able to write very
complex rules, it's keeping all those rules in an order
that works. For example, I fire the "make any functions
that are missing a return type return 'int'" rule before
the "change the 'int main()' C function to the equivalent
Java method" rule.

Here's a very high-level design description:
http://jazillian.com/design.html
And here's an English description of what many of my rules
are doing:
http://jazillian.com/how.html

I'll be writing a complete writeup of the design in a couple
of weeks, I'll post a link when it's ready.

Andy

> 
> Ter
> --
> CS Professor & Grad Director, University of San Francisco
> Creator, ANTLR Parser Generator, http://www.antlr.org
> Cofounder, http://www.jguru.com
> Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From atripp at comcast.net  Sun Oct 31 08:16:13 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] Re: thoughts on source-to-source workshop at oopsla 2004
In-Reply-To: <4180B515.6040302@yahoo.gr>
Message-ID: <cm334d+428k@eGroups.com>



--- In antlr-interest@yahoogroups.com, Anakreon <anakreonmejdi@y...>
wrote:
> > Visit http://storm.cs.unipi.gr for info on the project.
> Incomplete URL.
> see : http://storm.cs.unipi.gr/~anakreon/aspa.html.
> 
> I have one more question Andy.
> If you would implement a translator from C++->Java, do you think
> the TokesStream+snipset approach will suffice?
> How would you gather info about user defined classes, and translate
method
> calls from C++ objects?
> 
> Anakreon

I do think the TokenStream+snippet approach would suffice for C++
as well as C. If you look at all the stuff I'm doing for C to Java:
http://jazillian.com/how.html
...I don't think C++ would be an insurmountable next step.

Having said that, I do feel obligated to point out that
my approach really "doesn't suffice" even for C to Java.
There's no way that I can translate any arbitrary pointer
usage, for example. The best I can do is look for the common
patterns of usage of pointers, and translate to the Java
equivalent. But if someone uses memset() to set memory
location 12345 to value 12345, there is no Java equivalent.
(Or even the standard swap(&a, &b) method, for example).

Andy





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Sun Oct 31 09:14:43 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] gmane works? huh?
In-Reply-To: <d2d18a104103101333d4e18d2@mail.gmail.com>
References: <EF4F1CAA-2A9F-11D9-89DD-000A95891192@cs.usfca.edu> <d2d18a104103101333d4e18d2@mail.gmail.com>
Message-ID: <5B6B6974-2B60-11D9-89DD-000A95891192@cs.usfca.edu>



On Oct 31, 2004, at 1:33 AM, Joan Pujol wrote:

>
> Hi Ter,
>
> It's possible that the problem was that your mail archive is bigger
> than the mails that had been uploaded to gmane?
> Because for me the search works pretty well. And I found it very nice,

Yeah, it seems to work for everybody but me :(

The article I wanted was 1 month old. :)

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Sun Oct 31 09:19:59 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] Re: thoughts on source-to-source workshop at oopsla 2004
In-Reply-To: <cm32k6+ger0@eGroups.com>
References: <cm32k6+ger0@eGroups.com>
Message-ID: <17B99434-2B61-11D9-89DD-000A95891192@cs.usfca.edu>



On Oct 31, 2004, at 8:07 AM, atripp54321 wrote:
>>> I also found that examples like the "main" one above
>>> seemed to be about the
>>> most complicated examples shown for AST translation languages
>>> like TXL. When in fact, that "main" example is one of the
>>> simplest rules, and I have many hundreds of rules, most more
>>> complicated than that.
>>
>> Sounds like you and I should talk on the phone sometime when i get 
>> more
>> time to think about a simple general rewrite system.  Where were you
>> during the workshop!? ;)
>
> Not invited :( Probably just as well, as I'd have probably
> been more vocal than even you about things.

I'm pretty opinionated so I'm not sure ;)

>  That's not good,
> as I'm not a well-respected guru in this field like you are :)

Well, thanks, but in that crowd I'm not respected much probably.  They 
have to invite me because all their grad students use ANTLR (the 
"popular vote"), but the academics (the "electoral college") think my 
work is pure engineering. ;)

>>> I found that I was just getting bogged down trying to keep ASTs
>>> in my head. I felt it was much easier to write translation rules
>>> in simple text as shown with the "-->" separator above. That way,
>>> you never even have to think about ASTs much.
>>
>> Do you do multiple passes or all translations in a single?  What kind
>> of "engine" did the replacing?
>
> Multiple passes...several hundred passes in fact :)

Wow!

> The problem I have now is not in being able to write very
> complex rules, it's keeping all those rules in an order
> that works. For example, I fire the "make any functions
> that are missing a return type return 'int'" rule before
> the "change the 'int main()' C function to the equivalent
> Java method" rule.

Ah, yeah, sounds like order would be really important.

> Here's a very high-level design description:
> http://jazillian.com/design.html
> And here's an English description of what many of my rules
> are doing:
> http://jazillian.com/how.html
>
> I'll be writing a complete writeup of the design in a couple
> of weeks, I'll post a link when it's ready.

Sounds great.

I have to nail the lexing, parsing component of ANTLR 3.0 before 
proceeding to the extra goodies.  The code generator must also be 
cleaned up etc...

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From parrt at cs.usfca.edu  Sun Oct 31 15:08:20 2004
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] DFA bytecode generation successfully stitched into ANTLR 3.0
Message-ID: <C1EA0FAE-2B91-11D9-89DD-000A95891192@cs.usfca.edu>


Howdy,

Just a small squeal of delight as I ran the following simple grammar:

lexer grammar T;

A : ('a')* 'b' {System.out.println("alt 1");}
   | ('a')* 'c' {System.out.println("alt 2");}
   ;

into the 3.0 prototype. Note the arbitrary left common prefix that 
would piss of 2.0 to no end.  It generated a DFA.class file for the 
cyclic DFA used to predict which alt of rule A will succeed.  To test 
it out, you just have to call nextToken on the generated lexer:

public class Test {
         public static void main(String[] args) {
                 T lexer = new T(new ANTLRStringStream(args[0]));
                 lexer.nextToken();
         }
}

It correctly executes the grammar actions for input such as 'aaaaab' 
and 'aac' :)

The generated lexer invokes the DFA like this:

     public void mA()
         {
             setType(A);
             int alt3=0;

             alt3 = DFA.DFA3(input); // go do DFA for decision 3
             switch (alt3) {
                 case 1 : // means alt 1 will succeed
                 ...
                 case 2 :
                 ...
             }
         }

The DFA.class file is 600 bytes including the constant pool etc... 
There are 146 bytes of DFA bytecodes.

Naturally, this is only the first one that I tried; I'm sure there are 
problems.  I know it's not doing EOF yet properly, for example.

Anyway, nice little detour into bytecode generation, but it sure looks 
like decent solution--only way to get Java doing DFAs well as far as I 
can tell.

Ter
--
CS Professor & Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, http://www.antlr.org
Cofounder, http://www.jguru.com
Cofounder, http://www.knowspam.net enjoy email again!





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From pauljlucas at mac.com  Sun Oct 31 15:33:36 2004
From: pauljlucas at mac.com (Paul J. Lucas)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] More on TokenWithIndex
In-Reply-To: <1E73538A-2847-11D9-8725-000A95891192@cs.usfca.edu>
Message-ID: <Pine.LNX.4.44.0410311509080.17547-100000@g4.pauljlucas.org>


	I've been playing with this stuff for several days now and have
	something that works well.

	I modified Terence's ASTMinMax class and added a Visitor
	interface.

	To solve the left-factored problem, I do:

		declareThing
		    : d:DECLARE! { markTokenIndex( d ); }
		      ( functionDecl
		      | varDecl
		      | // ...
		      )
		    ;

	where markTokenIndex() simply sets a parser class variable that
	can be obtained later; then:

		varDecl
		    : v:VARIABLE^ varRefTypeDecl ASSIGN! expr semi:SEMICOLON!
		    	{
			    #v.setType( VAR_DECL );
			    #v.setText( "VAR_DECL" );
			    setMinMaxIndex( #v, semi );
			}
		    ;

	where the two-argument form of setMinMaxIndex() sets the min/max
	indicies of #v to the previously-marked token and the semicolon.
	There are many overloaded variations of setMinMaxIndex(): some
	taken tokens as arguments, some take AST nodes, and combinations
	of both.

	Most rules don't need any call to setMinMaxIndex() at all.  The
	only ones that do are for left-factored rules as shown and also
	for those where the max index is a non-included terminal, e.g.,:

		parenthesizedExpr
		    : lp:LPAREN! expr rp:RPAREN!
		    	{
			    setMinMaxIndex( ##, lp, rp );
			}
		    ;
	or:
		functionCall
		    : f:FUNCTION_NAME LPAREN! (exprList)? rp:RPAREN!
		    	{
		            #f.setType( FUNCTION_CALL );
		            #f.setText( "FUNCTION_CALL" );
		            setMinMaxIndex( #f, f, rp );
			}
		    ;

	Note that "#f" refers to the AST node and 'f' refers to the
	token.

	To set all the min/max indicies for the entire tree once it's
	completely built, I have a visitor that post-order traverses
	it.  As part of the initialize() method on my derived AST
	class, I do:

		m_maxTokenIndex = 0;
		m_minTokenIndex = Integer.MAX_VALUE;

	then the visitor does:

	        public void visit( XQueryAST node, int visitType, int depth ) {
	            if ( visitType == PREVISIT )
	                return;
	
	            int mostMin = node.getMinIndex(),
	                mostMax = node.getMaxIndex();
	            for ( XQueryAST child = (XQueryAST)node.getFirstChild();
	                  child != null;
	                  child = (XQueryAST)child.getNextSibling()
	            ) {
	                final int min = child.getMinIndex();
	                final int max = child.getMaxIndex();
	                if ( min < mostMin )
	                    mostMin = min;
	                if ( max > mostMax )
	                    mostMax = max;
	            }
	            node.setMinMaxIndex( mostMin, mostMax );
	        }

	Hence, the token index information propagates bottup-up from
	the terminals to the root of the AST.

	By doing the setting of min/max once during a single-pass
	traversal, I can avoid the inefficient way it was done in
	TrackerASTFactory.

	- Paul



 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



From atripp at comcast.net  Sun Oct 31 19:10:32 2004
From: atripp at comcast.net (atripp54321)
Date: Mon Dec 20 16:17:27 2004
Subject: [antlr-interest] Re: Comparing ASTs of the two Java1.5 grammars
In-Reply-To: <cljjvp+5nqg@eGroups.com>
Message-ID: <cm49f8+vah8@eGroups.com>



Gack! 

Yahoo took away the indentation on my AST trees.
If you're reading the parent post at groups.yahoo.com
and you don't see indentation, just click "reply"
and you'll see the proper indentation.

Andy





 
Yahoo! Groups Links

<*> To visit your group on the web, go to:
    http://groups.yahoo.com/group/antlr-interest/

<*> To unsubscribe from this group, send an email to:
    antlr-interest-unsubscribe@yahoogroups.com

<*> Your use of Yahoo! Groups is subject to:
    http://docs.yahoo.com/info/terms/
 



