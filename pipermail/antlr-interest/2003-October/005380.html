<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: identifier with space
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20identifier%20with%20space&In-Reply-To=bnph7k%2B3rvj%40eGroups.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005373.html">
   <LINK REL="Next"  HREF="005381.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: identifier with space</H1>
    <B>Thomas Brandon</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20identifier%20with%20space&In-Reply-To=bnph7k%2B3rvj%40eGroups.com"
       TITLE="[antlr-interest] Re: identifier with space">tom at psy.unsw.edu.au
       </A><BR>
    <I>Thu Oct 30 16:01:05 PST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005373.html">[antlr-interest] Re: identifier with space
</A></li>
        <LI>Next message: <A HREF="005381.html">[antlr-interest] Re: identifier with space
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5380">[ date ]</a>
              <a href="thread.html#5380">[ thread ]</a>
              <a href="subject.html#5380">[ subject ]</a>
              <a href="author.html#5380">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>As Loring suggests, a hidden token stream would probably do the 
trick. Or, to avoid attaching the hidden tokens (and having to use 
that token class, and use the AST class or process the hidden tokens 
in between lex and parse so the hidden tokens can be dropped), you 
could keep the whitespace in the lexer, then use a token stream 
filter in between lex and parse that rolled together IDENT WS+ 
combinations and stripped WS not following an IDENT.

Or, could you perhaps recognise the spaces as part of the 
identifiers. Have something like (assuming for the example that 
idents are only lowercase letters):
IDENT_WITH_SPACES
    :
        ('a'..'z')+ 
        {
            $setType(testLiterals($getText, IDENT_WITH_SPACES));
        }
        (
            {
                 $getType == IDENT_WITH_SPACES // Don't do it if it's 
a keyword
            }?
            (WS)+
        )?
    ;

That's just off the top of my head, probably neglecting something. 
And that code is almost certainly wrong (especially the test literals 
part) but should give the idea. Allow whitespace on non-literal 
idents. Probably need to make the WS+ greedy to avoid ambiguity, 
though from memory Antlr should match early and work anyway.

Tom. 

--- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>, &quot;lgcraymer&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">lgc at m...</A>&gt; wrote:
&gt;<i> Lloyd--
</I>&gt;<i> 
</I>&gt;<i> Check out the &quot;Token Streams&quot; part of the ANTLR manual.  I think 
</I>that 
&gt;<i> you can capture the whitespace as hidden tokens and then access 
</I>that 
&gt;<i> for reconstructing the input.  I've not had occasion to use this 
</I>&gt;<i> feature, but it was put in for just this purpose.
</I>&gt;<i> 
</I>&gt;<i> --Loring
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> --- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>, &quot;lloyd_from_far&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">ld at g...</A>&gt; 
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; Hi Loring,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I do want to separate &quot;A Field&quot; (1 space) from &quot;A  Field&quot; (2 
</I>spaces)
&gt;<i> &gt; it's not my fault if I have to write a ADO.NET driver to a stupid 
</I>&amp; 
&gt;<i> &gt; so-called &quot;database&quot;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; anyway managing 1 space (and only one) is certainly better than 
</I>no 
&gt;<i> &gt; space at all !!
</I>&gt;<i> &gt; obviously I hit here a limitation of ANTLR, I guess I have to do 
</I>as 
&gt;<i> &gt; you suggested, would be better than nothing.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; thanks for the feeback ;-)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; --- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>, &quot;lgcraymer&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">lgc at m...</A>&gt; 
</I>wrote:
&gt;<i> &gt; &gt; --- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>, &quot;lloyd_from_far&quot; 
</I>&lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">ld at g...</A>&gt; 
&gt;<i> &gt; &gt; wrote:
</I>&gt;<i> &gt; &gt; &gt; sorry, my example was bad.
</I>&gt;<i> &gt; &gt; &gt; let parse this:
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; SELECT A Field With Name FROM ATable
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Lloyd--
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; You're trying to do too much in the lexer--spaces are 
</I>significant 
&gt;<i> &gt; for 
</I>&gt;<i> &gt; &gt; separating tokens in your example.  If you really want &quot;A Field 
</I>&gt;<i> &gt; With 
</I>&gt;<i> &gt; &gt; Name&quot; as a single AST node, you are probably better off 
</I>&gt;<i> &gt; reconstructing 
</I>&gt;<i> &gt; &gt; it:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; select
</I>&gt;<i> &gt; &gt;     :
</I>&gt;<i> &gt; &gt;     &quot;SELECT&quot; text &quot;FROM&quot; text
</I>&gt;<i> &gt; &gt;     ;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; text
</I>&gt;<i> &gt; &gt; { String foo }
</I>&gt;<i> &gt; &gt;     :
</I>&gt;<i> &gt; &gt;     a:IDENTIFIER { foo = $a.getText(); }
</I>&gt;<i> &gt; &gt;     { b:IDENTIFIER! { foo += &quot; &quot; + $b.getText(); } )*
</I>&gt;<i> &gt; &gt;     { $a.setText(foo); }
</I>&gt;<i> &gt; &gt;     ;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; That also has the advantage of converting text to a canonical 
</I>form 
&gt;<i> &gt; &gt; with single spaces--you really don't want &quot;A    field&quot; to be 
</I>&gt;<i> &gt; different 
</I>&gt;<i> &gt; &gt; than &quot;A field&quot;, do you?
</I>&gt;<i> &gt; &gt;     
</I>&gt;<i> &gt; &gt; --Loring
</I>

 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005373.html">[antlr-interest] Re: identifier with space
</A></li>
	<LI>Next message: <A HREF="005381.html">[antlr-interest] Re: identifier with space
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5380">[ date ]</a>
              <a href="thread.html#5380">[ thread ]</a>
              <a href="subject.html#5380">[ subject ]</a>
              <a href="author.html#5380">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
