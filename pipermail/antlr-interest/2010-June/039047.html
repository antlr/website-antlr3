<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] MySQL's YACC grammar to ANTLR: could not even do	k=1 for decision
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20MySQL%27s%20YACC%20grammar%20to%20ANTLR%3A%20could%20not%20even%20do%0A%09k%3D1%20for%20decision&In-Reply-To=%3C21C3E073B82EFE4F8A76536D9066FE560427BBCB%40USINVMAILB01.ingres.prv%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039051.html">
   <LINK REL="Next"  HREF="039048.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] MySQL's YACC grammar to ANTLR: could not even do	k=1 for decision</H1>
    <B>David Maier</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20MySQL%27s%20YACC%20grammar%20to%20ANTLR%3A%20could%20not%20even%20do%0A%09k%3D1%20for%20decision&In-Reply-To=%3C21C3E073B82EFE4F8A76536D9066FE560427BBCB%40USINVMAILB01.ingres.prv%3E"
       TITLE="[antlr-interest] MySQL's YACC grammar to ANTLR: could not even do	k=1 for decision">David.Maier at ingres.com
       </A><BR>
    <I>Wed Jun 30 04:20:11 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="039051.html">[antlr-interest] tokenVocab-limit of 127?
</A></li>
        <LI>Next message: <A HREF="039048.html">[antlr-interest] MySQL's YACC grammar to ANTLR: could not even do k=1 for decision
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39047">[ date ]</a>
              <a href="thread.html#39047">[ thread ]</a>
              <a href="subject.html#39047">[ subject ]</a>
              <a href="author.html#39047">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,


I am currently migrating the MySQL grammar from YACC to ANTLR. I am now hitting the problem to get a lot of error messages like:

&quot; internal error: org.antlr.tool.Grammar.createLookaheadDFA(Grammar.java:1279): could not even do k=1 for decision &lt;n&gt;&quot;

So I tried the following workarounds:

* Increased the timeout during the generation of the Parser's Java code: This did not solve the problem and ended up in out of memory errors
* Did set k=1, which helps to avoid the error message but introduces limitations regarding the look ahead and so causes new problems

So I think the right solution will be to remove ambiguous rules. I already began to remove 'Epsilon' rules and I can imagine that there are other ambiguous rules in the grammar as well. The problem I have is to find them easily. So the error message above contains the decision number &lt;n&gt;. Is it easily possible to find the rule in my grammar's source code which is related to this decision number &lt;n&gt;? How to do that.

Another idea would be to implement an algorithm which starts at a single token definition and creates a tree by substituting the rules back. The idea is that a rule is ambiguous if it is part of 2 different paths in this tree. So for instance:

rule1: rule2 | rule3;
rule2: TOKEN1;
rule3: rule4 | rule5;  
rule4: TOKEN1;
rule5: TOKEN2;

would result in the following tree for TOKEN1:

TOKEN1 -&gt; rule2 -&gt; rule1;
       -&gt; rul4 -&gt; rule3 -&gt; rule1;

I am wondering if there is already such a tool available to find ambiguous rules, is there?

BTW: Future information can be found here: <A HREF="http://community.ingres.com/wiki/Ingres_Migration_Tool_Set_Idiom_MySQL">http://community.ingres.com/wiki/Ingres_Migration_Tool_Set_Idiom_MySQL</A>

Advise would be highly appreciated! Thanks in advance for your help!


Regards, David


--
David Maier
Senior Software Engineer

Ingres Germany GmbH
Weimarer Stra&#223;e 1a
D-98693 Ilmenau

PHONE:  +49.3677.6785-59
FAX:    +49.3677.6785-23
MAIL:   <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">david.maier at ingres.com</A>

This transmission is confidential and intended solely for the use of the recipient named above. It may contain confidential, proprietary, or legally privileged information. If you are not the intended recipient, you are hereby notified that any unauthorized review, use, disclosure or distribution is strictly prohibited. If you have received this transmission in error, please contact the sender by reply e-mail and delete the original transmission and all copies from your system.

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039051.html">[antlr-interest] tokenVocab-limit of 127?
</A></li>
	<LI>Next message: <A HREF="039048.html">[antlr-interest] MySQL's YACC grammar to ANTLR: could not even do k=1 for decision
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39047">[ date ]</a>
              <a href="thread.html#39047">[ thread ]</a>
              <a href="subject.html#39047">[ subject ]</a>
              <a href="author.html#39047">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
