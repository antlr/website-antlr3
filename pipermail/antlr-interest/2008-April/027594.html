<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Every grammar an output grammar
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Every%20grammar%20an%20output%20grammar&In-Reply-To=%3C200804022333.m32NXkDk022414%40tach.newtechlaw.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027593.html">
   <LINK REL="Next"  HREF="027596.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Every grammar an output grammar</H1>
    <B>Gerald Rosenberg</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Every%20grammar%20an%20output%20grammar&In-Reply-To=%3C200804022333.m32NXkDk022414%40tach.newtechlaw.com%3E"
       TITLE="[antlr-interest] Every grammar an output grammar">gerald at certiv.net
       </A><BR>
    <I>Wed Apr  2 16:31:51 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027593.html">[antlr-interest] Every grammar an output grammar
</A></li>
        <LI>Next message: <A HREF="027596.html">[antlr-interest] Every grammar an output grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27594">[ date ]</a>
              <a href="thread.html#27594">[ thread ]</a>
              <a href="subject.html#27594">[ subject ]</a>
              <a href="author.html#27594">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Nice!  Couple of possible issues, though:

First, the proposed annotation syntax appears to conflict (at least 
in syntax presentation) with the heterogeneous AST production 
syntax.  Even though the example shown only uses lhs annotation, 
annotations in the rewrite production would likely be as or more 
useful.  On the rhs, the conflict with heteroAST would be direct.

Second, any chance to not further overload the &quot;&lt;&quot; and &quot;&gt;&quot; 
symbols?  I realize there is a certain parallel to the template 
definition syntax, but these are really grammar-based selectors and 
values, so bringing in template definition syntax just feels a bit 
odd.  Perhaps a simplified anchor/parameter syntax?

rule#ruleref : (DOC_COMMENT)? (RULE_REF#name | TOKEN_REF#name) ;

sends &quot;name&quot; values to &quot;ruleref&quot; template, skipping any output for 
DOC_COMMENT -- leaving no attribute produced by default might be more 
desirable if only go keep the grammar as lean and literate as possible.

or

rule#ruleref : (DOC_COMMENT)? (ref=RULE_REF | ref=TOKEN_REF)  -&gt; 
^(RULE&lt;RuleNode&gt; $ref#name ^(SRC&lt;SourceNode&gt; $rule#content)) ;

My $0.02 ...

Best,
Gerald

At 02:50 PM 4/2/2008, Loring Craymer wrote:
&gt;<i>One of the problems that we hoped that ANTLR 3 would solve was that 
</I>&gt;<i>of text output--generating text from ANTLR 2 was an unpleasant 
</I>&gt;<i>experience.  StringTemplate helps considerably, and one of the 
</I>&gt;<i>inchoate ideas that Ter was grappling with at the ANTLR 3 cabal was 
</I>&gt;<i>that of an &quot;output grammar&quot; that would provide a mapping between an 
</I>&gt;<i>ANTLR grammar and a template group.  This idea never quite gelled; 
</I>&gt;<i>the ANTLR 3 &quot;template&quot; output options was a first attempt to go in 
</I>&gt;<i>this direction.
</I>&gt;<i>
</I>&gt;<i>Last week's &quot;template generation&quot; discussion came just as I was 
</I>&gt;<i>finishing a pretty printer for Yggdrasil and started me thinking 
</I>&gt;<i>about the problem again.  I finally came up an approach that seems 
</I>&gt;<i>to provide a solution and have implemented that in Yggdrasil.  After 
</I>&gt;<i>trying other syntaxes, I ended up with an annotation that &quot;mirrors&quot; 
</I>&gt;<i>the template syntax:  a &lt;foo&gt; suffix assigns a token's text to a 
</I>&gt;<i>&quot;foo&quot; attribute, while &lt;&lt;bar&gt;&gt; references a bar template (fills a 
</I>&gt;<i>slot that holds slots; i. e:  a template).  This approach could 
</I>&gt;<i>easily be incorporated into the baseline ANTLR 3; the whole idea of 
</I>&gt;<i>output grammars seems to be a big step forward.
</I>
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027593.html">[antlr-interest] Every grammar an output grammar
</A></li>
	<LI>Next message: <A HREF="027596.html">[antlr-interest] Every grammar an output grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27594">[ date ]</a>
              <a href="thread.html#27594">[ thread ]</a>
              <a href="subject.html#27594">[ subject ]</a>
              <a href="author.html#27594">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
